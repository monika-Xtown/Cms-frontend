var zD=Object.defineProperty;var UD=(e,t,r)=>t in e?zD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var X2=(e,t,r)=>UD(e,typeof t!="symbol"?t+"":t,r);function B_(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var K2={exports:{}},j0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pN;function qD(){if(pN)return j0;pN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var c=null;if(i!==void 0&&(c=""+i),a.key!==void 0&&(c=""+a.key),"key"in a){i={};for(var f in a)f!=="key"&&(i[f]=a[f])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:c,ref:a!==void 0?a:null,props:i}}return j0.Fragment=t,j0.jsx=r,j0.jsxs=r,j0}var mN;function HD(){return mN||(mN=1,K2.exports=qD()),K2.exports}var u=HD(),Z2={exports:{}},Gr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gN;function VD(){if(gN)return Gr;gN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function N(le){return le===null||typeof le!="object"?null:(le=S&&le[S]||le["@@iterator"],typeof le=="function"?le:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,T={};function D(le,U,H){this.props=le,this.context=U,this.refs=T,this.updater=H||j}D.prototype.isReactComponent={},D.prototype.setState=function(le,U){if(typeof le!="object"&&typeof le!="function"&&le!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,le,U,"setState")},D.prototype.forceUpdate=function(le){this.updater.enqueueForceUpdate(this,le,"forceUpdate")};function R(){}R.prototype=D.prototype;function z(le,U,H){this.props=le,this.context=U,this.refs=T,this.updater=H||j}var G=z.prototype=new R;G.constructor=z,_(G,D.prototype),G.isPureReactComponent=!0;var $=Array.isArray;function X(){}var V={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function W(le,U,H){var ae=H.ref;return{$$typeof:e,type:le,key:U,ref:ae!==void 0?ae:null,props:H}}function Ne(le,U){return W(le.type,U,le.props)}function Z(le){return typeof le=="object"&&le!==null&&le.$$typeof===e}function Q(le){var U={"=":"=0",":":"=2"};return"$"+le.replace(/[=:]/g,function(H){return U[H]})}var ye=/\/+/g;function ie(le,U){return typeof le=="object"&&le!==null&&le.key!=null?Q(""+le.key):U.toString(36)}function q(le){switch(le.status){case"fulfilled":return le.value;case"rejected":throw le.reason;default:switch(typeof le.status=="string"?le.then(X,X):(le.status="pending",le.then(function(U){le.status==="pending"&&(le.status="fulfilled",le.value=U)},function(U){le.status==="pending"&&(le.status="rejected",le.reason=U)})),le.status){case"fulfilled":return le.value;case"rejected":throw le.reason}}throw le}function te(le,U,H,ae,ge){var ve=typeof le;(ve==="undefined"||ve==="boolean")&&(le=null);var de=!1;if(le===null)de=!0;else switch(ve){case"bigint":case"string":case"number":de=!0;break;case"object":switch(le.$$typeof){case e:case t:de=!0;break;case x:return de=le._init,te(de(le._payload),U,H,ae,ge)}}if(de)return ge=ge(le),de=ae===""?"."+ie(le,0):ae,$(ge)?(H="",de!=null&&(H=de.replace(ye,"$&/")+"/"),te(ge,U,H,"",function(xe){return xe})):ge!=null&&(Z(ge)&&(ge=Ne(ge,H+(ge.key==null||le&&le.key===ge.key?"":(""+ge.key).replace(ye,"$&/")+"/")+de)),U.push(ge)),1;de=0;var ke=ae===""?".":ae+":";if($(le))for(var me=0;me<le.length;me++)ae=le[me],ve=ke+ie(ae,me),de+=te(ae,U,H,ve,ge);else if(me=N(le),typeof me=="function")for(le=me.call(le),me=0;!(ae=le.next()).done;)ae=ae.value,ve=ke+ie(ae,me++),de+=te(ae,U,H,ve,ge);else if(ve==="object"){if(typeof le.then=="function")return te(q(le),U,H,ae,ge);throw U=String(le),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(le).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return de}function se(le,U,H){if(le==null)return le;var ae=[],ge=0;return te(le,ae,"","",function(ve){return U.call(H,ve,ge++)}),ae}function ue(le){if(le._status===-1){var U=le._result;U=U(),U.then(function(H){(le._status===0||le._status===-1)&&(le._status=1,le._result=H)},function(H){(le._status===0||le._status===-1)&&(le._status=2,le._result=H)}),le._status===-1&&(le._status=0,le._result=U)}if(le._status===1)return le._result.default;throw le._result}var ee=typeof reportError=="function"?reportError:function(le){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof le=="object"&&le!==null&&typeof le.message=="string"?String(le.message):String(le),error:le});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",le);return}console.error(le)},Se={map:se,forEach:function(le,U,H){se(le,function(){U.apply(this,arguments)},H)},count:function(le){var U=0;return se(le,function(){U++}),U},toArray:function(le){return se(le,function(U){return U})||[]},only:function(le){if(!Z(le))throw Error("React.Children.only expected to receive a single React element child.");return le}};return Gr.Activity=y,Gr.Children=Se,Gr.Component=D,Gr.Fragment=r,Gr.Profiler=a,Gr.PureComponent=z,Gr.StrictMode=n,Gr.Suspense=m,Gr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Gr.__COMPILER_RUNTIME={__proto__:null,c:function(le){return V.H.useMemoCache(le)}},Gr.cache=function(le){return function(){return le.apply(null,arguments)}},Gr.cacheSignal=function(){return null},Gr.cloneElement=function(le,U,H){if(le==null)throw Error("The argument must be a React element, but you passed "+le+".");var ae=_({},le.props),ge=le.key;if(U!=null)for(ve in U.key!==void 0&&(ge=""+U.key),U)!Y.call(U,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&U.ref===void 0||(ae[ve]=U[ve]);var ve=arguments.length-2;if(ve===1)ae.children=H;else if(1<ve){for(var de=Array(ve),ke=0;ke<ve;ke++)de[ke]=arguments[ke+2];ae.children=de}return W(le.type,ge,ae)},Gr.createContext=function(le){return le={$$typeof:c,_currentValue:le,_currentValue2:le,_threadCount:0,Provider:null,Consumer:null},le.Provider=le,le.Consumer={$$typeof:i,_context:le},le},Gr.createElement=function(le,U,H){var ae,ge={},ve=null;if(U!=null)for(ae in U.key!==void 0&&(ve=""+U.key),U)Y.call(U,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ge[ae]=U[ae]);var de=arguments.length-2;if(de===1)ge.children=H;else if(1<de){for(var ke=Array(de),me=0;me<de;me++)ke[me]=arguments[me+2];ge.children=ke}if(le&&le.defaultProps)for(ae in de=le.defaultProps,de)ge[ae]===void 0&&(ge[ae]=de[ae]);return W(le,ve,ge)},Gr.createRef=function(){return{current:null}},Gr.forwardRef=function(le){return{$$typeof:f,render:le}},Gr.isValidElement=Z,Gr.lazy=function(le){return{$$typeof:x,_payload:{_status:-1,_result:le},_init:ue}},Gr.memo=function(le,U){return{$$typeof:p,type:le,compare:U===void 0?null:U}},Gr.startTransition=function(le){var U=V.T,H={};V.T=H;try{var ae=le(),ge=V.S;ge!==null&&ge(H,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(X,ee)}catch(ve){ee(ve)}finally{U!==null&&H.types!==null&&(U.types=H.types),V.T=U}},Gr.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Gr.use=function(le){return V.H.use(le)},Gr.useActionState=function(le,U,H){return V.H.useActionState(le,U,H)},Gr.useCallback=function(le,U){return V.H.useCallback(le,U)},Gr.useContext=function(le){return V.H.useContext(le)},Gr.useDebugValue=function(){},Gr.useDeferredValue=function(le,U){return V.H.useDeferredValue(le,U)},Gr.useEffect=function(le,U){return V.H.useEffect(le,U)},Gr.useEffectEvent=function(le){return V.H.useEffectEvent(le)},Gr.useId=function(){return V.H.useId()},Gr.useImperativeHandle=function(le,U,H){return V.H.useImperativeHandle(le,U,H)},Gr.useInsertionEffect=function(le,U){return V.H.useInsertionEffect(le,U)},Gr.useLayoutEffect=function(le,U){return V.H.useLayoutEffect(le,U)},Gr.useMemo=function(le,U){return V.H.useMemo(le,U)},Gr.useOptimistic=function(le,U){return V.H.useOptimistic(le,U)},Gr.useReducer=function(le,U,H){return V.H.useReducer(le,U,H)},Gr.useRef=function(le){return V.H.useRef(le)},Gr.useState=function(le){return V.H.useState(le)},Gr.useSyncExternalStore=function(le,U,H){return V.H.useSyncExternalStore(le,U,H)},Gr.useTransition=function(){return V.H.useTransition()},Gr.version="19.2.0",Gr}var xN;function Nf(){return xN||(xN=1,Z2.exports=VD()),Z2.exports}var I=Nf();const gd=Mc(I),F_=B_({__proto__:null,default:gd},[I]);var Q2={exports:{}},O0={},J2={exports:{}},ev={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN;function WD(){return vN||(vN=1,function(e){function t(te,se){var ue=te.length;te.push(se);e:for(;0<ue;){var ee=ue-1>>>1,Se=te[ee];if(0<a(Se,se))te[ee]=se,te[ue]=Se,ue=ee;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var se=te[0],ue=te.pop();if(ue!==se){te[0]=ue;e:for(var ee=0,Se=te.length,le=Se>>>1;ee<le;){var U=2*(ee+1)-1,H=te[U],ae=U+1,ge=te[ae];if(0>a(H,ue))ae<Se&&0>a(ge,H)?(te[ee]=ge,te[ae]=ue,ee=ae):(te[ee]=H,te[U]=ue,ee=U);else if(ae<Se&&0>a(ge,ue))te[ee]=ge,te[ae]=ue,ee=ae;else break e}}return se}function a(te,se){var ue=te.sortIndex-se.sortIndex;return ue!==0?ue:te.id-se.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var m=[],p=[],x=1,y=null,S=3,N=!1,j=!1,_=!1,T=!1,D=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function G(te){for(var se=r(p);se!==null;){if(se.callback===null)n(p);else if(se.startTime<=te)n(p),se.sortIndex=se.expirationTime,t(m,se);else break;se=r(p)}}function $(te){if(_=!1,G(te),!j)if(r(m)!==null)j=!0,X||(X=!0,Q());else{var se=r(p);se!==null&&q($,se.startTime-te)}}var X=!1,V=-1,Y=5,W=-1;function Ne(){return T?!0:!(e.unstable_now()-W<Y)}function Z(){if(T=!1,X){var te=e.unstable_now();W=te;var se=!0;try{e:{j=!1,_&&(_=!1,R(V),V=-1),N=!0;var ue=S;try{t:{for(G(te),y=r(m);y!==null&&!(y.expirationTime>te&&Ne());){var ee=y.callback;if(typeof ee=="function"){y.callback=null,S=y.priorityLevel;var Se=ee(y.expirationTime<=te);if(te=e.unstable_now(),typeof Se=="function"){y.callback=Se,G(te),se=!0;break t}y===r(m)&&n(m),G(te)}else n(m);y=r(m)}if(y!==null)se=!0;else{var le=r(p);le!==null&&q($,le.startTime-te),se=!1}}break e}finally{y=null,S=ue,N=!1}se=void 0}}finally{se?Q():X=!1}}}var Q;if(typeof z=="function")Q=function(){z(Z)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,ie=ye.port2;ye.port1.onmessage=Z,Q=function(){ie.postMessage(null)}}else Q=function(){D(Z,0)};function q(te,se){V=D(function(){te(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(te){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var ue=S;S=se;try{return te()}finally{S=ue}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(te,se){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ue=S;S=te;try{return se()}finally{S=ue}},e.unstable_scheduleCallback=function(te,se,ue){var ee=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ee+ue:ee):ue=ee,te){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ue+Se,te={id:x++,callback:se,priorityLevel:te,startTime:ue,expirationTime:Se,sortIndex:-1},ue>ee?(te.sortIndex=ue,t(p,te),r(m)===null&&te===r(p)&&(_?(R(V),V=-1):_=!0,q($,ue-ee))):(te.sortIndex=Se,t(m,te),j||N||(j=!0,X||(X=!0,Q()))),te},e.unstable_shouldYield=Ne,e.unstable_wrapCallback=function(te){var se=S;return function(){var ue=S;S=se;try{return te.apply(this,arguments)}finally{S=ue}}}}(ev)),ev}var yN;function GD(){return yN||(yN=1,J2.exports=WD()),J2.exports}var tv={exports:{}},Ds={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN;function YD(){if(bN)return Ds;bN=1;var e=Nf();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(m,p,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:m,containerInfo:p,implementation:x}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ds.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ds.createPortal=function(m,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return i(m,p,null,x)},Ds.flushSync=function(m){var p=c.T,x=n.p;try{if(c.T=null,n.p=2,m)return m()}finally{c.T=p,n.p=x,n.d.f()}},Ds.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(m,p))},Ds.prefetchDNS=function(m){typeof m=="string"&&n.d.D(m)},Ds.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var x=p.as,y=f(x,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?n.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:N}):x==="script"&&n.d.X(m,{crossOrigin:y,integrity:S,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ds.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=f(p.as,p.crossOrigin);n.d.M(m,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(m)},Ds.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,y=f(x,p.crossOrigin);n.d.L(m,x,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ds.preloadModule=function(m,p){if(typeof m=="string")if(p){var x=f(p.as,p.crossOrigin);n.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(m)},Ds.requestFormReset=function(m){n.d.r(m)},Ds.unstable_batchedUpdates=function(m,p){return m(p)},Ds.useFormState=function(m,p,x){return c.H.useFormState(m,p,x)},Ds.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ds.version="19.2.0",Ds}var wN;function z_(){if(wN)return tv.exports;wN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tv.exports=YD(),tv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AN;function $D(){if(AN)return O0;AN=1;var e=GD(),t=Nf(),r=z_();function n(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)l+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function i(s){var l=s,g=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,l.flags&4098&&(g=l.return),s=l.return;while(s)}return l.tag===3?g:null}function c(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function f(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function m(s){if(i(s)!==s)throw Error(n(188))}function p(s){var l=s.alternate;if(!l){if(l=i(s),l===null)throw Error(n(188));return l!==s?null:s}for(var g=s,w=l;;){var O=g.return;if(O===null)break;var L=O.alternate;if(L===null){if(w=O.return,w!==null){g=w;continue}break}if(O.child===L.child){for(L=O.child;L;){if(L===g)return m(O),s;if(L===w)return m(O),l;L=L.sibling}throw Error(n(188))}if(g.return!==w.return)g=O,w=L;else{for(var re=!1,Ce=O.child;Ce;){if(Ce===g){re=!0,g=O,w=L;break}if(Ce===w){re=!0,w=O,g=L;break}Ce=Ce.sibling}if(!re){for(Ce=L.child;Ce;){if(Ce===g){re=!0,g=L,w=O;break}if(Ce===w){re=!0,w=L,g=O;break}Ce=Ce.sibling}if(!re)throw Error(n(189))}}if(g.alternate!==w)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?s:l}function x(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=x(s),l!==null)return l;s=s.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),z=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function Q(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var ye=Symbol.for("react.client.reference");function ie(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ye?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case D:return"Profiler";case T:return"StrictMode";case $:return"Suspense";case X:return"SuspenseList";case W:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case j:return"Portal";case z:return s.displayName||"Context";case R:return(s._context.displayName||"Context")+".Consumer";case G:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case V:return l=s.displayName||null,l!==null?l:ie(s.type)||"Memo";case Y:l=s._payload,s=s._init;try{return ie(s(l))}catch{}}return null}var q=Array.isArray,te=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ee=[],Se=-1;function le(s){return{current:s}}function U(s){0>Se||(s.current=ee[Se],ee[Se]=null,Se--)}function H(s,l){Se++,ee[Se]=s.current,s.current=l}var ae=le(null),ge=le(null),ve=le(null),de=le(null);function ke(s,l){switch(H(ve,l),H(ge,s),H(ae,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?RA(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=RA(l),s=BA(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}U(ae),H(ae,s)}function me(){U(ae),U(ge),U(ve)}function xe(s){s.memoizedState!==null&&H(de,s);var l=ae.current,g=BA(l,s.type);l!==g&&(H(ge,s),H(ae,g))}function Oe(s){ge.current===s&&(U(ae),U(ge)),de.current===s&&(U(de),S0._currentValue=ue)}var oe,Le;function Ge(s){if(oe===void 0)try{throw Error()}catch(g){var l=g.stack.trim().match(/\n( *(at )?)/);oe=l&&l[1]||"",Le=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+s+Le}var Pe=!1;function ne(s,l){if(!s||Pe)return"";Pe=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(l){var kt=function(){throw Error()};if(Object.defineProperty(kt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(kt,[])}catch(gt){var ft=gt}Reflect.construct(s,[],kt)}else{try{kt.call()}catch(gt){ft=gt}s.call(kt.prototype)}}else{try{throw Error()}catch(gt){ft=gt}(kt=s())&&typeof kt.catch=="function"&&kt.catch(function(){})}}catch(gt){if(gt&&ft&&typeof gt.stack=="string")return[gt.stack,ft.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=w.DetermineComponentFrameRoot(),re=L[0],Ce=L[1];if(re&&Ce){var Ue=re.split(`
`),lt=Ce.split(`
`);for(O=w=0;w<Ue.length&&!Ue[w].includes("DetermineComponentFrameRoot");)w++;for(;O<lt.length&&!lt[O].includes("DetermineComponentFrameRoot");)O++;if(w===Ue.length||O===lt.length)for(w=Ue.length-1,O=lt.length-1;1<=w&&0<=O&&Ue[w]!==lt[O];)O--;for(;1<=w&&0<=O;w--,O--)if(Ue[w]!==lt[O]){if(w!==1||O!==1)do if(w--,O--,0>O||Ue[w]!==lt[O]){var wt=`
`+Ue[w].replace(" at new "," at ");return s.displayName&&wt.includes("<anonymous>")&&(wt=wt.replace("<anonymous>",s.displayName)),wt}while(1<=w&&0<=O);break}}}finally{Pe=!1,Error.prepareStackTrace=g}return(g=s?s.displayName||s.name:"")?Ge(g):""}function tt(s,l){switch(s.tag){case 26:case 27:case 5:return Ge(s.type);case 16:return Ge("Lazy");case 13:return s.child!==l&&l!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return ne(s.type,!1);case 11:return ne(s.type.render,!1);case 1:return ne(s.type,!0);case 31:return Ge("Activity");default:return""}}function at(s){try{var l="",g=null;do l+=tt(s,g),g=s,s=s.return;while(s);return l}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}var Be=Object.prototype.hasOwnProperty,Ze=e.unstable_scheduleCallback,Fe=e.unstable_cancelCallback,rt=e.unstable_shouldYield,At=e.unstable_requestPaint,Ht=e.unstable_now,Yt=e.unstable_getCurrentPriorityLevel,Jt=e.unstable_ImmediatePriority,Ut=e.unstable_UserBlockingPriority,ir=e.unstable_NormalPriority,Wt=e.unstable_LowPriority,Ar=e.unstable_IdlePriority,zt=e.log,Pn=e.unstable_setDisableYieldValue,Vt=null,Et=null;function er(s){if(typeof zt=="function"&&Pn(s),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(Vt,s)}catch{}}var Qt=Math.clz32?Math.clz32:Ri,Jr=Math.log,Hr=Math.LN2;function Ri(s){return s>>>=0,s===0?32:31-(Jr(s)/Hr|0)|0}var xn=256,Er=262144,oa=4194304;function cn(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function xr(s,l,g){var w=s.pendingLanes;if(w===0)return 0;var O=0,L=s.suspendedLanes,re=s.pingedLanes;s=s.warmLanes;var Ce=w&134217727;return Ce!==0?(w=Ce&~L,w!==0?O=cn(w):(re&=Ce,re!==0?O=cn(re):g||(g=Ce&~s,g!==0&&(O=cn(g))))):(Ce=w&~L,Ce!==0?O=cn(Ce):re!==0?O=cn(re):g||(g=w&~s,g!==0&&(O=cn(g)))),O===0?0:l!==0&&l!==O&&!(l&L)&&(L=O&-O,g=l&-l,L>=g||L===32&&(g&4194048)!==0)?l:O}function Cr(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function es(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $r(){var s=oa;return oa<<=1,!(oa&62914560)&&(oa=4194304),s}function la(s){for(var l=[],g=0;31>g;g++)l.push(s);return l}function ca(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function or(s,l,g,w,O,L){var re=s.pendingLanes;s.pendingLanes=g,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=g,s.entangledLanes&=g,s.errorRecoveryDisabledLanes&=g,s.shellSuspendCounter=0;var Ce=s.entanglements,Ue=s.expirationTimes,lt=s.hiddenUpdates;for(g=re&~g;0<g;){var wt=31-Qt(g),kt=1<<wt;Ce[wt]=0,Ue[wt]=-1;var ft=lt[wt];if(ft!==null)for(lt[wt]=null,wt=0;wt<ft.length;wt++){var gt=ft[wt];gt!==null&&(gt.lane&=-536870913)}g&=~kt}w!==0&&Ja(s,w,0),L!==0&&O===0&&s.tag!==0&&(s.suspendedLanes|=L&~(re&~l))}function Ja(s,l,g){s.pendingLanes|=l,s.suspendedLanes&=~l;var w=31-Qt(l);s.entangledLanes|=l,s.entanglements[w]=s.entanglements[w]|1073741824|g&261930}function ea(s,l){var g=s.entangledLanes|=l;for(s=s.entanglements;g;){var w=31-Qt(g),O=1<<w;O&l|s[w]&l&&(s[w]|=l),g&=~O}}function ya(s,l){var g=l&-l;return g=g&42?1:Xr(g),g&(s.suspendedLanes|l)?0:g}function Xr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function je(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function jt(){var s=se.p;return s!==0?s:(s=window.event,s===void 0?32:oN(s.type))}function et(s,l){var g=se.p;try{return se.p=s,l()}finally{se.p=g}}var bt=Math.random().toString(36).slice(2),Ft="__reactFiber$"+bt,Re="__reactProps$"+bt,mt="__reactContainer$"+bt,pt="__reactEvents$"+bt,Ot="__reactListeners$"+bt,Dt="__reactHandles$"+bt,It="__reactResources$"+bt,tr="__reactMarker$"+bt;function Xt(s){delete s[Ft],delete s[Re],delete s[pt],delete s[Ot],delete s[Dt]}function cr(s){var l=s[Ft];if(l)return l;for(var g=s.parentNode;g;){if(l=g[mt]||g[Ft]){if(g=l.alternate,l.child!==null||g!==null&&g.child!==null)for(s=WA(s);s!==null;){if(g=s[Ft])return g;s=WA(s)}return l}s=g,g=s.parentNode}return null}function Nt(s){if(s=s[Ft]||s[mt]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function mr(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(n(33))}function Lr(s){var l=s[It];return l||(l=s[It]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Vr(s){s[tr]=!0}var vt=new Set,Rn={};function Sr(s,l){On(s,l),On(s+"Capture",l)}function On(s,l){for(Rn[s]=l,s=0;s<l.length;s++)vt.add(l[s])}var ts=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wr={},Br={};function Rr(s){return Be.call(Br,s)?!0:Be.call(Wr,s)?!1:ts.test(s)?Br[s]=!0:(Wr[s]=!0,!1)}function Gs(s,l,g){if(Rr(l))if(g===null)s.removeAttribute(l);else{switch(typeof g){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var w=l.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+g)}}function Bn(s,l,g){if(g===null)s.removeAttribute(l);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+g)}}function tn(s,l,g,w){if(w===null)s.removeAttribute(g);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(g);return}s.setAttributeNS(l,g,""+w)}}function jr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ua(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ba(s,l,g){var w=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var O=w.get,L=w.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return O.call(this)},set:function(re){g=""+re,L.call(this,re)}}),Object.defineProperty(s,l,{enumerable:w.enumerable}),{getValue:function(){return g},setValue:function(re){g=""+re},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function un(s){if(!s._valueTracker){var l=ua(s)?"checked":"value";s._valueTracker=ba(s,l,""+s[l])}}function on(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var g=l.getValue(),w="";return s&&(w=ua(s)?s.checked?"true":"false":s.value),s=w,s!==g?(l.setValue(s),!0):!1}function wi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Kr=/[\n"\\]/g;function Or(s){return s.replace(Kr,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Sn(s,l,g,w,O,L,re,Ce){s.name="",re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"?s.type=re:s.removeAttribute("type"),l!=null?re==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+jr(l)):s.value!==""+jr(l)&&(s.value=""+jr(l)):re!=="submit"&&re!=="reset"||s.removeAttribute("value"),l!=null?Te(s,re,jr(l)):g!=null?Te(s,re,jr(g)):w!=null&&s.removeAttribute("value"),O==null&&L!=null&&(s.defaultChecked=!!L),O!=null&&(s.checked=O&&typeof O!="function"&&typeof O!="symbol"),Ce!=null&&typeof Ce!="function"&&typeof Ce!="symbol"&&typeof Ce!="boolean"?s.name=""+jr(Ce):s.removeAttribute("name")}function nt(s,l,g,w,O,L,re,Ce){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(s.type=L),l!=null||g!=null){if(!(L!=="submit"&&L!=="reset"||l!=null)){un(s);return}g=g!=null?""+jr(g):"",l=l!=null?""+jr(l):g,Ce||l===s.value||(s.value=l),s.defaultValue=l}w=w??O,w=typeof w!="function"&&typeof w!="symbol"&&!!w,s.checked=Ce?s.checked:!!w,s.defaultChecked=!!w,re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"&&(s.name=re),un(s)}function Te(s,l,g){l==="number"&&wi(s.ownerDocument)===s||s.defaultValue===""+g||(s.defaultValue=""+g)}function sr(s,l,g,w){if(s=s.options,l){l={};for(var O=0;O<g.length;O++)l["$"+g[O]]=!0;for(g=0;g<s.length;g++)O=l.hasOwnProperty("$"+s[g].value),s[g].selected!==O&&(s[g].selected=O),O&&w&&(s[g].defaultSelected=!0)}else{for(g=""+jr(g),l=null,O=0;O<s.length;O++){if(s[O].value===g){s[O].selected=!0,w&&(s[O].defaultSelected=!0);return}l!==null||s[O].disabled||(l=s[O])}l!==null&&(l.selected=!0)}}function Fn(s,l,g){if(l!=null&&(l=""+jr(l),l!==s.value&&(s.value=l),g==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=g!=null?""+jr(g):""}function ei(s,l,g,w){if(l==null){if(w!=null){if(g!=null)throw Error(n(92));if(q(w)){if(1<w.length)throw Error(n(93));w=w[0]}g=w}g==null&&(g=""),l=g}g=jr(l),s.defaultValue=g,w=s.textContent,w===g&&w!==""&&w!==null&&(s.value=w),un(s)}function gs(s,l){if(l){var g=s.firstChild;if(g&&g===s.lastChild&&g.nodeType===3){g.nodeValue=l;return}}s.textContent=l}var tl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ti(s,l,g){var w=l.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?w?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":w?s.setProperty(l,g):typeof g!="number"||g===0||tl.has(l)?l==="float"?s.cssFloat=g:s[l]=(""+g).trim():s[l]=g+"px"}function pr(s,l,g){if(l!=null&&typeof l!="object")throw Error(n(62));if(s=s.style,g!=null){for(var w in g)!g.hasOwnProperty(w)||l!=null&&l.hasOwnProperty(w)||(w.indexOf("--")===0?s.setProperty(w,""):w==="float"?s.cssFloat="":s[w]="");for(var O in l)w=l[O],l.hasOwnProperty(O)&&g[O]!==w&&ti(s,O,w)}else for(var L in l)l.hasOwnProperty(L)&&ti(s,L,l[L])}function rn(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Po=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cs(s){return Po.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function En(){}var zn=null;function tc(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var rr=null,_s=null;function Ys(s){var l=Nt(s);if(l&&(s=l.stateNode)){var g=s[Re]||null;e:switch(s=l.stateNode,l.type){case"input":if(Sn(s,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),l=g.name,g.type==="radio"&&l!=null){for(g=s;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Or(""+l)+'"][type="radio"]'),l=0;l<g.length;l++){var w=g[l];if(w!==s&&w.form===s.form){var O=w[Re]||null;if(!O)throw Error(n(90));Sn(w,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(l=0;l<g.length;l++)w=g[l],w.form===s.form&&on(w)}break e;case"textarea":Fn(s,g.value,g.defaultValue);break e;case"select":l=g.value,l!=null&&sr(s,!!g.multiple,l,!1)}}}var fr=!1;function Rc(s,l,g){if(fr)return s(l,g);fr=!0;try{var w=s(l);return w}finally{if(fr=!1,(rr!==null||_s!==null)&&(pp(),rr&&(l=rr,s=_s,_s=rr=null,Ys(l),s)))for(l=0;l<s.length;l++)Ys(s[l])}}function Tr(s,l){var g=s.stateNode;if(g===null)return null;var w=g[Re]||null;if(w===null)return null;g=w[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(s=s.type,w=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!w;break e;default:s=!1}if(s)return null;if(g&&typeof g!="function")throw Error(n(231,l,typeof g));return g}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nl=!1;if(Cn)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){Nl=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{Nl=!1}var $s=null,Xs=null,rl=null;function js(){if(rl)return rl;var s,l=Xs,g=l.length,w,O="value"in $s?$s.value:$s.textContent,L=O.length;for(s=0;s<g&&l[s]===O[s];s++);var re=g-s;for(w=1;w<=re&&l[g-w]===O[L-w];w++);return rl=O.slice(s,1<w?1-w:void 0)}function Bi(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function co(){return!0}function Bo(){return!1}function wa(s){function l(g,w,O,L,re){this._reactName=g,this._targetInst=O,this.type=w,this.nativeEvent=L,this.target=re,this.currentTarget=null;for(var Ce in s)s.hasOwnProperty(Ce)&&(g=s[Ce],this[Ce]=g?g(L):L[Ce]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?co:Bo,this.isPropagationStopped=Bo,this}return y(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=co)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=co)},persist:function(){},isPersistent:co}),l}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=wa(Ai),Fo=y({},Ai,{view:0,detail:0}),Bc=wa(Fo),Sl,Os,xs,rc=y({},Fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==xs&&(xs&&s.type==="mousemove"?(Sl=s.screenX-xs.screenX,Os=s.screenY-xs.screenY):Os=Sl=0,xs=s),Sl)},movementY:function(s){return"movementY"in s?s.movementY:Os}}),nn=wa(rc),Ts=y({},rc,{dataTransfer:0}),nl=wa(Ts),rs=y({},Fo,{relatedTarget:0}),Fc=wa(rs),ut=y({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),zr=wa(ut),Ca=y({},Ai,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),al=wa(Ca),zc=y({},Ai,{data:0}),El=wa(zc),Uc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _a(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=nc[s])?!!l[s]:!1}function uo(){return _a}var Tn=y({},Fo,{key:function(s){if(s.key){var l=Uc[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Bi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?qc[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(s){return s.type==="keypress"?Bi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Bi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),il=wa(Tn),ns=y({},rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vn=wa(ns),P=y({},Fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),pe=wa(P),Ie=y({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=wa(Ie),Qe=y({},rc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),yt=wa(Qe),Mt=y({},Ai,{newState:0,oldState:0}),Kt=wa(Mt),yr=[9,13,27,32],kr=Cn&&"CompositionEvent"in window,_r=null;Cn&&"documentMode"in document&&(_r=document.documentMode);var ln=Cn&&"TextEvent"in window&&!_r,ta=Cn&&(!kr||_r&&8<_r&&11>=_r),kn=" ",da=!1;function di(s,l){switch(s){case"keyup":return yr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ni=!1;function Pa(s,l){switch(s){case"compositionend":return fa(l);case"keypress":return l.which!==32?null:(da=!0,kn);case"textInput":return s=l.data,s===kn&&da?null:s;default:return null}}function vs(s,l){if(Ni)return s==="compositionend"||!kr&&di(s,l)?(s=js(),rl=Xs=$s=null,Ni=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ta&&l.locale!=="ko"?null:l.data;default:return null}}var Fi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cl(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Fi[s.type]:l==="textarea"}function zi(s,l,g,w){rr?_s?_s.push(w):_s=[w]:rr=w,l=wp(l,"onChange"),0<l.length&&(g=new La("onChange","change",null,g,w),s.push({event:g,listeners:l}))}var fo=null,Ks=null;function Hc(s){kA(s,0)}function ho(s){var l=mr(s);if(on(l))return s}function Un(s,l){if(s==="change")return l}var _l=!1;if(Cn){var po;if(Cn){var ks="oninput"in document;if(!ks){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),ks=typeof Zr.oninput=="function"}po=ks}else po=!1;_l=po&&(!document.documentMode||9<document.documentMode)}function ri(){fo&&(fo.detachEvent("onpropertychange",fe),Ks=fo=null)}function fe(s){if(s.propertyName==="value"&&ho(Ks)){var l=[];zi(l,Ks,s,tc(s)),Rc(Hc,l)}}function o(s,l,g){s==="focusin"?(ri(),fo=l,Ks=g,fo.attachEvent("onpropertychange",fe)):s==="focusout"&&ri()}function d(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ho(Ks)}function h(s,l){if(s==="click")return ho(l)}function v(s,l){if(s==="input"||s==="change")return ho(l)}function b(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var A=typeof Object.is=="function"?Object.is:b;function C(s,l){if(A(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var g=Object.keys(s),w=Object.keys(l);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var O=g[w];if(!Be.call(l,O)||!A(s[O],l[O]))return!1}return!0}function M(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function B(s,l){var g=M(s);s=0;for(var w;g;){if(g.nodeType===3){if(w=s+g.textContent.length,s<=l&&w>=l)return{node:g,offset:l-s};s=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=M(g)}}function J(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?J(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function ce(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=wi(s.document);l instanceof s.HTMLIFrameElement;){try{var g=typeof l.contentWindow.location.href=="string"}catch{g=!1}if(g)s=l.contentWindow;else break;l=wi(s.document)}return l}function Ae(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var Me=Cn&&"documentMode"in document&&11>=document.documentMode,ze=null,He=null,Xe=null,dt=!1;function Pt(s,l,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;dt||ze==null||ze!==wi(w)||(w=ze,"selectionStart"in w&&Ae(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Xe&&C(Xe,w)||(Xe=w,w=wp(He,"onSelect"),0<w.length&&(l=new La("onSelect","select",null,l,g),s.push({event:l,listeners:w}),l.target=ze)))}function Rt(s,l){var g={};return g[s.toLowerCase()]=l.toLowerCase(),g["Webkit"+s]="webkit"+l,g["Moz"+s]="moz"+l,g}var Lt={animationend:Rt("Animation","AnimationEnd"),animationiteration:Rt("Animation","AnimationIteration"),animationstart:Rt("Animation","AnimationStart"),transitionrun:Rt("Transition","TransitionRun"),transitionstart:Rt("Transition","TransitionStart"),transitioncancel:Rt("Transition","TransitionCancel"),transitionend:Rt("Transition","TransitionEnd")},Ur={},Ir={};Cn&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Lt.animationend.animation,delete Lt.animationiteration.animation,delete Lt.animationstart.animation),"TransitionEvent"in window||delete Lt.transitionend.transition);function Gn(s){if(Ur[s])return Ur[s];if(!Lt[s])return s;var l=Lt[s],g;for(g in l)if(l.hasOwnProperty(g)&&g in Ir)return Ur[s]=l[g];return s}var ni=Gn("animationend"),Aa=Gn("animationiteration"),dn=Gn("animationstart"),Na=Gn("transitionrun"),$a=Gn("transitionstart"),ys=Gn("transitioncancel"),Zs=Gn("transitionend"),bs=new Map,as="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");as.push("scrollEnd");function fn(s,l){bs.set(s,l),Sr(l,[s])}var qn=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},_n=[],Sa=0,zo=0;function ac(){for(var s=Sa,l=zo=Sa=0;l<s;){var g=_n[l];_n[l++]=null;var w=_n[l];_n[l++]=null;var O=_n[l];_n[l++]=null;var L=_n[l];if(_n[l++]=null,w!==null&&O!==null){var re=w.pending;re===null?O.next=O:(O.next=re.next,re.next=O),w.pending=O}L!==0&&Dd(g,O,L)}}function jl(s,l,g,w){_n[Sa++]=s,_n[Sa++]=l,_n[Sa++]=g,_n[Sa++]=w,zo|=w,s.lanes|=w,s=s.alternate,s!==null&&(s.lanes|=w)}function Iu(s,l,g,w){return jl(s,l,g,w),is(s)}function Ol(s,l){return jl(s,null,null,l),is(s)}function Dd(s,l,g){s.lanes|=g;var w=s.alternate;w!==null&&(w.lanes|=g);for(var O=!1,L=s.return;L!==null;)L.childLanes|=g,w=L.alternate,w!==null&&(w.childLanes|=g),L.tag===22&&(s=L.stateNode,s===null||s._visibility&1||(O=!0)),s=L,L=L.return;return s.tag===3?(L=s.stateNode,O&&l!==null&&(O=31-Qt(g),s=L.hiddenUpdates,w=s[O],w===null?s[O]=[l]:w.push(l),l.lane=g|536870912),L):null}function is(s){if(50<x0)throw x0=0,y2=null,Error(n(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Ui={};function jf(s,l,g,w){this.tag=s,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(s,l,g,w){return new jf(s,l,g,w)}function Of(s){return s=s.prototype,!(!s||!s.isReactComponent)}function mo(s,l){var g=s.alternate;return g===null?(g=ss(s.tag,l,s.key,s.mode),g.elementType=s.elementType,g.type=s.type,g.stateNode=s.stateNode,g.alternate=s,s.alternate=g):(g.pendingProps=l,g.type=s.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=s.flags&65011712,g.childLanes=s.childLanes,g.lanes=s.lanes,g.child=s.child,g.memoizedProps=s.memoizedProps,g.memoizedState=s.memoizedState,g.updateQueue=s.updateQueue,l=s.dependencies,g.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},g.sibling=s.sibling,g.index=s.index,g.ref=s.ref,g.refCleanup=s.refCleanup,g}function Ld(s,l){s.flags&=65011714;var g=s.alternate;return g===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=g.childLanes,s.lanes=g.lanes,s.child=g.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=g.memoizedProps,s.memoizedState=g.memoizedState,s.updateQueue=g.updateQueue,s.type=g.type,l=g.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Mu(s,l,g,w,O,L){var re=0;if(w=s,typeof s=="function")Of(s)&&(re=1);else if(typeof s=="string")re=jD(s,g,ae.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case W:return s=ss(31,g,l,O),s.elementType=W,s.lanes=L,s;case _:return ic(g.children,O,L,l);case T:re=8,O|=24;break;case D:return s=ss(12,g,l,O|2),s.elementType=D,s.lanes=L,s;case $:return s=ss(13,g,l,O),s.elementType=$,s.lanes=L,s;case X:return s=ss(19,g,l,O),s.elementType=X,s.lanes=L,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:re=10;break e;case R:re=9;break e;case G:re=11;break e;case V:re=14;break e;case Y:re=16,w=null;break e}re=29,g=Error(n(130,s===null?"null":typeof s,"")),w=null}return l=ss(re,g,l,O),l.elementType=s,l.type=w,l.lanes=L,l}function ic(s,l,g,w){return s=ss(7,s,w,l),s.lanes=g,s}function Pd(s,l,g){return s=ss(6,s,null,l),s.lanes=g,s}function Tf(s){var l=ss(18,null,null,0);return l.stateNode=s,l}function Du(s,l,g){return l=ss(4,s.children!==null?s.children:[],s.key,l),l.lanes=g,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var kf=new WeakMap;function go(s,l){if(typeof s=="object"&&s!==null){var g=kf.get(s);return g!==void 0?g:(l={value:s,source:l,stack:at(l)},kf.set(s,l),l)}return{value:s,source:l,stack:at(l)}}var Lu=[],Vc=0,If=null,Rd=0,xo=[],vo=0,sc=null,yo=1,bo="";function Qs(s,l){Lu[Vc++]=Rd,Lu[Vc++]=If,If=s,Rd=l}function Y1(s,l,g){xo[vo++]=yo,xo[vo++]=bo,xo[vo++]=sc,sc=s;var w=yo;s=bo;var O=32-Qt(w)-1;w&=~(1<<O),g+=1;var L=32-Qt(l)+O;if(30<L){var re=O-O%5;L=(w&(1<<re)-1).toString(32),w>>=re,O-=re,yo=1<<32-Qt(l)+O|g<<O|w,bo=L+s}else yo=1<<L|g<<O|w,bo=s}function Kh(s){s.return!==null&&(Qs(s,1),Y1(s,1,0))}function Mf(s){for(;s===If;)If=Lu[--Vc],Lu[Vc]=null,Rd=Lu[--Vc],Lu[Vc]=null;for(;s===sc;)sc=xo[--vo],xo[vo]=null,bo=xo[--vo],xo[vo]=null,yo=xo[--vo],xo[vo]=null}function $1(s,l){xo[vo++]=yo,xo[vo++]=bo,xo[vo++]=sc,yo=l.id,bo=l.overflow,sc=s}var qi=null,ha=null,hn=!1,ws=null,Ra=!1,Uo=Error(n(519));function oc(s){var l=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pu(go(l,s)),Uo}function Zh(s){var l=s.stateNode,g=s.type,w=s.memoizedProps;switch(l[Ft]=s,l[Re]=w,g){case"dialog":gn("cancel",l),gn("close",l);break;case"iframe":case"object":case"embed":gn("load",l);break;case"video":case"audio":for(g=0;g<y0.length;g++)gn(y0[g],l);break;case"source":gn("error",l);break;case"img":case"image":case"link":gn("error",l),gn("load",l);break;case"details":gn("toggle",l);break;case"input":gn("invalid",l),nt(l,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0);break;case"select":gn("invalid",l);break;case"textarea":gn("invalid",l),ei(l,w.value,w.defaultValue,w.children)}g=w.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||l.textContent===""+g||w.suppressHydrationWarning===!0||LA(l.textContent,g)?(w.popover!=null&&(gn("beforetoggle",l),gn("toggle",l)),w.onScroll!=null&&gn("scroll",l),w.onScrollEnd!=null&&gn("scrollend",l),w.onClick!=null&&(l.onclick=En),l=!0):l=!1,l||oc(s,!0)}function Tl(s){for(qi=s.return;qi;)switch(qi.tag){case 5:case 31:case 13:Ra=!1;return;case 27:case 3:Ra=!0;return;default:qi=qi.return}}function Hi(s){if(s!==qi)return!1;if(!hn)return Tl(s),hn=!0,!1;var l=s.tag,g;if((g=l!==3&&l!==27)&&((g=l===5)&&(g=s.type,g=!(g!=="form"&&g!=="button")||D2(s.type,s.memoizedProps)),g=!g),g&&ha&&oc(s),Tl(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));ha=VA(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));ha=VA(s)}else l===27?(l=ha,Ku(s.type)?(s=F2,F2=null,ha=s):ha=l):ha=qi?fl(s.stateNode.nextSibling):null;return!0}function Wc(){ha=qi=null,hn=!1}function Qh(){var s=ws;return s!==null&&(Co===null?Co=s:Co.push.apply(Co,s),ws=null),s}function Pu(s){ws===null?ws=[s]:ws.push(s)}var Df=le(null),lc=null,sl=null;function cc(s,l,g){H(Df,l._currentValue),l._currentValue=g}function wo(s){s._currentValue=Df.current,U(Df)}function Ru(s,l,g){for(;s!==null;){var w=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,w!==null&&(w.childLanes|=l)):w!==null&&(w.childLanes&l)!==l&&(w.childLanes|=l),s===g)break;s=s.return}}function Gc(s,l,g,w){var O=s.child;for(O!==null&&(O.return=s);O!==null;){var L=O.dependencies;if(L!==null){var re=O.child;L=L.firstContext;e:for(;L!==null;){var Ce=L;L=O;for(var Ue=0;Ue<l.length;Ue++)if(Ce.context===l[Ue]){L.lanes|=g,Ce=L.alternate,Ce!==null&&(Ce.lanes|=g),Ru(L.return,g,s),w||(re=null);break e}L=Ce.next}}else if(O.tag===18){if(re=O.return,re===null)throw Error(n(341));re.lanes|=g,L=re.alternate,L!==null&&(L.lanes|=g),Ru(re,g,s),re=null}else re=O.child;if(re!==null)re.return=O;else for(re=O;re!==null;){if(re===s){re=null;break}if(O=re.sibling,O!==null){O.return=re.return,re=O;break}re=re.return}O=re}}function uc(s,l,g,w){s=null;for(var O=l,L=!1;O!==null;){if(!L){if(O.flags&524288)L=!0;else if(O.flags&262144)break}if(O.tag===10){var re=O.alternate;if(re===null)throw Error(n(387));if(re=re.memoizedProps,re!==null){var Ce=O.type;A(O.pendingProps.value,re.value)||(s!==null?s.push(Ce):s=[Ce])}}else if(O===de.current){if(re=O.alternate,re===null)throw Error(n(387));re.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(s!==null?s.push(S0):s=[S0])}O=O.return}s!==null&&Gc(l,s,g,w),l.flags|=262144}function Lf(s){for(s=s.firstContext;s!==null;){if(!A(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function dc(s){lc=s,sl=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Vi(s){return X1(lc,s)}function Pf(s,l){return lc===null&&dc(s),X1(s,l)}function X1(s,l){var g=l._currentValue;if(l={context:l,memoizedValue:g,next:null},sl===null){if(s===null)throw Error(n(308));sl=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else sl=sl.next=l;return g}var Bx=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(g,w){s.push(w)}};this.abort=function(){l.aborted=!0,s.forEach(function(g){return g()})}},Fx=e.unstable_scheduleCallback,zx=e.unstable_NormalPriority,Xa={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bu(){return{controller:new Bx,data:new Map,refCount:0}}function Bd(s){s.refCount--,s.refCount===0&&Fx(zx,function(){s.controller.abort()})}var Fd=null,Rf=0,E=0,k=null;function F(s,l){if(Fd===null){var g=Fd=[];Rf=0,E=E2(),k={status:"pending",value:void 0,then:function(w){g.push(w)}}}return Rf++,l.then(K,K),l}function K(){if(--Rf===0&&Fd!==null){k!==null&&(k.status="fulfilled");var s=Fd;Fd=null,E=0,k=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function he(s,l){var g=[],w={status:"pending",value:null,reason:null,then:function(O){g.push(O)}};return s.then(function(){w.status="fulfilled",w.value=l;for(var O=0;O<g.length;O++)(0,g[O])(l)},function(O){for(w.status="rejected",w.reason=O,O=0;O<g.length;O++)(0,g[O])(void 0)}),w}var be=te.S;te.S=function(s,l){iA=Ht(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&F(s,l),be!==null&&be(s,l)};var we=le(null);function Ee(){var s=we.current;return s!==null?s:ma.pooledCache}function _e(s,l){l===null?H(we,we.current):H(we,l.pool)}function De(){var s=Ee();return s===null?null:{parent:Xa._currentValue,pool:s}}var Ve=Error(n(460)),st=Error(n(474)),it=Error(n(542)),Ke={then:function(){}};function Tt(s){return s=s.status,s==="fulfilled"||s==="rejected"}function xt(s,l,g){switch(g=s[g],g===void 0?s.push(l):g!==l&&(l.then(En,En),l=g),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Bt(s),s;default:if(typeof l.status=="string")l.then(En,En);else{if(s=ma,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=l,s.status="pending",s.then(function(w){if(l.status==="pending"){var O=l;O.status="fulfilled",O.value=w}},function(w){if(l.status==="pending"){var O=l;O.status="rejected",O.reason=w}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Bt(s),s}throw $e=l,Ve}}function We(s){try{var l=s._init;return l(s._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?($e=g,Ve):g}}var $e=null;function Ct(){if($e===null)throw Error(n(459));var s=$e;return $e=null,s}function Bt(s){if(s===Ve||s===it)throw Error(n(483))}var St=null,Zt=0;function Gt(s){var l=Zt;return Zt+=1,St===null&&(St=[]),xt(St,s,l)}function br(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function $t(s,l){throw l.$$typeof===S?Error(n(525)):(s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function jn(s){function l(Je,Ye){if(s){var ot=Je.deletions;ot===null?(Je.deletions=[Ye],Je.flags|=16):ot.push(Ye)}}function g(Je,Ye){if(!s)return null;for(;Ye!==null;)l(Je,Ye),Ye=Ye.sibling;return null}function w(Je){for(var Ye=new Map;Je!==null;)Je.key!==null?Ye.set(Je.key,Je):Ye.set(Je.index,Je),Je=Je.sibling;return Ye}function O(Je,Ye){return Je=mo(Je,Ye),Je.index=0,Je.sibling=null,Je}function L(Je,Ye,ot){return Je.index=ot,s?(ot=Je.alternate,ot!==null?(ot=ot.index,ot<Ye?(Je.flags|=67108866,Ye):ot):(Je.flags|=67108866,Ye)):(Je.flags|=1048576,Ye)}function re(Je){return s&&Je.alternate===null&&(Je.flags|=67108866),Je}function Ce(Je,Ye,ot,_t){return Ye===null||Ye.tag!==6?(Ye=Pd(ot,Je.mode,_t),Ye.return=Je,Ye):(Ye=O(Ye,ot),Ye.return=Je,Ye)}function Ue(Je,Ye,ot,_t){var Nr=ot.type;return Nr===_?wt(Je,Ye,ot.props.children,_t,ot.key):Ye!==null&&(Ye.elementType===Nr||typeof Nr=="object"&&Nr!==null&&Nr.$$typeof===Y&&We(Nr)===Ye.type)?(Ye=O(Ye,ot.props),br(Ye,ot),Ye.return=Je,Ye):(Ye=Mu(ot.type,ot.key,ot.props,null,Je.mode,_t),br(Ye,ot),Ye.return=Je,Ye)}function lt(Je,Ye,ot,_t){return Ye===null||Ye.tag!==4||Ye.stateNode.containerInfo!==ot.containerInfo||Ye.stateNode.implementation!==ot.implementation?(Ye=Du(ot,Je.mode,_t),Ye.return=Je,Ye):(Ye=O(Ye,ot.children||[]),Ye.return=Je,Ye)}function wt(Je,Ye,ot,_t,Nr){return Ye===null||Ye.tag!==7?(Ye=ic(ot,Je.mode,_t,Nr),Ye.return=Je,Ye):(Ye=O(Ye,ot),Ye.return=Je,Ye)}function kt(Je,Ye,ot){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return Ye=Pd(""+Ye,Je.mode,ot),Ye.return=Je,Ye;if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case N:return ot=Mu(Ye.type,Ye.key,Ye.props,null,Je.mode,ot),br(ot,Ye),ot.return=Je,ot;case j:return Ye=Du(Ye,Je.mode,ot),Ye.return=Je,Ye;case Y:return Ye=We(Ye),kt(Je,Ye,ot)}if(q(Ye)||Q(Ye))return Ye=ic(Ye,Je.mode,ot,null),Ye.return=Je,Ye;if(typeof Ye.then=="function")return kt(Je,Gt(Ye),ot);if(Ye.$$typeof===z)return kt(Je,Pf(Je,Ye),ot);$t(Je,Ye)}return null}function ft(Je,Ye,ot,_t){var Nr=Ye!==null?Ye.key:null;if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return Nr!==null?null:Ce(Je,Ye,""+ot,_t);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case N:return ot.key===Nr?Ue(Je,Ye,ot,_t):null;case j:return ot.key===Nr?lt(Je,Ye,ot,_t):null;case Y:return ot=We(ot),ft(Je,Ye,ot,_t)}if(q(ot)||Q(ot))return Nr!==null?null:wt(Je,Ye,ot,_t,null);if(typeof ot.then=="function")return ft(Je,Ye,Gt(ot),_t);if(ot.$$typeof===z)return ft(Je,Ye,Pf(Je,ot),_t);$t(Je,ot)}return null}function gt(Je,Ye,ot,_t,Nr){if(typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint")return Je=Je.get(ot)||null,Ce(Ye,Je,""+_t,Nr);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case N:return Je=Je.get(_t.key===null?ot:_t.key)||null,Ue(Ye,Je,_t,Nr);case j:return Je=Je.get(_t.key===null?ot:_t.key)||null,lt(Ye,Je,_t,Nr);case Y:return _t=We(_t),gt(Je,Ye,ot,_t,Nr)}if(q(_t)||Q(_t))return Je=Je.get(ot)||null,wt(Ye,Je,_t,Nr,null);if(typeof _t.then=="function")return gt(Je,Ye,ot,Gt(_t),Nr);if(_t.$$typeof===z)return gt(Je,Ye,ot,Pf(Ye,_t),Nr);$t(Ye,_t)}return null}function dr(Je,Ye,ot,_t){for(var Nr=null,Mn=null,vr=Ye,en=Ye=0,wn=null;vr!==null&&en<ot.length;en++){vr.index>en?(wn=vr,vr=null):wn=vr.sibling;var Dn=ft(Je,vr,ot[en],_t);if(Dn===null){vr===null&&(vr=wn);break}s&&vr&&Dn.alternate===null&&l(Je,vr),Ye=L(Dn,Ye,en),Mn===null?Nr=Dn:Mn.sibling=Dn,Mn=Dn,vr=wn}if(en===ot.length)return g(Je,vr),hn&&Qs(Je,en),Nr;if(vr===null){for(;en<ot.length;en++)vr=kt(Je,ot[en],_t),vr!==null&&(Ye=L(vr,Ye,en),Mn===null?Nr=vr:Mn.sibling=vr,Mn=vr);return hn&&Qs(Je,en),Nr}for(vr=w(vr);en<ot.length;en++)wn=gt(vr,Je,en,ot[en],_t),wn!==null&&(s&&wn.alternate!==null&&vr.delete(wn.key===null?en:wn.key),Ye=L(wn,Ye,en),Mn===null?Nr=wn:Mn.sibling=wn,Mn=wn);return s&&vr.forEach(function(td){return l(Je,td)}),hn&&Qs(Je,en),Nr}function Dr(Je,Ye,ot,_t){if(ot==null)throw Error(n(151));for(var Nr=null,Mn=null,vr=Ye,en=Ye=0,wn=null,Dn=ot.next();vr!==null&&!Dn.done;en++,Dn=ot.next()){vr.index>en?(wn=vr,vr=null):wn=vr.sibling;var td=ft(Je,vr,Dn.value,_t);if(td===null){vr===null&&(vr=wn);break}s&&vr&&td.alternate===null&&l(Je,vr),Ye=L(td,Ye,en),Mn===null?Nr=td:Mn.sibling=td,Mn=td,vr=wn}if(Dn.done)return g(Je,vr),hn&&Qs(Je,en),Nr;if(vr===null){for(;!Dn.done;en++,Dn=ot.next())Dn=kt(Je,Dn.value,_t),Dn!==null&&(Ye=L(Dn,Ye,en),Mn===null?Nr=Dn:Mn.sibling=Dn,Mn=Dn);return hn&&Qs(Je,en),Nr}for(vr=w(vr);!Dn.done;en++,Dn=ot.next())Dn=gt(vr,Je,en,Dn.value,_t),Dn!==null&&(s&&Dn.alternate!==null&&vr.delete(Dn.key===null?en:Dn.key),Ye=L(Dn,Ye,en),Mn===null?Nr=Dn:Mn.sibling=Dn,Mn=Dn);return s&&vr.forEach(function(FD){return l(Je,FD)}),hn&&Qs(Je,en),Nr}function aa(Je,Ye,ot,_t){if(typeof ot=="object"&&ot!==null&&ot.type===_&&ot.key===null&&(ot=ot.props.children),typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case N:e:{for(var Nr=ot.key;Ye!==null;){if(Ye.key===Nr){if(Nr=ot.type,Nr===_){if(Ye.tag===7){g(Je,Ye.sibling),_t=O(Ye,ot.props.children),_t.return=Je,Je=_t;break e}}else if(Ye.elementType===Nr||typeof Nr=="object"&&Nr!==null&&Nr.$$typeof===Y&&We(Nr)===Ye.type){g(Je,Ye.sibling),_t=O(Ye,ot.props),br(_t,ot),_t.return=Je,Je=_t;break e}g(Je,Ye);break}else l(Je,Ye);Ye=Ye.sibling}ot.type===_?(_t=ic(ot.props.children,Je.mode,_t,ot.key),_t.return=Je,Je=_t):(_t=Mu(ot.type,ot.key,ot.props,null,Je.mode,_t),br(_t,ot),_t.return=Je,Je=_t)}return re(Je);case j:e:{for(Nr=ot.key;Ye!==null;){if(Ye.key===Nr)if(Ye.tag===4&&Ye.stateNode.containerInfo===ot.containerInfo&&Ye.stateNode.implementation===ot.implementation){g(Je,Ye.sibling),_t=O(Ye,ot.children||[]),_t.return=Je,Je=_t;break e}else{g(Je,Ye);break}else l(Je,Ye);Ye=Ye.sibling}_t=Du(ot,Je.mode,_t),_t.return=Je,Je=_t}return re(Je);case Y:return ot=We(ot),aa(Je,Ye,ot,_t)}if(q(ot))return dr(Je,Ye,ot,_t);if(Q(ot)){if(Nr=Q(ot),typeof Nr!="function")throw Error(n(150));return ot=Nr.call(ot),Dr(Je,Ye,ot,_t)}if(typeof ot.then=="function")return aa(Je,Ye,Gt(ot),_t);if(ot.$$typeof===z)return aa(Je,Ye,Pf(Je,ot),_t);$t(Je,ot)}return typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint"?(ot=""+ot,Ye!==null&&Ye.tag===6?(g(Je,Ye.sibling),_t=O(Ye,ot),_t.return=Je,Je=_t):(g(Je,Ye),_t=Pd(ot,Je.mode,_t),_t.return=Je,Je=_t),re(Je)):g(Je,Ye)}return function(Je,Ye,ot,_t){try{Zt=0;var Nr=aa(Je,Ye,ot,_t);return St=null,Nr}catch(vr){if(vr===Ve||vr===it)throw vr;var Mn=ss(29,vr,null,Je.mode);return Mn.lanes=_t,Mn.return=Je,Mn}finally{}}}var pn=jn(!0),yn=jn(!1),qr=!1;function Hn(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function In(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Mr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function $n(s,l,g){var w=s.updateQueue;if(w===null)return null;if(w=w.shared,Vn&2){var O=w.pending;return O===null?l.next=l:(l.next=O.next,O.next=l),w.pending=l,l=is(s),Dd(s,null,g),l}return jl(s,w,l,g),is(s)}function Si(s,l,g){if(l=l.updateQueue,l!==null&&(l=l.shared,(g&4194048)!==0)){var w=l.lanes;w&=s.pendingLanes,g|=w,l.lanes=g,ea(s,g)}}function Ba(s,l){var g=s.updateQueue,w=s.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var O=null,L=null;if(g=g.firstBaseUpdate,g!==null){do{var re={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};L===null?O=L=re:L=L.next=re,g=g.next}while(g!==null);L===null?O=L=l:L=L.next=l}else O=L=l;g={baseState:w.baseState,firstBaseUpdate:O,lastBaseUpdate:L,shared:w.shared,callbacks:w.callbacks},s.updateQueue=g;return}s=g.lastBaseUpdate,s===null?g.firstBaseUpdate=l:s.next=l,g.lastBaseUpdate=l}var os=!1;function An(){if(os){var s=k;if(s!==null)throw s}}function Wi(s,l,g,w){os=!1;var O=s.updateQueue;qr=!1;var L=O.firstBaseUpdate,re=O.lastBaseUpdate,Ce=O.shared.pending;if(Ce!==null){O.shared.pending=null;var Ue=Ce,lt=Ue.next;Ue.next=null,re===null?L=lt:re.next=lt,re=Ue;var wt=s.alternate;wt!==null&&(wt=wt.updateQueue,Ce=wt.lastBaseUpdate,Ce!==re&&(Ce===null?wt.firstBaseUpdate=lt:Ce.next=lt,wt.lastBaseUpdate=Ue))}if(L!==null){var kt=O.baseState;re=0,wt=lt=Ue=null,Ce=L;do{var ft=Ce.lane&-536870913,gt=ft!==Ce.lane;if(gt?(bn&ft)===ft:(w&ft)===ft){ft!==0&&ft===E&&(os=!0),wt!==null&&(wt=wt.next={lane:0,tag:Ce.tag,payload:Ce.payload,callback:null,next:null});e:{var dr=s,Dr=Ce;ft=l;var aa=g;switch(Dr.tag){case 1:if(dr=Dr.payload,typeof dr=="function"){kt=dr.call(aa,kt,ft);break e}kt=dr;break e;case 3:dr.flags=dr.flags&-65537|128;case 0:if(dr=Dr.payload,ft=typeof dr=="function"?dr.call(aa,kt,ft):dr,ft==null)break e;kt=y({},kt,ft);break e;case 2:qr=!0}}ft=Ce.callback,ft!==null&&(s.flags|=64,gt&&(s.flags|=8192),gt=O.callbacks,gt===null?O.callbacks=[ft]:gt.push(ft))}else gt={lane:ft,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null},wt===null?(lt=wt=gt,Ue=kt):wt=wt.next=gt,re|=ft;if(Ce=Ce.next,Ce===null){if(Ce=O.shared.pending,Ce===null)break;gt=Ce,Ce=gt.next,gt.next=null,O.lastBaseUpdate=gt,O.shared.pending=null}}while(!0);wt===null&&(Ue=kt),O.baseState=Ue,O.firstBaseUpdate=lt,O.lastBaseUpdate=wt,L===null&&(O.shared.lanes=0),Wu|=re,s.lanes=re,s.memoizedState=kt}}function Is(s,l){if(typeof s!="function")throw Error(n(191,s));s.call(l)}function fi(s,l){var g=s.callbacks;if(g!==null)for(s.callbacks=null,s=0;s<g.length;s++)Is(g[s],l)}var Fa=le(null),Ei=le(0);function Js(s,l){s=au,H(Ei,s),H(Fa,l),au=s|l.baseLanes}function Ao(){H(Ei,au),H(Fa,Fa.current)}function ai(){au=Ei.current,U(Fa),U(Ei)}var Ka=le(null),Ci=null;function eo(s){var l=s.alternate;H(za,za.current&1),H(Ka,s),Ci===null&&(l===null||Fa.current!==null||l.memoizedState!==null)&&(Ci=s)}function ol(s){H(za,za.current),H(Ka,s),Ci===null&&(Ci=s)}function ja(s){s.tag===22?(H(za,za.current),H(Ka,s),Ci===null&&(Ci=s)):ll()}function ll(){H(za,za.current),H(Ka,Ka.current)}function Ms(s){U(Ka),Ci===s&&(Ci=null),U(za)}var za=le(0);function Yc(s){for(var l=s;l!==null;){if(l.tag===13){var g=l.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||R2(g)||B2(g)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var to=0,Fr=null,an=null,pa=null,kl=!1,$c=!1,cl=!1,zd=0,fc=0,hc=null,Bf=0;function ra(){throw Error(n(321))}function Jh(s,l){if(l===null)return!1;for(var g=0;g<l.length&&g<s.length;g++)if(!A(s[g],l[g]))return!1;return!0}function e0(s,l,g,w,O,L){return to=L,Fr=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,te.H=s===null||s.memoizedState===null?g4:$x,cl=!1,L=g(w,O),cl=!1,$c&&(L=Il(l,g,w,O)),Ff(s),L}function Ff(s){te.H=l0;var l=an!==null&&an.next!==null;if(to=0,pa=an=Fr=null,kl=!1,fc=0,hc=null,l)throw Error(n(300));s===null||ji||(s=s.dependencies,s!==null&&Lf(s)&&(ji=!0))}function Il(s,l,g,w){Fr=s;var O=0;do{if($c&&(hc=null),fc=0,$c=!1,25<=O)throw Error(n(301));if(O+=1,pa=an=null,s.updateQueue!=null){var L=s.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}te.H=x4,L=l(g,w)}while($c);return L}function Ux(){var s=te.H,l=s.useState()[0];return l=typeof l.then=="function"?pc(l):l,s=s.useState()[0],(an!==null?an.memoizedState:null)!==s&&(Fr.flags|=1024),l}function t0(){var s=zd!==0;return zd=0,s}function r0(s,l,g){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~g}function zf(s){if(kl){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}kl=!1}to=0,pa=an=Fr=null,$c=!1,fc=zd=0,hc=null}function _i(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pa===null?Fr.memoizedState=pa=s:pa=pa.next=s,pa}function Ua(){if(an===null){var s=Fr.alternate;s=s!==null?s.memoizedState:null}else s=an.next;var l=pa===null?Fr.memoizedState:pa.next;if(l!==null)pa=l,an=s;else{if(s===null)throw Fr.alternate===null?Error(n(467)):Error(n(310));an=s,s={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},pa===null?Fr.memoizedState=pa=s:pa=pa.next=s}return pa}function Ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pc(s){var l=fc;return fc+=1,hc===null&&(hc=[]),s=xt(hc,s,l),l=Fr,(pa===null?l.memoizedState:pa.next)===null&&(l=l.alternate,te.H=l===null||l.memoizedState===null?g4:$x),s}function Fu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return pc(s);if(s.$$typeof===z)return Vi(s)}throw Error(n(438,String(s)))}function Xc(s){var l=null,g=Fr.updateQueue;if(g!==null&&(l=g.memoCache),l==null){var w=Fr.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(l={data:w.data.map(function(O){return O.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),g===null&&(g=Ud(),Fr.updateQueue=g),g.memoCache=l,g=l.data[l.index],g===void 0)for(g=l.data[l.index]=Array(s),w=0;w<s;w++)g[w]=Ne;return l.index++,g}function ul(s,l){return typeof l=="function"?l(s):l}function Uf(s){var l=Ua();return zu(l,an,s)}function zu(s,l,g){var w=s.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=g;var O=s.baseQueue,L=w.pending;if(L!==null){if(O!==null){var re=O.next;O.next=L.next,L.next=re}l.baseQueue=O=L,w.pending=null}if(L=s.baseState,O===null)s.memoizedState=L;else{l=O.next;var Ce=re=null,Ue=null,lt=l,wt=!1;do{var kt=lt.lane&-536870913;if(kt!==lt.lane?(bn&kt)===kt:(to&kt)===kt){var ft=lt.revertLane;if(ft===0)Ue!==null&&(Ue=Ue.next={lane:0,revertLane:0,gesture:null,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),kt===E&&(wt=!0);else if((to&ft)===ft){lt=lt.next,ft===E&&(wt=!0);continue}else kt={lane:0,revertLane:lt.revertLane,gesture:null,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null},Ue===null?(Ce=Ue=kt,re=L):Ue=Ue.next=kt,Fr.lanes|=ft,Wu|=ft;kt=lt.action,cl&&g(L,kt),L=lt.hasEagerState?lt.eagerState:g(L,kt)}else ft={lane:kt,revertLane:lt.revertLane,gesture:lt.gesture,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null},Ue===null?(Ce=Ue=ft,re=L):Ue=Ue.next=ft,Fr.lanes|=kt,Wu|=kt;lt=lt.next}while(lt!==null&&lt!==l);if(Ue===null?re=L:Ue.next=Ce,!A(L,s.memoizedState)&&(ji=!0,wt&&(g=k,g!==null)))throw g;s.memoizedState=L,s.baseState=re,s.baseQueue=Ue,w.lastRenderedState=L}return O===null&&(w.lanes=0),[s.memoizedState,w.dispatch]}function qf(s){var l=Ua(),g=l.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=s;var w=g.dispatch,O=g.pending,L=l.memoizedState;if(O!==null){g.pending=null;var re=O=O.next;do L=s(L,re.action),re=re.next;while(re!==O);A(L,l.memoizedState)||(ji=!0),l.memoizedState=L,l.baseQueue===null&&(l.baseState=L),g.lastRenderedState=L}return[L,w]}function Hf(s,l,g){var w=Fr,O=Ua(),L=hn;if(L){if(g===void 0)throw Error(n(407));g=g()}else g=l();var re=!A((an||O).memoizedState,g);if(re&&(O.memoizedState=g,ji=!0),O=O.queue,qx(a0.bind(null,w,O,s),[s]),O.getSnapshot!==l||re||pa!==null&&pa.memoizedState.tag&1){if(w.flags|=2048,Zc(9,{destroy:void 0},n0.bind(null,w,O,g,l),null),ma===null)throw Error(n(349));L||to&127||Ml(w,l,g)}return g}function Ml(s,l,g){s.flags|=16384,s={getSnapshot:l,value:g},l=Fr.updateQueue,l===null?(l=Ud(),Fr.updateQueue=l,l.stores=[s]):(g=l.stores,g===null?l.stores=[s]:g.push(s))}function n0(s,l,g,w){l.value=g,l.getSnapshot=w,K1(l)&&i0(s)}function a0(s,l,g){return g(function(){K1(l)&&i0(s)})}function K1(s){var l=s.getSnapshot;s=s.value;try{var g=l();return!A(s,g)}catch{return!0}}function i0(s){var l=Ol(s,2);l!==null&&_o(l,s,2)}function mc(s){var l=_i();if(typeof s=="function"){var g=s;if(s=g(),cl){er(!0);try{g()}finally{er(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:s},l}function Z1(s,l,g,w){return s.baseState=g,zu(s,an,typeof w=="function"?w:ul)}function Q1(s,l,g,w,O){if(rp(s))throw Error(n(485));if(s=l.action,s!==null){var L={payload:O,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(re){L.listeners.push(re)}};te.T!==null?g(!0):L.isTransition=!1,w(L),g=l.pending,g===null?(L.next=l.pending=L,J1(l,L)):(L.next=g.next,l.pending=g.next=L)}}function J1(s,l){var g=l.action,w=l.payload,O=s.state;if(l.isTransition){var L=te.T,re={};te.T=re;try{var Ce=g(O,w),Ue=te.S;Ue!==null&&Ue(re,Ce),s0(s,l,Ce)}catch(lt){Kc(s,l,lt)}finally{L!==null&&re.types!==null&&(L.types=re.types),te.T=L}}else try{L=g(O,w),s0(s,l,L)}catch(lt){Kc(s,l,lt)}}function s0(s,l,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(w){ep(s,l,w)},function(w){return Kc(s,l,w)}):ep(s,l,g)}function ep(s,l,g){l.status="fulfilled",l.value=g,Vf(l),s.state=g,l=s.pending,l!==null&&(g=l.next,g===l?s.pending=null:(g=g.next,l.next=g,J1(s,g)))}function Kc(s,l,g){var w=s.pending;if(s.pending=null,w!==null){w=w.next;do l.status="rejected",l.reason=g,Vf(l),l=l.next;while(l!==w)}s.action=null}function Vf(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function qd(s,l){return l}function dl(s,l){if(hn){var g=ma.formState;if(g!==null){e:{var w=Fr;if(hn){if(ha){t:{for(var O=ha,L=Ra;O.nodeType!==8;){if(!L){O=null;break t}if(O=fl(O.nextSibling),O===null){O=null;break t}}L=O.data,O=L==="F!"||L==="F"?O:null}if(O){ha=fl(O.nextSibling),w=O.data==="F!";break e}}oc(w)}w=!1}w&&(l=g[0])}}return g=_i(),g.memoizedState=g.baseState=l,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qd,lastRenderedState:l},g.queue=w,g=h4.bind(null,Fr,w),w.dispatch=g,w=mc(!1),L=Yx.bind(null,Fr,!1,w.queue),w=_i(),O={state:l,dispatch:null,action:s,pending:null},w.queue=O,g=Q1.bind(null,Fr,O,L,g),O.dispatch=g,w.memoizedState=s,[l,g,!1]}function Dl(s){var l=Ua();return Ll(l,an,s)}function Ll(s,l,g){if(l=zu(s,l,qd)[0],s=Uf(ul)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var w=pc(l)}catch(re){throw re===Ve?it:re}else w=l;l=Ua();var O=l.queue,L=O.dispatch;return g!==l.memoizedState&&(Fr.flags|=2048,Zc(9,{destroy:void 0},Wf.bind(null,O,g),null)),[w,L,s]}function Wf(s,l){s.action=l}function Gf(s){var l=Ua(),g=an;if(g!==null)return Ll(l,g,s);Ua(),l=l.memoizedState,g=Ua();var w=g.queue.dispatch;return g.memoizedState=s,[l,w,!1]}function Zc(s,l,g,w){return s={tag:s,create:g,deps:w,inst:l,next:null},l=Fr.updateQueue,l===null&&(l=Ud(),Fr.updateQueue=l),g=l.lastEffect,g===null?l.lastEffect=s.next=s:(w=g.next,g.next=s,s.next=w,l.lastEffect=s),s}function tp(){return Ua().memoizedState}function Uu(s,l,g,w){var O=_i();Fr.flags|=s,O.memoizedState=Zc(1|l,{destroy:void 0},g,w===void 0?null:w)}function qu(s,l,g,w){var O=Ua();w=w===void 0?null:w;var L=O.memoizedState.inst;an!==null&&w!==null&&Jh(w,an.memoizedState.deps)?O.memoizedState=Zc(l,L,g,w):(Fr.flags|=s,O.memoizedState=Zc(1|l,L,g,w))}function J3(s,l){Uu(8390656,8,s,l)}function qx(s,l){qu(2048,8,s,l)}function MM(s){Fr.flags|=4;var l=Fr.updateQueue;if(l===null)l=Ud(),Fr.updateQueue=l,l.events=[s];else{var g=l.events;g===null?l.events=[s]:g.push(s)}}function e4(s){var l=Ua().memoizedState;return MM({ref:l,nextImpl:s}),function(){if(Vn&2)throw Error(n(440));return l.impl.apply(void 0,arguments)}}function t4(s,l){return qu(4,2,s,l)}function r4(s,l){return qu(4,4,s,l)}function n4(s,l){if(typeof l=="function"){s=s();var g=l(s);return function(){typeof g=="function"?g():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function a4(s,l,g){g=g!=null?g.concat([s]):null,qu(4,4,n4.bind(null,l,s),g)}function Hx(){}function i4(s,l){var g=Ua();l=l===void 0?null:l;var w=g.memoizedState;return l!==null&&Jh(l,w[1])?w[0]:(g.memoizedState=[s,l],s)}function s4(s,l){var g=Ua();l=l===void 0?null:l;var w=g.memoizedState;if(l!==null&&Jh(l,w[1]))return w[0];if(w=s(),cl){er(!0);try{s()}finally{er(!1)}}return g.memoizedState=[w,l],w}function Vx(s,l,g){return g===void 0||to&1073741824&&!(bn&261930)?s.memoizedState=l:(s.memoizedState=g,s=oA(),Fr.lanes|=s,Wu|=s,g)}function o4(s,l,g,w){return A(g,l)?g:Fa.current!==null?(s=Vx(s,g,w),A(s,l)||(ji=!0),s):!(to&42)||to&1073741824&&!(bn&261930)?(ji=!0,s.memoizedState=g):(s=oA(),Fr.lanes|=s,Wu|=s,l)}function l4(s,l,g,w,O){var L=se.p;se.p=L!==0&&8>L?L:8;var re=te.T,Ce={};te.T=Ce,Yx(s,!1,l,g);try{var Ue=O(),lt=te.S;if(lt!==null&&lt(Ce,Ue),Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"){var wt=he(Ue,w);o0(s,l,wt,Vo(s))}else o0(s,l,w,Vo(s))}catch(kt){o0(s,l,{then:function(){},status:"rejected",reason:kt},Vo())}finally{se.p=L,re!==null&&Ce.types!==null&&(re.types=Ce.types),te.T=re}}function DM(){}function Wx(s,l,g,w){if(s.tag!==5)throw Error(n(476));var O=c4(s).queue;l4(s,O,l,ue,g===null?DM:function(){return u4(s),g(w)})}function c4(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:ue},next:null};var g={};return l.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:g},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function u4(s){var l=c4(s);l.next===null&&(l=s.alternate.memoizedState),o0(s,l.next.queue,{},Vo())}function Gx(){return Vi(S0)}function d4(){return Ua().memoizedState}function f4(){return Ua().memoizedState}function LM(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var g=Vo();s=Mr(g);var w=$n(l,s,g);w!==null&&(_o(w,l,g),Si(w,l,g)),l={cache:Bu()},s.payload=l;return}l=l.return}}function PM(s,l,g){var w=Vo();g={lane:w,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},rp(s)?p4(l,g):(g=Iu(s,l,g,w),g!==null&&(_o(g,s,w),m4(g,l,w)))}function h4(s,l,g){var w=Vo();o0(s,l,g,w)}function o0(s,l,g,w){var O={lane:w,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(rp(s))p4(l,O);else{var L=s.alternate;if(s.lanes===0&&(L===null||L.lanes===0)&&(L=l.lastRenderedReducer,L!==null))try{var re=l.lastRenderedState,Ce=L(re,g);if(O.hasEagerState=!0,O.eagerState=Ce,A(Ce,re))return jl(s,l,O,0),ma===null&&ac(),!1}catch{}finally{}if(g=Iu(s,l,O,w),g!==null)return _o(g,s,w),m4(g,l,w),!0}return!1}function Yx(s,l,g,w){if(w={lane:2,revertLane:E2(),gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},rp(s)){if(l)throw Error(n(479))}else l=Iu(s,g,w,2),l!==null&&_o(l,s,2)}function rp(s){var l=s.alternate;return s===Fr||l!==null&&l===Fr}function p4(s,l){$c=kl=!0;var g=s.pending;g===null?l.next=l:(l.next=g.next,g.next=l),s.pending=l}function m4(s,l,g){if(g&4194048){var w=l.lanes;w&=s.pendingLanes,g|=w,l.lanes=g,ea(s,g)}}var l0={readContext:Vi,use:Fu,useCallback:ra,useContext:ra,useEffect:ra,useImperativeHandle:ra,useLayoutEffect:ra,useInsertionEffect:ra,useMemo:ra,useReducer:ra,useRef:ra,useState:ra,useDebugValue:ra,useDeferredValue:ra,useTransition:ra,useSyncExternalStore:ra,useId:ra,useHostTransitionStatus:ra,useFormState:ra,useActionState:ra,useOptimistic:ra,useMemoCache:ra,useCacheRefresh:ra};l0.useEffectEvent=ra;var g4={readContext:Vi,use:Fu,useCallback:function(s,l){return _i().memoizedState=[s,l===void 0?null:l],s},useContext:Vi,useEffect:J3,useImperativeHandle:function(s,l,g){g=g!=null?g.concat([s]):null,Uu(4194308,4,n4.bind(null,l,s),g)},useLayoutEffect:function(s,l){return Uu(4194308,4,s,l)},useInsertionEffect:function(s,l){Uu(4,2,s,l)},useMemo:function(s,l){var g=_i();l=l===void 0?null:l;var w=s();if(cl){er(!0);try{s()}finally{er(!1)}}return g.memoizedState=[w,l],w},useReducer:function(s,l,g){var w=_i();if(g!==void 0){var O=g(l);if(cl){er(!0);try{g(l)}finally{er(!1)}}}else O=l;return w.memoizedState=w.baseState=O,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:O},w.queue=s,s=s.dispatch=PM.bind(null,Fr,s),[w.memoizedState,s]},useRef:function(s){var l=_i();return s={current:s},l.memoizedState=s},useState:function(s){s=mc(s);var l=s.queue,g=h4.bind(null,Fr,l);return l.dispatch=g,[s.memoizedState,g]},useDebugValue:Hx,useDeferredValue:function(s,l){var g=_i();return Vx(g,s,l)},useTransition:function(){var s=mc(!1);return s=l4.bind(null,Fr,s.queue,!0,!1),_i().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,g){var w=Fr,O=_i();if(hn){if(g===void 0)throw Error(n(407));g=g()}else{if(g=l(),ma===null)throw Error(n(349));bn&127||Ml(w,l,g)}O.memoizedState=g;var L={value:g,getSnapshot:l};return O.queue=L,J3(a0.bind(null,w,L,s),[s]),w.flags|=2048,Zc(9,{destroy:void 0},n0.bind(null,w,L,g,l),null),g},useId:function(){var s=_i(),l=ma.identifierPrefix;if(hn){var g=bo,w=yo;g=(w&~(1<<32-Qt(w)-1)).toString(32)+g,l="_"+l+"R_"+g,g=zd++,0<g&&(l+="H"+g.toString(32)),l+="_"}else g=Bf++,l="_"+l+"r_"+g.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:Gx,useFormState:dl,useActionState:dl,useOptimistic:function(s){var l=_i();l.memoizedState=l.baseState=s;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=g,l=Yx.bind(null,Fr,!0,g),g.dispatch=l,[s,l]},useMemoCache:Xc,useCacheRefresh:function(){return _i().memoizedState=LM.bind(null,Fr)},useEffectEvent:function(s){var l=_i(),g={impl:s};return l.memoizedState=g,function(){if(Vn&2)throw Error(n(440));return g.impl.apply(void 0,arguments)}}},$x={readContext:Vi,use:Fu,useCallback:i4,useContext:Vi,useEffect:qx,useImperativeHandle:a4,useInsertionEffect:t4,useLayoutEffect:r4,useMemo:s4,useReducer:Uf,useRef:tp,useState:function(){return Uf(ul)},useDebugValue:Hx,useDeferredValue:function(s,l){var g=Ua();return o4(g,an.memoizedState,s,l)},useTransition:function(){var s=Uf(ul)[0],l=Ua().memoizedState;return[typeof s=="boolean"?s:pc(s),l]},useSyncExternalStore:Hf,useId:d4,useHostTransitionStatus:Gx,useFormState:Dl,useActionState:Dl,useOptimistic:function(s,l){var g=Ua();return Z1(g,an,s,l)},useMemoCache:Xc,useCacheRefresh:f4};$x.useEffectEvent=e4;var x4={readContext:Vi,use:Fu,useCallback:i4,useContext:Vi,useEffect:qx,useImperativeHandle:a4,useInsertionEffect:t4,useLayoutEffect:r4,useMemo:s4,useReducer:qf,useRef:tp,useState:function(){return qf(ul)},useDebugValue:Hx,useDeferredValue:function(s,l){var g=Ua();return an===null?Vx(g,s,l):o4(g,an.memoizedState,s,l)},useTransition:function(){var s=qf(ul)[0],l=Ua().memoizedState;return[typeof s=="boolean"?s:pc(s),l]},useSyncExternalStore:Hf,useId:d4,useHostTransitionStatus:Gx,useFormState:Gf,useActionState:Gf,useOptimistic:function(s,l){var g=Ua();return an!==null?Z1(g,an,s,l):(g.baseState=s,[s,g.queue.dispatch])},useMemoCache:Xc,useCacheRefresh:f4};x4.useEffectEvent=e4;function Xx(s,l,g,w){l=s.memoizedState,g=g(w,l),g=g==null?l:y({},l,g),s.memoizedState=g,s.lanes===0&&(s.updateQueue.baseState=g)}var Kx={enqueueSetState:function(s,l,g){s=s._reactInternals;var w=Vo(),O=Mr(w);O.payload=l,g!=null&&(O.callback=g),l=$n(s,O,w),l!==null&&(_o(l,s,w),Si(l,s,w))},enqueueReplaceState:function(s,l,g){s=s._reactInternals;var w=Vo(),O=Mr(w);O.tag=1,O.payload=l,g!=null&&(O.callback=g),l=$n(s,O,w),l!==null&&(_o(l,s,w),Si(l,s,w))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var g=Vo(),w=Mr(g);w.tag=2,l!=null&&(w.callback=l),l=$n(s,w,g),l!==null&&(_o(l,s,g),Si(l,s,g))}};function v4(s,l,g,w,O,L,re){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(w,L,re):l.prototype&&l.prototype.isPureReactComponent?!C(g,w)||!C(O,L):!0}function y4(s,l,g,w){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(g,w),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(g,w),l.state!==s&&Kx.enqueueReplaceState(l,l.state,null)}function Hd(s,l){var g=l;if("ref"in l){g={};for(var w in l)w!=="ref"&&(g[w]=l[w])}if(s=s.defaultProps){g===l&&(g=y({},g));for(var O in s)g[O]===void 0&&(g[O]=s[O])}return g}function b4(s){qn(s)}function w4(s){console.error(s)}function A4(s){qn(s)}function np(s,l){try{var g=s.onUncaughtError;g(l.value,{componentStack:l.stack})}catch(w){setTimeout(function(){throw w})}}function N4(s,l,g){try{var w=s.onCaughtError;w(g.value,{componentStack:g.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function Zx(s,l,g){return g=Mr(g),g.tag=3,g.payload={element:null},g.callback=function(){np(s,l)},g}function S4(s){return s=Mr(s),s.tag=3,s}function E4(s,l,g,w){var O=g.type.getDerivedStateFromError;if(typeof O=="function"){var L=w.value;s.payload=function(){return O(L)},s.callback=function(){N4(l,g,w)}}var re=g.stateNode;re!==null&&typeof re.componentDidCatch=="function"&&(s.callback=function(){N4(l,g,w),typeof O!="function"&&(Gu===null?Gu=new Set([this]):Gu.add(this));var Ce=w.stack;this.componentDidCatch(w.value,{componentStack:Ce!==null?Ce:""})})}function RM(s,l,g,w,O){if(g.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(l=g.alternate,l!==null&&uc(l,g,O,!0),g=Ka.current,g!==null){switch(g.tag){case 31:case 13:return Ci===null?mp():g.alternate===null&&ii===0&&(ii=3),g.flags&=-257,g.flags|=65536,g.lanes=O,w===Ke?g.flags|=16384:(l=g.updateQueue,l===null?g.updateQueue=new Set([w]):l.add(w),A2(s,w,O)),!1;case 22:return g.flags|=65536,w===Ke?g.flags|=16384:(l=g.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([w])},g.updateQueue=l):(g=l.retryQueue,g===null?l.retryQueue=new Set([w]):g.add(w)),A2(s,w,O)),!1}throw Error(n(435,g.tag))}return A2(s,w,O),mp(),!1}if(hn)return l=Ka.current,l!==null?(!(l.flags&65536)&&(l.flags|=256),l.flags|=65536,l.lanes=O,w!==Uo&&(s=Error(n(422),{cause:w}),Pu(go(s,g)))):(w!==Uo&&(l=Error(n(423),{cause:w}),Pu(go(l,g))),s=s.current.alternate,s.flags|=65536,O&=-O,s.lanes|=O,w=go(w,g),O=Zx(s.stateNode,w,O),Ba(s,O),ii!==4&&(ii=2)),!1;var L=Error(n(520),{cause:w});if(L=go(L,g),g0===null?g0=[L]:g0.push(L),ii!==4&&(ii=2),l===null)return!0;w=go(w,g),g=l;do{switch(g.tag){case 3:return g.flags|=65536,s=O&-O,g.lanes|=s,s=Zx(g.stateNode,w,s),Ba(g,s),!1;case 1:if(l=g.type,L=g.stateNode,(g.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Gu===null||!Gu.has(L))))return g.flags|=65536,O&=-O,g.lanes|=O,O=S4(O),E4(O,s,g,w),Ba(g,O),!1}g=g.return}while(g!==null);return!1}var Qx=Error(n(461)),ji=!1;function As(s,l,g,w){l.child=s===null?yn(l,null,g,w):pn(l,s.child,g,w)}function C4(s,l,g,w,O){g=g.render;var L=l.ref;if("ref"in w){var re={};for(var Ce in w)Ce!=="ref"&&(re[Ce]=w[Ce])}else re=w;return dc(l),w=e0(s,l,g,re,L,O),Ce=t0(),s!==null&&!ji?(r0(s,l,O),Qc(s,l,O)):(hn&&Ce&&Kh(l),l.flags|=1,As(s,l,w,O),l.child)}function _4(s,l,g,w,O){if(s===null){var L=g.type;return typeof L=="function"&&!Of(L)&&L.defaultProps===void 0&&g.compare===null?(l.tag=15,l.type=L,j4(s,l,L,w,O)):(s=Mu(g.type,null,w,l,l.mode,O),s.ref=l.ref,s.return=l,l.child=s)}if(L=s.child,!s2(s,O)){var re=L.memoizedProps;if(g=g.compare,g=g!==null?g:C,g(re,w)&&s.ref===l.ref)return Qc(s,l,O)}return l.flags|=1,s=mo(L,w),s.ref=l.ref,s.return=l,l.child=s}function j4(s,l,g,w,O){if(s!==null){var L=s.memoizedProps;if(C(L,w)&&s.ref===l.ref)if(ji=!1,l.pendingProps=w=L,s2(s,O))s.flags&131072&&(ji=!0);else return l.lanes=s.lanes,Qc(s,l,O)}return Jx(s,l,g,w,O)}function O4(s,l,g,w){var O=w.children,L=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),w.mode==="hidden"){if(l.flags&128){if(L=L!==null?L.baseLanes|g:g,s!==null){for(w=l.child=s.child,O=0;w!==null;)O=O|w.lanes|w.childLanes,w=w.sibling;w=O&~L}else w=0,l.child=null;return T4(s,l,L,g,w)}if(g&536870912)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&_e(l,L!==null?L.cachePool:null),L!==null?Js(l,L):Ao(),ja(l);else return w=l.lanes=536870912,T4(s,l,L!==null?L.baseLanes|g:g,g,w)}else L!==null?(_e(l,L.cachePool),Js(l,L),ll(),l.memoizedState=null):(s!==null&&_e(l,null),Ao(),ll());return As(s,l,O,g),l.child}function c0(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function T4(s,l,g,w,O){var L=Ee();return L=L===null?null:{parent:Xa._currentValue,pool:L},l.memoizedState={baseLanes:g,cachePool:L},s!==null&&_e(l,null),Ao(),ja(l),s!==null&&uc(s,l,w,!0),l.childLanes=O,null}function ap(s,l){return l=sp({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function k4(s,l,g){return pn(l,s.child,null,g),s=ap(l,l.pendingProps),s.flags|=2,Ms(l),l.memoizedState=null,s}function BM(s,l,g){var w=l.pendingProps,O=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(hn){if(w.mode==="hidden")return s=ap(l,w),l.lanes=536870912,c0(null,s);if(ol(l),(s=ha)?(s=HA(s,Ra),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:sc!==null?{id:yo,overflow:bo}:null,retryLane:536870912,hydrationErrors:null},g=Tf(s),g.return=l,l.child=g,qi=l,ha=null)):s=null,s===null)throw oc(l);return l.lanes=536870912,null}return ap(l,w)}var L=s.memoizedState;if(L!==null){var re=L.dehydrated;if(ol(l),O)if(l.flags&256)l.flags&=-257,l=k4(s,l,g);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(n(558));else if(ji||uc(s,l,g,!1),O=(g&s.childLanes)!==0,ji||O){if(w=ma,w!==null&&(re=ya(w,g),re!==0&&re!==L.retryLane))throw L.retryLane=re,Ol(s,re),_o(w,s,re),Qx;mp(),l=k4(s,l,g)}else s=L.treeContext,ha=fl(re.nextSibling),qi=l,hn=!0,ws=null,Ra=!1,s!==null&&$1(l,s),l=ap(l,w),l.flags|=4096;return l}return s=mo(s.child,{mode:w.mode,children:w.children}),s.ref=l.ref,l.child=s,s.return=l,s}function ip(s,l){var g=l.ref;if(g===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(n(284));(s===null||s.ref!==g)&&(l.flags|=4194816)}}function Jx(s,l,g,w,O){return dc(l),g=e0(s,l,g,w,void 0,O),w=t0(),s!==null&&!ji?(r0(s,l,O),Qc(s,l,O)):(hn&&w&&Kh(l),l.flags|=1,As(s,l,g,O),l.child)}function I4(s,l,g,w,O,L){return dc(l),l.updateQueue=null,g=Il(l,w,g,O),Ff(s),w=t0(),s!==null&&!ji?(r0(s,l,L),Qc(s,l,L)):(hn&&w&&Kh(l),l.flags|=1,As(s,l,g,L),l.child)}function M4(s,l,g,w,O){if(dc(l),l.stateNode===null){var L=Ui,re=g.contextType;typeof re=="object"&&re!==null&&(L=Vi(re)),L=new g(w,L),l.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=Kx,l.stateNode=L,L._reactInternals=l,L=l.stateNode,L.props=w,L.state=l.memoizedState,L.refs={},Hn(l),re=g.contextType,L.context=typeof re=="object"&&re!==null?Vi(re):Ui,L.state=l.memoizedState,re=g.getDerivedStateFromProps,typeof re=="function"&&(Xx(l,g,re,w),L.state=l.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(re=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),re!==L.state&&Kx.enqueueReplaceState(L,L.state,null),Wi(l,w,L,O),An(),L.state=l.memoizedState),typeof L.componentDidMount=="function"&&(l.flags|=4194308),w=!0}else if(s===null){L=l.stateNode;var Ce=l.memoizedProps,Ue=Hd(g,Ce);L.props=Ue;var lt=L.context,wt=g.contextType;re=Ui,typeof wt=="object"&&wt!==null&&(re=Vi(wt));var kt=g.getDerivedStateFromProps;wt=typeof kt=="function"||typeof L.getSnapshotBeforeUpdate=="function",Ce=l.pendingProps!==Ce,wt||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(Ce||lt!==re)&&y4(l,L,w,re),qr=!1;var ft=l.memoizedState;L.state=ft,Wi(l,w,L,O),An(),lt=l.memoizedState,Ce||ft!==lt||qr?(typeof kt=="function"&&(Xx(l,g,kt,w),lt=l.memoizedState),(Ue=qr||v4(l,g,Ue,w,ft,lt,re))?(wt||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(l.flags|=4194308)):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=w,l.memoizedState=lt),L.props=w,L.state=lt,L.context=re,w=Ue):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),w=!1)}else{L=l.stateNode,In(s,l),re=l.memoizedProps,wt=Hd(g,re),L.props=wt,kt=l.pendingProps,ft=L.context,lt=g.contextType,Ue=Ui,typeof lt=="object"&&lt!==null&&(Ue=Vi(lt)),Ce=g.getDerivedStateFromProps,(lt=typeof Ce=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(re!==kt||ft!==Ue)&&y4(l,L,w,Ue),qr=!1,ft=l.memoizedState,L.state=ft,Wi(l,w,L,O),An();var gt=l.memoizedState;re!==kt||ft!==gt||qr||s!==null&&s.dependencies!==null&&Lf(s.dependencies)?(typeof Ce=="function"&&(Xx(l,g,Ce,w),gt=l.memoizedState),(wt=qr||v4(l,g,wt,w,ft,gt,Ue)||s!==null&&s.dependencies!==null&&Lf(s.dependencies))?(lt||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(w,gt,Ue),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(w,gt,Ue)),typeof L.componentDidUpdate=="function"&&(l.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof L.componentDidUpdate!="function"||re===s.memoizedProps&&ft===s.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||re===s.memoizedProps&&ft===s.memoizedState||(l.flags|=1024),l.memoizedProps=w,l.memoizedState=gt),L.props=w,L.state=gt,L.context=Ue,w=wt):(typeof L.componentDidUpdate!="function"||re===s.memoizedProps&&ft===s.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||re===s.memoizedProps&&ft===s.memoizedState||(l.flags|=1024),w=!1)}return L=w,ip(s,l),w=(l.flags&128)!==0,L||w?(L=l.stateNode,g=w&&typeof g.getDerivedStateFromError!="function"?null:L.render(),l.flags|=1,s!==null&&w?(l.child=pn(l,s.child,null,O),l.child=pn(l,null,g,O)):As(s,l,g,O),l.memoizedState=L.state,s=l.child):s=Qc(s,l,O),s}function D4(s,l,g,w){return Wc(),l.flags|=256,As(s,l,g,w),l.child}var e2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function t2(s){return{baseLanes:s,cachePool:De()}}function r2(s,l,g){return s=s!==null?s.childLanes&~g:0,l&&(s|=Ho),s}function L4(s,l,g){var w=l.pendingProps,O=!1,L=(l.flags&128)!==0,re;if((re=L)||(re=s!==null&&s.memoizedState===null?!1:(za.current&2)!==0),re&&(O=!0,l.flags&=-129),re=(l.flags&32)!==0,l.flags&=-33,s===null){if(hn){if(O?eo(l):ll(),(s=ha)?(s=HA(s,Ra),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:sc!==null?{id:yo,overflow:bo}:null,retryLane:536870912,hydrationErrors:null},g=Tf(s),g.return=l,l.child=g,qi=l,ha=null)):s=null,s===null)throw oc(l);return B2(s)?l.lanes=32:l.lanes=536870912,null}var Ce=w.children;return w=w.fallback,O?(ll(),O=l.mode,Ce=sp({mode:"hidden",children:Ce},O),w=ic(w,O,g,null),Ce.return=l,w.return=l,Ce.sibling=w,l.child=Ce,w=l.child,w.memoizedState=t2(g),w.childLanes=r2(s,re,g),l.memoizedState=e2,c0(null,w)):(eo(l),n2(l,Ce))}var Ue=s.memoizedState;if(Ue!==null&&(Ce=Ue.dehydrated,Ce!==null)){if(L)l.flags&256?(eo(l),l.flags&=-257,l=a2(s,l,g)):l.memoizedState!==null?(ll(),l.child=s.child,l.flags|=128,l=null):(ll(),Ce=w.fallback,O=l.mode,w=sp({mode:"visible",children:w.children},O),Ce=ic(Ce,O,g,null),Ce.flags|=2,w.return=l,Ce.return=l,w.sibling=Ce,l.child=w,pn(l,s.child,null,g),w=l.child,w.memoizedState=t2(g),w.childLanes=r2(s,re,g),l.memoizedState=e2,l=c0(null,w));else if(eo(l),B2(Ce)){if(re=Ce.nextSibling&&Ce.nextSibling.dataset,re)var lt=re.dgst;re=lt,w=Error(n(419)),w.stack="",w.digest=re,Pu({value:w,source:null,stack:null}),l=a2(s,l,g)}else if(ji||uc(s,l,g,!1),re=(g&s.childLanes)!==0,ji||re){if(re=ma,re!==null&&(w=ya(re,g),w!==0&&w!==Ue.retryLane))throw Ue.retryLane=w,Ol(s,w),_o(re,s,w),Qx;R2(Ce)||mp(),l=a2(s,l,g)}else R2(Ce)?(l.flags|=192,l.child=s.child,l=null):(s=Ue.treeContext,ha=fl(Ce.nextSibling),qi=l,hn=!0,ws=null,Ra=!1,s!==null&&$1(l,s),l=n2(l,w.children),l.flags|=4096);return l}return O?(ll(),Ce=w.fallback,O=l.mode,Ue=s.child,lt=Ue.sibling,w=mo(Ue,{mode:"hidden",children:w.children}),w.subtreeFlags=Ue.subtreeFlags&65011712,lt!==null?Ce=mo(lt,Ce):(Ce=ic(Ce,O,g,null),Ce.flags|=2),Ce.return=l,w.return=l,w.sibling=Ce,l.child=w,c0(null,w),w=l.child,Ce=s.child.memoizedState,Ce===null?Ce=t2(g):(O=Ce.cachePool,O!==null?(Ue=Xa._currentValue,O=O.parent!==Ue?{parent:Ue,pool:Ue}:O):O=De(),Ce={baseLanes:Ce.baseLanes|g,cachePool:O}),w.memoizedState=Ce,w.childLanes=r2(s,re,g),l.memoizedState=e2,c0(s.child,w)):(eo(l),g=s.child,s=g.sibling,g=mo(g,{mode:"visible",children:w.children}),g.return=l,g.sibling=null,s!==null&&(re=l.deletions,re===null?(l.deletions=[s],l.flags|=16):re.push(s)),l.child=g,l.memoizedState=null,g)}function n2(s,l){return l=sp({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function sp(s,l){return s=ss(22,s,null,l),s.lanes=0,s}function a2(s,l,g){return pn(l,s.child,null,g),s=n2(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function P4(s,l,g){s.lanes|=l;var w=s.alternate;w!==null&&(w.lanes|=l),Ru(s.return,l,g)}function i2(s,l,g,w,O,L){var re=s.memoizedState;re===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:O,treeForkCount:L}:(re.isBackwards=l,re.rendering=null,re.renderingStartTime=0,re.last=w,re.tail=g,re.tailMode=O,re.treeForkCount=L)}function R4(s,l,g){var w=l.pendingProps,O=w.revealOrder,L=w.tail;w=w.children;var re=za.current,Ce=(re&2)!==0;if(Ce?(re=re&1|2,l.flags|=128):re&=1,H(za,re),As(s,l,w,g),w=hn?Rd:0,!Ce&&s!==null&&s.flags&128)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&P4(s,g,l);else if(s.tag===19)P4(s,g,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(O){case"forwards":for(g=l.child,O=null;g!==null;)s=g.alternate,s!==null&&Yc(s)===null&&(O=g),g=g.sibling;g=O,g===null?(O=l.child,l.child=null):(O=g.sibling,g.sibling=null),i2(l,!1,O,g,L,w);break;case"backwards":case"unstable_legacy-backwards":for(g=null,O=l.child,l.child=null;O!==null;){if(s=O.alternate,s!==null&&Yc(s)===null){l.child=O;break}s=O.sibling,O.sibling=g,g=O,O=s}i2(l,!0,g,null,L,w);break;case"together":i2(l,!1,null,null,void 0,w);break;default:l.memoizedState=null}return l.child}function Qc(s,l,g){if(s!==null&&(l.dependencies=s.dependencies),Wu|=l.lanes,!(g&l.childLanes))if(s!==null){if(uc(s,l,g,!1),(g&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,g=mo(s,s.pendingProps),l.child=g,g.return=l;s.sibling!==null;)s=s.sibling,g=g.sibling=mo(s,s.pendingProps),g.return=l;g.sibling=null}return l.child}function s2(s,l){return s.lanes&l?!0:(s=s.dependencies,!!(s!==null&&Lf(s)))}function FM(s,l,g){switch(l.tag){case 3:ke(l,l.stateNode.containerInfo),cc(l,Xa,s.memoizedState.cache),Wc();break;case 27:case 5:xe(l);break;case 4:ke(l,l.stateNode.containerInfo);break;case 10:cc(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,ol(l),null;break;case 13:var w=l.memoizedState;if(w!==null)return w.dehydrated!==null?(eo(l),l.flags|=128,null):g&l.child.childLanes?L4(s,l,g):(eo(l),s=Qc(s,l,g),s!==null?s.sibling:null);eo(l);break;case 19:var O=(s.flags&128)!==0;if(w=(g&l.childLanes)!==0,w||(uc(s,l,g,!1),w=(g&l.childLanes)!==0),O){if(w)return R4(s,l,g);l.flags|=128}if(O=l.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),H(za,za.current),w)break;return null;case 22:return l.lanes=0,O4(s,l,g,l.pendingProps);case 24:cc(l,Xa,s.memoizedState.cache)}return Qc(s,l,g)}function B4(s,l,g){if(s!==null)if(s.memoizedProps!==l.pendingProps)ji=!0;else{if(!s2(s,g)&&!(l.flags&128))return ji=!1,FM(s,l,g);ji=!!(s.flags&131072)}else ji=!1,hn&&l.flags&1048576&&Y1(l,Rd,l.index);switch(l.lanes=0,l.tag){case 16:e:{var w=l.pendingProps;if(s=We(l.elementType),l.type=s,typeof s=="function")Of(s)?(w=Hd(s,w),l.tag=1,l=M4(null,l,s,w,g)):(l.tag=0,l=Jx(null,l,s,w,g));else{if(s!=null){var O=s.$$typeof;if(O===G){l.tag=11,l=C4(null,l,s,w,g);break e}else if(O===V){l.tag=14,l=_4(null,l,s,w,g);break e}}throw l=ie(s)||s,Error(n(306,l,""))}}return l;case 0:return Jx(s,l,l.type,l.pendingProps,g);case 1:return w=l.type,O=Hd(w,l.pendingProps),M4(s,l,w,O,g);case 3:e:{if(ke(l,l.stateNode.containerInfo),s===null)throw Error(n(387));w=l.pendingProps;var L=l.memoizedState;O=L.element,In(s,l),Wi(l,w,null,g);var re=l.memoizedState;if(w=re.cache,cc(l,Xa,w),w!==L.cache&&Gc(l,[Xa],g,!0),An(),w=re.element,L.isDehydrated)if(L={element:w,isDehydrated:!1,cache:re.cache},l.updateQueue.baseState=L,l.memoizedState=L,l.flags&256){l=D4(s,l,w,g);break e}else if(w!==O){O=go(Error(n(424)),l),Pu(O),l=D4(s,l,w,g);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ha=fl(s.firstChild),qi=l,hn=!0,ws=null,Ra=!0,g=yn(l,null,w,g),l.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Wc(),w===O){l=Qc(s,l,g);break e}As(s,l,w,g)}l=l.child}return l;case 26:return ip(s,l),s===null?(g=XA(l.type,null,l.pendingProps,null))?l.memoizedState=g:hn||(g=l.type,s=l.pendingProps,w=Ap(ve.current).createElement(g),w[Ft]=l,w[Re]=s,Ns(w,g,s),Vr(w),l.stateNode=w):l.memoizedState=XA(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return xe(l),s===null&&hn&&(w=l.stateNode=GA(l.type,l.pendingProps,ve.current),qi=l,Ra=!0,O=ha,Ku(l.type)?(F2=O,ha=fl(w.firstChild)):ha=O),As(s,l,l.pendingProps.children,g),ip(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&hn&&((O=w=ha)&&(w=mD(w,l.type,l.pendingProps,Ra),w!==null?(l.stateNode=w,qi=l,ha=fl(w.firstChild),Ra=!1,O=!0):O=!1),O||oc(l)),xe(l),O=l.type,L=l.pendingProps,re=s!==null?s.memoizedProps:null,w=L.children,D2(O,L)?w=null:re!==null&&D2(O,re)&&(l.flags|=32),l.memoizedState!==null&&(O=e0(s,l,Ux,null,null,g),S0._currentValue=O),ip(s,l),As(s,l,w,g),l.child;case 6:return s===null&&hn&&((s=g=ha)&&(g=gD(g,l.pendingProps,Ra),g!==null?(l.stateNode=g,qi=l,ha=null,s=!0):s=!1),s||oc(l)),null;case 13:return L4(s,l,g);case 4:return ke(l,l.stateNode.containerInfo),w=l.pendingProps,s===null?l.child=pn(l,null,w,g):As(s,l,w,g),l.child;case 11:return C4(s,l,l.type,l.pendingProps,g);case 7:return As(s,l,l.pendingProps,g),l.child;case 8:return As(s,l,l.pendingProps.children,g),l.child;case 12:return As(s,l,l.pendingProps.children,g),l.child;case 10:return w=l.pendingProps,cc(l,l.type,w.value),As(s,l,w.children,g),l.child;case 9:return O=l.type._context,w=l.pendingProps.children,dc(l),O=Vi(O),w=w(O),l.flags|=1,As(s,l,w,g),l.child;case 14:return _4(s,l,l.type,l.pendingProps,g);case 15:return j4(s,l,l.type,l.pendingProps,g);case 19:return R4(s,l,g);case 31:return BM(s,l,g);case 22:return O4(s,l,g,l.pendingProps);case 24:return dc(l),w=Vi(Xa),s===null?(O=Ee(),O===null&&(O=ma,L=Bu(),O.pooledCache=L,L.refCount++,L!==null&&(O.pooledCacheLanes|=g),O=L),l.memoizedState={parent:w,cache:O},Hn(l),cc(l,Xa,O)):(s.lanes&g&&(In(s,l),Wi(l,null,null,g),An()),O=s.memoizedState,L=l.memoizedState,O.parent!==w?(O={parent:w,cache:w},l.memoizedState=O,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=O),cc(l,Xa,w)):(w=L.cache,cc(l,Xa,w),w!==O.cache&&Gc(l,[Xa],g,!0))),As(s,l,l.pendingProps.children,g),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function Jc(s){s.flags|=4}function o2(s,l,g,w,O){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(O&335544128)===O)if(s.stateNode.complete)s.flags|=8192;else if(dA())s.flags|=8192;else throw $e=Ke,st}else s.flags&=-16777217}function F4(s,l){if(l.type!=="stylesheet"||l.state.loading&4)s.flags&=-16777217;else if(s.flags|=16777216,!eN(l))if(dA())s.flags|=8192;else throw $e=Ke,st}function op(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?$r():536870912,s.lanes|=l,Kf|=l)}function u0(s,l){if(!hn)switch(s.tailMode){case"hidden":l=s.tail;for(var g=null;l!==null;)l.alternate!==null&&(g=l),l=l.sibling;g===null?s.tail=null:g.sibling=null;break;case"collapsed":g=s.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:w.sibling=null}}function Oa(s){var l=s.alternate!==null&&s.alternate.child===s.child,g=0,w=0;if(l)for(var O=s.child;O!==null;)g|=O.lanes|O.childLanes,w|=O.subtreeFlags&65011712,w|=O.flags&65011712,O.return=s,O=O.sibling;else for(O=s.child;O!==null;)g|=O.lanes|O.childLanes,w|=O.subtreeFlags,w|=O.flags,O.return=s,O=O.sibling;return s.subtreeFlags|=w,s.childLanes=g,l}function zM(s,l,g){var w=l.pendingProps;switch(Mf(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oa(l),null;case 1:return Oa(l),null;case 3:return g=l.stateNode,w=null,s!==null&&(w=s.memoizedState.cache),l.memoizedState.cache!==w&&(l.flags|=2048),wo(Xa),me(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(Hi(l)?Jc(l):s===null||s.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Qh())),Oa(l),null;case 26:var O=l.type,L=l.memoizedState;return s===null?(Jc(l),L!==null?(Oa(l),F4(l,L)):(Oa(l),o2(l,O,null,w,g))):L?L!==s.memoizedState?(Jc(l),Oa(l),F4(l,L)):(Oa(l),l.flags&=-16777217):(s=s.memoizedProps,s!==w&&Jc(l),Oa(l),o2(l,O,s,w,g)),null;case 27:if(Oe(l),g=ve.current,O=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==w&&Jc(l);else{if(!w){if(l.stateNode===null)throw Error(n(166));return Oa(l),null}s=ae.current,Hi(l)?Zh(l):(s=GA(O,w,g),l.stateNode=s,Jc(l))}return Oa(l),null;case 5:if(Oe(l),O=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==w&&Jc(l);else{if(!w){if(l.stateNode===null)throw Error(n(166));return Oa(l),null}if(L=ae.current,Hi(l))Zh(l);else{var re=Ap(ve.current);switch(L){case 1:L=re.createElementNS("http://www.w3.org/2000/svg",O);break;case 2:L=re.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;default:switch(O){case"svg":L=re.createElementNS("http://www.w3.org/2000/svg",O);break;case"math":L=re.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;case"script":L=re.createElement("div"),L.innerHTML="<script><\/script>",L=L.removeChild(L.firstChild);break;case"select":L=typeof w.is=="string"?re.createElement("select",{is:w.is}):re.createElement("select"),w.multiple?L.multiple=!0:w.size&&(L.size=w.size);break;default:L=typeof w.is=="string"?re.createElement(O,{is:w.is}):re.createElement(O)}}L[Ft]=l,L[Re]=w;e:for(re=l.child;re!==null;){if(re.tag===5||re.tag===6)L.appendChild(re.stateNode);else if(re.tag!==4&&re.tag!==27&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===l)break e;for(;re.sibling===null;){if(re.return===null||re.return===l)break e;re=re.return}re.sibling.return=re.return,re=re.sibling}l.stateNode=L;e:switch(Ns(L,O,w),O){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}w&&Jc(l)}}return Oa(l),o2(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,g),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==w&&Jc(l);else{if(typeof w!="string"&&l.stateNode===null)throw Error(n(166));if(s=ve.current,Hi(l)){if(s=l.stateNode,g=l.memoizedProps,w=null,O=qi,O!==null)switch(O.tag){case 27:case 5:w=O.memoizedProps}s[Ft]=l,s=!!(s.nodeValue===g||w!==null&&w.suppressHydrationWarning===!0||LA(s.nodeValue,g)),s||oc(l,!0)}else s=Ap(s).createTextNode(w),s[Ft]=l,l.stateNode=s}return Oa(l),null;case 31:if(g=l.memoizedState,s===null||s.memoizedState!==null){if(w=Hi(l),g!==null){if(s===null){if(!w)throw Error(n(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[Ft]=l}else Wc(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;Oa(l),s=!1}else g=Qh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),s=!0;if(!s)return l.flags&256?(Ms(l),l):(Ms(l),null);if(l.flags&128)throw Error(n(558))}return Oa(l),null;case 13:if(w=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(O=Hi(l),w!==null&&w.dehydrated!==null){if(s===null){if(!O)throw Error(n(318));if(O=l.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[Ft]=l}else Wc(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;Oa(l),O=!1}else O=Qh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=O),O=!0;if(!O)return l.flags&256?(Ms(l),l):(Ms(l),null)}return Ms(l),l.flags&128?(l.lanes=g,l):(g=w!==null,s=s!==null&&s.memoizedState!==null,g&&(w=l.child,O=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(O=w.alternate.memoizedState.cachePool.pool),L=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(L=w.memoizedState.cachePool.pool),L!==O&&(w.flags|=2048)),g!==s&&g&&(l.child.flags|=8192),op(l,l.updateQueue),Oa(l),null);case 4:return me(),s===null&&O2(l.stateNode.containerInfo),Oa(l),null;case 10:return wo(l.type),Oa(l),null;case 19:if(U(za),w=l.memoizedState,w===null)return Oa(l),null;if(O=(l.flags&128)!==0,L=w.rendering,L===null)if(O)u0(w,!1);else{if(ii!==0||s!==null&&s.flags&128)for(s=l.child;s!==null;){if(L=Yc(s),L!==null){for(l.flags|=128,u0(w,!1),s=L.updateQueue,l.updateQueue=s,op(l,s),l.subtreeFlags=0,s=g,g=l.child;g!==null;)Ld(g,s),g=g.sibling;return H(za,za.current&1|2),hn&&Qs(l,w.treeForkCount),l.child}s=s.sibling}w.tail!==null&&Ht()>fp&&(l.flags|=128,O=!0,u0(w,!1),l.lanes=4194304)}else{if(!O)if(s=Yc(L),s!==null){if(l.flags|=128,O=!0,s=s.updateQueue,l.updateQueue=s,op(l,s),u0(w,!0),w.tail===null&&w.tailMode==="hidden"&&!L.alternate&&!hn)return Oa(l),null}else 2*Ht()-w.renderingStartTime>fp&&g!==536870912&&(l.flags|=128,O=!0,u0(w,!1),l.lanes=4194304);w.isBackwards?(L.sibling=l.child,l.child=L):(s=w.last,s!==null?s.sibling=L:l.child=L,w.last=L)}return w.tail!==null?(s=w.tail,w.rendering=s,w.tail=s.sibling,w.renderingStartTime=Ht(),s.sibling=null,g=za.current,H(za,O?g&1|2:g&1),hn&&Qs(l,w.treeForkCount),s):(Oa(l),null);case 22:case 23:return Ms(l),ai(),w=l.memoizedState!==null,s!==null?s.memoizedState!==null!==w&&(l.flags|=8192):w&&(l.flags|=8192),w?g&536870912&&!(l.flags&128)&&(Oa(l),l.subtreeFlags&6&&(l.flags|=8192)):Oa(l),g=l.updateQueue,g!==null&&op(l,g.retryQueue),g=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),w=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(w=l.memoizedState.cachePool.pool),w!==g&&(l.flags|=2048),s!==null&&U(we),null;case 24:return g=null,s!==null&&(g=s.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),wo(Xa),Oa(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function UM(s,l){switch(Mf(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return wo(Xa),me(),s=l.flags,s&65536&&!(s&128)?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Oe(l),null;case 31:if(l.memoizedState!==null){if(Ms(l),l.alternate===null)throw Error(n(340));Wc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(Ms(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Wc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return U(za),null;case 4:return me(),null;case 10:return wo(l.type),null;case 22:case 23:return Ms(l),ai(),s!==null&&U(we),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return wo(Xa),null;case 25:return null;default:return null}}function z4(s,l){switch(Mf(l),l.tag){case 3:wo(Xa),me();break;case 26:case 27:case 5:Oe(l);break;case 4:me();break;case 31:l.memoizedState!==null&&Ms(l);break;case 13:Ms(l);break;case 19:U(za);break;case 10:wo(l.type);break;case 22:case 23:Ms(l),ai(),s!==null&&U(we);break;case 24:wo(Xa)}}function d0(s,l){try{var g=l.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var O=w.next;g=O;do{if((g.tag&s)===s){w=void 0;var L=g.create,re=g.inst;w=L(),re.destroy=w}g=g.next}while(g!==O)}}catch(Ce){Kn(l,l.return,Ce)}}function Hu(s,l,g){try{var w=l.updateQueue,O=w!==null?w.lastEffect:null;if(O!==null){var L=O.next;w=L;do{if((w.tag&s)===s){var re=w.inst,Ce=re.destroy;if(Ce!==void 0){re.destroy=void 0,O=l;var Ue=g,lt=Ce;try{lt()}catch(wt){Kn(O,Ue,wt)}}}w=w.next}while(w!==L)}}catch(wt){Kn(l,l.return,wt)}}function U4(s){var l=s.updateQueue;if(l!==null){var g=s.stateNode;try{fi(l,g)}catch(w){Kn(s,s.return,w)}}}function q4(s,l,g){g.props=Hd(s.type,s.memoizedProps),g.state=s.memoizedState;try{g.componentWillUnmount()}catch(w){Kn(s,l,w)}}function f0(s,l){try{var g=s.ref;if(g!==null){switch(s.tag){case 26:case 27:case 5:var w=s.stateNode;break;case 30:w=s.stateNode;break;default:w=s.stateNode}typeof g=="function"?s.refCleanup=g(w):g.current=w}}catch(O){Kn(s,l,O)}}function gc(s,l){var g=s.ref,w=s.refCleanup;if(g!==null)if(typeof w=="function")try{w()}catch(O){Kn(s,l,O)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(O){Kn(s,l,O)}else g.current=null}function H4(s){var l=s.type,g=s.memoizedProps,w=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":g.autoFocus&&w.focus();break e;case"img":g.src?w.src=g.src:g.srcSet&&(w.srcset=g.srcSet)}}catch(O){Kn(s,s.return,O)}}function l2(s,l,g){try{var w=s.stateNode;cD(w,s.type,g,l),w[Re]=l}catch(O){Kn(s,s.return,O)}}function V4(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ku(s.type)||s.tag===4}function c2(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||V4(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ku(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function u2(s,l,g){var w=s.tag;if(w===5||w===6)s=s.stateNode,l?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(s,l):(l=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,l.appendChild(s),g=g._reactRootContainer,g!=null||l.onclick!==null||(l.onclick=En));else if(w!==4&&(w===27&&Ku(s.type)&&(g=s.stateNode,l=null),s=s.child,s!==null))for(u2(s,l,g),s=s.sibling;s!==null;)u2(s,l,g),s=s.sibling}function lp(s,l,g){var w=s.tag;if(w===5||w===6)s=s.stateNode,l?g.insertBefore(s,l):g.appendChild(s);else if(w!==4&&(w===27&&Ku(s.type)&&(g=s.stateNode),s=s.child,s!==null))for(lp(s,l,g),s=s.sibling;s!==null;)lp(s,l,g),s=s.sibling}function W4(s){var l=s.stateNode,g=s.memoizedProps;try{for(var w=s.type,O=l.attributes;O.length;)l.removeAttributeNode(O[0]);Ns(l,w,g),l[Ft]=s,l[Re]=g}catch(L){Kn(s,s.return,L)}}var eu=!1,Oi=!1,d2=!1,G4=typeof WeakSet=="function"?WeakSet:Set,ls=null;function qM(s,l){if(s=s.containerInfo,I2=Op,s=ce(s),Ae(s)){if("selectionStart"in s)var g={start:s.selectionStart,end:s.selectionEnd};else e:{g=(g=s.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var O=w.anchorOffset,L=w.focusNode;w=w.focusOffset;try{g.nodeType,L.nodeType}catch{g=null;break e}var re=0,Ce=-1,Ue=-1,lt=0,wt=0,kt=s,ft=null;t:for(;;){for(var gt;kt!==g||O!==0&&kt.nodeType!==3||(Ce=re+O),kt!==L||w!==0&&kt.nodeType!==3||(Ue=re+w),kt.nodeType===3&&(re+=kt.nodeValue.length),(gt=kt.firstChild)!==null;)ft=kt,kt=gt;for(;;){if(kt===s)break t;if(ft===g&&++lt===O&&(Ce=re),ft===L&&++wt===w&&(Ue=re),(gt=kt.nextSibling)!==null)break;kt=ft,ft=kt.parentNode}kt=gt}g=Ce===-1||Ue===-1?null:{start:Ce,end:Ue}}else g=null}g=g||{start:0,end:0}}else g=null;for(M2={focusedElem:s,selectionRange:g},Op=!1,ls=l;ls!==null;)if(l=ls,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,ls=s;else for(;ls!==null;){switch(l=ls,L=l.alternate,s=l.flags,l.tag){case 0:if(s&4&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(g=0;g<s.length;g++)O=s[g],O.ref.impl=O.nextImpl;break;case 11:case 15:break;case 1:if(s&1024&&L!==null){s=void 0,g=l,O=L.memoizedProps,L=L.memoizedState,w=g.stateNode;try{var dr=Hd(g.type,O);s=w.getSnapshotBeforeUpdate(dr,L),w.__reactInternalSnapshotBeforeUpdate=s}catch(Dr){Kn(g,g.return,Dr)}}break;case 3:if(s&1024){if(s=l.stateNode.containerInfo,g=s.nodeType,g===9)P2(s);else if(g===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":P2(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(n(163))}if(s=l.sibling,s!==null){s.return=l.return,ls=s;break}ls=l.return}}function Y4(s,l,g){var w=g.flags;switch(g.tag){case 0:case 11:case 15:ru(s,g),w&4&&d0(5,g);break;case 1:if(ru(s,g),w&4)if(s=g.stateNode,l===null)try{s.componentDidMount()}catch(re){Kn(g,g.return,re)}else{var O=Hd(g.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(O,l,s.__reactInternalSnapshotBeforeUpdate)}catch(re){Kn(g,g.return,re)}}w&64&&U4(g),w&512&&f0(g,g.return);break;case 3:if(ru(s,g),w&64&&(s=g.updateQueue,s!==null)){if(l=null,g.child!==null)switch(g.child.tag){case 27:case 5:l=g.child.stateNode;break;case 1:l=g.child.stateNode}try{fi(s,l)}catch(re){Kn(g,g.return,re)}}break;case 27:l===null&&w&4&&W4(g);case 26:case 5:ru(s,g),l===null&&w&4&&H4(g),w&512&&f0(g,g.return);break;case 12:ru(s,g);break;case 31:ru(s,g),w&4&&K4(s,g);break;case 13:ru(s,g),w&4&&Z4(s,g),w&64&&(s=g.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(g=ZM.bind(null,g),xD(s,g))));break;case 22:if(w=g.memoizedState!==null||eu,!w){l=l!==null&&l.memoizedState!==null||Oi,O=eu;var L=Oi;eu=w,(Oi=l)&&!L?nu(s,g,(g.subtreeFlags&8772)!==0):ru(s,g),eu=O,Oi=L}break;case 30:break;default:ru(s,g)}}function $4(s){var l=s.alternate;l!==null&&(s.alternate=null,$4(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Xt(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var qa=null,No=!1;function tu(s,l,g){for(g=g.child;g!==null;)X4(s,l,g),g=g.sibling}function X4(s,l,g){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Vt,g)}catch{}switch(g.tag){case 26:Oi||gc(g,l),tu(s,l,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Oi||gc(g,l);var w=qa,O=No;Ku(g.type)&&(qa=g.stateNode,No=!1),tu(s,l,g),w0(g.stateNode),qa=w,No=O;break;case 5:Oi||gc(g,l);case 6:if(w=qa,O=No,qa=null,tu(s,l,g),qa=w,No=O,qa!==null)if(No)try{(qa.nodeType===9?qa.body:qa.nodeName==="HTML"?qa.ownerDocument.body:qa).removeChild(g.stateNode)}catch(L){Kn(g,l,L)}else try{qa.removeChild(g.stateNode)}catch(L){Kn(g,l,L)}break;case 18:qa!==null&&(No?(s=qa,UA(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,g.stateNode),ah(s)):UA(qa,g.stateNode));break;case 4:w=qa,O=No,qa=g.stateNode.containerInfo,No=!0,tu(s,l,g),qa=w,No=O;break;case 0:case 11:case 14:case 15:Hu(2,g,l),Oi||Hu(4,g,l),tu(s,l,g);break;case 1:Oi||(gc(g,l),w=g.stateNode,typeof w.componentWillUnmount=="function"&&q4(g,l,w)),tu(s,l,g);break;case 21:tu(s,l,g);break;case 22:Oi=(w=Oi)||g.memoizedState!==null,tu(s,l,g),Oi=w;break;default:tu(s,l,g)}}function K4(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ah(s)}catch(g){Kn(l,l.return,g)}}}function Z4(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ah(s)}catch(g){Kn(l,l.return,g)}}function HM(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new G4),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new G4),l;default:throw Error(n(435,s.tag))}}function cp(s,l){var g=HM(s);l.forEach(function(w){if(!g.has(w)){g.add(w);var O=QM.bind(null,s,w);w.then(O,O)}})}function So(s,l){var g=l.deletions;if(g!==null)for(var w=0;w<g.length;w++){var O=g[w],L=s,re=l,Ce=re;e:for(;Ce!==null;){switch(Ce.tag){case 27:if(Ku(Ce.type)){qa=Ce.stateNode,No=!1;break e}break;case 5:qa=Ce.stateNode,No=!1;break e;case 3:case 4:qa=Ce.stateNode.containerInfo,No=!0;break e}Ce=Ce.return}if(qa===null)throw Error(n(160));X4(L,re,O),qa=null,No=!1,L=O.alternate,L!==null&&(L.return=null),O.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Q4(l,s),l=l.sibling}var Pl=null;function Q4(s,l){var g=s.alternate,w=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:So(l,s),Eo(s),w&4&&(Hu(3,s,s.return),d0(3,s),Hu(5,s,s.return));break;case 1:So(l,s),Eo(s),w&512&&(Oi||g===null||gc(g,g.return)),w&64&&eu&&(s=s.updateQueue,s!==null&&(w=s.callbacks,w!==null&&(g=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=g===null?w:g.concat(w))));break;case 26:var O=Pl;if(So(l,s),Eo(s),w&512&&(Oi||g===null||gc(g,g.return)),w&4){var L=g!==null?g.memoizedState:null;if(w=s.memoizedState,g===null)if(w===null)if(s.stateNode===null){e:{w=s.type,g=s.memoizedProps,O=O.ownerDocument||O;t:switch(w){case"title":L=O.getElementsByTagName("title")[0],(!L||L[tr]||L[Ft]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=O.createElement(w),O.head.insertBefore(L,O.querySelector("head > title"))),Ns(L,w,g),L[Ft]=s,Vr(L),w=L;break e;case"link":var re=QA("link","href",O).get(w+(g.href||""));if(re){for(var Ce=0;Ce<re.length;Ce++)if(L=re[Ce],L.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&L.getAttribute("rel")===(g.rel==null?null:g.rel)&&L.getAttribute("title")===(g.title==null?null:g.title)&&L.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){re.splice(Ce,1);break t}}L=O.createElement(w),Ns(L,w,g),O.head.appendChild(L);break;case"meta":if(re=QA("meta","content",O).get(w+(g.content||""))){for(Ce=0;Ce<re.length;Ce++)if(L=re[Ce],L.getAttribute("content")===(g.content==null?null:""+g.content)&&L.getAttribute("name")===(g.name==null?null:g.name)&&L.getAttribute("property")===(g.property==null?null:g.property)&&L.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&L.getAttribute("charset")===(g.charSet==null?null:g.charSet)){re.splice(Ce,1);break t}}L=O.createElement(w),Ns(L,w,g),O.head.appendChild(L);break;default:throw Error(n(468,w))}L[Ft]=s,Vr(L),w=L}s.stateNode=w}else JA(O,s.type,s.stateNode);else s.stateNode=ZA(O,w,s.memoizedProps);else L!==w?(L===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):L.count--,w===null?JA(O,s.type,s.stateNode):ZA(O,w,s.memoizedProps)):w===null&&s.stateNode!==null&&l2(s,s.memoizedProps,g.memoizedProps)}break;case 27:So(l,s),Eo(s),w&512&&(Oi||g===null||gc(g,g.return)),g!==null&&w&4&&l2(s,s.memoizedProps,g.memoizedProps);break;case 5:if(So(l,s),Eo(s),w&512&&(Oi||g===null||gc(g,g.return)),s.flags&32){O=s.stateNode;try{gs(O,"")}catch(dr){Kn(s,s.return,dr)}}w&4&&s.stateNode!=null&&(O=s.memoizedProps,l2(s,O,g!==null?g.memoizedProps:O)),w&1024&&(d2=!0);break;case 6:if(So(l,s),Eo(s),w&4){if(s.stateNode===null)throw Error(n(162));w=s.memoizedProps,g=s.stateNode;try{g.nodeValue=w}catch(dr){Kn(s,s.return,dr)}}break;case 3:if(Ep=null,O=Pl,Pl=Np(l.containerInfo),So(l,s),Pl=O,Eo(s),w&4&&g!==null&&g.memoizedState.isDehydrated)try{ah(l.containerInfo)}catch(dr){Kn(s,s.return,dr)}d2&&(d2=!1,J4(s));break;case 4:w=Pl,Pl=Np(s.stateNode.containerInfo),So(l,s),Eo(s),Pl=w;break;case 12:So(l,s),Eo(s);break;case 31:So(l,s),Eo(s),w&4&&(w=s.updateQueue,w!==null&&(s.updateQueue=null,cp(s,w)));break;case 13:So(l,s),Eo(s),s.child.flags&8192&&s.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(dp=Ht()),w&4&&(w=s.updateQueue,w!==null&&(s.updateQueue=null,cp(s,w)));break;case 22:O=s.memoizedState!==null;var Ue=g!==null&&g.memoizedState!==null,lt=eu,wt=Oi;if(eu=lt||O,Oi=wt||Ue,So(l,s),Oi=wt,eu=lt,Eo(s),w&8192)e:for(l=s.stateNode,l._visibility=O?l._visibility&-2:l._visibility|1,O&&(g===null||Ue||eu||Oi||Vd(s)),g=null,l=s;;){if(l.tag===5||l.tag===26){if(g===null){Ue=g=l;try{if(L=Ue.stateNode,O)re=L.style,typeof re.setProperty=="function"?re.setProperty("display","none","important"):re.display="none";else{Ce=Ue.stateNode;var kt=Ue.memoizedProps.style,ft=kt!=null&&kt.hasOwnProperty("display")?kt.display:null;Ce.style.display=ft==null||typeof ft=="boolean"?"":(""+ft).trim()}}catch(dr){Kn(Ue,Ue.return,dr)}}}else if(l.tag===6){if(g===null){Ue=l;try{Ue.stateNode.nodeValue=O?"":Ue.memoizedProps}catch(dr){Kn(Ue,Ue.return,dr)}}}else if(l.tag===18){if(g===null){Ue=l;try{var gt=Ue.stateNode;O?qA(gt,!0):qA(Ue.stateNode,!1)}catch(dr){Kn(Ue,Ue.return,dr)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;g===l&&(g=null),l=l.return}g===l&&(g=null),l.sibling.return=l.return,l=l.sibling}w&4&&(w=s.updateQueue,w!==null&&(g=w.retryQueue,g!==null&&(w.retryQueue=null,cp(s,g))));break;case 19:So(l,s),Eo(s),w&4&&(w=s.updateQueue,w!==null&&(s.updateQueue=null,cp(s,w)));break;case 30:break;case 21:break;default:So(l,s),Eo(s)}}function Eo(s){var l=s.flags;if(l&2){try{for(var g,w=s.return;w!==null;){if(V4(w)){g=w;break}w=w.return}if(g==null)throw Error(n(160));switch(g.tag){case 27:var O=g.stateNode,L=c2(s);lp(s,L,O);break;case 5:var re=g.stateNode;g.flags&32&&(gs(re,""),g.flags&=-33);var Ce=c2(s);lp(s,Ce,re);break;case 3:case 4:var Ue=g.stateNode.containerInfo,lt=c2(s);u2(s,lt,Ue);break;default:throw Error(n(161))}}catch(wt){Kn(s,s.return,wt)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function J4(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;J4(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function ru(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Y4(s,l.alternate,l),l=l.sibling}function Vd(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Hu(4,l,l.return),Vd(l);break;case 1:gc(l,l.return);var g=l.stateNode;typeof g.componentWillUnmount=="function"&&q4(l,l.return,g),Vd(l);break;case 27:w0(l.stateNode);case 26:case 5:gc(l,l.return),Vd(l);break;case 22:l.memoizedState===null&&Vd(l);break;case 30:Vd(l);break;default:Vd(l)}s=s.sibling}}function nu(s,l,g){for(g=g&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var w=l.alternate,O=s,L=l,re=L.flags;switch(L.tag){case 0:case 11:case 15:nu(O,L,g),d0(4,L);break;case 1:if(nu(O,L,g),w=L,O=w.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(lt){Kn(w,w.return,lt)}if(w=L,O=w.updateQueue,O!==null){var Ce=w.stateNode;try{var Ue=O.shared.hiddenCallbacks;if(Ue!==null)for(O.shared.hiddenCallbacks=null,O=0;O<Ue.length;O++)Is(Ue[O],Ce)}catch(lt){Kn(w,w.return,lt)}}g&&re&64&&U4(L),f0(L,L.return);break;case 27:W4(L);case 26:case 5:nu(O,L,g),g&&w===null&&re&4&&H4(L),f0(L,L.return);break;case 12:nu(O,L,g);break;case 31:nu(O,L,g),g&&re&4&&K4(O,L);break;case 13:nu(O,L,g),g&&re&4&&Z4(O,L);break;case 22:L.memoizedState===null&&nu(O,L,g),f0(L,L.return);break;case 30:break;default:nu(O,L,g)}l=l.sibling}}function f2(s,l){var g=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==g&&(s!=null&&s.refCount++,g!=null&&Bd(g))}function h2(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Bd(s))}function Rl(s,l,g,w){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)eA(s,l,g,w),l=l.sibling}function eA(s,l,g,w){var O=l.flags;switch(l.tag){case 0:case 11:case 15:Rl(s,l,g,w),O&2048&&d0(9,l);break;case 1:Rl(s,l,g,w);break;case 3:Rl(s,l,g,w),O&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Bd(s)));break;case 12:if(O&2048){Rl(s,l,g,w),s=l.stateNode;try{var L=l.memoizedProps,re=L.id,Ce=L.onPostCommit;typeof Ce=="function"&&Ce(re,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Ue){Kn(l,l.return,Ue)}}else Rl(s,l,g,w);break;case 31:Rl(s,l,g,w);break;case 13:Rl(s,l,g,w);break;case 23:break;case 22:L=l.stateNode,re=l.alternate,l.memoizedState!==null?L._visibility&2?Rl(s,l,g,w):h0(s,l):L._visibility&2?Rl(s,l,g,w):(L._visibility|=2,Yf(s,l,g,w,(l.subtreeFlags&10256)!==0||!1)),O&2048&&f2(re,l);break;case 24:Rl(s,l,g,w),O&2048&&h2(l.alternate,l);break;default:Rl(s,l,g,w)}}function Yf(s,l,g,w,O){for(O=O&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var L=s,re=l,Ce=g,Ue=w,lt=re.flags;switch(re.tag){case 0:case 11:case 15:Yf(L,re,Ce,Ue,O),d0(8,re);break;case 23:break;case 22:var wt=re.stateNode;re.memoizedState!==null?wt._visibility&2?Yf(L,re,Ce,Ue,O):h0(L,re):(wt._visibility|=2,Yf(L,re,Ce,Ue,O)),O&&lt&2048&&f2(re.alternate,re);break;case 24:Yf(L,re,Ce,Ue,O),O&&lt&2048&&h2(re.alternate,re);break;default:Yf(L,re,Ce,Ue,O)}l=l.sibling}}function h0(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var g=s,w=l,O=w.flags;switch(w.tag){case 22:h0(g,w),O&2048&&f2(w.alternate,w);break;case 24:h0(g,w),O&2048&&h2(w.alternate,w);break;default:h0(g,w)}l=l.sibling}}var p0=8192;function $f(s,l,g){if(s.subtreeFlags&p0)for(s=s.child;s!==null;)tA(s,l,g),s=s.sibling}function tA(s,l,g){switch(s.tag){case 26:$f(s,l,g),s.flags&p0&&s.memoizedState!==null&&OD(g,Pl,s.memoizedState,s.memoizedProps);break;case 5:$f(s,l,g);break;case 3:case 4:var w=Pl;Pl=Np(s.stateNode.containerInfo),$f(s,l,g),Pl=w;break;case 22:s.memoizedState===null&&(w=s.alternate,w!==null&&w.memoizedState!==null?(w=p0,p0=16777216,$f(s,l,g),p0=w):$f(s,l,g));break;default:$f(s,l,g)}}function rA(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function m0(s){var l=s.deletions;if(s.flags&16){if(l!==null)for(var g=0;g<l.length;g++){var w=l[g];ls=w,aA(w,s)}rA(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)nA(s),s=s.sibling}function nA(s){switch(s.tag){case 0:case 11:case 15:m0(s),s.flags&2048&&Hu(9,s,s.return);break;case 3:m0(s);break;case 12:m0(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,up(s)):m0(s);break;default:m0(s)}}function up(s){var l=s.deletions;if(s.flags&16){if(l!==null)for(var g=0;g<l.length;g++){var w=l[g];ls=w,aA(w,s)}rA(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Hu(8,l,l.return),up(l);break;case 22:g=l.stateNode,g._visibility&2&&(g._visibility&=-3,up(l));break;default:up(l)}s=s.sibling}}function aA(s,l){for(;ls!==null;){var g=ls;switch(g.tag){case 0:case 11:case 15:Hu(8,g,l);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var w=g.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:Bd(g.memoizedState.cache)}if(w=g.child,w!==null)w.return=g,ls=w;else e:for(g=s;ls!==null;){w=ls;var O=w.sibling,L=w.return;if($4(w),w===g){ls=null;break e}if(O!==null){O.return=L,ls=O;break e}ls=L}}}var VM={getCacheForType:function(s){var l=Vi(Xa),g=l.data.get(s);return g===void 0&&(g=s(),l.data.set(s,g)),g},cacheSignal:function(){return Vi(Xa).controller.signal}},WM=typeof WeakMap=="function"?WeakMap:Map,Vn=0,ma=null,mn=null,bn=0,Xn=0,qo=null,Vu=!1,Xf=!1,p2=!1,au=0,ii=0,Wu=0,Wd=0,m2=0,Ho=0,Kf=0,g0=null,Co=null,g2=!1,dp=0,iA=0,fp=1/0,hp=null,Gu=null,Gi=0,Yu=null,Zf=null,iu=0,x2=0,v2=null,sA=null,x0=0,y2=null;function Vo(){return Vn&2&&bn!==0?bn&-bn:te.T!==null?E2():jt()}function oA(){if(Ho===0)if(!(bn&536870912)||hn){var s=Er;Er<<=1,!(Er&3932160)&&(Er=262144),Ho=s}else Ho=536870912;return s=Ka.current,s!==null&&(s.flags|=32),Ho}function _o(s,l,g){(s===ma&&(Xn===2||Xn===9)||s.cancelPendingCommit!==null)&&(Qf(s,0),$u(s,bn,Ho,!1)),ca(s,g),(!(Vn&2)||s!==ma)&&(s===ma&&(!(Vn&2)&&(Wd|=g),ii===4&&$u(s,bn,Ho,!1)),xc(s))}function lA(s,l,g){if(Vn&6)throw Error(n(327));var w=!g&&(l&127)===0&&(l&s.expiredLanes)===0||Cr(s,l),O=w?$M(s,l):w2(s,l,!0),L=w;do{if(O===0){Xf&&!w&&$u(s,l,0,!1);break}else{if(g=s.current.alternate,L&&!GM(g)){O=w2(s,l,!1),L=!1;continue}if(O===2){if(L=l,s.errorRecoveryDisabledLanes&L)var re=0;else re=s.pendingLanes&-536870913,re=re!==0?re:re&536870912?536870912:0;if(re!==0){l=re;e:{var Ce=s;O=g0;var Ue=Ce.current.memoizedState.isDehydrated;if(Ue&&(Qf(Ce,re).flags|=256),re=w2(Ce,re,!1),re!==2){if(p2&&!Ue){Ce.errorRecoveryDisabledLanes|=L,Wd|=L,O=4;break e}L=Co,Co=O,L!==null&&(Co===null?Co=L:Co.push.apply(Co,L))}O=re}if(L=!1,O!==2)continue}}if(O===1){Qf(s,0),$u(s,l,0,!0);break}e:{switch(w=s,L=O,L){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:$u(w,l,Ho,!Vu);break e;case 2:Co=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(O=dp+300-Ht(),10<O)){if($u(w,l,Ho,!Vu),xr(w,0,!0)!==0)break e;iu=l,w.timeoutHandle=FA(cA.bind(null,w,g,Co,hp,g2,l,Ho,Wd,Kf,Vu,L,"Throttled",-0,0),O);break e}cA(w,g,Co,hp,g2,l,Ho,Wd,Kf,Vu,L,null,-0,0)}}break}while(!0);xc(s)}function cA(s,l,g,w,O,L,re,Ce,Ue,lt,wt,kt,ft,gt){if(s.timeoutHandle=-1,kt=l.subtreeFlags,kt&8192||(kt&16785408)===16785408){kt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:En},tA(l,L,kt);var dr=(L&62914560)===L?dp-Ht():(L&4194048)===L?iA-Ht():0;if(dr=TD(kt,dr),dr!==null){iu=L,s.cancelPendingCommit=dr(xA.bind(null,s,l,L,g,w,O,re,Ce,Ue,wt,kt,null,ft,gt)),$u(s,L,re,!lt);return}}xA(s,l,L,g,w,O,re,Ce,Ue)}function GM(s){for(var l=s;;){var g=l.tag;if((g===0||g===11||g===15)&&l.flags&16384&&(g=l.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var w=0;w<g.length;w++){var O=g[w],L=O.getSnapshot;O=O.value;try{if(!A(L(),O))return!1}catch{return!1}}if(g=l.child,l.subtreeFlags&16384&&g!==null)g.return=l,l=g;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function $u(s,l,g,w){l&=~m2,l&=~Wd,s.suspendedLanes|=l,s.pingedLanes&=~l,w&&(s.warmLanes|=l),w=s.expirationTimes;for(var O=l;0<O;){var L=31-Qt(O),re=1<<L;w[L]=-1,O&=~re}g!==0&&Ja(s,g,l)}function pp(){return Vn&6?!0:(v0(0),!1)}function b2(){if(mn!==null){if(Xn===0)var s=mn.return;else s=mn,sl=lc=null,zf(s),St=null,Zt=0,s=mn;for(;s!==null;)z4(s.alternate,s),s=s.return;mn=null}}function Qf(s,l){var g=s.timeoutHandle;g!==-1&&(s.timeoutHandle=-1,fD(g)),g=s.cancelPendingCommit,g!==null&&(s.cancelPendingCommit=null,g()),iu=0,b2(),ma=s,mn=g=mo(s.current,null),bn=l,Xn=0,qo=null,Vu=!1,Xf=Cr(s,l),p2=!1,Kf=Ho=m2=Wd=Wu=ii=0,Co=g0=null,g2=!1,l&8&&(l|=l&32);var w=s.entangledLanes;if(w!==0)for(s=s.entanglements,w&=l;0<w;){var O=31-Qt(w),L=1<<O;l|=s[O],w&=~L}return au=l,ac(),g}function uA(s,l){Fr=null,te.H=l0,l===Ve||l===it?(l=Ct(),Xn=3):l===st?(l=Ct(),Xn=4):Xn=l===Qx?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,qo=l,mn===null&&(ii=1,np(s,go(l,s.current)))}function dA(){var s=Ka.current;return s===null?!0:(bn&4194048)===bn?Ci===null:(bn&62914560)===bn||bn&536870912?s===Ci:!1}function fA(){var s=te.H;return te.H=l0,s===null?l0:s}function hA(){var s=te.A;return te.A=VM,s}function mp(){ii=4,Vu||(bn&4194048)!==bn&&Ka.current!==null||(Xf=!0),!(Wu&134217727)&&!(Wd&134217727)||ma===null||$u(ma,bn,Ho,!1)}function w2(s,l,g){var w=Vn;Vn|=2;var O=fA(),L=hA();(ma!==s||bn!==l)&&(hp=null,Qf(s,l)),l=!1;var re=ii;e:do try{if(Xn!==0&&mn!==null){var Ce=mn,Ue=qo;switch(Xn){case 8:b2(),re=6;break e;case 3:case 2:case 9:case 6:Ka.current===null&&(l=!0);var lt=Xn;if(Xn=0,qo=null,Jf(s,Ce,Ue,lt),g&&Xf){re=0;break e}break;default:lt=Xn,Xn=0,qo=null,Jf(s,Ce,Ue,lt)}}YM(),re=ii;break}catch(wt){uA(s,wt)}while(!0);return l&&s.shellSuspendCounter++,sl=lc=null,Vn=w,te.H=O,te.A=L,mn===null&&(ma=null,bn=0,ac()),re}function YM(){for(;mn!==null;)pA(mn)}function $M(s,l){var g=Vn;Vn|=2;var w=fA(),O=hA();ma!==s||bn!==l?(hp=null,fp=Ht()+500,Qf(s,l)):Xf=Cr(s,l);e:do try{if(Xn!==0&&mn!==null){l=mn;var L=qo;t:switch(Xn){case 1:Xn=0,qo=null,Jf(s,l,L,1);break;case 2:case 9:if(Tt(L)){Xn=0,qo=null,mA(l);break}l=function(){Xn!==2&&Xn!==9||ma!==s||(Xn=7),xc(s)},L.then(l,l);break e;case 3:Xn=7;break e;case 4:Xn=5;break e;case 7:Tt(L)?(Xn=0,qo=null,mA(l)):(Xn=0,qo=null,Jf(s,l,L,7));break;case 5:var re=null;switch(mn.tag){case 26:re=mn.memoizedState;case 5:case 27:var Ce=mn;if(re?eN(re):Ce.stateNode.complete){Xn=0,qo=null;var Ue=Ce.sibling;if(Ue!==null)mn=Ue;else{var lt=Ce.return;lt!==null?(mn=lt,gp(lt)):mn=null}break t}}Xn=0,qo=null,Jf(s,l,L,5);break;case 6:Xn=0,qo=null,Jf(s,l,L,6);break;case 8:b2(),ii=6;break e;default:throw Error(n(462))}}XM();break}catch(wt){uA(s,wt)}while(!0);return sl=lc=null,te.H=w,te.A=O,Vn=g,mn!==null?0:(ma=null,bn=0,ac(),ii)}function XM(){for(;mn!==null&&!rt();)pA(mn)}function pA(s){var l=B4(s.alternate,s,au);s.memoizedProps=s.pendingProps,l===null?gp(s):mn=l}function mA(s){var l=s,g=l.alternate;switch(l.tag){case 15:case 0:l=I4(g,l,l.pendingProps,l.type,void 0,bn);break;case 11:l=I4(g,l,l.pendingProps,l.type.render,l.ref,bn);break;case 5:zf(l);default:z4(g,l),l=mn=Ld(l,au),l=B4(g,l,au)}s.memoizedProps=s.pendingProps,l===null?gp(s):mn=l}function Jf(s,l,g,w){sl=lc=null,zf(l),St=null,Zt=0;var O=l.return;try{if(RM(s,O,l,g,bn)){ii=1,np(s,go(g,s.current)),mn=null;return}}catch(L){if(O!==null)throw mn=O,L;ii=1,np(s,go(g,s.current)),mn=null;return}l.flags&32768?(hn||w===1?s=!0:Xf||bn&536870912?s=!1:(Vu=s=!0,(w===2||w===9||w===3||w===6)&&(w=Ka.current,w!==null&&w.tag===13&&(w.flags|=16384))),gA(l,s)):gp(l)}function gp(s){var l=s;do{if(l.flags&32768){gA(l,Vu);return}s=l.return;var g=zM(l.alternate,l,au);if(g!==null){mn=g;return}if(l=l.sibling,l!==null){mn=l;return}mn=l=s}while(l!==null);ii===0&&(ii=5)}function gA(s,l){do{var g=UM(s.alternate,s);if(g!==null){g.flags&=32767,mn=g;return}if(g=s.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!l&&(s=s.sibling,s!==null)){mn=s;return}mn=s=g}while(s!==null);ii=6,mn=null}function xA(s,l,g,w,O,L,re,Ce,Ue){s.cancelPendingCommit=null;do xp();while(Gi!==0);if(Vn&6)throw Error(n(327));if(l!==null){if(l===s.current)throw Error(n(177));if(L=l.lanes|l.childLanes,L|=zo,or(s,g,L,re,Ce,Ue),s===ma&&(mn=ma=null,bn=0),Zf=l,Yu=s,iu=g,x2=L,v2=O,sA=w,l.subtreeFlags&10256||l.flags&10256?(s.callbackNode=null,s.callbackPriority=0,JM(ir,function(){return AA(),null})):(s.callbackNode=null,s.callbackPriority=0),w=(l.flags&13878)!==0,l.subtreeFlags&13878||w){w=te.T,te.T=null,O=se.p,se.p=2,re=Vn,Vn|=4;try{qM(s,l,g)}finally{Vn=re,se.p=O,te.T=w}}Gi=1,vA(),yA(),bA()}}function vA(){if(Gi===1){Gi=0;var s=Yu,l=Zf,g=(l.flags&13878)!==0;if(l.subtreeFlags&13878||g){g=te.T,te.T=null;var w=se.p;se.p=2;var O=Vn;Vn|=4;try{Q4(l,s);var L=M2,re=ce(s.containerInfo),Ce=L.focusedElem,Ue=L.selectionRange;if(re!==Ce&&Ce&&Ce.ownerDocument&&J(Ce.ownerDocument.documentElement,Ce)){if(Ue!==null&&Ae(Ce)){var lt=Ue.start,wt=Ue.end;if(wt===void 0&&(wt=lt),"selectionStart"in Ce)Ce.selectionStart=lt,Ce.selectionEnd=Math.min(wt,Ce.value.length);else{var kt=Ce.ownerDocument||document,ft=kt&&kt.defaultView||window;if(ft.getSelection){var gt=ft.getSelection(),dr=Ce.textContent.length,Dr=Math.min(Ue.start,dr),aa=Ue.end===void 0?Dr:Math.min(Ue.end,dr);!gt.extend&&Dr>aa&&(re=aa,aa=Dr,Dr=re);var Je=B(Ce,Dr),Ye=B(Ce,aa);if(Je&&Ye&&(gt.rangeCount!==1||gt.anchorNode!==Je.node||gt.anchorOffset!==Je.offset||gt.focusNode!==Ye.node||gt.focusOffset!==Ye.offset)){var ot=kt.createRange();ot.setStart(Je.node,Je.offset),gt.removeAllRanges(),Dr>aa?(gt.addRange(ot),gt.extend(Ye.node,Ye.offset)):(ot.setEnd(Ye.node,Ye.offset),gt.addRange(ot))}}}}for(kt=[],gt=Ce;gt=gt.parentNode;)gt.nodeType===1&&kt.push({element:gt,left:gt.scrollLeft,top:gt.scrollTop});for(typeof Ce.focus=="function"&&Ce.focus(),Ce=0;Ce<kt.length;Ce++){var _t=kt[Ce];_t.element.scrollLeft=_t.left,_t.element.scrollTop=_t.top}}Op=!!I2,M2=I2=null}finally{Vn=O,se.p=w,te.T=g}}s.current=l,Gi=2}}function yA(){if(Gi===2){Gi=0;var s=Yu,l=Zf,g=(l.flags&8772)!==0;if(l.subtreeFlags&8772||g){g=te.T,te.T=null;var w=se.p;se.p=2;var O=Vn;Vn|=4;try{Y4(s,l.alternate,l)}finally{Vn=O,se.p=w,te.T=g}}Gi=3}}function bA(){if(Gi===4||Gi===3){Gi=0,At();var s=Yu,l=Zf,g=iu,w=sA;l.subtreeFlags&10256||l.flags&10256?Gi=5:(Gi=0,Zf=Yu=null,wA(s,s.pendingLanes));var O=s.pendingLanes;if(O===0&&(Gu=null),je(g),l=l.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Vt,l,void 0,(l.current.flags&128)===128)}catch{}if(w!==null){l=te.T,O=se.p,se.p=2,te.T=null;try{for(var L=s.onRecoverableError,re=0;re<w.length;re++){var Ce=w[re];L(Ce.value,{componentStack:Ce.stack})}}finally{te.T=l,se.p=O}}iu&3&&xp(),xc(s),O=s.pendingLanes,g&261930&&O&42?s===y2?x0++:(x0=0,y2=s):x0=0,v0(0)}}function wA(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Bd(l)))}function xp(){return vA(),yA(),bA(),AA()}function AA(){if(Gi!==5)return!1;var s=Yu,l=x2;x2=0;var g=je(iu),w=te.T,O=se.p;try{se.p=32>g?32:g,te.T=null,g=v2,v2=null;var L=Yu,re=iu;if(Gi=0,Zf=Yu=null,iu=0,Vn&6)throw Error(n(331));var Ce=Vn;if(Vn|=4,nA(L.current),eA(L,L.current,re,g),Vn=Ce,v0(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Vt,L)}catch{}return!0}finally{se.p=O,te.T=w,wA(s,l)}}function NA(s,l,g){l=go(g,l),l=Zx(s.stateNode,l,2),s=$n(s,l,2),s!==null&&(ca(s,2),xc(s))}function Kn(s,l,g){if(s.tag===3)NA(s,s,g);else for(;l!==null;){if(l.tag===3){NA(l,s,g);break}else if(l.tag===1){var w=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Gu===null||!Gu.has(w))){s=go(g,s),g=S4(2),w=$n(l,g,2),w!==null&&(E4(g,w,l,s),ca(w,2),xc(w));break}}l=l.return}}function A2(s,l,g){var w=s.pingCache;if(w===null){w=s.pingCache=new WM;var O=new Set;w.set(l,O)}else O=w.get(l),O===void 0&&(O=new Set,w.set(l,O));O.has(g)||(p2=!0,O.add(g),s=KM.bind(null,s,l,g),l.then(s,s))}function KM(s,l,g){var w=s.pingCache;w!==null&&w.delete(l),s.pingedLanes|=s.suspendedLanes&g,s.warmLanes&=~g,ma===s&&(bn&g)===g&&(ii===4||ii===3&&(bn&62914560)===bn&&300>Ht()-dp?!(Vn&2)&&Qf(s,0):m2|=g,Kf===bn&&(Kf=0)),xc(s)}function SA(s,l){l===0&&(l=$r()),s=Ol(s,l),s!==null&&(ca(s,l),xc(s))}function ZM(s){var l=s.memoizedState,g=0;l!==null&&(g=l.retryLane),SA(s,g)}function QM(s,l){var g=0;switch(s.tag){case 31:case 13:var w=s.stateNode,O=s.memoizedState;O!==null&&(g=O.retryLane);break;case 19:w=s.stateNode;break;case 22:w=s.stateNode._retryCache;break;default:throw Error(n(314))}w!==null&&w.delete(l),SA(s,g)}function JM(s,l){return Ze(s,l)}var vp=null,eh=null,N2=!1,yp=!1,S2=!1,Xu=0;function xc(s){s!==eh&&s.next===null&&(eh===null?vp=eh=s:eh=eh.next=s),yp=!0,N2||(N2=!0,tD())}function v0(s,l){if(!S2&&yp){S2=!0;do for(var g=!1,w=vp;w!==null;){if(s!==0){var O=w.pendingLanes;if(O===0)var L=0;else{var re=w.suspendedLanes,Ce=w.pingedLanes;L=(1<<31-Qt(42|s)+1)-1,L&=O&~(re&~Ce),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(g=!0,jA(w,L))}else L=bn,L=xr(w,w===ma?L:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),!(L&3)||Cr(w,L)||(g=!0,jA(w,L));w=w.next}while(g);S2=!1}}function eD(){EA()}function EA(){yp=N2=!1;var s=0;Xu!==0&&dD()&&(s=Xu);for(var l=Ht(),g=null,w=vp;w!==null;){var O=w.next,L=CA(w,l);L===0?(w.next=null,g===null?vp=O:g.next=O,O===null&&(eh=g)):(g=w,(s!==0||L&3)&&(yp=!0)),w=O}Gi!==0&&Gi!==5||v0(s),Xu!==0&&(Xu=0)}function CA(s,l){for(var g=s.suspendedLanes,w=s.pingedLanes,O=s.expirationTimes,L=s.pendingLanes&-62914561;0<L;){var re=31-Qt(L),Ce=1<<re,Ue=O[re];Ue===-1?(!(Ce&g)||Ce&w)&&(O[re]=es(Ce,l)):Ue<=l&&(s.expiredLanes|=Ce),L&=~Ce}if(l=ma,g=bn,g=xr(s,s===l?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),w=s.callbackNode,g===0||s===l&&(Xn===2||Xn===9)||s.cancelPendingCommit!==null)return w!==null&&w!==null&&Fe(w),s.callbackNode=null,s.callbackPriority=0;if(!(g&3)||Cr(s,g)){if(l=g&-g,l===s.callbackPriority)return l;switch(w!==null&&Fe(w),je(g)){case 2:case 8:g=Ut;break;case 32:g=ir;break;case 268435456:g=Ar;break;default:g=ir}return w=_A.bind(null,s),g=Ze(g,w),s.callbackPriority=l,s.callbackNode=g,l}return w!==null&&w!==null&&Fe(w),s.callbackPriority=2,s.callbackNode=null,2}function _A(s,l){if(Gi!==0&&Gi!==5)return s.callbackNode=null,s.callbackPriority=0,null;var g=s.callbackNode;if(xp()&&s.callbackNode!==g)return null;var w=bn;return w=xr(s,s===ma?w:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),w===0?null:(lA(s,w,l),CA(s,Ht()),s.callbackNode!=null&&s.callbackNode===g?_A.bind(null,s):null)}function jA(s,l){if(xp())return null;lA(s,l,!0)}function tD(){hD(function(){Vn&6?Ze(Jt,eD):EA()})}function E2(){if(Xu===0){var s=E;s===0&&(s=xn,xn<<=1,!(xn&261888)&&(xn=256)),Xu=s}return Xu}function OA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Cs(""+s)}function TA(s,l){var g=l.ownerDocument.createElement("input");return g.name=l.name,g.value=l.value,s.id&&g.setAttribute("form",s.id),l.parentNode.insertBefore(g,l),s=new FormData(s),g.parentNode.removeChild(g),s}function rD(s,l,g,w,O){if(l==="submit"&&g&&g.stateNode===O){var L=OA((O[Re]||null).action),re=w.submitter;re&&(l=(l=re[Re]||null)?OA(l.formAction):re.getAttribute("formAction"),l!==null&&(L=l,re=null));var Ce=new La("action","action",null,w,O);s.push({event:Ce,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(Xu!==0){var Ue=re?TA(O,re):new FormData(O);Wx(g,{pending:!0,data:Ue,method:O.method,action:L},null,Ue)}}else typeof L=="function"&&(Ce.preventDefault(),Ue=re?TA(O,re):new FormData(O),Wx(g,{pending:!0,data:Ue,method:O.method,action:L},L,Ue))},currentTarget:O}]})}}for(var C2=0;C2<as.length;C2++){var _2=as[C2],nD=_2.toLowerCase(),aD=_2[0].toUpperCase()+_2.slice(1);fn(nD,"on"+aD)}fn(ni,"onAnimationEnd"),fn(Aa,"onAnimationIteration"),fn(dn,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(Na,"onTransitionRun"),fn($a,"onTransitionStart"),fn(ys,"onTransitionCancel"),fn(Zs,"onTransitionEnd"),On("onMouseEnter",["mouseout","mouseover"]),On("onMouseLeave",["mouseout","mouseover"]),On("onPointerEnter",["pointerout","pointerover"]),On("onPointerLeave",["pointerout","pointerover"]),Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var y0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(y0));function kA(s,l){l=(l&4)!==0;for(var g=0;g<s.length;g++){var w=s[g],O=w.event;w=w.listeners;e:{var L=void 0;if(l)for(var re=w.length-1;0<=re;re--){var Ce=w[re],Ue=Ce.instance,lt=Ce.currentTarget;if(Ce=Ce.listener,Ue!==L&&O.isPropagationStopped())break e;L=Ce,O.currentTarget=lt;try{L(O)}catch(wt){qn(wt)}O.currentTarget=null,L=Ue}else for(re=0;re<w.length;re++){if(Ce=w[re],Ue=Ce.instance,lt=Ce.currentTarget,Ce=Ce.listener,Ue!==L&&O.isPropagationStopped())break e;L=Ce,O.currentTarget=lt;try{L(O)}catch(wt){qn(wt)}O.currentTarget=null,L=Ue}}}}function gn(s,l){var g=l[pt];g===void 0&&(g=l[pt]=new Set);var w=s+"__bubble";g.has(w)||(IA(l,s,2,!1),g.add(w))}function j2(s,l,g){var w=0;l&&(w|=4),IA(g,s,w,l)}var bp="_reactListening"+Math.random().toString(36).slice(2);function O2(s){if(!s[bp]){s[bp]=!0,vt.forEach(function(g){g!=="selectionchange"&&(iD.has(g)||j2(g,!1,s),j2(g,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[bp]||(l[bp]=!0,j2("selectionchange",!1,l))}}function IA(s,l,g,w){switch(oN(l)){case 2:var O=MD;break;case 8:O=DD;break;default:O=V2}g=O.bind(null,l,g,s),O=void 0,!Nl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(O=!0),w?O!==void 0?s.addEventListener(l,g,{capture:!0,passive:O}):s.addEventListener(l,g,!0):O!==void 0?s.addEventListener(l,g,{passive:O}):s.addEventListener(l,g,!1)}function T2(s,l,g,w,O){var L=w;if(!(l&1)&&!(l&2)&&w!==null)e:for(;;){if(w===null)return;var re=w.tag;if(re===3||re===4){var Ce=w.stateNode.containerInfo;if(Ce===O)break;if(re===4)for(re=w.return;re!==null;){var Ue=re.tag;if((Ue===3||Ue===4)&&re.stateNode.containerInfo===O)return;re=re.return}for(;Ce!==null;){if(re=cr(Ce),re===null)return;if(Ue=re.tag,Ue===5||Ue===6||Ue===26||Ue===27){w=L=re;continue e}Ce=Ce.parentNode}}w=w.return}Rc(function(){var lt=L,wt=tc(g),kt=[];e:{var ft=bs.get(s);if(ft!==void 0){var gt=La,dr=s;switch(s){case"keypress":if(Bi(g)===0)break e;case"keydown":case"keyup":gt=il;break;case"focusin":dr="focus",gt=Fc;break;case"focusout":dr="blur",gt=Fc;break;case"beforeblur":case"afterblur":gt=Fc;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gt=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gt=nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gt=pe;break;case ni:case Aa:case dn:gt=zr;break;case Zs:gt=qe;break;case"scroll":case"scrollend":gt=Bc;break;case"wheel":gt=yt;break;case"copy":case"cut":case"paste":gt=al;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gt=vn;break;case"toggle":case"beforetoggle":gt=Kt}var Dr=(l&4)!==0,aa=!Dr&&(s==="scroll"||s==="scrollend"),Je=Dr?ft!==null?ft+"Capture":null:ft;Dr=[];for(var Ye=lt,ot;Ye!==null;){var _t=Ye;if(ot=_t.stateNode,_t=_t.tag,_t!==5&&_t!==26&&_t!==27||ot===null||Je===null||(_t=Tr(Ye,Je),_t!=null&&Dr.push(b0(Ye,_t,ot))),aa)break;Ye=Ye.return}0<Dr.length&&(ft=new gt(ft,dr,null,g,wt),kt.push({event:ft,listeners:Dr}))}}if(!(l&7)){e:{if(ft=s==="mouseover"||s==="pointerover",gt=s==="mouseout"||s==="pointerout",ft&&g!==zn&&(dr=g.relatedTarget||g.fromElement)&&(cr(dr)||dr[mt]))break e;if((gt||ft)&&(ft=wt.window===wt?wt:(ft=wt.ownerDocument)?ft.defaultView||ft.parentWindow:window,gt?(dr=g.relatedTarget||g.toElement,gt=lt,dr=dr?cr(dr):null,dr!==null&&(aa=i(dr),Dr=dr.tag,dr!==aa||Dr!==5&&Dr!==27&&Dr!==6)&&(dr=null)):(gt=null,dr=lt),gt!==dr)){if(Dr=nn,_t="onMouseLeave",Je="onMouseEnter",Ye="mouse",(s==="pointerout"||s==="pointerover")&&(Dr=vn,_t="onPointerLeave",Je="onPointerEnter",Ye="pointer"),aa=gt==null?ft:mr(gt),ot=dr==null?ft:mr(dr),ft=new Dr(_t,Ye+"leave",gt,g,wt),ft.target=aa,ft.relatedTarget=ot,_t=null,cr(wt)===lt&&(Dr=new Dr(Je,Ye+"enter",dr,g,wt),Dr.target=ot,Dr.relatedTarget=aa,_t=Dr),aa=_t,gt&&dr)t:{for(Dr=sD,Je=gt,Ye=dr,ot=0,_t=Je;_t;_t=Dr(_t))ot++;_t=0;for(var Nr=Ye;Nr;Nr=Dr(Nr))_t++;for(;0<ot-_t;)Je=Dr(Je),ot--;for(;0<_t-ot;)Ye=Dr(Ye),_t--;for(;ot--;){if(Je===Ye||Ye!==null&&Je===Ye.alternate){Dr=Je;break t}Je=Dr(Je),Ye=Dr(Ye)}Dr=null}else Dr=null;gt!==null&&MA(kt,ft,gt,Dr,!1),dr!==null&&aa!==null&&MA(kt,aa,dr,Dr,!0)}}e:{if(ft=lt?mr(lt):window,gt=ft.nodeName&&ft.nodeName.toLowerCase(),gt==="select"||gt==="input"&&ft.type==="file")var Mn=Un;else if(Cl(ft))if(_l)Mn=v;else{Mn=d;var vr=o}else gt=ft.nodeName,!gt||gt.toLowerCase()!=="input"||ft.type!=="checkbox"&&ft.type!=="radio"?lt&&rn(lt.elementType)&&(Mn=Un):Mn=h;if(Mn&&(Mn=Mn(s,lt))){zi(kt,Mn,g,wt);break e}vr&&vr(s,ft,lt),s==="focusout"&&lt&&ft.type==="number"&&lt.memoizedProps.value!=null&&Te(ft,"number",ft.value)}switch(vr=lt?mr(lt):window,s){case"focusin":(Cl(vr)||vr.contentEditable==="true")&&(ze=vr,He=lt,Xe=null);break;case"focusout":Xe=He=ze=null;break;case"mousedown":dt=!0;break;case"contextmenu":case"mouseup":case"dragend":dt=!1,Pt(kt,g,wt);break;case"selectionchange":if(Me)break;case"keydown":case"keyup":Pt(kt,g,wt)}var en;if(kr)e:{switch(s){case"compositionstart":var wn="onCompositionStart";break e;case"compositionend":wn="onCompositionEnd";break e;case"compositionupdate":wn="onCompositionUpdate";break e}wn=void 0}else Ni?di(s,g)&&(wn="onCompositionEnd"):s==="keydown"&&g.keyCode===229&&(wn="onCompositionStart");wn&&(ta&&g.locale!=="ko"&&(Ni||wn!=="onCompositionStart"?wn==="onCompositionEnd"&&Ni&&(en=js()):($s=wt,Xs="value"in $s?$s.value:$s.textContent,Ni=!0)),vr=wp(lt,wn),0<vr.length&&(wn=new El(wn,s,null,g,wt),kt.push({event:wn,listeners:vr}),en?wn.data=en:(en=fa(g),en!==null&&(wn.data=en)))),(en=ln?Pa(s,g):vs(s,g))&&(wn=wp(lt,"onBeforeInput"),0<wn.length&&(vr=new El("onBeforeInput","beforeinput",null,g,wt),kt.push({event:vr,listeners:wn}),vr.data=en)),rD(kt,s,lt,g,wt)}kA(kt,l)})}function b0(s,l,g){return{instance:s,listener:l,currentTarget:g}}function wp(s,l){for(var g=l+"Capture",w=[];s!==null;){var O=s,L=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||L===null||(O=Tr(s,g),O!=null&&w.unshift(b0(s,O,L)),O=Tr(s,l),O!=null&&w.push(b0(s,O,L))),s.tag===3)return w;s=s.return}return[]}function sD(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function MA(s,l,g,w,O){for(var L=l._reactName,re=[];g!==null&&g!==w;){var Ce=g,Ue=Ce.alternate,lt=Ce.stateNode;if(Ce=Ce.tag,Ue!==null&&Ue===w)break;Ce!==5&&Ce!==26&&Ce!==27||lt===null||(Ue=lt,O?(lt=Tr(g,L),lt!=null&&re.unshift(b0(g,lt,Ue))):O||(lt=Tr(g,L),lt!=null&&re.push(b0(g,lt,Ue)))),g=g.return}re.length!==0&&s.push({event:l,listeners:re})}var oD=/\r\n?/g,lD=/\u0000|\uFFFD/g;function DA(s){return(typeof s=="string"?s:""+s).replace(oD,`
`).replace(lD,"")}function LA(s,l){return l=DA(l),DA(s)===l}function na(s,l,g,w,O,L){switch(g){case"children":typeof w=="string"?l==="body"||l==="textarea"&&w===""||gs(s,w):(typeof w=="number"||typeof w=="bigint")&&l!=="body"&&gs(s,""+w);break;case"className":Bn(s,"class",w);break;case"tabIndex":Bn(s,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(s,g,w);break;case"style":pr(s,w,L);break;case"data":if(l!=="object"){Bn(s,"data",w);break}case"src":case"href":if(w===""&&(l!=="a"||g!=="href")){s.removeAttribute(g);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){s.removeAttribute(g);break}w=Cs(""+w),s.setAttribute(g,w);break;case"action":case"formAction":if(typeof w=="function"){s.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(g==="formAction"?(l!=="input"&&na(s,l,"name",O.name,O,null),na(s,l,"formEncType",O.formEncType,O,null),na(s,l,"formMethod",O.formMethod,O,null),na(s,l,"formTarget",O.formTarget,O,null)):(na(s,l,"encType",O.encType,O,null),na(s,l,"method",O.method,O,null),na(s,l,"target",O.target,O,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){s.removeAttribute(g);break}w=Cs(""+w),s.setAttribute(g,w);break;case"onClick":w!=null&&(s.onclick=En);break;case"onScroll":w!=null&&gn("scroll",s);break;case"onScrollEnd":w!=null&&gn("scrollend",s);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(g=w.__html,g!=null){if(O.children!=null)throw Error(n(60));s.innerHTML=g}}break;case"multiple":s.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":s.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){s.removeAttribute("xlink:href");break}g=Cs(""+w),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?s.setAttribute(g,""+w):s.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?s.setAttribute(g,""):s.removeAttribute(g);break;case"capture":case"download":w===!0?s.setAttribute(g,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?s.setAttribute(g,w):s.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?s.setAttribute(g,w):s.removeAttribute(g);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?s.removeAttribute(g):s.setAttribute(g,w);break;case"popover":gn("beforetoggle",s),gn("toggle",s),Gs(s,"popover",w);break;case"xlinkActuate":tn(s,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":tn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":tn(s,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":tn(s,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":tn(s,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":tn(s,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":tn(s,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":tn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":tn(s,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Gs(s,"is",w);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=lo.get(g)||g,Gs(s,g,w))}}function k2(s,l,g,w,O,L){switch(g){case"style":pr(s,w,L);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(g=w.__html,g!=null){if(O.children!=null)throw Error(n(60));s.innerHTML=g}}break;case"children":typeof w=="string"?gs(s,w):(typeof w=="number"||typeof w=="bigint")&&gs(s,""+w);break;case"onScroll":w!=null&&gn("scroll",s);break;case"onScrollEnd":w!=null&&gn("scrollend",s);break;case"onClick":w!=null&&(s.onclick=En);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rn.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(O=g.endsWith("Capture"),l=g.slice(2,O?g.length-7:void 0),L=s[Re]||null,L=L!=null?L[g]:null,typeof L=="function"&&s.removeEventListener(l,L,O),typeof w=="function")){typeof L!="function"&&L!==null&&(g in s?s[g]=null:s.hasAttribute(g)&&s.removeAttribute(g)),s.addEventListener(l,w,O);break e}g in s?s[g]=w:w===!0?s.setAttribute(g,""):Gs(s,g,w)}}}function Ns(s,l,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gn("error",s),gn("load",s);var w=!1,O=!1,L;for(L in g)if(g.hasOwnProperty(L)){var re=g[L];if(re!=null)switch(L){case"src":w=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:na(s,l,L,re,g,null)}}O&&na(s,l,"srcSet",g.srcSet,g,null),w&&na(s,l,"src",g.src,g,null);return;case"input":gn("invalid",s);var Ce=L=re=O=null,Ue=null,lt=null;for(w in g)if(g.hasOwnProperty(w)){var wt=g[w];if(wt!=null)switch(w){case"name":O=wt;break;case"type":re=wt;break;case"checked":Ue=wt;break;case"defaultChecked":lt=wt;break;case"value":L=wt;break;case"defaultValue":Ce=wt;break;case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(n(137,l));break;default:na(s,l,w,wt,g,null)}}nt(s,L,Ce,Ue,lt,re,O,!1);return;case"select":gn("invalid",s),w=re=L=null;for(O in g)if(g.hasOwnProperty(O)&&(Ce=g[O],Ce!=null))switch(O){case"value":L=Ce;break;case"defaultValue":re=Ce;break;case"multiple":w=Ce;default:na(s,l,O,Ce,g,null)}l=L,g=re,s.multiple=!!w,l!=null?sr(s,!!w,l,!1):g!=null&&sr(s,!!w,g,!0);return;case"textarea":gn("invalid",s),L=O=w=null;for(re in g)if(g.hasOwnProperty(re)&&(Ce=g[re],Ce!=null))switch(re){case"value":w=Ce;break;case"defaultValue":O=Ce;break;case"children":L=Ce;break;case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(n(91));break;default:na(s,l,re,Ce,g,null)}ei(s,w,O,L);return;case"option":for(Ue in g)if(g.hasOwnProperty(Ue)&&(w=g[Ue],w!=null))switch(Ue){case"selected":s.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:na(s,l,Ue,w,g,null)}return;case"dialog":gn("beforetoggle",s),gn("toggle",s),gn("cancel",s),gn("close",s);break;case"iframe":case"object":gn("load",s);break;case"video":case"audio":for(w=0;w<y0.length;w++)gn(y0[w],s);break;case"image":gn("error",s),gn("load",s);break;case"details":gn("toggle",s);break;case"embed":case"source":case"link":gn("error",s),gn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(lt in g)if(g.hasOwnProperty(lt)&&(w=g[lt],w!=null))switch(lt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:na(s,l,lt,w,g,null)}return;default:if(rn(l)){for(wt in g)g.hasOwnProperty(wt)&&(w=g[wt],w!==void 0&&k2(s,l,wt,w,g,void 0));return}}for(Ce in g)g.hasOwnProperty(Ce)&&(w=g[Ce],w!=null&&na(s,l,Ce,w,g,null))}function cD(s,l,g,w){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,L=null,re=null,Ce=null,Ue=null,lt=null,wt=null;for(gt in g){var kt=g[gt];if(g.hasOwnProperty(gt)&&kt!=null)switch(gt){case"checked":break;case"value":break;case"defaultValue":Ue=kt;default:w.hasOwnProperty(gt)||na(s,l,gt,null,w,kt)}}for(var ft in w){var gt=w[ft];if(kt=g[ft],w.hasOwnProperty(ft)&&(gt!=null||kt!=null))switch(ft){case"type":L=gt;break;case"name":O=gt;break;case"checked":lt=gt;break;case"defaultChecked":wt=gt;break;case"value":re=gt;break;case"defaultValue":Ce=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(n(137,l));break;default:gt!==kt&&na(s,l,ft,gt,w,kt)}}Sn(s,re,Ce,Ue,lt,wt,L,O);return;case"select":gt=re=Ce=ft=null;for(L in g)if(Ue=g[L],g.hasOwnProperty(L)&&Ue!=null)switch(L){case"value":break;case"multiple":gt=Ue;default:w.hasOwnProperty(L)||na(s,l,L,null,w,Ue)}for(O in w)if(L=w[O],Ue=g[O],w.hasOwnProperty(O)&&(L!=null||Ue!=null))switch(O){case"value":ft=L;break;case"defaultValue":Ce=L;break;case"multiple":re=L;default:L!==Ue&&na(s,l,O,L,w,Ue)}l=Ce,g=re,w=gt,ft!=null?sr(s,!!g,ft,!1):!!w!=!!g&&(l!=null?sr(s,!!g,l,!0):sr(s,!!g,g?[]:"",!1));return;case"textarea":gt=ft=null;for(Ce in g)if(O=g[Ce],g.hasOwnProperty(Ce)&&O!=null&&!w.hasOwnProperty(Ce))switch(Ce){case"value":break;case"children":break;default:na(s,l,Ce,null,w,O)}for(re in w)if(O=w[re],L=g[re],w.hasOwnProperty(re)&&(O!=null||L!=null))switch(re){case"value":ft=O;break;case"defaultValue":gt=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(n(91));break;default:O!==L&&na(s,l,re,O,w,L)}Fn(s,ft,gt);return;case"option":for(var dr in g)if(ft=g[dr],g.hasOwnProperty(dr)&&ft!=null&&!w.hasOwnProperty(dr))switch(dr){case"selected":s.selected=!1;break;default:na(s,l,dr,null,w,ft)}for(Ue in w)if(ft=w[Ue],gt=g[Ue],w.hasOwnProperty(Ue)&&ft!==gt&&(ft!=null||gt!=null))switch(Ue){case"selected":s.selected=ft&&typeof ft!="function"&&typeof ft!="symbol";break;default:na(s,l,Ue,ft,w,gt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dr in g)ft=g[Dr],g.hasOwnProperty(Dr)&&ft!=null&&!w.hasOwnProperty(Dr)&&na(s,l,Dr,null,w,ft);for(lt in w)if(ft=w[lt],gt=g[lt],w.hasOwnProperty(lt)&&ft!==gt&&(ft!=null||gt!=null))switch(lt){case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(n(137,l));break;default:na(s,l,lt,ft,w,gt)}return;default:if(rn(l)){for(var aa in g)ft=g[aa],g.hasOwnProperty(aa)&&ft!==void 0&&!w.hasOwnProperty(aa)&&k2(s,l,aa,void 0,w,ft);for(wt in w)ft=w[wt],gt=g[wt],!w.hasOwnProperty(wt)||ft===gt||ft===void 0&&gt===void 0||k2(s,l,wt,ft,w,gt);return}}for(var Je in g)ft=g[Je],g.hasOwnProperty(Je)&&ft!=null&&!w.hasOwnProperty(Je)&&na(s,l,Je,null,w,ft);for(kt in w)ft=w[kt],gt=g[kt],!w.hasOwnProperty(kt)||ft===gt||ft==null&&gt==null||na(s,l,kt,ft,w,gt)}function PA(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uD(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,g=performance.getEntriesByType("resource"),w=0;w<g.length;w++){var O=g[w],L=O.transferSize,re=O.initiatorType,Ce=O.duration;if(L&&Ce&&PA(re)){for(re=0,Ce=O.responseEnd,w+=1;w<g.length;w++){var Ue=g[w],lt=Ue.startTime;if(lt>Ce)break;var wt=Ue.transferSize,kt=Ue.initiatorType;wt&&PA(kt)&&(Ue=Ue.responseEnd,re+=wt*(Ue<Ce?1:(Ce-lt)/(Ue-lt)))}if(--w,l+=8*(L+re)/(O.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var I2=null,M2=null;function Ap(s){return s.nodeType===9?s:s.ownerDocument}function RA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function BA(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function D2(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var L2=null;function dD(){var s=window.event;return s&&s.type==="popstate"?s===L2?!1:(L2=s,!0):(L2=null,!1)}var FA=typeof setTimeout=="function"?setTimeout:void 0,fD=typeof clearTimeout=="function"?clearTimeout:void 0,zA=typeof Promise=="function"?Promise:void 0,hD=typeof queueMicrotask=="function"?queueMicrotask:typeof zA<"u"?function(s){return zA.resolve(null).then(s).catch(pD)}:FA;function pD(s){setTimeout(function(){throw s})}function Ku(s){return s==="head"}function UA(s,l){var g=l,w=0;do{var O=g.nextSibling;if(s.removeChild(g),O&&O.nodeType===8)if(g=O.data,g==="/$"||g==="/&"){if(w===0){s.removeChild(O),ah(l);return}w--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")w++;else if(g==="html")w0(s.ownerDocument.documentElement);else if(g==="head"){g=s.ownerDocument.head,w0(g);for(var L=g.firstChild;L;){var re=L.nextSibling,Ce=L.nodeName;L[tr]||Ce==="SCRIPT"||Ce==="STYLE"||Ce==="LINK"&&L.rel.toLowerCase()==="stylesheet"||g.removeChild(L),L=re}}else g==="body"&&w0(s.ownerDocument.body);g=O}while(g);ah(l)}function qA(s,l){var g=s;s=0;do{var w=g.nextSibling;if(g.nodeType===1?l?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(l?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),w&&w.nodeType===8)if(g=w.data,g==="/$"){if(s===0)break;s--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||s++;g=w}while(g)}function P2(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var g=l;switch(l=l.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":P2(g),Xt(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}s.removeChild(g)}}function mD(s,l,g,w){for(;s.nodeType===1;){var O=g;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!w&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(w){if(!s[tr])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(L=s.getAttribute("rel"),L==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(L!==O.rel||s.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||s.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||s.getAttribute("title")!==(O.title==null?null:O.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(L=s.getAttribute("src"),(L!==(O.src==null?null:O.src)||s.getAttribute("type")!==(O.type==null?null:O.type)||s.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&L&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var L=O.name==null?null:""+O.name;if(O.type==="hidden"&&s.getAttribute("name")===L)return s}else return s;if(s=fl(s.nextSibling),s===null)break}return null}function gD(s,l,g){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!g||(s=fl(s.nextSibling),s===null))return null;return s}function HA(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=fl(s.nextSibling),s===null))return null;return s}function R2(s){return s.data==="$?"||s.data==="$~"}function B2(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function xD(s,l){var g=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||g.readyState!=="loading")l();else{var w=function(){l(),g.removeEventListener("DOMContentLoaded",w)};g.addEventListener("DOMContentLoaded",w),s._reactRetry=w}}function fl(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var F2=null;function VA(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var g=s.data;if(g==="/$"||g==="/&"){if(l===0)return fl(s.nextSibling);l--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||l++}s=s.nextSibling}return null}function WA(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var g=s.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(l===0)return s;l--}else g!=="/$"&&g!=="/&"||l++}s=s.previousSibling}return null}function GA(s,l,g){switch(l=Ap(g),s){case"html":if(s=l.documentElement,!s)throw Error(n(452));return s;case"head":if(s=l.head,!s)throw Error(n(453));return s;case"body":if(s=l.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function w0(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Xt(s)}var hl=new Map,YA=new Set;function Np(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var su=se.d;se.d={f:vD,r:yD,D:bD,C:wD,L:AD,m:ND,X:ED,S:SD,M:CD};function vD(){var s=su.f(),l=pp();return s||l}function yD(s){var l=Nt(s);l!==null&&l.tag===5&&l.type==="form"?u4(l):su.r(s)}var th=typeof document>"u"?null:document;function $A(s,l,g){var w=th;if(w&&typeof l=="string"&&l){var O=Or(l);O='link[rel="'+s+'"][href="'+O+'"]',typeof g=="string"&&(O+='[crossorigin="'+g+'"]'),YA.has(O)||(YA.add(O),s={rel:s,crossOrigin:g,href:l},w.querySelector(O)===null&&(l=w.createElement("link"),Ns(l,"link",s),Vr(l),w.head.appendChild(l)))}}function bD(s){su.D(s),$A("dns-prefetch",s,null)}function wD(s,l){su.C(s,l),$A("preconnect",s,l)}function AD(s,l,g){su.L(s,l,g);var w=th;if(w&&s&&l){var O='link[rel="preload"][as="'+Or(l)+'"]';l==="image"&&g&&g.imageSrcSet?(O+='[imagesrcset="'+Or(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(O+='[imagesizes="'+Or(g.imageSizes)+'"]')):O+='[href="'+Or(s)+'"]';var L=O;switch(l){case"style":L=rh(s);break;case"script":L=nh(s)}hl.has(L)||(s=y({rel:"preload",href:l==="image"&&g&&g.imageSrcSet?void 0:s,as:l},g),hl.set(L,s),w.querySelector(O)!==null||l==="style"&&w.querySelector(A0(L))||l==="script"&&w.querySelector(N0(L))||(l=w.createElement("link"),Ns(l,"link",s),Vr(l),w.head.appendChild(l)))}}function ND(s,l){su.m(s,l);var g=th;if(g&&s){var w=l&&typeof l.as=="string"?l.as:"script",O='link[rel="modulepreload"][as="'+Or(w)+'"][href="'+Or(s)+'"]',L=O;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=nh(s)}if(!hl.has(L)&&(s=y({rel:"modulepreload",href:s},l),hl.set(L,s),g.querySelector(O)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(N0(L)))return}w=g.createElement("link"),Ns(w,"link",s),Vr(w),g.head.appendChild(w)}}}function SD(s,l,g){su.S(s,l,g);var w=th;if(w&&s){var O=Lr(w).hoistableStyles,L=rh(s);l=l||"default";var re=O.get(L);if(!re){var Ce={loading:0,preload:null};if(re=w.querySelector(A0(L)))Ce.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":l},g),(g=hl.get(L))&&z2(s,g);var Ue=re=w.createElement("link");Vr(Ue),Ns(Ue,"link",s),Ue._p=new Promise(function(lt,wt){Ue.onload=lt,Ue.onerror=wt}),Ue.addEventListener("load",function(){Ce.loading|=1}),Ue.addEventListener("error",function(){Ce.loading|=2}),Ce.loading|=4,Sp(re,l,w)}re={type:"stylesheet",instance:re,count:1,state:Ce},O.set(L,re)}}}function ED(s,l){su.X(s,l);var g=th;if(g&&s){var w=Lr(g).hoistableScripts,O=nh(s),L=w.get(O);L||(L=g.querySelector(N0(O)),L||(s=y({src:s,async:!0},l),(l=hl.get(O))&&U2(s,l),L=g.createElement("script"),Vr(L),Ns(L,"link",s),g.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},w.set(O,L))}}function CD(s,l){su.M(s,l);var g=th;if(g&&s){var w=Lr(g).hoistableScripts,O=nh(s),L=w.get(O);L||(L=g.querySelector(N0(O)),L||(s=y({src:s,async:!0,type:"module"},l),(l=hl.get(O))&&U2(s,l),L=g.createElement("script"),Vr(L),Ns(L,"link",s),g.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},w.set(O,L))}}function XA(s,l,g,w){var O=(O=ve.current)?Np(O):null;if(!O)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(l=rh(g.href),g=Lr(O).hoistableStyles,w=g.get(l),w||(w={type:"style",instance:null,count:0,state:null},g.set(l,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){s=rh(g.href);var L=Lr(O).hoistableStyles,re=L.get(s);if(re||(O=O.ownerDocument||O,re={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(s,re),(L=O.querySelector(A0(s)))&&!L._p&&(re.instance=L,re.state.loading=5),hl.has(s)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},hl.set(s,g),L||_D(O,s,g,re.state))),l&&w===null)throw Error(n(528,""));return re}if(l&&w!==null)throw Error(n(529,""));return null;case"script":return l=g.async,g=g.src,typeof g=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=nh(g),g=Lr(O).hoistableScripts,w=g.get(l),w||(w={type:"script",instance:null,count:0,state:null},g.set(l,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function rh(s){return'href="'+Or(s)+'"'}function A0(s){return'link[rel="stylesheet"]['+s+"]"}function KA(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function _D(s,l,g,w){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?w.loading=1:(l=s.createElement("link"),w.preload=l,l.addEventListener("load",function(){return w.loading|=1}),l.addEventListener("error",function(){return w.loading|=2}),Ns(l,"link",g),Vr(l),s.head.appendChild(l))}function nh(s){return'[src="'+Or(s)+'"]'}function N0(s){return"script[async]"+s}function ZA(s,l,g){if(l.count++,l.instance===null)switch(l.type){case"style":var w=s.querySelector('style[data-href~="'+Or(g.href)+'"]');if(w)return l.instance=w,Vr(w),w;var O=y({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return w=(s.ownerDocument||s).createElement("style"),Vr(w),Ns(w,"style",O),Sp(w,g.precedence,s),l.instance=w;case"stylesheet":O=rh(g.href);var L=s.querySelector(A0(O));if(L)return l.state.loading|=4,l.instance=L,Vr(L),L;w=KA(g),(O=hl.get(O))&&z2(w,O),L=(s.ownerDocument||s).createElement("link"),Vr(L);var re=L;return re._p=new Promise(function(Ce,Ue){re.onload=Ce,re.onerror=Ue}),Ns(L,"link",w),l.state.loading|=4,Sp(L,g.precedence,s),l.instance=L;case"script":return L=nh(g.src),(O=s.querySelector(N0(L)))?(l.instance=O,Vr(O),O):(w=g,(O=hl.get(L))&&(w=y({},g),U2(w,O)),s=s.ownerDocument||s,O=s.createElement("script"),Vr(O),Ns(O,"link",w),s.head.appendChild(O),l.instance=O);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&!(l.state.loading&4)&&(w=l.instance,l.state.loading|=4,Sp(w,g.precedence,s));return l.instance}function Sp(s,l,g){for(var w=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=w.length?w[w.length-1]:null,L=O,re=0;re<w.length;re++){var Ce=w[re];if(Ce.dataset.precedence===l)L=Ce;else if(L!==O)break}L?L.parentNode.insertBefore(s,L.nextSibling):(l=g.nodeType===9?g.head:g,l.insertBefore(s,l.firstChild))}function z2(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function U2(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Ep=null;function QA(s,l,g){if(Ep===null){var w=new Map,O=Ep=new Map;O.set(g,w)}else O=Ep,w=O.get(g),w||(w=new Map,O.set(g,w));if(w.has(s))return w;for(w.set(s,null),g=g.getElementsByTagName(s),O=0;O<g.length;O++){var L=g[O];if(!(L[tr]||L[Ft]||s==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var re=L.getAttribute(l)||"";re=s+re;var Ce=w.get(re);Ce?Ce.push(L):w.set(re,[L])}}return w}function JA(s,l,g){s=s.ownerDocument||s,s.head.insertBefore(g,l==="title"?s.querySelector("head > title"):null)}function jD(s,l,g){if(g===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function eN(s){return!(s.type==="stylesheet"&&!(s.state.loading&3))}function OD(s,l,g,w){if(g.type==="stylesheet"&&(typeof w.media!="string"||matchMedia(w.media).matches!==!1)&&!(g.state.loading&4)){if(g.instance===null){var O=rh(w.href),L=l.querySelector(A0(O));if(L){l=L._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=Cp.bind(s),l.then(s,s)),g.state.loading|=4,g.instance=L,Vr(L);return}L=l.ownerDocument||l,w=KA(w),(O=hl.get(O))&&z2(w,O),L=L.createElement("link"),Vr(L);var re=L;re._p=new Promise(function(Ce,Ue){re.onload=Ce,re.onerror=Ue}),Ns(L,"link",w),g.instance=L}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(g,l),(l=g.state.preload)&&!(g.state.loading&3)&&(s.count++,g=Cp.bind(s),l.addEventListener("load",g),l.addEventListener("error",g))}}var q2=0;function TD(s,l){return s.stylesheets&&s.count===0&&jp(s,s.stylesheets),0<s.count||0<s.imgCount?function(g){var w=setTimeout(function(){if(s.stylesheets&&jp(s,s.stylesheets),s.unsuspend){var L=s.unsuspend;s.unsuspend=null,L()}},6e4+l);0<s.imgBytes&&q2===0&&(q2=62500*uD());var O=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&jp(s,s.stylesheets),s.unsuspend)){var L=s.unsuspend;s.unsuspend=null,L()}},(s.imgBytes>q2?50:800)+l);return s.unsuspend=g,function(){s.unsuspend=null,clearTimeout(w),clearTimeout(O)}}:null}function Cp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jp(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var _p=null;function jp(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,_p=new Map,l.forEach(kD,s),_p=null,Cp.call(s))}function kD(s,l){if(!(l.state.loading&4)){var g=_p.get(s);if(g)var w=g.get(null);else{g=new Map,_p.set(s,g);for(var O=s.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<O.length;L++){var re=O[L];(re.nodeName==="LINK"||re.getAttribute("media")!=="not all")&&(g.set(re.dataset.precedence,re),w=re)}w&&g.set(null,w)}O=l.instance,re=O.getAttribute("data-precedence"),L=g.get(re)||w,L===w&&g.set(null,O),g.set(re,O),this.count++,w=Cp.bind(this),O.addEventListener("load",w),O.addEventListener("error",w),L?L.parentNode.insertBefore(O,L.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(O,s.firstChild)),l.state.loading|=4}}var S0={$$typeof:z,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function ID(s,l,g,w,O,L,re,Ce,Ue){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=la(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.hiddenUpdates=la(null),this.identifierPrefix=w,this.onUncaughtError=O,this.onCaughtError=L,this.onRecoverableError=re,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ue,this.incompleteTransitions=new Map}function tN(s,l,g,w,O,L,re,Ce,Ue,lt,wt,kt){return s=new ID(s,l,g,re,Ue,lt,wt,kt,Ce),l=1,L===!0&&(l|=24),L=ss(3,null,null,l),s.current=L,L.stateNode=s,l=Bu(),l.refCount++,s.pooledCache=l,l.refCount++,L.memoizedState={element:w,isDehydrated:g,cache:l},Hn(L),s}function rN(s){return s?(s=Ui,s):Ui}function nN(s,l,g,w,O,L){O=rN(O),w.context===null?w.context=O:w.pendingContext=O,w=Mr(l),w.payload={element:g},L=L===void 0?null:L,L!==null&&(w.callback=L),g=$n(s,w,l),g!==null&&(_o(g,s,l),Si(g,s,l))}function aN(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var g=s.retryLane;s.retryLane=g!==0&&g<l?g:l}}function H2(s,l){aN(s,l),(s=s.alternate)&&aN(s,l)}function iN(s){if(s.tag===13||s.tag===31){var l=Ol(s,67108864);l!==null&&_o(l,s,67108864),H2(s,67108864)}}function sN(s){if(s.tag===13||s.tag===31){var l=Vo();l=Xr(l);var g=Ol(s,l);g!==null&&_o(g,s,l),H2(s,l)}}var Op=!0;function MD(s,l,g,w){var O=te.T;te.T=null;var L=se.p;try{se.p=2,V2(s,l,g,w)}finally{se.p=L,te.T=O}}function DD(s,l,g,w){var O=te.T;te.T=null;var L=se.p;try{se.p=8,V2(s,l,g,w)}finally{se.p=L,te.T=O}}function V2(s,l,g,w){if(Op){var O=W2(w);if(O===null)T2(s,l,w,Tp,g),lN(s,w);else if(PD(O,s,l,g,w))w.stopPropagation();else if(lN(s,w),l&4&&-1<LD.indexOf(s)){for(;O!==null;){var L=Nt(O);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var re=cn(L.pendingLanes);if(re!==0){var Ce=L;for(Ce.pendingLanes|=2,Ce.entangledLanes|=2;re;){var Ue=1<<31-Qt(re);Ce.entanglements[1]|=Ue,re&=~Ue}xc(L),!(Vn&6)&&(fp=Ht()+500,v0(0))}}break;case 31:case 13:Ce=Ol(L,2),Ce!==null&&_o(Ce,L,2),pp(),H2(L,2)}if(L=W2(w),L===null&&T2(s,l,w,Tp,g),L===O)break;O=L}O!==null&&w.stopPropagation()}else T2(s,l,w,null,g)}}function W2(s){return s=tc(s),G2(s)}var Tp=null;function G2(s){if(Tp=null,s=cr(s),s!==null){var l=i(s);if(l===null)s=null;else{var g=l.tag;if(g===13){if(s=c(l),s!==null)return s;s=null}else if(g===31){if(s=f(l),s!==null)return s;s=null}else if(g===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Tp=s,null}function oN(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yt()){case Jt:return 2;case Ut:return 8;case ir:case Wt:return 32;case Ar:return 268435456;default:return 32}default:return 32}}var Y2=!1,Zu=null,Qu=null,Ju=null,E0=new Map,C0=new Map,ed=[],LD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lN(s,l){switch(s){case"focusin":case"focusout":Zu=null;break;case"dragenter":case"dragleave":Qu=null;break;case"mouseover":case"mouseout":Ju=null;break;case"pointerover":case"pointerout":E0.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":C0.delete(l.pointerId)}}function _0(s,l,g,w,O,L){return s===null||s.nativeEvent!==L?(s={blockedOn:l,domEventName:g,eventSystemFlags:w,nativeEvent:L,targetContainers:[O]},l!==null&&(l=Nt(l),l!==null&&iN(l)),s):(s.eventSystemFlags|=w,l=s.targetContainers,O!==null&&l.indexOf(O)===-1&&l.push(O),s)}function PD(s,l,g,w,O){switch(l){case"focusin":return Zu=_0(Zu,s,l,g,w,O),!0;case"dragenter":return Qu=_0(Qu,s,l,g,w,O),!0;case"mouseover":return Ju=_0(Ju,s,l,g,w,O),!0;case"pointerover":var L=O.pointerId;return E0.set(L,_0(E0.get(L)||null,s,l,g,w,O)),!0;case"gotpointercapture":return L=O.pointerId,C0.set(L,_0(C0.get(L)||null,s,l,g,w,O)),!0}return!1}function cN(s){var l=cr(s.target);if(l!==null){var g=i(l);if(g!==null){if(l=g.tag,l===13){if(l=c(g),l!==null){s.blockedOn=l,et(s.priority,function(){sN(g)});return}}else if(l===31){if(l=f(g),l!==null){s.blockedOn=l,et(s.priority,function(){sN(g)});return}}else if(l===3&&g.stateNode.current.memoizedState.isDehydrated){s.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}s.blockedOn=null}function kp(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var g=W2(s.nativeEvent);if(g===null){g=s.nativeEvent;var w=new g.constructor(g.type,g);zn=w,g.target.dispatchEvent(w),zn=null}else return l=Nt(g),l!==null&&iN(l),s.blockedOn=g,!1;l.shift()}return!0}function uN(s,l,g){kp(s)&&g.delete(l)}function RD(){Y2=!1,Zu!==null&&kp(Zu)&&(Zu=null),Qu!==null&&kp(Qu)&&(Qu=null),Ju!==null&&kp(Ju)&&(Ju=null),E0.forEach(uN),C0.forEach(uN)}function Ip(s,l){s.blockedOn===l&&(s.blockedOn=null,Y2||(Y2=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,RD)))}var Mp=null;function dN(s){Mp!==s&&(Mp=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Mp===s&&(Mp=null);for(var l=0;l<s.length;l+=3){var g=s[l],w=s[l+1],O=s[l+2];if(typeof w!="function"){if(G2(w||g)===null)continue;break}var L=Nt(g);L!==null&&(s.splice(l,3),l-=3,Wx(L,{pending:!0,data:O,method:g.method,action:w},w,O))}}))}function ah(s){function l(Ue){return Ip(Ue,s)}Zu!==null&&Ip(Zu,s),Qu!==null&&Ip(Qu,s),Ju!==null&&Ip(Ju,s),E0.forEach(l),C0.forEach(l);for(var g=0;g<ed.length;g++){var w=ed[g];w.blockedOn===s&&(w.blockedOn=null)}for(;0<ed.length&&(g=ed[0],g.blockedOn===null);)cN(g),g.blockedOn===null&&ed.shift();if(g=(s.ownerDocument||s).$$reactFormReplay,g!=null)for(w=0;w<g.length;w+=3){var O=g[w],L=g[w+1],re=O[Re]||null;if(typeof L=="function")re||dN(g);else if(re){var Ce=null;if(L&&L.hasAttribute("formAction")){if(O=L,re=L[Re]||null)Ce=re.formAction;else if(G2(O)!==null)continue}else Ce=re.action;typeof Ce=="function"?g[w+1]=Ce:(g.splice(w,3),w-=3),dN(g)}}}function fN(){function s(L){L.canIntercept&&L.info==="react-transition"&&L.intercept({handler:function(){return new Promise(function(re){return O=re})},focusReset:"manual",scroll:"manual"})}function l(){O!==null&&(O(),O=null),w||setTimeout(g,20)}function g(){if(!w&&!navigation.transition){var L=navigation.currentEntry;L&&L.url!=null&&navigation.navigate(L.url,{state:L.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var w=!1,O=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(g,100),function(){w=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),O!==null&&(O(),O=null)}}}function $2(s){this._internalRoot=s}Dp.prototype.render=$2.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));var g=l.current,w=Vo();nN(g,w,s,l,null,null)},Dp.prototype.unmount=$2.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;nN(s.current,2,null,s,null,null),pp(),l[mt]=null}};function Dp(s){this._internalRoot=s}Dp.prototype.unstable_scheduleHydration=function(s){if(s){var l=jt();s={blockedOn:null,target:s,priority:l};for(var g=0;g<ed.length&&l!==0&&l<ed[g].priority;g++);ed.splice(g,0,s),g===0&&cN(s)}};var hN=t.version;if(hN!=="19.2.0")throw Error(n(527,hN,"19.2.0"));se.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=p(l),s=s!==null?x(s):null,s=s===null?null:s.stateNode,s};var BD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lp.isDisabled&&Lp.supportsFiber)try{Vt=Lp.inject(BD),Et=Lp}catch{}}return O0.createRoot=function(s,l){if(!a(s))throw Error(n(299));var g=!1,w="",O=b4,L=w4,re=A4;return l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(w=l.identifierPrefix),l.onUncaughtError!==void 0&&(O=l.onUncaughtError),l.onCaughtError!==void 0&&(L=l.onCaughtError),l.onRecoverableError!==void 0&&(re=l.onRecoverableError)),l=tN(s,1,!1,null,null,g,w,null,O,L,re,fN),s[mt]=l.current,O2(s),new $2(l)},O0.hydrateRoot=function(s,l,g){if(!a(s))throw Error(n(299));var w=!1,O="",L=b4,re=w4,Ce=A4,Ue=null;return g!=null&&(g.unstable_strictMode===!0&&(w=!0),g.identifierPrefix!==void 0&&(O=g.identifierPrefix),g.onUncaughtError!==void 0&&(L=g.onUncaughtError),g.onCaughtError!==void 0&&(re=g.onCaughtError),g.onRecoverableError!==void 0&&(Ce=g.onRecoverableError),g.formState!==void 0&&(Ue=g.formState)),l=tN(s,1,!0,l,g??null,w,O,Ue,L,re,Ce,fN),l.context=rN(null),g=l.current,w=Vo(),w=Xr(w),O=Mr(w),O.callback=null,$n(g,O,w),g=w,l.current.lanes=g,ca(l,g),xc(l),s[mt]=l.current,O2(s),new Dp(l)},O0.version="19.2.0",O0}var NN;function XD(){if(NN)return Q2.exports;NN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Q2.exports=$D(),Q2.exports}var KD=XD(),rv={exports:{}},nv={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN;function ZD(){if(SN)return nv;SN=1;var e=Nf().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return nv.c=function(t){return e.H.useMemoCache(t)},nv}var EN;function QD(){return EN||(EN=1,rv.exports=ZD()),rv.exports}var Da=QD(),v1=z_();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q0.apply(this,arguments)}var dd;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(dd||(dd={}));const CN="popstate";function JD(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:c,hash:f}=n.location;return rb("",{pathname:i,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:jm(a)}return tL(t,r,null,e)}function xi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function L5(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eL(){return Math.random().toString(36).substr(2,8)}function _N(e,t){return{usr:e.state,key:e.key,idx:t}}function rb(e,t,r,n){return r===void 0&&(r=null),Q0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mh(t):t,{state:r,key:t&&t.key||n||eL()})}function jm(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Mh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function tL(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,c=a.history,f=dd.Pop,m=null,p=x();p==null&&(p=0,c.replaceState(Q0({},c.state,{idx:p}),""));function x(){return(c.state||{idx:null}).idx}function y(){f=dd.Pop;let T=x(),D=T==null?null:T-p;p=T,m&&m({action:f,location:_.location,delta:D})}function S(T,D){f=dd.Push;let R=rb(_.location,T,D);p=x()+1;let z=_N(R,p),G=_.createHref(R);try{c.pushState(z,"",G)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;a.location.assign(G)}i&&m&&m({action:f,location:_.location,delta:1})}function N(T,D){f=dd.Replace;let R=rb(_.location,T,D);p=x();let z=_N(R,p),G=_.createHref(R);c.replaceState(z,"",G),i&&m&&m({action:f,location:_.location,delta:0})}function j(T){let D=a.location.origin!=="null"?a.location.origin:a.location.href,R=typeof T=="string"?T:jm(T);return R=R.replace(/ $/,"%20"),xi(D,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,D)}let _={get action(){return f},get location(){return e(a,c)},listen(T){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(CN,y),m=T,()=>{a.removeEventListener(CN,y),m=null}},createHref(T){return t(a,T)},createURL:j,encodeLocation(T){let D=j(T);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:S,replace:N,go(T){return c.go(T)}};return _}var jN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(jN||(jN={}));function rL(e,t,r){return r===void 0&&(r="/"),nL(e,t,r)}function nL(e,t,r,n){let a=typeof t=="string"?Mh(t):t,i=P5(a.pathname||"/",r);if(i==null)return null;let c=U_(e);aL(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=gL(i);f=hL(c[m],p)}return f}function U_(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,c,f)=>{let m={relativePath:f===void 0?i.path||"":f,caseSensitive:i.caseSensitive===!0,childrenIndex:c,route:i};m.relativePath.startsWith("/")&&(xi(m.relativePath.startsWith(n),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(n.length));let p=xd([n,m.relativePath]),x=r.concat(m);i.children&&i.children.length>0&&(xi(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),U_(i.children,t,x,p)),!(i.path==null&&!i.index)&&t.push({path:p,score:dL(p,i.index),routesMeta:x})};return e.forEach((i,c)=>{var f;if(i.path===""||!((f=i.path)!=null&&f.includes("?")))a(i,c);else for(let m of q_(i.path))a(i,c,m)}),t}function q_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let c=q_(n.join("/")),f=[];return f.push(...c.map(m=>m===""?i:[i,m].join("/"))),a&&f.push(...c),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function aL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const iL=/^:[\w-]+$/,sL=3,oL=2,lL=1,cL=10,uL=-2,ON=e=>e==="*";function dL(e,t){let r=e.split("/"),n=r.length;return r.some(ON)&&(n+=uL),t&&(n+=oL),r.filter(a=>!ON(a)).reduce((a,i)=>a+(iL.test(i)?sL:i===""?lL:cL),n)}function fL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function hL(e,t,r){let{routesMeta:n}=e,a={},i="/",c=[];for(let f=0;f<n.length;++f){let m=n[f],p=f===n.length-1,x=i==="/"?t:t.slice(i.length)||"/",y=pL({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},x),S=m.route;if(!y)return null;Object.assign(a,y.params),c.push({params:a,pathname:xd([i,y.pathname]),pathnameBase:wL(xd([i,y.pathnameBase])),route:S}),y.pathnameBase!=="/"&&(i=xd([i,y.pathnameBase]))}return c}function pL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=mL(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],c=i.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:n.reduce((p,x,y)=>{let{paramName:S,isOptional:N}=x;if(S==="*"){let _=f[y]||"";c=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const j=f[y];return N&&!j?p[S]=void 0:p[S]=(j||"").replace(/%2F/g,"/"),p},{}),pathname:i,pathnameBase:c,pattern:e}}function mL(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),L5(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(n.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function gL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return L5(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function P5(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const xL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vL=e=>xL.test(e);function yL(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Mh(e):e,i;if(r)if(vL(r))i=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),L5(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+r))}r.startsWith("/")?i=TN(r.substring(1),"/"):i=TN(r,t)}else i=t;return{pathname:i,search:AL(n),hash:NL(a)}}function TN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function av(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bL(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function R5(e,t){let r=bL(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function B5(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Mh(e):(a=Q0({},e),xi(!a.pathname||!a.pathname.includes("?"),av("?","pathname","search",a)),xi(!a.pathname||!a.pathname.includes("#"),av("#","pathname","hash",a)),xi(!a.search||!a.search.includes("#"),av("#","search","hash",a)));let i=e===""||a.pathname==="",c=i?"/":a.pathname,f;if(c==null)f=r;else{let y=t.length-1;if(!n&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),y-=1;a.pathname=S.join("/")}f=y>=0?t[y]:"/"}let m=yL(a,f),p=c&&c!=="/"&&c.endsWith("/"),x=(i||c===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(p||x)&&(m.pathname+="/"),m}const xd=e=>e.join("/").replace(/\/\/+/g,"/"),wL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,NL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function SL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const H_=["post","put","patch","delete"];new Set(H_);const EL=["get",...H_];new Set(EL);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J0.apply(this,arguments)}const F5=I.createContext(null),CL=I.createContext(null),Td=I.createContext(null),Ig=I.createContext(null),Nu=I.createContext({outlet:null,matches:[],isDataRoute:!1}),V_=I.createContext(null);function _L(e,t){let{relative:r}=t===void 0?{}:t;Dh()||xi(!1);let{basename:n,navigator:a}=I.useContext(Td),{hash:i,pathname:c,search:f}=Y_(e,{relative:r}),m=c;return n!=="/"&&(m=c==="/"?n:xd([n,c])),a.createHref({pathname:m,search:f,hash:i})}function Dh(){return I.useContext(Ig)!=null}function kd(){return Dh()||xi(!1),I.useContext(Ig).location}function W_(e){I.useContext(Td).static||I.useLayoutEffect(e)}function Wa(){let{isDataRoute:e}=I.useContext(Nu);return e?zL():jL()}function jL(){Dh()||xi(!1);let e=I.useContext(F5),{basename:t,future:r,navigator:n}=I.useContext(Td),{matches:a}=I.useContext(Nu),{pathname:i}=kd(),c=JSON.stringify(R5(a,r.v7_relativeSplatPath)),f=I.useRef(!1);return W_(()=>{f.current=!0}),I.useCallback(function(p,x){if(x===void 0&&(x={}),!f.current)return;if(typeof p=="number"){n.go(p);return}let y=B5(p,JSON.parse(c),i,x.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:xd([t,y.pathname])),(x.replace?n.replace:n.push)(y,x.state,x)},[t,n,c,i,e])}function G_(){let{matches:e}=I.useContext(Nu),t=e[e.length-1];return t?t.params:{}}function Y_(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=I.useContext(Td),{matches:a}=I.useContext(Nu),{pathname:i}=kd(),c=JSON.stringify(R5(a,n.v7_relativeSplatPath));return I.useMemo(()=>B5(e,JSON.parse(c),i,r==="path"),[e,c,i,r])}function OL(e,t){return TL(e,t)}function TL(e,t,r,n){Dh()||xi(!1);let{navigator:a}=I.useContext(Td),{matches:i}=I.useContext(Nu),c=i[i.length-1],f=c?c.params:{};c&&c.pathname;let m=c?c.pathnameBase:"/";c&&c.route;let p=kd(),x;if(t){var y;let T=typeof t=="string"?Mh(t):t;m==="/"||(y=T.pathname)!=null&&y.startsWith(m)||xi(!1),x=T}else x=p;let S=x.pathname||"/",N=S;if(m!=="/"){let T=m.replace(/^\//,"").split("/");N="/"+S.replace(/^\//,"").split("/").slice(T.length).join("/")}let j=rL(e,{pathname:N}),_=LL(j&&j.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:xd([m,a.encodeLocation?a.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:xd([m,a.encodeLocation?a.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,r,n);return t&&_?I.createElement(Ig.Provider,{value:{location:J0({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:dd.Pop}},_):_}function kL(){let e=FL(),t=SL(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),r?I.createElement("pre",{style:a},r):null,null)}const IL=I.createElement(kL,null);class ML extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?I.createElement(Nu.Provider,{value:this.props.routeContext},I.createElement(V_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DL(e){let{routeContext:t,match:r,children:n}=e,a=I.useContext(F5);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),I.createElement(Nu.Provider,{value:t},n)}function LL(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,f=(a=r)==null?void 0:a.errors;if(f!=null){let x=c.findIndex(y=>y.route.id&&(f==null?void 0:f[y.route.id])!==void 0);x>=0||xi(!1),c=c.slice(0,Math.min(c.length,x+1))}let m=!1,p=-1;if(r&&n&&n.v7_partialHydration)for(let x=0;x<c.length;x++){let y=c[x];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=x),y.route.id){let{loaderData:S,errors:N}=r,j=y.route.loader&&S[y.route.id]===void 0&&(!N||N[y.route.id]===void 0);if(y.route.lazy||j){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((x,y,S)=>{let N,j=!1,_=null,T=null;r&&(N=f&&y.route.id?f[y.route.id]:void 0,_=y.route.errorElement||IL,m&&(p<0&&S===0?(UL("route-fallback"),j=!0,T=null):p===S&&(j=!0,T=y.route.hydrateFallbackElement||null)));let D=t.concat(c.slice(0,S+1)),R=()=>{let z;return N?z=_:j?z=T:y.route.Component?z=I.createElement(y.route.Component,null):y.route.element?z=y.route.element:z=x,I.createElement(DL,{match:y,routeContext:{outlet:x,matches:D,isDataRoute:r!=null},children:z})};return r&&(y.route.ErrorBoundary||y.route.errorElement||S===0)?I.createElement(ML,{location:r.location,revalidation:r.revalidation,component:_,error:N,children:R(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):R()},null)}var $_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($_||{}),X_=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(X_||{});function PL(e){let t=I.useContext(F5);return t||xi(!1),t}function RL(e){let t=I.useContext(CL);return t||xi(!1),t}function BL(e){let t=I.useContext(Nu);return t||xi(!1),t}function K_(e){let t=BL(),r=t.matches[t.matches.length-1];return r.route.id||xi(!1),r.route.id}function FL(){var e;let t=I.useContext(V_),r=RL(),n=K_();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function zL(){let{router:e}=PL($_.UseNavigateStable),t=K_(X_.UseNavigateStable),r=I.useRef(!1);return W_(()=>{r.current=!0}),I.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,J0({fromRouteId:t},i)))},[e,t])}const kN={};function UL(e,t,r){kN[e]||(kN[e]=!0)}function qL(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function fd(e){let{to:t,replace:r,state:n,relative:a}=e;Dh()||xi(!1);let{future:i,static:c}=I.useContext(Td),{matches:f}=I.useContext(Nu),{pathname:m}=kd(),p=Wa(),x=B5(t,R5(f,i.v7_relativeSplatPath),m,a==="path"),y=JSON.stringify(x);return I.useEffect(()=>p(JSON.parse(y),{replace:r,state:n,relative:a}),[p,y,a,r,n]),null}function Yn(e){xi(!1)}function HL(e){let{basename:t="/",children:r=null,location:n,navigationType:a=dd.Pop,navigator:i,static:c=!1,future:f}=e;Dh()&&xi(!1);let m=t.replace(/^\/*/,"/"),p=I.useMemo(()=>({basename:m,navigator:i,static:c,future:J0({v7_relativeSplatPath:!1},f)}),[m,f,i,c]);typeof n=="string"&&(n=Mh(n));let{pathname:x="/",search:y="",hash:S="",state:N=null,key:j="default"}=n,_=I.useMemo(()=>{let T=P5(x,m);return T==null?null:{location:{pathname:T,search:y,hash:S,state:N,key:j},navigationType:a}},[m,x,y,S,N,j,a]);return _==null?null:I.createElement(Td.Provider,{value:p},I.createElement(Ig.Provider,{children:r,value:_}))}function VL(e){let{children:t,location:r}=e;return OL(nb(t),r)}new Promise(()=>{});function nb(e,t){t===void 0&&(t=[]);let r=[];return I.Children.forEach(e,(n,a)=>{if(!I.isValidElement(n))return;let i=[...t,a];if(n.type===I.Fragment){r.push.apply(r,nb(n.props.children,i));return}n.type!==Yn&&xi(!1),!n.props.index||!n.props.children||xi(!1);let c={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=nb(n.props.children,i)),r.push(c)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ab.apply(this,arguments)}function WL(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function GL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function YL(e,t){return e.button===0&&(!t||t==="_self")&&!GL(e)}const $L=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XL="6";try{window.__reactRouterVersion=XL}catch{}const KL="startTransition",IN=F_[KL];function ZL(e){let{basename:t,children:r,future:n,window:a}=e,i=I.useRef();i.current==null&&(i.current=JD({window:a,v5Compat:!0}));let c=i.current,[f,m]=I.useState({action:c.action,location:c.location}),{v7_startTransition:p}=n||{},x=I.useCallback(y=>{p&&IN?IN(()=>m(y)):m(y)},[m,p]);return I.useLayoutEffect(()=>c.listen(x),[c,x]),I.useEffect(()=>qL(n),[n]),I.createElement(HL,{basename:t,children:r,location:f.location,navigationType:f.action,navigator:c,future:n})}const QL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ii=I.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:c,state:f,target:m,to:p,preventScrollReset:x,viewTransition:y}=t,S=WL(t,$L),{basename:N}=I.useContext(Td),j,_=!1;if(typeof p=="string"&&JL.test(p)&&(j=p,QL))try{let z=new URL(window.location.href),G=p.startsWith("//")?new URL(z.protocol+p):new URL(p),$=P5(G.pathname,N);G.origin===z.origin&&$!=null?p=$+G.search+G.hash:_=!0}catch{}let T=_L(p,{relative:a}),D=eP(p,{replace:c,state:f,target:m,preventScrollReset:x,relative:a,viewTransition:y});function R(z){n&&n(z),z.defaultPrevented||D(z)}return I.createElement("a",ab({},S,{href:j||T,onClick:_||i?n:R,ref:r,target:m}))});var MN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(MN||(MN={}));var DN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DN||(DN={}));function eP(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:c,viewTransition:f}=t===void 0?{}:t,m=Wa(),p=kd(),x=Y_(e,{relative:c});return I.useCallback(y=>{if(YL(y,r)){y.preventDefault();let S=n!==void 0?n:jm(p)===jm(x);m(e,{replace:S,state:a,preventScrollReset:i,relative:c,viewTransition:f})}},[p,m,x,n,a,r,e,i,c,f])}function Z_(e,t){return function(){return e.apply(t,arguments)}}const{toString:tP}=Object.prototype,{getPrototypeOf:z5}=Object,{iterator:Mg,toStringTag:Q_}=Symbol,Dg=(e=>t=>{const r=tP.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Xl=e=>(e=e.toLowerCase(),t=>Dg(t)===e),Lg=e=>t=>typeof t===e,{isArray:Lh}=Array,Eh=Lg("undefined");function y1(e){return e!==null&&!Eh(e)&&e.constructor!==null&&!Eh(e.constructor)&&Oo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const J_=Xl("ArrayBuffer");function rP(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&J_(e.buffer),t}const nP=Lg("string"),Oo=Lg("function"),ej=Lg("number"),b1=e=>e!==null&&typeof e=="object",aP=e=>e===!0||e===!1,um=e=>{if(Dg(e)!=="object")return!1;const t=z5(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Q_ in e)&&!(Mg in e)},iP=e=>{if(!b1(e)||y1(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},sP=Xl("Date"),oP=Xl("File"),lP=Xl("Blob"),cP=Xl("FileList"),uP=e=>b1(e)&&Oo(e.pipe),dP=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Oo(e.append)&&((t=Dg(e))==="formdata"||t==="object"&&Oo(e.toString)&&e.toString()==="[object FormData]"))},fP=Xl("URLSearchParams"),[hP,pP,mP,gP]=["ReadableStream","Request","Response","Headers"].map(Xl),xP=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function w1(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Lh(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(y1(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),c=i.length;let f;for(n=0;n<c;n++)f=i[n],t.call(null,e[f],f,e)}}function tj(e,t){if(y1(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Jd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rj=e=>!Eh(e)&&e!==Jd;function ib(){const{caseless:e,skipUndefined:t}=rj(this)&&this||{},r={},n=(a,i)=>{const c=e&&tj(r,i)||i;um(r[c])&&um(a)?r[c]=ib(r[c],a):um(a)?r[c]=ib({},a):Lh(a)?r[c]=a.slice():(!t||!Eh(a))&&(r[c]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&w1(arguments[a],n);return r}const vP=(e,t,r,{allOwnKeys:n}={})=>(w1(t,(a,i)=>{r&&Oo(a)?e[i]=Z_(a,r):e[i]=a},{allOwnKeys:n}),e),yP=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),bP=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},wP=(e,t,r,n)=>{let a,i,c;const f={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)c=a[i],(!n||n(c,e,t))&&!f[c]&&(t[c]=e[c],f[c]=!0);e=r!==!1&&z5(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},AP=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},NP=e=>{if(!e)return null;if(Lh(e))return e;let t=e.length;if(!ej(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},SP=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&z5(Uint8Array)),EP=(e,t)=>{const n=(e&&e[Mg]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},CP=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},_P=Xl("HTMLFormElement"),jP=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),LN=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),OP=Xl("RegExp"),nj=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};w1(r,(a,i)=>{let c;(c=t(a,i,e))!==!1&&(n[i]=c||a)}),Object.defineProperties(e,n)},TP=e=>{nj(e,(t,r)=>{if(Oo(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Oo(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},kP=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return Lh(e)?n(e):n(String(e).split(t)),r},IP=()=>{},MP=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function DP(e){return!!(e&&Oo(e.append)&&e[Q_]==="FormData"&&e[Mg])}const LP=e=>{const t=new Array(10),r=(n,a)=>{if(b1(n)){if(t.indexOf(n)>=0)return;if(y1(n))return n;if(!("toJSON"in n)){t[a]=n;const i=Lh(n)?[]:{};return w1(n,(c,f)=>{const m=r(c,a+1);!Eh(m)&&(i[f]=m)}),t[a]=void 0,i}}return n};return r(e,0)},PP=Xl("AsyncFunction"),RP=e=>e&&(b1(e)||Oo(e))&&Oo(e.then)&&Oo(e.catch),aj=((e,t)=>e?setImmediate:t?((r,n)=>(Jd.addEventListener("message",({source:a,data:i})=>{a===Jd&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Jd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Oo(Jd.postMessage)),BP=typeof queueMicrotask<"u"?queueMicrotask.bind(Jd):typeof process<"u"&&process.nextTick||aj,FP=e=>e!=null&&Oo(e[Mg]),ht={isArray:Lh,isArrayBuffer:J_,isBuffer:y1,isFormData:dP,isArrayBufferView:rP,isString:nP,isNumber:ej,isBoolean:aP,isObject:b1,isPlainObject:um,isEmptyObject:iP,isReadableStream:hP,isRequest:pP,isResponse:mP,isHeaders:gP,isUndefined:Eh,isDate:sP,isFile:oP,isBlob:lP,isRegExp:OP,isFunction:Oo,isStream:uP,isURLSearchParams:fP,isTypedArray:SP,isFileList:cP,forEach:w1,merge:ib,extend:vP,trim:xP,stripBOM:yP,inherits:bP,toFlatObject:wP,kindOf:Dg,kindOfTest:Xl,endsWith:AP,toArray:NP,forEachEntry:EP,matchAll:CP,isHTMLForm:_P,hasOwnProperty:LN,hasOwnProp:LN,reduceDescriptors:nj,freezeMethods:TP,toObjectSet:kP,toCamelCase:jP,noop:IP,toFiniteNumber:MP,findKey:tj,global:Jd,isContextDefined:rj,isSpecCompliantForm:DP,toJSONObject:LP,isAsyncFn:PP,isThenable:RP,setImmediate:aj,asap:BP,isIterable:FP};function Qr(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ht.inherits(Qr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ht.toJSONObject(this.config),code:this.code,status:this.status}}});const ij=Qr.prototype,sj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{sj[e]={value:e}});Object.defineProperties(Qr,sj);Object.defineProperty(ij,"isAxiosError",{value:!0});Qr.from=(e,t,r,n,a,i)=>{const c=Object.create(ij);ht.toFlatObject(e,c,function(x){return x!==Error.prototype},p=>p!=="isAxiosError");const f=e&&e.message?e.message:"Error",m=t==null&&e?e.code:t;return Qr.call(c,f,m,r,n,a),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",i&&Object.assign(c,i),c};const zP=null;function sb(e){return ht.isPlainObject(e)||ht.isArray(e)}function oj(e){return ht.endsWith(e,"[]")?e.slice(0,-2):e}function PN(e,t,r){return e?e.concat(t).map(function(a,i){return a=oj(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function UP(e){return ht.isArray(e)&&!e.some(sb)}const qP=ht.toFlatObject(ht,{},null,function(t){return/^is[A-Z]/.test(t)});function Pg(e,t,r){if(!ht.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ht.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,T){return!ht.isUndefined(T[_])});const n=r.metaTokens,a=r.visitor||x,i=r.dots,c=r.indexes,m=(r.Blob||typeof Blob<"u"&&Blob)&&ht.isSpecCompliantForm(t);if(!ht.isFunction(a))throw new TypeError("visitor must be a function");function p(j){if(j===null)return"";if(ht.isDate(j))return j.toISOString();if(ht.isBoolean(j))return j.toString();if(!m&&ht.isBlob(j))throw new Qr("Blob is not supported. Use a Buffer instead.");return ht.isArrayBuffer(j)||ht.isTypedArray(j)?m&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function x(j,_,T){let D=j;if(j&&!T&&typeof j=="object"){if(ht.endsWith(_,"{}"))_=n?_:_.slice(0,-2),j=JSON.stringify(j);else if(ht.isArray(j)&&UP(j)||(ht.isFileList(j)||ht.endsWith(_,"[]"))&&(D=ht.toArray(j)))return _=oj(_),D.forEach(function(z,G){!(ht.isUndefined(z)||z===null)&&t.append(c===!0?PN([_],G,i):c===null?_:_+"[]",p(z))}),!1}return sb(j)?!0:(t.append(PN(T,_,i),p(j)),!1)}const y=[],S=Object.assign(qP,{defaultVisitor:x,convertValue:p,isVisitable:sb});function N(j,_){if(!ht.isUndefined(j)){if(y.indexOf(j)!==-1)throw Error("Circular reference detected in "+_.join("."));y.push(j),ht.forEach(j,function(D,R){(!(ht.isUndefined(D)||D===null)&&a.call(t,D,ht.isString(R)?R.trim():R,_,S))===!0&&N(D,_?_.concat(R):[R])}),y.pop()}}if(!ht.isObject(e))throw new TypeError("data must be an object");return N(e),t}function RN(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function U5(e,t){this._pairs=[],e&&Pg(e,this,t)}const lj=U5.prototype;lj.append=function(t,r){this._pairs.push([t,r])};lj.toString=function(t){const r=t?function(n){return t.call(this,n,RN)}:RN;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function HP(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function cj(e,t,r){if(!t)return e;const n=r&&r.encode||HP;ht.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=ht.isURLSearchParams(t)?t.toString():new U5(t,r).toString(n),i){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class BN{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ht.forEach(this.handlers,function(n){n!==null&&t(n)})}}const uj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},VP=typeof URLSearchParams<"u"?URLSearchParams:U5,WP=typeof FormData<"u"?FormData:null,GP=typeof Blob<"u"?Blob:null,YP={isBrowser:!0,classes:{URLSearchParams:VP,FormData:WP,Blob:GP},protocols:["http","https","file","blob","url","data"]},q5=typeof window<"u"&&typeof document<"u",ob=typeof navigator=="object"&&navigator||void 0,$P=q5&&(!ob||["ReactNative","NativeScript","NS"].indexOf(ob.product)<0),XP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",KP=q5&&window.location.href||"http://localhost",ZP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:q5,hasStandardBrowserEnv:$P,hasStandardBrowserWebWorkerEnv:XP,navigator:ob,origin:KP},Symbol.toStringTag,{value:"Module"})),Us={...ZP,...YP};function QP(e,t){return Pg(e,new Us.classes.URLSearchParams,{visitor:function(r,n,a,i){return Us.isNode&&ht.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function JP(e){return ht.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function e9(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function dj(e){function t(r,n,a,i){let c=r[i++];if(c==="__proto__")return!0;const f=Number.isFinite(+c),m=i>=r.length;return c=!c&&ht.isArray(a)?a.length:c,m?(ht.hasOwnProp(a,c)?a[c]=[a[c],n]:a[c]=n,!f):((!a[c]||!ht.isObject(a[c]))&&(a[c]=[]),t(r,n,a[c],i)&&ht.isArray(a[c])&&(a[c]=e9(a[c])),!f)}if(ht.isFormData(e)&&ht.isFunction(e.entries)){const r={};return ht.forEachEntry(e,(n,a)=>{t(JP(n),a,r,0)}),r}return null}function t9(e,t,r){if(ht.isString(e))try{return(t||JSON.parse)(e),ht.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const A1={transitional:uj,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=ht.isObject(t);if(i&&ht.isHTMLForm(t)&&(t=new FormData(t)),ht.isFormData(t))return a?JSON.stringify(dj(t)):t;if(ht.isArrayBuffer(t)||ht.isBuffer(t)||ht.isStream(t)||ht.isFile(t)||ht.isBlob(t)||ht.isReadableStream(t))return t;if(ht.isArrayBufferView(t))return t.buffer;if(ht.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let f;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return QP(t,this.formSerializer).toString();if((f=ht.isFileList(t))||n.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Pg(f?{"files[]":t}:t,m&&new m,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),t9(t)):t}],transformResponse:[function(t){const r=this.transitional||A1.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(ht.isResponse(t)||ht.isReadableStream(t))return t;if(t&&ht.isString(t)&&(n&&!this.responseType||a)){const c=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(f){if(c)throw f.name==="SyntaxError"?Qr.from(f,Qr.ERR_BAD_RESPONSE,this,null,this.response):f}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Us.classes.FormData,Blob:Us.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ht.forEach(["delete","get","head","post","put","patch"],e=>{A1.headers[e]={}});const r9=ht.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),n9=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(c){a=c.indexOf(":"),r=c.substring(0,a).trim().toLowerCase(),n=c.substring(a+1).trim(),!(!r||t[r]&&r9[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},FN=Symbol("internals");function T0(e){return e&&String(e).trim().toLowerCase()}function dm(e){return e===!1||e==null?e:ht.isArray(e)?e.map(dm):String(e)}function a9(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const i9=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function iv(e,t,r,n,a){if(ht.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!ht.isString(t)){if(ht.isString(n))return t.indexOf(n)!==-1;if(ht.isRegExp(n))return n.test(t)}}function s9(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function o9(e,t){const r=ht.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,c){return this[n].call(this,t,a,i,c)},configurable:!0})})}let To=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(f,m,p){const x=T0(m);if(!x)throw new Error("header name must be a non-empty string");const y=ht.findKey(a,x);(!y||a[y]===void 0||p===!0||p===void 0&&a[y]!==!1)&&(a[y||m]=dm(f))}const c=(f,m)=>ht.forEach(f,(p,x)=>i(p,x,m));if(ht.isPlainObject(t)||t instanceof this.constructor)c(t,r);else if(ht.isString(t)&&(t=t.trim())&&!i9(t))c(n9(t),r);else if(ht.isObject(t)&&ht.isIterable(t)){let f={},m,p;for(const x of t){if(!ht.isArray(x))throw TypeError("Object iterator must return a key-value pair");f[p=x[0]]=(m=f[p])?ht.isArray(m)?[...m,x[1]]:[m,x[1]]:x[1]}c(f,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=T0(t),t){const n=ht.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return a9(a);if(ht.isFunction(r))return r.call(this,a,n);if(ht.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=T0(t),t){const n=ht.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||iv(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(c){if(c=T0(c),c){const f=ht.findKey(n,c);f&&(!r||iv(n,n[f],f,r))&&(delete n[f],a=!0)}}return ht.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||iv(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return ht.forEach(this,(a,i)=>{const c=ht.findKey(n,i);if(c){r[c]=dm(a),delete r[i];return}const f=t?s9(i):String(i).trim();f!==i&&delete r[i],r[f]=dm(a),n[f]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ht.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&ht.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[FN]=this[FN]={accessors:{}}).accessors,a=this.prototype;function i(c){const f=T0(c);n[f]||(o9(a,c),n[f]=!0)}return ht.isArray(t)?t.forEach(i):i(t),this}};To.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ht.reduceDescriptors(To.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ht.freezeMethods(To);function sv(e,t){const r=this||A1,n=t||r,a=To.from(n.headers);let i=n.data;return ht.forEach(e,function(f){i=f.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function fj(e){return!!(e&&e.__CANCEL__)}function Ph(e,t,r){Qr.call(this,e??"canceled",Qr.ERR_CANCELED,t,r),this.name="CanceledError"}ht.inherits(Ph,Qr,{__CANCEL__:!0});function hj(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Qr("Request failed with status code "+r.status,[Qr.ERR_BAD_REQUEST,Qr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function l9(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function c9(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,c;return t=t!==void 0?t:1e3,function(m){const p=Date.now(),x=n[i];c||(c=p),r[a]=m,n[a]=p;let y=i,S=0;for(;y!==a;)S+=r[y++],y=y%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),p-c<t)return;const N=x&&p-x;return N?Math.round(S*1e3/N):void 0}}function u9(e,t){let r=0,n=1e3/t,a,i;const c=(p,x=Date.now())=>{r=x,a=null,i&&(clearTimeout(i),i=null),e(...p)};return[(...p)=>{const x=Date.now(),y=x-r;y>=n?c(p,x):(a=p,i||(i=setTimeout(()=>{i=null,c(a)},n-y)))},()=>a&&c(a)]}const Om=(e,t,r=3)=>{let n=0;const a=c9(50,250);return u9(i=>{const c=i.loaded,f=i.lengthComputable?i.total:void 0,m=c-n,p=a(m),x=c<=f;n=c;const y={loaded:c,total:f,progress:f?c/f:void 0,bytes:m,rate:p||void 0,estimated:p&&f&&x?(f-c)/p:void 0,event:i,lengthComputable:f!=null,[t?"download":"upload"]:!0};e(y)},r)},zN=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},UN=e=>(...t)=>ht.asap(()=>e(...t)),d9=Us.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Us.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Us.origin),Us.navigator&&/(msie|trident)/i.test(Us.navigator.userAgent)):()=>!0,f9=Us.hasStandardBrowserEnv?{write(e,t,r,n,a,i,c){if(typeof document>"u")return;const f=[`${e}=${encodeURIComponent(t)}`];ht.isNumber(r)&&f.push(`expires=${new Date(r).toUTCString()}`),ht.isString(n)&&f.push(`path=${n}`),ht.isString(a)&&f.push(`domain=${a}`),i===!0&&f.push("secure"),ht.isString(c)&&f.push(`SameSite=${c}`),document.cookie=f.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function h9(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function p9(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function pj(e,t,r){let n=!h9(t);return e&&(n||r==!1)?p9(e,t):t}const qN=e=>e instanceof To?{...e}:e;function ff(e,t){t=t||{};const r={};function n(p,x,y,S){return ht.isPlainObject(p)&&ht.isPlainObject(x)?ht.merge.call({caseless:S},p,x):ht.isPlainObject(x)?ht.merge({},x):ht.isArray(x)?x.slice():x}function a(p,x,y,S){if(ht.isUndefined(x)){if(!ht.isUndefined(p))return n(void 0,p,y,S)}else return n(p,x,y,S)}function i(p,x){if(!ht.isUndefined(x))return n(void 0,x)}function c(p,x){if(ht.isUndefined(x)){if(!ht.isUndefined(p))return n(void 0,p)}else return n(void 0,x)}function f(p,x,y){if(y in t)return n(p,x);if(y in e)return n(void 0,p)}const m={url:i,method:i,data:i,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:f,headers:(p,x,y)=>a(qN(p),qN(x),y,!0)};return ht.forEach(Object.keys({...e,...t}),function(x){const y=m[x]||a,S=y(e[x],t[x],x);ht.isUndefined(S)&&y!==f||(r[x]=S)}),r}const mj=e=>{const t=ff({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:c,auth:f}=t;if(t.headers=c=To.from(c),t.url=cj(pj(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),f&&c.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),ht.isFormData(r)){if(Us.hasStandardBrowserEnv||Us.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(ht.isFunction(r.getHeaders)){const m=r.getHeaders(),p=["content-type","content-length"];Object.entries(m).forEach(([x,y])=>{p.includes(x.toLowerCase())&&c.set(x,y)})}}if(Us.hasStandardBrowserEnv&&(n&&ht.isFunction(n)&&(n=n(t)),n||n!==!1&&d9(t.url))){const m=a&&i&&f9.read(i);m&&c.set(a,m)}return t},m9=typeof XMLHttpRequest<"u",g9=m9&&function(e){return new Promise(function(r,n){const a=mj(e);let i=a.data;const c=To.from(a.headers).normalize();let{responseType:f,onUploadProgress:m,onDownloadProgress:p}=a,x,y,S,N,j;function _(){N&&N(),j&&j(),a.cancelToken&&a.cancelToken.unsubscribe(x),a.signal&&a.signal.removeEventListener("abort",x)}let T=new XMLHttpRequest;T.open(a.method.toUpperCase(),a.url,!0),T.timeout=a.timeout;function D(){if(!T)return;const z=To.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),$={data:!f||f==="text"||f==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:z,config:e,request:T};hj(function(V){r(V),_()},function(V){n(V),_()},$),T=null}"onloadend"in T?T.onloadend=D:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(D)},T.onabort=function(){T&&(n(new Qr("Request aborted",Qr.ECONNABORTED,e,T)),T=null)},T.onerror=function(G){const $=G&&G.message?G.message:"Network Error",X=new Qr($,Qr.ERR_NETWORK,e,T);X.event=G||null,n(X),T=null},T.ontimeout=function(){let G=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const $=a.transitional||uj;a.timeoutErrorMessage&&(G=a.timeoutErrorMessage),n(new Qr(G,$.clarifyTimeoutError?Qr.ETIMEDOUT:Qr.ECONNABORTED,e,T)),T=null},i===void 0&&c.setContentType(null),"setRequestHeader"in T&&ht.forEach(c.toJSON(),function(G,$){T.setRequestHeader($,G)}),ht.isUndefined(a.withCredentials)||(T.withCredentials=!!a.withCredentials),f&&f!=="json"&&(T.responseType=a.responseType),p&&([S,j]=Om(p,!0),T.addEventListener("progress",S)),m&&T.upload&&([y,N]=Om(m),T.upload.addEventListener("progress",y),T.upload.addEventListener("loadend",N)),(a.cancelToken||a.signal)&&(x=z=>{T&&(n(!z||z.type?new Ph(null,e,T):z),T.abort(),T=null)},a.cancelToken&&a.cancelToken.subscribe(x),a.signal&&(a.signal.aborted?x():a.signal.addEventListener("abort",x)));const R=l9(a.url);if(R&&Us.protocols.indexOf(R)===-1){n(new Qr("Unsupported protocol "+R+":",Qr.ERR_BAD_REQUEST,e));return}T.send(i||null)})},x9=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(p){if(!a){a=!0,f();const x=p instanceof Error?p:this.reason;n.abort(x instanceof Qr?x:new Ph(x instanceof Error?x.message:x))}};let c=t&&setTimeout(()=>{c=null,i(new Qr(`timeout ${t} of ms exceeded`,Qr.ETIMEDOUT))},t);const f=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(i):p.removeEventListener("abort",i)}),e=null)};e.forEach(p=>p.addEventListener("abort",i));const{signal:m}=n;return m.unsubscribe=()=>ht.asap(f),m}},v9=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},y9=async function*(e,t){for await(const r of b9(e))yield*v9(r,t)},b9=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},HN=(e,t,r,n)=>{const a=y9(e,t);let i=0,c,f=m=>{c||(c=!0,n&&n(m))};return new ReadableStream({async pull(m){try{const{done:p,value:x}=await a.next();if(p){f(),m.close();return}let y=x.byteLength;if(r){let S=i+=y;r(S)}m.enqueue(new Uint8Array(x))}catch(p){throw f(p),p}},cancel(m){return f(m),a.return()}},{highWaterMark:2})},VN=64*1024,{isFunction:Rp}=ht,w9=(({Request:e,Response:t})=>({Request:e,Response:t}))(ht.global),{ReadableStream:WN,TextEncoder:GN}=ht.global,YN=(e,...t)=>{try{return!!e(...t)}catch{return!1}},A9=e=>{e=ht.merge.call({skipUndefined:!0},w9,e);const{fetch:t,Request:r,Response:n}=e,a=t?Rp(t):typeof fetch=="function",i=Rp(r),c=Rp(n);if(!a)return!1;const f=a&&Rp(WN),m=a&&(typeof GN=="function"?(j=>_=>j.encode(_))(new GN):async j=>new Uint8Array(await new r(j).arrayBuffer())),p=i&&f&&YN(()=>{let j=!1;const _=new r(Us.origin,{body:new WN,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!_}),x=c&&f&&YN(()=>ht.isReadableStream(new n("").body)),y={stream:x&&(j=>j.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!y[j]&&(y[j]=(_,T)=>{let D=_&&_[j];if(D)return D.call(_);throw new Qr(`Response type '${j}' is not supported`,Qr.ERR_NOT_SUPPORT,T)})});const S=async j=>{if(j==null)return 0;if(ht.isBlob(j))return j.size;if(ht.isSpecCompliantForm(j))return(await new r(Us.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(ht.isArrayBufferView(j)||ht.isArrayBuffer(j))return j.byteLength;if(ht.isURLSearchParams(j)&&(j=j+""),ht.isString(j))return(await m(j)).byteLength},N=async(j,_)=>{const T=ht.toFiniteNumber(j.getContentLength());return T??S(_)};return async j=>{let{url:_,method:T,data:D,signal:R,cancelToken:z,timeout:G,onDownloadProgress:$,onUploadProgress:X,responseType:V,headers:Y,withCredentials:W="same-origin",fetchOptions:Ne}=mj(j),Z=t||fetch;V=V?(V+"").toLowerCase():"text";let Q=x9([R,z&&z.toAbortSignal()],G),ye=null;const ie=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let q;try{if(X&&p&&T!=="get"&&T!=="head"&&(q=await N(Y,D))!==0){let le=new r(_,{method:"POST",body:D,duplex:"half"}),U;if(ht.isFormData(D)&&(U=le.headers.get("content-type"))&&Y.setContentType(U),le.body){const[H,ae]=zN(q,Om(UN(X)));D=HN(le.body,VN,H,ae)}}ht.isString(W)||(W=W?"include":"omit");const te=i&&"credentials"in r.prototype,se={...Ne,signal:Q,method:T.toUpperCase(),headers:Y.normalize().toJSON(),body:D,duplex:"half",credentials:te?W:void 0};ye=i&&new r(_,se);let ue=await(i?Z(ye,Ne):Z(_,se));const ee=x&&(V==="stream"||V==="response");if(x&&($||ee&&ie)){const le={};["status","statusText","headers"].forEach(ge=>{le[ge]=ue[ge]});const U=ht.toFiniteNumber(ue.headers.get("content-length")),[H,ae]=$&&zN(U,Om(UN($),!0))||[];ue=new n(HN(ue.body,VN,H,()=>{ae&&ae(),ie&&ie()}),le)}V=V||"text";let Se=await y[ht.findKey(y,V)||"text"](ue,j);return!ee&&ie&&ie(),await new Promise((le,U)=>{hj(le,U,{data:Se,headers:To.from(ue.headers),status:ue.status,statusText:ue.statusText,config:j,request:ye})})}catch(te){throw ie&&ie(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new Qr("Network Error",Qr.ERR_NETWORK,j,ye),{cause:te.cause||te}):Qr.from(te,te&&te.code,j,ye)}}},N9=new Map,gj=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let c=i.length,f=c,m,p,x=N9;for(;f--;)m=i[f],p=x.get(m),p===void 0&&x.set(m,p=f?new Map:A9(t)),x=p;return p};gj();const H5={http:zP,xhr:g9,fetch:{get:gj}};ht.forEach(H5,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const $N=e=>`- ${e}`,S9=e=>ht.isFunction(e)||e===null||e===!1;function E9(e,t){e=ht.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let c=0;c<r;c++){n=e[c];let f;if(a=n,!S9(n)&&(a=H5[(f=String(n)).toLowerCase()],a===void 0))throw new Qr(`Unknown adapter '${f}'`);if(a&&(ht.isFunction(a)||(a=a.get(t))))break;i[f||"#"+c]=a}if(!a){const c=Object.entries(i).map(([m,p])=>`adapter ${m} `+(p===!1?"is not supported by the environment":"is not available in the build"));let f=r?c.length>1?`since :
`+c.map($N).join(`
`):" "+$N(c[0]):"as no adapter specified";throw new Qr("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return a}const xj={getAdapter:E9,adapters:H5};function ov(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ph(null,e)}function XN(e){return ov(e),e.headers=To.from(e.headers),e.data=sv.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),xj.getAdapter(e.adapter||A1.adapter,e)(e).then(function(n){return ov(e),n.data=sv.call(e,e.transformResponse,n),n.headers=To.from(n.headers),n},function(n){return fj(n)||(ov(e),n&&n.response&&(n.response.data=sv.call(e,e.transformResponse,n.response),n.response.headers=To.from(n.response.headers))),Promise.reject(n)})}const vj="1.13.2",Rg={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Rg[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const KN={};Rg.transitional=function(t,r,n){function a(i,c){return"[Axios v"+vj+"] Transitional option '"+i+"'"+c+(n?". "+n:"")}return(i,c,f)=>{if(t===!1)throw new Qr(a(c," has been removed"+(r?" in "+r:"")),Qr.ERR_DEPRECATED);return r&&!KN[c]&&(KN[c]=!0,console.warn(a(c," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,c,f):!0}};Rg.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function C9(e,t,r){if(typeof e!="object")throw new Qr("options must be an object",Qr.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],c=t[i];if(c){const f=e[i],m=f===void 0||c(f,i,e);if(m!==!0)throw new Qr("option "+i+" must be "+m,Qr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Qr("Unknown option "+i,Qr.ERR_BAD_OPTION)}}const fm={assertOptions:C9,validators:Rg},vc=fm.validators;let af=class{constructor(t){this.defaults=t||{},this.interceptors={request:new BN,response:new BN}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ff(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&fm.assertOptions(n,{silentJSONParsing:vc.transitional(vc.boolean),forcedJSONParsing:vc.transitional(vc.boolean),clarifyTimeoutError:vc.transitional(vc.boolean)},!1),a!=null&&(ht.isFunction(a)?r.paramsSerializer={serialize:a}:fm.assertOptions(a,{encode:vc.function,serialize:vc.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),fm.assertOptions(r,{baseUrl:vc.spelling("baseURL"),withXsrfToken:vc.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=i&&ht.merge(i.common,i[r.method]);i&&ht.forEach(["delete","get","head","post","put","patch","common"],j=>{delete i[j]}),r.headers=To.concat(c,i);const f=[];let m=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(m=m&&_.synchronous,f.unshift(_.fulfilled,_.rejected))});const p=[];this.interceptors.response.forEach(function(_){p.push(_.fulfilled,_.rejected)});let x,y=0,S;if(!m){const j=[XN.bind(this),void 0];for(j.unshift(...f),j.push(...p),S=j.length,x=Promise.resolve(r);y<S;)x=x.then(j[y++],j[y++]);return x}S=f.length;let N=r;for(;y<S;){const j=f[y++],_=f[y++];try{N=j(N)}catch(T){_.call(this,T);break}}try{x=XN.call(this,N)}catch(j){return Promise.reject(j)}for(y=0,S=p.length;y<S;)x=x.then(p[y++],p[y++]);return x}getUri(t){t=ff(this.defaults,t);const r=pj(t.baseURL,t.url,t.allowAbsoluteUrls);return cj(r,t.params,t.paramsSerializer)}};ht.forEach(["delete","get","head","options"],function(t){af.prototype[t]=function(r,n){return this.request(ff(n||{},{method:t,url:r,data:(n||{}).data}))}});ht.forEach(["post","put","patch"],function(t){function r(n){return function(i,c,f){return this.request(ff(f||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:c}))}}af.prototype[t]=r(),af.prototype[t+"Form"]=r(!0)});let _9=class yj{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const c=new Promise(f=>{n.subscribe(f),i=f}).then(a);return c.cancel=function(){n.unsubscribe(i)},c},t(function(i,c,f){n.reason||(n.reason=new Ph(i,c,f),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new yj(function(a){t=a}),cancel:t}}};function j9(e){return function(r){return e.apply(null,r)}}function O9(e){return ht.isObject(e)&&e.isAxiosError===!0}const lb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(lb).forEach(([e,t])=>{lb[t]=e});function bj(e){const t=new af(e),r=Z_(af.prototype.request,t);return ht.extend(r,af.prototype,t,{allOwnKeys:!0}),ht.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return bj(ff(e,a))},r}const vi=bj(A1);vi.Axios=af;vi.CanceledError=Ph;vi.CancelToken=_9;vi.isCancel=fj;vi.VERSION=vj;vi.toFormData=Pg;vi.AxiosError=Qr;vi.Cancel=vi.CanceledError;vi.all=function(t){return Promise.all(t)};vi.spread=j9;vi.isAxiosError=O9;vi.mergeConfig=ff;vi.AxiosHeaders=To;vi.formToJSON=e=>dj(ht.isHTMLForm(e)?new FormData(e):e);vi.getAdapter=xj.getAdapter;vi.HttpStatusCode=lb;vi.default=vi;const{Axios:Bie,AxiosError:Fie,CanceledError:zie,isCancel:Uie,CancelToken:qie,VERSION:Hie,all:Vie,Cancel:Wie,isAxiosError:Gie,spread:Yie,toFormData:$ie,AxiosHeaders:Xie,HttpStatusCode:Kie,formToJSON:Zie,getAdapter:Qie,mergeConfig:Jie}=vi,wj="http://192.168.1.42:5002/api",$i=wj.replace(/\/api\/?$/,""),qt=vi.create({baseURL:wj,withCredentials:!0,headers:{"Content-Type":"application/json"}});qt.interceptors.request.use(e=>{const t=localStorage.getItem("appu_auth_token")||localStorage.getItem("kitchenToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));qt.interceptors.response.use(e=>e,e=>{var t,r;if(((t=e.response)==null?void 0:t.status)===401&&(((r=e.config)==null?void 0:r.url)||"").includes("/auth/login"))try{localStorage.removeItem("appu_auth_user"),localStorage.removeItem("appu_auth_token")}catch(a){console.error("Error clearing auth storage:",a)}return Promise.reject(e)});const Aj=I.createContext(),cb="appu_auth_user",k0="appu_auth_token",ZN=()=>{try{const e=localStorage.getItem(cb);if(e)return JSON.parse(e)}catch(e){console.error("Error loading user from localStorage:",e)}return null},I0=e=>{try{e?localStorage.setItem(cb,JSON.stringify(e)):localStorage.removeItem(cb)}catch(t){console.error("Error saving user to localStorage:",t)}},Xi=()=>{const e=I.useContext(Aj);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},T9=({children:e})=>{const[t,r]=I.useState(()=>ZN()),[n,a]=I.useState(!0);I.useEffect(()=>{i()},[]);const i=async()=>{const p=ZN(),x=localStorage.getItem(k0);if(!p||!x){r(null),a(!1);return}r(p);try{let y;if(p.role==="employee")try{y=await qt.get("/employees/me")}catch(N){if(N.response&&N.response.status===404&&p.id)try{y=await qt.get(`/employees/${p.id}`)}catch(j){if(j.response&&(j.response.status===401||j.response.status===403))throw j;console.warn("Could not verify employee details, using stored session.",j),a(!1);return}else throw N}else y=await qt.get("/auth/me");const S=y.data.user||y.data.employee;S&&(r(S),I0(S))}catch(y){if(console.warn("Auth check failed:",y),y.response&&(y.response.status===401||y.response.status===403)){try{localStorage.removeItem(k0),I0(null)}catch(S){console.error("Error clearing auth storage:",S)}r(null)}}finally{a(!1)}},c=async(p,x)=>{var y,S;try{const N=await qt.post("/auth/login",{username:p,password:x}),{user:j,token:_}=N.data;return r(j),I0(j),_&&localStorage.setItem(k0,_),{success:!0,user:j}}catch(N){return{success:!1,error:((S=(y=N.response)==null?void 0:y.data)==null?void 0:S.error)||"Login failed"}}},f=async(p,x)=>{var y,S,N,j;try{const _=await qt.post("/employees/login",{emp_code:p,password:x}),{employee:T,token:D}=_.data;return r(T),I0(T),D&&localStorage.setItem(k0,D),{success:!0,user:T}}catch(_){return{success:!1,error:((S=(y=_.response)==null?void 0:y.data)==null?void 0:S.message)||((j=(N=_.response)==null?void 0:N.data)==null?void 0:j.error)||"Employee login failed"}}},m=async()=>{try{await qt.post("/auth/logout")}catch(p){console.error("Logout error:",p)}finally{r(null),I0(null);try{localStorage.removeItem(k0)}catch(p){console.error("Error clearing auth token:",p)}}};return u.jsx(Aj.Provider,{value:{user:t,loading:n,login:c,employeeLogin:f,logout:m,checkAuth:i},children:e})},Nj=I.createContext(),V5=()=>{const e=I.useContext(Nj);if(!e)throw new Error("useOrder must be used within OrderProvider");return e},Bp=e=>{const t=Da.c(23),{children:r}=e,{user:n}=Xi();let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],t[0]=a):a=t[0];const[i,c]=I.useState(a);let f;t[1]===Symbol.for("react.memo_cache_sentinel")?(f=[],t[1]=f):f=t[1];const[m,p]=I.useState(f),[x,y]=I.useState(null),S=(n==null?void 0:n.unit)||null;let N;t[2]===Symbol.for("react.memo_cache_sentinel")?(N=()=>{c([]),p([]),y(null)},t[2]=N):N=t[2];const j=N;let _;t[3]===Symbol.for("react.memo_cache_sentinel")?(_=(Z,Q,ye)=>{c(ie=>{const q=ie.find(se=>se.id===Z.id&&(ye?se.variant_id===ye:!0));if(!q&&Q>0)return[...ie,{...Z,quantity:1,variant_id:ye||Z.id,variant_price:Z.price||Z.base_price}];if(!q)return ie;const te=(q.quantity||1)+Q;return te<=0?ie.filter(se=>!(se.id===Z.id&&(!ye||se.variant_id===ye))):ie.map(se=>se.id===Z.id&&(!ye||se.variant_id===ye)?{...se,quantity:te}:se)})},t[3]=_):_=t[3];const T=_;let D;t[4]===Symbol.for("react.memo_cache_sentinel")?(D=(Z,Q)=>{const ye=Math.max(0,Math.floor(Q||0));c(ie=>{const q=ie.find(te=>te.id===Z.id);return ye===0?ie.filter(te=>te.id!==Z.id):q?ie.map(te=>te.id===Z.id?{...te,quantity:ye}:te):[...ie,{...Z,quantity:ye}]})},t[4]=D):D=t[4];const R=D;let z;t[5]!==m?(z=Z=>{const Q=typeof Z=="string"?Z:(()=>{const ye=Z,ie=ye.getFullYear(),q=String(ye.getMonth()+1).padStart(2,"0"),te=String(ye.getDate()).padStart(2,"0");return`${ie}-${q}-${te}`})();m.includes(Q)?p(m.filter(ye=>ye!==Q)):p([...m,Q])},t[5]=m,t[6]=z):z=t[6];const G=z;let $;t[7]!==i?($=()=>i.reduce(k9,0),t[7]=i,t[8]=$):$=t[8];const X=$;let V;t[9]!==X||t[10]!==m?(V=()=>X()*m.length,t[9]=X,t[10]=m,t[11]=V):V=t[11];const Y=V;let W;t[12]!==Y||t[13]!==X||t[14]!==x||t[15]!==m||t[16]!==i||t[17]!==S||t[18]!==G?(W={selectedUnit:S,selectedProducts:i,setSelectedProducts:c,selectedDates:m,setSelectedDates:p,currentOrder:x,setCurrentOrder:y,adjustProductQuantity:T,setProductQuantity:R,toggleDate:G,resetOrder:j,calculatePerDayTotal:X,calculateGrandTotal:Y},t[12]=Y,t[13]=X,t[14]=x,t[15]=m,t[16]=i,t[17]=S,t[18]=G,t[19]=W):W=t[19];let Ne;return t[20]!==r||t[21]!==W?(Ne=u.jsx(Nj.Provider,{value:W,children:r}),t[20]=r,t[21]=W,t[22]=Ne):Ne=t[22],Ne};function k9(e,t){return e+(t.quantity||1)*parseFloat(t.variant_price||t.price||t.base_price)}const Vs=e=>{const t=Da.c(3),{size:r}=e,n=r===void 0?"large":r;let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={small:"w-8 h-8",medium:"w-12 h-12",large:"w-16 h-16"},t[0]=a):a=t[0];const c=`${a[n]} border-4 border-amber-200 border-t-orange-600 rounded-full animate-spin`;let f;return t[1]!==c?(f=u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx("div",{className:c})}),t[1]=c,t[2]=f):f=t[2],f},Ti=e=>{var x;const t=Da.c(5),{children:r,requireAdmin:n,excludeRoles:a}=e,i=n===void 0?!1:n,c=a===void 0?[]:a,{user:f,loading:m}=Xi();if(m){let y;return t[0]===Symbol.for("react.memo_cache_sentinel")?(y=u.jsx(Vs,{}),t[0]=y):y=t[0],y}if(!f){let y;return t[1]===Symbol.for("react.memo_cache_sentinel")?(y=u.jsx(fd,{to:"/login",replace:!0}),t[1]=y):y=t[1],y}const p=(x=f.role)==null?void 0:x.toLowerCase();if(i&&!["admin","unit_admin","user"].includes(p)){let y;return t[2]===Symbol.for("react.memo_cache_sentinel")?(y=u.jsx(fd,{to:"/kiosk/products",replace:!0}),t[2]=y):y=t[2],y}if(c.length>0&&c.includes(f.role)){if(["admin","unit_admin","user"].includes(p)){let S;return t[3]===Symbol.for("react.memo_cache_sentinel")?(S=u.jsx(fd,{to:"/admin/dashboard",replace:!0}),t[3]=S):S=t[3],S}let y;return t[4]===Symbol.for("react.memo_cache_sentinel")?(y=u.jsx(fd,{to:"/kiosk/products",replace:!0}),t[4]=y):y=t[4],y}return r},jc=Object.create(null);jc.open="0";jc.close="1";jc.ping="2";jc.pong="3";jc.message="4";jc.upgrade="5";jc.noop="6";const hm=Object.create(null);Object.keys(jc).forEach(e=>{hm[jc[e]]=e});const ub={type:"error",data:"parser error"},Sj=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ej=typeof ArrayBuffer=="function",Cj=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,W5=({type:e,data:t},r,n)=>Sj&&t instanceof Blob?r?n(t):QN(t,n):Ej&&(t instanceof ArrayBuffer||Cj(t))?r?n(t):QN(new Blob([t]),n):n(jc[e]+(t||"")),QN=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function JN(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let lv;function I9(e,t){if(Sj&&e.data instanceof Blob)return e.data.arrayBuffer().then(JN).then(t);if(Ej&&(e.data instanceof ArrayBuffer||Cj(e.data)))return t(JN(e.data));W5(e,!1,r=>{lv||(lv=new TextEncoder),t(lv.encode(r))})}const eS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",G0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<eS.length;e++)G0[eS.charCodeAt(e)]=e;const M9=e=>{let t=e.length*.75,r=e.length,n,a=0,i,c,f,m;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const p=new ArrayBuffer(t),x=new Uint8Array(p);for(n=0;n<r;n+=4)i=G0[e.charCodeAt(n)],c=G0[e.charCodeAt(n+1)],f=G0[e.charCodeAt(n+2)],m=G0[e.charCodeAt(n+3)],x[a++]=i<<2|c>>4,x[a++]=(c&15)<<4|f>>2,x[a++]=(f&3)<<6|m&63;return p},D9=typeof ArrayBuffer=="function",G5=(e,t)=>{if(typeof e!="string")return{type:"message",data:_j(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:L9(e.substring(1),t)}:hm[r]?e.length>1?{type:hm[r],data:e.substring(1)}:{type:hm[r]}:ub},L9=(e,t)=>{if(D9){const r=M9(e);return _j(r,t)}else return{base64:!0,data:e}},_j=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},jj="",P9=(e,t)=>{const r=e.length,n=new Array(r);let a=0;e.forEach((i,c)=>{W5(i,!1,f=>{n[c]=f,++a===r&&t(n.join(jj))})})},R9=(e,t)=>{const r=e.split(jj),n=[];for(let a=0;a<r.length;a++){const i=G5(r[a],t);if(n.push(i),i.type==="error")break}return n};function B9(){return new TransformStream({transform(e,t){I9(e,r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(r)})}})}let cv;function Fp(e){return e.reduce((t,r)=>t+r.length,0)}function zp(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)r[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function F9(e,t){cv||(cv=new TextDecoder);const r=[];let n=0,a=-1,i=!1;return new TransformStream({transform(c,f){for(r.push(c);;){if(n===0){if(Fp(r)<1)break;const m=zp(r,1);i=(m[0]&128)===128,a=m[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(Fp(r)<2)break;const m=zp(r,2);a=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),n=3}else if(n===2){if(Fp(r)<8)break;const m=zp(r,8),p=new DataView(m.buffer,m.byteOffset,m.length),x=p.getUint32(0);if(x>Math.pow(2,21)-1){f.enqueue(ub);break}a=x*Math.pow(2,32)+p.getUint32(4),n=3}else{if(Fp(r)<a)break;const m=zp(r,a);f.enqueue(G5(i?m:cv.decode(m),t)),n=0}if(a===0||a>e){f.enqueue(ub);break}}}})}const Oj=4;function Mi(e){if(e)return z9(e)}function z9(e){for(var t in Mi.prototype)e[t]=Mi.prototype[t];return e}Mi.prototype.on=Mi.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Mi.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Mi.prototype.off=Mi.prototype.removeListener=Mi.prototype.removeAllListeners=Mi.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===t||n.fn===t){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Mi.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,t)}return this};Mi.prototype.emitReserved=Mi.prototype.emit;Mi.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Mi.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Bg=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),xl=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),U9="arraybuffer";function Tj(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const q9=xl.setTimeout,H9=xl.clearTimeout;function Fg(e,t){t.useNativeTimers?(e.setTimeoutFn=q9.bind(xl),e.clearTimeoutFn=H9.bind(xl)):(e.setTimeoutFn=xl.setTimeout.bind(xl),e.clearTimeoutFn=xl.clearTimeout.bind(xl))}const V9=1.33;function W9(e){return typeof e=="string"?G9(e):Math.ceil((e.byteLength||e.size)*V9)}function G9(e){let t=0,r=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function kj(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Y9(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function $9(e){let t={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class X9 extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class Y5 extends Mi{constructor(t){super(),this.writable=!1,Fg(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new X9(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=G5(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=Y9(t);return r.length?"?"+r:""}}class K9 extends Y5{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};R9(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,P9(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=kj()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let Ij=!1;try{Ij=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Z9=Ij;function Q9(){}class J9 extends K9{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class Ec extends Mi{constructor(t,r,n){super(),this.createRequest=t,Fg(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=Tj(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=Ec.requestsCount++,Ec.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Q9,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ec.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ec.requestsCount=0;Ec.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",tS);else if(typeof addEventListener=="function"){const e="onpagehide"in xl?"pagehide":"unload";addEventListener(e,tS,!1)}}function tS(){for(let e in Ec.requests)Ec.requests.hasOwnProperty(e)&&Ec.requests[e].abort()}const eR=function(){const e=Mj({xdomain:!1});return e&&e.responseType!==null}();class tR extends J9{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=eR&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Ec(Mj,this.uri(),t)}}function Mj(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Z9))return new XMLHttpRequest}catch{}if(!t)try{return new xl[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Dj=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class rR extends Y5{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=Dj?{}:Tj(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;W5(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}a&&Bg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=kj()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const uv=xl.WebSocket||xl.MozWebSocket;class nR extends rR{createSocket(t,r,n){return Dj?new uv(t,r,n):r?new uv(t,r):new uv(t)}doWrite(t,r){this.ws.send(r)}}class aR extends Y5{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=F9(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),a=B9();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const i=()=>{n.read().then(({done:f,value:m})=>{f||(this.onPacket(m),i())}).catch(f=>{})};i();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;this._writer.write(n).then(()=>{a&&Bg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const iR={websocket:nR,webtransport:aR,polling:tR},sR=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,oR=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function db(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=sR.exec(e||""),i={},c=14;for(;c--;)i[oR[c]]=a[c]||"";return r!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=lR(i,i.path),i.queryKey=cR(i,i.query),i}function lR(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function cR(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,i){a&&(r[a]=i)}),r}const fb=typeof addEventListener=="function"&&typeof removeEventListener=="function",pm=[];fb&&addEventListener("offline",()=>{pm.forEach(e=>e())},!1);class vd extends Mi{constructor(t,r){if(super(),this.binaryType=U9,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=db(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=db(r.host).host);Fg(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=$9(this.opts.query)),fb&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},pm.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=Oj,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&vd.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",vd.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(r+=W9(a)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Bg(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,a){if(typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(vd.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),fb&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=pm.indexOf(this._offlineEventListener);n!==-1&&pm.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}vd.protocol=Oj;class uR extends vd{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;vd.priorWebsocketSuccess=!1;const a=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",y=>{if(!n)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;vd.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(x(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const S=new Error("probe error");S.transport=r.name,this.emitReserved("upgradeError",S)}}))};function i(){n||(n=!0,x(),r.close(),r=null)}const c=y=>{const S=new Error("probe error: "+y);S.transport=r.name,i(),this.emitReserved("upgradeError",S)};function f(){c("transport closed")}function m(){c("socket closed")}function p(y){r&&y.name!==r.name&&i()}const x=()=>{r.removeListener("open",a),r.removeListener("error",c),r.removeListener("close",f),this.off("close",m),this.off("upgrading",p)};r.once("open",a),r.once("error",c),r.once("close",f),this.once("close",m),this.once("upgrading",p),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let dR=class extends uR{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>iR[a]).filter(a=>!!a)),super(t,n)}};function fR(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=db(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const hR=typeof ArrayBuffer=="function",pR=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Lj=Object.prototype.toString,mR=typeof Blob=="function"||typeof Blob<"u"&&Lj.call(Blob)==="[object BlobConstructor]",gR=typeof File=="function"||typeof File<"u"&&Lj.call(File)==="[object FileConstructor]";function $5(e){return hR&&(e instanceof ArrayBuffer||pR(e))||mR&&e instanceof Blob||gR&&e instanceof File}function mm(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(mm(e[r]))return!0;return!1}if($5(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return mm(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&mm(e[r]))return!0;return!1}function xR(e){const t=[],r=e.data,n=e;return n.data=hb(r,t),n.attachments=t.length,{packet:n,buffers:t}}function hb(e,t){if(!e)return e;if($5(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=hb(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=hb(e[n],t));return r}return e}function vR(e,t){return e.data=pb(e.data,t),delete e.attachments,e}function pb(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=pb(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=pb(e[r],t));return e}const Pj=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],yR=5;var sn;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(sn||(sn={}));class bR{constructor(t){this.replacer=t}encode(t){return(t.type===sn.EVENT||t.type===sn.ACK)&&mm(t)?this.encodeAsBinary({type:t.type===sn.EVENT?sn.BINARY_EVENT:sn.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===sn.BINARY_EVENT||t.type===sn.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=xR(t),n=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(n),a}}class X5 extends Mi{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===sn.BINARY_EVENT;n||r.type===sn.BINARY_ACK?(r.type=n?sn.EVENT:sn.ACK,this.reconstructor=new wR(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if($5(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(sn[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===sn.BINARY_EVENT||n.type===sn.BINARY_ACK){const i=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const c=t.substring(i,r);if(c!=Number(c)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(c)}if(t.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(i,r)}else n.nsp="/";const a=t.charAt(r+1);if(a!==""&&Number(a)==a){const i=r+1;for(;++r;){const c=t.charAt(r);if(c==null||Number(c)!=c){--r;break}if(r===t.length)break}n.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){const i=this.tryParse(t.substr(r));if(X5.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case sn.CONNECT:return Tm(r);case sn.DISCONNECT:return r===void 0;case sn.CONNECT_ERROR:return typeof r=="string"||Tm(r);case sn.EVENT:case sn.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Pj.indexOf(r[0])===-1);case sn.ACK:case sn.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class wR{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=vR(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function AR(e){return typeof e=="string"}const NR=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function SR(e){return e===void 0||NR(e)}function Tm(e){return Object.prototype.toString.call(e)==="[object Object]"}function ER(e,t){switch(e){case sn.CONNECT:return t===void 0||Tm(t);case sn.DISCONNECT:return t===void 0;case sn.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Pj.indexOf(t[0])===-1);case sn.ACK:return Array.isArray(t);case sn.CONNECT_ERROR:return typeof t=="string"||Tm(t);default:return!1}}function CR(e){return AR(e.nsp)&&SR(e.id)&&ER(e.type,e.data)}const _R=Object.freeze(Object.defineProperty({__proto__:null,Decoder:X5,Encoder:bR,get PacketType(){return sn},isPacketValid:CR,protocol:yR},Symbol.toStringTag,{value:"Module"}));function Ul(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const jR=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Rj extends Mi{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ul(t,"open",this.onopen.bind(this)),Ul(t,"packet",this.onpacket.bind(this)),Ul(t,"error",this.onerror.bind(this)),Ul(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,a,i;if(jR.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const c={type:sn.EVENT,data:r};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const x=this.ids++,y=r.pop();this._registerAckCallback(x,y),c.id=x}const f=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,m=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!f||(m?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(t,r){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[t]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===t&&this.sendBuffer.splice(f,1);r.call(this,new Error("operation has timed out"))},a),c=(...f)=>{this.io.clearTimeoutFn(i),r.apply(this,f)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...r){return new Promise((n,a)=>{const i=(c,f)=>c?a(c):n(f);i.withError=!0,r.push(i),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...i)=>(this._queue[0],a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:sn.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case sn.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case sn.EVENT:case sn.BINARY_EVENT:this.onevent(t);break;case sn.ACK:case sn.BINARY_ACK:this.onack(t);break;case sn.DISCONNECT:this.ondisconnect();break;case sn.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...a){n||(n=!0,r.packet({type:sn.ACK,id:t,data:a}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:sn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Rh(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Rh.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Rh.prototype.reset=function(){this.attempts=0};Rh.prototype.setMin=function(e){this.ms=e};Rh.prototype.setMax=function(e){this.max=e};Rh.prototype.setJitter=function(e){this.jitter=e};class mb extends Mi{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Fg(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Rh({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const a=r.parser||_R;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new dR(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=Ul(r,"open",function(){n.onopen(),t&&t()}),i=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),t?t(f):this.maybeReconnectOnOpen()},c=Ul(r,"error",i);if(this._timeout!==!1){const f=this._timeout,m=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),r.close()},f);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(a),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ul(t,"ping",this.onping.bind(this)),Ul(t,"data",this.ondata.bind(this)),Ul(t,"error",this.onerror.bind(this)),Ul(t,"close",this.onclose.bind(this)),Ul(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Bg(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new Rj(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const M0={};function gm(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=fR(e,t.path||"/socket.io"),n=r.source,a=r.id,i=r.path,c=M0[a]&&i in M0[a].nsps,f=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let m;return f?m=new mb(n,t):(M0[a]||(M0[a]=new mb(n,t)),m=M0[a]),r.query&&!t.query&&(t.query=r.queryKey),m.socket(r.path,t)}Object.assign(gm,{Manager:mb,Socket:Rj,io:gm,connect:gm});var Bj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rS=gd.createContext&&gd.createContext(Bj),OR=["attr","size","title"];function TR(e,t){if(e==null)return{};var r=kR(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},km.apply(this,arguments)}function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Im(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){IR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IR(e,t,r){return t=MR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MR(e){var t=DR(e,"string");return typeof t=="symbol"?t:t+""}function DR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fj(e){return e&&e.map((t,r)=>gd.createElement(t.tag,Im({key:r},t.attr),Fj(t.child)))}function ar(e){return t=>gd.createElement(LR,km({attr:Im({},e.attr)},t),Fj(e.child))}function LR(e){var t=r=>{var{attr:n,size:a,title:i}=e,c=TR(e,OR),f=a||r.size||"1em",m;return r.className&&(m=r.className),e.className&&(m=(m?m+" ":"")+e.className),gd.createElement("svg",km({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,c,{className:m,style:Im(Im({color:e.color||r.color},r.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),i&&gd.createElement("title",null,i),e.children)};return rS!==void 0?gd.createElement(rS.Consumer,null,r=>t(r)):t(Bj)}function gb(e){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function PR(e){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function hd(e){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function e1(e){return ar({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function zj(e){return ar({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(e)}function RR(e){return ar({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(e)}function BR(e){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function FR(e){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function Mm(e){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Oc(e){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function zR(e){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}function UR(e){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"},child:[]}]})(e)}function qR(e){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M149.333 56v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zm181.334 240v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm32-240v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24zm-32 80V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm-205.334 56H24c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm386.667-56H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm0 160H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zM181.333 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24z"},child:[]}]})(e)}function HR(e){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function VR(e){return ar({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Dm(e){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function WR(e){return ar({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function GR(e){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function YR(e){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}const $R=()=>{const e=Da.c(17),[t,r]=I.useState(null),n=I.useRef(null);let a,i;if(e[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>(n.current=gm("http://192.168.1.5:5002",{transports:["websocket"]}),n.current.on("qr-scan-result",N=>{r({status:N.success?"success":"error",message:N.message,orderId:N.order_id}),setTimeout(()=>r(null),5e3)}),()=>{var N;return(N=n.current)==null?void 0:N.disconnect()}),i=[],e[0]=a,e[1]=i):(a=e[0],i=e[1]),I.useEffect(a,i),!t)return null;const c=`p-2 rounded-full ${t.status==="success"?"bg-green-500":"bg-red-500"}`;let f;e[2]!==t.status?(f=t.status==="success"?u.jsx(PR,{size:24}):u.jsx(HR,{size:24}),e[2]=t.status,e[3]=f):f=e[3];let m;e[4]!==c||e[5]!==f?(m=u.jsx("div",{className:c,children:f}),e[4]=c,e[5]=f,e[6]=m):m=e[6];let p;e[7]!==t.message?(p=u.jsx("p",{className:"text-lg font-bold",children:t.message}),e[7]=t.message,e[8]=p):p=e[8];let x;e[9]!==t.orderId?(x=t.orderId&&u.jsxs("p",{className:"text-sm opacity-80 font-mono",children:["Order: #",t.orderId]}),e[9]=t.orderId,e[10]=x):x=e[10];let y;e[11]!==p||e[12]!==x?(y=u.jsxs("div",{children:[p,x]}),e[11]=p,e[12]=x,e[13]=y):y=e[13];let S;return e[14]!==m||e[15]!==y?(S=u.jsxs("div",{className:"fixed bottom-10 right-10 z-[9999] p-6 rounded-2xl shadow-2xl text-white flex items-center gap-4 min-w-[320px] bg-slate-900 border border-slate-700 animate-bounce-in",children:[m,y]}),e[14]=m,e[15]=y,e[16]=S):S=e[16],S},zg="/assets/Xtown-dark-logo-4O547BdS.png",K5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKcAAABxCAYAAACwcbPeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAITgAACE4AUWWMWAAAAS8SURBVHhe7d3dVRNRFIZhJuFCFzd2ICXYgVqCFagd2IGUgpWoFWAHQgV6Hwh+G88sERKSzO8+e7/PWllDhpDMnPOSMEPQ5gjh3N7evrq+vv56fHz8oqxyRdt2qW172zTNZVm1EXEGEyVMQ5yBRArTEGcQ0cI0xBlAxDANcVYuapiGOCsWOUxDnJWKHqYhzgplCNMQZ2WyhGmIsyKZwjTEWYlsYRrirEDGMA1xOpc1TEOcjmUO0xCnU9nDNMTpkMI81eRfZA7TEKczJUx7xjwtq1wZOkzt77EWJ7o8v1txD3E6ki3MXRZliZklfMbc2V6zWq1+lo9DWSwWl7q802D+LqvcyhKm9rPR5Znu50TLE83PVfnURnbj2/JxODc3Nz+Wy6UNqttANfy8lG8R+mVdYb5SoF8VgMujXsJ8WvifOb0GSpi7pTgg8hYoYe4nzdG6l0AJc39p4jRzB0qYh2nW6/Xn8vGgFMEn7ajLAxFt2+RH8YR5uNF+Q6TJcP3GhSkDJcxuRv31JYESZh+j/249c6CE2c8kb/zIGChh9jfZu5IyBUqYw5gsTpMhUMIczqRxmsiBEuawJo/TRAyUMIc3S5wmUqCEOY7Z4jQRAiXM8cwap6k5UMIc1+xv/NDA/bAB1EAefAAyBYX51JtF3hBmAvYMulqtfmnpkib7QotHgWrdh7sbOGJ/F6aFy2+aamlACbQnwhyRBpZAOyLMCWiACfRAhDkhDTSB7okwZ6ABJ9AdCHNGGngC3YIwHdAEEOgDhOmIJoJAC8J0SBOSPlDCdEwTkzZQwqyAJihdoIRZEU1UmkAJs0KasPCBEmbFNHFhAyXMADSB4QIlzEA0kWECJcyANKHVB0qYgWliqw2UMP/XlGUomuCw/3BDJiHjNARav7BxGgKtW6p/E94bffPYN82mnz/P1uv1+3IV0dizpucDo20HP1p3dncDIdCANK/Vh9ki0EA0n2HCbBFoAJrHcGG2CLRimr+wYbYItEKat/Bhtgi0IpqvNGG2CLQCmqd0YbYI1DHNT9owWwTqkOYlfZgtAnVE80GYDxCoA5oHwtyCQGek8SfMHQh0Bhp3wtwTgU5I402YByLQCWicCbMjAh2RxpcweyLQEWhcCXMgBDogjSdhDqzWQJuydEHj6PoP0rRtG//LPm33C33uQp97FK0X2sYPi8XiS7laBTd/4FZrmMb+etI+Z7cpq9zRNp7zEt+BhVnjS/lDdptyW7cI9AAarxBhtuy2BBqAxilUmC37GgKtmMYnZJgt+1oCrZDGJXSYLbsPAu2uKcvJaDxOy2mX6o7Kuyj7a2chesc+Fm2jy9NMk55KujdRKcI0dl92n3bfZZU76U8zWZieX+KGeinfxu6bl3iHtN+pw2zZYxCoI9pfwrzHHotAHdB+EuYG9pgEOiPtH2E+wR6bQGeg/SLMPdg2EOiEtD+EeQDbFgLdrCnLQWg/XJ9wHuM85hC8j9tYFP35crn8WK4+MthJeMLsroYT9XMYJE7C7I9AH+sdJ2EOh0D/1ytOwhwegf7TOU7CHA+B/tUpTsIcH4FqDMryIIrzjS4vy1V3NLHfaw7zPnsi0OV1uRqK5uhKl2/lKgAAAAAAANDN0dEfkBJeOcr2sPsAAAAASUVORK5CYII=";function Uj(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function Ug(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function XR(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"7",y1:"7",x2:"17",y2:"17"},child:[]},{tag:"polyline",attr:{points:"17 7 17 17 7 17"},child:[]}]})(e)}function qg(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function aS(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"7",y1:"17",x2:"17",y2:"7"},child:[]},{tag:"polyline",attr:{points:"7 7 17 7 17 17"},child:[]}]})(e)}function KR(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(e)}function ZR(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function QR(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function JR(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(e)}function eB(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function xm(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function hf(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function xb(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function Gl(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Kl(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function Zl(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function tB(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function rB(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8h1a4 4 0 0 1 0 8h-1"},child:[]},{tag:"path",attr:{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"},child:[]},{tag:"line",attr:{x1:"6",y1:"1",x2:"6",y2:"4"},child:[]},{tag:"line",attr:{x1:"10",y1:"1",x2:"10",y2:"4"},child:[]},{tag:"line",attr:{x1:"14",y1:"1",x2:"14",y2:"4"},child:[]}]})(e)}function qj(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function Bh(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function Fh(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function Ac(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function nB(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(e)}function aB(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(e)}function Hj(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function iS(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(e)}function iB(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function Z5(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function vb(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function Vj(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(e)}function sB(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]}]})(e)}function bd(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function Wj(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(e)}function oB(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(e)}function od(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"},child:[]},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"},child:[]},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"},child:[]}]})(e)}function sS(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"polyline",attr:{points:"23 20 23 14 17 14"},child:[]},{tag:"path",attr:{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"},child:[]}]})(e)}function io(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function Gj(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function wd(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function lB(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function t1(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function cB(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(e)}function uB(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(e)}function Yj(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(e)}function dB(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function fB(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(e)}function pf(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function vm(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function oS(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function Jo(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function hB(e){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}const $j=I.createContext(),pB=()=>{if(typeof window>"u")return"sunset";const e=localStorage.getItem("app_theme_v2");return["light","dark","professional","modern","executive","sunset","swiggy"].includes(e)?e:"sunset"},mB=e=>{const t=Da.c(10),{children:r}=e,[n,a]=I.useState(pB);let i,c;t[0]!==n?(i=()=>{if(typeof document>"u")return;const N=document.documentElement;N.dataset.theme=n,localStorage.setItem("app_theme_v2",n)},c=[n],t[0]=n,t[1]=i,t[2]=c):(i=t[1],c=t[2]),I.useEffect(i,c);let f;t[3]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{a(gB)},t[3]=f):f=t[3];const m=f,p=n==="dark";let x;t[4]!==p||t[5]!==n?(x={theme:n,isDark:p,toggleTheme:m,setTheme:a},t[4]=p,t[5]=n,t[6]=x):x=t[6];const y=x;let S;return t[7]!==r||t[8]!==y?(S=u.jsx($j.Provider,{value:y,children:r}),t[7]=r,t[8]=y,t[9]=S):S=t[9],S},bi=()=>{const e=I.useContext($j);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e};function gB(e){return e==="dark"?"light":e==="light"?"professional":e==="professional"?"modern":e==="modern"?"executive":e==="executive"?"sunset":e==="sunset"?"swiggy":"dark"}const lS="flex items-center gap-2 rounded-full px-3 py-2 landscape:h-5 landscape:py-0 landscape:px-2 landscape:gap-1.5 landscape:scale-[0.85] shadow-lg transition-all duration-200 border",Q5=e=>{const t=Da.c(18),{variant:r}=e,n=r===void 0?"floating":r,{theme:a,toggleTheme:i}=bi();let c;t[0]!==a?(c=(()=>{switch(a){case"light":return{icon:u.jsx(Yj,{}),label:"Light",classes:"bg-white/90 border-gray-200 text-gray-700 hover:border-slate-400 hover:text-slate-900"};case"professional":return{icon:u.jsx(KR,{}),label:"Pro",classes:"bg-black/90 border-amber-500/30 text-amber-500 hover:border-amber-500 hover:shadow-[0_0_15px_rgba(250,198,57,0.3)]"};case"modern":return{icon:u.jsx(hB,{}),label:"Modern",classes:"bg-indigo-950/90 border-indigo-500/30 text-indigo-400 hover:border-indigo-400 hover:shadow-[0_0_15px_rgba(99,102,241,0.3)] hover:text-indigo-300"};case"executive":return{icon:u.jsx(JR,{}),label:"Executive",classes:"bg-blue-50/90 border-blue-500/30 text-blue-700 hover:border-blue-600 hover:shadow-[0_0_15px_rgba(40,116,240,0.2)] hover:text-blue-800"};case"sunset":return{icon:u.jsx(uB,{}),label:"Nature",classes:"bg-amber-50/90 border-amber-500/30 text-amber-800 hover:border-amber-600 hover:shadow-[0_0_15px_rgba(245,158,11,0.3)] hover:text-amber-900"};default:return{icon:u.jsx(Vj,{}),label:"Dark",classes:"bg-slate-800/80 border-slate-700 text-amber-200 hover:border-amber-300 hover:text-white"}}})(),t[0]=a,t[1]=c):c=t[1];const{icon:f,label:m,classes:p}=c;if(n==="inline"){const N=`${lS} ${p} min-w-[90px] landscape:min-w-[65px] justify-center`;let j;t[2]!==f?(j=u.jsx("div",{className:"scale-90 landscape:scale-75 flex items-center",children:f}),t[2]=f,t[3]=j):j=t[3];let _;t[4]!==m?(_=u.jsx("span",{className:"text-[10px] landscape:text-[7px] font-black uppercase tracking-wider",children:m}),t[4]=m,t[5]=_):_=t[5];let T;return t[6]!==N||t[7]!==j||t[8]!==_||t[9]!==i?(T=u.jsxs("button",{onClick:i,className:N,children:[j,_]}),t[6]=N,t[7]=j,t[8]=_,t[9]=i,t[10]=T):T=t[10],T}const x=`${lS} ${p} fixed bottom-28 md:bottom-5 right-5 z-40 backdrop-blur-sm min-w-[100px] justify-center active:scale-95 active:shadow-[0_0_20px_rgba(253,184,19,0.5)] active:text-white active:bg-[var(--brand-primary)] transition-all`;let y;t[11]!==m?(y=u.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:m}),t[11]=m,t[12]=y):y=t[12];let S;return t[13]!==f||t[14]!==x||t[15]!==y||t[16]!==i?(S=u.jsxs("button",{onClick:i,className:x,"aria-label":"Toggle theme",children:[f,y]}),t[13]=f,t[14]=x,t[15]=y,t[16]=i,t[17]=S):S=t[17],S},ko=e=>{const t=Da.c(17),{children:r,showFooter:n,showThemeToggle:a,showLogout:i,theme:c}=e,f=n===void 0?!0:n,m=a===void 0?!0:a,p=i===void 0?!0:i,{isDark:x}=bi(),y=c?c==="dark":x,{user:S,logout:N}=Xi(),j=Wa();let _;t[0]!==N||t[1]!==j?(_=async()=>{await N(),j("/login")},t[0]=N,t[1]=j,t[2]=_):_=t[2];const T=_;let D;t[3]!==r?(D=u.jsx("main",{className:"flex-1 w-full",children:r}),t[3]=r,t[4]=D):D=t[4];let R;t[5]!==T||t[6]!==y||t[7]!==f||t[8]!==p||t[9]!==S?(R=f&&u.jsx("footer",{className:"border-t py-6 px-6 backdrop-blur-md supports-[backdrop-filter]:bg-opacity-80 transition-colors duration-300 bg-[var(--surface-card)]/90 border-[var(--border-default)]",children:u.jsx("div",{className:"max-w-7xl mx-auto w-full",children:u.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-3 items-center gap-6 lg:gap-4 min-h-[60px] py-2 lg:py-0",children:[u.jsx("div",{className:"flex justify-center md:justify-start lg:justify-start w-full md:w-auto lg:w-full order-2 md:order-2 lg:order-1",children:S&&p?u.jsx("button",{onClick:T,className:"flex items-center text-red-500 hover:opacity-80 transition-all duration-300 active:scale-95",title:"Logout",children:u.jsx(Z5,{size:28})}):u.jsx("div",{className:"hidden lg:block"})}),u.jsx("div",{className:"flex justify-center md:justify-end lg:justify-center w-full md:w-auto lg:w-full order-3 md:order-3 lg:order-2",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-widest text-[var(--text-secondary)]",children:"Powered by"}),u.jsx("img",{src:y?K5:zg,alt:"XTOWN",className:`h-6 md:h-8 object-contain drop-shadow-md transition-all duration-300 hover:scale-110 ${y?"brightness-125":"brightness-100"}`})]})}),u.jsx("div",{className:"flex flex-wrap items-center justify-center lg:justify-end gap-x-6 gap-y-2 text-sm font-medium w-full lg:w-full order-1 md:order-1 lg:order-3 md:basis-full lg:basis-auto md:mb-4 lg:mb-0",children:[{to:"/policies/terms",label:"Terms"},{to:"/policies/privacy",label:"Privacy"},{to:"/policies/refund",label:"Refund"},{to:"/policies/shipping",label:"Shipping"}].map(xB)})]})})}),t[5]=T,t[6]=y,t[7]=f,t[8]=p,t[9]=S,t[10]=R):R=t[10];let z;t[11]!==m?(z=m&&u.jsx(Q5,{}),t[11]=m,t[12]=z):z=t[12];let G;return t[13]!==D||t[14]!==R||t[15]!==z?(G=u.jsxs("div",{className:"min-h-screen flex flex-col transition-colors duration-300 bg-[var(--surface-main)] text-[var(--text-primary)]",children:[D,R,z]}),t[13]=D,t[14]=R,t[15]=z,t[16]=G):G=t[16],G};function xB(e){return u.jsx(Ii,{to:e.to,className:"transition-colors duration-200 text-[var(--text-secondary)] hover:text-[var(--brand-primary)]",children:e.label},e.to)}const Lm="/assets/prithvi-logo-FnUipjfh.jpg",vB=e=>{const t=Da.c(48),{isOpen:r,setIsOpen:n}=e,{pathname:a}=kd(),{theme:i,isDark:c}=bi();let f,m,p,x,y,S;if(t[0]!==c||t[1]!==r||t[2]!==a||t[3]!==n||t[4]!==i){const X=[{path:"/admin/dashboard",icon:Hj,label:"Dashboard"},{path:"/admin/products",icon:bd,label:"Items"},{path:"/admin/AdminCheckout",icon:t1,label:"Orders"},{path:"/admin/meal-scheduler",icon:eB,label:"Meal Plan"},{path:"/admin/users",icon:fB,label:"Users"},{path:"/admin/employees",icon:vm,label:"Employees"},{path:"/admin/units",icon:aB,label:"Units"},{path:"/admin/logs",icon:iB,label:"Logs"},{path:"/admin/reports",icon:Wj,label:"Reports"}],V=se=>a===se,Y=()=>{window.innerWidth<1024&&n(!1)};t[11]!==r||t[12]!==n?(S=r&&u.jsx("div",{className:"fixed inset-0 z-40 lg:hidden bg-black/60 backdrop-blur-sm transition-opacity duration-300",onClick:()=>n(!1)}),t[11]=r,t[12]=n,t[13]=S):S=t[13],p=`
          fixed z-50 transition-all duration-300 ease-in-out border-[var(--border-default)]
          flex flex-col shrink-0
          ${i==="dark"?"bg-gradient-to-b from-[#1D265B] via-[#1D265B] to-[#FDB813]":i==="professional"?"bg-[var(--surface-card)]":i==="modern"?"bg-gradient-to-b from-[#0f172a] to-[#1e293b] border-r border-indigo-500/10":i==="executive"?"bg-gradient-to-b from-blue-50 to-white border-r border-blue-200":i==="sunset"?"bg-gradient-to-b from-amber-50 to-white border-r border-amber-200":i==="swiggy"?"bg-gradient-to-b from-orange-50 to-white border-orange-200":"bg-[var(--surface-card)]"}
          
          /* Mobile: Dropdown Styling - responsive width and centering */
          top-[4.5rem] left-1/2 -translate-x-1/2 w-[calc(100%-2rem)] max-w-[400px] rounded-3xl shadow-2xl border
          max-h-[calc(100dvh-6rem)] lg:max-h-none overflow-hidden flex flex-col
          ${r?"opacity-100 scale-100 translate-y-0 visible":"opacity-0 scale-95 -translate-y-4 invisible pointer-events-none"}
          
          /* Desktop/Tablet: Sidebar Styling (Overrides Mobile) */
          lg:visible lg:opacity-100 lg:scale-100 lg:translate-y-0 lg:translate-x-0 lg:pointer-events-auto
          lg:static lg:h-screen lg:rounded-none lg:shadow-none lg:left-0 lg:top-0
          lg:border-r ${c?"lg:border-white/10":"lg:border-[var(--border-default)]"}
          lg:min-w-0 lg:flex lg:flex-col
          ${r?"lg:w-64":"lg:w-20"}
        `;let W;t[14]===Symbol.for("react.memo_cache_sentinel")?(W=u.jsx("div",{className:"flex items-center justify-center",children:u.jsx("div",{className:"w-28 h-10 rounded-xl overflow-hidden",children:u.jsx("img",{src:Lm,alt:"Prithvi Logo",className:"w-full h-full object-contain object-center scale-110"})})}),t[14]=W):W=t[14];let Ne;t[15]!==n?(Ne=()=>n(!1),t[15]=n,t[16]=Ne):Ne=t[16];let Z;t[17]===Symbol.for("react.memo_cache_sentinel")?(Z=u.jsx(Jo,{size:20}),t[17]=Z):Z=t[17],t[18]!==Ne?(x=u.jsxs("div",{className:"lg:hidden flex items-center justify-center p-4 border-b border-white/10 bg-white/5 relative min-h-[72px]",children:[W,u.jsx("button",{onClick:Ne,className:"absolute right-4 p-2 rounded-xl bg-white/10 text-white hover:bg-white/20 transition-colors",children:Z})]}),t[18]=Ne,t[19]=x):x=t[19];const Q=`hidden lg:flex items-center justify-center transition-all duration-300 ${r?"px-4 pt-8 pb-2":"px-4 py-8"}`,ye=`shrink-0 transition-all duration-500 hover:scale-105 active:scale-95 ${r?"w-full max-w-[110px] flex justify-center":"w-8 h-8 rounded-lg overflow-hidden border border-white/10 shadow-2xl"}`,ie=`w-[110px] h-auto ${r?"object-contain":"object-cover"}`;let q;t[20]!==ie?(q=u.jsx("img",{src:Lm,alt:"Prithvi Logo",className:ie}),t[20]=ie,t[21]=q):q=t[21];let te;t[22]!==ye||t[23]!==q?(te=u.jsx("div",{className:ye,children:q}),t[22]=ye,t[23]=q,t[24]=te):te=t[24],t[25]!==Q||t[26]!==te?(y=u.jsx("div",{className:Q,children:te}),t[25]=Q,t[26]=te,t[27]=y):y=t[27],f=`flex-1 overflow-y-auto overflow-x-hidden py-4 pt-2 lg:max-h-full grid grid-cols-2 gap-2 lg:flex lg:flex-col lg:gap-1 lg:space-y-1 transition-all duration-300 ${r?"px-3":"lg:px-0 px-3"}`,m=X.map(se=>{const ue=V(se.path);return u.jsxs(Ii,{to:se.path,onClick:Y,className:`flex items-center ${r?"justify-start gap-4 px-4":"lg:justify-center gap-2 px-3"} py-3 rounded-xl transition-all overflow-hidden ${ue?"bg-[var(--brand-primary)] text-black shadow-lg scale-[1.02]":i==="dark"?"text-white hover:bg-white/10":i==="professional"?"text-slate-300 hover:bg-white/5":i==="modern"?"text-indigo-100 hover:bg-indigo-500/10":i==="executive"?"text-blue-900 hover:bg-blue-50":i==="sunset"?"text-amber-950 hover:bg-amber-100":i==="swiggy"?"text-orange-950 hover:bg-orange-50":"text-[var(--text-primary)] hover:bg-[var(--surface-muted)]"}`,children:[u.jsx("div",{className:`shrink-0 flex items-center justify-center ${r?"":"w-10"}`,children:u.jsx(se.icon,{size:22,className:ue?"text-black":"opacity-100"})}),u.jsx("span",{className:`text-left tracking-wide font-bold text-lg transition-all duration-300 truncate whitespace-nowrap ${r?"opacity-100 w-full block":"lg:opacity-0 lg:w-0 lg:overflow-hidden"}`,children:se.label})]},se.path)}),t[0]=c,t[1]=r,t[2]=a,t[3]=n,t[4]=i,t[5]=f,t[6]=m,t[7]=p,t[8]=x,t[9]=y,t[10]=S}else f=t[5],m=t[6],p=t[7],x=t[8],y=t[9],S=t[10];let N;t[28]!==f||t[29]!==m?(N=u.jsx("nav",{className:f,children:m}),t[28]=f,t[29]=m,t[30]=N):N=t[30];const j=`p-4 border-t transition-all duration-300 ${c?"border-white/10":"border-[var(--border-default)]"} ${!r&&"lg:hidden"}`,_=`text-[10px] font-semibold tracking-widest transition-opacity duration-300 ${c?"text-white/40":"text-[var(--text-secondary)]"} ${!r&&"lg:opacity-0"}`;let T;t[31]!==_?(T=u.jsx("span",{className:_,children:"Theme"}),t[31]=_,t[32]=T):T=t[32];let D;t[33]===Symbol.for("react.memo_cache_sentinel")?(D=u.jsx(Q5,{variant:"inline"}),t[33]=D):D=t[33];let R;t[34]!==T?(R=u.jsxs("div",{className:"flex items-center justify-between px-2",children:[T,D]}),t[34]=T,t[35]=R):R=t[35];let z;t[36]!==R||t[37]!==j?(z=u.jsx("div",{className:j,children:R}),t[36]=R,t[37]=j,t[38]=z):z=t[38];let G;t[39]!==z||t[40]!==p||t[41]!==x||t[42]!==y||t[43]!==N?(G=u.jsxs("aside",{className:p,children:[x,y,N,z]}),t[39]=z,t[40]=p,t[41]=x,t[42]=y,t[43]=N,t[44]=G):G=t[44];let $;return t[45]!==G||t[46]!==S?($=u.jsxs(u.Fragment,{children:[S,G]}),t[45]=G,t[46]=S,t[47]=$):$=t[47],$},ui=e=>{const t=Da.c(52),{children:r}=e,[n,a]=I.useState(yB),[i,c]=I.useState(!1),{theme:f,isDark:m}=bi(),{user:p,logout:x}=Xi(),y=Wa();let S;t[0]!==x||t[1]!==y?(S=async()=>{await x(),y("/login")},t[0]=x,t[1]=y,t[2]=S):S=t[2];const N=S;let j;t[3]!==n?(j=u.jsx(vB,{isOpen:n,setIsOpen:a}),t[3]=n,t[4]=j):j=t[4];const _=`h-16 lg:h-16 px-4 sm:px-6 flex items-center justify-between shrink-0 sticky top-0 z-10 backdrop-blur-md border-b shadow-lg transition-all duration-300 ${f==="dark"?"bg-gradient-to-r from-[#1D265B] via-[#1D265B] to-[#FDB813] border-white/5":f==="modern"?"bg-gradient-to-r from-[#0f172a] to-[#1e293b] border-indigo-500/10":f==="executive"?"bg-gradient-to-r from-blue-50 to-white border-blue-200":f==="sunset"?"bg-gradient-to-r from-amber-50 to-white border-amber-200":f==="swiggy"?"bg-gradient-to-r from-orange-50 to-white border-orange-200":"bg-[var(--surface-card)] border-[var(--border-default)]"}`;let T;t[5]!==n?(T=()=>a(!n),t[5]=n,t[6]=T):T=t[6];const D=`p-2 rounded-lg transition-colors ${m?"hover:bg-white/10 text-white":"hover:bg-[var(--surface-muted)] text-[var(--text-primary)]"}`;let R;t[7]===Symbol.for("react.memo_cache_sentinel")?(R=u.jsx(vb,{size:24}),t[7]=R):R=t[7];let z;t[8]!==T||t[9]!==D?(z=u.jsx("div",{className:"flex items-center gap-3",children:u.jsx("button",{onClick:T,className:D,"aria-label":"Toggle sidebar",children:R})}),t[8]=T,t[9]=D,t[10]=z):z=t[10];let G;t[11]!==i?(G=()=>c(!i),t[11]=i,t[12]=G):G=t[12];const $=`flex items-center p-0.5 px-2 lg:p-1 lg:px-3 rounded-full transition-all focus:outline-none lg:scale-100 origin-right transition-all flex-nowrap ${m?"hover:bg-white/10":"hover:bg-black/5"}`,X=`shrink-0 w-10 h-10 rounded-full flex items-center justify-center transition-all overflow-hidden ${m?"bg-white/20 text-white":"bg-[#FDB813]/25 text-[#FDB813]"}`;let V;t[13]===Symbol.for("react.memo_cache_sentinel")?(V=u.jsx(pf,{size:22}),t[13]=V):V=t[13];let Y;t[14]!==X?(Y=u.jsx("div",{className:X,children:V}),t[14]=X,t[15]=Y):Y=t[15];const W=`hidden sm:block ml-3 text-lg sm:text-xl font-black uppercase tracking-widest leading-none ${m?"text-white":"text-[#0f172a]"}`,Ne=(p==null?void 0:p.username)||"PRITHVI";let Z;t[16]!==W||t[17]!==Ne?(Z=u.jsx("span",{className:W,children:Ne}),t[16]=W,t[17]=Ne,t[18]=Z):Z=t[18];let Q;t[19]!==Y||t[20]!==Z||t[21]!==G||t[22]!==$?(Q=u.jsxs("button",{onClick:G,className:$,children:[Y,Z]}),t[19]=Y,t[20]=Z,t[21]=G,t[22]=$,t[23]=Q):Q=t[23];let ye;t[24]!==N||t[25]!==i||t[26]!==(p==null?void 0:p.role)||t[27]!==(p==null?void 0:p.username)?(ye=i&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)}),u.jsxs("div",{className:"absolute right-0 mt-2 w-48 rounded-xl shadow-lg border border-[var(--border-default)] bg-[var(--surface-card)] py-1 z-20 animate-fade-in-down origin-top-right",children:[u.jsxs("div",{className:"px-4 py-3 border-b border-[var(--border-default)]",children:[u.jsx("p",{className:"text-sm font-semibold text-[var(--text-primary)] uppercase",children:(p==null?void 0:p.username)||"Admin"}),u.jsx("p",{className:"text-xs text-[var(--text-secondary)] capitalize",children:(p==null?void 0:p.role)||"user"})]}),u.jsxs("button",{onClick:N,className:"w-full text-left px-4 py-2 text-sm text-[var(--brand-danger)] hover:bg-[var(--brand-danger)]/5 flex items-center gap-2 transition-colors",children:[u.jsx(Z5,{size:16}),"Logout"]})]})]}),t[24]=N,t[25]=i,t[26]=p==null?void 0:p.role,t[27]=p==null?void 0:p.username,t[28]=ye):ye=t[28];let ie;t[29]!==Q||t[30]!==ye?(ie=u.jsx("div",{className:"flex items-center gap-3 ml-auto",children:u.jsxs("div",{className:"relative",children:[Q,ye]})}),t[29]=Q,t[30]=ye,t[31]=ie):ie=t[31];let q;t[32]!==ie||t[33]!==_||t[34]!==z?(q=u.jsxs("header",{className:_,children:[z,ie]}),t[32]=ie,t[33]=_,t[34]=z,t[35]=q):q=t[35];let te;t[36]!==r?(te=u.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8 animate-fade-in no-scrollbar",children:r}),t[36]=r,t[37]=te):te=t[37];let se;t[38]===Symbol.for("react.memo_cache_sentinel")?(se=u.jsx("span",{className:"text-[10px] lg:text-xs font-bold uppercase tracking-[0.2em] opacity-50 group-hover:opacity-80 transition-opacity whitespace-nowrap",children:"Powered by"}),t[38]=se):se=t[38];const ue=m?K5:zg,ee=`h-6 md:h-8 lg:h-9 object-contain drop-shadow-sm transition-all duration-300 ${m?"brightness-125":"brightness-100"}`;let Se;t[39]!==ue||t[40]!==ee?(Se=u.jsxs("div",{className:"flex items-center gap-3 transition-all duration-300 group cursor-default",children:[se,u.jsx("img",{src:ue,alt:"XTOWN",className:ee})]}),t[39]=ue,t[40]=ee,t[41]=Se):Se=t[41];let le;t[42]===Symbol.for("react.memo_cache_sentinel")?(le=u.jsx("div",{className:"absolute right-0 hidden sm:flex items-center flex-wrap gap-x-4 gap-y-1 landscape:scale-75 lg:scale-100",children:[{to:"/policies/terms",label:"Terms"},{to:"/policies/privacy",label:"Privacy"},{to:"/policies/refund",label:"Refund"},{to:"/policies/shipping",label:"Shipping"}].map(bB)}),t[42]=le):le=t[42];let U;t[43]!==Se?(U=u.jsx("footer",{className:"shrink-0 border-t py-4 landscape:py-2 lg:py-4 px-4 sm:px-6 border-[var(--border-default)] bg-[var(--surface-card)] shadow-[0_-4px_6_px_-1px_rgba(0,0,0,0.1)]",children:u.jsxs("div",{className:"relative flex items-center justify-center min-h-[1.5rem] lg:min-h-[2rem]",children:[Se,le]})}),t[43]=Se,t[44]=U):U=t[44];let H;t[45]!==q||t[46]!==te||t[47]!==U?(H=u.jsxs("div",{className:"flex-1 flex flex-col min-h-0 h-full overflow-hidden transition-all duration-300",children:[q,te,U]}),t[45]=q,t[46]=te,t[47]=U,t[48]=H):H=t[48];let ae;return t[49]!==j||t[50]!==H?(ae=u.jsxs("div",{className:"h-[100dvh] w-full overflow-hidden no-scrollbar transition-colors duration-300 bg-[var(--surface-main)] text-[var(--text-primary)] flex flex-col lg:flex-row",children:[j,H]}),t[49]=j,t[50]=H,t[51]=ae):ae=t[51],ae};function yB(){return window.innerWidth>=1024}function bB(e){return u.jsx(Ii,{to:e.to,className:"text-[10px] sm:text-xs transition-colors hover:underline hover:text-[var(--brand-primary)] opacity-60 hover:opacity-100 whitespace-nowrap",children:e.label},e.to)}const wB="/assets/login_bg-Bt8-Vr8u.jpg",AB=()=>{const e=Da.c(78),[t,r]=I.useState("Admin"),[n,a]=I.useState(""),[i,c]=I.useState(""),[f,m]=I.useState(!1),[p,x]=I.useState(""),[y,S]=I.useState(!1),{login:N,employeeLogin:j,user:_,loading:T}=Xi(),D=Wa();let R,z;e[0]!==T||e[1]!==D||e[2]!==_?(R=()=>{var ir;if(!T&&_){const Wt=(ir=_.role)==null?void 0:ir.toLowerCase();["admin","unit_admin"].includes(Wt)?D("/admin/dashboard"):D(Wt==="chef"?"/kitchen":"/kiosk/products")}},z=[_,T,D],e[0]=T,e[1]=D,e[2]=_,e[3]=R,e[4]=z):(R=e[3],z=e[4]),I.useEffect(R,z);let G;e[5]===Symbol.for("react.memo_cache_sentinel")?(G=ir=>{r(ir),a(""),c(""),x(""),m(!1)},e[5]=G):G=e[5];const $=G;let X;e[6]!==j||e[7]!==n||e[8]!==N||e[9]!==D||e[10]!==i||e[11]!==t?(X=async ir=>{var Ar;ir.preventDefault(),x(""),S(!0);let Wt;if(t==="Admin"||t==="Unit Admin"||t==="Kiosk"||t==="Chef"){if(Wt=await N(n,i),Wt.success&&t==="Kiosk"&&!Wt.user.unit_id){x("You are not assigned to a unit. Please contact administrator."),S(!1);return}}else Wt=await j(n,i);if(Wt.success){const zt=(Ar=Wt.user.role)==null?void 0:Ar.toLowerCase();["admin","unit_admin"].includes(zt)?D("/admin/dashboard"):D(zt==="chef"?"/kitchen":"/kiosk/products")}else x(Wt.error);S(!1)},e[6]=j,e[7]=n,e[8]=N,e[9]=D,e[10]=i,e[11]=t,e[12]=X):X=e[12];const V=X;let Y;e[13]!==t?(Y=()=>{switch(t){case"Admin":return"Username";case"Unit Admin":return"Username";case"Kiosk":return"Username";case"Employee":return"Employee ID";default:return"Identifier"}},e[13]=t,e[14]=Y):Y=e[14];const W=Y;let Ne;e[15]!==t?(Ne=()=>{switch(t){case"Admin":return"e.g. admin.user";case"Unit Admin":return"e.g. unit.admin";case"Kiosk":return"e.g. kiosk_101";case"Employee":return"e.g. 100123";case"Chef":return"e.g. chef_john";default:return"Enter your ID"}},e[15]=t,e[16]=Ne):Ne=e[16];const Z=Ne;let Q;e[17]!==n||e[18]!==i?(Q=n.trim()!==""&&i.trim()!=="",e[17]=n,e[18]=i,e[19]=Q):Q=e[19];const ye=Q;let ie;e[20]===Symbol.for("react.memo_cache_sentinel")?(ie=u.jsx("style",{children:`
                @media (max-width: 768px), (max-height: 600px) and (orientation: landscape) {
                    .unified-input-wrapper {
                        overflow: hidden !important;
                        border-radius: 1rem !important;
                    }
                    .unified-input-wrapper input {
                        overflow: hidden !important;
                        scrollbar-width: none !important;
                        -ms-overflow-style: none !important;
                        width: calc(100% - 2px) !important;
                        margin-left: 1px !important;
                        margin-right: 1px !important;
                    }
                    .unified-input-wrapper input::-webkit-scrollbar {
                        display: none !important;
                        width: 0 !important;
                        height: 0 !important;
                    }
                    .unified-login-btn {
                        padding: 0 !important;
                        min-height: 2.75rem !important;
                        height: 2.75rem !important;
                        max-height: 2.75rem !important;
                        margin-top: 1rem !important;
                        display: flex !important;
                        align-items: center !important;
                        justify-content: center !important;
                        white-space: nowrap !important;
                        overflow: hidden !important;
                        text-overflow: clip !important;
                        transform: none !important;
                        transition: none !important;
                        box-shadow: none !important;
                    }
                }
            `}),e[20]=ie):ie=e[20];let q;e[21]===Symbol.for("react.memo_cache_sentinel")?(q=u.jsxs("div",{className:"fixed inset-0 z-0",children:[u.jsx("img",{src:wB,alt:"Background",className:"absolute inset-0 w-full h-full object-cover object-center animate-page-zoom-out opacity-60 md:opacity-80 lg:opacity-100"}),u.jsx("div",{className:"absolute inset-0 bg-black/40 md:bg-black/20"})]}),e[21]=q):q=e[21];let te;e[22]===Symbol.for("react.memo_cache_sentinel")?(te=u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"w-20 h-auto rounded-xl overflow-hidden bg-white p-2 shadow-md",children:u.jsx("img",{src:Lm,alt:"Logo",className:"w-full h-full object-contain"})})}),e[22]=te):te=e[22];const se=t==="Admin"?"Admin Access":t==="Unit Admin"?"Unit Admin Access":t==="Kiosk"?"Kiosk login":"Employee portal";let ue;e[23]!==se?(ue=u.jsxs("div",{className:"mb-4 md:mb-6 text-center",children:[te,u.jsx("p",{className:"text-sm md:text-base font-bold text-slate-900 leading-none",children:se})]}),e[23]=se,e[24]=ue):ue=e[24];let ee;e[25]===Symbol.for("react.memo_cache_sentinel")?(ee=["Admin","Kiosk","Employee"],e[25]=ee):ee=e[25];let Se;e[26]!==t?(Se=u.jsx("div",{className:"grid grid-cols-3 gap-1 p-1 bg-black/5 md:bg-black/20 rounded-2xl mb-6 border border-black/15 sticky top-0 z-30",children:ee.map(ir=>{const Wt=t===ir;return u.jsx("button",{type:"button",onClick:()=>$(ir),className:`w-full py-2.5 lg:py-3 px-0 text-[10px] sm:text-[11px] md:text-xs font-bold rounded-xl transition-all duration-300 ${Wt?"bg-white text-orange-600 shadow-md transform scale-[1.02]":"text-slate-900"} whitespace-nowrap overflow-hidden text-center`,children:ir},ir)})}),e[26]=t,e[27]=Se):Se=e[27];let le;e[28]!==p?(le=p&&u.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-700 px-4 py-3 rounded-2xl text-[11px] font-medium animate-shake text-center",children:p}),e[28]=p,e[29]=le):le=e[29];let U;e[30]===Symbol.for("react.memo_cache_sentinel")?(U={fontWeight:700,color:"#d45630ff"},e[30]=U):U=e[30];const H=W();let ae;e[31]!==H?(ae=u.jsx("label",{className:"text-[11px] font-bold text-zinc-900 ml-1 uppercase tracking-wider",style:U,children:H}),e[31]=H,e[32]=ae):ae=e[32];const ge=Z();let ve;e[33]===Symbol.for("react.memo_cache_sentinel")?(ve=ir=>a(ir.target.value),e[33]=ve):ve=e[33];let de;e[34]!==n||e[35]!==ge?(de=u.jsx("input",{type:"text",placeholder:ge,value:n,onChange:ve,className:"w-full px-6 py-4 rounded-2xl bg-white/80 border border-transparent focus:bg-white focus:border-orange-400 focus:ring-4 focus:ring-orange-400/10 text-slate-900 placeholder:text-slate-400 transition-all outline-none font-bold text-base pr-14",required:!0}),e[34]=n,e[35]=ge,e[36]=de):de=e[36];let ke;e[37]===Symbol.for("react.memo_cache_sentinel")?(ke=u.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-16 h-12 flex items-center justify-center bg-orange-50 rounded-xl text-orange-600/80",children:u.jsx(pf,{size:26})}),e[37]=ke):ke=e[37];let me;e[38]!==de?(me=u.jsxs("div",{className:"relative unified-input-wrapper",children:[de,ke]}),e[38]=de,e[39]=me):me=e[39];let xe;e[40]!==ae||e[41]!==me?(xe=u.jsxs("div",{className:"space-y-1",children:[ae,me]}),e[40]=ae,e[41]=me,e[42]=xe):xe=e[42];let Oe;e[43]===Symbol.for("react.memo_cache_sentinel")?(Oe=u.jsx("label",{className:"text-[11px] font-bold text-zinc-900 ml-1 uppercase tracking-wider",style:{fontWeight:700,color:"#d45630ff"},children:"Password"}),e[43]=Oe):Oe=e[43];const oe=f?"text":"password";let Le;e[44]===Symbol.for("react.memo_cache_sentinel")?(Le=ir=>c(ir.target.value),e[44]=Le):Le=e[44];let Ge;e[45]!==i||e[46]!==oe?(Ge=u.jsx("input",{type:oe,placeholder:"",value:i,onChange:Le,className:"w-full px-6 py-4 rounded-2xl bg-white/80 border border-transparent focus:bg-white focus:border-orange-400 focus:ring-4 focus:ring-orange-400/10 text-slate-900 placeholder:text-slate-400 transition-all outline-none font-bold text-base pr-20",required:!0}),e[45]=i,e[46]=oe,e[47]=Ge):Ge=e[47];let Pe;e[48]!==f?(Pe=()=>m(!f),e[48]=f,e[49]=Pe):Pe=e[49];let ne;e[50]!==f?(ne=f?u.jsx(Bh,{size:28}):u.jsx(Fh,{size:28}),e[50]=f,e[51]=ne):ne=e[51];let tt;e[52]!==Pe||e[53]!==ne?(tt=u.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:u.jsx("button",{type:"button",onClick:Pe,className:"w-16 h-12 flex items-center justify-center bg-[#FFEDE0] rounded-2xl text-[#F97316] hover:bg-[#FFDCC5] transition-all active:scale-95 shadow-sm",children:ne})}),e[52]=Pe,e[53]=ne,e[54]=tt):tt=e[54];let at;e[55]!==Ge||e[56]!==tt?(at=u.jsxs("div",{className:"space-y-1",children:[Oe,u.jsxs("div",{className:"relative unified-input-wrapper",children:[Ge,tt]})]}),e[55]=Ge,e[56]=tt,e[57]=at):at=e[57];const Be=y||!ye;let Ze;e[58]!==y?(Ze=y?u.jsx(io,{className:"animate-spin",size:18}):"Sign in",e[58]=y,e[59]=Ze):Ze=e[59];let Fe;e[60]!==Be||e[61]!==Ze?(Fe=u.jsx("button",{type:"submit",disabled:Be,className:"unified-login-btn w-full py-4 rounded-2xl bg-gradient-to-r from-orange-500 to-amber-500 text-white font-bold text-sm shadow-xl shadow-orange-500/20 hover:shadow-orange-500/30 hover:scale-[1.01] active:scale-95 transition-all duration-300 disabled:opacity-60 flex items-center justify-center gap-3 mt-6",children:Ze}),e[60]=Be,e[61]=Ze,e[62]=Fe):Fe=e[62];let rt;e[63]===Symbol.for("react.memo_cache_sentinel")?(rt=u.jsx("div",{className:"flex justify-center pt-2",children:u.jsx(Ii,{to:"/kitchen/login",className:"text-orange-600 hover:text-orange-700 transition-all font-semibold text-[15px]",children:"Kitchen display"})}),e[63]=rt):rt=e[63];let At;e[64]!==V||e[65]!==le||e[66]!==xe||e[67]!==at||e[68]!==Fe?(At=u.jsxs("form",{onSubmit:V,className:"space-y-3",children:[le,xe,at,Fe,rt]}),e[64]=V,e[65]=le,e[66]=xe,e[67]=at,e[68]=Fe,e[69]=At):At=e[69];let Ht;e[70]!==ue||e[71]!==Se||e[72]!==At?(Ht=u.jsxs("div",{className:"w-full bg-white/20 backdrop-blur-3xl lg:bg-white/30 rounded-[2.5rem] p-5 sm:p-6 shadow-2xl border border-white/30 lg:border-white/40 animate-in fade-in slide-in-from-bottom-8 duration-700",children:[ue,Se,At]}),e[70]=ue,e[71]=Se,e[72]=At,e[73]=Ht):Ht=e[73];let Yt;e[74]===Symbol.for("react.memo_cache_sentinel")?(Yt=u.jsx("div",{className:"bg-black/25 backdrop-blur-md rounded-xl py-1.5 px-6 border border-white/10 shadow-lg",children:u.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-x-6 gap-y-1 text-[12px] font-black text-white",children:[u.jsx(Ii,{to:"/policies/shipping",className:"hover:text-orange-400 transition-all",children:"Shipping"}),u.jsx(Ii,{to:"/policies/terms",className:"hover:text-orange-400 transition-all",children:"Terms"}),u.jsx(Ii,{to:"/policies/privacy",className:"hover:text-orange-400 transition-all",children:"Privacy"}),u.jsx(Ii,{to:"/policies/refund",className:"hover:text-orange-400 transition-all",children:"Refund"})]})}),e[74]=Yt):Yt=e[74];let Jt;e[75]===Symbol.for("react.memo_cache_sentinel")?(Jt=u.jsxs("div",{className:"mt-4 flex flex-col items-center w-full gap-2 px-4",children:[Yt,u.jsx("div",{className:"bg-black/15 backdrop-blur-sm rounded-lg py-2 px-4 border border-white/5",children:u.jsxs("div",{className:"flex items-center gap-3 opacity-100 transition-opacity",children:[u.jsx("span",{className:"text-[11px] font-black text-white tracking-widest",children:"Powered by"}),u.jsx("img",{src:zg,alt:"XTOWN",className:"h-4 object-contain filter brightness-0 invert"})]})})]}),e[75]=Jt):Jt=e[75];let Ut;return e[76]!==Ht?(Ut=u.jsxs(ko,{showFooter:!1,showThemeToggle:!1,theme:"light",children:[ie,u.jsxs("div",{className:"relative w-full min-h-[100dvh] bg-[#1D265B] selection:bg-orange-500/30 overflow-x-hidden pt-6 pb-12",children:[q,u.jsx("div",{className:"relative z-10 flex flex-col items-center md:items-start justify-center px-4 md:pl-12 lg:pl-20 xl:pl-32 min-h-[calc(100dvh-4.5rem)]",children:u.jsxs("div",{className:"w-full sm:max-w-[340px] md:max-w-[360px] lg:max-w-[340px] xl:max-w-[380px] flex flex-col items-start",children:[Ht,Jt]})})]})]}),e[76]=Ht,e[77]=Ut):Ut=e[77],Ut},ro="/assets/No_image-D4JWfVLz.png",NB=()=>{var xe,Oe;const[e,t]=I.useState([]),[r,n]=I.useState(!0),[a,i]=I.useState(""),[c,f]=I.useState(0),[m,p]=I.useState(1),[x,y]=I.useState(1),[S,N]=I.useState(50),[j,_]=I.useState(0),[T,D]=I.useState(!1),[R,z]=I.useState(()=>localStorage.getItem("productViewMode")||"card"),[G,$]=I.useState(null),[X,V]=I.useState(""),{selectedUnit:Y,selectedProducts:W,adjustProductQuantity:Ne,calculatePerDayTotal:Z}=V5(),Q=Wa(),{isDark:ye}=bi(),{user:ie}=Xi(),[q,te]=I.useState(!1),[se,ue]=I.useState(!1),[ee,Se]=I.useState(!1);I.useEffect(()=>{localStorage.setItem("productViewMode",R)},[R]);const le=I.useCallback(async oe=>{var Le,Ge,Pe,ne,tt,at,Be;try{n(!0),i("");const Ze={page:oe,limit:S,search:X||void 0},Fe=await qt.get("/items/",{params:Ze});console.log(" Kiosk Item Fetch success");const rt=Array.isArray((Le=Fe.data)==null?void 0:Le.items)?Fe.data.items:Array.isArray((Ge=Fe.data)==null?void 0:Ge.products)?Fe.data.products:Array.isArray(Fe.data)?Fe.data:[];t(rt),p(((Pe=Fe.data)==null?void 0:Pe.currentPage)||oe),y(((ne=Fe.data)==null?void 0:ne.totalPages)||1),_(((tt=Fe.data)==null?void 0:tt.totalItems)||((at=Fe.data)==null?void 0:at.totalProducts)||((Be=Fe.data)==null?void 0:Be.total)||rt.length),rt.length||i("No Items available.")}catch(Ze){console.error(" Fetch Items error:",Ze),i("Failed to load Items.")}finally{n(!1)}},[X]);I.useEffect(()=>{const oe=setTimeout(()=>{le(m)},500);return()=>clearTimeout(oe)},[m,le]);const[U,H]=I.useState([]),[ae,ge]=I.useState(!1);I.useEffect(()=>{(async()=>{var Le;if(!(!(ie!=null&&ie.id)&&!(ie!=null&&ie.emp_code)&&!(ie!=null&&ie.username)))try{ge(!0);const Ge=await qt.get("/orders",{params:{limit:20}});let Pe=((Le=Ge.data)==null?void 0:Le.orders)||Ge.data||[];if(Pe=Pe.filter(Ze=>ie.id&&Ze.user_id?String(Ze.user_id)===String(ie.id):ie.emp_code&&Ze.emp_code?Ze.emp_code===ie.emp_code:!0),Pe.length===0)return;const ne={};Pe.forEach(Ze=>{const Fe=Ze.items||Ze.order_items||[];Fe.length>0?Fe.forEach(rt=>{const At=rt.item_id||rt.id||rt.product_id;At&&(ne[At]=(ne[At]||0)+(rt.quantity||1))}):Ze.item_ids&&Array.isArray(Ze.item_ids)&&Ze.item_ids.forEach(rt=>{ne[rt]=(ne[rt]||0)+1})});const tt=Object.keys(ne).sort((Ze,Fe)=>ne[Fe]-ne[Ze]).slice(0,4);if(tt.length===0)return;const at=tt.map(Ze=>qt.get(`/items/${Ze}`).then(Fe=>{var rt,At;return((rt=Fe.data)==null?void 0:rt.item)||((At=Fe.data)==null?void 0:At.product)||Fe.data}).catch(()=>null)),Be=(await Promise.all(at)).filter(Boolean);H(Be)}catch(Ge){console.error("Failed to load recommendations",Ge)}finally{ge(!1)}})()},[ie]);const ve=oe=>W.filter(Le=>Le.id===oe).reduce((Le,Ge)=>Le+(Ge.quantity||0),0),de=I.useMemo(()=>{const oe={};return W.forEach(Le=>{oe[Le.id]=(oe[Le.id]||0)+(Le.quantity||0)}),oe},[W]),ke=I.useMemo(()=>W.reduce((oe,Le)=>oe+(Le.quantity||0),0),[W]),me=()=>{if(!ke){alert("Select at least one Item");return}Q("/kiosk/calendar")};return r?u.jsx(ko,{children:u.jsx(Vs,{})}):u.jsx(ko,{children:u.jsx("div",{className:"min-h-screen transition-colors duration-300 bg-[var(--surface-main)] text-[var(--text-primary)] no-scrollbar",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[u.jsx("div",{className:"pt-6 pb-2 space-y-4",children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-1.5 h-10 bg-[var(--brand-primary)] rounded-full shadow-[0_0_20px_rgba(250,198,57,0.3)] shadow-[var(--brand-primary)]/30"}),u.jsx("div",{children:u.jsxs("h1",{className:"text-xl sm:text-2xl font-medium leading-none capitalize text-[var(--text-primary)] animate-slide-up",children:["Order Our ",u.jsx("span",{className:"inline-flex flex-wrap gap-x-[1px] text-[var(--brand-primary)] lowercase",children:"best food".split("").map((oe,Le)=>u.jsx("span",{className:"animate-letter-pop",style:{animationDelay:`${300+Le*50}ms`},children:oe===" "?"":oe},Le))})]})})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-4 w-full sm:w-auto",children:[u.jsxs("div",{className:"sm:hidden flex items-center p-1.5 rounded-2xl bg-[var(--surface-muted)] border border-[var(--border-default)] w-full max-w-full",children:[u.jsx(wd,{className:"ml-3 flex-shrink-0 text-[var(--text-secondary)]",size:16}),u.jsx("input",{type:"text",placeholder:"Search...",value:X,onChange:oe=>V(oe.target.value),className:"flex-1 min-w-0 py-1.5 px-3 bg-transparent border-none outline-none text-sm font-medium text-[var(--text-primary)] placeholder-[var(--text-secondary)] text-center"})]}),u.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto justify-end",children:[u.jsx("div",{className:"hidden sm:flex items-center p-1.5 rounded-2xl bg-[var(--surface-muted)] border border-[var(--border-default)] flex-1 sm:flex-none shadow-sm",children:u.jsxs("div",{className:"flex items-center h-10 px-3 group bg-white/40 rounded-xl border border-transparent focus-within:border-[var(--brand-primary)]/50 focus-within:ring-2 focus-within:ring-[var(--brand-primary)]/10 transition-all w-full sm:w-auto",children:[u.jsx(wd,{className:"mr-2 flex-shrink-0 text-[var(--text-secondary)] group-focus-within:text-[var(--brand-primary)] transition-colors",size:16}),u.jsx("input",{type:"text",placeholder:"Search...",value:X,onChange:oe=>V(oe.target.value),className:"w-24 lg:w-48 h-full bg-transparent border-none outline-none text-sm font-medium text-[var(--text-primary)] placeholder-[var(--text-secondary)]"})]})}),u.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 hidden sm:flex",children:[u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>Se(!ee),className:`relative z-[101] w-14 h-14 rounded-full flex items-center justify-center transition-all hover:scale-105 active:scale-95 border ${ee?"border-[var(--brand-primary)] text-[var(--brand-primary)] bg-[var(--brand-primary)]/10":"border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:u.jsx(pf,{size:26})}),ee&&u.jsx("div",{className:"absolute top-full right-0 mt-3 w-64 rounded-3xl shadow-xl border-2 border-[var(--border-default)] overflow-hidden z-[100] animate-in fade-in slide-in-from-top-2 duration-200 bg-[var(--surface-card)]",children:u.jsxs("div",{className:"p-5 border-b border-[var(--border-default)] bg-[var(--surface-muted)]",children:[u.jsx("p",{className:"text-xs font-black uppercase tracking-widest mb-1 text-[var(--text-secondary)]",children:"Current User"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-[var(--brand-primary)] flex items-center justify-center text-[var(--text-inverse)] font-black text-sm",children:((ie==null?void 0:ie.username)||(ie==null?void 0:ie.emp_code)||"U").charAt(0).toUpperCase()}),u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-sm leading-tight text-[var(--text-primary)]",children:(ie==null?void 0:ie.username)||(ie==null?void 0:ie.first_name)||"Guest User"}),u.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-wide opacity-60 bg-[var(--text-primary)]/10 px-2 py-0.5 rounded-full inline-block mt-1",children:[((xe=ie==null?void 0:ie.role)==null?void 0:xe.toLowerCase())==="employee"||ie!=null&&ie.emp_code?"Employee":ie!=null&&ie.role?ie.role.charAt(0).toUpperCase()+ie.role.slice(1).toLowerCase():"Kiosk","  ",(ie==null?void 0:ie.emp_code)||(ie==null?void 0:ie.code)||"ID: --"]})]})]})]})})]}),u.jsx("button",{onClick:()=>Q("/kiosk/meal-plan"),className:"w-14 h-14 rounded-full flex items-center justify-center transition-all hover:scale-105 active:scale-95 border border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-secondary)] hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)]/50 shadow-sm",title:"Meal Plan",children:u.jsx(vb,{size:26})}),u.jsx("button",{onClick:()=>Q("/kiosk/my-orders"),className:"w-14 h-14 rounded-full flex items-center justify-center transition-all hover:scale-105 active:scale-95 border border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-secondary)] hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)]/50 shadow-sm",title:"My Orders",children:u.jsx(bd,{size:26})})]}),u.jsxs("div",{className:"flex items-center gap-4 sm:hidden",children:[u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>Se(!ee),className:`relative z-[101] w-14 h-14 rounded-xl flex items-center justify-center transition-all border ${ee?"border-[var(--brand-primary)] text-[var(--brand-primary)] bg-[var(--brand-primary)]/10":"border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-secondary)]"}`,children:u.jsx(pf,{size:28})}),ee&&u.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 z-[100] w-[85vw] max-w-[300px]",children:u.jsx("div",{className:"rounded-3xl shadow-2xl border-2 border-[var(--border-default)] overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 bg-[var(--surface-card)]",children:u.jsxs("div",{className:"p-5 border-b border-[var(--border-default)] bg-[var(--surface-muted)]",children:[u.jsx("p",{className:"text-xs font-black uppercase tracking-widest mb-1 text-[var(--text-secondary)]",children:"Current User"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 shrink-0 rounded-full bg-[var(--brand-primary)] flex items-center justify-center text-[var(--text-inverse)] font-black text-base shadow-lg shadow-[var(--brand-primary)]/30",children:((ie==null?void 0:ie.username)||(ie==null?void 0:ie.emp_code)||"U").charAt(0).toUpperCase()}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("p",{className:"font-bold text-base leading-tight text-[var(--text-primary)] truncate",children:(ie==null?void 0:ie.username)||(ie==null?void 0:ie.first_name)||"Guest User"}),u.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-wide opacity-60 bg-[var(--text-primary)]/10 px-2 py-0.5 rounded-full inline-block mt-1",children:[((Oe=ie==null?void 0:ie.role)==null?void 0:Oe.toLowerCase())==="employee"||ie!=null&&ie.emp_code?"Employee":(ie==null?void 0:ie.role)||"Kiosk","  ",(ie==null?void 0:ie.emp_code)||(ie==null?void 0:ie.code)||"ID: --"]})]})]})]})})})]}),u.jsx("button",{onClick:()=>Q("/kiosk/meal-plan"),className:"w-14 h-14 rounded-xl flex items-center justify-center transition-all border border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-secondary)] shadow-sm",children:u.jsx(vb,{size:28})}),u.jsx("button",{onClick:()=>Q("/kiosk/my-orders"),className:"w-14 h-14 rounded-xl flex items-center justify-center transition-all border border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-secondary)] shadow-sm",children:u.jsx(bd,{size:28})}),ee&&u.jsx("div",{className:"fixed inset-0 z-[90] bg-black/5 backdrop-blur-[1px]",onClick:()=>Se(!1)})]})]})]})]})}),(U.length>0||ae)&&u.jsxs("div",{className:"mb-8 animate-slide-up",children:[u.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-[var(--text-primary)] mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-transparent bg-clip-text",children:"Recommended"}),u.jsx("span",{className:"text-[10px] sm:text-xs font-bold text-[var(--text-secondary)] bg-[var(--surface-muted)] px-3 py-1 rounded-full border border-[var(--border-default)] uppercase tracking-wider",children:"Based on your orders"})]}),ae?u.jsx("div",{className:"flex gap-4 overflow-hidden",children:[1,2,3,4].map(oe=>u.jsx("div",{className:"w-40 h-56 rounded-2xl bg-[var(--surface-muted)] animate-pulse"},oe))}):u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4",children:U.map((oe,Le)=>{const Ge=ve(oe.id);return u.jsxs("div",{className:"group relative flex flex-col overflow-hidden transition-all duration-300 bg-[var(--surface-card)] rounded-xl sm:rounded-2xl border border-[var(--border-default)] hover:border-[var(--brand-primary)]/50 hover:shadow-lg",children:[u.jsx("div",{className:"absolute top-2 left-2 z-10 bg-gradient-to-r from-amber-500 to-orange-500 text-white text-[9px] font-black uppercase tracking-wider px-2 py-1 rounded-md shadow-lg shadow-orange-500/20",children:"Top Pick"}),u.jsx("div",{className:"relative aspect-square overflow-hidden bg-[var(--surface-muted)]",children:u.jsx("img",{src:(()=>{var ne,tt;const Pe=((tt=(ne=oe.images)==null?void 0:ne[0])==null?void 0:tt.url)||oe.image||oe.image_path;return Pe?Pe.startsWith("http")||Pe.startsWith("blob:")?Pe:`${$i}${Pe.startsWith("/")?"":"/"}${Pe}`:ro})(),className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:Pe=>Pe.target.src=ro,alt:oe.name})}),u.jsxs("div",{className:"p-3 flex flex-col gap-1 flex-1",children:[u.jsx("div",{className:"font-semibold text-xs sm:text-sm capitalize leading-tight text-[var(--text-primary)] line-clamp-1",children:oe.name_en||oe.name}),u.jsxs("div",{className:"text-xs sm:text-sm font-bold text-[var(--brand-primary)] mb-2",children:["",parseFloat(oe.price||oe.base_price||0).toFixed(2)]}),u.jsx("div",{className:"mt-auto flex items-center justify-between gap-2",children:Ge===0?u.jsx("button",{onClick:Pe=>{Pe.stopPropagation(),Ne(oe,1,oe.id)},className:"w-full py-2 rounded-lg bg-[var(--surface-muted)] text-[var(--text-primary)] text-xs font-bold hover:bg-[var(--brand-primary)] hover:text-white transition-all active:scale-95 border border-[var(--border-default)] uppercase tracking-wider",children:"ADD"}):u.jsxs("div",{className:"flex items-center justify-between w-full bg-[var(--brand-primary)]/10 rounded-lg p-1 border border-[var(--brand-primary)]/20",children:[u.jsx("button",{onClick:()=>Ne(oe,-1,oe.id),className:"w-7 h-7 flex items-center justify-center rounded-md bg-[var(--surface-card)] text-[var(--text-primary)] shadow-sm hover:scale-105 active:scale-90 transition-all",children:u.jsx(Mm,{size:10})}),u.jsx("span",{className:"font-bold text-xs",children:Ge}),u.jsx("button",{onClick:()=>Ne(oe,1,oe.id),className:"w-7 h-7 flex items-center justify-center rounded-md bg-[var(--brand-primary)] text-white shadow-sm hover:scale-105 active:scale-90 transition-all shadow-[var(--brand-primary)]/30",children:u.jsx(Oc,{size:10})})]})})]})]},`rec-${oe.id}`)})})]}),u.jsx("div",{className:"relative z-30 mb-6",children:u.jsxs("div",{className:"flex items-center justify-between gap-4 py-4 flex-wrap",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-[var(--text-primary)]",children:"Select Items"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center bg-[var(--surface-muted)] rounded-xl p-1 border border-[var(--border-default)]",children:[u.jsxs("button",{onClick:()=>z("card"),className:`flex items-center gap-1.5 px-4 py-2 rounded-lg text-xs font-semibold transition-all ${R==="card"?"bg-[var(--brand-primary)] text-white shadow-md":"text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:[u.jsx(qR,{size:12})," Card"]}),u.jsxs("button",{onClick:()=>z("list"),className:`flex items-center gap-1.5 px-4 py-2 rounded-lg text-xs font-semibold transition-all ${R==="list"?"bg-[var(--brand-primary)] text-white shadow-md":"text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:[u.jsx(BR,{size:12})," List"]})]}),u.jsxs("button",{onClick:me,disabled:ke===0,className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-sm font-semibold transition-all shadow-lg ${ke>0?"bg-[var(--brand-primary)] text-white hover:brightness-110 active:scale-95":"bg-[var(--surface-muted)] text-[var(--text-secondary)] cursor-not-allowed"}`,children:["Continue (",ke,")"]})]})]})}),a&&u.jsxs("div",{className:"text-center text-[var(--brand-primary)] font-medium uppercase tracking-[0.2em] py-20 px-4 bg-[var(--surface-muted)] rounded-[2rem] border border-[var(--border-default)]",children:[u.jsx("div",{className:"text-6xl mb-4 opacity-20",children:"?!"}),a]}),R==="card"&&u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-2 sm:gap-3 md:gap-4 pb-24",children:e.map((oe,Le)=>{var Pe;const Ge=de[oe.id]||0;return u.jsxs("div",{style:{animationDelay:`${Math.min(Le*40,600)}ms`},className:"opacity-0 animate-slide-up flex flex-col h-full overflow-hidden transition-all duration-300 bg-[var(--surface-card)] rounded-xl sm:rounded-2xl border border-[var(--border-default)] hover:border-[var(--brand-primary)]/50 hover:shadow-lg",children:[u.jsx("div",{className:"relative aspect-square overflow-hidden bg-[var(--surface-muted)] rounded-t-xl sm:rounded-t-2xl",children:u.jsx("img",{src:(()=>{var tt,at;const ne=((at=(tt=oe.images)==null?void 0:tt[0])==null?void 0:at.url)||oe.image||oe.image_path;return ne?ne.startsWith("http")||ne.startsWith("blob:")?ne:`${$i}${ne.startsWith("/")?"":"/"}${ne}`:ro})(),className:"w-full h-full object-cover",onError:ne=>ne.target.src=ro,alt:oe.name_en||oe.name})}),u.jsxs("div",{className:"p-2 sm:p-3 flex flex-col gap-0.5 flex-1",children:[u.jsxs("div",{className:"font-semibold text-[11px] sm:text-xs md:text-sm capitalize leading-tight text-[var(--text-primary)] line-clamp-2",children:[(Pe=oe.name_en||oe.name)==null?void 0:Pe.toLowerCase(),oe.name_ta&&u.jsxs("span",{className:"text-[var(--text-secondary)] font-normal",children:[" | ",oe.name_ta]})]}),u.jsxs("div",{className:"text-xs sm:text-sm md:text-base font-bold text-[var(--brand-primary)]",children:["",parseFloat(oe.price||oe.base_price||0).toFixed(2)]}),u.jsxs("div",{className:"flex items-center justify-between mt-auto pt-1.5 bg-[var(--surface-muted)] rounded-xl sm:rounded-2xl p-1 sm:p-1.5",children:[u.jsx("button",{onClick:ne=>{ne.stopPropagation(),Ge>0&&Ne(oe,-1,oe.id)},disabled:Ge===0,className:`w-16 h-16 sm:w-12 sm:h-12 md:w-14 md:h-14 flex items-center justify-center rounded-xl transition-all ${Ge>0?"bg-white text-[var(--text-primary)] shadow-sm hover:bg-gray-100 active:scale-95":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:u.jsx(Mm,{className:"w-10 h-10 sm:w-5 sm:h-5 md:w-6 md:h-6"})}),u.jsx("span",{className:"min-w-[2rem] text-center text-2xl sm:text-xl md:text-2xl font-bold text-[var(--text-primary)]",children:Ge}),u.jsx("button",{onClick:ne=>{ne.stopPropagation(),Ne(oe,1,oe.id)},className:"w-16 h-16 sm:w-12 sm:h-12 md:w-14 md:h-14 flex items-center justify-center rounded-xl bg-[var(--brand-primary)] text-white shadow-md hover:brightness-110 active:scale-95 transition-all",children:u.jsx(Oc,{className:"w-10 h-10 sm:w-5 sm:h-5 md:w-6 md:h-6"})})]})]})]},oe.id)})}),R==="list"&&u.jsx("div",{className:"space-y-2 pb-24",children:e.map((oe,Le)=>{var Pe;const Ge=de[oe.id]||0;return u.jsxs("div",{style:{animationDelay:`${Math.min(Le*40,600)}ms`},className:"opacity-0 animate-slide-up flex items-center gap-4 py-3 border-b border-[var(--border-default)] transition-all",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden shrink-0 bg-[var(--surface-muted)]",children:u.jsx("img",{src:(()=>{var tt,at;const ne=((at=(tt=oe.images)==null?void 0:tt[0])==null?void 0:at.url)||oe.image||oe.image_path;return ne?ne.startsWith("http")||ne.startsWith("blob:")?ne:`${$i}${ne.startsWith("/")?"":"/"}${ne}`:ro})(),className:"w-full h-full object-cover",onError:ne=>ne.target.src=ro,alt:oe.name_en||oe.name})}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsxs("div",{className:"flex flex-wrap items-baseline gap-x-1",children:[u.jsx("span",{className:"font-semibold text-sm sm:text-base text-[var(--text-primary)] capitalize",children:(Pe=oe.name_en||oe.name)==null?void 0:Pe.toLowerCase()}),oe.name_ta&&u.jsxs("span",{className:"text-xs sm:text-sm text-[var(--text-secondary)]",children:["| ",oe.name_ta]}),u.jsx("span",{className:"text-xs sm:text-sm text-[var(--text-secondary)]",children:"|"}),u.jsxs("span",{className:"font-bold text-sm sm:text-base text-[var(--brand-primary)]",children:["",parseFloat(oe.price||oe.base_price||0).toFixed(2)]})]})}),u.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[u.jsx("button",{onClick:()=>{Ge>0&&Ne(oe,-1,oe.id)},disabled:Ge===0,className:`w-10 h-10 flex items-center justify-center rounded-lg text-lg font-bold transition-all ${Ge>0?"bg-[var(--surface-muted)] text-[var(--text-primary)] hover:bg-gray-200 active:scale-95":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:""}),u.jsx("span",{className:"min-w-[2rem] text-center text-lg font-bold text-[var(--text-primary)]",children:Ge}),u.jsx("button",{onClick:()=>Ne(oe,1,oe.id),className:"w-10 h-10 flex items-center justify-center rounded-lg bg-[var(--brand-primary)] text-white text-lg font-bold shadow-md hover:brightness-110 active:scale-95 transition-all",children:"+"})]})]},oe.id)})}),x>1&&u.jsxs("div",{className:"mt-8 flex flex-col md:flex-row items-center justify-between gap-6 border-t border-[var(--border-default)] pt-8",children:[u.jsxs("div",{className:"text-xs sm:text-sm font-medium text-[var(--text-secondary)]",children:["Showing ",u.jsxs("span",{className:"text-[var(--text-primary)]",children:[(m-1)*S+1,"",Math.min(m*S,j)]})," of ",u.jsx("span",{className:"text-[var(--brand-primary)] font-black",children:j})," records"]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 justify-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>p(Math.max(1,m-1)),disabled:m===1,className:"px-4 h-10 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-muted)] border border-[var(--border-default)] transition-all shadow-sm font-medium text-[10px] uppercase text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:[u.jsx(Kl,{size:16})," Back"]}),u.jsx("div",{className:"flex items-center gap-1.5",children:Array.from({length:x},(oe,Le)=>Le+1).map(oe=>{const Le=m===oe;return x>5&&oe>1&&oe<x&&Math.abs(oe-m)>1?oe===2||oe===x-1?u.jsx("span",{className:"px-1 text-[var(--text-secondary)]",children:"..."},oe):null:u.jsx("button",{onClick:()=>p(oe),className:`w-10 h-10 flex items-center justify-center rounded-xl text-xs font-black transition-all border
                            ${Le?"bg-[var(--brand-primary)] border-[var(--brand-primary)] text-[var(--text-inverse)] shadow-lg shadow-[var(--brand-primary)]/20 scale-105":"bg-[var(--surface-muted)] border-[var(--border-default)] text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:oe},oe)})}),u.jsxs("button",{onClick:()=>p(Math.min(x,m+1)),disabled:m===x,className:"px-4 h-10 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-muted)] border border-[var(--border-default)] transition-all shadow-sm font-medium text-[10px] uppercase text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:["Next ",u.jsx(Zl,{size:16})]})]}),u.jsxs("div",{className:"relative shrink-0",children:[u.jsxs("button",{onClick:oe=>{oe.stopPropagation(),D(!T)},className:`bg-[var(--surface-muted)] border border-[var(--border-default)] rounded-xl px-4 py-2.5 text-[11px] font-black uppercase tracking-widest text-[var(--brand-primary)] cursor-pointer outline-none transition-all shadow-sm flex items-center justify-center gap-2 min-w-[120px] hover:bg-[var(--surface-card)]
                      ${T?"border-[var(--brand-primary)]/50 bg-[var(--surface-card)]":""}`,children:[S," Pages",u.jsx(Gl,{size:14,className:`transition-transform duration-300 ${T?"rotate-180":""}`})]}),T&&u.jsx("div",{className:"absolute bottom-full left-0 mb-3 w-full bg-[var(--surface-card)] border border-[var(--border-default)] rounded-2xl shadow-2xl z-[100] py-1.5 overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-300",children:[10,20,50,100].map(oe=>u.jsxs("button",{onClick:()=>{N(oe),p(1),D(!1)},className:`w-full py-3 px-4 text-center text-[10px] font-black uppercase tracking-widest transition-all
                            ${S===oe?"bg-[var(--brand-primary)] text-[var(--text-inverse)]":"text-[var(--text-secondary)] hover:bg-[var(--surface-muted)] hover:text-[var(--text-primary)]"}`,children:[oe," Pages"]},oe))})]})]})]})]})})})},SB=()=>{const{selectedUnit:e,selectedProducts:t,calculatePerDayTotal:r,setCurrentOrder:n,setProductQuantity:a}=V5(),{user:i}=Xi(),c=Wa(),{isDark:f}=bi(),m=ee=>{const Se=ee.getFullYear(),le=String(ee.getMonth()+1).padStart(2,"0"),U=String(ee.getDate()).padStart(2,"0");return`${Se}-${le}-${U}`},p=ee=>{const Se=new Date;Se.setHours(0,0,0,0);const le=new Date(ee);if(le.setHours(0,0,0,0),le.getDay()===0||le<Se)return!0;if(le.getTime()===Se.getTime()){const U=new Date;if(U.getHours()>11||U.getHours()===11&&U.getMinutes()>=30)return!0}return!1};I.useEffect(()=>{console.log(" Current Cart in Summary:",t)},[t]);const[x,y]=I.useState(!1),[S,N]=I.useState(null),[j,_]=I.useState(!1),[T,D]=I.useState((i==null?void 0:i.emp_code)||""),[R,z]=I.useState({street:"",city:"",state:"",pincode:"",country:"India",phone:""}),[G,$]=I.useState(!1),[X,V]=I.useState(!1),[Y,W]=I.useState(()=>{const ee=new Date;return p(ee)?[]:[m(ee)]}),[Ne,Z]=I.useState(new Date),[Q,ye]=I.useState(m(new Date)),ie=async ee=>{if(!(!ee||ee.length<2))try{V(!0);const Se=await qt.get(`/employees/?search=${ee}&limit=1000`);let le=[];Se.data&&Array.isArray(Se.data.employees)?le=Se.data.employees:Se.data&&Se.data.data&&(le=Se.data.data);const U=le.find(H=>H.emp_code&&String(H.emp_code).toLowerCase()===String(ee).toLowerCase()||H.username&&String(H.username).toLowerCase()===String(ee).toLowerCase())||le[0];U&&z({street:[U.address,U.address_line_2].filter(Boolean).join(", ")||U.work_location||U.base_location||"",city:U.city||U.district||"",state:U.perm_state||U.state||"",pincode:U.pincode||"",country:U.perm_country||U.country||"India",phone:U.mobile||U.phone||""})}catch(Se){console.error("Error looking up employee:",Se)}finally{V(!1)}};I.useEffect(()=>{const ee=setTimeout(()=>{T&&T.length>=2&&ie(T)},1e3);return()=>clearTimeout(ee)},[T]),I.useEffect(()=>{if(window.Razorpay){_(!0);return}const ee=document.createElement("script");ee.src="https://checkout.razorpay.com/v1/checkout.js",ee.async=!0,ee.onload=()=>_(!0),ee.onerror=()=>alert("Failed to load payment gateway. Refresh the page."),document.head.appendChild(ee)},[]);const q=async ee=>{if(ee)try{await qt.post(`/orders/${ee}/cancel`)}catch(Se){console.error("Cancel order failed:",Se)}},te=async()=>{var le,U,H,ae,ge;if(t.length===0){alert("Please select at least one product"),c("/kiosk/products");return}if(Y.length===0){alert("Please select at least one date");return}const ee=T.trim()||`KIOSK-${Date.now()}`;if(!j){alert("Payment gateway is loading. Please wait...");return}y(!0);let Se=null;try{const ve=t.flatMap(Ut=>Array(Ut.quantity||1).fill(Number(Ut.id))),de=R.street?`${R.street}, ${R.city}, ${R.state}, ${R.pincode}, ${R.country} - Phone: ${R.phone}`.trim().replace(/^, |, $/g,""):"Kiosk Pickup",me=Number(r())*Y.length,xe={item_ids:ve,payment_mode:"UPI",code:ee,total_amount:me,emp_code:(i==null?void 0:i.emp_code)||"ADMIN01",unit_id:(e==null?void 0:e.id)||(i==null?void 0:i.unit_id)||((le=t[0])==null?void 0:le.unit_id)||1,delivery_address:de,phone:R.phone||"0000000000",customer_phone:R.phone||"0000000000",employeeCode:(i==null?void 0:i.emp_code)||"ADMIN01",deliveryAddress:de,orderDate:Y[0],selectedDates:Y},oe=(await qt.post("/orders",xe)).data,Le=(oe==null?void 0:oe.order_id)||((U=oe==null?void 0:oe.order)==null?void 0:U.id)||((H=oe==null?void 0:oe.data)==null?void 0:H.id)||(oe==null?void 0:oe.id),Ge=(oe==null?void 0:oe.order)||(oe==null?void 0:oe.data)||oe;if(!Le)throw console.error(" Order ID extraction failed:",oe),new Error("Failed to create order - ID missing");N(Le),Se=Ge,Se&&(Se.id||(Se.id=Le),Se.code||(Se.code=ee),Se.total_amount||(Se.total_amount=Number(r())*Y.length)),n(Se);const Pe=Math.round(Number(r())*Y.length*100),ne=await qt.post(`/orders/${Le}/create-razorpay-order`,{order_id:Le,amount:Pe,order_code:ee});console.log("Razorpay Response Data:",ne.data);const{razorpay_order_id:tt,order_id:at,amount:Be,key:Ze,key_id:Fe,razorpay_key:rt}=ne.data,At=Ze||Fe||rt,Ht=tt||at;if(!At)throw console.error(" Razorpay Key is missing from server response:",ne.data),new Error("Payment initialization failed: API Key missing");if(!Ht)throw console.error(" Razorpay Order ID is missing from server response:",ne.data),new Error("Payment initialization failed: Order ID missing");const Yt=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.startsWith("192.168"),Jt={key:At,amount:Be,currency:"INR",name:"CMS",image:"",description:`Order #${Le} - ${ee}`,order_id:Ht,handler:async Ut=>{var ir,Wt,Ar,zt,Pn;try{if(console.log(" Razorpay Handler Response:",Ut),console.log(" Payment ID:",Ut.razorpay_payment_id),console.log(" Order ID:",Ut.razorpay_order_id),console.log(" Signature:",Ut.razorpay_signature),!Ut.razorpay_payment_id||!Ut.razorpay_order_id||!Ut.razorpay_signature)throw console.error(" Missing required Razorpay response fields:",{payment_id:!!Ut.razorpay_payment_id,order_id:!!Ut.razorpay_order_id,signature:!!Ut.razorpay_signature}),new Error("Incomplete payment response from Razorpay");const Vt={razorpay_payment_id:Ut.razorpay_payment_id,razorpay_order_id:Ut.razorpay_order_id,razorpay_signature:Ut.razorpay_signature};console.log(" Sending verification payload:",Vt);const Et=await qt.post(`/orders/${Le}/verify-razorpay`,Vt);console.log(" Verification Response:",Et.data);const er=(ir=Et.data)==null?void 0:ir.qrImage,Qt=Et.data;y(!1),N(null),c("/kiosk/success",{state:{order:((Wt=Et.data)==null?void 0:Wt.order)||{id:Le,code:ee,total_amount:Number(r())},qrImage:er,paymentDetails:Qt}})}catch(Vt){console.error(" Payment verification failed:",((Ar=Vt.response)==null?void 0:Ar.data)||Vt),console.error(" Full error object:",Vt),y(!1),N(null),alert(`Payment verification failed: ${((Pn=(zt=Vt.response)==null?void 0:zt.data)==null?void 0:Pn.error)||Vt.message}`)}},prefill:{contact:"9999999999",email:"admin@cms.com",vpa:"success@razorpay"},display:{blocks:{upi:{name:"UPI",instruments:[{method:"upi",types:["qr"]}]},...Yt?{}:{googlepay:{name:"Google Pay",instruments:[{method:"googlepay"}]}},netbanking:{name:"Net Banking",instruments:[{method:"netbanking"}]}},sequence:Yt?["block.upi","block.netbanking"]:["block.upi","block.googlepay","block.netbanking"],preferences:{show_default_blocks:!0}},modal:{ondismiss:async()=>{await q(Le),y(!1),N(null)}},theme:{color:"#fac639"}};if(typeof window.Razorpay>"u")throw new Error("Razorpay script not loaded properly");new window.Razorpay(Jt).open()}catch(ve){console.error("Payment Initiation Error:",ve),y(!1),N(null);const de=Se||{};de.id&&await q(de.id),alert(((ge=(ae=ve.response)==null?void 0:ae.data)==null?void 0:ge.error)||"Payment failed")}},se=r(),ue=x;return x&&S?u.jsx(ko,{children:u.jsx(Vs,{})}):u.jsx(ko,{children:u.jsx("div",{className:"min-h-screen flex items-start sm:items-center justify-center overflow-y-auto p-2 sm:p-6 bg-[var(--surface-main)] text-[var(--text-primary)] no-scrollbar",children:u.jsxs("div",{className:"w-full max-w-lg md:max-w-4xl p-3 sm:p-6 md:p-10 rounded-3xl shadow-xl transition-all duration-300 bg-[var(--surface-card)] border border-[var(--border-default)] animate-scale-in",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-4 sm:mb-10",children:[u.jsx("button",{onClick:()=>c("/kiosk/products"),className:"p-2 rounded-xl transition-all active:scale-95 bg-[var(--surface-muted)] text-[var(--text-primary)] hover:bg-[var(--surface-main)]",children:u.jsx(qg,{size:24})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h1",{className:"text-xl sm:text-3xl md:text-4xl font-bold truncate text-[var(--text-primary)]",children:"Order Summary"}),u.jsx("p",{className:"text-[10px] sm:text-xs md:text-sm truncate text-[var(--text-secondary)]",children:"Review details and proceed to payment"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-start",children:[u.jsxs("div",{className:"bg-[var(--surface-main)] rounded-[2rem] p-6 border border-[var(--border-default)] shadow-sm transition-colors duration-200",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("button",{onClick:()=>Z(new Date(Ne.setMonth(Ne.getMonth()-1))),className:"w-10 h-10 flex items-center justify-center text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--surface-muted)] rounded-full transition-colors",children:u.jsx(Kl,{className:"text-xl"})}),u.jsx("span",{className:"text-xl font-bold text-[var(--text-primary)]",children:Ne.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),u.jsx("button",{onClick:()=>Z(new Date(Ne.setMonth(Ne.getMonth()+1))),className:"w-10 h-10 flex items-center justify-center text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--surface-muted)] rounded-full transition-colors",children:u.jsx(Zl,{className:"text-xl"})})]}),u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs("label",{className:"flex items-center gap-3 text-sm font-medium text-[var(--text-secondary)] cursor-pointer hover:text-[var(--brand-primary)] transition-colors",children:[u.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-300 text-[var(--brand-primary)] focus:ring-[var(--brand-primary)]",checked:(()=>{const ee=Ne.getFullYear(),Se=Ne.getMonth(),le=new Date(ee,Se+1,0).getDate();let U=0,H=0;for(let ae=1;ae<=le;ae++){const ge=new Date(ee,Se,ae);if(!p(ge)){U++;const ve=m(ge);Y.includes(ve)&&H++}}return U>0&&U===H})(),onChange:ee=>{const Se=Ne.getFullYear(),le=Ne.getMonth(),U=new Date(Se,le+1,0).getDate();if(ee.target.checked){const H=new Set(Y);for(let ae=1;ae<=U;ae++){const ge=new Date(Se,le,ae);p(ge)||H.add(m(ge))}W(Array.from(H))}else{const H=[];for(let ae=1;ae<=U;ae++)H.push(m(new Date(Se,le,ae)));W(Y.filter(ae=>!H.includes(ae)))}}}),u.jsx("span",{children:"Select all"})]})}),u.jsx("div",{className:"grid grid-cols-7 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(ee=>u.jsx("div",{className:"text-center text-sm font-bold text-[var(--text-secondary)] py-2",children:ee},ee))}),u.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-2",children:(()=>{const ee=Ne.getFullYear(),Se=Ne.getMonth(),le=new Date(ee,Se,1).getDay(),U=new Date(ee,Se+1,0).getDate(),H=[];for(let ae=0;ae<le;ae++)H.push(u.jsx("div",{className:"h-9 sm:h-12"},`empty-${ae}`));for(let ae=1;ae<=U;ae++){const ge=new Date(ee,Se,ae),ve=m(ge),de=p(ge),ke=Y.includes(ve),me=ve===m(new Date);H.push(u.jsx("button",{disabled:de,onClick:()=>{de||W(ke?Y.filter(xe=>xe!==ve):[...Y,ve])},className:`h-9 sm:h-12 rounded-xl sm:rounded-2xl text-sm sm:text-lg font-bold transition-all flex items-center justify-center ${ke?"bg-[var(--brand-primary)] text-white shadow-lg shadow-[var(--brand-primary)]/30 scale-105":me&&!de?"text-[var(--brand-primary)] bg-[var(--brand-primary)]/10":de?"text-[var(--text-secondary)] opacity-30 cursor-not-allowed bg-[var(--surface-muted)]/50":"text-[var(--text-primary)] hover:bg-[var(--surface-muted)]"}`,children:ae},ae))}return H})()}),u.jsx("div",{className:"mt-8 pt-6 border-t border-[var(--border-default)]",children:u.jsxs("p",{className:"text-lg font-bold text-[var(--text-primary)]",children:["Selected days: ",u.jsx("span",{className:"font-black text-[2rem] ml-2",children:Y.length})]})})]}),u.jsxs("div",{className:"space-y-6",children:[t.length>0&&u.jsx("div",{className:"mb-6 space-y-3",children:t.map((ee,Se)=>u.jsxs("div",{className:"flex justify-between items-center text-sm p-3 rounded-2xl bg-[var(--surface-card)] border border-[var(--border-default)] group",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>a(ee,0),className:"p-1.5 rounded-full bg-red-50 text-red-500 hover:bg-red-100 transition-colors","aria-label":"Remove item",children:u.jsx(Jo,{size:14})}),u.jsxs("div",{className:"font-bold text-[var(--text-primary)] break-words min-w-0",children:[ee.name_en||ee.name_ta||ee.name||"Item",u.jsxs("span",{className:"text-[var(--brand-primary)] ml-2 whitespace-nowrap",children:["x",ee.quantity]})]})]}),u.jsxs("div",{className:"font-bold whitespace-nowrap ml-2",children:["",(ee.price||ee.base_price)*ee.quantity]})]},Se))}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-6 rounded-[2rem] bg-white border border-[var(--border-default)] flex flex-col items-center justify-center text-center shadow-sm",children:[u.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-[var(--text-secondary)] mb-2",children:"Per Day Total"}),u.jsxs("span",{className:"text-2xl font-black text-[var(--brand-primary)]",children:["",se.toFixed(2)]})]}),u.jsxs("div",{className:"p-6 rounded-[2rem] bg-white border border-[var(--border-default)] flex flex-col items-center justify-center text-center shadow-sm",children:[u.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-[var(--text-secondary)] mb-2",children:"Selected Days"}),u.jsx("span",{className:"text-2xl font-black text-[var(--text-primary)]",children:Y.length})]})]}),u.jsxs("div",{className:"p-6 sm:p-8 rounded-[2rem] flex flex-col items-center justify-center border-2 border-dashed bg-[var(--surface-muted)] border-[var(--border-default)]",children:[u.jsx("span",{className:"text-xs font-black opacity-50 mb-2 uppercase tracking-[0.3em] text-[var(--text-secondary)]",children:"Grand Total"}),u.jsxs("div",{className:"text-4xl sm:text-5xl md:text-6xl font-black text-[var(--text-primary)] tracking-tighter",children:["",(se*Y.length).toFixed(0)]})]}),u.jsx("button",{onClick:te,disabled:ue||Y.length===0,className:"w-full py-5 text-lg font-bold rounded-xl shadow-xl transform transition-all active:scale-[0.98] bg-[var(--brand-primary)] text-[var(--text-inverse)] hover:brightness-110 shadow-[var(--brand-primary)]/30 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Processing...":`Continue (${Y.length} days)`})]})]})]})})})},EB=()=>{const e=Da.c(4),t=Wa();let r,n;e[0]!==t?(r=()=>{t("/kiosk/calendar",{replace:!0})},n=[t],e[0]=t,e[1]=r,e[2]=n):(r=e[1],n=e[2]),I.useEffect(r,n);let a;return e[3]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx(ko,{children:u.jsx("div",{className:"min-h-screen p-4 sm:p-6 md:p-8",children:u.jsx("div",{className:"max-w-3xl mx-auto",children:u.jsx(Vs,{})})})}),e[3]=a):a=e[3],a},Xj="/assets/success-Bo-zDMi7.gif",CB=({bill:e,order:t,initialQr:r})=>{const[n,a]=I.useState(null),[i,c]=I.useState(!1);return I.useEffect(()=>{let f=!0;return(async()=>{if(!(!(t!=null&&t.id)||!(e!=null&&e.id))){f&&c(!0);try{const p=await qt.get(`/orders/${t.id}/qr?bill_id=${e.id}`,{validateStatus:x=>x<500});if(p.status===200){const x=p.data||{};let y=x.qrImage||x.qr_code||x.qr||(typeof x=="string"?x:null);if(x.items&&Array.isArray(x.items)){const S=x.items.find(N=>N.bill_id===e.id);S&&(y=S.qrImage||S.qr_code||S.qr)}y&&typeof y=="string"&&!y.startsWith("data:")&&!y.startsWith("http")&&(y=`${$i}${y.startsWith("/")?"":"/"}${y}`),f&&a(y)}}catch{if(r&&f){let x=r;!x.startsWith("data:")&&!x.startsWith("http")&&(x=`${$i}${x.startsWith("/")?"":"/"}${x}`),a(x)}}finally{f&&c(!1)}}})(),()=>{f=!1}},[t.id,e.id,r]),u.jsxs("div",{className:"flex flex-col gap-3 p-4 bg-[var(--surface-card)] rounded-2xl border border-[var(--border-default)]",children:[u.jsxs("div",{className:"flex justify-between items-center text-xs",children:[u.jsxs("div",{children:[u.jsxs("span",{className:"font-bold opacity-80",children:["Bill #",e.id]}),u.jsx("span",{className:"text-[10px] opacity-60 ml-2",children:e.bill_date})]}),u.jsxs("span",{className:"font-mono font-bold",children:["",parseFloat(e.amount||0).toFixed(2)]})]}),(i||n)&&u.jsx("div",{className:"bg-white p-2 rounded-xl self-center shadow-sm border border-slate-50 animate-in zoom-in duration-300",children:i?u.jsx("div",{className:"w-20 h-20 flex items-center justify-center",children:u.jsx(io,{className:"animate-spin text-amber-500",size:16})}):u.jsx("img",{src:n,alt:"Bill QR",className:"w-20 h-20 object-contain"})})]})},_B=({layout:e})=>{const t=Wa(),r=kd(),{resetOrder:n}=V5(),{order:a,qrImage:i,printResults:c,printWarning:f,paymentDetails:m}=r.state||{},{isDark:p}=bi(),[x,y]=I.useState(30),[S,N]=I.useState(!1),[j,_]=I.useState(c||[]),[T,D]=I.useState(f||!1),R=ie=>!ie||typeof ie!="string"||ie.startsWith("data:")||ie.startsWith("http")?ie:`${$i}${ie.startsWith("/")?"":"/"}${ie}`,[z,G]=I.useState(()=>R(i||(m==null?void 0:m.qrImage)||null)),[$,X]=I.useState(!1),[V,Y]=I.useState(!1),[W,Ne]=I.useState((a==null?void 0:a.dayBills)||(m==null?void 0:m.dayBills)||[]);I.useEffect(()=>{console.log(" Payment Success Page Loaded"),console.log(" Order Data:",a),console.log(" Day Bills:",W),console.log(" QR Image Available:",!!z),console.log(" Payment Details:",m)},[]);const Z=async ie=>{var te,se,ue,ee;const q=ie||(a==null?void 0:a.id);if(q&&!V){X(!0);try{const Se=await qt.get(`/orders/${q}/qr`);(te=Se.data)!=null&&te.is_used?(Y(!0),G(null)):((se=Se.data)!=null&&se.qrImage||(ue=Se.data)!=null&&ue.qr||(ee=Se.data)!=null&&ee.qr_code)&&G(R(Se.data.qrImage||Se.data.qr||Se.data.qr_code))}catch(Se){console.error("Error fetching QR Code:",Se)}finally{X(!1)}}},Q=()=>{n(),t("/kiosk/products")},ye=async()=>{var ie,q,te,se;if(!(!a||S)){N(!0),_([]),D(!1);try{const ue=W||[],ee=a.id;if(ue.length===0){console.warn("No dayBills found in order for auto-printing:",a),N(!1);return}const Se=[];for(const le of ue){if(!le||!le.id){console.warn("Skipping bill with missing identity:",le);continue}let U=!1,H="";try{await qt.post(`/orders/${ee}/bills/${le.id}/print`),U=!0}catch(ae){console.warn(`Standard print failed for bill ${le.id}, trying V2...`,(ie=ae.response)==null?void 0:ie.data);try{await qt.post(`/orders/${ee}/bills/${le.id}/print`),U=!0}catch(ge){console.error(`V2 print also failed for bill ${le.id}:`,(q=ge.response)==null?void 0:q.data),H=((se=(te=ge.response)==null?void 0:te.data)==null?void 0:se.error)||ge.message}}Se.push({billId:le.id,success:U,error:H})}_(Se),Se.some(le=>!le.success)&&D(!0)}catch(ue){console.error("Print process failed:",ue)}finally{N(!1)}}};return I.useEffect(()=>{if(a&&a.id){ye(),Z(a.id);const ie=setInterval(()=>{V||Z(a.id)},4e3);return()=>clearInterval(ie)}},[a==null?void 0:a.id,V]),I.useEffect(()=>{a&&a.id&&n();const ie=setInterval(()=>{y(q=>q<=1?(clearInterval(ie),Q(),0):q-1)},1e3);return()=>clearInterval(ie)},[]),u.jsx(Layout,{children:u.jsx("div",{className:"min-h-screen flex items-start sm:items-center justify-center overflow-y-auto p-4 sm:p-6 md:p-8 bg-[var(--surface-main)] text-[var(--text-primary)] no-scrollbar",children:u.jsxs("div",{className:"animate-scale-in rounded-2xl shadow-2xl p-6 sm:p-8 md:p-12 max-w-2xl w-full text-center border bg-[var(--surface-card)] border-[var(--border-default)]",children:[u.jsx("img",{src:Xj,alt:"Success",className:"h-24 sm:h-32 mx-auto mb-4 sm:mb-6 animate-scale-in"}),u.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-3 sm:mb-4 tracking-tight text-[var(--brand-primary)] animate-fade-in",children:"Payment Successful!"}),u.jsxs("div",{className:"mb-8 p-4 rounded-xl bg-emerald-500/5 border border-emerald-500/20 text-emerald-500 flex items-center justify-center gap-2 mx-auto w-fit animate-slide-up stagger-1 opacity-0",style:{animationDelay:"100ms",animationFillMode:"forwards"},children:[u.jsx(hf,{className:"text-xl"}),u.jsx("span",{className:"font-semibold uppercase tracking-wider text-sm",children:"Order Confirmed"})]}),T&&u.jsxs("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg bg-red-500/10 border border-red-400/40 text-red-600 animate-slide-up",children:[u.jsx("p",{className:"text-sm font-semibold",children:" Printing failed for some bills."}),u.jsx("p",{className:"text-xs mt-1 opacity-80",children:"The order is saved. Please contact the counter for manual bill."})]}),a&&u.jsxs("div",{className:"mb-8 p-6 rounded-2xl bg-[var(--surface-muted)]/30 border border-[var(--border-default)] space-y-4 text-left animate-slide-up stagger-2 opacity-0",style:{animationDelay:"200ms",animationFillMode:"forwards"},children:[u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsx("span",{className:"opacity-60 font-medium tracking-tight text-[var(--text-secondary)]",children:"Order ID:"}),u.jsx("span",{className:"font-black text-lg text-[var(--brand-primary)] uppercase font-mono tracking-widest",children:a.id||a.code||"N/A"})]}),W&&W.length>0&&u.jsxs("div",{className:"border-t border-b border-[var(--border-default)] py-4 space-y-4",children:[u.jsxs("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-40",children:["Individual Day Vouchers (",W.length,")"]}),W.map((ie,q)=>u.jsx(CB,{bill:ie,order:a,initialQr:z},ie.id||q))]}),u.jsxs("div",{className:"border-t border-b border-[var(--border-default)] py-4 space-y-2",children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-40 mb-2",children:"Items Purchased"}),(a.v2Items||(W==null?void 0:W.flatMap(ie=>ie.v2Items||[]))||[]).map((ie,q)=>u.jsxs("div",{className:"flex justify-between items-center text-xs",children:[u.jsxs("span",{className:"font-bold opacity-80",children:[ie.product_name||ie.name||"Item"," x ",ie.quantity||1]}),u.jsxs("span",{className:"font-mono",children:["",parseFloat(ie.price||0).toFixed(2)]})]},q))]}),u.jsxs("div",{className:"flex justify-between items-center text-sm pt-2",children:[u.jsx("span",{className:"opacity-60 font-medium tracking-tight text-[var(--text-secondary)]",children:"Total Amount:"}),u.jsxs("span",{className:"font-black text-xl text-[var(--text-primary)]",children:["",a.total_amount?parseFloat(a.total_amount).toFixed(2):"0.00"]})]})]}),u.jsx("div",{className:"mb-8 flex flex-col items-center animate-slide-up stagger-3 opacity-0",style:{animationDelay:"300ms",animationFillMode:"forwards"},children:u.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-[2.5rem] shadow-2xl border border-slate-100 flex flex-col items-center group relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-[var(--brand-primary)]/5 rounded-full -mr-12 -mt-12 blur-2xl"}),u.jsx("p",{className:"text-[10px] font-black text-[var(--text-secondary)] uppercase tracking-[0.3em] mb-4 relative",children:"Digital Pick-up Receipt"}),$&&!z?u.jsxs("div",{className:"w-48 h-48 sm:w-60 sm:h-60 bg-slate-50 rounded-3xl flex flex-col items-center justify-center animate-pulse gap-3 border-2 border-dashed border-slate-100",children:[u.jsx(io,{className:"animate-spin text-amber-500",size:32}),u.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Checking QR..."})]}):V?u.jsxs("div",{className:"w-48 h-48 sm:w-60 sm:h-60 bg-rose-50 rounded-3xl flex flex-col items-center justify-center border-2 border-rose-100 p-6 text-center animate-in fade-in zoom-in duration-500",children:[u.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-full flex items-center justify-center mb-3 text-rose-500",children:u.jsx(hf,{size:24})}),u.jsx("p",{className:"text-xs font-black text-rose-600 uppercase tracking-widest",children:"QR already used"}),u.jsx("p",{className:"text-[9px] font-bold text-rose-400 mt-1",children:"Verified at counter"})]}):z?u.jsx("div",{className:"relative p-2 bg-white rounded-2xl border-2 border-slate-50 group-hover:border-amber-100 transition-all group-hover:scale-[1.02]",children:u.jsx("img",{src:z,alt:"Order QR",className:"w-48 h-48 sm:w-60 sm:h-60 object-contain rounded-xl"})}):u.jsx("div",{className:"w-48 h-48 sm:w-60 sm:h-60 bg-slate-50 rounded-3xl flex items-center justify-center border-2 border-dashed border-slate-200 text-center p-6",children:u.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"QR Preview Unavailable"})}),u.jsxs("div",{className:"mt-5 text-center",children:[u.jsx("p",{className:"text-[10px] font-black text-[var(--brand-primary)] uppercase tracking-widest",children:"Show this at the counter"}),u.jsx("div",{className:"h-1.5 w-12 bg-[var(--brand-primary)]/20 rounded-full mx-auto mt-2"})]})]})}),j.length>0&&u.jsxs("div",{className:"mb-10 p-5 rounded-2xl border border-[var(--border-default)] text-left bg-[var(--surface-muted)] animate-slide-up",children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-30 mb-4 pl-1",children:"Print Status Report"}),u.jsx("div",{className:"space-y-3",children:j.map((ie,q)=>u.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(od,{className:ie.success?"text-emerald-500":"text-gray-400"}),u.jsxs("span",{className:"font-medium opacity-80 uppercase tracking-tight",children:["Bill #",ie.billId||"N/A"]})]}),u.jsx("span",{className:`font-black tracking-tighter ${ie.success?"text-emerald-500":"text-rose-500"}`,children:ie.success?" SUCCESS":" FAILED"})]},q))})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center animate-slide-up stagger-4 opacity-0",style:{animationDelay:"400ms",animationFillMode:"forwards"},children:[u.jsx("button",{onClick:ye,disabled:S||!a,className:`flex-1 px-8 py-5 text-lg font-bold rounded-2xl transition-all flex items-center justify-center gap-3 ${S?"bg-[var(--surface-muted)] text-[var(--text-secondary)] cursor-not-allowed":"bg-[var(--text-primary)] text-[var(--surface-main)] hover:scale-[1.02] shadow-2xl active:scale-95"}`,children:S?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Processing..."]}):u.jsxs(u.Fragment,{children:[u.jsx(od,{}),"Retry Print"]})}),u.jsxs("button",{onClick:Q,className:"px-8 py-5 text-lg font-bold rounded-2xl transition-all border-2 border-[var(--border-default)] hover:bg-[var(--surface-muted)] text-[var(--text-primary)] flex items-center justify-center gap-3 active:scale-95 group",children:[u.jsx(Hj,{className:"group-hover:rotate-12 transition-transform"}),"Done (",x,"s)"]})]})]})})})},jB=({item:e,order:t,isDark:r,fetchedData:n})=>{var _,T,D;const[a,i]=I.useState(null),[c,f]=I.useState(!1),[m,p]=I.useState(!1);I.useEffect(()=>{let R=!0;return(async()=>{if(t!=null&&t.id){R&&f(!0);try{const G=e.bill_id||e.id;let $=`/orders/${t.id}/qr`;e.bill_id&&($=`/orders/${t.id}/qr?bill_id=${e.bill_id}`);const X=await qt.get($,{validateStatus:V=>V<500});if(X.status===200){const V=X.data||{};let Y=V.qrImage||V.qr_code||V.qr||(typeof V=="string"?V:null);if(V.items&&Array.isArray(V.items)){const W=V.items.find(Ne=>Ne.id===e.id||Ne.bill_id===e.bill_id);W&&(Y=W.qrImage||W.qr_code||W.qr)}Y&&typeof Y=="string"&&!Y.startsWith("data:")&&!Y.startsWith("http")&&(Y=`${$i}${Y.startsWith("/")?"":"/"}${Y}`),R&&i(Y)}}catch(G){console.warn("Individual QR fetch failed, using order fallback",G);const $=(n==null?void 0:n.qrImage)||(n==null?void 0:n.qr_code)||(n==null?void 0:n.qr);if($&&R){let X=$;!X.startsWith("data:")&&!X.startsWith("http")&&(X=`${$i}${X.startsWith("/")?"":"/"}${X}`),i(X)}}finally{R&&f(!1)}}})(),()=>{R=!1}},[t.id,e.id,e.bill_id,n]);const x=e.quantity||e.qty||1,y=!!e.bill_date,S=e.name||e.product_name||((_=e.product)==null?void 0:_.name_en)||((T=e.product)==null?void 0:T.name)||(y?`Voucher ${e.id}`:"Product"),N=e.price||e.amount||e.unit_price||((D=e.product)==null?void 0:D.price)||0,j=e.total_price||e.amount||parseFloat(N)*x;return!c&&!a?u.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-dashed border-[var(--border-default)] last:border-0",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-bold text-[var(--text-primary)] text-xs uppercase leading-tight truncate",children:S}),u.jsxs("span",{className:"text-[10px] opacity-40 font-bold uppercase",children:["Qty: ",x]})]}),u.jsxs("span",{className:"font-black text-[var(--text-primary)] text-xs",children:["",parseFloat(j).toFixed(2)]})]}):u.jsxs("div",{className:"p-4 rounded-3xl bg-[var(--surface-muted)]/40 border border-[var(--border-default)] flex flex-col items-center gap-3 transition-all hover:scale-[1.01] hover:bg-[var(--surface-muted)]/60",children:[u.jsxs("div",{className:"w-full flex justify-between items-start",children:[u.jsxs("div",{className:"flex flex-col min-w-0",children:[u.jsx("span",{className:"font-black text-[var(--text-primary)] text-sm uppercase leading-tight truncate",children:S}),u.jsxs("span",{className:"text-[10px] font-bold text-[var(--text-secondary)] opacity-60",children:["Qty: ",x,"  ",parseFloat(N).toFixed(2)]}),e.bill_date&&u.jsx("span",{className:"text-[9px] font-black text-[var(--brand-primary)] uppercase tracking-widest mt-1",children:e.bill_date})]}),u.jsxs("span",{className:"font-black text-[var(--text-primary)] text-sm shrink-0",children:["",parseFloat(j).toFixed(2)]})]}),(c||a)&&u.jsxs("div",{className:"flex flex-col items-center gap-2 mt-1 w-full animate-in fade-in duration-300",children:[u.jsx("div",{className:"bg-white p-3 rounded-2xl shadow-sm border border-slate-100",children:c?u.jsx("div",{className:"w-24 h-24 flex items-center justify-center",children:u.jsx(io,{className:"animate-spin text-[var(--brand-primary)]",size:20})}):u.jsx("img",{src:a,alt:"Item QR",className:"w-24 h-24 object-contain"})}),!c&&a&&u.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest opacity-40",children:"Scan to Pick Up"})]})]})},OB=({order:e,isDark:t,onRemove:r})=>{const[n,a]=I.useState(null),[i,c]=I.useState(!1);I.useEffect(()=>{let p=!0;const x=async()=>{var N,j,_;const S=String(e.status||"").toUpperCase();if(["DELIVERED","COMPLETED","PICKED_UP"].includes(S)){p&&r(e.id);return}p&&c(!0);try{const T=await qt.get(`/orders/${e.id}/qr`);p&&a(T.data),((N=T.data)!=null&&N.isUsed||(j=T.data)!=null&&j.is_used||((_=T.data)==null?void 0:_.status)==="DELIVERED")&&p&&r(e.id)}catch(T){console.warn("Order data fetch failed",T)}finally{p&&c(!1)}};x();const y=setInterval(x,1e4);return()=>{p=!1,clearInterval(y)}},[e.id]);const f=p=>{switch(String(p).toLowerCase()){case"paid":return"bg-emerald-50 text-emerald-600 border-emerald-100";case"pending":return"bg-amber-50 text-amber-600 border-amber-100";case"failed":case"unpaid":return"bg-rose-50 text-rose-600 border-rose-100";default:return"bg-slate-50 text-slate-600 border-slate-100"}},m=e.dayBills&&e.dayBills.length>0?e.dayBills:n!=null&&n.ordered_items&&n.ordered_items.length>0?n.ordered_items:n!=null&&n.items&&n.items.length>0?n.items:e.ordered_items&&e.ordered_items.length>0?e.ordered_items:e.Items&&e.Items.length>0?e.Items:[];return u.jsxs("div",{className:"p-6 rounded-[2.5rem] border-2 transition-all bg-[var(--surface-card)] border-[var(--border-default)] shadow-xl flex flex-col gap-4",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black uppercase text-[var(--text-secondary)] tracking-[0.2em] mb-1",children:"Order ID"}),u.jsxs("p",{className:"font-black text-[var(--brand-primary)] text-lg uppercase leading-none",children:["#",(n==null?void 0:n.order_id)||e.id]}),u.jsx("p",{className:"text-[9px] font-medium opacity-40 mt-1 uppercase tracking-tighter",children:new Date(e.createdAt).toLocaleString()})]}),u.jsx("div",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest border ${f(e.payment_status)}`,children:e.payment_status||"PENDING"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.3em] opacity-30 text-center",children:"Items & Vouchers"}),u.jsx("div",{className:"space-y-4",children:m.length>0?m.map((p,x)=>u.jsx(jB,{item:p,order:e,isDark:t,fetchedData:n},x)):u.jsx("div",{className:"text-center py-6 text-[10px] font-bold uppercase opacity-20 italic bg-[var(--surface-muted)]/20 rounded-3xl border border-dashed border-[var(--border-default)]",children:"Fetching vouchers..."})})]})]}),u.jsxs("div",{className:"pt-6 border-t border-dashed border-[var(--border-default)] flex justify-between items-center",children:[u.jsx("span",{className:"font-black uppercase tracking-[0.2em] text-[11px] text-[var(--text-secondary)]",children:"Price Amount:"}),u.jsxs("span",{className:"text-2xl font-black text-[var(--text-primary)]",children:["",parseFloat(e.total_amount||0).toFixed(2)]})]})]})},cS=({layout:e})=>{const t=Wa(),{user:r}=Xi(),{isDark:n}=bi(),[a,i]=I.useState([]),[c,f]=I.useState(!0),[m,p]=I.useState(null),[x,y]=I.useState(""),S=async()=>{var T;try{f(!0);const D=await qt.get("/orders");(T=D.data)!=null&&T.orders&&i(D.data.orders)}catch(D){console.error("Error fetching orders:",D),p("Failed to load your orders")}finally{f(!1)}};I.useEffect(()=>{S()},[]);const N=T=>{i(D=>D.filter(R=>R.id!==T))},j=a.filter(T=>{if(r!=null&&r.id&&T.user_id&&String(T.user_id)!==String(r.id))return!1;const D=String(T.status||"").toUpperCase(),R=String(T.delivery_status||"").toUpperCase(),z=String(T.payment_status||"").toUpperCase();if(z!=="PAID"&&z!=="SUCCESS"||["DELIVERED","COMPLETED","PICKED_UP"].includes(D)||["DELIVERED","COMPLETED"].includes(R))return!1;const G=x.toLowerCase();return String(T.code||"").toLowerCase().includes(G)||String(T.id).includes(G)}),_=u.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-xl transition-all bg-[var(--surface-muted)] hover:bg-[var(--surface-card)] text-[var(--text-primary)]",children:u.jsx(qg,{size:20})}),u.jsxs("h1",{className:"text-3xl font-black tracking-tight flex items-center gap-3 text-[var(--text-primary)]",children:[u.jsx(bd,{className:"text-[var(--brand-primary)]"})," My Orders"]})]}),u.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-6 py-3 bg-[var(--brand-primary)] text-[var(--text-inverse)] rounded-xl font-black text-sm shadow-lg hover:scale-[1.02] active:scale-95 transition-all",children:[u.jsx(io,{className:c?"animate-spin":""})," Refresh"]})]}),u.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:u.jsxs("div",{className:"relative w-full md:max-w-md group mx-auto md:mx-0",children:[u.jsx("input",{type:"text",placeholder:"Search by Order Code...",value:x,onChange:T=>y(T.target.value),className:`w-full px-10 sm:px-12 py-2.5 sm:py-3 text-center rounded-xl border transition-all outline-none font-bold text-xs sm:text-sm shadow-sm\r
                            bg-[var(--surface-card)] border-[var(--border-default)] text-[var(--text-primary)] focus:ring-2 focus:ring-[var(--brand-primary)]/20 focus:border-[var(--brand-primary)] hover:border-[var(--brand-primary)]/50`}),u.jsx(wd,{className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 transition-colors duration-300 text-[var(--text-secondary)] group-focus-within:text-[var(--brand-primary)]",size:18})]})}),c&&a.length===0?u.jsx(Vs,{}):j.length===0?u.jsxs("div",{className:"text-center py-20 opacity-30",children:[u.jsx(t1,{size:64,className:"mx-auto mb-4"}),u.jsx("p",{className:"text-xl font-bold uppercase tracking-widest",children:"No matching orders found"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 items-start",children:j.map(T=>u.jsx(OB,{order:T,isDark:n,onRemove:N},T.id))})]});return e?u.jsx(e,{children:u.jsx("div",{className:"min-h-screen transition-colors duration-300 bg-[var(--surface-main)] text-[var(--text-primary)] no-scrollbar",children:_})}):u.jsx("div",{className:"min-h-screen transition-colors duration-300 bg-[var(--surface-main)] text-[var(--text-primary)] no-scrollbar",children:_})},TB=({item:e,order:t,fetchedQrData:r})=>{var j,_,T,D,R,z;const[n,a]=I.useState(null),[i,c]=I.useState(!1);I.useEffect(()=>{let G=!0;return(async()=>{if(t!=null&&t.id){G&&c(!0);try{const X=e.bill_id||e.id;let V=`/orders/${t.id}/qr`;e.bill_id&&(V=`/orders/${t.id}/qr?bill_id=${e.bill_id}`);const Y=await qt.get(V,{validateStatus:W=>W<500});if(Y.status===200){const W=Y.data||{};let Ne=W.qrImage||W.qr_code||W.qr||(typeof W=="string"?W:null);if(W.items&&Array.isArray(W.items)){const Z=W.items.find(Q=>Q.id===e.id||Q.bill_id===e.bill_id);Z&&(Ne=Z.qrImage||Z.qr_code||Z.qr)}Ne&&typeof Ne=="string"&&!Ne.startsWith("data:")&&!Ne.startsWith("http")&&(Ne=`${$i}${Ne.startsWith("/")?"":"/"}${Ne}`),G&&a(Ne)}}catch(X){console.warn("Individual item QR fetch failed",X);const V=(r==null?void 0:r.qrImage)||(r==null?void 0:r.qr_code)||(r==null?void 0:r.qr);if(V&&G){let Y=V;!Y.startsWith("data:")&&!Y.startsWith("http")&&(Y=`${$i}${Y.startsWith("/")?"":"/"}${Y}`),a(Y)}}finally{G&&c(!1)}}})(),()=>{G=!1}},[t.id,e.id,e.bill_id,r]);const f=e.quantity||e.qty||1,m=!!e.bill_date,p=e.name||e.product_name||((j=e.product)==null?void 0:j.name_en)||((_=e.product)==null?void 0:_.name)||(m?`Voucher ${e.id}`:"Product"),x=e.price||e.amount||e.unit_price||((T=e.product)==null?void 0:T.price)||0,y=e.total_price||e.amount||parseFloat(x)*f,S=e.product_image||e.image||((D=e.Product)==null?void 0:D.image)||((R=e.product)==null?void 0:R.image)||((z=e.product)==null?void 0:z.image_path),N=S?S.startsWith("http")||S.startsWith("blob:")?S:`${$i}${S.startsWith("/")?"":"/"}${S}`:ro;return u.jsxs("div",{className:"p-4 rounded-3xl bg-[var(--surface-muted)]/40 border border-[var(--border-default)] flex flex-col items-center gap-4",children:[u.jsxs("div",{className:"w-full flex items-center gap-4",children:[u.jsxs("div",{className:"w-12 h-12 rounded-xl border bg-white overflow-hidden relative shadow-sm",children:[u.jsx("img",{src:N,alt:p,className:"w-full h-full object-cover",onError:G=>G.target.src=ro}),u.jsxs("div",{className:"absolute bottom-0 right-0 bg-black/60 text-white text-[8px] font-black px-1 py-0.5 rounded-tl-md",children:["x",f]})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-black text-sm uppercase leading-tight",children:p}),u.jsx("div",{className:"text-[10px] font-bold opacity-40",children:"ITEM VOUCHER"})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"font-black text-[var(--brand-primary)]",children:["",parseFloat(y).toFixed(2)]})})]}),(i||n)&&u.jsxs("div",{className:"bg-white p-3 rounded-2xl shadow-md border border-slate-100 flex flex-col items-center gap-2 mt-2 w-full animate-in zoom-in duration-300",children:[i?u.jsx("div",{className:"w-32 h-32 flex items-center justify-center",children:u.jsx(io,{className:"animate-spin text-[var(--brand-primary)]",size:24})}):u.jsx("img",{src:n,alt:"Item QR",className:"w-32 h-32 object-contain"}),!i&&n&&u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--text-secondary)] opacity-30",children:"Voucher QR"})]})]})},uS=({layout:e})=>{const{orderId:t}=G_(),r=Wa(),{isDark:n}=bi(),[a,i]=I.useState(null),[c,f]=I.useState(null),[m,p]=I.useState(null),[x,y]=I.useState(!1),[S,N]=I.useState(!0),[j,_]=I.useState(null),T=I.useRef(null),D=async(X=!1)=>{try{X||N(!0);const V=await qt.get(`/orders/${t}`),Y=V.data.order||V.data;i(Y);const W=["DELIVERED","COMPLETED","PICKED_UP"].includes(String(Y.status).toUpperCase())||Y.delivery_status&&["DELIVERED","COMPLETED"].includes(String(Y.delivery_status).toUpperCase());!c&&!x&&R()}catch(V){console.error("Error fetching order:",V),X||_("Failed to load order details.")}finally{X||N(!1)}},R=async()=>{try{let X;try{X=await qt.get(`/orders/${t}/qr`)}catch(W){if(W.response&&W.response.status===404){if(X=await qt.get(`/orders/${t}/qr`,{validateStatus:Ne=>Ne<500}),X.status===404){f(null),y(!0);return}if(X.status!==200)throw new Error(`Request failed with status ${X.status}`)}else throw W}const V=X.data||{};p(V);let Y=V.qrImage||V.qr_code||V.qr||(typeof V=="string"?V:null);Y&&typeof Y=="string"&&!Y.startsWith("data:")&&!Y.startsWith("http")&&(Y=`${$i}${Y.startsWith("/")?"":"/"}${Y}`),f(Y)}catch(X){console.error("Error fetching QR:",X)}},z=X=>String(X||"");I.useEffect(()=>(D(),T.current=setInterval(()=>{D(!0)},5e3),()=>{T.current&&clearInterval(T.current)}),[t]);const G=a&&(["DELIVERED","COMPLETED","PICKED_UP"].includes(z(a.status).toUpperCase())||a.delivery_status&&["DELIVERED","COMPLETED"].includes(z(a.delivery_status).toUpperCase())),$=e||ko;return S&&!a?u.jsx($,{children:u.jsx(Vs,{})}):j?u.jsx($,{children:u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-[var(--surface-main)] text-[var(--text-primary)]",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:j}),u.jsx("button",{onClick:()=>r("/kiosk/my-orders"),className:"px-6 py-2 bg-[var(--brand-primary)] text-[var(--text-inverse)] rounded-lg font-bold",children:"Go Back"})]})})}):a?u.jsx($,{children:u.jsx("div",{className:"min-h-screen transition-colors duration-300 bg-[var(--surface-main)] text-[var(--text-primary)] no-scrollbar",children:u.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 py-8",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx("button",{onClick:()=>r("/kiosk/my-orders"),className:"w-10 h-10 rounded-xl flex items-center justify-center transition-all border bg-[var(--surface-card)] border-[var(--border-default)] hover:bg-[var(--surface-muted)]",children:u.jsx(Kl,{size:20})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold uppercase tracking-tight",children:["Order #",(m==null?void 0:m.order_id)||a.id]}),u.jsx("p",{className:"text-xs opacity-60 font-medium uppercase tracking-widest",children:new Date(a.created_at||a.createdAt).toLocaleString()})]}),u.jsx("div",{className:`px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wider border
                    ${G?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-amber-500/10 text-amber-500 border-amber-500/20"}`,children:G?"Delivered":a.status})]}),u.jsxs("div",{className:"rounded-[2rem] overflow-hidden border shadow-xl bg-[var(--surface-card)] border-[var(--border-default)]",children:[u.jsxs("div",{className:"bg-gradient-to-br from-[var(--brand-primary)] to-[var(--brand-accent)] p-8 sm:p-12 text-center relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-black/10"}),u.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6",children:[G?u.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-8 rounded-3xl shadow-2xl animate-in zoom-in duration-500",children:[u.jsx("div",{className:"w-24 h-24 bg-emerald-500 rounded-full flex items-center justify-center text-white text-4xl mb-4 mx-auto shadow-lg shadow-emerald-500/30",children:u.jsx(hf,{})}),u.jsx("h2",{className:"text-xl font-black uppercase tracking-tight text-emerald-600",children:"Order Delivered!"}),u.jsx("p",{className:"text-sm font-medium text-slate-600 mt-1",children:"Thank you for shopping with us."})]}):c&&typeof c=="string"?u.jsx("div",{className:"bg-white p-4 rounded-3xl shadow-2xl animate-in zoom-in duration-300",children:c.startsWith("data:image")||c.startsWith("http")?u.jsx("img",{src:c,alt:"Order QR",className:"w-48 h-48 sm:w-64 sm:h-64 object-contain"}):u.jsx("div",{className:"w-48 h-48 sm:w-64 sm:h-64 flex items-center justify-center bg-gray-100 rounded-xl overflow-hidden",dangerouslySetInnerHTML:{__html:c}})}):u.jsx("div",{className:"w-48 h-48 sm:w-64 sm:h-64 bg-white/20 backdrop-blur-md rounded-3xl flex items-center justify-center animate-pulse",children:u.jsx(UR,{className:"text-white/40 text-6xl"})}),!G&&u.jsx("p",{className:"text-black/70 font-bold uppercase tracking-widest text-sm bg-white/20 px-4 py-2 rounded-full backdrop-blur-md",children:"Show this QR to collect order"})]})]}),u.jsxs("div",{className:"p-6 sm:p-8 space-y-6",children:[u.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest opacity-60",children:"Order Summary"}),u.jsx("div",{className:"space-y-4",children:(a.items&&a.items.length>0?a.items:m!=null&&m.ordered_items&&m.ordered_items.length>0?m.ordered_items:m!=null&&m.items&&m.items.length>0?m.items:a.ordered_items&&a.ordered_items.length>0?a.ordered_items:a.dayBills&&a.dayBills.length>0?a.dayBills.flatMap(V=>V.items||[]):a.Items&&a.Items.length>0?a.Items:[]).map((V,Y)=>u.jsx(TB,{item:V,order:a,fetchedQrData:m},Y))}),u.jsx("div",{className:"h-px bg-current opacity-10 my-4"}),u.jsxs("div",{className:"flex justify-between items-center text-lg font-black uppercase tracking-tight",children:[u.jsx("span",{children:"Total Paid"}),u.jsxs("span",{className:"text-[var(--brand-primary)]",children:["",parseFloat(a.total_amount||a.amount||0).toFixed(2)]})]}),a.delivery_address&&u.jsxs("div",{className:"mt-8 pt-6 border-t border-dashed border-[var(--border-default)]",children:[u.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest opacity-60 mb-3",children:"Delivery Address"}),u.jsx("div",{className:"p-4 rounded-2xl bg-[var(--surface-muted)] border border-[var(--border-default)]",children:u.jsx("p",{className:"text-sm font-medium leading-relaxed",children:a.delivery_address})})]})]})]})]})})}):null},kB=()=>{const e=Wa(),[t,r]=I.useState([]),[n,a]=I.useState(!0),i=async()=>{try{a(!0);const f=new Date,m=f.getFullYear(),p=f.getMonth()+1,x=await qt.get(`/menu/month?year=${m}&month=${p}`);let y=[];if(Array.isArray(x.data)?y=x.data:y=x.data.plans||x.data.plan||[],y.length>0||x.data&&x.data.success){const S=["January","February","March","April","May","June","July","August","September","October","November","December"],N=[],j=T=>T?T.startsWith("http")||T.startsWith("blob:")?T:`${$i}${T.startsWith("/")?"":"/"}${T}`:null;if(y.some(T=>T.meal_type&&(T.item||T.item_id))){const T={};y.forEach(R=>{const z=R.date;z&&(T[z]||(T[z]={dateStr:z,items:[]}),T[z].items.push(R))}),Object.keys(T).sort().forEach(R=>{const z=T[R],G=new Date(z.dateStr);if(isNaN(G.getTime()))return;const $=z.items,X=se=>$.filter(ue=>(ue.meal_type||"").toLowerCase()===se.toLowerCase()),V=se=>!se||se.length===0?"N/A":se.map(ue=>{var ee,Se;return((ee=ue.item)==null?void 0:ee.name_en)||((Se=ue.item)==null?void 0:Se.name_ta)||"Unknown"}).join(", "),Y=se=>{var Se,le;const ue=se.find(U=>{var H,ae;return((H=U.item)==null?void 0:H.image_path)||((ae=U.item)==null?void 0:ae.image)}),ee=((Se=ue==null?void 0:ue.item)==null?void 0:Se.image_path)||((le=ue==null?void 0:ue.item)==null?void 0:le.image);return j(ee)},W=X("Snack"),Ne=$.filter(se=>{const ue=(se.meal_type||"").toLowerCase();return ue.includes("snack")&&ue!=="snack"}),Z=[...W,...Ne];Z.sort((se,ue)=>se.id-ue.id);let Q=[],ye=[];Z.length===1?Q=[Z[0]]:Z.length>=2&&(Q=[Z[0]],ye=Z.slice(1));const ie=X("Breakfast"),q=X("Lunch"),te=X("Dinner");N.push({dayNum:G.getDate(),dateStr:`${G.getDate()} ${S[G.getMonth()]}`,dayName:G.toLocaleDateString("en-US",{weekday:"long"}).toUpperCase(),breakfast:V(ie),snack1:V(Q),lunch:V(q),snack2:V(ye),dinner:V(te),images:{breakfast:Y(ie),snack1:Y(Q),lunch:Y(q),snack2:Y(ye),dinner:Y(te)}})})}else y.some(D=>D.Date||D.date)&&(y.sort((D,R)=>new Date(D.Date||D.date)-new Date(R.Date||R.date)),y.forEach(D=>{const R=new Date(D.Date||D.date);isNaN(R.getTime())||N.push({dayNum:R.getDate(),dateStr:`${R.getDate()} ${S[R.getMonth()]}`,dayName:(D.Day||D.day||R.toLocaleDateString("en-US",{weekday:"long"})).toUpperCase(),breakfast:D.Breakfast||D.breakfast||"N/A",snack1:D.Snack1||D.snack1||"N/A",lunch:D.Lunch||D.lunch||"N/A",snack2:D.Snack2||D.snack2||"N/A",dinner:D.Dinner||D.dinner||"N/A",images:{breakfast:j(D.Breakfast_Image||D.Breakfast_image||D.breakfast_image),snack1:j(D.Snack1_Image||D.Snack1_image||D.snack1_image),lunch:j(D.Lunch_Image||D.Lunch_image||D.lunch_image),snack2:j(D.Snack2_Image||D.Snack2_image||D.snack2_image),dinner:j(D.Dinner_Image||D.Dinner_image||D.dinner_image)}})}));r(N)}}catch(f){console.error("Error fetching meal plan:",f)}finally{a(!1)}};I.useEffect(()=>{i()},[]);const c=[{id:"breakfast",label:"Breakfast",color:"amber"},{id:"snack1",label:"Mid-Day Snack",color:"emerald"},{id:"lunch",label:"Lunch",color:"orange"},{id:"snack2",label:"Evening Snack",color:"blue"},{id:"dinner",label:"Dinner",color:"indigo"}];return u.jsx(ko,{children:u.jsx("div",{className:"min-h-screen bg-[var(--surface-main)] flex flex-col no-scrollbar overflow-y-auto",children:u.jsxs("div",{className:"max-w-7xl mx-auto w-full px-4 sm:px-8 py-6 space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between gap-4 border-b border-[var(--border-default)] pb-6 sticky top-0 bg-[var(--surface-main)]/80 backdrop-blur-md z-[100] no-scrollbar",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:()=>e(-1),className:"w-14 h-14 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl bg-[var(--surface-card)] border border-[var(--border-default)] flex items-center justify-center text-[var(--text-primary)] hover:bg-[var(--brand-primary)] hover:text-white transition-all shadow-sm",children:u.jsx(Kl,{size:40})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-xl sm:text-3xl font-black text-[var(--text-primary)] uppercase tracking-tight flex items-center gap-2 sm:gap-3",children:[u.jsx("div",{className:"w-1 h-6 sm:w-1.5 sm:h-8 bg-[var(--brand-primary)] rounded-full shadow-[0_0_15px_rgba(250,198,57,0.3)]"}),"Meal Plan"]}),u.jsx("p",{className:"text-[9px] sm:text-xs font-bold text-[var(--text-secondary)] opacity-50 uppercase tracking-[0.2em] mt-0.5 ml-3 sm:ml-4",children:"30-Day Food Schedule"})]})]})}),n?u.jsx("div",{className:"h-[60vh] flex items-center justify-center",children:u.jsx("div",{className:"w-12 h-12 border-4 border-[var(--brand-primary)] border-t-transparent rounded-full animate-spin"})}):t.length===0?u.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center text-[var(--text-secondary)] gap-4 opacity-30",children:[u.jsx(bd,{size:64}),u.jsx("p",{className:"text-xl font-bold uppercase tracking-widest",children:"No meal plan published yet"})]}):u.jsxs("div",{className:"flex flex-col gap-8",children:[u.jsx("div",{className:"lg:hidden sticky top-[80px] z-[90] bg-[var(--surface-main)]/90 backdrop-blur-sm -mx-4 px-4 py-3 border-b border-[var(--border-default)]",children:u.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1 no-scrollbar",children:t.map(f=>u.jsxs("button",{onClick:()=>{var m;return(m=document.getElementById(`day-${f.dayNum}`))==null?void 0:m.scrollIntoView({behavior:"smooth",block:"center"})},className:"flex-shrink-0 px-4 py-2 rounded-full border border-[var(--border-default)] bg-[var(--surface-card)] text-[10px] font-black uppercase tracking-widest text-[var(--text-secondary)] active:bg-[var(--brand-primary)] active:text-white active:border-[var(--brand-primary)] shadow-sm transition-all whitespace-nowrap",children:["Day ",f.dayNum]},f.dayNum))})}),u.jsx("div",{className:"hidden lg:block rounded-[2.5rem] border border-[var(--border-default)] overflow-hidden bg-[var(--surface-card)] shadow-2xl shadow-black/5",children:u.jsx("div",{className:"overflow-x-auto no-scrollbar",children:u.jsxs("table",{className:"w-full text-left border-collapse min-w-[1200px]",children:[u.jsx("thead",{className:"sticky top-0 bg-[var(--surface-main)] backdrop-blur-xl z-20 border-b-2 border-[var(--brand-primary)]/20 shadow-sm",children:u.jsxs("tr",{children:[u.jsx("th",{className:"pl-10 pr-6 py-8 text-[11px] font-black uppercase tracking-widest text-[var(--brand-primary)]",children:"Schedule"}),c.map(f=>u.jsx("th",{className:"px-6 py-8 text-[11px] font-black uppercase tracking-widest text-[var(--text-primary)]",children:f.label},f.id)),u.jsx("th",{className:"pr-10 pl-6 py-8 text-[11px] font-black uppercase tracking-widest text-[var(--text-primary)]",children:"Gallery"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]/30",children:t.map((f,m)=>u.jsxs("tr",{className:"group hover:bg-[var(--brand-primary)]/[0.02] transition-all duration-300",children:[u.jsx("td",{className:"pl-10 pr-6 py-10",children:u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"w-14 h-14 rounded-2xl bg-[var(--surface-main)] border border-[var(--border-default)] flex items-center justify-center text-[var(--text-primary)] font-black text-lg group-hover:bg-[var(--brand-primary)] group-hover:text-white transition-all shadow-md group-hover:scale-105 shrink-0",children:f.dayNum}),u.jsxs("div",{className:"min-w-[120px]",children:[u.jsx("div",{className:"text-base font-black text-[var(--text-primary)] leading-tight",children:f.dateStr}),u.jsx("div",{className:"text-[10px] font-black text-[var(--text-secondary)] opacity-40 uppercase tracking-widest mt-0.5",children:f.dayName})]})]})}),c.map(p=>{var x;return u.jsx("td",{className:"px-6 py-10",children:u.jsxs("div",{className:"flex items-center gap-4",children:[(x=f.images)!=null&&x[p.id]?u.jsx("div",{className:"w-14 h-14 rounded-2xl overflow-hidden shadow-lg shrink-0 border border-[var(--border-default)] group-hover:scale-110 group-hover:rotate-3 transition-all duration-500",children:u.jsx("img",{src:f.images[p.id],className:"w-full h-full object-cover",alt:"Meal"})}):u.jsx("div",{className:"w-14 h-14 rounded-2xl bg-[var(--surface-main)] border border-[var(--border-default)] flex items-center justify-center shrink-0 opacity-20",children:u.jsx(iS,{size:24})}),u.jsxs("div",{className:"flex flex-col min-w-0",children:[u.jsx("span",{className:`text-[9px] font-black uppercase mb-1 tracking-tighter group-hover:opacity-100 opacity-40 transition-opacity text-${p.color}-500`,children:p.label}),u.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)] truncate max-w-[150px]",children:f[p.id]||"-"})]})]})},p.id)}),u.jsx("td",{className:"pr-10 pl-6 py-10",children:u.jsx("div",{className:"flex -space-x-4 isolate group-hover:-space-x-2 transition-all duration-500",children:c.filter(p=>{var x;return(x=f.images)==null?void 0:x[p.id]}).map((p,x)=>u.jsx("div",{className:"w-12 h-12 rounded-2xl border-4 border-[var(--surface-card)] overflow-hidden shadow-xl relative group/img transform hover:z-40 hover:-translate-y-2 hover:scale-150 transition-all cursor-zoom-in",children:u.jsx("img",{src:f.images[p.id],className:"w-full h-full object-cover",alt:"Meal"})},p.id))})})]},m))})]})})}),u.jsx("div",{className:"lg:hidden grid grid-cols-1 sm:grid-cols-2 gap-6 pb-20",children:t.map((f,m)=>u.jsxs("div",{id:`day-${f.dayNum}`,className:"bg-[var(--surface-card)] rounded-[2.5rem] border border-[var(--border-default)] p-6 space-y-6 shadow-xl shadow-black/[0.03] active:scale-[0.99] transition-all scroll-mt-32",children:[u.jsx("div",{className:"flex items-center justify-between border-b border-[var(--border-default)]/50 pb-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"w-14 h-14 rounded-2xl bg-[var(--brand-primary)] text-white flex items-center justify-center text-xl font-black shadow-[0_8px_20px_rgba(250,198,57,0.3)]",children:f.dayNum}),u.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-[var(--surface-main)] border border-[var(--border-default)] flex items-center justify-center",children:u.jsx(bd,{size:12,className:"text-[var(--brand-primary)]"})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-black text-[var(--text-primary)] text-lg tracking-tight uppercase leading-none mb-1",children:f.dateStr}),u.jsx("p",{className:"text-[11px] font-black text-[var(--text-secondary)] opacity-40 uppercase tracking-[0.2em]",children:f.dayName})]})]})}),u.jsx("div",{className:"space-y-3",children:c.map(p=>{var x;return u.jsxs("div",{className:"group relative flex items-center gap-4 bg-[var(--surface-main)] p-3 rounded-[1.5rem] border border-[var(--border-default)]/30 hover:border-[var(--brand-primary)]/40 transition-all overflow-hidden",children:[u.jsx("div",{className:`absolute inset-0 bg-${p.color}-500/5 opacity-0 group-hover:opacity-100 transition-opacity`}),(x=f.images)!=null&&x[p.id]?u.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden shrink-0 border border-[var(--border-default)]/50 shadow-lg group-hover:scale-105 transition-transform duration-500",children:u.jsx("img",{src:f.images[p.id],className:"w-full h-full object-cover",alt:p.label})}):u.jsx("div",{className:"w-16 h-16 rounded-xl bg-[var(--surface-card)] flex items-center justify-center shrink-0 border border-[var(--border-default)]/50",children:u.jsx(iS,{className:"text-[var(--text-secondary)] opacity-10",size:24})}),u.jsxs("div",{className:"flex-1 min-w-0 relative z-10",children:[u.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest text-${p.color}-500/80 mb-0.5 block`,children:p.label}),u.jsx("span",{className:"text-[14px] font-black text-[var(--text-primary)] leading-snug group-hover:text-[var(--brand-primary)] transition-colors line-clamp-2",children:f[p.id]||"Not Scheduled"})]})]},p.id)})})]},m))})]}),u.jsx("div",{className:"pt-10 pb-20 text-center border-t border-[var(--border-default)]",children:u.jsx("p",{className:"text-xs font-black text-[var(--text-secondary)] opacity-20 uppercase tracking-[0.5em]",children:"End of 30-Day Rotation Cycle"})})]})})})},IB="modulepreload",MB=function(e){return"/"+e},dS={},yb=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=Promise.allSettled(r.map(m=>{if(m=MB(m),m in dS)return;dS[m]=!0;const p=m.endsWith(".css"),x=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":IB,p||(y.as="script"),y.crossOrigin="",y.href=m,f&&y.setAttribute("nonce",f),document.head.appendChild(y),p)return new Promise((S,N)=>{y.addEventListener("load",S),y.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${m}`)))})}))}function i(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return a.then(c=>{for(const f of c||[])f.status==="rejected"&&i(f.reason);return t().catch(i)})};function Jn(e){"@babel/helpers - typeof";return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(e)}var qs=Uint8Array,Ko=Uint16Array,J5=Int32Array,Hg=new qs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vg=new qs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bb=new qs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Kj=function(e,t){for(var r=new Ko(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new J5(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},Zj=Kj(Hg,2),Qj=Zj.b,wb=Zj.r;Qj[28]=258,wb[258]=28;var Jj=Kj(Vg,0),DB=Jj.b,fS=Jj.r,Ab=new Ko(32768);for(var Ma=0;Ma<32768;++Ma){var rd=(Ma&43690)>>1|(Ma&21845)<<1;rd=(rd&52428)>>2|(rd&13107)<<2,rd=(rd&61680)>>4|(rd&3855)<<4,Ab[Ma]=((rd&65280)>>8|(rd&255)<<8)>>1}var Cc=function(e,t,r){for(var n=e.length,a=0,i=new Ko(t);a<n;++a)e[a]&&++i[e[a]-1];var c=new Ko(t);for(a=1;a<t;++a)c[a]=c[a-1]+i[a-1]<<1;var f;if(r){f=new Ko(1<<t);var m=15-t;for(a=0;a<n;++a)if(e[a])for(var p=a<<4|e[a],x=t-e[a],y=c[e[a]-1]++<<x,S=y|(1<<x)-1;y<=S;++y)f[Ab[y]>>m]=p}else for(f=new Ko(n),a=0;a<n;++a)e[a]&&(f[a]=Ab[c[e[a]-1]++]>>15-e[a]);return f},Ad=new qs(288);for(var Ma=0;Ma<144;++Ma)Ad[Ma]=8;for(var Ma=144;Ma<256;++Ma)Ad[Ma]=9;for(var Ma=256;Ma<280;++Ma)Ad[Ma]=7;for(var Ma=280;Ma<288;++Ma)Ad[Ma]=8;var r1=new qs(32);for(var Ma=0;Ma<32;++Ma)r1[Ma]=5;var LB=Cc(Ad,9,0),PB=Cc(Ad,9,1),RB=Cc(r1,5,0),BB=Cc(r1,5,1),dv=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Bl=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},fv=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},ew=function(e){return(e+7)/8|0},eO=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new qs(e.subarray(t,r))},FB=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],zl=function(e,t,r){var n=new Error(t||FB[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,zl),!r)throw n;return n},zB=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new qs(0);var c=!r,f=c||t.i!=2,m=t.i;c&&(r=new qs(a*3));var p=function(Oe){var oe=r.length;if(Oe>oe){var Le=new qs(Math.max(oe*2,Oe));Le.set(r),r=Le}},x=t.f||0,y=t.p||0,S=t.b||0,N=t.l,j=t.d,_=t.m,T=t.n,D=a*8;do{if(!N){x=Bl(e,y,1);var R=Bl(e,y+1,3);if(y+=3,R)if(R==1)N=PB,j=BB,_=9,T=5;else if(R==2){var X=Bl(e,y,31)+257,V=Bl(e,y+10,15)+4,Y=X+Bl(e,y+5,31)+1;y+=14;for(var W=new qs(Y),Ne=new qs(19),Z=0;Z<V;++Z)Ne[bb[Z]]=Bl(e,y+Z*3,7);y+=V*3;for(var Q=dv(Ne),ye=(1<<Q)-1,ie=Cc(Ne,Q,1),Z=0;Z<Y;){var q=ie[Bl(e,y,ye)];y+=q&15;var z=q>>4;if(z<16)W[Z++]=z;else{var te=0,se=0;for(z==16?(se=3+Bl(e,y,3),y+=2,te=W[Z-1]):z==17?(se=3+Bl(e,y,7),y+=3):z==18&&(se=11+Bl(e,y,127),y+=7);se--;)W[Z++]=te}}var ue=W.subarray(0,X),ee=W.subarray(X);_=dv(ue),T=dv(ee),N=Cc(ue,_,1),j=Cc(ee,T,1)}else zl(1);else{var z=ew(y)+4,G=e[z-4]|e[z-3]<<8,$=z+G;if($>a){m&&zl(0);break}f&&p(S+G),r.set(e.subarray(z,$),S),t.b=S+=G,t.p=y=$*8,t.f=x;continue}if(y>D){m&&zl(0);break}}f&&p(S+131072);for(var Se=(1<<_)-1,le=(1<<T)-1,U=y;;U=y){var te=N[fv(e,y)&Se],H=te>>4;if(y+=te&15,y>D){m&&zl(0);break}if(te||zl(2),H<256)r[S++]=H;else if(H==256){U=y,N=null;break}else{var ae=H-254;if(H>264){var Z=H-257,ge=Hg[Z];ae=Bl(e,y,(1<<ge)-1)+Qj[Z],y+=ge}var ve=j[fv(e,y)&le],de=ve>>4;ve||zl(3),y+=ve&15;var ee=DB[de];if(de>3){var ge=Vg[de];ee+=fv(e,y)&(1<<ge)-1,y+=ge}if(y>D){m&&zl(0);break}f&&p(S+131072);var ke=S+ae;if(S<ee){var me=i-ee,xe=Math.min(ee,ke);for(me+S<0&&zl(3);S<xe;++S)r[S]=n[me+S]}for(;S<ke;++S)r[S]=r[S-ee]}}t.l=N,t.p=U,t.b=S,t.f=x,N&&(x=1,t.m=_,t.d=j,t.n=T)}while(!x);return S!=r.length&&c?eO(r,0,S):r.subarray(0,S)},ou=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},D0=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},hv=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:rO,l:0};if(a==1){var c=new qs(r[0].s+1);return c[r[0].s]=1,{t:c,l:1}}r.sort(function($,X){return $.f-X.f}),r.push({s:-1,f:25001});var f=r[0],m=r[1],p=0,x=1,y=2;for(r[0]={s:-1,f:f.f+m.f,l:f,r:m};x!=a-1;)f=r[r[p].f<r[y].f?p++:y++],m=r[p!=x&&r[p].f<r[y].f?p++:y++],r[x++]={s:-1,f:f.f+m.f,l:f,r:m};for(var S=i[0].s,n=1;n<a;++n)i[n].s>S&&(S=i[n].s);var N=new Ko(S+1),j=Nb(r[x-1],N,0);if(j>t){var n=0,_=0,T=j-t,D=1<<T;for(i.sort(function(X,V){return N[V.s]-N[X.s]||X.f-V.f});n<a;++n){var R=i[n].s;if(N[R]>t)_+=D-(1<<j-N[R]),N[R]=t;else break}for(_>>=T;_>0;){var z=i[n].s;N[z]<t?_-=1<<t-N[z]++-1:++n}for(;n>=0&&_;--n){var G=i[n].s;N[G]==t&&(--N[G],++_)}j=t}return{t:new qs(N),l:j}},Nb=function(e,t,r){return e.s==-1?Math.max(Nb(e.l,t,r+1),Nb(e.r,t,r+1)):t[e.s]=r},hS=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ko(++t),n=0,a=e[0],i=1,c=function(m){r[n++]=m},f=1;f<=t;++f)if(e[f]==a&&f!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)c(32754);i>2&&(c(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(c(a),--i;i>6;i-=6)c(8304);i>2&&(c(i-3<<5|8208),i=0)}for(;i--;)c(a);i=1,a=e[f]}return{c:r.subarray(0,n),n:t}},L0=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},tO=function(e,t,r){var n=r.length,a=ew(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},pS=function(e,t,r,n,a,i,c,f,m,p,x){ou(t,x++,r),++a[256];for(var y=hv(a,15),S=y.t,N=y.l,j=hv(i,15),_=j.t,T=j.l,D=hS(S),R=D.c,z=D.n,G=hS(_),$=G.c,X=G.n,V=new Ko(19),Y=0;Y<R.length;++Y)++V[R[Y]&31];for(var Y=0;Y<$.length;++Y)++V[$[Y]&31];for(var W=hv(V,7),Ne=W.t,Z=W.l,Q=19;Q>4&&!Ne[bb[Q-1]];--Q);var ye=p+5<<3,ie=L0(a,Ad)+L0(i,r1)+c,q=L0(a,S)+L0(i,_)+c+14+3*Q+L0(V,Ne)+2*V[16]+3*V[17]+7*V[18];if(m>=0&&ye<=ie&&ye<=q)return tO(t,x,e.subarray(m,m+p));var te,se,ue,ee;if(ou(t,x,1+(q<ie)),x+=2,q<ie){te=Cc(S,N,0),se=S,ue=Cc(_,T,0),ee=_;var Se=Cc(Ne,Z,0);ou(t,x,z-257),ou(t,x+5,X-1),ou(t,x+10,Q-4),x+=14;for(var Y=0;Y<Q;++Y)ou(t,x+3*Y,Ne[bb[Y]]);x+=3*Q;for(var le=[R,$],U=0;U<2;++U)for(var H=le[U],Y=0;Y<H.length;++Y){var ae=H[Y]&31;ou(t,x,Se[ae]),x+=Ne[ae],ae>15&&(ou(t,x,H[Y]>>5&127),x+=H[Y]>>12)}}else te=LB,se=Ad,ue=RB,ee=r1;for(var Y=0;Y<f;++Y){var ge=n[Y];if(ge>255){var ae=ge>>18&31;D0(t,x,te[ae+257]),x+=se[ae+257],ae>7&&(ou(t,x,ge>>23&31),x+=Hg[ae]);var ve=ge&31;D0(t,x,ue[ve]),x+=ee[ve],ve>3&&(D0(t,x,ge>>5&8191),x+=Vg[ve])}else D0(t,x,te[ge]),x+=se[ge]}return D0(t,x,te[256]),x+se[256]},UB=new J5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),rO=new qs(0),qB=function(e,t,r,n,a,i){var c=i.z||e.length,f=new qs(n+c+5*(1+Math.ceil(c/7e3))+a),m=f.subarray(n,f.length-a),p=i.l,x=(i.r||0)&7;if(t){x&&(m[0]=i.r>>3);for(var y=UB[t-1],S=y>>13,N=y&8191,j=(1<<r)-1,_=i.p||new Ko(32768),T=i.h||new Ko(j+1),D=Math.ceil(r/3),R=2*D,z=function(Ge){return(e[Ge]^e[Ge+1]<<D^e[Ge+2]<<R)&j},G=new J5(25e3),$=new Ko(288),X=new Ko(32),V=0,Y=0,W=i.i||0,Ne=0,Z=i.w||0,Q=0;W+2<c;++W){var ye=z(W),ie=W&32767,q=T[ye];if(_[ie]=q,T[ye]=ie,Z<=W){var te=c-W;if((V>7e3||Ne>24576)&&(te>423||!p)){x=pS(e,m,0,G,$,X,Y,Ne,Q,W-Q,x),Ne=V=Y=0,Q=W;for(var se=0;se<286;++se)$[se]=0;for(var se=0;se<30;++se)X[se]=0}var ue=2,ee=0,Se=N,le=ie-q&32767;if(te>2&&ye==z(W-le))for(var U=Math.min(S,te)-1,H=Math.min(32767,W),ae=Math.min(258,te);le<=H&&--Se&&ie!=q;){if(e[W+ue]==e[W+ue-le]){for(var ge=0;ge<ae&&e[W+ge]==e[W+ge-le];++ge);if(ge>ue){if(ue=ge,ee=le,ge>U)break;for(var ve=Math.min(le,ge-2),de=0,se=0;se<ve;++se){var ke=W-le+se&32767,me=_[ke],xe=ke-me&32767;xe>de&&(de=xe,q=ke)}}}ie=q,q=_[ie],le+=ie-q&32767}if(ee){G[Ne++]=268435456|wb[ue]<<18|fS[ee];var Oe=wb[ue]&31,oe=fS[ee]&31;Y+=Hg[Oe]+Vg[oe],++$[257+Oe],++X[oe],Z=W+ue,++V}else G[Ne++]=e[W],++$[e[W]]}}for(W=Math.max(W,Z);W<c;++W)G[Ne++]=e[W],++$[e[W]];x=pS(e,m,p,G,$,X,Y,Ne,Q,W-Q,x),p||(i.r=x&7|m[x/8|0]<<3,x-=7,i.h=T,i.p=_,i.i=W,i.w=Z)}else{for(var W=i.w||0;W<c+p;W+=65535){var Le=W+65535;Le>=c&&(m[x/8|0]=p,Le=c),x=tO(m,x+1,e.subarray(W,Le))}i.i=c}return eO(f,0,n+ew(x)+a)},nO=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,c=0;c!=i;){for(var f=Math.min(c+2655,i);c<f;++c)a+=n+=r[c];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},HB=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),c=new qs(i.length+e.length);c.set(i),c.set(e,i.length),e=c,a.w=i.length}return qB(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},aO=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},VB=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=nO();a.p(t.dictionary),aO(e,2,a.d())}},WB=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&zl(6,"invalid zlib data"),(e[1]>>5&1)==1&&zl(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Sb(e,t){t||(t={});var r=nO();r.p(e);var n=HB(e,t,t.dictionary?6:2,4);return VB(n,t),aO(n,n.length-4,r.d()),n}function GB(e,t){return zB(e.subarray(WB(e),-4),{i:2},t,t)}var YB=typeof TextDecoder<"u"&&new TextDecoder,$B=0;try{YB.decode(rO,{stream:!0}),$B=1}catch{}var Pr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function pv(){Pr.console&&typeof Pr.console.log=="function"&&Pr.console.log.apply(Pr.console,arguments)}var ga={log:pv,warn:function(e){Pr.console&&(typeof Pr.console.warn=="function"?Pr.console.warn.apply(Pr.console,arguments):pv.call(null,arguments))},error:function(e){Pr.console&&(typeof Pr.console.error=="function"?Pr.console.error.apply(Pr.console,arguments):pv(e))}};function mv(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){$d(n.response,t,r)},n.onerror=function(){ga.error("could not download file")},n.send()}function mS(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Up(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var K0,Eb,$d=Pr.saveAs||((typeof window>"u"?"undefined":Jn(window))!=="object"||window!==Pr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Pr.URL||Pr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?mS(a.href)?mv(e,t,r):Up(a,a.target="_blank"):Up(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Up(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(mS(e))mv(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Up(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Jn(i)!=="object"&&(ga.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return mv(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Pr.HTMLElement)||Pr.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&i)&&(typeof FileReader>"u"?"undefined":Jn(FileReader))==="object"){var f=new FileReader;f.onloadend=function(){var x=f.result;x=c?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=x:location=x,n=null},f.readAsDataURL(e)}else{var m=Pr.URL||Pr.webkitURL,p=m.createObjectURL(e);n?n.location=p:location.href=p,n=null,setTimeout(function(){m.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function iO(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(f){return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(f){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,c=a.exec(e);c&&(t=i(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var f=this.r.toString(16),m=this.g.toString(16),p=this.b.toString(16);return f.length==1&&(f="0"+f),m.length==1&&(m="0"+m),p.length==1&&(p="0"+p),"#"+f+m+p}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function gv(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Ls(r,n,a,i,t[0],7,-680876936),i=Ls(i,r,n,a,t[1],12,-389564586),a=Ls(a,i,r,n,t[2],17,606105819),n=Ls(n,a,i,r,t[3],22,-1044525330),r=Ls(r,n,a,i,t[4],7,-176418897),i=Ls(i,r,n,a,t[5],12,1200080426),a=Ls(a,i,r,n,t[6],17,-1473231341),n=Ls(n,a,i,r,t[7],22,-45705983),r=Ls(r,n,a,i,t[8],7,1770035416),i=Ls(i,r,n,a,t[9],12,-1958414417),a=Ls(a,i,r,n,t[10],17,-42063),n=Ls(n,a,i,r,t[11],22,-1990404162),r=Ls(r,n,a,i,t[12],7,1804603682),i=Ls(i,r,n,a,t[13],12,-40341101),a=Ls(a,i,r,n,t[14],17,-1502002290),r=Ps(r,n=Ls(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Ps(i,r,n,a,t[6],9,-1069501632),a=Ps(a,i,r,n,t[11],14,643717713),n=Ps(n,a,i,r,t[0],20,-373897302),r=Ps(r,n,a,i,t[5],5,-701558691),i=Ps(i,r,n,a,t[10],9,38016083),a=Ps(a,i,r,n,t[15],14,-660478335),n=Ps(n,a,i,r,t[4],20,-405537848),r=Ps(r,n,a,i,t[9],5,568446438),i=Ps(i,r,n,a,t[14],9,-1019803690),a=Ps(a,i,r,n,t[3],14,-187363961),n=Ps(n,a,i,r,t[8],20,1163531501),r=Ps(r,n,a,i,t[13],5,-1444681467),i=Ps(i,r,n,a,t[2],9,-51403784),a=Ps(a,i,r,n,t[7],14,1735328473),r=Rs(r,n=Ps(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Rs(i,r,n,a,t[8],11,-2022574463),a=Rs(a,i,r,n,t[11],16,1839030562),n=Rs(n,a,i,r,t[14],23,-35309556),r=Rs(r,n,a,i,t[1],4,-1530992060),i=Rs(i,r,n,a,t[4],11,1272893353),a=Rs(a,i,r,n,t[7],16,-155497632),n=Rs(n,a,i,r,t[10],23,-1094730640),r=Rs(r,n,a,i,t[13],4,681279174),i=Rs(i,r,n,a,t[0],11,-358537222),a=Rs(a,i,r,n,t[3],16,-722521979),n=Rs(n,a,i,r,t[6],23,76029189),r=Rs(r,n,a,i,t[9],4,-640364487),i=Rs(i,r,n,a,t[12],11,-421815835),a=Rs(a,i,r,n,t[15],16,530742520),r=Bs(r,n=Rs(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Bs(i,r,n,a,t[7],10,1126891415),a=Bs(a,i,r,n,t[14],15,-1416354905),n=Bs(n,a,i,r,t[5],21,-57434055),r=Bs(r,n,a,i,t[12],6,1700485571),i=Bs(i,r,n,a,t[3],10,-1894986606),a=Bs(a,i,r,n,t[10],15,-1051523),n=Bs(n,a,i,r,t[1],21,-2054922799),r=Bs(r,n,a,i,t[8],6,1873313359),i=Bs(i,r,n,a,t[15],10,-30611744),a=Bs(a,i,r,n,t[6],15,-1560198380),n=Bs(n,a,i,r,t[13],21,1309151649),r=Bs(r,n,a,i,t[4],6,-145523070),i=Bs(i,r,n,a,t[11],10,-1120210379),a=Bs(a,i,r,n,t[2],15,718787259),n=Bs(n,a,i,r,t[9],21,-343485551),e[0]=pd(r,e[0]),e[1]=pd(n,e[1]),e[2]=pd(a,e[2]),e[3]=pd(i,e[3])}function Wg(e,t,r,n,a,i){return t=pd(pd(t,e),pd(n,i)),pd(t<<a|t>>>32-a,r)}function Ls(e,t,r,n,a,i,c){return Wg(t&r|~t&n,e,t,a,i,c)}function Ps(e,t,r,n,a,i,c){return Wg(t&n|r&~n,e,t,a,i,c)}function Rs(e,t,r,n,a,i,c){return Wg(t^r^n,e,t,a,i,c)}function Bs(e,t,r,n,a,i,c){return Wg(r^(t|~n),e,t,a,i,c)}function sO(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)gv(n,XB(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(gv(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,gv(n,a),n}function XB(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}K0=Pr.atob.bind(Pr),Eb=Pr.btoa.bind(Pr);var gS="0123456789abcdef".split("");function KB(e){for(var t="",r=0;r<4;r++)t+=gS[e>>8*r+4&15]+gS[e>>8*r&15];return t}function ZB(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Cb(e){return sO(e).map(ZB).join("")}var QB=function(e){for(var t=0;t<e.length;t++)e[t]=KB(e[t]);return e.join("")}(sO("hello"))!="5d41402abc4b2a76b9719d911017c592";function pd(e,t){if(QB){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function _b(e,t){var r,n,a,i;if(e!==r){for(var c=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),f=[],m=0;m<256;m++)f[m]=m;var p=0;for(m=0;m<256;m++){var x=f[m];p=(p+x+c.charCodeAt(m))%256,f[m]=f[p],f[p]=x}r=e,n=f}else f=n;var y=t.length,S=0,N=0,j="";for(m=0;m<y;m++)N=(N+(x=f[S=(S+1)%256]))%256,f[S]=f[N],f[N]=x,c=f[(f[S]+f[N])%256],j+=String.fromCharCode(t.charCodeAt(m)^c);return j}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var xS={print:4,modify:8,copy:16,"annot-forms":32};function uh(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(f){if(xS.perm!==void 0)throw new Error("Invalid permission: "+f);a+=xS[f]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),c=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,c),this.P=-(1+(255^a)),this.encryptionKey=Cb(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=_b(this.encryptionKey,this.padding)}function dh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function vS(e){if(Jn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var c=t[r][i];try{c[0].apply(e,n)}catch(f){Pr.console&&ga.error("jsPDF PubSub Error",f.message,f)}c[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Pm(e){if(!(this instanceof Pm))return new Pm(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function oO(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Qd(e,t,r,n,a){if(!(this instanceof Qd))return new Qd(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,oO.call(this,n,a)}function hh(e,t,r,n,a){if(!(this instanceof hh))return new hh(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,oO.call(this,n,a)}function wr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],c=[],f=1,m=16,p="S",x=null;Jn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(x=e.encryption||null)!==null&&(x.userPassword=x.userPassword||"",x.ownerPassword=x.ownerPassword||"",x.userPermissions=x.userPermissions||[]),f=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(m=e.floatPrecision),p=e.defaultPathOperation||"S"),c=e.filters||(i===!0?["FlateEncode"]:c),n=n||"mm",r=(""+(r||"P")).toLowerCase();var y=e.putOnlyUsedFonts||!1,S={},N={internal:{},__private__:{}};N.__private__.PubSub=vS;var j="1.3",_=N.__private__.getPdfVersion=function(){return j};N.__private__.setPdfVersion=function(P){j=P};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};N.__private__.getPageFormats=function(){return T};var D=N.__private__.getPageFormat=function(P){return T[P]};a=a||"a4";var R={COMPAT:"compat",ADVANCED:"advanced"},z=R.COMPAT;function G(){this.saveGraphicsState(),ne(new or(zt,0,0,-zt,0,ns()*zt).toString()+" cm"),this.setFontSize(this.getFontSize()/zt),p="n",z=R.ADVANCED}function $(){this.restoreGraphicsState(),p="S",z=R.COMPAT}var X=N.__private__.combineFontStyleAndFontWeight=function(P,pe){if(P=="bold"&&pe=="normal"||P=="bold"&&pe==400||P=="normal"&&pe=="italic"||P=="bold"&&pe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return pe&&(P=pe==400||pe==="normal"?P==="italic"?"italic":"normal":pe!=700&&pe!=="bold"||P!=="normal"?(pe==700?"bold":pe)+""+P:"bold"),P};N.advancedAPI=function(P){var pe=z===R.COMPAT;return pe&&G.call(this),typeof P!="function"||(P(this),pe&&$.call(this)),this},N.compatAPI=function(P){var pe=z===R.ADVANCED;return pe&&$.call(this),typeof P!="function"||(P(this),pe&&G.call(this)),this},N.isAdvancedAPI=function(){return z===R.ADVANCED};var V,Y=function(P){if(z!==R.ADVANCED)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},W=N.roundToPrecision=N.__private__.roundToPrecision=function(P,pe){var Ie=t||pe;if(isNaN(P)||isNaN(Ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(Ie).replace(/0+$/,"")};V=N.hpf=N.__private__.hpf=typeof m=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return W(P,m)}:m==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return W(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return W(P,16)};var Ne=N.f2=N.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return W(P,2)},Z=N.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return W(P,3)},Q=N.scale=N.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return z===R.COMPAT?P*zt:z===R.ADVANCED?P:void 0},ye=function(P){return z===R.COMPAT?ns()-P:z===R.ADVANCED?P:void 0},ie=function(P){return Q(ye(P))};N.__private__.setPrecision=N.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(t=parseInt(P,10))};var q,te="00000000000000000000000000000000",se=N.__private__.getFileId=function(){return te},ue=N.__private__.setFileId=function(P){return te=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),x!==null&&(En=new uh(x.userPermissions,x.userPassword,x.ownerPassword,te)),te};N.setFileId=function(P){return ue(P),this},N.getFileId=function(){return se()};var ee=N.__private__.convertDateToPDFDate=function(P){var pe=P.getTimezoneOffset(),Ie=pe<0?"+":"-",qe=Math.floor(Math.abs(pe/60)),Qe=Math.abs(pe%60),yt=[Ie,ae(qe),"'",ae(Qe),"'"].join("");return["D:",P.getFullYear(),ae(P.getMonth()+1),ae(P.getDate()),ae(P.getHours()),ae(P.getMinutes()),ae(P.getSeconds()),yt].join("")},Se=N.__private__.convertPDFDateToDate=function(P){var pe=parseInt(P.substr(2,4),10),Ie=parseInt(P.substr(6,2),10)-1,qe=parseInt(P.substr(8,2),10),Qe=parseInt(P.substr(10,2),10),yt=parseInt(P.substr(12,2),10),Mt=parseInt(P.substr(14,2),10);return new Date(pe,Ie,qe,Qe,yt,Mt,0)},le=N.__private__.setCreationDate=function(P){var pe;if(P===void 0&&(P=new Date),P instanceof Date)pe=ee(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");pe=P}return q=pe},U=N.__private__.getCreationDate=function(P){var pe=q;return P==="jsDate"&&(pe=Se(q)),pe};N.setCreationDate=function(P){return le(P),this},N.getCreationDate=function(P){return U(P)};var H,ae=N.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},ge=N.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},ve=0,de=[],ke=[],me=0,xe=[],Oe=[],oe=!1,Le=ke,Ge=function(){ve=0,me=0,ke=[],de=[],xe=[],bt=je(),Ft=je()};N.__private__.setCustomOutputDestination=function(P){oe=!0,Le=P};var Pe=function(P){oe||(Le=P)};N.__private__.resetCustomOutputDestination=function(){oe=!1,Le=ke};var ne=N.__private__.out=function(P){return P=P.toString(),me+=P.length+1,Le.push(P),Le},tt=N.__private__.write=function(P){return ne(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},at=N.__private__.getArrayBuffer=function(P){for(var pe=P.length,Ie=new ArrayBuffer(pe),qe=new Uint8Array(Ie);pe--;)qe[pe]=P.charCodeAt(pe);return Ie},Be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];N.__private__.getStandardFonts=function(){return Be};var Ze=e.fontSize||16;N.__private__.setFontSize=N.setFontSize=function(P){return Ze=z===R.ADVANCED?P/zt:P,this};var Fe,rt=N.__private__.getFontSize=N.getFontSize=function(){return z===R.COMPAT?Ze:Ze*zt},At=e.R2L||!1;N.__private__.setR2L=N.setR2L=function(P){return At=P,this},N.__private__.getR2L=N.getR2L=function(){return At};var Ht,Yt=N.__private__.setZoomMode=function(P){var pe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))Fe=P;else if(isNaN(P)){if(pe.indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');Fe=P}else Fe=parseInt(P,10)};N.__private__.getZoomMode=function(){return Fe};var Jt,Ut=N.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');Ht=P};N.__private__.getPageMode=function(){return Ht};var ir=N.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');Jt=P};N.__private__.getLayoutMode=function(){return Jt},N.__private__.setDisplayMode=N.setDisplayMode=function(P,pe,Ie){return Yt(P),ir(pe),Ut(Ie),this};var Wt={title:"",subject:"",author:"",keywords:"",creator:""};N.__private__.getDocumentProperty=function(P){if(Object.keys(Wt).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Wt[P]},N.__private__.getDocumentProperties=function(){return Wt},N.__private__.setDocumentProperties=N.setProperties=N.setDocumentProperties=function(P){for(var pe in Wt)Wt.hasOwnProperty(pe)&&P[pe]&&(Wt[pe]=P[pe]);return this},N.__private__.setDocumentProperty=function(P,pe){if(Object.keys(Wt).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Wt[P]=pe};var Ar,zt,Pn,Vt,Et,er={},Qt={},Jr=[],Hr={},Ri={},xn={},Er={},oa=null,cn=0,xr=[],Cr=new vS(N),es=e.hotfixes||[],$r={},la={},ca=[],or=function P(pe,Ie,qe,Qe,yt,Mt){if(!(this instanceof P))return new P(pe,Ie,qe,Qe,yt,Mt);isNaN(pe)&&(pe=1),isNaN(Ie)&&(Ie=0),isNaN(qe)&&(qe=0),isNaN(Qe)&&(Qe=1),isNaN(yt)&&(yt=0),isNaN(Mt)&&(Mt=0),this._matrix=[pe,Ie,qe,Qe,yt,Mt]};Object.defineProperty(or.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(or.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(or.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(or.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(or.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(or.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(or.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(or.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(or.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(or.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(or.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(or.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(or.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(or.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(or.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(or.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),or.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(V).join(P)},or.prototype.multiply=function(P){var pe=P.sx*this.sx+P.shy*this.shx,Ie=P.sx*this.shy+P.shy*this.sy,qe=P.shx*this.sx+P.sy*this.shx,Qe=P.shx*this.shy+P.sy*this.sy,yt=P.tx*this.sx+P.ty*this.shx+this.tx,Mt=P.tx*this.shy+P.ty*this.sy+this.ty;return new or(pe,Ie,qe,Qe,yt,Mt)},or.prototype.decompose=function(){var P=this.sx,pe=this.shy,Ie=this.shx,qe=this.sy,Qe=this.tx,yt=this.ty,Mt=Math.sqrt(P*P+pe*pe),Kt=(P/=Mt)*Ie+(pe/=Mt)*qe;Ie-=P*Kt,qe-=pe*Kt;var yr=Math.sqrt(Ie*Ie+qe*qe);return Kt/=yr,P*(qe/=yr)<pe*(Ie/=yr)&&(P=-P,pe=-pe,Kt=-Kt,Mt=-Mt),{scale:new or(Mt,0,0,yr,0,0),translate:new or(1,0,0,1,Qe,yt),rotate:new or(P,pe,-pe,P,0,0),skew:new or(1,0,Kt,1,0,0)}},or.prototype.toString=function(P){return this.join(" ")},or.prototype.inversed=function(){var P=this.sx,pe=this.shy,Ie=this.shx,qe=this.sy,Qe=this.tx,yt=this.ty,Mt=1/(P*qe-pe*Ie),Kt=qe*Mt,yr=-pe*Mt,kr=-Ie*Mt,_r=P*Mt;return new or(Kt,yr,kr,_r,-Kt*Qe-kr*yt,-yr*Qe-_r*yt)},or.prototype.applyToPoint=function(P){var pe=P.x*this.sx+P.y*this.shx+this.tx,Ie=P.x*this.shy+P.y*this.sy+this.ty;return new El(pe,Ie)},or.prototype.applyToRectangle=function(P){var pe=this.applyToPoint(P),Ie=this.applyToPoint(new El(P.x+P.w,P.y+P.h));return new Uc(pe.x,pe.y,Ie.x-pe.x,Ie.y-pe.y)},or.prototype.clone=function(){var P=this.sx,pe=this.shy,Ie=this.shx,qe=this.sy,Qe=this.tx,yt=this.ty;return new or(P,pe,Ie,qe,Qe,yt)},N.Matrix=or;var Ja=N.matrixMult=function(P,pe){return pe.multiply(P)},ea=new or(1,0,0,1,0,0);N.unitMatrix=N.identityMatrix=ea;var ya=function(P,pe){if(!Ri[P]){var Ie=(pe instanceof Qd?"Sh":"P")+(Object.keys(Hr).length+1).toString(10);pe.id=Ie,Ri[P]=Ie,Hr[Ie]=pe,Cr.publish("addPattern",pe)}};N.ShadingPattern=Qd,N.TilingPattern=hh,N.addShadingPattern=function(P,pe){return Y("addShadingPattern()"),ya(P,pe),this},N.beginTilingPattern=function(P){Y("beginTilingPattern()"),nc(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},N.endTilingPattern=function(P,pe){Y("endTilingPattern()"),pe.stream=Oe[H].join(`
`),ya(P,pe),Cr.publish("endTilingPattern",pe),ca.pop().restore()};var Xr=N.__private__.newObject=function(){var P=je();return jt(P,!0),P},je=N.__private__.newObjectDeferred=function(){return ve++,de[ve]=function(){return me},ve},jt=function(P,pe){return pe=typeof pe=="boolean"&&pe,de[P]=me,pe&&ne(P+" 0 obj"),P},et=N.__private__.newAdditionalObject=function(){var P={objId:je(),content:""};return xe.push(P),P},bt=je(),Ft=je(),Re=N.__private__.decodeColorString=function(P){var pe=P.split(" ");if(pe.length!==2||pe[1]!=="g"&&pe[1]!=="G")pe.length===5&&(pe[4]==="k"||pe[4]==="K")&&(pe=[(1-pe[0])*(1-pe[3]),(1-pe[1])*(1-pe[3]),(1-pe[2])*(1-pe[3]),"r"]);else{var Ie=parseFloat(pe[0]);pe=[Ie,Ie,Ie,"r"]}for(var qe="#",Qe=0;Qe<3;Qe++)qe+=("0"+Math.floor(255*parseFloat(pe[Qe])).toString(16)).slice(-2);return qe},mt=N.__private__.encodeColorString=function(P){var pe;typeof P=="string"&&(P={ch1:P});var Ie=P.ch1,qe=P.ch2,Qe=P.ch3,yt=P.ch4,Mt=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ie=="string"&&Ie.charAt(0)!=="#"){var Kt=new iO(Ie);if(Kt.ok)Ie=Kt.toHex();else if(!/^\d*\.?\d*$/.test(Ie))throw new Error('Invalid color "'+Ie+'" passed to jsPDF.encodeColorString.')}if(typeof Ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ie)&&(Ie="#"+Ie[1]+Ie[1]+Ie[2]+Ie[2]+Ie[3]+Ie[3]),typeof Ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ie)){var yr=parseInt(Ie.substr(1),16);Ie=yr>>16&255,qe=yr>>8&255,Qe=255&yr}if(qe===void 0||yt===void 0&&Ie===qe&&qe===Qe)if(typeof Ie=="string")pe=Ie+" "+Mt[0];else switch(P.precision){case 2:pe=Ne(Ie/255)+" "+Mt[0];break;case 3:default:pe=Z(Ie/255)+" "+Mt[0]}else if(yt===void 0||Jn(yt)==="object"){if(yt&&!isNaN(yt.a)&&yt.a===0)return pe=["1.","1.","1.",Mt[1]].join(" ");if(typeof Ie=="string")pe=[Ie,qe,Qe,Mt[1]].join(" ");else switch(P.precision){case 2:pe=[Ne(Ie/255),Ne(qe/255),Ne(Qe/255),Mt[1]].join(" ");break;default:case 3:pe=[Z(Ie/255),Z(qe/255),Z(Qe/255),Mt[1]].join(" ")}}else if(typeof Ie=="string")pe=[Ie,qe,Qe,yt,Mt[2]].join(" ");else switch(P.precision){case 2:pe=[Ne(Ie),Ne(qe),Ne(Qe),Ne(yt),Mt[2]].join(" ");break;case 3:default:pe=[Z(Ie),Z(qe),Z(Qe),Z(yt),Mt[2]].join(" ")}return pe},pt=N.__private__.getFilters=function(){return c},Ot=N.__private__.putStream=function(P){var pe=(P=P||{}).data||"",Ie=P.filters||pt(),qe=P.alreadyAppliedFilters||[],Qe=P.addLength1||!1,yt=pe.length,Mt=P.objectId,Kt=function(di){return di};if(x!==null&&Mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");x!==null&&(Kt=En.encryptor(Mt,0));var yr={};Ie===!0&&(Ie=["FlateEncode"]);var kr=P.additionalKeyValues||[],_r=(yr=wr.API.processDataByFilters!==void 0?wr.API.processDataByFilters(pe,Ie):{data:pe,reverseChain:[]}).reverseChain+(Array.isArray(qe)?qe.join(" "):qe.toString());if(yr.data.length!==0&&(kr.push({key:"Length",value:yr.data.length}),Qe===!0&&kr.push({key:"Length1",value:yt})),_r.length!=0)if(_r.split("/").length-1==1)kr.push({key:"Filter",value:_r});else{kr.push({key:"Filter",value:"["+_r+"]"});for(var ln=0;ln<kr.length;ln+=1)if(kr[ln].key==="DecodeParms"){for(var ta=[],kn=0;kn<yr.reverseChain.split("/").length-1;kn+=1)ta.push("null");ta.push(kr[ln].value),kr[ln].value="["+ta.join(" ")+"]"}}ne("<<");for(var da=0;da<kr.length;da++)ne("/"+kr[da].key+" "+kr[da].value);ne(">>"),yr.data.length!==0&&(ne("stream"),ne(Kt(yr.data)),ne("endstream"))},Dt=N.__private__.putPage=function(P){var pe=P.number,Ie=P.data,qe=P.objId,Qe=P.contentsObjId;jt(qe,!0),ne("<</Type /Page"),ne("/Parent "+P.rootDictionaryObjId+" 0 R"),ne("/Resources "+P.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(V(P.mediaBox.bottomLeftX))+" "+parseFloat(V(P.mediaBox.bottomLeftY))+" "+V(P.mediaBox.topRightX)+" "+V(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&ne("/CropBox ["+V(P.cropBox.bottomLeftX)+" "+V(P.cropBox.bottomLeftY)+" "+V(P.cropBox.topRightX)+" "+V(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&ne("/BleedBox ["+V(P.bleedBox.bottomLeftX)+" "+V(P.bleedBox.bottomLeftY)+" "+V(P.bleedBox.topRightX)+" "+V(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&ne("/TrimBox ["+V(P.trimBox.bottomLeftX)+" "+V(P.trimBox.bottomLeftY)+" "+V(P.trimBox.topRightX)+" "+V(P.trimBox.topRightY)+"]"),P.artBox!==null&&ne("/ArtBox ["+V(P.artBox.bottomLeftX)+" "+V(P.artBox.bottomLeftY)+" "+V(P.artBox.topRightX)+" "+V(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&ne("/UserUnit "+P.userUnit),Cr.publish("putPage",{objId:qe,pageContext:xr[pe],pageNumber:pe,page:Ie}),ne("/Contents "+Qe+" 0 R"),ne(">>"),ne("endobj");var yt=Ie.join(`
`);return z===R.ADVANCED&&(yt+=`
Q`),jt(Qe,!0),Ot({data:yt,filters:pt(),objectId:Qe}),ne("endobj"),qe},It=N.__private__.putPages=function(){var P,pe,Ie=[];for(P=1;P<=cn;P++)xr[P].objId=je(),xr[P].contentsObjId=je();for(P=1;P<=cn;P++)Ie.push(Dt({number:P,data:Oe[P],objId:xr[P].objId,contentsObjId:xr[P].contentsObjId,mediaBox:xr[P].mediaBox,cropBox:xr[P].cropBox,bleedBox:xr[P].bleedBox,trimBox:xr[P].trimBox,artBox:xr[P].artBox,userUnit:xr[P].userUnit,rootDictionaryObjId:bt,resourceDictionaryObjId:Ft}));jt(bt,!0),ne("<</Type /Pages");var qe="/Kids [";for(pe=0;pe<cn;pe++)qe+=Ie[pe]+" 0 R ";ne(qe+"]"),ne("/Count "+cn),ne(">>"),ne("endobj"),Cr.publish("postPutPages")},tr=function(P){Cr.publish("putFont",{font:P,out:ne,newObject:Xr,putStream:Ot}),P.isAlreadyPutted!==!0&&(P.objectNumber=Xr(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+dh(P.postScriptName)),ne("/Subtype /Type1"),typeof P.encoding=="string"&&ne("/Encoding /"+P.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},Xt=function(){for(var P in er)er.hasOwnProperty(P)&&(y===!1||y===!0&&S.hasOwnProperty(P))&&tr(er[P])},cr=function(P){P.objectNumber=Xr();var pe=[];pe.push({key:"Type",value:"/XObject"}),pe.push({key:"Subtype",value:"/Form"}),pe.push({key:"BBox",value:"["+[V(P.x),V(P.y),V(P.x+P.width),V(P.y+P.height)].join(" ")+"]"}),pe.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var Ie=P.pages[1].join(`
`);Ot({data:Ie,additionalKeyValues:pe,objectId:P.objectNumber}),ne("endobj")},Nt=function(){for(var P in $r)$r.hasOwnProperty(P)&&cr($r[P])},mr=function(P,pe){var Ie,qe=[],Qe=1/(pe-1);for(Ie=0;Ie<1;Ie+=Qe)qe.push(Ie);if(qe.push(1),P[0].offset!=0){var yt={offset:0,color:P[0].color};P.unshift(yt)}if(P[P.length-1].offset!=1){var Mt={offset:1,color:P[P.length-1].color};P.push(Mt)}for(var Kt="",yr=0,kr=0;kr<qe.length;kr++){for(Ie=qe[kr];Ie>P[yr+1].offset;)yr++;var _r=P[yr].offset,ln=(Ie-_r)/(P[yr+1].offset-_r),ta=P[yr].color,kn=P[yr+1].color;Kt+=ge(Math.round((1-ln)*ta[0]+ln*kn[0]).toString(16))+ge(Math.round((1-ln)*ta[1]+ln*kn[1]).toString(16))+ge(Math.round((1-ln)*ta[2]+ln*kn[2]).toString(16))}return Kt.trim()},Lr=function(P,pe){pe||(pe=21);var Ie=Xr(),qe=mr(P.colors,pe),Qe=[];Qe.push({key:"FunctionType",value:"0"}),Qe.push({key:"Domain",value:"[0.0 1.0]"}),Qe.push({key:"Size",value:"["+pe+"]"}),Qe.push({key:"BitsPerSample",value:"8"}),Qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ot({data:qe,additionalKeyValues:Qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ie}),ne("endobj"),P.objectNumber=Xr(),ne("<< /ShadingType "+P.type),ne("/ColorSpace /DeviceRGB");var yt="/Coords ["+V(parseFloat(P.coords[0]))+" "+V(parseFloat(P.coords[1]))+" ";P.type===2?yt+=V(parseFloat(P.coords[2]))+" "+V(parseFloat(P.coords[3])):yt+=V(parseFloat(P.coords[2]))+" "+V(parseFloat(P.coords[3]))+" "+V(parseFloat(P.coords[4]))+" "+V(parseFloat(P.coords[5])),ne(yt+="]"),P.matrix&&ne("/Matrix ["+P.matrix.toString()+"]"),ne("/Function "+Ie+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Vr=function(P,pe){var Ie=je(),qe=Xr();pe.push({resourcesOid:Ie,objectOid:qe}),P.objectNumber=qe;var Qe=[];Qe.push({key:"Type",value:"/Pattern"}),Qe.push({key:"PatternType",value:"1"}),Qe.push({key:"PaintType",value:"1"}),Qe.push({key:"TilingType",value:"1"}),Qe.push({key:"BBox",value:"["+P.boundingBox.map(V).join(" ")+"]"}),Qe.push({key:"XStep",value:V(P.xStep)}),Qe.push({key:"YStep",value:V(P.yStep)}),Qe.push({key:"Resources",value:Ie+" 0 R"}),P.matrix&&Qe.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Ot({data:P.stream,additionalKeyValues:Qe,objectId:P.objectNumber}),ne("endobj")},vt=function(P){var pe;for(pe in Hr)Hr.hasOwnProperty(pe)&&(Hr[pe]instanceof Qd?Lr(Hr[pe]):Hr[pe]instanceof hh&&Vr(Hr[pe],P))},Rn=function(P){for(var pe in P.objectNumber=Xr(),ne("<<"),P)switch(pe){case"opacity":ne("/ca "+Ne(P[pe]));break;case"stroke-opacity":ne("/CA "+Ne(P[pe]))}ne(">>"),ne("endobj")},Sr=function(){var P;for(P in xn)xn.hasOwnProperty(P)&&Rn(xn[P])},On=function(){for(var P in ne("/XObject <<"),$r)$r.hasOwnProperty(P)&&$r[P].objectNumber>=0&&ne("/"+P+" "+$r[P].objectNumber+" 0 R");Cr.publish("putXobjectDict"),ne(">>")},ts=function(){En.oid=Xr(),ne("<<"),ne("/Filter /Standard"),ne("/V "+En.v),ne("/R "+En.r),ne("/U <"+En.toHexString(En.U)+">"),ne("/O <"+En.toHexString(En.O)+">"),ne("/P "+En.P),ne(">>"),ne("endobj")},Wr=function(){for(var P in ne("/Font <<"),er)er.hasOwnProperty(P)&&(y===!1||y===!0&&S.hasOwnProperty(P))&&ne("/"+P+" "+er[P].objectNumber+" 0 R");ne(">>")},Br=function(){if(Object.keys(Hr).length>0){for(var P in ne("/Shading <<"),Hr)Hr.hasOwnProperty(P)&&Hr[P]instanceof Qd&&Hr[P].objectNumber>=0&&ne("/"+P+" "+Hr[P].objectNumber+" 0 R");Cr.publish("putShadingPatternDict"),ne(">>")}},Rr=function(P){if(Object.keys(Hr).length>0){for(var pe in ne("/Pattern <<"),Hr)Hr.hasOwnProperty(pe)&&Hr[pe]instanceof N.TilingPattern&&Hr[pe].objectNumber>=0&&Hr[pe].objectNumber<P&&ne("/"+pe+" "+Hr[pe].objectNumber+" 0 R");Cr.publish("putTilingPatternDict"),ne(">>")}},Gs=function(){if(Object.keys(xn).length>0){var P;for(P in ne("/ExtGState <<"),xn)xn.hasOwnProperty(P)&&xn[P].objectNumber>=0&&ne("/"+P+" "+xn[P].objectNumber+" 0 R");Cr.publish("putGStateDict"),ne(">>")}},Bn=function(P){jt(P.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Wr(),Br(),Rr(P.objectOid),Gs(),On(),ne(">>"),ne("endobj")},tn=function(){var P=[];Xt(),Sr(),Nt(),vt(P),Cr.publish("putResources"),P.forEach(Bn),Bn({resourcesOid:Ft,objectOid:Number.MAX_SAFE_INTEGER}),Cr.publish("postPutResources")},jr=function(){Cr.publish("putAdditionalObjects");for(var P=0;P<xe.length;P++){var pe=xe[P];jt(pe.objId,!0),ne(pe.content),ne("endobj")}Cr.publish("postPutAdditionalObjects")},ua=function(P){Qt[P.fontName]=Qt[P.fontName]||{},Qt[P.fontName][P.fontStyle]=P.id},ba=function(P,pe,Ie,qe,Qe){var yt={id:"F"+(Object.keys(er).length+1).toString(10),postScriptName:P,fontName:pe,fontStyle:Ie,encoding:qe,isStandardFont:Qe||!1,metadata:{}};return Cr.publish("addFont",{font:yt,instance:this}),er[yt.id]=yt,ua(yt),yt.id},un=function(P){for(var pe=0,Ie=Be.length;pe<Ie;pe++){var qe=ba.call(this,P[pe][0],P[pe][1],P[pe][2],Be[pe][3],!0);y===!1&&(S[qe]=!0);var Qe=P[pe][0].split("-");ua({id:qe,fontName:Qe[0],fontStyle:Qe[1]||""})}Cr.publish("addFonts",{fonts:er,dictionary:Qt})},on=function(P){return P.foo=function(){try{return P.apply(this,arguments)}catch(qe){var pe=qe.stack||"";~pe.indexOf(" at ")&&(pe=pe.split(" at ")[1]);var Ie="Error in function "+pe.split(`
`)[0].split("<")[0]+": "+qe.message;if(!Pr.console)throw new Error(Ie);Pr.console.error(Ie,qe),Pr.alert&&alert(Ie)}},P.foo.bar=P,P.foo},wi=function(P,pe){var Ie,qe,Qe,yt,Mt,Kt,yr,kr,_r;if(Qe=(pe=pe||{}).sourceEncoding||"Unicode",Mt=pe.outputEncoding,(pe.autoencode||Mt)&&er[Ar].metadata&&er[Ar].metadata[Qe]&&er[Ar].metadata[Qe].encoding&&(yt=er[Ar].metadata[Qe].encoding,!Mt&&er[Ar].encoding&&(Mt=er[Ar].encoding),!Mt&&yt.codePages&&(Mt=yt.codePages[0]),typeof Mt=="string"&&(Mt=yt[Mt]),Mt)){for(yr=!1,Kt=[],Ie=0,qe=P.length;Ie<qe;Ie++)(kr=Mt[P.charCodeAt(Ie)])?Kt.push(String.fromCharCode(kr)):Kt.push(P[Ie]),Kt[Ie].charCodeAt(0)>>8&&(yr=!0);P=Kt.join("")}for(Ie=P.length;yr===void 0&&Ie!==0;)P.charCodeAt(Ie-1)>>8&&(yr=!0),Ie--;if(!yr)return P;for(Kt=pe.noBOM?[]:[254,255],Ie=0,qe=P.length;Ie<qe;Ie++){if((_r=(kr=P.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+P+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Kt.push(_r),Kt.push(kr-(_r<<8))}return String.fromCharCode.apply(void 0,Kt)},Kr=N.__private__.pdfEscape=N.pdfEscape=function(P,pe){return wi(P,pe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Or=N.__private__.beginPage=function(P){Oe[++cn]=[],xr[cn]={objId:0,contentsObjId:0,userUnit:Number(f),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},Te(cn),Pe(Oe[H])},Sn=function(P,pe){var Ie,qe,Qe;switch(r=pe||r,typeof P=="string"&&(Ie=D(P.toLowerCase()),Array.isArray(Ie)&&(qe=Ie[0],Qe=Ie[1])),Array.isArray(P)&&(qe=P[0]*zt,Qe=P[1]*zt),isNaN(qe)&&(qe=a[0],Qe=a[1]),(qe>14400||Qe>14400)&&(ga.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),qe=Math.min(14400,qe),Qe=Math.min(14400,Qe)),a=[qe,Qe],r.substr(0,1)){case"l":Qe>qe&&(a=[Qe,qe]);break;case"p":qe>Qe&&(a=[Qe,qe])}Or(a),La(wa),ne(Ts),Ca!==0&&ne(Ca+" J"),al!==0&&ne(al+" j"),Cr.publish("addPage",{pageNumber:cn})},nt=function(P){P>0&&P<=cn&&(Oe.splice(P,1),xr.splice(P,1),cn--,H>cn&&(H=cn),this.setPage(H))},Te=function(P){P>0&&P<=cn&&(H=P)},sr=N.__private__.getNumberOfPages=N.getNumberOfPages=function(){return Oe.length-1},Fn=function(P,pe,Ie){var qe,Qe=void 0;return Ie=Ie||{},P=P!==void 0?P:er[Ar].fontName,pe=pe!==void 0?pe:er[Ar].fontStyle,qe=P.toLowerCase(),Qt[qe]!==void 0&&Qt[qe][pe]!==void 0?Qe=Qt[qe][pe]:Qt[P]!==void 0&&Qt[P][pe]!==void 0?Qe=Qt[P][pe]:Ie.disableWarning===!1&&ga.warn("Unable to look up font label for font '"+P+"', '"+pe+"'. Refer to getFontList() for available fonts."),Qe||Ie.noFallback||(Qe=Qt.times[pe])==null&&(Qe=Qt.times.normal),Qe},ei=N.__private__.putInfo=function(){var P=Xr(),pe=function(qe){return qe};for(var Ie in x!==null&&(pe=En.encryptor(P,0)),ne("<<"),ne("/Producer ("+Kr(pe("jsPDF "+wr.version))+")"),Wt)Wt.hasOwnProperty(Ie)&&Wt[Ie]&&ne("/"+Ie.substr(0,1).toUpperCase()+Ie.substr(1)+" ("+Kr(pe(Wt[Ie]))+")");ne("/CreationDate ("+Kr(pe(q))+")"),ne(">>"),ne("endobj")},gs=N.__private__.putCatalog=function(P){var pe=(P=P||{}).rootDictionaryObjId||bt;switch(Xr(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+pe+" 0 R"),Fe||(Fe="fullwidth"),Fe){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ie=""+Fe;Ie.substr(Ie.length-1)==="%"&&(Fe=parseInt(Fe)/100),typeof Fe=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+Ne(Fe)+"]")}switch(Jt||(Jt="continuous"),Jt){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}Ht&&ne("/PageMode /"+Ht),Cr.publish("putCatalog"),ne(">>"),ne("endobj")},tl=N.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(ve+1)),ne("/Root "+ve+" 0 R"),ne("/Info "+(ve-1)+" 0 R"),x!==null&&ne("/Encrypt "+En.oid+" 0 R"),ne("/ID [ <"+te+"> <"+te+"> ]"),ne(">>")},ti=N.__private__.putHeader=function(){ne("%PDF-"+j),ne("%")},pr=N.__private__.putXRef=function(){var P="0000000000";ne("xref"),ne("0 "+(ve+1)),ne("0000000000 65535 f ");for(var pe=1;pe<=ve;pe++)typeof de[pe]=="function"?ne((P+de[pe]()).slice(-10)+" 00000 n "):de[pe]!==void 0?ne((P+de[pe]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},rn=N.__private__.buildDocument=function(){Ge(),Pe(ke),Cr.publish("buildDocument"),ti(),It(),jr(),tn(),x!==null&&ts(),ei(),gs();var P=me;return pr(),tl(),ne("startxref"),ne(""+P),ne("%%EOF"),Pe(Oe[H]),ke.join(`
`)},lo=N.__private__.getBlob=function(P){return new Blob([at(P)],{type:"application/pdf"})},Po=N.output=N.__private__.output=on(function(P,pe){switch(typeof(pe=pe||{})=="string"?pe={filename:pe}:pe.filename=pe.filename||"generated.pdf",P){case void 0:return rn();case"save":N.save(pe.filename);break;case"arraybuffer":return at(rn());case"blob":return lo(rn());case"bloburi":case"bloburl":if(Pr.URL!==void 0&&typeof Pr.URL.createObjectURL=="function")return Pr.URL&&Pr.URL.createObjectURL(lo(rn()))||void 0;ga.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ie="",qe=rn();try{Ie=Eb(qe)}catch{Ie=Eb(unescape(encodeURIComponent(qe)))}return"data:application/pdf;filename="+pe.filename+";base64,"+Ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Pr)==="[object Window]"){var Qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",yt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';pe.pdfObjectUrl&&(Qe=pe.pdfObjectUrl,yt="");var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Qe+'"'+yt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(pe)+");<\/script></body></html>",Kt=Pr.open();return Kt!==null&&Kt.document.write(Mt),Kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Pr)==="[object Window]"){var yr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(pe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+pe.filename+'" width="500px" height="400px" /></body></html>',kr=Pr.open();if(kr!==null){kr.document.write(yr);var _r=this;kr.document.documentElement.querySelector("#pdfViewer").onload=function(){kr.document.title=pe.filename,kr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(_r.output("bloburl"))}}return kr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Pr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ln='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",pe)+'"></iframe></body></html>',ta=Pr.open();if(ta!==null&&(ta.document.write(ln),ta.document.title=pe.filename),ta||typeof safari>"u")return ta;break;case"datauri":case"dataurl":return Pr.document.location.href=this.output("datauristring",pe);default:return null}}),Cs=function(P){return Array.isArray(es)===!0&&es.indexOf(P)>-1};switch(n){case"pt":zt=1;break;case"mm":zt=72/25.4;break;case"cm":zt=72/2.54;break;case"in":zt=72;break;case"px":zt=Cs("px_scaling")==1?.75:96/72;break;case"pc":case"em":zt=12;break;case"ex":zt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);zt=n}var En=null;le(),ue();var zn=function(P){return x!==null?En.encryptor(P,0):function(pe){return pe}},tc=N.__private__.getPageInfo=N.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xr[P].objId,pageNumber:P,pageContext:xr[P]}},rr=N.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var pe in xr)if(xr[pe].objId===P)break;return tc(pe)},_s=N.__private__.getCurrentPageInfo=N.getCurrentPageInfo=function(){return{objId:xr[H].objId,pageNumber:H,pageContext:xr[H]}};N.addPage=function(){return Sn.apply(this,arguments),this},N.setPage=function(){return Te.apply(this,arguments),Pe.call(this,Oe[H]),this},N.insertPage=function(P){return this.addPage(),this.movePage(H,P),this},N.movePage=function(P,pe){var Ie,qe;if(P>pe){Ie=Oe[P],qe=xr[P];for(var Qe=P;Qe>pe;Qe--)Oe[Qe]=Oe[Qe-1],xr[Qe]=xr[Qe-1];Oe[pe]=Ie,xr[pe]=qe,this.setPage(pe)}else if(P<pe){Ie=Oe[P],qe=xr[P];for(var yt=P;yt<pe;yt++)Oe[yt]=Oe[yt+1],xr[yt]=xr[yt+1];Oe[pe]=Ie,xr[pe]=qe,this.setPage(pe)}return this},N.deletePage=function(){return nt.apply(this,arguments),this},N.__private__.text=N.text=function(P,pe,Ie,qe,Qe){var yt,Mt,Kt,yr,kr,_r,ln,ta,kn,da=(qe=qe||{}).scope||this;if(typeof P=="number"&&typeof pe=="number"&&(typeof Ie=="string"||Array.isArray(Ie))){var di=Ie;Ie=pe,pe=P,P=di}if(arguments[3]instanceof or?(Y("The transform parameter of text() with a Matrix value"),kn=Qe):(Kt=arguments[4],yr=arguments[5],Jn(ln=arguments[3])==="object"&&ln!==null||(typeof Kt=="string"&&(yr=Kt,Kt=null),typeof ln=="string"&&(yr=ln,ln=null),typeof ln=="number"&&(Kt=ln,ln=null),qe={flags:ln,angle:Kt,align:yr})),isNaN(pe)||isNaN(Ie)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return da;var fa="",Ni=!1,Pa=typeof qe.lineHeightFactor=="number"?qe.lineHeightFactor:Bo,vs=da.internal.scaleFactor;function Fi(fn){return fn=fn.split("	").join(Array(qe.TabLen||9).join(" ")),Kr(fn,ln)}function Cl(fn){for(var qn,_n=fn.concat(),Sa=[],zo=_n.length;zo--;)typeof(qn=_n.shift())=="string"?Sa.push(qn):Array.isArray(fn)&&(qn.length===1||qn[1]===void 0&&qn[2]===void 0)?Sa.push(qn[0]):Sa.push([qn[0],qn[1],qn[2]]);return Sa}function zi(fn,qn){var _n;if(typeof fn=="string")_n=qn(fn)[0];else if(Array.isArray(fn)){for(var Sa,zo,ac=fn.concat(),jl=[],Iu=ac.length;Iu--;)typeof(Sa=ac.shift())=="string"?jl.push(qn(Sa)[0]):Array.isArray(Sa)&&typeof Sa[0]=="string"&&(zo=qn(Sa[0],Sa[1],Sa[2]),jl.push([zo[0],zo[1],zo[2]]));_n=jl}return _n}var fo=!1,Ks=!0;if(typeof P=="string")fo=!0;else if(Array.isArray(P)){var Hc=P.concat();Mt=[];for(var ho,Un=Hc.length;Un--;)(typeof(ho=Hc.shift())!="string"||Array.isArray(ho)&&typeof ho[0]!="string")&&(Ks=!1);fo=Ks}if(fo===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var _l=Ze/da.internal.scaleFactor,po=_l*(Pa-1);switch(qe.baseline){case"bottom":Ie-=po;break;case"top":Ie+=_l-po;break;case"hanging":Ie+=_l-2*po;break;case"middle":Ie+=_l/2-po}if((_r=qe.maxWidth||0)>0&&(typeof P=="string"?P=da.splitTextToSize(P,_r):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(fn,qn){return fn.concat(da.splitTextToSize(qn,_r))},[]))),yt={text:P,x:pe,y:Ie,options:qe,mutex:{pdfEscape:Kr,activeFontKey:Ar,fonts:er,activeFontSize:Ze}},Cr.publish("preProcessText",yt),P=yt.text,Kt=(qe=yt.options).angle,!(kn instanceof or)&&Kt&&typeof Kt=="number"){Kt*=Math.PI/180,qe.rotationDirection===0&&(Kt=-Kt),z===R.ADVANCED&&(Kt=-Kt);var ks=Math.cos(Kt),Zr=Math.sin(Kt);kn=new or(ks,Zr,-Zr,ks,0,0)}else Kt&&Kt instanceof or&&(kn=Kt);z!==R.ADVANCED||kn||(kn=ea),(kr=qe.charSpace||ut)!==void 0&&(fa+=V(Q(kr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ta=qe.horizontalScale)!==void 0&&(fa+=V(100*ta)+` Tz
`),qe.lang;var ri=-1,fe=qe.renderingMode!==void 0?qe.renderingMode:qe.stroke,o=da.internal.getCurrentPageInfo().pageContext;switch(fe){case 0:case!1:case"fill":ri=0;break;case 1:case!0:case"stroke":ri=1;break;case 2:case"fillThenStroke":ri=2;break;case 3:case"invisible":ri=3;break;case 4:case"fillAndAddForClipping":ri=4;break;case 5:case"strokeAndAddPathForClipping":ri=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ri=6;break;case 7:case"addToPathForClipping":ri=7}var d=o.usedRenderingMode!==void 0?o.usedRenderingMode:-1;ri!==-1?fa+=ri+` Tr
`:d!==-1&&(fa+=`0 Tr
`),ri!==-1&&(o.usedRenderingMode=ri),yr=qe.align||"left";var h,v=Ze*Pa,b=da.internal.pageSize.getWidth(),A=er[Ar];kr=qe.charSpace||ut,_r=qe.maxWidth||0,ln=Object.assign({autoencode:!0,noBOM:!0},qe.flags);var C=[],M=function(fn){return da.getStringUnitWidth(fn,{font:A,charSpace:kr,fontSize:Ze,doKerning:!1})*Ze/vs};if(Object.prototype.toString.call(P)==="[object Array]"){var B;Mt=Cl(P),yr!=="left"&&(h=Mt.map(M));var J,ce=0;if(yr==="right"){pe-=h[0],P=[],Un=Mt.length;for(var Ae=0;Ae<Un;Ae++)Ae===0?(J=Os(pe),B=xs(Ie)):(J=Q(ce-h[Ae]),B=-v),P.push([Mt[Ae],J,B]),ce=h[Ae]}else if(yr==="center"){pe-=h[0]/2,P=[],Un=Mt.length;for(var Me=0;Me<Un;Me++)Me===0?(J=Os(pe),B=xs(Ie)):(J=Q((ce-h[Me])/2),B=-v),P.push([Mt[Me],J,B]),ce=h[Me]}else if(yr==="left"){P=[],Un=Mt.length;for(var ze=0;ze<Un;ze++)P.push(Mt[ze])}else if(yr==="justify"&&A.encoding==="Identity-H"){P=[],Un=Mt.length,_r=_r!==0?_r:b;for(var He=0,Xe=0;Xe<Un;Xe++)if(B=Xe===0?xs(Ie):-v,J=Xe===0?Os(pe):He,Xe<Un-1){var dt=Q((_r-h[Xe])/(Mt[Xe].split(" ").length-1)),Pt=Mt[Xe].split(" ");P.push([Pt[0]+" ",J,B]),He=0;for(var Rt=1;Rt<Pt.length;Rt++){var Lt=(M(Pt[Rt-1]+" "+Pt[Rt])-M(Pt[Rt]))*vs+dt;Rt==Pt.length-1?P.push([Pt[Rt],Lt,0]):P.push([Pt[Rt]+" ",Lt,0]),He-=Lt}}else P.push([Mt[Xe],J,B]);P.push(["",He,0])}else{if(yr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],Un=Mt.length,_r=_r!==0?_r:b,Xe=0;Xe<Un;Xe++)B=Xe===0?xs(Ie):-v,J=Xe===0?Os(pe):0,Xe<Un-1?C.push(V(Q((_r-h[Xe])/(Mt[Xe].split(" ").length-1)))):C.push(0),P.push([Mt[Xe],J,B])}}var Ur=typeof qe.R2L=="boolean"?qe.R2L:At;Ur===!0&&(P=zi(P,function(fn,qn,_n){return[fn.split("").reverse().join(""),qn,_n]})),yt={text:P,x:pe,y:Ie,options:qe,mutex:{pdfEscape:Kr,activeFontKey:Ar,fonts:er,activeFontSize:Ze}},Cr.publish("postProcessText",yt),P=yt.text,Ni=yt.mutex.isHex||!1;var Ir=er[Ar].encoding;Ir!=="WinAnsiEncoding"&&Ir!=="StandardEncoding"||(P=zi(P,function(fn,qn,_n){return[Fi(fn),qn,_n]})),Mt=Cl(P),P=[];for(var Gn,ni,Aa,dn=0,Na=1,$a=Array.isArray(Mt[0])?Na:dn,ys="",Zs=function(fn,qn,_n){var Sa="";return _n instanceof or?(_n=typeof qe.angle=="number"?Ja(_n,new or(1,0,0,1,fn,qn)):Ja(new or(1,0,0,1,fn,qn),_n),z===R.ADVANCED&&(_n=Ja(new or(1,0,0,-1,0,0),_n)),Sa=_n.join(" ")+` Tm
`):Sa=V(fn)+" "+V(qn)+` Td
`,Sa},bs=0;bs<Mt.length;bs++){switch(ys="",$a){case Na:Aa=(Ni?"<":"(")+Mt[bs][0]+(Ni?">":")"),Gn=parseFloat(Mt[bs][1]),ni=parseFloat(Mt[bs][2]);break;case dn:Aa=(Ni?"<":"(")+Mt[bs]+(Ni?">":")"),Gn=Os(pe),ni=xs(Ie)}C!==void 0&&C[bs]!==void 0&&(ys=C[bs]+` Tw
`),bs===0?P.push(ys+Zs(Gn,ni,kn)+Aa):$a===dn?P.push(ys+Aa):$a===Na&&P.push(ys+Zs(Gn,ni,kn)+Aa)}P=$a===dn?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var as=`BT
/`;return as+=Ar+" "+Ze+` Tf
`,as+=V(Ze*Pa)+` TL
`,as+=rs+`
`,as+=fa,as+=P,ne(as+="ET"),S[Ar]=!0,da};var Ys=N.__private__.clip=N.clip=function(P){return ne(P==="evenodd"?"W*":"W"),this};N.clipEvenOdd=function(){return Ys("evenodd")},N.__private__.discardPath=N.discardPath=function(){return ne("n"),this};var fr=N.__private__.isValidStyle=function(P){var pe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(pe=!0),pe};N.__private__.setDefaultPathOperation=N.setDefaultPathOperation=function(P){return fr(P)&&(p=P),this};var Rc=N.__private__.getStyle=N.getStyle=function(P){var pe=p;switch(P){case"D":case"S":pe="S";break;case"F":pe="f";break;case"FD":case"DF":pe="B";break;case"f":case"f*":case"B":case"B*":pe=P}return pe},Tr=N.close=function(){return ne("h"),this};N.stroke=function(){return ne("S"),this},N.fill=function(P){return Cn("f",P),this},N.fillEvenOdd=function(P){return Cn("f*",P),this},N.fillStroke=function(P){return Cn("B",P),this},N.fillStrokeEvenOdd=function(P){return Cn("B*",P),this};var Cn=function(P,pe){Jn(pe)==="object"?$s(pe,P):ne(P)},Nl=function(P){P===null||z===R.ADVANCED&&P===void 0||(P=Rc(P),ne(P))};function Ro(P,pe,Ie,qe,Qe){var yt=new hh(pe||this.boundingBox,Ie||this.xStep,qe||this.yStep,this.gState,Qe||this.matrix);yt.stream=this.stream;var Mt=P+"$$"+this.cloneIndex+++"$$";return ya(Mt,yt),yt}var $s=function(P,pe){var Ie=Ri[P.key],qe=Hr[Ie];if(qe instanceof Qd)ne("q"),ne(Xs(pe)),qe.gState&&N.setGState(qe.gState),ne(P.matrix.toString()+" cm"),ne("/"+Ie+" sh"),ne("Q");else if(qe instanceof hh){var Qe=new or(1,0,0,-1,0,ns());P.matrix&&(Qe=Qe.multiply(P.matrix||ea),Ie=Ro.call(qe,P.key,P.boundingBox,P.xStep,P.yStep,Qe).id),ne("q"),ne("/Pattern cs"),ne("/"+Ie+" scn"),qe.gState&&N.setGState(qe.gState),ne(pe),ne("Q")}},Xs=function(P){switch(P){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},rl=N.moveTo=function(P,pe){return ne(V(Q(P))+" "+V(ie(pe))+" m"),this},js=N.lineTo=function(P,pe){return ne(V(Q(P))+" "+V(ie(pe))+" l"),this},Bi=N.curveTo=function(P,pe,Ie,qe,Qe,yt){return ne([V(Q(P)),V(ie(pe)),V(Q(Ie)),V(ie(qe)),V(Q(Qe)),V(ie(yt)),"c"].join(" ")),this};N.__private__.line=N.line=function(P,pe,Ie,qe,Qe){if(isNaN(P)||isNaN(pe)||isNaN(Ie)||isNaN(qe)||!fr(Qe))throw new Error("Invalid arguments passed to jsPDF.line");return z===R.COMPAT?this.lines([[Ie-P,qe-pe]],P,pe,[1,1],Qe||"S"):this.lines([[Ie-P,qe-pe]],P,pe,[1,1]).stroke()},N.__private__.lines=N.lines=function(P,pe,Ie,qe,Qe,yt){var Mt,Kt,yr,kr,_r,ln,ta,kn,da,di,fa,Ni;if(typeof P=="number"&&(Ni=Ie,Ie=pe,pe=P,P=Ni),qe=qe||[1,1],yt=yt||!1,isNaN(pe)||isNaN(Ie)||!Array.isArray(P)||!Array.isArray(qe)||!fr(Qe)||typeof yt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(rl(pe,Ie),Mt=qe[0],Kt=qe[1],kr=P.length,di=pe,fa=Ie,yr=0;yr<kr;yr++)(_r=P[yr]).length===2?(di=_r[0]*Mt+di,fa=_r[1]*Kt+fa,js(di,fa)):(ln=_r[0]*Mt+di,ta=_r[1]*Kt+fa,kn=_r[2]*Mt+di,da=_r[3]*Kt+fa,di=_r[4]*Mt+di,fa=_r[5]*Kt+fa,Bi(ln,ta,kn,da,di,fa));return yt&&Tr(),Nl(Qe),this},N.path=function(P){for(var pe=0;pe<P.length;pe++){var Ie=P[pe],qe=Ie.c;switch(Ie.op){case"m":rl(qe[0],qe[1]);break;case"l":js(qe[0],qe[1]);break;case"c":Bi.apply(this,qe);break;case"h":Tr()}}return this},N.__private__.rect=N.rect=function(P,pe,Ie,qe,Qe){if(isNaN(P)||isNaN(pe)||isNaN(Ie)||isNaN(qe)||!fr(Qe))throw new Error("Invalid arguments passed to jsPDF.rect");return z===R.COMPAT&&(qe=-qe),ne([V(Q(P)),V(ie(pe)),V(Q(Ie)),V(Q(qe)),"re"].join(" ")),Nl(Qe),this},N.__private__.triangle=N.triangle=function(P,pe,Ie,qe,Qe,yt,Mt){if(isNaN(P)||isNaN(pe)||isNaN(Ie)||isNaN(qe)||isNaN(Qe)||isNaN(yt)||!fr(Mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ie-P,qe-pe],[Qe-Ie,yt-qe],[P-Qe,pe-yt]],P,pe,[1,1],Mt,!0),this},N.__private__.roundedRect=N.roundedRect=function(P,pe,Ie,qe,Qe,yt,Mt){if(isNaN(P)||isNaN(pe)||isNaN(Ie)||isNaN(qe)||isNaN(Qe)||isNaN(yt)||!fr(Mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Kt=4/3*(Math.SQRT2-1);return Qe=Math.min(Qe,.5*Ie),yt=Math.min(yt,.5*qe),this.lines([[Ie-2*Qe,0],[Qe*Kt,0,Qe,yt-yt*Kt,Qe,yt],[0,qe-2*yt],[0,yt*Kt,-Qe*Kt,yt,-Qe,yt],[2*Qe-Ie,0],[-Qe*Kt,0,-Qe,-yt*Kt,-Qe,-yt],[0,2*yt-qe],[0,-yt*Kt,Qe*Kt,-yt,Qe,-yt]],P+Qe,pe,[1,1],Mt,!0),this},N.__private__.ellipse=N.ellipse=function(P,pe,Ie,qe,Qe){if(isNaN(P)||isNaN(pe)||isNaN(Ie)||isNaN(qe)||!fr(Qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var yt=4/3*(Math.SQRT2-1)*Ie,Mt=4/3*(Math.SQRT2-1)*qe;return rl(P+Ie,pe),Bi(P+Ie,pe-Mt,P+yt,pe-qe,P,pe-qe),Bi(P-yt,pe-qe,P-Ie,pe-Mt,P-Ie,pe),Bi(P-Ie,pe+Mt,P-yt,pe+qe,P,pe+qe),Bi(P+yt,pe+qe,P+Ie,pe+Mt,P+Ie,pe),Nl(Qe),this},N.__private__.circle=N.circle=function(P,pe,Ie,qe){if(isNaN(P)||isNaN(pe)||isNaN(Ie)||!fr(qe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,pe,Ie,Ie,qe)},N.setFont=function(P,pe,Ie){return Ie&&(pe=X(pe,Ie)),Ar=Fn(P,pe,{disableWarning:!1}),this};var co=N.__private__.getFont=N.getFont=function(){return er[Fn.apply(N,arguments)]};N.__private__.getFontList=N.getFontList=function(){var P,pe,Ie={};for(P in Qt)if(Qt.hasOwnProperty(P))for(pe in Ie[P]=[],Qt[P])Qt[P].hasOwnProperty(pe)&&Ie[P].push(pe);return Ie},N.addFont=function(P,pe,Ie,qe,Qe){var yt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&yt.indexOf(arguments[3])!==-1?Qe=arguments[3]:arguments[3]&&yt.indexOf(arguments[3])==-1&&(Ie=X(Ie,qe)),Qe=Qe||"Identity-H",ba.call(this,P,pe,Ie,Qe)};var Bo,wa=e.lineWidth||.200025,Ai=N.__private__.getLineWidth=N.getLineWidth=function(){return wa},La=N.__private__.setLineWidth=N.setLineWidth=function(P){return wa=P,ne(V(Q(P))+" w"),this};N.__private__.setLineDash=wr.API.setLineDash=wr.API.setLineDashPattern=function(P,pe){if(P=P||[],pe=pe||0,isNaN(pe)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(Ie){return V(Q(Ie))}).join(" "),pe=V(Q(pe)),ne("["+P+"] "+pe+" d"),this};var Fo=N.__private__.getLineHeight=N.getLineHeight=function(){return Ze*Bo};N.__private__.getLineHeight=N.getLineHeight=function(){return Ze*Bo};var Bc=N.__private__.setLineHeightFactor=N.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(Bo=P),this},Sl=N.__private__.getLineHeightFactor=N.getLineHeightFactor=function(){return Bo};Bc(e.lineHeight);var Os=N.__private__.getHorizontalCoordinate=function(P){return Q(P)},xs=N.__private__.getVerticalCoordinate=function(P){return z===R.ADVANCED?P:xr[H].mediaBox.topRightY-xr[H].mediaBox.bottomLeftY-Q(P)},rc=N.__private__.getHorizontalCoordinateString=N.getHorizontalCoordinateString=function(P){return V(Os(P))},nn=N.__private__.getVerticalCoordinateString=N.getVerticalCoordinateString=function(P){return V(xs(P))},Ts=e.strokeColor||"0 G";N.__private__.getStrokeColor=N.getDrawColor=function(){return Re(Ts)},N.__private__.setStrokeColor=N.setDrawColor=function(P,pe,Ie,qe){return Ts=mt({ch1:P,ch2:pe,ch3:Ie,ch4:qe,pdfColorType:"draw",precision:2}),ne(Ts),this};var nl=e.fillColor||"0 g";N.__private__.getFillColor=N.getFillColor=function(){return Re(nl)},N.__private__.setFillColor=N.setFillColor=function(P,pe,Ie,qe){return nl=mt({ch1:P,ch2:pe,ch3:Ie,ch4:qe,pdfColorType:"fill",precision:2}),ne(nl),this};var rs=e.textColor||"0 g",Fc=N.__private__.getTextColor=N.getTextColor=function(){return Re(rs)};N.__private__.setTextColor=N.setTextColor=function(P,pe,Ie,qe){return rs=mt({ch1:P,ch2:pe,ch3:Ie,ch4:qe,pdfColorType:"text",precision:3}),this};var ut=e.charSpace,zr=N.__private__.getCharSpace=N.getCharSpace=function(){return parseFloat(ut||0)};N.__private__.setCharSpace=N.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ut=P,this};var Ca=0;N.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},N.__private__.setLineCap=N.setLineCap=function(P){var pe=N.CapJoinStyles[P];if(pe===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ca=pe,ne(pe+" J"),this};var al=0;N.__private__.setLineJoin=N.setLineJoin=function(P){var pe=N.CapJoinStyles[P];if(pe===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return al=pe,ne(pe+" j"),this},N.__private__.setLineMiterLimit=N.__private__.setMiterLimit=N.setLineMiterLimit=N.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(V(Q(P))+" M"),this},N.GState=Pm,N.setGState=function(P){(P=typeof P=="string"?xn[Er[P]]:zc(null,P)).equals(oa)||(ne("/"+P.id+" gs"),oa=P)};var zc=function(P,pe){if(!P||!Er[P]){var Ie=!1;for(var qe in xn)if(xn.hasOwnProperty(qe)&&xn[qe].equals(pe)){Ie=!0;break}if(Ie)pe=xn[qe];else{var Qe="GS"+(Object.keys(xn).length+1).toString(10);xn[Qe]=pe,pe.id=Qe}return P&&(Er[P]=pe.id),Cr.publish("addGState",pe),pe}};N.addGState=function(P,pe){return zc(P,pe),this},N.saveGraphicsState=function(){return ne("q"),Jr.push({key:Ar,size:Ze,color:rs}),this},N.restoreGraphicsState=function(){ne("Q");var P=Jr.pop();return Ar=P.key,Ze=P.size,rs=P.color,oa=null,this},N.setCurrentTransformationMatrix=function(P){return ne(P.toString()+" cm"),this},N.comment=function(P){return ne("#"+P),this};var El=function(P,pe){var Ie=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ie},set:function(yt){isNaN(yt)||(Ie=parseFloat(yt))}});var qe=pe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return qe},set:function(yt){isNaN(yt)||(qe=parseFloat(yt))}});var Qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Qe},set:function(yt){Qe=yt.toString()}}),this},Uc=function(P,pe,Ie,qe){El.call(this,P,pe),this.type="rect";var Qe=Ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Qe},set:function(Mt){isNaN(Mt)||(Qe=parseFloat(Mt))}});var yt=qe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return yt},set:function(Mt){isNaN(Mt)||(yt=parseFloat(Mt))}}),this},qc=function(){this.page=cn,this.currentPage=H,this.pages=Oe.slice(0),this.pagesContext=xr.slice(0),this.x=Pn,this.y=Vt,this.matrix=Et,this.width=Tn(H),this.height=ns(H),this.outputDestination=Le,this.id="",this.objectNumber=-1};qc.prototype.restore=function(){cn=this.page,H=this.currentPage,xr=this.pagesContext,Oe=this.pages,Pn=this.x,Vt=this.y,Et=this.matrix,il(H,this.width),vn(H,this.height),Le=this.outputDestination};var nc=function(P,pe,Ie,qe,Qe){ca.push(new qc),cn=H=0,Oe=[],Pn=P,Vt=pe,Et=Qe,Or([Ie,qe])},_a=function(P){if(la[P])ca.pop().restore();else{var pe=new qc,Ie="Xo"+(Object.keys($r).length+1).toString(10);pe.id=Ie,la[P]=Ie,$r[Ie]=pe,Cr.publish("addFormObject",pe),ca.pop().restore()}};for(var uo in N.beginFormObject=function(P,pe,Ie,qe,Qe){return nc(P,pe,Ie,qe,Qe),this},N.endFormObject=function(P){return _a(P),this},N.doFormObject=function(P,pe){var Ie=$r[la[P]];return ne("q"),ne(pe.toString()+" cm"),ne("/"+Ie.id+" Do"),ne("Q"),this},N.getFormObject=function(P){var pe=$r[la[P]];return{x:pe.x,y:pe.y,width:pe.width,height:pe.height,matrix:pe.matrix}},N.save=function(P,pe){return P=P||"generated.pdf",(pe=pe||{}).returnPromise=pe.returnPromise||!1,pe.returnPromise===!1?($d(lo(rn()),P),typeof $d.unload=="function"&&Pr.setTimeout&&setTimeout($d.unload,911),this):new Promise(function(Ie,qe){try{var Qe=$d(lo(rn()),P);typeof $d.unload=="function"&&Pr.setTimeout&&setTimeout($d.unload,911),Ie(Qe)}catch(yt){qe(yt.message)}})},wr.API)wr.API.hasOwnProperty(uo)&&(uo==="events"&&wr.API.events.length?function(P,pe){var Ie,qe,Qe;for(Qe=pe.length-1;Qe!==-1;Qe--)Ie=pe[Qe][0],qe=pe[Qe][1],P.subscribe.apply(P,[Ie].concat(typeof qe=="function"?[qe]:qe))}(Cr,wr.API.events):N[uo]=wr.API[uo]);var Tn=N.getPageWidth=function(P){return(xr[P=P||H].mediaBox.topRightX-xr[P].mediaBox.bottomLeftX)/zt},il=N.setPageWidth=function(P,pe){xr[P].mediaBox.topRightX=pe*zt+xr[P].mediaBox.bottomLeftX},ns=N.getPageHeight=function(P){return(xr[P=P||H].mediaBox.topRightY-xr[P].mediaBox.bottomLeftY)/zt},vn=N.setPageHeight=function(P,pe){xr[P].mediaBox.topRightY=pe*zt+xr[P].mediaBox.bottomLeftY};return N.internal={pdfEscape:Kr,getStyle:Rc,getFont:co,getFontSize:rt,getCharSpace:zr,getTextColor:Fc,getLineHeight:Fo,getLineHeightFactor:Sl,getLineWidth:Ai,write:tt,getHorizontalCoordinate:Os,getVerticalCoordinate:xs,getCoordinateString:rc,getVerticalCoordinateString:nn,collections:{},newObject:Xr,newAdditionalObject:et,newObjectDeferred:je,newObjectDeferredBegin:jt,getFilters:pt,putStream:Ot,events:Cr,scaleFactor:zt,pageSize:{getWidth:function(){return Tn(H)},setWidth:function(P){il(H,P)},getHeight:function(){return ns(H)},setHeight:function(P){vn(H,P)}},encryptionOptions:x,encryption:En,getEncryptor:zn,output:Po,getNumberOfPages:sr,pages:Oe,out:ne,f2:Ne,f3:Z,getPageInfo:tc,getPageInfoByObjId:rr,getCurrentPageInfo:_s,getPDFVersion:_,Point:El,Rectangle:Uc,Matrix:or,hasHotfix:Cs},Object.defineProperty(N.internal.pageSize,"width",{get:function(){return Tn(H)},set:function(P){il(H,P)},enumerable:!0,configurable:!0}),Object.defineProperty(N.internal.pageSize,"height",{get:function(){return ns(H)},set:function(P){vn(H,P)},enumerable:!0,configurable:!0}),un.call(N,Be),Ar="F1",Sn(a,r),Cr.publish("initialized"),N}uh.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},uh.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},uh.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},uh.prototype.processOwnerPassword=function(e,t){return _b(Cb(t).substr(0,5),e)},uh.prototype.encryptor=function(e,t){var r=Cb(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return _b(r,n)}},Pm.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Jn(e)!==Jn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},wr.API={events:[]},wr.version="2.5.2";var si=wr.API,tw=1,Sf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ih=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Yr=function(e){return e.toFixed(2)},nd=function(e){return e.toFixed(5)};si.__acroform__={};var Mo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},yS=function(e){return e*tw},bc=function(e){var t=new cO,r=hr.internal.getHeight(e)||0,n=hr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Yr(n)),Number(Yr(r))],t},JB=si.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},eF=si.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},tF=si.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},pi=si.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return tF(e,t-1)},mi=si.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return JB(e,t-1)},gi=si.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return eF(e,t-1)},rF=si.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],c=e[2],f=e[3],m={};return m.lowerLeft_X=r(a)||0,m.lowerLeft_Y=n(i+f)||0,m.upperRight_X=r(a+c)||0,m.upperRight_Y=n(i)||0,[Number(Yr(m.lowerLeft_X)),Number(Yr(m.lowerLeft_Y)),Number(Yr(m.upperRight_X)),Number(Yr(m.upperRight_Y))]},nF=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=jb(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Yr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=bc(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},jb=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(Z){return Z.split(`
`)}):a.map(function(Z){return[Z]});var i=r,c=hr.internal.getHeight(e)||0;c=c<0?-c:c;var f=hr.internal.getWidth(e)||0;f=f<0?-f:f;var m=function(Z,Q,ye){if(Z+1<a.length){var ie=Q+" "+a[Z+1][0];return qp(ie,e,ye).width<=f-4}return!1};i++;e:for(;i>0;){t="",i--;var p,x,y=qp("3",e,i).height,S=e.multiline?c-i:(c-y)/2,N=S+=2,j=0,_=0,T=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+qp(t,e,i=12).width+", FieldWidth:"+f+`
`;break}for(var D="",R=0,z=0;z<a.length;z++)if(a.hasOwnProperty(z)){var G=!1;if(a[z].length!==1&&T!==a[z].length-1){if((y+2)*(R+2)+2>c)continue e;D+=a[z][T],G=!0,_=z,z--}else{D=(D+=a[z][T]+" ").substr(D.length-1)==" "?D.substr(0,D.length-1):D;var $=parseInt(z),X=m($,D,i),V=z>=a.length-1;if(X&&!V){D+=" ",T=0;continue}if(X||V){if(V)_=$;else if(e.multiline&&(y+2)*(R+2)+2>c)continue e}else{if(!e.multiline||(y+2)*(R+2)+2>c)continue e;_=$}}for(var Y="",W=j;W<=_;W++){var Ne=a[W];if(e.multiline){if(W===_){Y+=Ne[T]+" ",T=(T+1)%Ne.length;continue}if(W===j){Y+=Ne[Ne.length-1]+" ";continue}}Y+=Ne[0]+" "}switch(Y=Y.substr(Y.length-1)==" "?Y.substr(0,Y.length-1):Y,x=qp(Y,e,i).width,e.textAlign){case"right":p=f-x-2;break;case"center":p=(f-x)/2;break;case"left":default:p=2}t+=Yr(p)+" "+Yr(N)+` Td
`,t+="("+Sf(Y)+`) Tj
`,t+=-Yr(p)+` 0 Td
`,N=-(i+2),x=0,j=G?_:_+1,R++,D=""}break}return n.text=t,n.fontSize=i,n},qp=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},aF={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},iF=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},sF=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),Jn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},oF=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ql.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(aF)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");tw=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new uO,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&iF(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var c in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(c)){var f=n[c],m=[],p=f.Rect;if(f.Rect&&(f.Rect=rF(f.Rect,a)),a.internal.newObjectDeferredBegin(f.objId,!0),f.DA=hr.createDefaultAppearanceStream(f),Jn(f)==="object"&&typeof f.getKeyValueListForStream=="function"&&(m=f.getKeyValueListForStream()),f.Rect=p,f.hasAppearanceStream&&!f.appearanceStreamContent){var x=nF(f);m.push({key:"AP",value:"<</N "+x+">>"}),a.internal.acroformPlugin.xForms.push(x)}if(f.appearanceStreamContent){var y="";for(var S in f.appearanceStreamContent)if(f.appearanceStreamContent.hasOwnProperty(S)){var N=f.appearanceStreamContent[S];if(y+="/"+S+" ",y+="<<",Object.keys(N).length>=1||Array.isArray(N)){for(var c in N)if(N.hasOwnProperty(c)){var j=N[c];typeof j=="function"&&(j=j.call(a,f)),y+="/"+c+" "+j+" ",a.internal.acroformPlugin.xForms.indexOf(j)>=0||a.internal.acroformPlugin.xForms.push(j)}}else typeof(j=N)=="function"&&(j=j.call(a,f)),y+="/"+c+" "+j,a.internal.acroformPlugin.xForms.indexOf(j)>=0||a.internal.acroformPlugin.xForms.push(j);y+=">>"}m.push({key:"AP",value:`<<
`+y+">>"})}a.internal.putStream({additionalKeyValues:m,objectId:f.objId}),a.internal.out("endobj")}i&&sF(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},lO=si.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(c){return c};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Jn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Sf(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},xv=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Sf(n(e))+")"},Nc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Nc.prototype.toString=function(){return this.objId+" 0 R"},Nc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Nc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:lO(a,this.objId,this.scope)}):a instanceof Nc?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var cO=function(){Nc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Mo(cO,Nc);var uO=function(){Nc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Sf(r(e))+")"}},set:function(r){e=r}})};Mo(uO,Nc);var Ql=function e(){Nc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(D){if(isNaN(D))throw new Error('Invalid value "'+D+'" for attribute F supplied.');t=D}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!pi(t,3)},set:function(D){D?this.F=mi(t,3):this.F=gi(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(D){if(isNaN(D))throw new Error('Invalid value "'+D+'" for attribute Ff supplied.');r=D}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(D){n=D!==void 0?D:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(D){n[0]=D}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(D){n[1]=D}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(D){n[2]=D}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(D){n[3]=D}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(D){switch(D){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=D;break;default:throw new Error('Invalid value "'+D+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Rm)return;i="FieldObject"+e.FieldNum++}var D=function(R){return R};return this.scope&&(D=this.scope.internal.getEncryptor(this.objId)),"("+Sf(D(i))+")"},set:function(D){i=D.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(D){i=D}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(D){c=D}});var f="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return f},set:function(D){f=D}});var m=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return m},set:function(D){m=D}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/tw:p},set:function(D){p=D}});var x="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return x},set:function(D){x=D}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof Rm||this instanceof sf))return xv(y,this.objId,this.scope)},set:function(D){D=D.toString(),y=D}});var S=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof fs?S:xv(S,this.objId,this.scope)},set:function(D){D=D.toString(),S=this instanceof fs?D:D.substr(0,1)==="("?ih(D.substr(1,D.length-2)):ih(D)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof fs?ih(S.substr(1,S.length-1)):S},set:function(D){D=D.toString(),S=this instanceof fs?"/"+D:D}});var N=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(N)return N},set:function(D){this.V=D}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(N)return this instanceof fs?N:xv(N,this.objId,this.scope)},set:function(D){D=D.toString(),N=this instanceof fs?D:D.substr(0,1)==="("?ih(D.substr(1,D.length-2)):ih(D)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof fs?ih(N.substr(1,N.length-1)):N},set:function(D){D=D.toString(),N=this instanceof fs?"/"+D:D}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(D){D=!!D,_=D}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(D){j=D}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,1)},set:function(D){D?this.Ff=mi(this.Ff,1):this.Ff=gi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,2)},set:function(D){D?this.Ff=mi(this.Ff,2):this.Ff=gi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,3)},set:function(D){D?this.Ff=mi(this.Ff,3):this.Ff=gi(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(D){if([0,1,2].indexOf(D)===-1)throw new Error('Invalid value "'+D+'" for attribute Q supplied.');T=D}}),Object.defineProperty(this,"textAlign",{get:function(){var D;switch(T){case 0:default:D="left";break;case 1:D="center";break;case 2:D="right"}return D},configurable:!0,enumerable:!0,set:function(D){switch(D){case"right":case 2:T=2;break;case"center":case 1:T=1;break;case"left":case 0:default:T=0}}})};Mo(Ql,Nc);var vh=function(){Ql.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return lO(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,c,f){f||(f=1);for(var m,p=[];m=c.exec(i);)p.push(m[f]);return p}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,18)},set:function(r){r?this.Ff=mi(this.Ff,18):this.Ff=gi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=mi(this.Ff,19):this.Ff=gi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,20)},set:function(r){r?(this.Ff=mi(this.Ff,20),t.sort()):this.Ff=gi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,22)},set:function(r){r?this.Ff=mi(this.Ff,22):this.Ff=gi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,23)},set:function(r){r?this.Ff=mi(this.Ff,23):this.Ff=gi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,27)},set:function(r){r?this.Ff=mi(this.Ff,27):this.Ff=gi(this.Ff,27)}}),this.hasAppearanceStream=!1};Mo(vh,Ql);var yh=function(){vh.call(this),this.fontName="helvetica",this.combo=!1};Mo(yh,vh);var bh=function(){yh.call(this),this.combo=!0};Mo(bh,yh);var ym=function(){bh.call(this),this.edit=!0};Mo(ym,bh);var fs=function(){Ql.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,15)},set:function(r){r?this.Ff=mi(this.Ff,15):this.Ff=gi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,16)},set:function(r){r?this.Ff=mi(this.Ff,16):this.Ff=gi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,17)},set:function(r){r?this.Ff=mi(this.Ff,17):this.Ff=gi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,26)},set:function(r){r?this.Ff=mi(this.Ff,26):this.Ff=gi(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Sf(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Jn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Mo(fs,Ql);var bm=function(){fs.call(this),this.pushButton=!0};Mo(bm,fs);var wh=function(){fs.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Mo(wh,fs);var Rm=function(){var e,t;Ql.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(f){return f};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,c=[];for(i in c.push("<<"),n)c.push("/"+i+" ("+Sf(a(n[i]))+")");return c.push(">>"),c.join(`
`)},set:function(a){Jn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=hr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Mo(Rm,Ql),wh.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},wh.prototype.createOption=function(e){var t=new Rm;return t.Parent=this,t.optionName=e,this.Kids.push(t),lF.call(this.scope,t),t};var wm=function(){fs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=hr.CheckBox.createAppearanceStream()};Mo(wm,fs);var sf=function(){Ql.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,13)},set:function(t){t?this.Ff=mi(this.Ff,13):this.Ff=gi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,21)},set:function(t){t?this.Ff=mi(this.Ff,21):this.Ff=gi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,23)},set:function(t){t?this.Ff=mi(this.Ff,23):this.Ff=gi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,24)},set:function(t){t?this.Ff=mi(this.Ff,24):this.Ff=gi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,25)},set:function(t){t?this.Ff=mi(this.Ff,25):this.Ff=gi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,26)},set:function(t){t?this.Ff=mi(this.Ff,26):this.Ff=gi(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Mo(sf,Ql);var Am=function(){sf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,14)},set:function(e){e?this.Ff=mi(this.Ff,14):this.Ff=gi(this.Ff,14)}}),this.password=!0};Mo(Am,sf);var hr={CheckBox:{createAppearanceStream:function(){return{N:{On:hr.CheckBox.YesNormal},D:{On:hr.CheckBox.YesPushDown,Off:hr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=bc(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=jb(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Yr(hr.internal.getWidth(e))+" "+Yr(hr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Yr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=bc(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=hr.internal.getHeight(e),c=hr.internal.getWidth(e),f=jb(e,e.caption);return a.push("1 g"),a.push("0 0 "+Yr(c)+" "+Yr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Yr(c-1)+" "+Yr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Yr(f.fontSize)+" Tf "+n),a.push(f.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=bc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Yr(hr.internal.getWidth(e))+" "+Yr(hr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:hr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=hr.RadioButton.Circle.YesNormal,t.D[e]=hr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=bc(e);t.scope=e.scope;var r=[],n=hr.internal.getWidth(e)<=hr.internal.getHeight(e)?hr.internal.getWidth(e)/4:hr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=hr.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+nd(hr.internal.getWidth(e)/2)+" "+nd(hr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=bc(e);t.scope=e.scope;var r=[],n=hr.internal.getWidth(e)<=hr.internal.getHeight(e)?hr.internal.getWidth(e)/4:hr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*hr.internal.Bezier_C).toFixed(5)),c=Number((n*hr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+nd(hr.internal.getWidth(e)/2)+" "+nd(hr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+nd(hr.internal.getWidth(e)/2)+" "+nd(hr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+c+" "+c+" "+n+" 0 "+n+" c"),r.push("-"+c+" "+n+" -"+n+" "+c+" -"+n+" 0 c"),r.push("-"+n+" -"+c+" -"+c+" -"+n+" 0 -"+n+" c"),r.push(c+" -"+n+" "+n+" -"+c+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=bc(e);t.scope=e.scope;var r=[],n=hr.internal.getWidth(e)<=hr.internal.getHeight(e)?hr.internal.getWidth(e)/4:hr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*hr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+nd(hr.internal.getWidth(e)/2)+" "+nd(hr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:hr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=hr.RadioButton.Cross.YesNormal,t.D[e]=hr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=bc(e);t.scope=e.scope;var r=[],n=hr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Yr(hr.internal.getWidth(e)-2)+" "+Yr(hr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Yr(n.x1.x)+" "+Yr(n.x1.y)+" m"),r.push(Yr(n.x2.x)+" "+Yr(n.x2.y)+" l"),r.push(Yr(n.x4.x)+" "+Yr(n.x4.y)+" m"),r.push(Yr(n.x3.x)+" "+Yr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=bc(e);t.scope=e.scope;var r=hr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Yr(hr.internal.getWidth(e))+" "+Yr(hr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Yr(hr.internal.getWidth(e)-2)+" "+Yr(hr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Yr(r.x1.x)+" "+Yr(r.x1.y)+" m"),n.push(Yr(r.x2.x)+" "+Yr(r.x2.y)+" l"),n.push(Yr(r.x4.x)+" "+Yr(r.x4.y)+" m"),n.push(Yr(r.x3.x)+" "+Yr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=bc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Yr(hr.internal.getWidth(e))+" "+Yr(hr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};hr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=hr.internal.getWidth(e),r=hr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},hr.internal.getWidth=function(e){var t=0;return Jn(e)==="object"&&(t=yS(e.Rect[2])),t},hr.internal.getHeight=function(e){var t=0;return Jn(e)==="object"&&(t=yS(e.Rect[3])),t};var lF=si.addField=function(e){if(oF(this,e),!(e instanceof Ql))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};si.AcroFormChoiceField=vh,si.AcroFormListBox=yh,si.AcroFormComboBox=bh,si.AcroFormEditBox=ym,si.AcroFormButton=fs,si.AcroFormPushButton=bm,si.AcroFormRadioButton=wh,si.AcroFormCheckBox=wm,si.AcroFormTextField=sf,si.AcroFormPasswordField=Am,si.AcroFormAppearance=hr,si.AcroForm={ChoiceField:vh,ListBox:yh,ComboBox:bh,EditBox:ym,Button:fs,PushButton:bm,RadioButton:wh,CheckBox:wm,TextField:sf,PasswordField:Am,Appearance:hr},wr.AcroForm={ChoiceField:vh,ListBox:yh,ComboBox:bh,EditBox:ym,Button:fs,PushButton:bm,RadioButton:wh,CheckBox:wm,TextField:sf,PasswordField:Am,Appearance:hr};wr.AcroForm;function dO(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(Z,Q){var ye,ie,q,te,se,ue=t;if((Q=Q||t)==="RGBA"||Z.data!==void 0&&Z.data instanceof Uint8ClampedArray&&"height"in Z&&"width"in Z)return"RGBA";if(X(Z))for(se in r)for(q=r[se],ye=0;ye<q.length;ye+=1){for(te=!0,ie=0;ie<q[ye].length;ie+=1)if(q[ye][ie]!==void 0&&q[ye][ie]!==Z[ie]){te=!1;break}if(te===!0){ue=se;break}}else for(se in r)for(q=r[se],ye=0;ye<q.length;ye+=1){for(te=!0,ie=0;ie<q[ye].length;ie+=1)if(q[ye][ie]!==void 0&&q[ye][ie]!==Z.charCodeAt(ie)){te=!1;break}if(te===!0){ue=se;break}}return ue===t&&Q!==t&&(ue=Q),ue},a=function Z(Q){for(var ye=this.internal.write,ie=this.internal.putStream,q=(0,this.internal.getFilters)();q.indexOf("FlateEncode")!==-1;)q.splice(q.indexOf("FlateEncode"),1);Q.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:Q.width}),te.push({key:"Height",value:Q.height}),Q.colorSpace===T.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Q.palette.length/3-1)+" "+("sMask"in Q&&Q.sMask!==void 0?Q.objectId+2:Q.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+Q.colorSpace}),Q.colorSpace===T.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:Q.bitsPerComponent}),"decodeParameters"in Q&&Q.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+Q.decodeParameters+">>"}),"transparency"in Q&&Array.isArray(Q.transparency)){for(var se="",ue=0,ee=Q.transparency.length;ue<ee;ue++)se+=Q.transparency[ue]+" "+Q.transparency[ue]+" ";te.push({key:"Mask",value:"["+se+"]"})}Q.sMask!==void 0&&te.push({key:"SMask",value:Q.objectId+1+" 0 R"});var Se=Q.filter!==void 0?["/"+Q.filter]:void 0;if(ie({data:Q.data,additionalKeyValues:te,alreadyAppliedFilters:Se,objectId:Q.objectId}),ye("endobj"),"sMask"in Q&&Q.sMask!==void 0){var le="/Predictor "+Q.predictor+" /Colors 1 /BitsPerComponent "+Q.bitsPerComponent+" /Columns "+Q.width,U={width:Q.width,height:Q.height,colorSpace:"DeviceGray",bitsPerComponent:Q.bitsPerComponent,decodeParameters:le,data:Q.sMask};"filter"in Q&&(U.filter=Q.filter),Z.call(this,U)}if(Q.colorSpace===T.INDEXED){var H=this.internal.newObject();ie({data:Y(new Uint8Array(Q.palette)),objectId:H}),ye("endobj")}},i=function(){var Z=this.internal.collections.addImage_images;for(var Q in Z)a.call(this,Z[Q])},c=function(){var Z,Q=this.internal.collections.addImage_images,ye=this.internal.write;for(var ie in Q)ye("/I"+(Z=Q[ie]).index,Z.objectId,"0","R")},f=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",c))},m=function(){var Z=this.internal.collections.addImage_images;return f.call(this),Z},p=function(){return Object.keys(this.internal.collections.addImage_images).length},x=function(Z){return typeof e["process"+Z.toUpperCase()]=="function"},y=function(Z){return Jn(Z)==="object"&&Z.nodeType===1},S=function(Z,Q){if(Z.nodeName==="IMG"&&Z.hasAttribute("src")){var ye=""+Z.getAttribute("src");if(ye.indexOf("data:image/")===0)return K0(unescape(ye).split("base64,").pop());var ie=e.loadFile(ye,!0);if(ie!==void 0)return ie}if(Z.nodeName==="CANVAS"){if(Z.width===0||Z.height===0)throw new Error("Given canvas must have data. Canvas width: "+Z.width+", height: "+Z.height);var q;switch(Q){case"PNG":q="image/png";break;case"WEBP":q="image/webp";break;case"JPEG":case"JPG":default:q="image/jpeg"}return K0(Z.toDataURL(q,1).split("base64,").pop())}},N=function(Z){var Q=this.internal.collections.addImage_images;if(Q){for(var ye in Q)if(Z===Q[ye].alias)return Q[ye]}},j=function(Z,Q,ye){return Z||Q||(Z=-96,Q=-96),Z<0&&(Z=-1*ye.width*72/Z/this.internal.scaleFactor),Q<0&&(Q=-1*ye.height*72/Q/this.internal.scaleFactor),Z===0&&(Z=Q*ye.width/ye.height),Q===0&&(Q=Z*ye.height/ye.width),[Z,Q]},_=function(Z,Q,ye,ie,q,te){var se=j.call(this,ye,ie,q),ue=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,Se=m.call(this);if(ye=se[0],ie=se[1],Se[q.index]=q,te){te*=Math.PI/180;var le=Math.cos(te),U=Math.sin(te),H=function(ge){return ge.toFixed(4)},ae=[H(le),H(U),H(-1*U),H(le),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,ue(Z),ee(Q+ie),"cm"].join(" ")),this.internal.write(ae.join(" ")),this.internal.write([ue(ye),"0","0",ue(ie),"0","0","cm"].join(" "))):this.internal.write([ue(ye),"0","0",ue(ie),ue(Z),ee(Q+ie),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+q.index+" Do"),this.internal.write("Q")},T=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var D=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=e.__addimage__.sHashCode=function(Z){var Q,ye,ie=0;if(typeof Z=="string")for(ye=Z.length,Q=0;Q<ye;Q++)ie=(ie<<5)-ie+Z.charCodeAt(Q),ie|=0;else if(X(Z))for(ye=Z.byteLength/2,Q=0;Q<ye;Q++)ie=(ie<<5)-ie+Z[Q],ie|=0;return ie},z=e.__addimage__.validateStringAsBase64=function(Z){(Z=Z||"").toString().trim();var Q=!0;return Z.length===0&&(Q=!1),Z.length%4!=0&&(Q=!1),/^[A-Za-z0-9+/]+$/.test(Z.substr(0,Z.length-2))===!1&&(Q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Z.substr(-2))===!1&&(Q=!1),Q},G=e.__addimage__.extractImageFromDataUrl=function(Z){var Q=(Z=Z||"").split("base64,"),ye=null;if(Q.length===2){var ie=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Q[0]);Array.isArray(ie)&&(ye={mimeType:ie[1],charset:ie[2],data:Q[1]})}return ye},$=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(Z){return $()&&Z instanceof ArrayBuffer};var X=e.__addimage__.isArrayBufferView=function(Z){return $()&&typeof Uint32Array<"u"&&(Z instanceof Int8Array||Z instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Z instanceof Uint8ClampedArray||Z instanceof Int16Array||Z instanceof Uint16Array||Z instanceof Int32Array||Z instanceof Uint32Array||Z instanceof Float32Array||Z instanceof Float64Array)},V=e.__addimage__.binaryStringToUint8Array=function(Z){for(var Q=Z.length,ye=new Uint8Array(Q),ie=0;ie<Q;ie++)ye[ie]=Z.charCodeAt(ie);return ye},Y=e.__addimage__.arrayBufferToBinaryString=function(Z){for(var Q="",ye=X(Z)?Z:new Uint8Array(Z),ie=0;ie<ye.length;ie+=8192)Q+=String.fromCharCode.apply(null,ye.subarray(ie,ie+8192));return Q};e.addImage=function(){var Z,Q,ye,ie,q,te,se,ue,ee;if(typeof arguments[1]=="number"?(Q=t,ye=arguments[1],ie=arguments[2],q=arguments[3],te=arguments[4],se=arguments[5],ue=arguments[6],ee=arguments[7]):(Q=arguments[1],ye=arguments[2],ie=arguments[3],q=arguments[4],te=arguments[5],se=arguments[6],ue=arguments[7],ee=arguments[8]),Jn(Z=arguments[0])==="object"&&!y(Z)&&"imageData"in Z){var Se=Z;Z=Se.imageData,Q=Se.format||Q||t,ye=Se.x||ye||0,ie=Se.y||ie||0,q=Se.w||Se.width||q,te=Se.h||Se.height||te,se=Se.alias||se,ue=Se.compression||ue,ee=Se.rotation||Se.angle||ee}var le=this.internal.getFilters();if(ue===void 0&&le.indexOf("FlateEncode")!==-1&&(ue="SLOW"),isNaN(ye)||isNaN(ie))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var U=W.call(this,Z,Q,se,ue);return _.call(this,ye,ie,q,te,U,ee),this};var W=function(Z,Q,ye,ie){var q,te,se;if(typeof Z=="string"&&n(Z)===t){Z=unescape(Z);var ue=Ne(Z,!1);(ue!==""||(ue=e.loadFile(Z,!0))!==void 0)&&(Z=ue)}if(y(Z)&&(Z=S(Z,Q)),Q=n(Z,Q),!x(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(((se=ye)==null||se.length===0)&&(ye=function(ee){return typeof ee=="string"||X(ee)?R(ee):X(ee.data)?R(ee.data):null}(Z)),(q=N.call(this,ye))||($()&&(Z instanceof Uint8Array||Q==="RGBA"||(te=Z,Z=V(Z))),q=this["process"+Q.toUpperCase()](Z,p.call(this),ye,function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in e.image_compression?ee:D.NONE}(ie),te)),!q)throw new Error("An unknown error occurred whilst processing the image.");return q},Ne=e.__addimage__.convertBase64ToBinaryString=function(Z,Q){var ye;Q=typeof Q!="boolean"||Q;var ie,q="";if(typeof Z=="string"){ie=(ye=G(Z))!==null?ye.data:Z;try{q=K0(ie)}catch(te){if(Q)throw z(ie)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};e.getImageProperties=function(Z){var Q,ye,ie="";if(y(Z)&&(Z=S(Z)),typeof Z=="string"&&n(Z)===t&&((ie=Ne(Z,!1))===""&&(ie=e.loadFile(Z)||""),Z=ie),ye=n(Z),!x(ye))throw new Error("addImage does not support files of type '"+ye+"', please ensure that a plugin for '"+ye+"' support is added.");if(!$()||Z instanceof Uint8Array||(Z=V(Z)),!(Q=this["process"+ye.toUpperCase()](Z)))throw new Error("An unknown error occurred whilst processing the image");return Q.fileType=ye,Q}})(wr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};wr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString,m=this.internal.getPageInfoByObjId(r.objId),p=r.pageContext.annotations,x=!1,y=0;y<p.length&&!x;y++)switch((n=p[y]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(x=!0);break;case"reference":case"text":case"freetext":x=!0}if(x!=0){this.internal.write("/Annots [");for(var S=0;S<p.length;S++){n=p[S];var N=this.internal.pdfEscape,j=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),D=this.internal.getEncryptor(_.objId),R=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(n.bounds.x)+" "+f(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w)+" "+f(n.bounds.y)+"] ")+"/Contents ("+N(D(n.contents))+")",i+=" /Popup "+T.objId+" 0 R",i+=" /P "+m.objId+" 0 R",i+=" /T ("+N(D(R))+") >>",_.content=i;var z=_.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(n.bounds.x+30)+" "+f(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w+30)+" "+f(n.bounds.y)+"] ")+" /Parent "+z,n.open&&(i+=" /Open true"),i+=" >>",T.content=i,this.internal.write(_.objId,"0 R",T.objId,"0 R");break;case"freetext":a="/Rect ["+c(n.bounds.x)+" "+f(n.bounds.y)+" "+c(n.bounds.x+n.bounds.w)+" "+f(n.bounds.y+n.bounds.h)+"] ";var G=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+N(j(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+G+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var $=this.annotations._nameMap[n.options.name];n.options.pageNumber=$.page,n.options.top=$.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+N(j(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var X=f(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+X+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,c){var f=this.internal.getCurrentPageInfo(),m=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;f.pageContext.annotations.push({finalBounds:{x:m(r),y:p(n),w:m(r+a),h:p(n+i)},options:c,type:"link"})},e.textWithLink=function(r,n,a,i){var c,f,m=this.getTextWidth(r),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){f=i.maxWidth;var x=this.splitTextToSize(r,f).length;c=Math.ceil(p*x)}else f=m,c=p;return this.text(r,n,a,i),a+=.2*p,i.align==="center"&&(n-=m/2),i.align==="right"&&(n-=m),this.link(n,a-p,f,c,i),m},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(wr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(_){return t[_.charCodeAt(0)]!==void 0},c=e.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},f=e.__arabicParser__.isArabicEndLetter=function(_){return c(_)&&i(_)&&t[_.charCodeAt(0)].length<=2},m=e.__arabicParser__.isArabicAlfLetter=function(_){return c(_)&&a.indexOf(_.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return c(_)&&i(_)&&t[_.charCodeAt(0)].length>=1};var p=e.__arabicParser__.arabicLetterHasFinalForm=function(_){return c(_)&&i(_)&&t[_.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(_){return c(_)&&i(_)&&t[_.charCodeAt(0)].length>=3};var x=e.__arabicParser__.arabicLetterHasMedialForm=function(_){return c(_)&&i(_)&&t[_.charCodeAt(0)].length==4},y=e.__arabicParser__.resolveLigatures=function(_){var T=0,D=r,R="",z=0;for(T=0;T<_.length;T+=1)D[_.charCodeAt(T)]!==void 0?(z++,typeof(D=D[_.charCodeAt(T)])=="number"&&(R+=String.fromCharCode(D),D=r,z=0),T===_.length-1&&(D=r,R+=_.charAt(T-(z-1)),T-=z-1,z=0)):(D=r,R+=_.charAt(T-z),T-=z,z=0);return R};e.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&n[_.charCodeAt(0)]!==void 0};var S=e.__arabicParser__.getCorrectForm=function(_,T,D){return c(_)?i(_)===!1?-1:!p(_)||!c(T)&&!c(D)||!c(D)&&f(T)||f(_)&&!c(T)||f(_)&&m(T)||f(_)&&f(T)?0:x(_)&&c(T)&&!f(T)&&c(D)&&p(D)?3:f(_)||!c(D)?1:2:-1},N=function(_){var T=0,D=0,R=0,z="",G="",$="",X=(_=_||"").split("\\s+"),V=[];for(T=0;T<X.length;T+=1){for(V.push(""),D=0;D<X[T].length;D+=1)z=X[T][D],G=X[T][D-1],$=X[T][D+1],c(z)?(R=S(z,G,$),V[T]+=R!==-1?String.fromCharCode(t[z.charCodeAt(0)][R]):z):V[T]+=z;V[T]=y(V[T])}return V.join(" ")},j=e.__arabicParser__.processArabic=e.processArabic=function(){var _,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,D=[];if(Array.isArray(T)){var R=0;for(D=[],R=0;R<T.length;R+=1)Array.isArray(T[R])?D.push([N(T[R][0]),T[R][1],T[R][2]]):D.push([N(T[R])]);_=D}else _=N(T);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};e.events.push(["preProcessText",j])}(wr.API),wr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(f){r=f}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(f){n=isNaN(f)||Number.isInteger(f)===!1||f<0?150:f,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(f){a=isNaN(f)||Number.isInteger(f)===!1||f<0?300:f,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(f){i=f}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(f){c=f}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(wr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var m=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var x=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return x},set:function(_){x=_}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(_){y=_}});var S=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return S},set:function(_){S=_}});var N=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return N},set:function(_){N=_}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(_){j=_}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(m){return n.call(this),this.internal.__cell__.headerFunction=typeof m=="function"?m:void 0,this},e.getTextDimensions=function(m,p){n.call(this);var x=(p=p||{}).fontSize||this.getFontSize(),y=p.font||this.getFont(),S=p.scaleFactor||this.internal.scaleFactor,N=0,j=0,_=0,T=this;if(!Array.isArray(m)&&typeof m!="string"){if(typeof m!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");m=String(m)}var D=p.maxWidth;D>0?typeof m=="string"?m=this.splitTextToSize(m,D):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(z,G){return z.concat(T.splitTextToSize(G,D))},[])):m=Array.isArray(m)?m:[m];for(var R=0;R<m.length;R++)N<(_=this.getStringUnitWidth(m[R],{font:y})*x)&&(N=_);return N!==0&&(j=m.length),{w:N/=S,h:Math.max((j*x*this.getLineHeightFactor()-x*(this.getLineHeightFactor()-1))/S,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var m=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(m.left,m.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=e.cell=function(){var m;m=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var p=this.internal.__cell__.lastCell,x=this.internal.__cell__.padding,y=this.internal.__cell__.margins||t,S=this.internal.__cell__.tableHeaderRow,N=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===m.lineNumber?(m.x=(p.x||0)+(p.width||0),m.y=p.y||0):p.y+p.height+m.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),m.y=y.top,N&&S&&(this.printHeaderRow(m.lineNumber,!0),m.y+=S[0].height)):m.y=p.y+p.height||m.y),m.text[0]!==void 0&&(this.rect(m.x,m.y,m.width,m.height,r===!0?"FD":void 0),m.align==="right"?this.text(m.text,m.x+m.width-x,m.y+x,{align:"right",baseline:"top"}):m.align==="center"?this.text(m.text,m.x+m.width/2,m.y+x,{align:"center",baseline:"top",maxWidth:m.width-x-x}):this.text(m.text,m.x+x,m.y+x,{align:"left",baseline:"top",maxWidth:m.width-x-x})),this.internal.__cell__.lastCell=m,this};e.table=function(m,p,x,y,S){if(n.call(this),!x)throw new Error("No data for PDF table.");var N,j,_,T,D=[],R=[],z=[],G={},$={},X=[],V=[],Y=(S=S||{}).autoSize||!1,W=S.printHeaders!==!1,Ne=S.css&&S.css["font-size"]!==void 0?16*S.css["font-size"]:S.fontSize||12,Z=S.margins||Object.assign({width:this.getPageWidth()},t),Q=typeof S.padding=="number"?S.padding:3,ye=S.headerBackgroundColor||"#c8c8c8",ie=S.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=W,this.internal.__cell__.margins=Z,this.internal.__cell__.table_font_size=Ne,this.internal.__cell__.padding=Q,this.internal.__cell__.headerBackgroundColor=ye,this.internal.__cell__.headerTextColor=ie,this.setFontSize(Ne),y==null)R=D=Object.keys(x[0]),z=D.map(function(){return"left"});else if(Array.isArray(y)&&Jn(y[0])==="object")for(D=y.map(function(Se){return Se.name}),R=y.map(function(Se){return Se.prompt||Se.name||""}),z=y.map(function(Se){return Se.align||"left"}),N=0;N<y.length;N+=1)$[y[N].name]=y[N].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(R=D=y,z=D.map(function(){return"left"}));if(Y||Array.isArray(y)&&typeof y[0]=="string")for(N=0;N<D.length;N+=1){for(G[T=D[N]]=x.map(function(Se){return Se[T]}),this.setFont(void 0,"bold"),X.push(this.getTextDimensions(R[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=G[T],this.setFont(void 0,"normal"),_=0;_<j.length;_+=1)X.push(this.getTextDimensions(j[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$[T]=Math.max.apply(null,X)+Q+Q,X=[]}if(W){var q={};for(N=0;N<D.length;N+=1)q[D[N]]={},q[D[N]].text=R[N],q[D[N]].align=z[N];var te=f.call(this,q,$);V=D.map(function(Se){return new i(m,p,$[Se],te,q[Se].text,void 0,q[Se].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var se=y.reduce(function(Se,le){return Se[le.name]=le.align,Se},{});for(N=0;N<x.length;N+=1){"rowStart"in S&&S.rowStart instanceof Function&&S.rowStart({row:N,data:x[N]},this);var ue=f.call(this,x[N],$);for(_=0;_<D.length;_+=1){var ee=x[N][D[_]];"cellStart"in S&&S.cellStart instanceof Function&&S.cellStart({row:N,col:_,data:ee},this),c.call(this,new i(m,p,$[D[_]],ue,ee,N+2,se[D[_]]))}}return this.internal.__cell__.table_x=m,this.internal.__cell__.table_y=p,this};var f=function(m,p){var x=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,S=this.internal.scaleFactor;return Object.keys(m).map(function(N){var j=m[N];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,p[N]-x-x)},this).map(function(N){return this.getLineHeightFactor()*N.length*y/S+x+x},this).reduce(function(N,j){return Math.max(N,j)},0)};e.setTableHeaderRow=function(m){n.call(this),this.internal.__cell__.tableHeaderRow=m},e.printHeaderRow=function(m,p){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var x;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var S=[],N=0;N<this.internal.__cell__.tableHeaderRow.length;N+=1){x=this.internal.__cell__.tableHeaderRow[N].clone(),p&&(x.y=this.internal.__cell__.margins.top||0,S.push(x)),x.lineNumber=m;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,x),this.setTextColor(j)}S.length>0&&this.setTableHeaderRow(S),this.setFont(void 0,"normal"),r=!1}}(wr.API);var fO={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},hO=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ob=dO(hO),pO=[100,200,300,400,500,600,700,800,900],cF=dO(pO);function Tb(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return fO[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof Ob[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function bS(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var uF={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},wS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function AS(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function dF(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},uF,r.genericFontFamilies||{}),i=null,c=null,f=0;f<t.length;++f)if(a[(i=Tb(t[f])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){c=e[i.family];break}if(!(c=c||e[n]))throw new Error("Could not find a font-family for the rule '"+AS(i)+"' and default family '"+n+"'.");if(c=function(m,p){if(p[m])return p[m];var x=Ob[m],y=x<=Ob.normal?-1:1,S=bS(p,hO,x,y);if(!S)throw new Error("Could not find a matching font-stretch value for "+m);return S}(i.stretch,c),c=function(m,p){if(p[m])return p[m];for(var x=fO[m],y=0;y<x.length;++y)if(p[x[y]])return p[x[y]];throw new Error("Could not find a matching font-style for "+m)}(i.style,c),!(c=function(m,p){if(p[m])return p[m];if(m===400&&p[500])return p[500];if(m===500&&p[400])return p[400];var x=cF[m],y=bS(p,pO,x,m<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+m);return y}(i.weight,c)))throw new Error("Failed to resolve a font for the rule '"+AS(i)+"'.");return c}function NS(e){return e.trimLeft()}function fF(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function hF(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Hp,SS,ES,vv=["times"];(function(e){var t,r,n,a,i,c,f,m,p,x=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new m,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new c,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new c,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new y(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,c=this.internal.Point,f=this.internal.Rectangle,m=this.internal.Matrix,p=new x}]);var y=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=U;Object.defineProperty(this,"pdf",{get:function(){return H}});var ae=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ae},set:function(Pe){ae=!!Pe}});var ge=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ge},set:function(Pe){ge=!!Pe}});var ve=0;Object.defineProperty(this,"posX",{get:function(){return ve},set:function(Pe){isNaN(Pe)||(ve=Pe)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(Pe){isNaN(Pe)||(de=Pe)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Pe){var ne;typeof Pe=="number"?ne=[Pe,Pe,Pe,Pe]:((ne=new Array(4))[0]=Pe[0],ne[1]=Pe.length>=2?Pe[1]:ne[0],ne[2]=Pe.length>=3?Pe[2]:ne[0],ne[3]=Pe.length>=4?Pe[3]:ne[1]),p.margin=ne}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(Pe){ke=Pe}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(Pe){me=Pe}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(Pe){xe=Pe}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Pe){Pe instanceof x&&(p=Pe)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Pe){p.path=Pe}});var Oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Oe},set:function(Pe){Oe=Pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Pe){var ne;ne=S(Pe),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Pe){var ne=S(Pe);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Pe){["butt","round","square"].indexOf(Pe)!==-1&&(this.ctx.lineCap=Pe,this.pdf.setLineCap(Pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Pe){isNaN(Pe)||(this.ctx.lineWidth=Pe,this.pdf.setLineWidth(Pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Pe){["bevel","round","miter"].indexOf(Pe)!==-1&&(this.ctx.lineJoin=Pe,this.pdf.setLineJoin(Pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Pe){isNaN(Pe)||(this.ctx.miterLimit=Pe,this.pdf.setMiterLimit(Pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Pe){this.ctx.textBaseline=Pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Pe){["right","end","center","left","start"].indexOf(Pe)!==-1&&(this.ctx.textAlign=Pe)}});var oe=null;function Le(Pe,ne){if(oe===null){var tt=function(at){var Be=[];return Object.keys(at).forEach(function(Ze){at[Ze].forEach(function(Fe){var rt=null;switch(Fe){case"bold":rt={family:Ze,weight:"bold"};break;case"italic":rt={family:Ze,style:"italic"};break;case"bolditalic":rt={family:Ze,weight:"bold",style:"italic"};break;case"":case"normal":rt={family:Ze}}rt!==null&&(rt.ref={name:Ze,style:Fe},Be.push(rt))})}),Be}(Pe.getFontList());oe=function(at){for(var Be={},Ze=0;Ze<at.length;++Ze){var Fe=Tb(at[Ze]),rt=Fe.family,At=Fe.stretch,Ht=Fe.style,Yt=Fe.weight;Be[rt]=Be[rt]||{},Be[rt][At]=Be[rt][At]||{},Be[rt][At][Ht]=Be[rt][At][Ht]||{},Be[rt][At][Ht][Yt]=Fe}return Be}(tt.concat(ne))}return oe}var Ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ge},set:function(Pe){oe=null,Ge=Pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Pe){var ne;if(this.ctx.font=Pe,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Pe))!==null){var tt=ne[1],at=(ne[2],ne[3]),Be=ne[4],Ze=(ne[5],ne[6]),Fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Be)[2];Be=Math.floor(Fe==="px"?parseFloat(Be)*this.pdf.internal.scaleFactor:Fe==="em"?parseFloat(Be)*this.pdf.getFontSize():parseFloat(Be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Be);var rt=function(Wt){var Ar,zt,Pn=[],Vt=Wt.trim();if(Vt==="")return vv;if(Vt in wS)return[wS[Vt]];for(;Vt!=="";){switch(zt=null,Ar=(Vt=NS(Vt)).charAt(0)){case'"':case"'":zt=fF(Vt.substring(1),Ar);break;default:zt=hF(Vt)}if(zt===null||(Pn.push(zt[0]),(Vt=NS(zt[1]))!==""&&Vt.charAt(0)!==","))return vv;Vt=Vt.replace(/^,/,"")}return Pn}(Ze);if(this.fontFaces){var At=dF(Le(this.pdf,this.fontFaces),rt.map(function(Wt){return{family:Wt,stretch:"normal",weight:at,style:tt}}));this.pdf.setFont(At.ref.name,At.ref.style)}else{var Ht="";(at==="bold"||parseInt(at,10)>=700||tt==="bold")&&(Ht="bold"),tt==="italic"&&(Ht+="italic"),Ht.length===0&&(Ht="normal");for(var Yt="",Jt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ut=0;Ut<rt.length;Ut++){if(this.pdf.internal.getFont(rt[Ut],Ht,{noFallback:!0,disableWarning:!0})!==void 0){Yt=rt[Ut];break}if(Ht==="bolditalic"&&this.pdf.internal.getFont(rt[Ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Yt=rt[Ut],Ht="bold";else if(this.pdf.internal.getFont(rt[Ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Yt=rt[Ut],Ht="normal";break}}if(Yt===""){for(var ir=0;ir<rt.length;ir++)if(Jt[rt[ir]]){Yt=Jt[rt[ir]];break}}Yt=Yt===""?"Times":Yt,this.pdf.setFont(Yt,Ht)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Pe){this.ctx.globalCompositeOperation=Pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Pe){this.ctx.globalAlpha=Pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Pe){this.ctx.lineDashOffset=Pe,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Pe){this.ctx.lineDash=Pe,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Pe){this.ctx.ignoreClearRect=!!Pe}})};y.prototype.setLineDash=function(U){this.lineDash=U},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){G.call(this,"fill",!1)},y.prototype.stroke=function(){G.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(U,H){if(isNaN(U)||isNaN(H))throw ga.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ae=this.ctx.transform.applyToPoint(new c(U,H));this.path.push({type:"mt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new c(U,H)},y.prototype.closePath=function(){var U=new c(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Jn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){U=new c(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(U.x,U.y)},y.prototype.lineTo=function(U,H){if(isNaN(U)||isNaN(H))throw ga.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ae=this.ctx.transform.applyToPoint(new c(U,H));this.path.push({type:"lt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new c(ae.x,ae.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),G.call(this,null,!0)},y.prototype.quadraticCurveTo=function(U,H,ae,ge){if(isNaN(ae)||isNaN(ge)||isNaN(U)||isNaN(H))throw ga.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ve=this.ctx.transform.applyToPoint(new c(ae,ge)),de=this.ctx.transform.applyToPoint(new c(U,H));this.path.push({type:"qct",x1:de.x,y1:de.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new c(ve.x,ve.y)},y.prototype.bezierCurveTo=function(U,H,ae,ge,ve,de){if(isNaN(ve)||isNaN(de)||isNaN(U)||isNaN(H)||isNaN(ae)||isNaN(ge))throw ga.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new c(ve,de)),me=this.ctx.transform.applyToPoint(new c(U,H)),xe=this.ctx.transform.applyToPoint(new c(ae,ge));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:xe.x,y2:xe.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new c(ke.x,ke.y)},y.prototype.arc=function(U,H,ae,ge,ve,de){if(isNaN(U)||isNaN(H)||isNaN(ae)||isNaN(ge)||isNaN(ve))throw ga.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new c(U,H));U=ke.x,H=ke.y;var me=this.ctx.transform.applyToPoint(new c(0,ae)),xe=this.ctx.transform.applyToPoint(new c(0,0));ae=Math.sqrt(Math.pow(me.x-xe.x,2)+Math.pow(me.y-xe.y,2))}Math.abs(ve-ge)>=2*Math.PI&&(ge=0,ve=2*Math.PI),this.path.push({type:"arc",x:U,y:H,radius:ae,startAngle:ge,endAngle:ve,counterclockwise:de})},y.prototype.arcTo=function(U,H,ae,ge,ve){throw new Error("arcTo not implemented.")},y.prototype.rect=function(U,H,ae,ge){if(isNaN(U)||isNaN(H)||isNaN(ae)||isNaN(ge))throw ga.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,H),this.lineTo(U+ae,H),this.lineTo(U+ae,H+ge),this.lineTo(U,H+ge),this.lineTo(U,H),this.lineTo(U+ae,H),this.lineTo(U,H)},y.prototype.fillRect=function(U,H,ae,ge){if(isNaN(U)||isNaN(H)||isNaN(ae)||isNaN(ge))throw ga.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!N.call(this)){var ve={};this.lineCap!=="butt"&&(ve.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ve.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,H,ae,ge),this.fill(),ve.hasOwnProperty("lineCap")&&(this.lineCap=ve.lineCap),ve.hasOwnProperty("lineJoin")&&(this.lineJoin=ve.lineJoin)}},y.prototype.strokeRect=function(U,H,ae,ge){if(isNaN(U)||isNaN(H)||isNaN(ae)||isNaN(ge))throw ga.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(U,H,ae,ge),this.stroke())},y.prototype.clearRect=function(U,H,ae,ge){if(isNaN(U)||isNaN(H)||isNaN(ae)||isNaN(ge))throw ga.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,H,ae,ge))},y.prototype.save=function(U){U=typeof U!="boolean"||U;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var ge=new x(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ge}},y.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("Q");this.pdf.setPage(H),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var S=function(U){var H,ae,ge,ve;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))H=0,ae=0,ge=0,ve=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(de!==null)H=parseInt(de[1]),ae=parseInt(de[2]),ge=parseInt(de[3]),ve=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)H=parseInt(de[1]),ae=parseInt(de[2]),ge=parseInt(de[3]),ve=parseFloat(de[4]);else{if(ve=1,typeof U=="string"&&U.charAt(0)!=="#"){var ke=new iO(U);U=ke.ok?ke.toHex():"#000000"}U.length===4?(H=U.substring(1,2),H+=H,ae=U.substring(2,3),ae+=ae,ge=U.substring(3,4),ge+=ge):(H=U.substring(1,3),ae=U.substring(3,5),ge=U.substring(5,7)),H=parseInt(H,16),ae=parseInt(ae,16),ge=parseInt(ge,16)}}return{r:H,g:ae,b:ge,a:ve,style:U}},N=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(U,H,ae,ge){if(isNaN(H)||isNaN(ae)||typeof U!="string")throw ga.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ge=isNaN(ge)?void 0:ge,!N.call(this)){var ve=ue(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;Q.call(this,{text:U,x:H,y:ae,scale:de,angle:ve,align:this.textAlign,maxWidth:ge})}},y.prototype.strokeText=function(U,H,ae,ge){if(isNaN(H)||isNaN(ae)||typeof U!="string")throw ga.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){ge=isNaN(ge)?void 0:ge;var ve=ue(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;Q.call(this,{text:U,x:H,y:ae,scale:de,renderingMode:"stroke",angle:ve,align:this.textAlign,maxWidth:ge})}},y.prototype.measureText=function(U){if(typeof U!="string")throw ga.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,ae=this.pdf.internal.scaleFactor,ge=H.internal.getFontSize(),ve=H.getStringUnitWidth(U)*ge/H.internal.scaleFactor,de=function(ke){var me=(ke=ke||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this};return new de({width:ve*=Math.round(96*ae/72*1e4)/1e4})},y.prototype.scale=function(U,H){if(isNaN(U)||isNaN(H))throw ga.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ae=new m(U,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},y.prototype.rotate=function(U){if(isNaN(U))throw ga.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new m(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},y.prototype.translate=function(U,H){if(isNaN(U)||isNaN(H))throw ga.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ae=new m(1,0,0,1,U,H);this.ctx.transform=this.ctx.transform.multiply(ae)},y.prototype.transform=function(U,H,ae,ge,ve,de){if(isNaN(U)||isNaN(H)||isNaN(ae)||isNaN(ge)||isNaN(ve)||isNaN(de))throw ga.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new m(U,H,ae,ge,ve,de);this.ctx.transform=this.ctx.transform.multiply(ke)},y.prototype.setTransform=function(U,H,ae,ge,ve,de){U=isNaN(U)?1:U,H=isNaN(H)?0:H,ae=isNaN(ae)?0:ae,ge=isNaN(ge)?1:ge,ve=isNaN(ve)?0:ve,de=isNaN(de)?0:de,this.ctx.transform=new m(U,H,ae,ge,ve,de)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(U,H,ae,ge,ve,de,ke,me,xe){var Oe=this.pdf.getImageProperties(U),oe=1,Le=1,Ge=1,Pe=1;ge!==void 0&&me!==void 0&&(Ge=me/ge,Pe=xe/ve,oe=Oe.width/ge*me/ge,Le=Oe.height/ve*xe/ve),de===void 0&&(de=H,ke=ae,H=0,ae=0),ge!==void 0&&me===void 0&&(me=ge,xe=ve),ge===void 0&&me===void 0&&(me=Oe.width,xe=Oe.height);for(var ne,tt=this.ctx.transform.decompose(),at=ue(tt.rotate.shx),Be=new m,Ze=(Be=(Be=(Be=Be.multiply(tt.translate)).multiply(tt.skew)).multiply(tt.scale)).applyToRectangle(new f(de-H*Ge,ke-ae*Pe,ge*oe,ve*Le)),Fe=T.call(this,Ze),rt=[],At=0;At<Fe.length;At+=1)rt.indexOf(Fe[At])===-1&&rt.push(Fe[At]);if(z(rt),this.autoPaging)for(var Ht=rt[0],Yt=rt[rt.length-1],Jt=Ht;Jt<Yt+1;Jt++){this.pdf.setPage(Jt);var Ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ir=Jt===1?this.posY+this.margin[0]:this.margin[0],Wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ar=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],zt=Jt===1?0:Wt+(Jt-2)*Ar;if(this.ctx.clip_path.length!==0){var Pn=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(ne,this.posX+this.margin[3],-zt+ir+this.ctx.prevPageLastElemOffset),$.call(this,"fill",!0),this.path=Pn}var Vt=JSON.parse(JSON.stringify(Ze));Vt=R([Vt],this.posX+this.margin[3],-zt+ir+this.ctx.prevPageLastElemOffset)[0];var Et=(Jt>Ht||Jt<Yt)&&_.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,Ar,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,at),Et&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",Ze.x,Ze.y,Ze.w,Ze.h,null,null,at)};var T=function(U,H,ae){var ge=[];H=H||this.pdf.internal.pageSize.width,ae=ae||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ve=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":ge.push(Math.floor((U.y+ve)/ae)+1);break;case"arc":ge.push(Math.floor((U.y+ve-U.radius)/ae)+1),ge.push(Math.floor((U.y+ve+U.radius)/ae)+1);break;case"qct":var de=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);ge.push(Math.floor((de.y+ve)/ae)+1),ge.push(Math.floor((de.y+de.h+ve)/ae)+1);break;case"bct":var ke=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);ge.push(Math.floor((ke.y+ve)/ae)+1),ge.push(Math.floor((ke.y+ke.h+ve)/ae)+1);break;case"rect":ge.push(Math.floor((U.y+ve)/ae)+1),ge.push(Math.floor((U.y+U.h+ve)/ae)+1)}for(var me=0;me<ge.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<ge[me];)D.call(this);return ge},D=function(){var U=this.fillStyle,H=this.strokeStyle,ae=this.font,ge=this.lineCap,ve=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=H,this.font=ae,this.lineCap=ge,this.lineWidth=ve,this.lineJoin=de},R=function(U,H,ae){for(var ge=0;ge<U.length;ge++)switch(U[ge].type){case"bct":U[ge].x2+=H,U[ge].y2+=ae;case"qct":U[ge].x1+=H,U[ge].y1+=ae;case"mt":case"lt":case"arc":default:U[ge].x+=H,U[ge].y+=ae}return U},z=function(U){return U.sort(function(H,ae){return H-ae})},G=function(U,H){for(var ae,ge,ve=this.fillStyle,de=this.strokeStyle,ke=this.lineCap,me=this.lineWidth,xe=Math.abs(me*this.ctx.transform.scaleX),Oe=this.lineJoin,oe=JSON.parse(JSON.stringify(this.path)),Le=JSON.parse(JSON.stringify(this.path)),Ge=[],Pe=0;Pe<Le.length;Pe++)if(Le[Pe].x!==void 0)for(var ne=T.call(this,Le[Pe]),tt=0;tt<ne.length;tt+=1)Ge.indexOf(ne[tt])===-1&&Ge.push(ne[tt]);for(var at=0;at<Ge.length;at++)for(;this.pdf.internal.getNumberOfPages()<Ge[at];)D.call(this);if(z(Ge),this.autoPaging)for(var Be=Ge[0],Ze=Ge[Ge.length-1],Fe=Be;Fe<Ze+1;Fe++){this.pdf.setPage(Fe),this.fillStyle=ve,this.strokeStyle=de,this.lineCap=ke,this.lineWidth=xe,this.lineJoin=Oe;var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=Fe===1?this.posY+this.margin[0]:this.margin[0],Ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jt=Fe===1?0:Ht+(Fe-2)*Yt;if(this.ctx.clip_path.length!==0){var Ut=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(ae,this.posX+this.margin[3],-Jt+At+this.ctx.prevPageLastElemOffset),$.call(this,U,!0),this.path=Ut}if(ge=JSON.parse(JSON.stringify(oe)),this.path=R(ge,this.posX+this.margin[3],-Jt+At+this.ctx.prevPageLastElemOffset),H===!1||Fe===0){var ir=(Fe>Be||Fe<Ze)&&_.call(this);ir&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Yt,null).clip().discardPath()),$.call(this,U,H),ir&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=xe,$.call(this,U,H),this.lineWidth=me;this.path=oe},$=function(U,H){if((U!=="stroke"||H||!j.call(this))&&(U==="stroke"||H||!N.call(this))){for(var ae,ge,ve=[],de=this.path,ke=0;ke<de.length;ke++){var me=de[ke];switch(me.type){case"begin":ve.push({begin:!0});break;case"close":ve.push({close:!0});break;case"mt":ve.push({start:me,deltas:[],abs:[]});break;case"lt":var xe=ve.length;if(de[ke-1]&&!isNaN(de[ke-1].x)&&(ae=[me.x-de[ke-1].x,me.y-de[ke-1].y],xe>0)){for(;xe>=0;xe--)if(ve[xe-1].close!==!0&&ve[xe-1].begin!==!0){ve[xe-1].deltas.push(ae),ve[xe-1].abs.push(me);break}}break;case"bct":ae=[me.x1-de[ke-1].x,me.y1-de[ke-1].y,me.x2-de[ke-1].x,me.y2-de[ke-1].y,me.x-de[ke-1].x,me.y-de[ke-1].y],ve[ve.length-1].deltas.push(ae);break;case"qct":var Oe=de[ke-1].x+2/3*(me.x1-de[ke-1].x),oe=de[ke-1].y+2/3*(me.y1-de[ke-1].y),Le=me.x+2/3*(me.x1-me.x),Ge=me.y+2/3*(me.y1-me.y),Pe=me.x,ne=me.y;ae=[Oe-de[ke-1].x,oe-de[ke-1].y,Le-de[ke-1].x,Ge-de[ke-1].y,Pe-de[ke-1].x,ne-de[ke-1].y],ve[ve.length-1].deltas.push(ae);break;case"arc":ve.push({deltas:[],abs:[],arc:!0}),Array.isArray(ve[ve.length-1].abs)&&ve[ve.length-1].abs.push(me)}}ge=H?null:U==="stroke"?"stroke":"fill";for(var tt=!1,at=0;at<ve.length;at++)if(ve[at].arc)for(var Be=ve[at].abs,Ze=0;Ze<Be.length;Ze++){var Fe=Be[Ze];Fe.type==="arc"?Y.call(this,Fe.x,Fe.y,Fe.radius,Fe.startAngle,Fe.endAngle,Fe.counterclockwise,void 0,H,!tt):ye.call(this,Fe.x,Fe.y),tt=!0}else if(ve[at].close===!0)this.pdf.internal.out("h"),tt=!1;else if(ve[at].begin!==!0){var rt=ve[at].start.x,At=ve[at].start.y;ie.call(this,ve[at].deltas,rt,At),tt=!0}ge&&W.call(this,ge),H&&Ne.call(this)}},X=function(U){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ae=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-ae;case"top":return U+H-ae;case"hanging":return U+H-2*ae;case"middle":return U+H/2-ae;case"ideographic":return U;case"alphabetic":default:return U}},V=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(H,ae){this.colorStops.push([H,ae])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Y=function(U,H,ae,ge,ve,de,ke,me,xe){for(var Oe=te.call(this,ae,ge,ve,de),oe=0;oe<Oe.length;oe++){var Le=Oe[oe];oe===0&&(xe?Z.call(this,Le.x1+U,Le.y1+H):ye.call(this,Le.x1+U,Le.y1+H)),q.call(this,U,H,Le.x2,Le.y2,Le.x3,Le.y3,Le.x4,Le.y4)}me?Ne.call(this):W.call(this,ke)},W=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Ne=function(){this.pdf.clip(),this.pdf.discardPath()},Z=function(U,H){this.pdf.internal.out(r(U)+" "+n(H)+" m")},Q=function(U){var H;switch(U.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var ae=this.pdf.getTextDimensions(U.text),ge=X.call(this,U.y),ve=V.call(this,ge)-ae.h,de=this.ctx.transform.applyToPoint(new c(U.x,ge)),ke=this.ctx.transform.decompose(),me=new m;me=(me=(me=me.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var xe,Oe,oe,Le=this.ctx.transform.applyToRectangle(new f(U.x,ge,ae.w,ae.h)),Ge=me.applyToRectangle(new f(U.x,ve,ae.w,ae.h)),Pe=T.call(this,Ge),ne=[],tt=0;tt<Pe.length;tt+=1)ne.indexOf(Pe[tt])===-1&&ne.push(Pe[tt]);if(z(ne),this.autoPaging)for(var at=ne[0],Be=ne[ne.length-1],Ze=at;Ze<Be+1;Ze++){this.pdf.setPage(Ze);var Fe=Ze===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[2],Ht=At-this.margin[0],Yt=this.pdf.internal.pageSize.width-this.margin[1],Jt=Yt-this.margin[3],Ut=Ze===1?0:rt+(Ze-2)*Ht;if(this.ctx.clip_path.length!==0){var ir=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(xe,this.posX+this.margin[3],-1*Ut+Fe),$.call(this,"fill",!0),this.path=ir}var Wt=R([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-Ut+Fe+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(Oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Oe*U.scale),oe=this.lineWidth,this.lineWidth=oe*U.scale);var Ar=this.autoPaging!=="text";if(Ar||Wt.y+Wt.h<=At){if(Ar||Wt.y>=Fe&&Wt.x<=Yt){var zt=Ar?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||Yt-Wt.x)[0],Pn=R([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-Ut+Fe+this.ctx.prevPageLastElemOffset)[0],Vt=Ar&&(Ze>at||Ze<Be)&&_.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,Ht,null).clip().discardPath()),this.pdf.text(zt,Pn.x,Pn.y,{angle:U.angle,align:H,renderingMode:U.renderingMode}),Vt&&this.pdf.restoreGraphicsState()}}else Wt.y<At&&(this.ctx.prevPageLastElemOffset+=At-Wt.y);U.scale>=.01&&(this.pdf.setFontSize(Oe),this.lineWidth=oe)}else U.scale>=.01&&(Oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Oe*U.scale),oe=this.lineWidth,this.lineWidth=oe*U.scale),this.pdf.text(U.text,de.x+this.posX,de.y+this.posY,{angle:U.angle,align:H,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(Oe),this.lineWidth=oe)},ye=function(U,H,ae,ge){ae=ae||0,ge=ge||0,this.pdf.internal.out(r(U+ae)+" "+n(H+ge)+" l")},ie=function(U,H,ae){return this.pdf.lines(U,H,ae,null,null)},q=function(U,H,ae,ge,ve,de,ke,me){this.pdf.internal.out([t(a(ae+U)),t(i(ge+H)),t(a(ve+U)),t(i(de+H)),t(a(ke+U)),t(i(me+H)),"c"].join(" "))},te=function(U,H,ae,ge){for(var ve=2*Math.PI,de=Math.PI/2;H>ae;)H-=ve;var ke=Math.abs(ae-H);ke<ve&&ge&&(ke=ve-ke);for(var me=[],xe=ge?-1:1,Oe=H;ke>1e-5;){var oe=Oe+xe*Math.min(ke,de);me.push(se.call(this,U,Oe,oe)),ke-=Math.abs(oe-Oe),Oe=oe}return me},se=function(U,H,ae){var ge=(ae-H)/2,ve=U*Math.cos(ge),de=U*Math.sin(ge),ke=ve,me=-de,xe=ke*ke+me*me,Oe=xe+ke*ve+me*de,oe=4/3*(Math.sqrt(2*xe*Oe)-Oe)/(ke*de-me*ve),Le=ke-oe*me,Ge=me+oe*ke,Pe=Le,ne=-Ge,tt=ge+H,at=Math.cos(tt),Be=Math.sin(tt);return{x1:U*Math.cos(H),y1:U*Math.sin(H),x2:Le*at-Ge*Be,y2:Le*Be+Ge*at,x3:Pe*at-ne*Be,y3:Pe*Be+ne*at,x4:U*Math.cos(ae),y4:U*Math.sin(ae)}},ue=function(U){return 180*U/Math.PI},ee=function(U,H,ae,ge,ve,de){var ke=U+.5*(ae-U),me=H+.5*(ge-H),xe=ve+.5*(ae-ve),Oe=de+.5*(ge-de),oe=Math.min(U,ve,ke,xe),Le=Math.max(U,ve,ke,xe),Ge=Math.min(H,de,me,Oe),Pe=Math.max(H,de,me,Oe);return new f(oe,Ge,Le-oe,Pe-Ge)},Se=function(U,H,ae,ge,ve,de,ke,me){var xe,Oe,oe,Le,Ge,Pe,ne,tt,at,Be,Ze,Fe,rt,At,Ht=ae-U,Yt=ge-H,Jt=ve-ae,Ut=de-ge,ir=ke-ve,Wt=me-de;for(Oe=0;Oe<41;Oe++)at=(ne=(oe=U+(xe=Oe/40)*Ht)+xe*((Ge=ae+xe*Jt)-oe))+xe*(Ge+xe*(ve+xe*ir-Ge)-ne),Be=(tt=(Le=H+xe*Yt)+xe*((Pe=ge+xe*Ut)-Le))+xe*(Pe+xe*(de+xe*Wt-Pe)-tt),Oe==0?(Ze=at,Fe=Be,rt=at,At=Be):(Ze=Math.min(Ze,at),Fe=Math.min(Fe,Be),rt=Math.max(rt,at),At=Math.max(At,Be));return new f(Math.round(Ze),Math.round(Fe),Math.round(rt-Ze),Math.round(At-Fe))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,H,ae=(U=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:H}));this.prevLineDash!==ae&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ae)}}})(wr.API),function(e){var t=function(i){var c,f,m,p,x,y,S,N,j,_;for(f=[],m=0,p=(i+=c="\0\0\0\0".slice(i.length%4||4)).length;p>m;m+=4)(x=(i.charCodeAt(m)<<24)+(i.charCodeAt(m+1)<<16)+(i.charCodeAt(m+2)<<8)+i.charCodeAt(m+3))!==0?(y=(x=((x=((x=((x=(x-(_=x%85))/85)-(j=x%85))/85)-(N=x%85))/85)-(S=x%85))/85)%85,f.push(y+33,S+33,N+33,j+33,_+33)):f.push(122);return function(T,D){for(var R=D;R>0;R--)T.pop()}(f,c.length),String.fromCharCode.apply(String,f)+"~>"},r=function(i){var c,f,m,p,x,y=String,S="length",N=255,j="charCodeAt",_="slice",T="replace";for(i[_](-2),i=i[_](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),m=[],p=0,x=(i+=c="uuuuu"[_](i[S]%5||5))[S];x>p;p+=5)f=52200625*(i[j](p)-33)+614125*(i[j](p+1)-33)+7225*(i[j](p+2)-33)+85*(i[j](p+3)-33)+(i[j](p+4)-33),m.push(N&f>>24,N&f>>16,N&f>>8,N&f);return function(D,R){for(var z=R;z>0;z--)D.pop()}(m,c[S]),y.fromCharCode.apply(y,m)},n=function(i){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),c.test(i)===!1)return"";for(var f="",m=0;m<i.length;m+=2)f+=String.fromCharCode("0x"+(i[m]+i[m+1]));return f},a=function(i){for(var c=new Uint8Array(i.length),f=i.length;f--;)c[f]=i.charCodeAt(f);return i=(c=Sb(c)).reduce(function(m,p){return m+String.fromCharCode(p)},"")};e.processDataByFilters=function(i,c){var f=0,m=i||"",p=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":m=r(m),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=t(m),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=n(m),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=m.split("").map(function(x){return("0"+x.charCodeAt().toString(16)).slice(-2)}).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=a(m),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:m,reverseChain:p.reverse().join(" ")}}}(wr.API),function(e){e.loadFile=function(t,r,n){return function(a,i,c){i=i!==!1,c=typeof c=="function"?c:function(){};var f=void 0;try{f=function(m,p,x){var y=new XMLHttpRequest,S=0,N=function(j){var _=j.length,T=[],D=String.fromCharCode;for(S=0;S<_;S+=1)T.push(D(255&j.charCodeAt(S)));return T.join("")};if(y.open("GET",m,!p),y.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(y.onload=function(){y.status===200?x(N(this.responseText)):x(void 0)}),y.send(null),p&&y.status===200)return N(y.responseText)}(a,i,c)}catch{}return f}(t,r,n)},e.loadImageFile=e.loadFile}(wr.API),function(e){function t(){return(Pr.html2canvas?Promise.resolve(Pr.html2canvas):yb(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function r(){return(Pr.DOMPurify?Promise.resolve(Pr.DOMPurify):yb(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var n=function(c){var f=Jn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var m=document.createElement(c);for(var p in f.className&&(m.className=f.className),f.innerHTML&&f.dompurify&&(m.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)m.style[p]=f.style[p];return m},i=function c(f){var m=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),p=c.convert(Promise.resolve(),m);return p=(p=p.setProgress(1,c,1,[c])).set(f)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(c,f){return c.__proto__=f||i.prototype,c},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(c,f){return this.then(function(){switch(f=f||function(m){switch(n(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(c)){case"string":return this.then(r).then(function(m){return this.set({src:a("div",{innerHTML:c,dompurify:m})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},i.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=function m(p,x){for(var y=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),S=p.firstChild;S;S=S.nextSibling)x!==!0&&S.nodeType===1&&S.nodeName==="SCRIPT"||y.appendChild(m(S,x));return p.nodeType===1&&(p.nodeName==="CANVAS"?(y.width=p.width,y.height=p.height,y.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(y.value=p.value),y.addEventListener("load",function(){y.scrollTop=p.scrollTop,y.scrollLeft=p.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(f){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,f(this.prop.container,m)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(f){var m=this.opt.jsPDF,p=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=p,p)for(var S=0;S<p.length;++S){var N=p[S],j=N.src.find(function(_){return _.format==="truetype"});j&&m.addFont(j.url,N.ref.name,N.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,m.context2d.save(!0),f(this.prop.container,y)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(c,f,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},i.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},i.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},i.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(c){if(n(c)!=="object")return this;var f=Object.keys(c||{}).map(function(m){if(m in i.template.prop)return function(){this.prop[m]=c[m]};switch(m){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[m]=c[m]}}},this);return this.then(function(){return this.thenList(f)})},i.prototype.get=function(c,f){return this.then(function(){var m=c in i.template.prop?this.prop[c]:this.opt[c];return f?f(m):m})},i.prototype.setMargin=function(c){return this.then(function(){switch(n(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},i.prototype.setPageSize=function(c){function f(m,p){return Math.floor(m*p/72*96)}return this.then(function(){(c=c||wr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},i.prototype.setProgress=function(c,f,m,p){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),m!=null&&(this.progress.n=m),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(c,f,m,p){return this.setProgress(c?this.progress.val+c:null,f||null,m?this.progress.n+m:null,p?this.progress.stack.concat(p):null)},i.prototype.then=function(c,f){var m=this;return this.thenCore(c,f,function(p,x){return m.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(y){return m.updateProgress(null,p),y}).then(p,x).then(function(y){return m.updateProgress(1),y})})},i.prototype.thenCore=function(c,f,m){m=m||Promise.prototype.then,c&&(c=c.bind(this)),f&&(f=f.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),x=m.call(p,c,f);return i.convert(x,this.__proto__)},i.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},i.prototype.thenList=function(c){var f=this;return c.forEach(function(m){f=f.thenCore(m)}),f},i.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return i.convert(f,this)},i.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},i.prototype.error=function(c){return this.then(function(){throw new Error(c)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,wr.getPageSize=function(c,f,m){if(Jn(c)==="object"){var p=c;c=p.orientation,f=p.unit||f,m=p.format||m}f=f||"mm",m=m||"a4",c=(""+(c||"P")).toLowerCase();var x,y=(""+m).toLowerCase(),S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+f}var N,j=0,_=0;if(S.hasOwnProperty(y))j=S[y][1]/x,_=S[y][0]/x;else try{j=m[1],_=m[0]}catch{throw new Error("Invalid format: "+m)}if(c==="p"||c==="portrait")c="p",_>j&&(N=_,_=j,j=N);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",j>_&&(N=_,_=j,j=N)}return{width:_,height:j,unit:f,k:x,orientation:c}},e.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Tb):null;var m=new i(f);return f.worker?m:m.from(c).doCallback()}}(wr.API),wr.API.addJS=function(e){return ES=e,this.internal.events.subscribe("postPutResources",function(){Hp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Hp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),SS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ES+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Hp!==void 0&&SS!==void 0&&this.internal.out("/Names <</JavaScript "+Hp+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var c=a[i],f=n.exec(c);if(f!=null){var m=f[1];r.internal.newObjectDeferredBegin(m,!1)}r.internal.write(c)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,x=[];for(i=0;i<p;i++){var y=r.internal.newObject();x.push(y);var S=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+S.objId+" 0 R /XYZ null null null]>> endobj")}var N=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<x.length;i++)r.internal.write("(page_"+(i+1)+")"+x[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+N+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var c={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(c),c},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var c=n.children[i];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var f=this.count=this.count_r({count:0},c);if(f>0&&this.line("/Count "+f),c.options&&c.options.pageNumber){var m=r.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+m.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var p=0;p<n.children.length;p++)this.renderItems(n.children[p])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(wr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,c,f){var m,p=this.decode.DCT_DECODE,x=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=c||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(m=function(y){for(var S,N=256*y.charCodeAt(4)+y.charCodeAt(5),j=y.length,_={width:0,height:0,numcomponents:1},T=4;T<j;T+=2){if(T+=N,t.indexOf(y.charCodeAt(T+1))!==-1){S=256*y.charCodeAt(T+5)+y.charCodeAt(T+6),_={width:256*y.charCodeAt(T+7)+y.charCodeAt(T+8),height:S,numcomponents:y.charCodeAt(T+9)};break}N=256*y.charCodeAt(T+2)+y.charCodeAt(T+3)}return _}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:f=this.color_spaces.DEVICE_GRAY;break;case 4:f=this.color_spaces.DEVICE_CMYK;break;case 3:f=this.color_spaces.DEVICE_RGB}x={data:r,width:m.width,height:m.height,colorSpace:f,bitsPerComponent:8,filter:p,index:n,alias:a}}return x}}(wr.API);var sh,Vp,CS,_S,jS,pF=function(){var e,t,r;function n(i){var c,f,m,p,x,y,S,N,j,_,T,D,R,z;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(c=this.readUInt32(),j=(function(){var G,$;for($=[],G=0;G<4;++G)$.push(String.fromCharCode(this.data[this.pos++]));return $}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(c);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},x=this.readUInt16(),p=this.readUInt16()||100,y.delay=1e3*x/p,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(j==="fdAT"&&(this.pos+=4,c-=4),i=(y!=null?y.data:void 0)||this.imgData,D=0;0<=c?D<c:D>c;0<=c?++D:--D)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(m=this.palette.length/3,this.transparency.indexed=this.read(c),this.transparency.indexed.length>m)throw new Error("More transparent colors than palette size");if((_=m-this.transparency.indexed.length)>0)for(R=0;0<=_?R<_:R>_;0<=_?++R:--R)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;case"tEXt":S=(T=this.read(c)).indexOf(0),N=String.fromCharCode.apply(String,T.slice(0,S)),this.text[N]=String.fromCharCode.apply(String,T.slice(S+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(z=this.colorType)===4||z===6,f=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*f,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=c}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var c,f;for(f=[],c=0;0<=i?c<i:c>i;0<=i?++c:--c)f.push(this.data[this.pos++]);return f},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var c=this.pixelBitlength/8,f=new Uint8Array(this.width*this.height*c),m=0,p=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function x(y,S,N,j){var _,T,D,R,z,G,$,X,V,Y,W,Ne,Z,Q,ye,ie,q,te,se,ue,ee,Se=Math.ceil((p.width-y)/N),le=Math.ceil((p.height-S)/j),U=p.width==Se&&p.height==le;for(Q=c*Se,Ne=U?f:new Uint8Array(Q*le),G=i.length,Z=0,T=0;Z<le&&m<G;){switch(i[m++]){case 0:for(R=q=0;q<Q;R=q+=1)Ne[T++]=i[m++];break;case 1:for(R=te=0;te<Q;R=te+=1)_=i[m++],z=R<c?0:Ne[T-c],Ne[T++]=(_+z)%256;break;case 2:for(R=se=0;se<Q;R=se+=1)_=i[m++],D=(R-R%c)/c,ye=Z&&Ne[(Z-1)*Q+D*c+R%c],Ne[T++]=(ye+_)%256;break;case 3:for(R=ue=0;ue<Q;R=ue+=1)_=i[m++],D=(R-R%c)/c,z=R<c?0:Ne[T-c],ye=Z&&Ne[(Z-1)*Q+D*c+R%c],Ne[T++]=(_+Math.floor((z+ye)/2))%256;break;case 4:for(R=ee=0;ee<Q;R=ee+=1)_=i[m++],D=(R-R%c)/c,z=R<c?0:Ne[T-c],Z===0?ye=ie=0:(ye=Ne[(Z-1)*Q+D*c+R%c],ie=D&&Ne[(Z-1)*Q+(D-1)*c+R%c]),$=z+ye-ie,X=Math.abs($-z),Y=Math.abs($-ye),W=Math.abs($-ie),V=X<=Y&&X<=W?z:Y<=W?ye:ie,Ne[T++]=(_+V)%256;break;default:throw new Error("Invalid filter algorithm: "+i[m-1])}if(!U){var H=((S+Z*j)*p.width+y)*c,ae=Z*Q;for(R=0;R<Se;R+=1){for(var ge=0;ge<c;ge+=1)f[H++]=Ne[ae++];H+=(N-1)*c}}Z++}}return i=GB(i),p.interlaceMethod==1?(x(0,0,8,8),x(4,0,8,8),x(0,4,4,8),x(2,0,4,4),x(0,2,2,4),x(1,0,2,2),x(0,1,1,2)):x(0,0,1,1),f},n.prototype.decodePalette=function(){var i,c,f,m,p,x,y,S,N;for(f=this.palette,x=this.transparency.indexed||[],p=new Uint8Array((x.length||0)+f.length),m=0,i=0,c=y=0,S=f.length;y<S;c=y+=3)p[m++]=f[c],p[m++]=f[c+1],p[m++]=f[c+2],p[m++]=(N=x[i++])!=null?N:255;return p},n.prototype.copyToImageData=function(i,c){var f,m,p,x,y,S,N,j,_,T,D;if(m=this.colors,_=null,f=this.hasAlphaChannel,this.palette.length&&(_=(D=this._decodedPalette)!=null?D:this._decodedPalette=this.decodePalette(),m=4,f=!0),j=(p=i.data||i).length,y=_||c,x=S=0,m===1)for(;x<j;)N=_?4*c[x/4]:S,T=y[N++],p[x++]=T,p[x++]=T,p[x++]=T,p[x++]=f?y[N++]:255,S=N;else for(;x<j;)N=_?4*c[x/4]:S,p[x++]=y[N++],p[x++]=y[N++],p[x++]=y[N++],p[x++]=f?y[N++]:255,S=N},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Pr)==="[object Window]"){try{t=Pr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var c;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(c=new Image).src=t.toDataURL(),c;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var c,f,m,p,x,y,S,N;if(this.animation){for(N=[],f=x=0,y=(S=this.animation.frames).length;x<y;f=++x)c=S[f],m=i.createImageData(c.width,c.height),p=this.decodePixels(new Uint8Array(c.data)),this.copyToImageData(m,p),c.imageData=m,N.push(c.image=e(m));return N}},n.prototype.renderFrame=function(i,c){var f,m,p;return f=(m=this.animation.frames)[c],p=m[c-1],c===0&&i.clearRect(0,0,this.width,this.height),(p!=null?p.disposeOp:void 0)===1?i.clearRect(p.xOffset,p.yOffset,p.width,p.height):(p!=null?p.disposeOp:void 0)===2&&i.putImageData(p.imageData,p.xOffset,p.yOffset),f.blendOp===0&&i.clearRect(f.xOffset,f.yOffset,f.width,f.height),i.drawImage(f.image,f.xOffset,f.yOffset)},n.prototype.animate=function(i){var c,f,m,p,x,y,S=this;return f=0,y=this.animation,p=y.numFrames,m=y.frames,x=y.numPlays,(c=function(){var N,j;if(N=f++%p,j=m[N],S.renderFrame(i,N),p>1&&f/p<x)return S.animation._timeout=setTimeout(c,j.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var c,f;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,c=i.getContext("2d"),this.animation?(this.decodeFrames(c),this.animate(c)):(f=c.createImageData(this.width,this.height),this.copyToImageData(f,this.decodePixels()),c.putImageData(f,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function mF(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,c=1<<(7&a)+1;e[t++],e[t++];var f=null,m=null;i&&(f=t,m=c,t+=3*c);var p=!0,x=[],y=0,S=null,N=0,j=null;for(this.width=r,this.height=n;p&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,j=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((Z=e[t++])>=0))throw Error("Invalid block size");if(Z===0)break;t+=Z}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var _=e[t++];y=e[t++]|e[t++]<<8,S=e[t++],!(1&_)&&(S=null),N=_>>2&7,t++;break;case 254:for(;;){if(!((Z=e[t++])>=0))throw Error("Invalid block size");if(Z===0)break;t+=Z}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var T=e[t++]|e[t++]<<8,D=e[t++]|e[t++]<<8,R=e[t++]|e[t++]<<8,z=e[t++]|e[t++]<<8,G=e[t++],$=G>>6&1,X=1<<(7&G)+1,V=f,Y=m,W=!1;G>>7&&(W=!0,V=t,Y=X,t+=3*X);var Ne=t;for(t++;;){var Z;if(!((Z=e[t++])>=0))throw Error("Invalid block size");if(Z===0)break;t+=Z}x.push({x:T,y:D,width:R,height:z,has_local_palette:W,palette_offset:V,palette_size:Y,data_offset:Ne,data_length:t-Ne,transparent_index:S,interlaced:!!$,delay:y,disposal:N});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return x.length},this.loopCount=function(){return j},this.frameInfo=function(Q){if(Q<0||Q>=x.length)throw new Error("Frame index out of range.");return x[Q]},this.decodeAndBlitFrameBGRA=function(Q,ye){var ie=this.frameInfo(Q),q=ie.width*ie.height,te=new Uint8Array(q);OS(e,ie.data_offset,te,q);var se=ie.palette_offset,ue=ie.transparent_index;ue===null&&(ue=256);var ee=ie.width,Se=r-ee,le=ee,U=4*(ie.y*r+ie.x),H=4*((ie.y+ie.height)*r+ie.x),ae=U,ge=4*Se;ie.interlaced===!0&&(ge+=4*r*7);for(var ve=8,de=0,ke=te.length;de<ke;++de){var me=te[de];if(le===0&&(le=ee,(ae+=ge)>=H&&(ge=4*Se+4*r*(ve-1),ae=U+(ee+Se)*(ve<<1),ve>>=1)),me===ue)ae+=4;else{var xe=e[se+3*me],Oe=e[se+3*me+1],oe=e[se+3*me+2];ye[ae++]=oe,ye[ae++]=Oe,ye[ae++]=xe,ye[ae++]=255}--le}},this.decodeAndBlitFrameRGBA=function(Q,ye){var ie=this.frameInfo(Q),q=ie.width*ie.height,te=new Uint8Array(q);OS(e,ie.data_offset,te,q);var se=ie.palette_offset,ue=ie.transparent_index;ue===null&&(ue=256);var ee=ie.width,Se=r-ee,le=ee,U=4*(ie.y*r+ie.x),H=4*((ie.y+ie.height)*r+ie.x),ae=U,ge=4*Se;ie.interlaced===!0&&(ge+=4*r*7);for(var ve=8,de=0,ke=te.length;de<ke;++de){var me=te[de];if(le===0&&(le=ee,(ae+=ge)>=H&&(ge=4*Se+4*r*(ve-1),ae=U+(ee+Se)*(ve<<1),ve>>=1)),me===ue)ae+=4;else{var xe=e[se+3*me],Oe=e[se+3*me+1],oe=e[se+3*me+2];ye[ae++]=xe,ye[ae++]=Oe,ye[ae++]=oe,ye[ae++]=255}--le}}}function OS(e,t,r,n){for(var a=e[t++],i=1<<a,c=i+1,f=c+1,m=a+1,p=(1<<m)-1,x=0,y=0,S=0,N=e[t++],j=new Int32Array(4096),_=null;;){for(;x<16&&N!==0;)y|=e[t++]<<x,x+=8,N===1?N=e[t++]:--N;if(x<m)break;var T=y&p;if(y>>=m,x-=m,T!==i){if(T===c)break;for(var D=T<f?T:_,R=0,z=D;z>i;)z=j[z]>>8,++R;var G=z;if(S+R+(D!==T?1:0)>n)return void ga.log("Warning, gif stream longer than expected.");r[S++]=G;var $=S+=R;for(D!==T&&(r[S++]=G),z=D;R--;)z=j[z],r[--$]=255&z,z>>=8;_!==null&&f<4096&&(j[f++]=_<<8|G,f>=p+1&&m<12&&(++m,p=p<<1|1)),_=T}else f=c+1,p=(1<<(m=a+1))-1,_=null}return S!==n&&ga.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function yv(e){var t,r,n,a,i,c=Math.floor,f=new Array(64),m=new Array(64),p=new Array(64),x=new Array(64),y=new Array(65535),S=new Array(65535),N=new Array(64),j=new Array(64),_=[],T=0,D=7,R=new Array(64),z=new Array(64),G=new Array(64),$=new Array(256),X=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Y=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],Ne=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ye=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(U,H){for(var ae=0,ge=0,ve=new Array,de=1;de<=16;de++){for(var ke=1;ke<=U[de];ke++)ve[H[ge]]=[],ve[H[ge]][0]=ae,ve[H[ge]][1]=de,ge++,ae++;ae*=2}return ve}function se(U){for(var H=U[0],ae=U[1]-1;ae>=0;)H&1<<ae&&(T|=1<<D),ae--,--D<0&&(T==255?(ue(255),ue(0)):ue(T),D=7,T=0)}function ue(U){_.push(U)}function ee(U){ue(U>>8&255),ue(255&U)}function Se(U,H,ae,ge,ve){for(var de,ke=ve[0],me=ve[240],xe=function(Be,Ze){var Fe,rt,At,Ht,Yt,Jt,Ut,ir,Wt,Ar,zt=0;for(Wt=0;Wt<8;++Wt){Fe=Be[zt],rt=Be[zt+1],At=Be[zt+2],Ht=Be[zt+3],Yt=Be[zt+4],Jt=Be[zt+5],Ut=Be[zt+6];var Pn=Fe+(ir=Be[zt+7]),Vt=Fe-ir,Et=rt+Ut,er=rt-Ut,Qt=At+Jt,Jr=At-Jt,Hr=Ht+Yt,Ri=Ht-Yt,xn=Pn+Hr,Er=Pn-Hr,oa=Et+Qt,cn=Et-Qt;Be[zt]=xn+oa,Be[zt+4]=xn-oa;var xr=.707106781*(cn+Er);Be[zt+2]=Er+xr,Be[zt+6]=Er-xr;var Cr=.382683433*((xn=Ri+Jr)-(cn=er+Vt)),es=.5411961*xn+Cr,$r=1.306562965*cn+Cr,la=.707106781*(oa=Jr+er),ca=Vt+la,or=Vt-la;Be[zt+5]=or+es,Be[zt+3]=or-es,Be[zt+1]=ca+$r,Be[zt+7]=ca-$r,zt+=8}for(zt=0,Wt=0;Wt<8;++Wt){Fe=Be[zt],rt=Be[zt+8],At=Be[zt+16],Ht=Be[zt+24],Yt=Be[zt+32],Jt=Be[zt+40],Ut=Be[zt+48];var Ja=Fe+(ir=Be[zt+56]),ea=Fe-ir,ya=rt+Ut,Xr=rt-Ut,je=At+Jt,jt=At-Jt,et=Ht+Yt,bt=Ht-Yt,Ft=Ja+et,Re=Ja-et,mt=ya+je,pt=ya-je;Be[zt]=Ft+mt,Be[zt+32]=Ft-mt;var Ot=.707106781*(pt+Re);Be[zt+16]=Re+Ot,Be[zt+48]=Re-Ot;var Dt=.382683433*((Ft=bt+jt)-(pt=Xr+ea)),It=.5411961*Ft+Dt,tr=1.306562965*pt+Dt,Xt=.707106781*(mt=jt+Xr),cr=ea+Xt,Nt=ea-Xt;Be[zt+40]=Nt+It,Be[zt+24]=Nt-It,Be[zt+8]=cr+tr,Be[zt+56]=cr-tr,zt++}for(Wt=0;Wt<64;++Wt)Ar=Be[Wt]*Ze[Wt],N[Wt]=Ar>0?Ar+.5|0:Ar-.5|0;return N}(U,H),Oe=0;Oe<64;++Oe)j[V[Oe]]=xe[Oe];var oe=j[0]-ae;ae=j[0],oe==0?se(ge[0]):(se(ge[S[de=32767+oe]]),se(y[de]));for(var Le=63;Le>0&&j[Le]==0;)Le--;if(Le==0)return se(ke),ae;for(var Ge,Pe=1;Pe<=Le;){for(var ne=Pe;j[Pe]==0&&Pe<=Le;)++Pe;var tt=Pe-ne;if(tt>=16){Ge=tt>>4;for(var at=1;at<=Ge;++at)se(me);tt&=15}de=32767+j[Pe],se(ve[(tt<<4)+S[de]]),se(y[de]),Pe++}return Le!=63&&se(ke),ae}function le(U){U=Math.min(Math.max(U,1),100),i!=U&&(function(H){for(var ae=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ge=0;ge<64;ge++){var ve=c((ae[ge]*H+50)/100);ve=Math.min(Math.max(ve,1),255),f[V[ge]]=ve}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var me=c((de[ke]*H+50)/100);me=Math.min(Math.max(me,1),255),m[V[ke]]=me}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Oe=0,oe=0;oe<8;oe++)for(var Le=0;Le<8;Le++)p[Oe]=1/(f[V[Oe]]*xe[oe]*xe[Le]*8),x[Oe]=1/(m[V[Oe]]*xe[oe]*xe[Le]*8),Oe++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),i=U)}this.encode=function(U,H){H&&le(H),_=new Array,T=0,D=7,ee(65496),ee(65504),ee(16),ue(74),ue(70),ue(73),ue(70),ue(0),ue(1),ue(1),ue(0),ee(1),ee(1),ue(0),ue(0),function(){ee(65499),ee(132),ue(0);for(var rt=0;rt<64;rt++)ue(f[rt]);ue(1);for(var At=0;At<64;At++)ue(m[At])}(),function(rt,At){ee(65472),ee(17),ue(8),ee(At),ee(rt),ue(3),ue(1),ue(17),ue(0),ue(2),ue(17),ue(1),ue(3),ue(17),ue(1)}(U.width,U.height),function(){ee(65476),ee(418),ue(0);for(var rt=0;rt<16;rt++)ue(Y[rt+1]);for(var At=0;At<=11;At++)ue(W[At]);ue(16);for(var Ht=0;Ht<16;Ht++)ue(Ne[Ht+1]);for(var Yt=0;Yt<=161;Yt++)ue(Z[Yt]);ue(1);for(var Jt=0;Jt<16;Jt++)ue(Q[Jt+1]);for(var Ut=0;Ut<=11;Ut++)ue(ye[Ut]);ue(17);for(var ir=0;ir<16;ir++)ue(ie[ir+1]);for(var Wt=0;Wt<=161;Wt++)ue(q[Wt])}(),ee(65498),ee(12),ue(3),ue(1),ue(0),ue(2),ue(17),ue(3),ue(17),ue(0),ue(63),ue(0);var ae=0,ge=0,ve=0;T=0,D=7,this.encode.displayName="_encode_";for(var de,ke,me,xe,Oe,oe,Le,Ge,Pe,ne=U.data,tt=U.width,at=U.height,Be=4*tt,Ze=0;Ze<at;){for(de=0;de<Be;){for(Oe=Be*Ze+de,Le=-1,Ge=0,Pe=0;Pe<64;Pe++)oe=Oe+(Ge=Pe>>3)*Be+(Le=4*(7&Pe)),Ze+Ge>=at&&(oe-=Be*(Ze+1+Ge-at)),de+Le>=Be&&(oe-=de+Le-Be+4),ke=ne[oe++],me=ne[oe++],xe=ne[oe++],R[Pe]=(X[ke]+X[me+256>>0]+X[xe+512>>0]>>16)-128,z[Pe]=(X[ke+768>>0]+X[me+1024>>0]+X[xe+1280>>0]>>16)-128,G[Pe]=(X[ke+1280>>0]+X[me+1536>>0]+X[xe+1792>>0]>>16)-128;ae=Se(R,p,ae,t,n),ge=Se(z,x,ge,r,a),ve=Se(G,x,ve,r,a),de+=32}Ze+=8}if(D>=0){var Fe=[];Fe[1]=D+1,Fe[0]=(1<<D+1)-1,se(Fe)}return ee(65497),new Uint8Array(_)},e=e||50,function(){for(var U=String.fromCharCode,H=0;H<256;H++)$[H]=U(H)}(),t=te(Y,W),r=te(Q,ye),n=te(Ne,Z),a=te(ie,q),function(){for(var U=1,H=2,ae=1;ae<=15;ae++){for(var ge=U;ge<H;ge++)S[32767+ge]=ae,y[32767+ge]=[],y[32767+ge][1]=ae,y[32767+ge][0]=ge;for(var ve=-(H-1);ve<=-U;ve++)S[32767+ve]=ae,y[32767+ve]=[],y[32767+ve][1]=ae,y[32767+ve][0]=H-1+ve;U<<=1,H<<=1}}(),function(){for(var U=0;U<256;U++)X[U]=19595*U,X[U+256>>0]=38470*U,X[U+512>>0]=7471*U+32768,X[U+768>>0]=-11059*U,X[U+1024>>0]=-21709*U,X[U+1280>>0]=32768*U+8421375,X[U+1536>>0]=-27439*U,X[U+1792>>0]=-5329*U}(),le(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function TS(e){function t(Y){if(!Y)throw Error("assert :P")}function r(Y,W,Ne){for(var Z=0;4>Z;Z++)if(Y[W+Z]!=Ne.charCodeAt(Z))return!0;return!1}function n(Y,W,Ne,Z,Q){for(var ye=0;ye<Q;ye++)Y[W+ye]=Ne[Z+ye]}function a(Y,W,Ne,Z){for(var Q=0;Q<Z;Q++)Y[W+Q]=Ne}function i(Y){return new Int32Array(Y)}function c(Y,W){for(var Ne=[],Z=0;Z<Y;Z++)Ne.push(new W);return Ne}function f(Y,W){var Ne=[];return function Z(Q,ye,ie){for(var q=ie[ye],te=0;te<q&&(Q.push(ie.length>ye+1?[]:new W),!(ie.length<ye+1));te++)Z(Q[te],ye+1,ie)}(Ne,0,Y),Ne}var m=function(){var Y=this;function W(E,k){for(var F=1<<k-1>>>0;E&F;)F>>>=1;return F?(E&F-1)+F:E}function Ne(E,k,F,K,he){t(!(K%F));do E[k+(K-=F)]=he;while(0<K)}function Z(E,k,F,K,he){if(t(2328>=he),512>=he)var be=i(512);else if((be=i(he))==null)return 0;return function(we,Ee,_e,De,Ve,st){var it,Ke,Tt=Ee,xt=1<<_e,We=i(16),$e=i(16);for(t(Ve!=0),t(De!=null),t(we!=null),t(0<_e),Ke=0;Ke<Ve;++Ke){if(15<De[Ke])return 0;++We[De[Ke]]}if(We[0]==Ve)return 0;for($e[1]=0,it=1;15>it;++it){if(We[it]>1<<it)return 0;$e[it+1]=$e[it]+We[it]}for(Ke=0;Ke<Ve;++Ke)it=De[Ke],0<De[Ke]&&(st[$e[it]++]=Ke);if($e[15]==1)return(De=new Q).g=0,De.value=st[0],Ne(we,Tt,1,xt,De),xt;var Ct,Bt=-1,St=xt-1,Zt=0,Gt=1,br=1,$t=1<<_e;for(Ke=0,it=1,Ve=2;it<=_e;++it,Ve<<=1){if(Gt+=br<<=1,0>(br-=We[it]))return 0;for(;0<We[it];--We[it])(De=new Q).g=it,De.value=st[Ke++],Ne(we,Tt+Zt,Ve,$t,De),Zt=W(Zt,it)}for(it=_e+1,Ve=2;15>=it;++it,Ve<<=1){if(Gt+=br<<=1,0>(br-=We[it]))return 0;for(;0<We[it];--We[it]){if(De=new Q,(Zt&St)!=Bt){for(Tt+=$t,Ct=1<<(Bt=it)-_e;15>Bt&&!(0>=(Ct-=We[Bt]));)++Bt,Ct<<=1;xt+=$t=1<<(Ct=Bt-_e),we[Ee+(Bt=Zt&St)].g=Ct+_e,we[Ee+Bt].value=Tt-Ee-Bt}De.g=it-_e,De.value=st[Ke++],Ne(we,Tt+(Zt>>_e),Ve,$t,De),Zt=W(Zt,it)}}return Gt!=2*$e[15]-1?0:xt}(E,k,F,K,he,be)}function Q(){this.value=this.g=0}function ye(){this.value=this.g=0}function ie(){this.G=c(5,Q),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Un,ye)}function q(E,k,F,K){t(E!=null),t(k!=null),t(2147483648>K),E.Ca=254,E.I=0,E.b=-8,E.Ka=0,E.oa=k,E.pa=F,E.Jd=k,E.Yc=F+K,E.Zc=4<=K?F+K-4+1:F,de(E)}function te(E,k){for(var F=0;0<k--;)F|=me(E,128)<<k;return F}function se(E,k){var F=te(E,k);return ke(E)?-F:F}function ue(E,k,F,K){var he,be=0;for(t(E!=null),t(k!=null),t(4294967288>K),E.Sb=K,E.Ra=0,E.u=0,E.h=0,4<K&&(K=4),he=0;he<K;++he)be+=k[F+he]<<8*he;E.Ra=be,E.bb=K,E.oa=k,E.pa=F}function ee(E){for(;8<=E.u&&E.bb<E.Sb;)E.Ra>>>=8,E.Ra+=E.oa[E.pa+E.bb]<<ks-8>>>0,++E.bb,E.u-=8;ae(E)&&(E.h=1,E.u=0)}function Se(E,k){if(t(0<=k),!E.h&&k<=po){var F=H(E)&_l[k];return E.u+=k,ee(E),F}return E.h=1,E.u=0}function le(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(E){return E.Ra>>>(E.u&ks-1)>>>0}function ae(E){return t(E.bb<=E.Sb),E.h||E.bb==E.Sb&&E.u>ks}function ge(E,k){E.u=k,E.h=ae(E)}function ve(E){E.u>=Zr&&(t(E.u>=Zr),ee(E))}function de(E){t(E!=null&&E.oa!=null),E.pa<E.Zc?(E.I=(E.oa[E.pa++]|E.I<<8)>>>0,E.b+=8):(t(E!=null&&E.oa!=null),E.pa<E.Yc?(E.b+=8,E.I=E.oa[E.pa++]|E.I<<8):E.Ka?E.b=0:(E.I<<=8,E.b+=8,E.Ka=1))}function ke(E){return te(E,1)}function me(E,k){var F=E.Ca;0>E.b&&de(E);var K=E.b,he=F*k>>>8,be=(E.I>>>K>he)+0;for(be?(F-=he,E.I-=he+1<<K>>>0):F=he+1,K=F,he=0;256<=K;)he+=8,K>>=8;return K=7^he+ri[K],E.b-=K,E.Ca=(F<<K)-1,be}function xe(E,k,F){E[k+0]=F>>24&255,E[k+1]=F>>16&255,E[k+2]=F>>8&255,E[k+3]=F>>0&255}function Oe(E,k){return E[k+0]<<0|E[k+1]<<8}function oe(E,k){return Oe(E,k)|E[k+2]<<16}function Le(E,k){return Oe(E,k)|Oe(E,k+2)<<16}function Ge(E,k){var F=1<<k;return t(E!=null),t(0<k),E.X=i(F),E.X==null?0:(E.Mb=32-k,E.Xa=k,1)}function Pe(E,k){t(E!=null),t(k!=null),t(E.Xa==k.Xa),n(k.X,0,E.X,0,1<<k.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function tt(E,k,F,K){t(F!=null),t(K!=null);var he=F[0],be=K[0];return he==0&&(he=(E*be+k/2)/k),be==0&&(be=(k*he+E/2)/E),0>=he||0>=be?0:(F[0]=he,K[0]=be,1)}function at(E,k){return E+(1<<k)-1>>>k}function Be(E,k){return((4278255360&E)+(4278255360&k)>>>0&4278255360)+((16711935&E)+(16711935&k)>>>0&16711935)>>>0}function Ze(E,k){Y[k]=function(F,K,he,be,we,Ee,_e){var De;for(De=0;De<we;++De){var Ve=Y[E](Ee[_e+De-1],he,be+De);Ee[_e+De]=Be(F[K+De],Ve)}}}function Fe(){this.ud=this.hd=this.jd=0}function rt(E,k){return((4278124286&(E^k))>>>1)+(E&k)>>>0}function At(E){return 0<=E&&256>E?E:0>E?0:255<E?255:void 0}function Ht(E,k){return At(E+(E-k+.5>>1))}function Yt(E,k,F){return Math.abs(k-F)-Math.abs(E-F)}function Jt(E,k,F,K,he,be,we){for(K=be[we-1],F=0;F<he;++F)be[we+F]=K=Be(E[k+F],K)}function Ut(E,k,F,K,he){var be;for(be=0;be<F;++be){var we=E[k+be],Ee=we>>8&255,_e=16711935&(_e=(_e=16711935&we)+((Ee<<16)+Ee));K[he+be]=(4278255360&we)+_e>>>0}}function ir(E,k){k.jd=E>>0&255,k.hd=E>>8&255,k.ud=E>>16&255}function Wt(E,k,F,K,he,be){var we;for(we=0;we<K;++we){var Ee=k[F+we],_e=Ee>>>8,De=Ee,Ve=255&(Ve=(Ve=Ee>>>16)+((E.jd<<24>>24)*(_e<<24>>24)>>>5));De=255&(De=(De=De+((E.hd<<24>>24)*(_e<<24>>24)>>>5))+((E.ud<<24>>24)*(Ve<<24>>24)>>>5)),he[be+we]=(4278255360&Ee)+(Ve<<16)+De}}function Ar(E,k,F,K,he){Y[k]=function(be,we,Ee,_e,De,Ve,st,it,Ke){for(_e=st;_e<it;++_e)for(st=0;st<Ke;++st)De[Ve++]=he(Ee[K(be[we++])])},Y[E]=function(be,we,Ee,_e,De,Ve,st){var it=8>>be.b,Ke=be.Ea,Tt=be.K[0],xt=be.w;if(8>it)for(be=(1<<be.b)-1,xt=(1<<it)-1;we<Ee;++we){var We,$e=0;for(We=0;We<Ke;++We)We&be||($e=K(_e[De++])),Ve[st++]=he(Tt[$e&xt]),$e>>=it}else Y["VP8LMapColor"+F](_e,De,Tt,xt,Ve,st,we,Ee,Ke)}}function zt(E,k,F,K,he){for(F=k+F;k<F;){var be=E[k++];K[he++]=be>>16&255,K[he++]=be>>8&255,K[he++]=be>>0&255}}function Pn(E,k,F,K,he){for(F=k+F;k<F;){var be=E[k++];K[he++]=be>>16&255,K[he++]=be>>8&255,K[he++]=be>>0&255,K[he++]=be>>24&255}}function Vt(E,k,F,K,he){for(F=k+F;k<F;){var be=(we=E[k++])>>16&240|we>>12&15,we=we>>0&240|we>>28&15;K[he++]=be,K[he++]=we}}function Et(E,k,F,K,he){for(F=k+F;k<F;){var be=(we=E[k++])>>16&248|we>>13&7,we=we>>5&224|we>>3&31;K[he++]=be,K[he++]=we}}function er(E,k,F,K,he){for(F=k+F;k<F;){var be=E[k++];K[he++]=be>>0&255,K[he++]=be>>8&255,K[he++]=be>>16&255}}function Qt(E,k,F,K,he,be){if(be==0)for(F=k+F;k<F;)xe(K,((be=E[k++])[0]>>24|be[1]>>8&65280|be[2]<<8&16711680|be[3]<<24)>>>0),he+=32;else n(K,he,E,k,F)}function Jr(E,k){Y[k][0]=Y[E+"0"],Y[k][1]=Y[E+"1"],Y[k][2]=Y[E+"2"],Y[k][3]=Y[E+"3"],Y[k][4]=Y[E+"4"],Y[k][5]=Y[E+"5"],Y[k][6]=Y[E+"6"],Y[k][7]=Y[E+"7"],Y[k][8]=Y[E+"8"],Y[k][9]=Y[E+"9"],Y[k][10]=Y[E+"10"],Y[k][11]=Y[E+"11"],Y[k][12]=Y[E+"12"],Y[k][13]=Y[E+"13"],Y[k][14]=Y[E+"0"],Y[k][15]=Y[E+"0"]}function Hr(E){return E==Pd||E==Tf||E==Du||E==kf}function Ri(){this.eb=[],this.size=this.A=this.fb=0}function xn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Er(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ri,this.f.kb=new xn,this.sd=null}function oa(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function cn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xr(E){return alert("todo:WebPSamplerProcessPlane"),E.T}function Cr(E,k){var F=E.T,K=k.ba.f.RGBA,he=K.eb,be=K.fb+E.ka*K.A,we=Hi[k.ba.S],Ee=E.y,_e=E.O,De=E.f,Ve=E.N,st=E.ea,it=E.W,Ke=k.cc,Tt=k.dc,xt=k.Mc,We=k.Nc,$e=E.ka,Ct=E.ka+E.T,Bt=E.U,St=Bt+1>>1;for($e==0?we(Ee,_e,null,null,De,Ve,st,it,De,Ve,st,it,he,be,null,null,Bt):(we(k.ec,k.fc,Ee,_e,Ke,Tt,xt,We,De,Ve,st,it,he,be-K.A,he,be,Bt),++F);$e+2<Ct;$e+=2)Ke=De,Tt=Ve,xt=st,We=it,Ve+=E.Rc,it+=E.Rc,be+=2*K.A,we(Ee,(_e+=2*E.fa)-E.fa,Ee,_e,Ke,Tt,xt,We,De,Ve,st,it,he,be-K.A,he,be,Bt);return _e+=E.fa,E.j+Ct<E.o?(n(k.ec,k.fc,Ee,_e,Bt),n(k.cc,k.dc,De,Ve,St),n(k.Mc,k.Nc,st,it,St),F--):1&Ct||we(Ee,_e,null,null,De,Ve,st,it,De,Ve,st,it,he,be+K.A,null,null,Bt),F}function es(E,k,F){var K=E.F,he=[E.J];if(K!=null){var be=E.U,we=k.ba.S,Ee=we==Ld||we==Du;k=k.ba.f.RGBA;var _e=[0],De=E.ka;_e[0]=E.T,E.Kb&&(De==0?--_e[0]:(--De,he[0]-=E.width),E.j+E.ka+E.T==E.o&&(_e[0]=E.o-E.j-De));var Ve=k.eb;De=k.fb+De*k.A,E=qn(K,he[0],E.width,be,_e,Ve,De+(Ee?0:3),k.A),t(F==_e),E&&Hr(we)&&as(Ve,De,Ee,be,_e,k.A)}return 0}function $r(E){var k=E.ma,F=k.ba.S,K=11>F,he=F==ss||F==mo||F==Ld||F==Mu||F==12||Hr(F);if(k.memory=null,k.Ib=null,k.Jb=null,k.Nd=null,!Ks(k.Oa,E,he?11:12))return 0;if(he&&Hr(F)&&Mt(),E.da)alert("todo:use_scaling");else{if(K){if(k.Ib=xr,E.Kb){if(F=E.U+1>>1,k.memory=i(E.U+2*F),k.memory==null)return 0;k.ec=k.memory,k.fc=0,k.cc=k.ec,k.dc=k.fc+E.U,k.Mc=k.cc,k.Nc=k.dc+F,k.Ib=Cr,Mt()}}else alert("todo:EmitYUV");he&&(k.Jb=es,K&&Qe())}if(K&&!dc){for(E=0;256>E;++E)Vi[E]=89858*(E-128)+Ru>>wo,Bx[E]=-22014*(E-128)+Ru,X1[E]=-45773*(E-128),Pf[E]=113618*(E-128)+Ru>>wo;for(E=Gc;E<uc;++E)k=76283*(E-16)+Ru>>wo,Fx[E-Gc]=Pa(k,255),zx[E-Gc]=Pa(k+8>>4,15);dc=1}return 1}function la(E){var k=E.ma,F=E.U,K=E.T;return t(!(1&E.ka)),0>=F||0>=K?0:(F=k.Ib(E,k),k.Jb!=null&&k.Jb(E,k,F),k.Dc+=F,1)}function ca(E){E.ma.memory=null}function or(E,k,F,K){return Se(E,8)!=47?0:(k[0]=Se(E,14)+1,F[0]=Se(E,14)+1,K[0]=Se(E,1),Se(E,3)!=0?0:!E.h)}function Ja(E,k){if(4>E)return E+1;var F=E-2>>1;return(2+(1&E)<<F)+Se(k,F)+1}function ea(E,k){return 120<k?k-120:1<=(F=((F=xo[k-1])>>4)*E+(8-(15&F)))?F:1;var F}function ya(E,k,F){var K=H(F),he=E[k+=255&K].g-8;return 0<he&&(ge(F,F.u+8),K=H(F),k+=E[k].value,k+=K&(1<<he)-1),ge(F,F.u+E[k].g),E[k].value}function Xr(E,k,F){return F.g+=E.g,F.value+=E.value<<k>>>0,t(8>=F.g),E.g}function je(E,k,F){var K=E.xc;return t((k=K==0?0:E.vc[E.md*(F>>K)+(k>>K)])<E.Wb),E.Ya[k]}function jt(E,k,F,K){var he=E.ab,be=E.c*k,we=E.C;k=we+k;var Ee=F,_e=K;for(K=E.Ta,F=E.Ua;0<he--;){var De=E.gc[he],Ve=we,st=k,it=Ee,Ke=_e,Tt=(_e=K,Ee=F,De.Ea);switch(t(Ve<st),t(st<=De.nc),De.hc){case 2:d(it,Ke,(st-Ve)*Tt,_e,Ee);break;case 0:var xt=Ve,We=st,$e=_e,Ct=Ee,Bt=($t=De).Ea;xt==0&&(fe(it,Ke,null,null,1,$e,Ct),Jt(it,Ke+1,0,0,Bt-1,$e,Ct+1),Ke+=Bt,Ct+=Bt,++xt);for(var St=1<<$t.b,Zt=St-1,Gt=at(Bt,$t.b),br=$t.K,$t=$t.w+(xt>>$t.b)*Gt;xt<We;){var jn=br,pn=$t,yn=1;for(o(it,Ke,$e,Ct-Bt,1,$e,Ct);yn<Bt;){var qr=(yn&~Zt)+St;qr>Bt&&(qr=Bt),(0,C[jn[pn++]>>8&15])(it,Ke+ +yn,$e,Ct+yn-Bt,qr-yn,$e,Ct+yn),yn=qr}Ke+=Bt,Ct+=Bt,++xt&Zt||($t+=Gt)}st!=De.nc&&n(_e,Ee-Tt,_e,Ee+(st-Ve-1)*Tt,Tt);break;case 1:for(Tt=it,We=Ke,Bt=(it=De.Ea)-(Ct=it&~($e=(Ke=1<<De.b)-1)),xt=at(it,De.b),St=De.K,De=De.w+(Ve>>De.b)*xt;Ve<st;){for(Zt=St,Gt=De,br=new Fe,$t=We+Ct,jn=We+it;We<$t;)ir(Zt[Gt++],br),M(br,Tt,We,Ke,_e,Ee),We+=Ke,Ee+=Ke;We<jn&&(ir(Zt[Gt++],br),M(br,Tt,We,Bt,_e,Ee),We+=Bt,Ee+=Bt),++Ve&$e||(De+=xt)}break;case 3:if(it==_e&&Ke==Ee&&0<De.b){for(We=_e,it=Tt=Ee+(st-Ve)*Tt-(Ct=(st-Ve)*at(De.Ea,De.b)),Ke=_e,$e=Ee,xt=[],Ct=(Bt=Ct)-1;0<=Ct;--Ct)xt[Ct]=Ke[$e+Ct];for(Ct=Bt-1;0<=Ct;--Ct)We[it+Ct]=xt[Ct];h(De,Ve,st,_e,Tt,_e,Ee)}else h(De,Ve,st,it,Ke,_e,Ee)}Ee=K,_e=F}_e!=F&&n(K,F,Ee,_e,be)}function et(E,k){var F=E.V,K=E.Ba+E.c*E.C,he=k-E.C;if(t(k<=E.l.o),t(16>=he),0<he){var be=E.l,we=E.Ta,Ee=E.Ua,_e=be.width;if(jt(E,he,F,K),he=Ee=[Ee],t((F=E.C)<(K=k)),t(be.v<be.va),K>be.o&&(K=be.o),F<be.j){var De=be.j-F;F=be.j,he[0]+=De*_e}if(F>=K?F=0:(he[0]+=4*be.v,be.ka=F-be.j,be.U=be.va-be.v,be.T=K-F,F=1),F){if(Ee=Ee[0],11>(F=E.ca).S){var Ve=F.f.RGBA,st=(K=F.S,he=be.U,be=be.T,De=Ve.eb,Ve.A),it=be;for(Ve=Ve.fb+E.Ma*Ve.A;0<it--;){var Ke=we,Tt=Ee,xt=he,We=De,$e=Ve;switch(K){case jf:B(Ke,Tt,xt,We,$e);break;case ss:J(Ke,Tt,xt,We,$e);break;case Pd:J(Ke,Tt,xt,We,$e),as(We,$e,0,xt,1,0);break;case Of:Me(Ke,Tt,xt,We,$e);break;case mo:Qt(Ke,Tt,xt,We,$e,1);break;case Tf:Qt(Ke,Tt,xt,We,$e,1),as(We,$e,0,xt,1,0);break;case Ld:Qt(Ke,Tt,xt,We,$e,0);break;case Du:Qt(Ke,Tt,xt,We,$e,0),as(We,$e,1,xt,1,0);break;case Mu:ce(Ke,Tt,xt,We,$e);break;case kf:ce(Ke,Tt,xt,We,$e),fn(We,$e,xt,1,0);break;case ic:Ae(Ke,Tt,xt,We,$e);break;default:t(0)}Ee+=_e,Ve+=st}E.Ma+=be}else alert("todo:EmitRescaledRowsYUVA");t(E.Ma<=F.height)}}E.C=k,t(E.C<=E.i)}function bt(E){var k;if(0<E.ua)return 0;for(k=0;k<E.Wb;++k){var F=E.Ya[k].G,K=E.Ya[k].H;if(0<F[1][K[1]+0].g||0<F[2][K[2]+0].g||0<F[3][K[3]+0].g)return 0}return 1}function Ft(E,k,F,K,he,be){if(E.Z!=0){var we=E.qd,Ee=E.rd;for(t(Tl[E.Z]!=null);k<F;++k)Tl[E.Z](we,Ee,K,he,K,he,be),we=K,Ee=he,he+=be;E.qd=we,E.rd=Ee}}function Re(E,k){var F=E.l.ma,K=F.Z==0||F.Z==1?E.l.j:E.C;if(K=E.C<K?K:E.C,t(k<=E.l.o),k>K){var he=E.l.width,be=F.ca,we=F.tb+he*K,Ee=E.V,_e=E.Ba+E.c*K,De=E.gc;t(E.ab==1),t(De[0].hc==3),b(De[0],K,k,Ee,_e,be,we),Ft(F,K,k,be,we,he)}E.C=E.Ma=k}function mt(E,k,F,K,he,be,we){var Ee=E.$/K,_e=E.$%K,De=E.m,Ve=E.s,st=F+E.$,it=st;he=F+K*he;var Ke=F+K*be,Tt=280+Ve.ua,xt=E.Pb?Ee:16777216,We=0<Ve.ua?Ve.Wa:null,$e=Ve.wc,Ct=st<Ke?je(Ve,_e,Ee):null;t(E.C<be),t(Ke<=he);var Bt=!1;e:for(;;){for(;Bt||st<Ke;){var St=0;if(Ee>=xt){var Zt=st-F;t((xt=E).Pb),xt.wd=xt.m,xt.xd=Zt,0<xt.s.ua&&Pe(xt.s.Wa,xt.s.vb),xt=Ee+sc}if(_e&$e||(Ct=je(Ve,_e,Ee)),t(Ct!=null),Ct.Qb&&(k[st]=Ct.qb,Bt=!0),!Bt)if(ve(De),Ct.jc){St=De,Zt=k;var Gt=st,br=Ct.pd[H(St)&Un-1];t(Ct.jc),256>br.g?(ge(St,St.u+br.g),Zt[Gt]=br.value,St=0):(ge(St,St.u+br.g-256),t(256<=br.value),St=br.value),St==0&&(Bt=!0)}else St=ya(Ct.G[0],Ct.H[0],De);if(De.h)break;if(Bt||256>St){if(!Bt)if(Ct.nd)k[st]=(Ct.qb|St<<8)>>>0;else{if(ve(De),Bt=ya(Ct.G[1],Ct.H[1],De),ve(De),Zt=ya(Ct.G[2],Ct.H[2],De),Gt=ya(Ct.G[3],Ct.H[3],De),De.h)break;k[st]=(Gt<<24|Bt<<16|St<<8|Zt)>>>0}if(Bt=!1,++st,++_e>=K&&(_e=0,++Ee,we!=null&&Ee<=be&&!(Ee%16)&&we(E,Ee),We!=null))for(;it<st;)St=k[it++],We.X[(506832829*St&4294967295)>>>We.Mb]=St}else if(280>St){if(St=Ja(St-256,De),Zt=ya(Ct.G[4],Ct.H[4],De),ve(De),Zt=ea(K,Zt=Ja(Zt,De)),De.h)break;if(st-F<Zt||he-st<St)break e;for(Gt=0;Gt<St;++Gt)k[st+Gt]=k[st+Gt-Zt];for(st+=St,_e+=St;_e>=K;)_e-=K,++Ee,we!=null&&Ee<=be&&!(Ee%16)&&we(E,Ee);if(t(st<=he),_e&$e&&(Ct=je(Ve,_e,Ee)),We!=null)for(;it<st;)St=k[it++],We.X[(506832829*St&4294967295)>>>We.Mb]=St}else{if(!(St<Tt))break e;for(Bt=St-280,t(We!=null);it<st;)St=k[it++],We.X[(506832829*St&4294967295)>>>We.Mb]=St;St=st,t(!(Bt>>>(Zt=We).Xa)),k[St]=Zt.X[Bt],Bt=!0}Bt||t(De.h==ae(De))}if(E.Pb&&De.h&&st<he)t(E.m.h),E.a=5,E.m=E.wd,E.$=E.xd,0<E.s.ua&&Pe(E.s.vb,E.s.Wa);else{if(De.h)break e;we!=null&&we(E,Ee>be?be:Ee),E.a=0,E.$=st-F}return 1}return E.a=3,0}function pt(E){t(E!=null),E.vc=null,E.yc=null,E.Ya=null;var k=E.Wa;k!=null&&(k.X=null),E.vb=null,t(E!=null)}function Ot(){var E=new _a;return E==null?null:(E.a=0,E.xb=Zh,Jr("Predictor","VP8LPredictors"),Jr("Predictor","VP8LPredictors_C"),Jr("PredictorAdd","VP8LPredictorsAdd"),Jr("PredictorAdd","VP8LPredictorsAdd_C"),d=Ut,M=Wt,B=zt,J=Pn,ce=Vt,Ae=Et,Me=er,Y.VP8LMapColor32b=v,Y.VP8LMapColor8b=A,E)}function Dt(E,k,F,K,he){var be=1,we=[E],Ee=[k],_e=K.m,De=K.s,Ve=null,st=0;e:for(;;){if(F)for(;be&&Se(_e,1);){var it=we,Ke=Ee,Tt=K,xt=1,We=Tt.m,$e=Tt.gc[Tt.ab],Ct=Se(We,2);if(Tt.Oc&1<<Ct)be=0;else{switch(Tt.Oc|=1<<Ct,$e.hc=Ct,$e.Ea=it[0],$e.nc=Ke[0],$e.K=[null],++Tt.ab,t(4>=Tt.ab),Ct){case 0:case 1:$e.b=Se(We,3)+2,xt=Dt(at($e.Ea,$e.b),at($e.nc,$e.b),0,Tt,$e.K),$e.K=$e.K[0];break;case 3:var Bt,St=Se(We,8)+1,Zt=16<St?0:4<St?1:2<St?2:3;if(it[0]=at($e.Ea,Zt),$e.b=Zt,Bt=xt=Dt(St,1,0,Tt,$e.K)){var Gt,br=St,$t=$e,jn=1<<(8>>$t.b),pn=i(jn);if(pn==null)Bt=0;else{var yn=$t.K[0],qr=$t.w;for(pn[0]=$t.K[0][0],Gt=1;Gt<1*br;++Gt)pn[Gt]=Be(yn[qr+Gt],pn[Gt-1]);for(;Gt<4*jn;++Gt)pn[Gt]=0;$t.K[0]=null,$t.K[0]=pn,Bt=1}}xt=Bt;break;case 2:break;default:t(0)}be=xt}}if(we=we[0],Ee=Ee[0],be&&Se(_e,1)&&!(be=1<=(st=Se(_e,4))&&11>=st)){K.a=3;break e}var Hn;if(Hn=be)t:{var In,Mr,$n,Si=K,Ba=we,os=Ee,An=st,Wi=F,Is=Si.m,fi=Si.s,Fa=[null],Ei=1,Js=0,Ao=vo[An];r:for(;;){if(Wi&&Se(Is,1)){var ai=Se(Is,3)+2,Ka=at(Ba,ai),Ci=at(os,ai),eo=Ka*Ci;if(!Dt(Ka,Ci,0,Si,Fa))break r;for(Fa=Fa[0],fi.xc=ai,In=0;In<eo;++In){var ol=Fa[In]>>8&65535;Fa[In]=ol,ol>=Ei&&(Ei=ol+1)}}if(Is.h)break r;for(Mr=0;5>Mr;++Mr){var ja=Vc[Mr];!Mr&&0<An&&(ja+=1<<An),Js<ja&&(Js=ja)}var ll=c(Ei*Ao,Q),Ms=Ei,za=c(Ms,ie);if(za==null)var Yc=null;else t(65536>=Ms),Yc=za;var to=i(Js);if(Yc==null||to==null||ll==null){Si.a=1;break r}var Fr=ll;for(In=$n=0;In<Ei;++In){var an=Yc[In],pa=an.G,kl=an.H,$c=0,cl=1,zd=0;for(Mr=0;5>Mr;++Mr){ja=Vc[Mr],pa[Mr]=Fr,kl[Mr]=$n,!Mr&&0<An&&(ja+=1<<An);a:{var fc,hc=ja,Bf=Si,ra=to,Jh=Fr,e0=$n,Ff=0,Il=Bf.m,Ux=Se(Il,1);if(a(ra,0,0,hc),Ux){var t0=Se(Il,1)+1,r0=Se(Il,1),zf=Se(Il,r0==0?1:8);ra[zf]=1,t0==2&&(ra[zf=Se(Il,8)]=1);var _i=1}else{var Ua=i(19),Ud=Se(Il,4)+4;if(19<Ud){Bf.a=3;var pc=0;break a}for(fc=0;fc<Ud;++fc)Ua[Rd[fc]]=Se(Il,3);var Fu=void 0,Xc=void 0,ul=Bf,Uf=Ua,zu=hc,qf=ra,Hf=0,Ml=ul.m,n0=8,a0=c(128,Q);n:for(;Z(a0,0,7,Uf,19);){if(Se(Ml,1)){var K1=2+2*Se(Ml,3);if((Fu=2+Se(Ml,K1))>zu)break n}else Fu=zu;for(Xc=0;Xc<zu&&Fu--;){ve(Ml);var i0=a0[0+(127&H(Ml))];ge(Ml,Ml.u+i0.g);var mc=i0.value;if(16>mc)qf[Xc++]=mc,mc!=0&&(n0=mc);else{var Z1=mc==16,Q1=mc-16,J1=Lu[Q1],s0=Se(Ml,go[Q1])+J1;if(Xc+s0>zu)break n;for(var ep=Z1?n0:0;0<s0--;)qf[Xc++]=ep}}Hf=1;break n}Hf||(ul.a=3),_i=Hf}(_i=_i&&!Il.h)&&(Ff=Z(Jh,e0,8,ra,hc)),_i&&Ff!=0?pc=Ff:(Bf.a=3,pc=0)}if(pc==0)break r;if(cl&&If[Mr]==1&&(cl=Fr[$n].g==0),$c+=Fr[$n].g,$n+=pc,3>=Mr){var Kc,Vf=to[0];for(Kc=1;Kc<ja;++Kc)to[Kc]>Vf&&(Vf=to[Kc]);zd+=Vf}}if(an.nd=cl,an.Qb=0,cl&&(an.qb=(pa[3][kl[3]+0].value<<24|pa[1][kl[1]+0].value<<16|pa[2][kl[2]+0].value)>>>0,$c==0&&256>pa[0][kl[0]+0].value&&(an.Qb=1,an.qb+=pa[0][kl[0]+0].value<<8)),an.jc=!an.Qb&&6>zd,an.jc){var qd,dl=an;for(qd=0;qd<Un;++qd){var Dl=qd,Ll=dl.pd[Dl],Wf=dl.G[0][dl.H[0]+Dl];256<=Wf.value?(Ll.g=Wf.g+256,Ll.value=Wf.value):(Ll.g=0,Ll.value=0,Dl>>=Xr(Wf,8,Ll),Dl>>=Xr(dl.G[1][dl.H[1]+Dl],16,Ll),Dl>>=Xr(dl.G[2][dl.H[2]+Dl],0,Ll),Xr(dl.G[3][dl.H[3]+Dl],24,Ll))}}}fi.vc=Fa,fi.Wb=Ei,fi.Ya=Yc,fi.yc=ll,Hn=1;break t}Hn=0}if(!(be=Hn)){K.a=3;break e}if(0<st){if(De.ua=1<<st,!Ge(De.Wa,st)){K.a=1,be=0;break e}}else De.ua=0;var Gf=K,Zc=we,tp=Ee,Uu=Gf.s,qu=Uu.xc;if(Gf.c=Zc,Gf.i=tp,Uu.md=at(Zc,qu),Uu.wc=qu==0?-1:(1<<qu)-1,F){K.xb=oc;break e}if((Ve=i(we*Ee))==null){K.a=1,be=0;break e}be=(be=mt(K,Ve,0,we,Ee,Ee,null))&&!_e.h;break e}return be?(he!=null?he[0]=Ve:(t(Ve==null),t(F)),K.$=0,F||pt(De)):pt(De),be}function It(E,k){var F=E.c*E.i,K=F+k+16*k;return t(E.c<=k),E.V=i(K),E.V==null?(E.Ta=null,E.Ua=0,E.a=1,0):(E.Ta=E.V,E.Ua=E.Ba+F+k,1)}function tr(E,k){var F=E.C,K=k-F,he=E.V,be=E.Ba+E.c*F;for(t(k<=E.l.o);0<K;){var we=16<K?16:K,Ee=E.l.ma,_e=E.l.width,De=_e*we,Ve=Ee.ca,st=Ee.tb+_e*F,it=E.Ta,Ke=E.Ua;jt(E,we,he,be),_n(it,Ke,Ve,st,De),Ft(Ee,F,F+we,Ve,st,_e),K-=we,he+=we*E.c,F+=we}t(F==k),E.C=E.Ma=k}function Xt(){this.ub=this.yd=this.td=this.Rb=0}function cr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Nt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function mr(){this.Yb=function(){var E=[];return function k(F,K,he){for(var be=he[K],we=0;we<be&&(F.push(he.length>K+1?[]:0),!(he.length<K+1));we++)k(F[we],K+1,he)}(E,0,[3,11]),E}()}function Lr(){this.jb=i(3),this.Wc=f([4,8],mr),this.Xc=f([4,17],mr)}function Vr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function vt(){this.ld=this.La=this.dd=this.tc=0}function Rn(){this.Na=this.la=0}function Sr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function On(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ts(){this.uc=this.M=this.Nb=0,this.wa=Array(new vt),this.Y=0,this.ya=Array(new On),this.aa=0,this.l=new Rr}function Wr(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Br(){this.cb=this.a=0,this.sc="",this.m=new le,this.Od=new Xt,this.Kc=new cr,this.ed=new Vr,this.Qa=new Nt,this.Ic=this.$c=this.Aa=0,this.D=new ts,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,le),this.ia=0,this.pb=c(4,Sr),this.Pa=new Lr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wr),this.Hd=0,this.rb=Array(new Rn),this.sb=0,this.wa=Array(new vt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new On),this.L=this.aa=0,this.gd=f([4,2],vt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Rr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Gs(){var E=new Br;return E!=null&&(E.a=0,E.sc="OK",E.cb=0,E.Xb=0,Qs||(Qs=ua)),E}function Bn(E,k,F){return E.a==0&&(E.a=k,E.sc=F,E.cb=0),0}function tn(E,k,F){return 3<=F&&E[k+0]==157&&E[k+1]==1&&E[k+2]==42}function jr(E,k){if(E==null)return 0;if(E.a=0,E.sc="OK",k==null)return Bn(E,2,"null VP8Io passed to VP8GetHeaders()");var F=k.data,K=k.w,he=k.ha;if(4>he)return Bn(E,7,"Truncated header.");var be=F[K+0]|F[K+1]<<8|F[K+2]<<16,we=E.Od;if(we.Rb=!(1&be),we.td=be>>1&7,we.yd=be>>4&1,we.ub=be>>5,3<we.td)return Bn(E,3,"Incorrect keyframe parameters.");if(!we.yd)return Bn(E,4,"Frame not displayable.");K+=3,he-=3;var Ee=E.Kc;if(we.Rb){if(7>he)return Bn(E,7,"cannot parse picture header");if(!tn(F,K,he))return Bn(E,3,"Bad code word");Ee.c=16383&(F[K+4]<<8|F[K+3]),Ee.Td=F[K+4]>>6,Ee.i=16383&(F[K+6]<<8|F[K+5]),Ee.Ud=F[K+6]>>6,K+=7,he-=7,E.za=Ee.c+15>>4,E.Ub=Ee.i+15>>4,k.width=Ee.c,k.height=Ee.i,k.Da=0,k.j=0,k.v=0,k.va=k.width,k.o=k.height,k.da=0,k.ib=k.width,k.hb=k.height,k.U=k.width,k.T=k.height,a((be=E.Pa).jb,0,255,be.jb.length),t((be=E.Qa)!=null),be.Cb=0,be.Bb=0,be.Fb=1,a(be.Zb,0,0,be.Zb.length),a(be.Lb,0,0,be.Lb)}if(we.ub>he)return Bn(E,7,"bad partition length");q(be=E.m,F,K,we.ub),K+=we.ub,he-=we.ub,we.Rb&&(Ee.Ld=ke(be),Ee.Kd=ke(be)),Ee=E.Qa;var _e,De=E.Pa;if(t(be!=null),t(Ee!=null),Ee.Cb=ke(be),Ee.Cb){if(Ee.Bb=ke(be),ke(be)){for(Ee.Fb=ke(be),_e=0;4>_e;++_e)Ee.Zb[_e]=ke(be)?se(be,7):0;for(_e=0;4>_e;++_e)Ee.Lb[_e]=ke(be)?se(be,6):0}if(Ee.Bb)for(_e=0;3>_e;++_e)De.jb[_e]=ke(be)?te(be,8):255}else Ee.Bb=0;if(be.Ka)return Bn(E,3,"cannot parse segment header");if((Ee=E.ed).zd=ke(be),Ee.Tb=te(be,6),Ee.wb=te(be,3),Ee.Pc=ke(be),Ee.Pc&&ke(be)){for(De=0;4>De;++De)ke(be)&&(Ee.vd[De]=se(be,6));for(De=0;4>De;++De)ke(be)&&(Ee.od[De]=se(be,6))}if(E.L=Ee.Tb==0?0:Ee.zd?1:2,be.Ka)return Bn(E,3,"cannot parse filter header");var Ve=he;if(he=_e=K,K=_e+Ve,Ee=Ve,E.Xb=(1<<te(E.m,2))-1,Ve<3*(De=E.Xb))F=7;else{for(_e+=3*De,Ee-=3*De,Ve=0;Ve<De;++Ve){var st=F[he+0]|F[he+1]<<8|F[he+2]<<16;st>Ee&&(st=Ee),q(E.Jc[+Ve],F,_e,st),_e+=st,Ee-=st,he+=3}q(E.Jc[+De],F,_e,Ee),F=_e<K?0:5}if(F!=0)return Bn(E,F,"cannot parse partitions");for(F=te(_e=E.m,7),he=ke(_e)?se(_e,4):0,K=ke(_e)?se(_e,4):0,Ee=ke(_e)?se(_e,4):0,De=ke(_e)?se(_e,4):0,_e=ke(_e)?se(_e,4):0,Ve=E.Qa,st=0;4>st;++st){if(Ve.Cb){var it=Ve.Zb[st];Ve.Fb||(it+=F)}else{if(0<st){E.pb[st]=E.pb[0];continue}it=F}var Ke=E.pb[st];Ke.Sc[0]=yo[Pa(it+he,127)],Ke.Sc[1]=bo[Pa(it+0,127)],Ke.Eb[0]=2*yo[Pa(it+K,127)],Ke.Eb[1]=101581*bo[Pa(it+Ee,127)]>>16,8>Ke.Eb[1]&&(Ke.Eb[1]=8),Ke.Qc[0]=yo[Pa(it+De,117)],Ke.Qc[1]=bo[Pa(it+_e,127)],Ke.lc=it+_e}if(!we.Rb)return Bn(E,4,"Not a key frame.");for(ke(be),we=E.Pa,F=0;4>F;++F){for(he=0;8>he;++he)for(K=0;3>K;++K)for(Ee=0;11>Ee;++Ee)De=me(be,ha[F][he][K][Ee])?te(be,8):$1[F][he][K][Ee],we.Wc[F][he].Yb[K][Ee]=De;for(he=0;17>he;++he)we.Xc[F][he]=we.Wc[F][hn[he]]}return E.kc=ke(be),E.kc&&(E.Bd=te(be,8)),E.cb=1}function ua(E,k,F,K,he,be,we){var Ee=k[he].Yb[F];for(F=0;16>he;++he){if(!me(E,Ee[F+0]))return he;for(;!me(E,Ee[F+1]);)if(Ee=k[++he].Yb[0],F=0,he==16)return 16;var _e=k[he+1].Yb;if(me(E,Ee[F+2])){var De=E,Ve=0;if(me(De,(it=Ee)[(st=F)+3]))if(me(De,it[st+6])){for(Ee=0,st=2*(Ve=me(De,it[st+8]))+(it=me(De,it[st+9+Ve])),Ve=0,it=Y1[st];it[Ee];++Ee)Ve+=Ve+me(De,it[Ee]);Ve+=3+(8<<st)}else me(De,it[st+7])?(Ve=7+2*me(De,165),Ve+=me(De,145)):Ve=5+me(De,159);else Ve=me(De,it[st+4])?3+me(De,it[st+5]):2;Ee=_e[2]}else Ve=1,Ee=_e[1];_e=we+Kh[he],0>(De=E).b&&de(De);var st,it=De.b,Ke=(st=De.Ca>>1)-(De.I>>it)>>31;--De.b,De.Ca+=Ke,De.Ca|=1,De.I-=(st+1&Ke)<<it,be[_e]=((Ve^Ke)-Ke)*K[(0<he)+0]}return 16}function ba(E){var k=E.rb[E.sb-1];k.la=0,k.Na=0,a(E.zc,0,0,E.zc.length),E.ja=0}function un(E,k){if(E==null)return 0;if(k==null)return Bn(E,2,"NULL VP8Io parameter in VP8Decode().");if(!E.cb&&!jr(E,k))return 0;if(t(E.cb),k.ac==null||k.ac(k)){k.ob&&(E.L=0);var F=Bu[E.L];if(E.L==2?(E.yb=0,E.zb=0):(E.yb=k.v-F>>4,E.zb=k.j-F>>4,0>E.yb&&(E.yb=0),0>E.zb&&(E.zb=0)),E.Va=k.o+15+F>>4,E.Hb=k.va+15+F>>4,E.Hb>E.za&&(E.Hb=E.za),E.Va>E.Ub&&(E.Va=E.Ub),0<E.L){var K=E.ed;for(F=0;4>F;++F){var he;if(E.Qa.Cb){var be=E.Qa.Lb[F];E.Qa.Fb||(be+=K.Tb)}else be=K.Tb;for(he=0;1>=he;++he){var we=E.gd[F][he],Ee=be;if(K.Pc&&(Ee+=K.vd[0],he&&(Ee+=K.od[0])),0<(Ee=0>Ee?0:63<Ee?63:Ee)){var _e=Ee;0<K.wb&&(_e=4<K.wb?_e>>2:_e>>1)>9-K.wb&&(_e=9-K.wb),1>_e&&(_e=1),we.dd=_e,we.tc=2*Ee+_e,we.ld=40<=Ee?2:15<=Ee?1:0}else we.tc=0;we.La=he}}}F=0}else Bn(E,6,"Frame setup failed"),F=E.a;if(F=F==0){if(F){E.$c=0,0<E.Aa||(E.Ic=Fd);e:{F=E.Ic,K=4*(_e=E.za);var De=32*_e,Ve=_e+1,st=0<E.L?_e*(0<E.Aa?2:1):0,it=(E.Aa==2?2:1)*_e;if((we=K+832+(he=3*(16*F+Bu[E.L])/2*De)+(be=E.Fa!=null&&0<E.Fa.length?E.Kc.c*E.Kc.i:0))!=we)F=0;else{if(we>E.Vb){if(E.Vb=0,E.Ec=i(we),E.Fc=0,E.Ec==null){F=Bn(E,1,"no memory during frame initialization.");break e}E.Vb=we}we=E.Ec,Ee=E.Fc,E.Ac=we,E.Bc=Ee,Ee+=K,E.Gd=c(De,Wr),E.Hd=0,E.rb=c(Ve+1,Rn),E.sb=1,E.wa=st?c(st,vt):null,E.Y=0,E.D.Nb=0,E.D.wa=E.wa,E.D.Y=E.Y,0<E.Aa&&(E.D.Y+=_e),t(!0),E.oc=we,E.pc=Ee,Ee+=832,E.ya=c(it,On),E.aa=0,E.D.ya=E.ya,E.D.aa=E.aa,E.Aa==2&&(E.D.aa+=_e),E.R=16*_e,E.B=8*_e,_e=(De=Bu[E.L])*E.R,De=De/2*E.B,E.sa=we,E.ta=Ee+_e,E.qa=E.sa,E.ra=E.ta+16*F*E.R+De,E.Ha=E.qa,E.Ia=E.ra+8*F*E.B+De,E.$c=0,Ee+=he,E.mb=be?we:null,E.nb=be?Ee:null,t(Ee+be<=E.Fc+E.Vb),ba(E),a(E.Ac,E.Bc,0,K),F=1}}if(F){if(k.ka=0,k.y=E.sa,k.O=E.ta,k.f=E.qa,k.N=E.ra,k.ea=E.Ha,k.Vd=E.Ia,k.fa=E.R,k.Rc=E.B,k.F=null,k.J=0,!Iu){for(F=-255;255>=F;++F)Sa[255+F]=0>F?-F:F;for(F=-1020;1020>=F;++F)zo[1020+F]=-128>F?-128:127<F?127:F;for(F=-112;112>=F;++F)ac[112+F]=-16>F?-16:15<F?15:F;for(F=-255;510>=F;++F)jl[255+F]=0>F?0:255<F?255:F;Iu=1}ze=ei,He=nt,dt=Te,Pt=sr,Rt=Fn,Xe=Sn,Lt=nl,Ur=rs,Ir=zr,Gn=Ca,ni=Fc,Aa=ut,dn=al,Na=zc,$a=Sl,ys=Os,Zs=xs,bs=rc,Ra[0]=fr,Ra[1]=tl,Ra[2]=_s,Ra[3]=Ys,Ra[4]=Rc,Ra[5]=Cn,Ra[6]=Tr,Ra[7]=Nl,Ra[8]=$s,Ra[9]=Ro,ws[0]=Cs,ws[1]=pr,ws[2]=rn,ws[3]=lo,ws[4]=En,ws[5]=zn,ws[6]=tc,Uo[0]=Bi,Uo[1]=ti,Uo[2]=Xs,Uo[3]=rl,Uo[4]=Bo,Uo[5]=co,Uo[6]=wa,F=1}else F=0}F&&(F=function(Ke,Tt){for(Ke.M=0;Ke.M<Ke.Va;++Ke.M){var xt,We=Ke.Jc[Ke.M&Ke.Xb],$e=Ke.m,Ct=Ke;for(xt=0;xt<Ct.za;++xt){var Bt=$e,St=Ct,Zt=St.Ac,Gt=St.Bc+4*xt,br=St.zc,$t=St.ya[St.aa+xt];if(St.Qa.Bb?$t.$b=me(Bt,St.Pa.jb[0])?2+me(Bt,St.Pa.jb[2]):me(Bt,St.Pa.jb[1]):$t.$b=0,St.kc&&($t.Ad=me(Bt,St.Bd)),$t.Za=!me(Bt,145)+0,$t.Za){var jn=$t.Ob,pn=0;for(St=0;4>St;++St){var yn,qr=br[0+St];for(yn=0;4>yn;++yn){qr=qi[Zt[Gt+yn]][qr];for(var Hn=Mf[me(Bt,qr[0])];0<Hn;)Hn=Mf[2*Hn+me(Bt,qr[Hn])];qr=-Hn,Zt[Gt+yn]=qr}n(jn,pn,Zt,Gt,4),pn+=4,br[0+St]=qr}}else qr=me(Bt,156)?me(Bt,128)?1:3:me(Bt,163)?2:0,$t.Ob[0]=qr,a(Zt,Gt,qr,4),a(br,0,qr,4);$t.Dd=me(Bt,142)?me(Bt,114)?me(Bt,183)?1:3:2:0}if(Ct.m.Ka)return Bn(Ke,7,"Premature end-of-partition0 encountered.");for(;Ke.ja<Ke.za;++Ke.ja){if(Ct=We,Bt=($e=Ke).rb[$e.sb-1],Zt=$e.rb[$e.sb+$e.ja],xt=$e.ya[$e.aa+$e.ja],Gt=$e.kc?xt.Ad:0)Bt.la=Zt.la=0,xt.Za||(Bt.Na=Zt.Na=0),xt.Hc=0,xt.Gc=0,xt.ia=0;else{var In,Mr;if(Bt=Zt,Zt=Ct,Gt=$e.Pa.Xc,br=$e.ya[$e.aa+$e.ja],$t=$e.pb[br.$b],St=br.ad,jn=0,pn=$e.rb[$e.sb-1],qr=yn=0,a(St,jn,0,384),br.Za)var $n=0,Si=Gt[3];else{Hn=i(16);var Ba=Bt.Na+pn.Na;if(Ba=Qs(Zt,Gt[1],Ba,$t.Eb,0,Hn,0),Bt.Na=pn.Na=(0<Ba)+0,1<Ba)ze(Hn,0,St,jn);else{var os=Hn[0]+3>>3;for(Hn=0;256>Hn;Hn+=16)St[jn+Hn]=os}$n=1,Si=Gt[0]}var An=15&Bt.la,Wi=15&pn.la;for(Hn=0;4>Hn;++Hn){var Is=1&Wi;for(os=Mr=0;4>os;++os)An=An>>1|(Is=(Ba=Qs(Zt,Si,Ba=Is+(1&An),$t.Sc,$n,St,jn))>$n)<<7,Mr=Mr<<2|(3<Ba?3:1<Ba?2:St[jn+0]!=0),jn+=16;An>>=4,Wi=Wi>>1|Is<<7,yn=(yn<<8|Mr)>>>0}for(Si=An,$n=Wi>>4,In=0;4>In;In+=2){for(Mr=0,An=Bt.la>>4+In,Wi=pn.la>>4+In,Hn=0;2>Hn;++Hn){for(Is=1&Wi,os=0;2>os;++os)Ba=Is+(1&An),An=An>>1|(Is=0<(Ba=Qs(Zt,Gt[2],Ba,$t.Qc,0,St,jn)))<<3,Mr=Mr<<2|(3<Ba?3:1<Ba?2:St[jn+0]!=0),jn+=16;An>>=2,Wi=Wi>>1|Is<<5}qr|=Mr<<4*In,Si|=An<<4<<In,$n|=(240&Wi)<<In}Bt.la=Si,pn.la=$n,br.Hc=yn,br.Gc=qr,br.ia=43690&qr?0:$t.ia,Gt=!(yn|qr)}if(0<$e.L&&($e.wa[$e.Y+$e.ja]=$e.gd[xt.$b][xt.Za],$e.wa[$e.Y+$e.ja].La|=!Gt),Ct.Ka)return Bn(Ke,7,"Premature end-of-file encountered.")}if(ba(Ke),$e=Tt,Ct=1,xt=(We=Ke).D,Bt=0<We.L&&We.M>=We.zb&&We.M<=We.Va,We.Aa==0)e:{if(xt.M=We.M,xt.uc=Bt,zi(We,xt),Ct=1,xt=(Mr=We.D).Nb,Bt=(qr=Bu[We.L])*We.R,Zt=qr/2*We.B,Hn=16*xt*We.R,os=8*xt*We.B,Gt=We.sa,br=We.ta-Bt+Hn,$t=We.qa,St=We.ra-Zt+os,jn=We.Ha,pn=We.Ia-Zt+os,Wi=(An=Mr.M)==0,yn=An>=We.Va-1,We.Aa==2&&zi(We,Mr),Mr.uc)for(Is=(Ba=We).D.M,t(Ba.D.uc),Mr=Ba.yb;Mr<Ba.Hb;++Mr){$n=Mr,Si=Is;var fi=(Fa=(ja=Ba).D).Nb;In=ja.R;var Fa=Fa.wa[Fa.Y+$n],Ei=ja.sa,Js=ja.ta+16*fi*In+16*$n,Ao=Fa.dd,ai=Fa.tc;if(ai!=0)if(t(3<=ai),ja.L==1)0<$n&&ys(Ei,Js,In,ai+4),Fa.La&&bs(Ei,Js,In,ai),0<Si&&$a(Ei,Js,In,ai+4),Fa.La&&Zs(Ei,Js,In,ai);else{var Ka=ja.B,Ci=ja.qa,eo=ja.ra+8*fi*Ka+8*$n,ol=ja.Ha,ja=ja.Ia+8*fi*Ka+8*$n;fi=Fa.ld,0<$n&&(Ur(Ei,Js,In,ai+4,Ao,fi),Gn(Ci,eo,ol,ja,Ka,ai+4,Ao,fi)),Fa.La&&(Aa(Ei,Js,In,ai,Ao,fi),Na(Ci,eo,ol,ja,Ka,ai,Ao,fi)),0<Si&&(Lt(Ei,Js,In,ai+4,Ao,fi),Ir(Ci,eo,ol,ja,Ka,ai+4,Ao,fi)),Fa.La&&(ni(Ei,Js,In,ai,Ao,fi),dn(Ci,eo,ol,ja,Ka,ai,Ao,fi))}}if(We.ia&&alert("todo:DitherRow"),$e.put!=null){if(Mr=16*An,An=16*(An+1),Wi?($e.y=We.sa,$e.O=We.ta+Hn,$e.f=We.qa,$e.N=We.ra+os,$e.ea=We.Ha,$e.W=We.Ia+os):(Mr-=qr,$e.y=Gt,$e.O=br,$e.f=$t,$e.N=St,$e.ea=jn,$e.W=pn),yn||(An-=qr),An>$e.o&&(An=$e.o),$e.F=null,$e.J=null,We.Fa!=null&&0<We.Fa.length&&Mr<An&&($e.J=vn(We,$e,Mr,An-Mr),$e.F=We.mb,$e.F==null&&$e.F.length==0)){Ct=Bn(We,3,"Could not decode alpha data.");break e}Mr<$e.j&&(qr=$e.j-Mr,Mr=$e.j,t(!(1&qr)),$e.O+=We.R*qr,$e.N+=We.B*(qr>>1),$e.W+=We.B*(qr>>1),$e.F!=null&&($e.J+=$e.width*qr)),Mr<An&&($e.O+=$e.v,$e.N+=$e.v>>1,$e.W+=$e.v>>1,$e.F!=null&&($e.J+=$e.v),$e.ka=Mr-$e.j,$e.U=$e.va-$e.v,$e.T=An-Mr,Ct=$e.put($e))}xt+1!=We.Ic||yn||(n(We.sa,We.ta-Bt,Gt,br+16*We.R,Bt),n(We.qa,We.ra-Zt,$t,St+8*We.B,Zt),n(We.Ha,We.Ia-Zt,jn,pn+8*We.B,Zt))}if(!Ct)return Bn(Ke,6,"Output aborted.")}return 1}(E,k)),k.bc!=null&&k.bc(k),F&=1}return F?(E.cb=0,F):0}function on(E,k,F,K,he){he=E[k+F+32*K]+(he>>3),E[k+F+32*K]=-256&he?0>he?0:255:he}function wi(E,k,F,K,he,be){on(E,k,0,F,K+he),on(E,k,1,F,K+be),on(E,k,2,F,K-be),on(E,k,3,F,K-he)}function Kr(E){return(20091*E>>16)+E}function Or(E,k,F,K){var he,be=0,we=i(16);for(he=0;4>he;++he){var Ee=E[k+0]+E[k+8],_e=E[k+0]-E[k+8],De=(35468*E[k+4]>>16)-Kr(E[k+12]),Ve=Kr(E[k+4])+(35468*E[k+12]>>16);we[be+0]=Ee+Ve,we[be+1]=_e+De,we[be+2]=_e-De,we[be+3]=Ee-Ve,be+=4,k++}for(he=be=0;4>he;++he)Ee=(E=we[be+0]+4)+we[be+8],_e=E-we[be+8],De=(35468*we[be+4]>>16)-Kr(we[be+12]),on(F,K,0,0,Ee+(Ve=Kr(we[be+4])+(35468*we[be+12]>>16))),on(F,K,1,0,_e+De),on(F,K,2,0,_e-De),on(F,K,3,0,Ee-Ve),be++,K+=32}function Sn(E,k,F,K){var he=E[k+0]+4,be=35468*E[k+4]>>16,we=Kr(E[k+4]),Ee=35468*E[k+1]>>16;wi(F,K,0,he+we,E=Kr(E[k+1]),Ee),wi(F,K,1,he+be,E,Ee),wi(F,K,2,he-be,E,Ee),wi(F,K,3,he-we,E,Ee)}function nt(E,k,F,K,he){Or(E,k,F,K),he&&Or(E,k+16,F,K+4)}function Te(E,k,F,K){He(E,k+0,F,K,1),He(E,k+32,F,K+128,1)}function sr(E,k,F,K){var he;for(E=E[k+0]+4,he=0;4>he;++he)for(k=0;4>k;++k)on(F,K,k,he,E)}function Fn(E,k,F,K){E[k+0]&&Pt(E,k+0,F,K),E[k+16]&&Pt(E,k+16,F,K+4),E[k+32]&&Pt(E,k+32,F,K+128),E[k+48]&&Pt(E,k+48,F,K+128+4)}function ei(E,k,F,K){var he,be=i(16);for(he=0;4>he;++he){var we=E[k+0+he]+E[k+12+he],Ee=E[k+4+he]+E[k+8+he],_e=E[k+4+he]-E[k+8+he],De=E[k+0+he]-E[k+12+he];be[0+he]=we+Ee,be[8+he]=we-Ee,be[4+he]=De+_e,be[12+he]=De-_e}for(he=0;4>he;++he)we=(E=be[0+4*he]+3)+be[3+4*he],Ee=be[1+4*he]+be[2+4*he],_e=be[1+4*he]-be[2+4*he],De=E-be[3+4*he],F[K+0]=we+Ee>>3,F[K+16]=De+_e>>3,F[K+32]=we-Ee>>3,F[K+48]=De-_e>>3,K+=64}function gs(E,k,F){var K,he=k-32,be=is,we=255-E[he-1];for(K=0;K<F;++K){var Ee,_e=be,De=we+E[k-1];for(Ee=0;Ee<F;++Ee)E[k+Ee]=_e[De+E[he+Ee]];k+=32}}function tl(E,k){gs(E,k,4)}function ti(E,k){gs(E,k,8)}function pr(E,k){gs(E,k,16)}function rn(E,k){var F;for(F=0;16>F;++F)n(E,k+32*F,E,k-32,16)}function lo(E,k){var F;for(F=16;0<F;--F)a(E,k,E[k-1],16),k+=32}function Po(E,k,F){var K;for(K=0;16>K;++K)a(k,F+32*K,E,16)}function Cs(E,k){var F,K=16;for(F=0;16>F;++F)K+=E[k-1+32*F]+E[k+F-32];Po(K>>5,E,k)}function En(E,k){var F,K=8;for(F=0;16>F;++F)K+=E[k-1+32*F];Po(K>>4,E,k)}function zn(E,k){var F,K=8;for(F=0;16>F;++F)K+=E[k+F-32];Po(K>>4,E,k)}function tc(E,k){Po(128,E,k)}function rr(E,k,F){return E+2*k+F+2>>2}function _s(E,k){var F,K=k-32;for(K=new Uint8Array([rr(E[K-1],E[K+0],E[K+1]),rr(E[K+0],E[K+1],E[K+2]),rr(E[K+1],E[K+2],E[K+3]),rr(E[K+2],E[K+3],E[K+4])]),F=0;4>F;++F)n(E,k+32*F,K,0,K.length)}function Ys(E,k){var F=E[k-1],K=E[k-1+32],he=E[k-1+64],be=E[k-1+96];xe(E,k+0,16843009*rr(E[k-1-32],F,K)),xe(E,k+32,16843009*rr(F,K,he)),xe(E,k+64,16843009*rr(K,he,be)),xe(E,k+96,16843009*rr(he,be,be))}function fr(E,k){var F,K=4;for(F=0;4>F;++F)K+=E[k+F-32]+E[k-1+32*F];for(K>>=3,F=0;4>F;++F)a(E,k+32*F,K,4)}function Rc(E,k){var F=E[k-1+0],K=E[k-1+32],he=E[k-1+64],be=E[k-1-32],we=E[k+0-32],Ee=E[k+1-32],_e=E[k+2-32],De=E[k+3-32];E[k+0+96]=rr(K,he,E[k-1+96]),E[k+1+96]=E[k+0+64]=rr(F,K,he),E[k+2+96]=E[k+1+64]=E[k+0+32]=rr(be,F,K),E[k+3+96]=E[k+2+64]=E[k+1+32]=E[k+0+0]=rr(we,be,F),E[k+3+64]=E[k+2+32]=E[k+1+0]=rr(Ee,we,be),E[k+3+32]=E[k+2+0]=rr(_e,Ee,we),E[k+3+0]=rr(De,_e,Ee)}function Tr(E,k){var F=E[k+1-32],K=E[k+2-32],he=E[k+3-32],be=E[k+4-32],we=E[k+5-32],Ee=E[k+6-32],_e=E[k+7-32];E[k+0+0]=rr(E[k+0-32],F,K),E[k+1+0]=E[k+0+32]=rr(F,K,he),E[k+2+0]=E[k+1+32]=E[k+0+64]=rr(K,he,be),E[k+3+0]=E[k+2+32]=E[k+1+64]=E[k+0+96]=rr(he,be,we),E[k+3+32]=E[k+2+64]=E[k+1+96]=rr(be,we,Ee),E[k+3+64]=E[k+2+96]=rr(we,Ee,_e),E[k+3+96]=rr(Ee,_e,_e)}function Cn(E,k){var F=E[k-1+0],K=E[k-1+32],he=E[k-1+64],be=E[k-1-32],we=E[k+0-32],Ee=E[k+1-32],_e=E[k+2-32],De=E[k+3-32];E[k+0+0]=E[k+1+64]=be+we+1>>1,E[k+1+0]=E[k+2+64]=we+Ee+1>>1,E[k+2+0]=E[k+3+64]=Ee+_e+1>>1,E[k+3+0]=_e+De+1>>1,E[k+0+96]=rr(he,K,F),E[k+0+64]=rr(K,F,be),E[k+0+32]=E[k+1+96]=rr(F,be,we),E[k+1+32]=E[k+2+96]=rr(be,we,Ee),E[k+2+32]=E[k+3+96]=rr(we,Ee,_e),E[k+3+32]=rr(Ee,_e,De)}function Nl(E,k){var F=E[k+0-32],K=E[k+1-32],he=E[k+2-32],be=E[k+3-32],we=E[k+4-32],Ee=E[k+5-32],_e=E[k+6-32],De=E[k+7-32];E[k+0+0]=F+K+1>>1,E[k+1+0]=E[k+0+64]=K+he+1>>1,E[k+2+0]=E[k+1+64]=he+be+1>>1,E[k+3+0]=E[k+2+64]=be+we+1>>1,E[k+0+32]=rr(F,K,he),E[k+1+32]=E[k+0+96]=rr(K,he,be),E[k+2+32]=E[k+1+96]=rr(he,be,we),E[k+3+32]=E[k+2+96]=rr(be,we,Ee),E[k+3+64]=rr(we,Ee,_e),E[k+3+96]=rr(Ee,_e,De)}function Ro(E,k){var F=E[k-1+0],K=E[k-1+32],he=E[k-1+64],be=E[k-1+96];E[k+0+0]=F+K+1>>1,E[k+2+0]=E[k+0+32]=K+he+1>>1,E[k+2+32]=E[k+0+64]=he+be+1>>1,E[k+1+0]=rr(F,K,he),E[k+3+0]=E[k+1+32]=rr(K,he,be),E[k+3+32]=E[k+1+64]=rr(he,be,be),E[k+3+64]=E[k+2+64]=E[k+0+96]=E[k+1+96]=E[k+2+96]=E[k+3+96]=be}function $s(E,k){var F=E[k-1+0],K=E[k-1+32],he=E[k-1+64],be=E[k-1+96],we=E[k-1-32],Ee=E[k+0-32],_e=E[k+1-32],De=E[k+2-32];E[k+0+0]=E[k+2+32]=F+we+1>>1,E[k+0+32]=E[k+2+64]=K+F+1>>1,E[k+0+64]=E[k+2+96]=he+K+1>>1,E[k+0+96]=be+he+1>>1,E[k+3+0]=rr(Ee,_e,De),E[k+2+0]=rr(we,Ee,_e),E[k+1+0]=E[k+3+32]=rr(F,we,Ee),E[k+1+32]=E[k+3+64]=rr(K,F,we),E[k+1+64]=E[k+3+96]=rr(he,K,F),E[k+1+96]=rr(be,he,K)}function Xs(E,k){var F;for(F=0;8>F;++F)n(E,k+32*F,E,k-32,8)}function rl(E,k){var F;for(F=0;8>F;++F)a(E,k,E[k-1],8),k+=32}function js(E,k,F){var K;for(K=0;8>K;++K)a(k,F+32*K,E,8)}function Bi(E,k){var F,K=8;for(F=0;8>F;++F)K+=E[k+F-32]+E[k-1+32*F];js(K>>4,E,k)}function co(E,k){var F,K=4;for(F=0;8>F;++F)K+=E[k+F-32];js(K>>3,E,k)}function Bo(E,k){var F,K=4;for(F=0;8>F;++F)K+=E[k-1+32*F];js(K>>3,E,k)}function wa(E,k){js(128,E,k)}function Ai(E,k,F){var K=E[k-F],he=E[k+0],be=3*(he-K)+Ol[1020+E[k-2*F]-E[k+F]],we=Dd[112+(be+4>>3)];E[k-F]=is[255+K+Dd[112+(be+3>>3)]],E[k+0]=is[255+he-we]}function La(E,k,F,K){var he=E[k+0],be=E[k+F];return Ui[255+E[k-2*F]-E[k-F]]>K||Ui[255+be-he]>K}function Fo(E,k,F,K){return 4*Ui[255+E[k-F]-E[k+0]]+Ui[255+E[k-2*F]-E[k+F]]<=K}function Bc(E,k,F,K,he){var be=E[k-3*F],we=E[k-2*F],Ee=E[k-F],_e=E[k+0],De=E[k+F],Ve=E[k+2*F],st=E[k+3*F];return 4*Ui[255+Ee-_e]+Ui[255+we-De]>K?0:Ui[255+E[k-4*F]-be]<=he&&Ui[255+be-we]<=he&&Ui[255+we-Ee]<=he&&Ui[255+st-Ve]<=he&&Ui[255+Ve-De]<=he&&Ui[255+De-_e]<=he}function Sl(E,k,F,K){var he=2*K+1;for(K=0;16>K;++K)Fo(E,k+K,F,he)&&Ai(E,k+K,F)}function Os(E,k,F,K){var he=2*K+1;for(K=0;16>K;++K)Fo(E,k+K*F,1,he)&&Ai(E,k+K*F,1)}function xs(E,k,F,K){var he;for(he=3;0<he;--he)Sl(E,k+=4*F,F,K)}function rc(E,k,F,K){var he;for(he=3;0<he;--he)Os(E,k+=4,F,K)}function nn(E,k,F,K,he,be,we,Ee){for(be=2*be+1;0<he--;){if(Bc(E,k,F,be,we))if(La(E,k,F,Ee))Ai(E,k,F);else{var _e=E,De=k,Ve=F,st=_e[De-2*Ve],it=_e[De-Ve],Ke=_e[De+0],Tt=_e[De+Ve],xt=_e[De+2*Ve],We=27*(Ct=Ol[1020+3*(Ke-it)+Ol[1020+st-Tt]])+63>>7,$e=18*Ct+63>>7,Ct=9*Ct+63>>7;_e[De-3*Ve]=is[255+_e[De-3*Ve]+Ct],_e[De-2*Ve]=is[255+st+$e],_e[De-Ve]=is[255+it+We],_e[De+0]=is[255+Ke-We],_e[De+Ve]=is[255+Tt-$e],_e[De+2*Ve]=is[255+xt-Ct]}k+=K}}function Ts(E,k,F,K,he,be,we,Ee){for(be=2*be+1;0<he--;){if(Bc(E,k,F,be,we))if(La(E,k,F,Ee))Ai(E,k,F);else{var _e=E,De=k,Ve=F,st=_e[De-Ve],it=_e[De+0],Ke=_e[De+Ve],Tt=Dd[112+((xt=3*(it-st))+4>>3)],xt=Dd[112+(xt+3>>3)],We=Tt+1>>1;_e[De-2*Ve]=is[255+_e[De-2*Ve]+We],_e[De-Ve]=is[255+st+xt],_e[De+0]=is[255+it-Tt],_e[De+Ve]=is[255+Ke-We]}k+=K}}function nl(E,k,F,K,he,be){nn(E,k,F,1,16,K,he,be)}function rs(E,k,F,K,he,be){nn(E,k,1,F,16,K,he,be)}function Fc(E,k,F,K,he,be){var we;for(we=3;0<we;--we)Ts(E,k+=4*F,F,1,16,K,he,be)}function ut(E,k,F,K,he,be){var we;for(we=3;0<we;--we)Ts(E,k+=4,1,F,16,K,he,be)}function zr(E,k,F,K,he,be,we,Ee){nn(E,k,he,1,8,be,we,Ee),nn(F,K,he,1,8,be,we,Ee)}function Ca(E,k,F,K,he,be,we,Ee){nn(E,k,1,he,8,be,we,Ee),nn(F,K,1,he,8,be,we,Ee)}function al(E,k,F,K,he,be,we,Ee){Ts(E,k+4*he,he,1,8,be,we,Ee),Ts(F,K+4*he,he,1,8,be,we,Ee)}function zc(E,k,F,K,he,be,we,Ee){Ts(E,k+4,1,he,8,be,we,Ee),Ts(F,K+4,1,he,8,be,we,Ee)}function El(){this.ba=new Er,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new cn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Uc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function qc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nc(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ie,this.yc=new Q}function _a(){this.xb=this.a=0,this.l=new Rr,this.ca=new Er,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nc,this.ab=0,this.gc=c(4,qc),this.Oc=0}function uo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Rr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Tn(E,k,F,K,he,be,we){for(E=E==null?0:E[k+0],k=0;k<we;++k)he[be+k]=E+F[K+k]&255,E=he[be+k]}function il(E,k,F,K,he,be,we){var Ee;if(E==null)Tn(null,null,F,K,he,be,we);else for(Ee=0;Ee<we;++Ee)he[be+Ee]=E[k+Ee]+F[K+Ee]&255}function ns(E,k,F,K,he,be,we){if(E==null)Tn(null,null,F,K,he,be,we);else{var Ee,_e=E[k+0],De=_e,Ve=_e;for(Ee=0;Ee<we;++Ee)De=Ve+(_e=E[k+Ee])-De,Ve=F[K+Ee]+(-256&De?0>De?0:255:De)&255,De=_e,he[be+Ee]=Ve}}function vn(E,k,F,K){var he=k.width,be=k.o;if(t(E!=null&&k!=null),0>F||0>=K||F+K>be)return null;if(!E.Cc){if(E.ga==null){var we;if(E.ga=new uo,(we=E.ga==null)||(we=k.width*k.o,t(E.Gb.length==0),E.Gb=i(we),E.Uc=0,E.Gb==null?we=0:(E.mb=E.Gb,E.nb=E.Uc,E.rc=null,we=1),we=!we),!we){we=E.ga;var Ee=E.Fa,_e=E.P,De=E.qc,Ve=E.mb,st=E.nb,it=_e+1,Ke=De-1,Tt=we.l;if(t(Ee!=null&&Ve!=null&&k!=null),Tl[0]=null,Tl[1]=Tn,Tl[2]=il,Tl[3]=ns,we.ca=Ve,we.tb=st,we.c=k.width,we.i=k.height,t(0<we.c&&0<we.i),1>=De)k=0;else if(we.$a=Ee[_e+0]>>0&3,we.Z=Ee[_e+0]>>2&3,we.Lc=Ee[_e+0]>>4&3,_e=Ee[_e+0]>>6&3,0>we.$a||1<we.$a||4<=we.Z||1<we.Lc||_e)k=0;else if(Tt.put=la,Tt.ac=$r,Tt.bc=ca,Tt.ma=we,Tt.width=k.width,Tt.height=k.height,Tt.Da=k.Da,Tt.v=k.v,Tt.va=k.va,Tt.j=k.j,Tt.o=k.o,we.$a)e:{t(we.$a==1),k=Ot();t:for(;;){if(k==null){k=0;break e}if(t(we!=null),we.mc=k,k.c=we.c,k.i=we.i,k.l=we.l,k.l.ma=we,k.l.width=we.c,k.l.height=we.i,k.a=0,ue(k.m,Ee,it,Ke),!Dt(we.c,we.i,1,k,null)||(k.ab==1&&k.gc[0].hc==3&&bt(k.s)?(we.ic=1,Ee=k.c*k.i,k.Ta=null,k.Ua=0,k.V=i(Ee),k.Ba=0,k.V==null?(k.a=1,k=0):k=1):(we.ic=0,k=It(k,we.c)),!k))break t;k=1;break e}we.mc=null,k=0}else k=Ke>=we.c*we.i;we=!k}if(we)return null;E.ga.Lc!=1?E.Ga=0:K=be-F}t(E.ga!=null),t(F+K<=be);e:{if(k=(Ee=E.ga).c,be=Ee.l.o,Ee.$a==0){if(it=E.rc,Ke=E.Vc,Tt=E.Fa,_e=E.P+1+F*k,De=E.mb,Ve=E.nb+F*k,t(_e<=E.P+E.qc),Ee.Z!=0)for(t(Tl[Ee.Z]!=null),we=0;we<K;++we)Tl[Ee.Z](it,Ke,Tt,_e,De,Ve,k),it=De,Ke=Ve,Ve+=k,_e+=k;else for(we=0;we<K;++we)n(De,Ve,Tt,_e,k),it=De,Ke=Ve,Ve+=k,_e+=k;E.rc=it,E.Vc=Ke}else{if(t(Ee.mc!=null),k=F+K,t((we=Ee.mc)!=null),t(k<=we.i),we.C>=k)k=1;else if(Ee.ic||Qe(),Ee.ic){Ee=we.V,it=we.Ba,Ke=we.c;var xt=we.i,We=(Tt=1,_e=we.$/Ke,De=we.$%Ke,Ve=we.m,st=we.s,we.$),$e=Ke*xt,Ct=Ke*k,Bt=st.wc,St=We<Ct?je(st,De,_e):null;t(We<=$e),t(k<=xt),t(bt(st));t:for(;;){for(;!Ve.h&&We<Ct;){if(De&Bt||(St=je(st,De,_e)),t(St!=null),ve(Ve),256>(xt=ya(St.G[0],St.H[0],Ve)))Ee[it+We]=xt,++We,++De>=Ke&&(De=0,++_e<=k&&!(_e%16)&&Re(we,_e));else{if(!(280>xt)){Tt=0;break t}xt=Ja(xt-256,Ve);var Zt,Gt=ya(St.G[4],St.H[4],Ve);if(ve(Ve),!(We>=(Gt=ea(Ke,Gt=Ja(Gt,Ve)))&&$e-We>=xt)){Tt=0;break t}for(Zt=0;Zt<xt;++Zt)Ee[it+We+Zt]=Ee[it+We+Zt-Gt];for(We+=xt,De+=xt;De>=Ke;)De-=Ke,++_e<=k&&!(_e%16)&&Re(we,_e);We<Ct&&De&Bt&&(St=je(st,De,_e))}t(Ve.h==ae(Ve))}Re(we,_e>k?k:_e);break t}!Tt||Ve.h&&We<$e?(Tt=0,we.a=Ve.h?5:3):we.$=We,k=Tt}else k=mt(we,we.V,we.Ba,we.c,we.i,k,tr);if(!k){K=0;break e}}F+K>=be&&(E.Cc=1),K=1}if(!K)return null;if(E.Cc&&((K=E.ga)!=null&&(K.mc=null),E.ga=null,0<E.Ga))return alert("todo:WebPDequantizeLevels"),null}return E.nb+F*he}function P(E,k,F,K,he,be){for(;0<he--;){var we,Ee=E,_e=k+(F?1:0),De=E,Ve=k+(F?0:3);for(we=0;we<K;++we){var st=De[Ve+4*we];st!=255&&(st*=32897,Ee[_e+4*we+0]=Ee[_e+4*we+0]*st>>23,Ee[_e+4*we+1]=Ee[_e+4*we+1]*st>>23,Ee[_e+4*we+2]=Ee[_e+4*we+2]*st>>23)}k+=be}}function pe(E,k,F,K,he){for(;0<K--;){var be;for(be=0;be<F;++be){var we=E[k+2*be+0],Ee=15&(De=E[k+2*be+1]),_e=4369*Ee,De=(240&De|De>>4)*_e>>16;E[k+2*be+0]=(240&we|we>>4)*_e>>16&240|(15&we|we<<4)*_e>>16>>4&15,E[k+2*be+1]=240&De|Ee}k+=he}}function Ie(E,k,F,K,he,be,we,Ee){var _e,De,Ve=255;for(De=0;De<he;++De){for(_e=0;_e<K;++_e){var st=E[k+_e];be[we+4*_e]=st,Ve&=st}k+=F,we+=Ee}return Ve!=255}function qe(E,k,F,K,he){var be;for(be=0;be<he;++be)F[K+be]=E[k+be]>>8}function Qe(){as=P,fn=pe,qn=Ie,_n=qe}function yt(E,k,F){Y[E]=function(K,he,be,we,Ee,_e,De,Ve,st,it,Ke,Tt,xt,We,$e,Ct,Bt){var St,Zt=Bt-1>>1,Gt=Ee[_e+0]|De[Ve+0]<<16,br=st[it+0]|Ke[Tt+0]<<16;t(K!=null);var $t=3*Gt+br+131074>>2;for(k(K[he+0],255&$t,$t>>16,xt,We),be!=null&&($t=3*br+Gt+131074>>2,k(be[we+0],255&$t,$t>>16,$e,Ct)),St=1;St<=Zt;++St){var jn=Ee[_e+St]|De[Ve+St]<<16,pn=st[it+St]|Ke[Tt+St]<<16,yn=Gt+jn+br+pn+524296,qr=yn+2*(jn+br)>>3;$t=qr+Gt>>1,Gt=(yn=yn+2*(Gt+pn)>>3)+jn>>1,k(K[he+2*St-1],255&$t,$t>>16,xt,We+(2*St-1)*F),k(K[he+2*St-0],255&Gt,Gt>>16,xt,We+(2*St-0)*F),be!=null&&($t=yn+br>>1,Gt=qr+pn>>1,k(be[we+2*St-1],255&$t,$t>>16,$e,Ct+(2*St-1)*F),k(be[we+2*St+0],255&Gt,Gt>>16,$e,Ct+(2*St+0)*F)),Gt=jn,br=pn}1&Bt||($t=3*Gt+br+131074>>2,k(K[he+Bt-1],255&$t,$t>>16,xt,We+(Bt-1)*F),be!=null&&($t=3*br+Gt+131074>>2,k(be[we+Bt-1],255&$t,$t>>16,$e,Ct+(Bt-1)*F)))}}function Mt(){Hi[jf]=Wc,Hi[ss]=Pu,Hi[Of]=Qh,Hi[mo]=Df,Hi[Ld]=lc,Hi[Mu]=sl,Hi[ic]=cc,Hi[Pd]=Pu,Hi[Tf]=Df,Hi[Du]=lc,Hi[kf]=sl}function Kt(E){return E&-16384?0>E?0:255:E>>Lf}function yr(E,k){return Kt((19077*E>>8)+(26149*k>>8)-14234)}function kr(E,k,F){return Kt((19077*E>>8)-(6419*k>>8)-(13320*F>>8)+8708)}function _r(E,k){return Kt((19077*E>>8)+(33050*k>>8)-17685)}function ln(E,k,F,K,he){K[he+0]=yr(E,F),K[he+1]=kr(E,k,F),K[he+2]=_r(E,k)}function ta(E,k,F,K,he){K[he+0]=_r(E,k),K[he+1]=kr(E,k,F),K[he+2]=yr(E,F)}function kn(E,k,F,K,he){var be=kr(E,k,F);k=be<<3&224|_r(E,k)>>3,K[he+0]=248&yr(E,F)|be>>5,K[he+1]=k}function da(E,k,F,K,he){var be=240&_r(E,k)|15;K[he+0]=240&yr(E,F)|kr(E,k,F)>>4,K[he+1]=be}function di(E,k,F,K,he){K[he+0]=255,ln(E,k,F,K,he+1)}function fa(E,k,F,K,he){ta(E,k,F,K,he),K[he+3]=255}function Ni(E,k,F,K,he){ln(E,k,F,K,he),K[he+3]=255}function Pa(E,k){return 0>E?0:E>k?k:E}function vs(E,k,F){Y[E]=function(K,he,be,we,Ee,_e,De,Ve,st){for(var it=Ve+(-2&st)*F;Ve!=it;)k(K[he+0],be[we+0],Ee[_e+0],De,Ve),k(K[he+1],be[we+0],Ee[_e+0],De,Ve+F),he+=2,++we,++_e,Ve+=2*F;1&st&&k(K[he+0],be[we+0],Ee[_e+0],De,Ve)}}function Fi(E,k,F){return F==0?E==0?k==0?6:5:k==0?4:0:F}function Cl(E,k,F,K,he){switch(E>>>30){case 3:He(k,F,K,he,0);break;case 2:Xe(k,F,K,he);break;case 1:Pt(k,F,K,he)}}function zi(E,k){var F,K,he=k.M,be=k.Nb,we=E.oc,Ee=E.pc+40,_e=E.oc,De=E.pc+584,Ve=E.oc,st=E.pc+600;for(F=0;16>F;++F)we[Ee+32*F-1]=129;for(F=0;8>F;++F)_e[De+32*F-1]=129,Ve[st+32*F-1]=129;for(0<he?we[Ee-1-32]=_e[De-1-32]=Ve[st-1-32]=129:(a(we,Ee-32-1,127,21),a(_e,De-32-1,127,9),a(Ve,st-32-1,127,9)),K=0;K<E.za;++K){var it=k.ya[k.aa+K];if(0<K){for(F=-1;16>F;++F)n(we,Ee+32*F-4,we,Ee+32*F+12,4);for(F=-1;8>F;++F)n(_e,De+32*F-4,_e,De+32*F+4,4),n(Ve,st+32*F-4,Ve,st+32*F+4,4)}var Ke=E.Gd,Tt=E.Hd+K,xt=it.ad,We=it.Hc;if(0<he&&(n(we,Ee-32,Ke[Tt].y,0,16),n(_e,De-32,Ke[Tt].f,0,8),n(Ve,st-32,Ke[Tt].ea,0,8)),it.Za){var $e=we,Ct=Ee-32+16;for(0<he&&(K>=E.za-1?a($e,Ct,Ke[Tt].y[15],4):n($e,Ct,Ke[Tt+1].y,0,4)),F=0;4>F;F++)$e[Ct+128+F]=$e[Ct+256+F]=$e[Ct+384+F]=$e[Ct+0+F];for(F=0;16>F;++F,We<<=2)$e=we,Ct=Ee+Xa[F],Ra[it.Ob[F]]($e,Ct),Cl(We,xt,16*+F,$e,Ct)}else if($e=Fi(K,he,it.Ob[0]),ws[$e](we,Ee),We!=0)for(F=0;16>F;++F,We<<=2)Cl(We,xt,16*+F,we,Ee+Xa[F]);for(F=it.Gc,$e=Fi(K,he,it.Dd),Uo[$e](_e,De),Uo[$e](Ve,st),We=xt,$e=_e,Ct=De,255&(it=F>>0)&&(170&it?dt(We,256,$e,Ct):Rt(We,256,$e,Ct)),it=Ve,We=st,255&(F>>=8)&&(170&F?dt(xt,320,it,We):Rt(xt,320,it,We)),he<E.Ub-1&&(n(Ke[Tt].y,0,we,Ee+480,16),n(Ke[Tt].f,0,_e,De+224,8),n(Ke[Tt].ea,0,Ve,st+224,8)),F=8*be*E.B,Ke=E.sa,Tt=E.ta+16*K+16*be*E.R,xt=E.qa,it=E.ra+8*K+F,We=E.Ha,$e=E.Ia+8*K+F,F=0;16>F;++F)n(Ke,Tt+F*E.R,we,Ee+32*F,16);for(F=0;8>F;++F)n(xt,it+F*E.B,_e,De+32*F,8),n(We,$e+F*E.B,Ve,st+32*F,8)}}function fo(E,k,F,K,he,be,we,Ee,_e){var De=[0],Ve=[0],st=0,it=_e!=null?_e.kd:0,Ke=_e??new Uc;if(E==null||12>F)return 7;Ke.data=E,Ke.w=k,Ke.ha=F,k=[k],F=[F],Ke.gb=[Ke.gb];e:{var Tt=k,xt=F,We=Ke.gb;if(t(E!=null),t(xt!=null),t(We!=null),We[0]=0,12<=xt[0]&&!r(E,Tt[0],"RIFF")){if(r(E,Tt[0]+8,"WEBP")){We=3;break e}var $e=Le(E,Tt[0]+4);if(12>$e||4294967286<$e){We=3;break e}if(it&&$e>xt[0]-8){We=7;break e}We[0]=$e,Tt[0]+=12,xt[0]-=12}We=0}if(We!=0)return We;for($e=0<Ke.gb[0],F=F[0];;){e:{var Ct=E;xt=k,We=F;var Bt=De,St=Ve,Zt=Tt=[0];if(($t=st=[st])[0]=0,8>We[0])We=7;else{if(!r(Ct,xt[0],"VP8X")){if(Le(Ct,xt[0]+4)!=10){We=3;break e}if(18>We[0]){We=7;break e}var Gt=Le(Ct,xt[0]+8),br=1+oe(Ct,xt[0]+12);if(2147483648<=br*(Ct=1+oe(Ct,xt[0]+15))){We=3;break e}Zt!=null&&(Zt[0]=Gt),Bt!=null&&(Bt[0]=br),St!=null&&(St[0]=Ct),xt[0]+=18,We[0]-=18,$t[0]=1}We=0}}if(st=st[0],Tt=Tt[0],We!=0)return We;if(xt=!!(2&Tt),!$e&&st)return 3;if(be!=null&&(be[0]=!!(16&Tt)),we!=null&&(we[0]=xt),Ee!=null&&(Ee[0]=0),we=De[0],Tt=Ve[0],st&&xt&&_e==null){We=0;break}if(4>F){We=7;break}if($e&&st||!$e&&!st&&!r(E,k[0],"ALPH")){F=[F],Ke.na=[Ke.na],Ke.P=[Ke.P],Ke.Sa=[Ke.Sa];e:{Gt=E,We=k,$e=F;var $t=Ke.gb;Bt=Ke.na,St=Ke.P,Zt=Ke.Sa,br=22,t(Gt!=null),t($e!=null),Ct=We[0];var jn=$e[0];for(t(Bt!=null),t(Zt!=null),Bt[0]=null,St[0]=null,Zt[0]=0;;){if(We[0]=Ct,$e[0]=jn,8>jn){We=7;break e}var pn=Le(Gt,Ct+4);if(4294967286<pn){We=3;break e}var yn=8+pn+1&-2;if(br+=yn,0<$t&&br>$t){We=3;break e}if(!r(Gt,Ct,"VP8 ")||!r(Gt,Ct,"VP8L")){We=0;break e}if(jn[0]<yn){We=7;break e}r(Gt,Ct,"ALPH")||(Bt[0]=Gt,St[0]=Ct+8,Zt[0]=pn),Ct+=yn,jn-=yn}}if(F=F[0],Ke.na=Ke.na[0],Ke.P=Ke.P[0],Ke.Sa=Ke.Sa[0],We!=0)break}F=[F],Ke.Ja=[Ke.Ja],Ke.xa=[Ke.xa];e:if($t=E,We=k,$e=F,Bt=Ke.gb[0],St=Ke.Ja,Zt=Ke.xa,Gt=We[0],Ct=!r($t,Gt,"VP8 "),br=!r($t,Gt,"VP8L"),t($t!=null),t($e!=null),t(St!=null),t(Zt!=null),8>$e[0])We=7;else{if(Ct||br){if($t=Le($t,Gt+4),12<=Bt&&$t>Bt-12){We=3;break e}if(it&&$t>$e[0]-8){We=7;break e}St[0]=$t,We[0]+=8,$e[0]-=8,Zt[0]=br}else Zt[0]=5<=$e[0]&&$t[Gt+0]==47&&!($t[Gt+4]>>5),St[0]=$e[0];We=0}if(F=F[0],Ke.Ja=Ke.Ja[0],Ke.xa=Ke.xa[0],k=k[0],We!=0)break;if(4294967286<Ke.Ja)return 3;if(Ee==null||xt||(Ee[0]=Ke.xa?2:1),we=[we],Tt=[Tt],Ke.xa){if(5>F){We=7;break}Ee=we,it=Tt,xt=be,E==null||5>F?E=0:5<=F&&E[k+0]==47&&!(E[k+4]>>5)?($e=[0],$t=[0],Bt=[0],ue(St=new U,E,k,F),or(St,$e,$t,Bt)?(Ee!=null&&(Ee[0]=$e[0]),it!=null&&(it[0]=$t[0]),xt!=null&&(xt[0]=Bt[0]),E=1):E=0):E=0}else{if(10>F){We=7;break}Ee=Tt,E==null||10>F||!tn(E,k+3,F-3)?E=0:(it=E[k+0]|E[k+1]<<8|E[k+2]<<16,xt=16383&(E[k+7]<<8|E[k+6]),E=16383&(E[k+9]<<8|E[k+8]),1&it||3<(it>>1&7)||!(it>>4&1)||it>>5>=Ke.Ja||!xt||!E?E=0:(we&&(we[0]=xt),Ee&&(Ee[0]=E),E=1))}if(!E||(we=we[0],Tt=Tt[0],st&&(De[0]!=we||Ve[0]!=Tt)))return 3;_e!=null&&(_e[0]=Ke,_e.offset=k-_e.w,t(4294967286>k-_e.w),t(_e.offset==_e.ha-F));break}return We==0||We==7&&st&&_e==null?(be!=null&&(be[0]|=Ke.na!=null&&0<Ke.na.length),K!=null&&(K[0]=we),he!=null&&(he[0]=Tt),0):We}function Ks(E,k,F){var K=k.width,he=k.height,be=0,we=0,Ee=K,_e=he;if(k.Da=E!=null&&0<E.Da,k.Da&&(Ee=E.cd,_e=E.bd,be=E.v,we=E.j,11>F||(be&=-2,we&=-2),0>be||0>we||0>=Ee||0>=_e||be+Ee>K||we+_e>he))return 0;if(k.v=be,k.j=we,k.va=be+Ee,k.o=we+_e,k.U=Ee,k.T=_e,k.da=E!=null&&0<E.da,k.da){if(!tt(Ee,_e,F=[E.ib],be=[E.hb]))return 0;k.ib=F[0],k.hb=be[0]}return k.ob=E!=null&&E.ob,k.Kb=E==null||!E.Sd,k.da&&(k.ob=k.ib<3*K/4&&k.hb<3*he/4,k.Kb=0),1}function Hc(E){if(E==null)return 2;if(11>E.S){var k=E.f.RGBA;k.fb+=(E.height-1)*k.A,k.A=-k.A}else k=E.f.kb,E=E.height,k.O+=(E-1)*k.fa,k.fa=-k.fa,k.N+=(E-1>>1)*k.Ab,k.Ab=-k.Ab,k.W+=(E-1>>1)*k.Db,k.Db=-k.Db,k.F!=null&&(k.J+=(E-1)*k.lb,k.lb=-k.lb);return 0}function ho(E,k,F,K){if(K==null||0>=E||0>=k)return 2;if(F!=null){if(F.Da){var he=F.cd,be=F.bd,we=-2&F.v,Ee=-2&F.j;if(0>we||0>Ee||0>=he||0>=be||we+he>E||Ee+be>k)return 2;E=he,k=be}if(F.da){if(!tt(E,k,he=[F.ib],be=[F.hb]))return 2;E=he[0],k=be[0]}}K.width=E,K.height=k;e:{var _e=K.width,De=K.height;if(E=K.S,0>=_e||0>=De||!(E>=jf&&13>E))E=2;else{if(0>=K.Rd&&K.sd==null){we=be=he=k=0;var Ve=(Ee=_e*Rf[E])*De;if(11>E||(be=(De+1)/2*(k=(_e+1)/2),E==12&&(we=(he=_e)*De)),(De=i(Ve+2*be+we))==null){E=1;break e}K.sd=De,11>E?((_e=K.f.RGBA).eb=De,_e.fb=0,_e.A=Ee,_e.size=Ve):((_e=K.f.kb).y=De,_e.O=0,_e.fa=Ee,_e.Fd=Ve,_e.f=De,_e.N=0+Ve,_e.Ab=k,_e.Cd=be,_e.ea=De,_e.W=0+Ve+be,_e.Db=k,_e.Ed=be,E==12&&(_e.F=De,_e.J=0+Ve+2*be),_e.Tc=we,_e.lb=he)}if(k=1,he=K.S,be=K.width,we=K.height,he>=jf&&13>he)if(11>he)E=K.f.RGBA,k&=(Ee=Math.abs(E.A))*(we-1)+be<=E.size,k&=Ee>=be*Rf[he],k&=E.eb!=null;else{E=K.f.kb,Ee=(be+1)/2,Ve=(we+1)/2,_e=Math.abs(E.fa),De=Math.abs(E.Ab);var st=Math.abs(E.Db),it=Math.abs(E.lb),Ke=it*(we-1)+be;k&=_e*(we-1)+be<=E.Fd,k&=De*(Ve-1)+Ee<=E.Cd,k=(k&=st*(Ve-1)+Ee<=E.Ed)&_e>=be&De>=Ee&st>=Ee,k&=E.y!=null,k&=E.f!=null,k&=E.ea!=null,he==12&&(k&=it>=be,k&=Ke<=E.Tc,k&=E.F!=null)}else k=0;E=k?0:2}}return E!=0||F!=null&&F.fd&&(E=Hc(K)),E}var Un=64,_l=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],po=24,ks=32,Zr=8,ri=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),Y.Predictor0=function(){return 4278190080},Y.Predictor1=function(E){return E},Y.Predictor2=function(E,k,F){return k[F+0]},Y.Predictor3=function(E,k,F){return k[F+1]},Y.Predictor4=function(E,k,F){return k[F-1]},Y.Predictor5=function(E,k,F){return rt(rt(E,k[F+1]),k[F+0])},Y.Predictor6=function(E,k,F){return rt(E,k[F-1])},Y.Predictor7=function(E,k,F){return rt(E,k[F+0])},Y.Predictor8=function(E,k,F){return rt(k[F-1],k[F+0])},Y.Predictor9=function(E,k,F){return rt(k[F+0],k[F+1])},Y.Predictor10=function(E,k,F){return rt(rt(E,k[F-1]),rt(k[F+0],k[F+1]))},Y.Predictor11=function(E,k,F){var K=k[F+0];return 0>=Yt(K>>24&255,E>>24&255,(k=k[F-1])>>24&255)+Yt(K>>16&255,E>>16&255,k>>16&255)+Yt(K>>8&255,E>>8&255,k>>8&255)+Yt(255&K,255&E,255&k)?K:E},Y.Predictor12=function(E,k,F){var K=k[F+0];return(At((E>>24&255)+(K>>24&255)-((k=k[F-1])>>24&255))<<24|At((E>>16&255)+(K>>16&255)-(k>>16&255))<<16|At((E>>8&255)+(K>>8&255)-(k>>8&255))<<8|At((255&E)+(255&K)-(255&k)))>>>0},Y.Predictor13=function(E,k,F){var K=k[F-1];return(Ht((E=rt(E,k[F+0]))>>24&255,K>>24&255)<<24|Ht(E>>16&255,K>>16&255)<<16|Ht(E>>8&255,K>>8&255)<<8|Ht(E>>0&255,K>>0&255))>>>0};var fe=Y.PredictorAdd0;Y.PredictorAdd1=Jt,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var o=Y.PredictorAdd2;Ar("ColorIndexInverseTransform","MapARGB","32b",function(E){return E>>8&255},function(E){return E}),Ar("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(E){return E},function(E){return E>>8&255});var d,h=Y.ColorIndexInverseTransform,v=Y.MapARGB,b=Y.VP8LColorIndexInverseTransformAlpha,A=Y.MapAlpha,C=Y.VP8LPredictorsAdd=[];C.length=16,(Y.VP8LPredictors=[]).length=16,(Y.VP8LPredictorsAdd_C=[]).length=16,(Y.VP8LPredictors_C=[]).length=16;var M,B,J,ce,Ae,Me,ze,He,Xe,dt,Pt,Rt,Lt,Ur,Ir,Gn,ni,Aa,dn,Na,$a,ys,Zs,bs,as,fn,qn,_n,Sa=i(511),zo=i(2041),ac=i(225),jl=i(767),Iu=0,Ol=zo,Dd=ac,is=jl,Ui=Sa,jf=0,ss=1,Of=2,mo=3,Ld=4,Mu=5,ic=6,Pd=7,Tf=8,Du=9,kf=10,go=[2,3,7],Lu=[3,3,11],Vc=[280,256,256,256,40],If=[0,1,1,1,0],Rd=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],xo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],vo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],sc=8,yo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],bo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qs=null,Y1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Kh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Mf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],qi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ha=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ws=[],Ra=[],Uo=[],oc=1,Zh=2,Tl=[],Hi=[];yt("UpsampleRgbLinePair",ln,3),yt("UpsampleBgrLinePair",ta,3),yt("UpsampleRgbaLinePair",Ni,4),yt("UpsampleBgraLinePair",fa,4),yt("UpsampleArgbLinePair",di,4),yt("UpsampleRgba4444LinePair",da,2),yt("UpsampleRgb565LinePair",kn,2);var Wc=Y.UpsampleRgbLinePair,Qh=Y.UpsampleBgrLinePair,Pu=Y.UpsampleRgbaLinePair,Df=Y.UpsampleBgraLinePair,lc=Y.UpsampleArgbLinePair,sl=Y.UpsampleRgba4444LinePair,cc=Y.UpsampleRgb565LinePair,wo=16,Ru=1<<wo-1,Gc=-227,uc=482,Lf=6,dc=0,Vi=i(256),Pf=i(256),X1=i(256),Bx=i(256),Fx=i(uc-Gc),zx=i(uc-Gc);vs("YuvToRgbRow",ln,3),vs("YuvToBgrRow",ta,3),vs("YuvToRgbaRow",Ni,4),vs("YuvToBgraRow",fa,4),vs("YuvToArgbRow",di,4),vs("YuvToRgba4444Row",da,2),vs("YuvToRgb565Row",kn,2);var Xa=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bu=[0,2,8],Bd=[8,7,6,4,4,2,2,2,1,1,1,1],Fd=1;this.WebPDecodeRGBA=function(E,k,F,K,he){var be=ss,we=new El,Ee=new Er;we.ba=Ee,Ee.S=be,Ee.width=[Ee.width],Ee.height=[Ee.height];var _e=Ee.width,De=Ee.height,Ve=new oa;if(Ve==null||E==null)var st=2;else t(Ve!=null),st=fo(E,k,F,Ve.width,Ve.height,Ve.Pd,Ve.Qd,Ve.format,null);if(st!=0?_e=0:(_e!=null&&(_e[0]=Ve.width[0]),De!=null&&(De[0]=Ve.height[0]),_e=1),_e){Ee.width=Ee.width[0],Ee.height=Ee.height[0],K!=null&&(K[0]=Ee.width),he!=null&&(he[0]=Ee.height);e:{if(K=new Rr,(he=new Uc).data=E,he.w=k,he.ha=F,he.kd=1,k=[0],t(he!=null),((E=fo(he.data,he.w,he.ha,null,null,null,k,null,he))==0||E==7)&&k[0]&&(E=4),(k=E)==0){if(t(we!=null),K.data=he.data,K.w=he.w+he.offset,K.ha=he.ha-he.offset,K.put=la,K.ac=$r,K.bc=ca,K.ma=we,he.xa){if((E=Ot())==null){we=1;break e}if(function(it,Ke){var Tt=[0],xt=[0],We=[0];t:for(;;){if(it==null)return 0;if(Ke==null)return it.a=2,0;if(it.l=Ke,it.a=0,ue(it.m,Ke.data,Ke.w,Ke.ha),!or(it.m,Tt,xt,We)){it.a=3;break t}if(it.xb=Zh,Ke.width=Tt[0],Ke.height=xt[0],!Dt(Tt[0],xt[0],1,it,null))break t;return 1}return t(it.a!=0),0}(E,K)){if(K=(k=ho(K.width,K.height,we.Oa,we.ba))==0){t:{K=E;r:for(;;){if(K==null){K=0;break t}if(t(K.s.yc!=null),t(K.s.Ya!=null),t(0<K.s.Wb),t((F=K.l)!=null),t((he=F.ma)!=null),K.xb!=0){if(K.ca=he.ba,K.tb=he.tb,t(K.ca!=null),!Ks(he.Oa,F,mo)){K.a=2;break r}if(!It(K,F.width)||F.da)break r;if((F.da||Hr(K.ca.S))&&Qe(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&Qe()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!Ge(K.s.vb,K.s.Wa.Xa)){K.a=1;break r}K.xb=0}if(!mt(K,K.V,K.Ba,K.c,K.i,F.o,et))break r;he.Dc=K.Ma,K=1;break t}t(K.a!=0),K=0}K=!K}K&&(k=E.a)}else k=E.a}else{if((E=new Gs)==null){we=1;break e}if(E.Fa=he.na,E.P=he.P,E.qc=he.Sa,jr(E,K)){if((k=ho(K.width,K.height,we.Oa,we.ba))==0){if(E.Aa=0,F=we.Oa,t((he=E)!=null),F!=null){if(0<(_e=0>(_e=F.Md)?0:100<_e?255:255*_e/100)){for(De=Ve=0;4>De;++De)12>(st=he.pb[De]).lc&&(st.ia=_e*Bd[0>st.lc?0:st.lc]>>3),Ve|=st.ia;Ve&&(alert("todo:VP8InitRandom"),he.ia=1)}he.Ga=F.Id,100<he.Ga?he.Ga=100:0>he.Ga&&(he.Ga=0)}un(E,K)||(k=E.a)}}else k=E.a}k==0&&we.Oa!=null&&we.Oa.fd&&(k=Hc(we.ba))}we=k}be=we!=0?null:11>be?Ee.f.RGBA.eb:Ee.f.kb.y}else be=null;return be};var Rf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(Y,W){for(var Ne="",Z=0;Z<4;Z++)Ne+=String.fromCharCode(Y[W++]);return Ne}function x(Y,W){return(Y[W+0]<<0|Y[W+1]<<8|Y[W+2]<<16)>>>0}function y(Y,W){return(Y[W+0]<<0|Y[W+1]<<8|Y[W+2]<<16|Y[W+3]<<24)>>>0}new m;var S=[0],N=[0],j=[],_=new m,T=e,D=function(Y,W){var Ne={},Z=0,Q=!1,ye=0,ie=0;if(Ne.frames=[],!function(H,ae,ge,ve){for(var de=0;de<ve;de++)if(H[ae+de]!=ge.charCodeAt(de))return!0;return!1}(Y,W,"RIFF",4)){var q,te;for(y(Y,W+=4),W+=8;W<Y.length;){var se=p(Y,W),ue=y(Y,W+=4);W+=4;var ee=ue+(1&ue);switch(se){case"VP8 ":case"VP8L":Ne.frames[Z]===void 0&&(Ne.frames[Z]={}),(U=Ne.frames[Z]).src_off=Q?ie:W-8,U.src_size=ye+ue+8,Z++,Q&&(Q=!1,ye=0,ie=0);break;case"VP8X":(U=Ne.header={}).feature_flags=Y[W];var Se=W+4;U.canvas_width=1+x(Y,Se),Se+=3,U.canvas_height=1+x(Y,Se),Se+=3;break;case"ALPH":Q=!0,ye=ee+8,ie=W-8;break;case"ANIM":(U=Ne.header).bgcolor=y(Y,W),Se=W+4,U.loop_count=(q=Y)[(te=Se)+0]<<0|q[te+1]<<8,Se+=2;break;case"ANMF":var le,U;(U=Ne.frames[Z]={}).offset_x=2*x(Y,W),W+=3,U.offset_y=2*x(Y,W),W+=3,U.width=1+x(Y,W),W+=3,U.height=1+x(Y,W),W+=3,U.duration=x(Y,W),W+=3,le=Y[W++],U.dispose=1&le,U.blend=le>>1&1}se!="ANMF"&&(W+=ee)}return Ne}}(T,0);D.response=T,D.rgbaoutput=!0,D.dataurl=!1;var R=D.header?D.header:null,z=D.frames?D.frames:null;if(R){R.loop_counter=R.loop_count,S=[R.canvas_height],N=[R.canvas_width];for(var G=0;G<z.length&&z[G].blend!=0;G++);}var $=z[0],X=_.WebPDecodeRGBA(T,$.src_off,$.src_size,N,S);$.rgba=X,$.imgwidth=N[0],$.imgheight=S[0];for(var V=0;V<N[0]*S[0]*4;V++)j[V]=X[V];return this.width=N,this.height=S,this.data=j,this}(function(e){var t=function(){return typeof Sb=="function"},r=function(S,N,j,_){var T=4,D=c;switch(_){case e.image_compression.FAST:T=1,D=i;break;case e.image_compression.MEDIUM:T=6,D=f;break;case e.image_compression.SLOW:T=9,D=m}S=n(S,N,j,D);var R=Sb(S,{level:T});return e.__addimage__.arrayBufferToBinaryString(R)},n=function(S,N,j,_){for(var T,D,R,z=S.length/N,G=new Uint8Array(S.length+z),$=x(),X=0;X<z;X+=1){if(R=X*N,T=S.subarray(R,R+N),_)G.set(_(T,j,D),R+X);else{for(var V,Y=$.length,W=[];V<Y;V+=1)W[V]=$[V](T,j,D);var Ne=y(W.concat());G.set(W[Ne],R+X)}D=T}return G},a=function(S){var N=Array.apply([],S);return N.unshift(0),N},i=function(S,N){var j,_=[],T=S.length;_[0]=1;for(var D=0;D<T;D+=1)j=S[D-N]||0,_[D+1]=S[D]-j+256&255;return _},c=function(S,N,j){var _,T=[],D=S.length;T[0]=2;for(var R=0;R<D;R+=1)_=j&&j[R]||0,T[R+1]=S[R]-_+256&255;return T},f=function(S,N,j){var _,T,D=[],R=S.length;D[0]=3;for(var z=0;z<R;z+=1)_=S[z-N]||0,T=j&&j[z]||0,D[z+1]=S[z]+256-(_+T>>>1)&255;return D},m=function(S,N,j){var _,T,D,R,z=[],G=S.length;z[0]=4;for(var $=0;$<G;$+=1)_=S[$-N]||0,T=j&&j[$]||0,D=j&&j[$-N]||0,R=p(_,T,D),z[$+1]=S[$]-R+256&255;return z},p=function(S,N,j){if(S===N&&N===j)return S;var _=Math.abs(N-j),T=Math.abs(S-j),D=Math.abs(S+N-j-j);return _<=T&&_<=D?S:T<=D?N:j},x=function(){return[a,i,c,f,m]},y=function(S){var N=S.map(function(j){return j.reduce(function(_,T){return _+Math.abs(T)},0)});return N.indexOf(Math.min.apply(null,N))};e.processPNG=function(S,N,j,_){var T,D,R,z,G,$,X,V,Y,W,Ne,Z,Q,ye,ie,q=this.decode.FLATE_DECODE,te="";if(this.__addimage__.isArrayBuffer(S)&&(S=new Uint8Array(S)),this.__addimage__.isArrayBufferView(S)){if(S=(R=new pF(S)).imgData,D=R.bits,T=R.colorSpace,G=R.colors,[4,6].indexOf(R.colorType)!==-1){if(R.bits===8){Y=(V=R.pixelBitlength==32?new Uint32Array(R.decodePixels().buffer):R.pixelBitlength==16?new Uint16Array(R.decodePixels().buffer):new Uint8Array(R.decodePixels().buffer)).length,Ne=new Uint8Array(Y*R.colors),W=new Uint8Array(Y);var se,ue=R.pixelBitlength-R.bits;for(ye=0,ie=0;ye<Y;ye++){for(Q=V[ye],se=0;se<ue;)Ne[ie++]=Q>>>se&255,se+=R.bits;W[ye]=Q>>>se&255}}if(R.bits===16){Y=(V=new Uint32Array(R.decodePixels().buffer)).length,Ne=new Uint8Array(Y*(32/R.pixelBitlength)*R.colors),W=new Uint8Array(Y*(32/R.pixelBitlength)),Z=R.colors>1,ye=0,ie=0;for(var ee=0;ye<Y;)Q=V[ye++],Ne[ie++]=Q>>>0&255,Z&&(Ne[ie++]=Q>>>16&255,Q=V[ye++],Ne[ie++]=Q>>>0&255),W[ee++]=Q>>>16&255;D=8}_!==e.image_compression.NONE&&t()?(S=r(Ne,R.width*R.colors,R.colors,_),X=r(W,R.width,1,_)):(S=Ne,X=W,q=void 0)}if(R.colorType===3&&(T=this.color_spaces.INDEXED,$=R.palette,R.transparency.indexed)){var Se=R.transparency.indexed,le=0;for(ye=0,Y=Se.length;ye<Y;++ye)le+=Se[ye];if((le/=255)===Y-1&&Se.indexOf(0)!==-1)z=[Se.indexOf(0)];else if(le!==Y){for(V=R.decodePixels(),W=new Uint8Array(V.length),ye=0,Y=V.length;ye<Y;ye++)W[ye]=Se[V[ye]];X=r(W,R.width,1)}}var U=function(H){var ae;switch(H){case e.image_compression.FAST:ae=11;break;case e.image_compression.MEDIUM:ae=13;break;case e.image_compression.SLOW:ae=14;break;default:ae=12}return ae}(_);return q===this.decode.FLATE_DECODE&&(te="/Predictor "+U+" "),te+="/Colors "+G+" /BitsPerComponent "+D+" /Columns "+R.width,(this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),(X&&this.__addimage__.isArrayBuffer(X)||this.__addimage__.isArrayBufferView(X))&&(X=this.__addimage__.arrayBufferToBinaryString(X)),{alias:j,data:S,index:N,filter:q,decodeParameters:te,transparency:z,palette:$,sMask:X,predictor:U,width:R.width,height:R.height,bitsPerComponent:D,colorSpace:T}}}})(wr.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new mF(t),c=i.width,f=i.height,m=[];i.decodeAndBlitFrameRGBA(0,m);var p={data:m,width:c,height:f},x=new yv(100).encode(p,100);return e.processJPEG.call(this,x,r,n,a)},e.processGIF87A=e.processGIF89A}(wr.API),Fl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){ga.log("bit decode error:"+r)}},Fl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+8*a*4,f=0;f<8&&8*a+f<this.width;f++){var m=this.palette[i>>7-f&1];this.data[c+4*f]=m.blue,this.data[c+4*f+1]=m.green,this.data[c+4*f+2]=m.red,this.data[c+4*f+3]=255}r!==0&&(this.pos+=4-r)}},Fl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+2*a*4,f=i>>4,m=15&i,p=this.palette[f];if(this.data[c]=p.blue,this.data[c+1]=p.green,this.data[c+2]=p.red,this.data[c+3]=255,2*a+1>=this.width)break;p=this.palette[m],this.data[c+4]=p.blue,this.data[c+4+1]=p.green,this.data[c+4+2]=p.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},Fl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var c=this.palette[a];this.data[i]=c.red,this.data[i+1]=c.green,this.data[i+2]=c.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Fl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(i&t)/t*255|0,f=(i>>5&t)/t*255|0,m=(i>>10&t)/t*255|0,p=i>>15?255:0,x=n*this.width*4+4*a;this.data[x]=m,this.data[x+1]=f,this.data[x+2]=c,this.data[x+3]=p}this.pos+=e}},Fl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(c&t)/t*255|0,m=(c>>5&r)/r*255|0,p=(c>>11)/t*255|0,x=a*this.width*4+4*i;this.data[x]=p,this.data[x+1]=m,this.data[x+2]=f,this.data[x+3]=255}this.pos+=e}},Fl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*r;this.data[c]=i,this.data[c+1]=a,this.data[c+2]=n,this.data[c+3]=255}this.pos+=this.width%4}},Fl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),f=t*this.width*4+4*r;this.data[f]=i,this.data[f+1]=a,this.data[f+2]=n,this.data[f+3]=c}},Fl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Fl(t,!1),c=i.width,f=i.height,m={data:i.getData(),width:c,height:f},p=new yv(100).encode(m,100);return e.processJPEG.call(this,p,r,n,a)}}(wr.API),TS.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new TS(t),c=i.width,f=i.height,m={data:i.getData(),width:c,height:f},p=new yv(100).encode(m,100);return e.processJPEG.call(this,p,r,n,a)}}(wr.API),wr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),c=new Uint8Array(a/4),f=0,m=0,p=0;p<a;p+=4){var x=n[p],y=n[p+1],S=n[p+2],N=n[p+3];i[f++]=x,i[f++]=y,i[f++]=S,c[m++]=N}var j=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:j,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},wr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},sh=wr.API,Vp=sh.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),f=t.widths?t.widths:a.metadata.Unicode.widths,m=f.fof?f.fof:1,p=t.kerning?t.kerning:a.metadata.Unicode.kerning,x=p.fof?p.fof:1,y=t.doKerning!==!1,S=0,N=e.length,j=0,_=f[0]||m,T=[];for(r=0;r<N;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?T.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+c*(1e3/i)||0)/1e3):(S=y&&Jn(p[n])==="object"&&!isNaN(parseInt(p[n][j],10))?p[n][j]/x:0,T.push((f[n]||_)/m+S)),j=n;return T},CS=sh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return sh.processArabic&&(e=sh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Vp.apply(this,arguments).reduce(function(i,c){return i+c},0)},_S=function(e,t,r,n){for(var a=[],i=0,c=e.length,f=0;i!==c&&f+t[i]<r;)f+=t[i],i++;a.push(e.slice(0,i));var m=i;for(f=0;i!==c;)f+t[i]>n&&(a.push(e.slice(m,i)),f=0,m=i),f+=t[i],i++;return m!==i&&a.push(e.slice(m,i)),a},jS=function(e,t,r){r||(r={});var n,a,i,c,f,m,p,x=[],y=[x],S=r.textIndent||0,N=0,j=0,_=e.split(" "),T=Vp.apply(this,[" ",r])[0];if(m=r.lineIndent===-1?_[0].length+2:r.lineIndent||0){var D=Array(m).join(" "),R=[];_.map(function(G){(G=G.split(/\s*\n/)).length>1?R=R.concat(G.map(function($,X){return(X&&$.length?`
`:"")+$})):R.push(G[0])}),_=R,m=CS.apply(this,[D,r])}for(i=0,c=_.length;i<c;i++){var z=0;if(n=_[i],m&&n[0]==`
`&&(n=n.substr(1),z=1),S+N+(j=(a=Vp.apply(this,[n,r])).reduce(function(G,$){return G+$},0))>t||z){if(j>t){for(f=_S.apply(this,[n,a,t-(S+N),t]),x.push(f.shift()),x=[f.pop()];f.length;)y.push([f.shift()]);j=a.slice(n.length-(x[0]?x[0].length:0)).reduce(function(G,$){return G+$},0)}else x=[n];y.push(x),S=j+m,N=T}else x.push(n),S+=N+j,N=T}return p=m?function(G,$){return($?D:"")+G.join(" ")}:function(G){return G.join(" ")},y.map(p)},sh.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(x){if(x.widths&&x.kerning)return{widths:x.widths,kerning:x.kerning};var y=this.internal.getFont(x.fontName,x.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var f,m,p=[];for(f=0,m=n.length;f<m;f++)p=p.concat(jS.apply(this,[n[f],c,i]));return p},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(y){return"0x"+parseInt(y,10).toString(16)},c=e.__fontmetrics__.compress=function(y){var S,N,j,_,T=["{"];for(var D in y){if(S=y[D],isNaN(parseInt(D,10))?N="'"+D+"'":(D=parseInt(D,10),N=(N=i(D).slice(2)).slice(0,-1)+n[N.slice(-1)]),typeof S=="number")S<0?(j=i(S).slice(3),_="-"):(j=i(S).slice(2),_=""),j=_+j.slice(0,-1)+n[j.slice(-1)];else{if(Jn(S)!=="object")throw new Error("Don't know what to do with value type "+Jn(S)+".");j=c(S)}T.push(N+j)}return T.push("}"),T.join("")},f=e.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var S,N,j,_,T={},D=1,R=T,z=[],G="",$="",X=y.length-1,V=1;V<X;V+=1)(_=y[V])=="'"?S?(j=S.join(""),S=void 0):S=[]:S?S.push(_):_=="{"?(z.push([R,j]),R={},j=void 0):_=="}"?((N=z.pop())[0][N[1]]=R,j=void 0,R=N[0]):_=="-"?D=-1:j===void 0?r.hasOwnProperty(_)?(G+=r[_],j=parseInt(G,16)*D,D=1,G=""):G+=_:r.hasOwnProperty(_)?($+=r[_],R[j]=parseInt($,16)*D,D=1,j=void 0,$=""):$+=_;return T},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},x={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(y){var S=y.font,N=x.Unicode[S.postScriptName];N&&(S.metadata.Unicode={},S.metadata.Unicode.widths=N.widths,S.metadata.Unicode.kerning=N.kerning);var j=p.Unicode[S.postScriptName];j&&(S.metadata.Unicode.encoding=j,S.encoding=j.codePages[0])}])}(wr.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,f){f=/^\x00\x01\x00\x00/.test(f)?t(f):t(K0(f)),c.metadata=e.API.TTFFont.open(f),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,n)}}])}(wr),function(e){function t(){return(Pr.canvg?Promise.resolve(Pr.canvg):yb(()=>import("./index.es-BXBOrkUi.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}wr.API.addSvgAsImage=function(r,n,a,i,c,f,m,p){if(isNaN(n)||isNaN(a))throw ga.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(c))throw ga.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var x=document.createElement("canvas");x.width=i,x.height=c;var y=x.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,x.width,x.height);var S={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},N=this;return t().then(function(j){return j.fromString(y,r,S)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(j){return j.render(S)}).then(function(){N.addImage(x.toDataURL("image/jpeg",1),n,a,i,c,m,p)})}}(),wr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},wr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},f=Object.keys(c),m=[],p=0,x=0,y=0;function S(j,_){var T,D=!1;for(T=0;T<j.length;T+=1)j[T]===_&&(D=!0);return D}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var N=f.length;for(y=0;y<N;y+=1)r[f[y]].value=r[f[y]].defaultValue,r[f[y]].explicitSet=!1}if(Jn(e)==="object"){for(a in e)if(i=e[a],S(f,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&S(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(p=0;p<i.length;p+=1)if(n=!0,i[p].length===1&&typeof i[p][0]=="number")m.push(String(i[p]-1));else if(i[p].length>1){for(x=0;x<i[p].length;x+=1)typeof i[p][x]!="number"&&(n=!1);n===!0&&m.push([i[p][0]-1,i[p][1]-1].join(" "))}r[a].value="["+m.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,_=[];for(j in r)r[j].explicitSet===!0&&(r[j].type==="name"?_.push("/"+j+" /"+r[j].value):_.push("/"+j+" "+r[j].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),f=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),m=unescape(encodeURIComponent("</x:xmpmeta>")),p=i.length+c.length+f.length+a.length+m.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(a+i+c+f+m),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(wr.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,c){for(var f,m=c.metadata.Unicode.widths,p=["","0","00","000","0000"],x=[""],y=0,S=i.length;y<S;++y){if(f=c.metadata.characterToGlyph(i.charCodeAt(y)),c.metadata.glyIdsUsed.push(f),c.metadata.toUnicode[f]=i.charCodeAt(y),m.indexOf(f)==-1&&(m.push(f),m.push([parseInt(c.metadata.widthOfGlyph(f),10)])),f=="0")return x.join("");f=f.toString(16),x.push(p[4-f.length],f)}return x.join("")},n=function(i){var c,f,m,p,x,y,S;for(x=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,m=[],y=0,S=(f=Object.keys(i).sort(function(N,j){return N-j})).length;y<S;y++)c=f[y],m.length>=100&&(x+=`
`+m.length+` beginbfchar
`+m.join(`
`)+`
endbfchar`,m=[]),i[c]!==void 0&&i[c]!==null&&typeof i[c].toString=="function"&&(p=("0000"+i[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),m.push("<"+c+"><"+p+">"));return m.length&&(x+=`
`+m.length+` beginbfchar
`+m.join(`
`)+`
endbfchar
`),x+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(c){var f=c.font,m=c.out,p=c.newObject,x=c.putStream;if(f.metadata instanceof e.API.TTFFont&&f.encoding==="Identity-H"){for(var y=f.metadata.Unicode.widths,S=f.metadata.subset.encode(f.metadata.glyIdsUsed,1),N="",j=0;j<S.length;j++)N+=String.fromCharCode(S[j]);var _=p();x({data:N,addLength1:!0,objectId:_}),m("endobj");var T=p();x({data:n(f.metadata.toUnicode),addLength1:!0,objectId:T}),m("endobj");var D=p();m("<<"),m("/Type /FontDescriptor"),m("/FontName /"+dh(f.fontName)),m("/FontFile2 "+_+" 0 R"),m("/FontBBox "+e.API.PDFObject.convert(f.metadata.bbox)),m("/Flags "+f.metadata.flags),m("/StemV "+f.metadata.stemV),m("/ItalicAngle "+f.metadata.italicAngle),m("/Ascent "+f.metadata.ascender),m("/Descent "+f.metadata.decender),m("/CapHeight "+f.metadata.capHeight),m(">>"),m("endobj");var R=p();m("<<"),m("/Type /Font"),m("/BaseFont /"+dh(f.fontName)),m("/FontDescriptor "+D+" 0 R"),m("/W "+e.API.PDFObject.convert(y)),m("/CIDToGIDMap /Identity"),m("/DW 1000"),m("/Subtype /CIDFontType2"),m("/CIDSystemInfo"),m("<<"),m("/Supplement 0"),m("/Registry (Adobe)"),m("/Ordering ("+f.encoding+")"),m(">>"),m(">>"),m("endobj"),f.objectNumber=p(),m("<<"),m("/Type /Font"),m("/Subtype /Type0"),m("/ToUnicode "+T+" 0 R"),m("/BaseFont /"+dh(f.fontName)),m("/Encoding /"+f.encoding),m("/DescendantFonts ["+R+" 0 R]"),m(">>"),m("endobj"),f.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(c){var f=c.font,m=c.out,p=c.newObject,x=c.putStream;if(f.metadata instanceof e.API.TTFFont&&f.encoding==="WinAnsiEncoding"){for(var y=f.metadata.rawData,S="",N=0;N<y.length;N++)S+=String.fromCharCode(y[N]);var j=p();x({data:S,addLength1:!0,objectId:j}),m("endobj");var _=p();x({data:n(f.metadata.toUnicode),addLength1:!0,objectId:_}),m("endobj");var T=p();m("<<"),m("/Descent "+f.metadata.decender),m("/CapHeight "+f.metadata.capHeight),m("/StemV "+f.metadata.stemV),m("/Type /FontDescriptor"),m("/FontFile2 "+j+" 0 R"),m("/Flags 96"),m("/FontBBox "+e.API.PDFObject.convert(f.metadata.bbox)),m("/FontName /"+dh(f.fontName)),m("/ItalicAngle "+f.metadata.italicAngle),m("/Ascent "+f.metadata.ascender),m(">>"),m("endobj"),f.objectNumber=p();for(var D=0;D<f.metadata.hmtx.widths.length;D++)f.metadata.hmtx.widths[D]=parseInt(f.metadata.hmtx.widths[D]*(1e3/f.metadata.head.unitsPerEm));m("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+dh(f.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+f.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(f.metadata.hmtx.widths)+">>"),m("endobj"),f.isAlreadyPutted=!0}})(i)}]);var a=function(i){var c,f=i.text||"",m=i.x,p=i.y,x=i.options||{},y=i.mutex||{},S=y.pdfEscape,N=y.activeFontKey,j=y.fonts,_=N,T="",D=0,R="",z=j[_].encoding;if(j[_].encoding!=="Identity-H")return{text:f,x:m,y:p,options:x,mutex:y};for(R=f,_=N,Array.isArray(f)&&(R=f[0]),D=0;D<R.length;D+=1)j[_].metadata.hasOwnProperty("cmap")&&(c=j[_].metadata.cmap.unicode.codeMap[R[D].charCodeAt(0)]),c||R[D].charCodeAt(0)<256&&j[_].metadata.hasOwnProperty("Unicode")?T+=R[D]:T+="";var G="";return parseInt(_.slice(1))<14||z==="WinAnsiEncoding"?G=S(T,_).split("").map(function($){return $.charCodeAt(0).toString(16)}).join(""):z==="Identity-H"&&(G=r(T,j[_])),y.isHex=!0,{text:G,x:m,y:p,options:x,mutex:y}};t.events.push(["postProcessText",function(i){var c=i.text||"",f=[],m={text:c,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(c)){var p=0;for(p=0;p<c.length;p+=1)Array.isArray(c[p])&&c[p].length===3?f.push([a(Object.assign({},m,{text:c[p][0]})).text,c[p][1],c[p][2]]):f.push(a(Object.assign({},m,{text:c[p]})).text);i.text=f}else i.text=a(Object.assign({},m,{text:c})).text}])}(wr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(wr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,c,f,m,p,x,y=t,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],N=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],D=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,z=0;this.__bidiEngine__={};var G=function(Z){var Q=Z.charCodeAt(),ye=Q>>8,ie=_[ye];return ie!==void 0?y[256*ie+(255&Q)]:ye===252||ye===253?"AL":D.test(ye)?"L":ye===8?"R":"N"},$=function(Z){for(var Q,ye=0;ye<Z.length;ye++){if((Q=G(Z.charAt(ye)))==="L")return!1;if(Q==="R")return!0}return!1},X=function(Z,Q,ye,ie){var q,te,se,ue,ee=Q[ie];switch(ee){case"L":case"R":R=!1;break;case"N":case"AN":break;case"EN":R&&(ee="AN");break;case"AL":R=!0,ee="R";break;case"WS":ee="N";break;case"CS":ie<1||ie+1>=Q.length||(q=ye[ie-1])!=="EN"&&q!=="AN"||(te=Q[ie+1])!=="EN"&&te!=="AN"?ee="N":R&&(te="AN"),ee=te===q?te:"N";break;case"ES":ee=(q=ie>0?ye[ie-1]:"B")==="EN"&&ie+1<Q.length&&Q[ie+1]==="EN"?"EN":"N";break;case"ET":if(ie>0&&ye[ie-1]==="EN"){ee="EN";break}if(R){ee="N";break}for(se=ie+1,ue=Q.length;se<ue&&Q[se]==="ET";)se++;ee=se<ue&&Q[se]==="EN"?"EN":"N";break;case"NSM":if(c&&!f){for(ue=Q.length,se=ie+1;se<ue&&Q[se]==="NSM";)se++;if(se<ue){var Se=Z[ie],le=Se>=1425&&Se<=2303||Se===64286;if(q=Q[se],le&&(q==="R"||q==="AL")){ee="R";break}}}ee=ie<1||(q=Q[ie-1])==="B"?"N":ye[ie-1];break;case"B":R=!1,a=!0,ee=z;break;case"S":i=!0,ee="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"BN":ee="N"}return ee},V=function(Z,Q,ye){var ie=Z.split("");return ye&&Y(ie,ye,{hiLevel:z}),ie.reverse(),Q&&Q.reverse(),ie.join("")},Y=function(Z,Q,ye){var ie,q,te,se,ue,ee=-1,Se=Z.length,le=0,U=[],H=z?N:S,ae=[];for(R=!1,a=!1,i=!1,q=0;q<Se;q++)ae[q]=G(Z[q]);for(te=0;te<Se;te++){if(ue=le,U[te]=X(Z,ae,U,te),ie=240&(le=H[ue][j[U[te]]]),le&=15,Q[te]=se=H[le][5],ie>0)if(ie===16){for(q=ee;q<te;q++)Q[q]=1;ee=-1}else ee=-1;if(H[le][6])ee===-1&&(ee=te);else if(ee>-1){for(q=ee;q<te;q++)Q[q]=se;ee=-1}ae[te]==="B"&&(Q[te]=0),ye.hiLevel|=se}i&&function(ge,ve,de){for(var ke=0;ke<de;ke++)if(ge[ke]==="S"){ve[ke]=z;for(var me=ke-1;me>=0&&ge[me]==="WS";me--)ve[me]=z}}(ae,Q,Se)},W=function(Z,Q,ye,ie,q){if(!(q.hiLevel<Z)){if(Z===1&&z===1&&!a)return Q.reverse(),void(ye&&ye.reverse());for(var te,se,ue,ee,Se=Q.length,le=0;le<Se;){if(ie[le]>=Z){for(ue=le+1;ue<Se&&ie[ue]>=Z;)ue++;for(ee=le,se=ue-1;ee<se;ee++,se--)te=Q[ee],Q[ee]=Q[se],Q[se]=te,ye&&(te=ye[ee],ye[ee]=ye[se],ye[se]=te);le=ue}le++}}},Ne=function(Z,Q,ye){var ie=Z.split(""),q={hiLevel:z};return ye||(ye=[]),Y(ie,ye,q),function(te,se,ue){if(ue.hiLevel!==0&&x)for(var ee,Se=0;Se<te.length;Se++)se[Se]===1&&(ee=T.indexOf(te[Se]))>=0&&(te[Se]=T[ee+1])}(ie,ye,q),W(2,ie,Q,ye,q),W(1,ie,Q,ye,q),ie.join("")};return this.__bidiEngine__.doBidiReorder=function(Z,Q,ye){if(function(q,te){if(te)for(var se=0;se<q.length;se++)te[se]=se;f===void 0&&(f=$(q)),p===void 0&&(p=$(q))}(Z,Q),c||!m||p)if(c&&m&&f^p)z=f?1:0,Z=V(Z,Q,ye);else if(!c&&m&&p)z=f?1:0,Z=Ne(Z,Q,ye),Z=V(Z,Q);else if(!c||f||m||p){if(c&&!m&&f^p)Z=V(Z,Q),f?(z=0,Z=Ne(Z,Q,ye)):(z=1,Z=Ne(Z,Q,ye),Z=V(Z,Q));else if(c&&f&&!m&&p)z=1,Z=Ne(Z,Q,ye),Z=V(Z,Q);else if(!c&&!m&&f^p){var ie=x;f?(z=1,Z=Ne(Z,Q,ye),z=0,x=!1,Z=Ne(Z,Q,ye),x=ie):(z=0,Z=Ne(Z,Q,ye),Z=V(Z,Q),z=1,x=!1,Z=Ne(Z,Q,ye),x=ie,Z=V(Z,Q))}}else z=0,Z=Ne(Z,Q,ye);else z=f?1:0,Z=Ne(Z,Q,ye);return Z},this.__bidiEngine__.setOptions=function(Z){Z&&(c=Z.isInputVisual,m=Z.isOutputVisual,f=Z.isInputRtl,p=Z.isOutputRtl,x=Z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),c=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var f=0;for(c=[],f=0;f<a.length;f+=1)Object.prototype.toString.call(a[f])==="[object Array]"?c.push([r.doBidiReorder(a[f][0]),a[f][1],a[f][2]]):c.push([r.doBidiReorder(a[f])]);n.text=c}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(wr),wr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Nd(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new TF(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new gF(this.contents),this.head=new vF(this),this.name=new NF(this),this.cmap=new mO(this),this.toUnicode={},this.hhea=new yF(this),this.maxp=new SF(this),this.hmtx=new EF(this),this.post=new wF(this),this.os2=new bF(this),this.loca=new OF(this),this.glyf=new CF(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,f,m,p;for(p=[],c=0,f=(m=this.bbox).length;c<f;c++)t=m[c],p.push(Math.round(t*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,c,f;for(c=0,i=0,f=(t=""+t).length;0<=f?i<f:i>f;i=0<=f?++i:--i)a=t.charCodeAt(i),c+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return c*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Jl,Nd=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,c,f,m;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),c=this.readByte(),f=this.readByte(),m=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^c)+256*(255^f)+(255^m)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*c+256*f+m},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),gF=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,c,f,m,p,x,y,S,N,j,_;for(_ in N=Object.keys(r).length,m=Math.log(2),y=16*Math.floor(Math.log(N)/m),c=Math.floor(y/m),x=16*N-y,(a=new Nd).writeInt(this.scalarType),a.writeShort(N),a.writeShort(y),a.writeShort(c),a.writeShort(x),i=16*N,p=a.pos+i,f=null,j=[],r)for(S=r[_],a.writeString(_),a.writeInt(e(S)),a.writeInt(p),a.writeInt(S.length),j=j.concat(S),_==="head"&&(f=p),p+=S.length;p%4;)j.push(0),p++;return a.write(j),n=2981146554-e(a.data),a.pos=f+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,c;for(r=gO.call(r);r.length%4;)r.push(0);for(i=new Nd(r),a=0,n=0,c=r.length;n<c;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),xF={}.hasOwnProperty,Dc=function(e,t){for(var r in t)xF.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Jl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var vF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Jl),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Nd).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),kS=function(){function e(t,r){var n,a,i,c,f,m,p,x,y,S,N,j,_,T,D,R,z;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),y=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(m=0;m<256;++m)this.codeMap[m]=t.readByte();break;case 4:for(N=t.readUInt16(),S=N/2,t.pos+=6,i=function(){var G,$;for($=[],m=G=0;0<=S?G<S:G>S;m=0<=S?++G:--G)$.push(t.readUInt16());return $}(),t.pos+=2,_=function(){var G,$;for($=[],m=G=0;0<=S?G<S:G>S;m=0<=S?++G:--G)$.push(t.readUInt16());return $}(),p=function(){var G,$;for($=[],m=G=0;0<=S?G<S:G>S;m=0<=S?++G:--G)$.push(t.readUInt16());return $}(),x=function(){var G,$;for($=[],m=G=0;0<=S?G<S:G>S;m=0<=S?++G:--G)$.push(t.readUInt16());return $}(),a=(this.length-t.pos+this.offset)/2,f=function(){var G,$;for($=[],m=G=0;0<=a?G<a:G>a;m=0<=a?++G:--G)$.push(t.readUInt16());return $}(),m=D=0,z=i.length;D<z;m=++D)for(T=i[m],n=R=j=_[m];j<=T?R<=T:R>=T;n=j<=T?++R:--R)x[m]===0?c=n+p[m]:(c=f[x[m]/2+(n-j)-(S-m)]||0)!==0&&(c+=p[m]),this.codeMap[n]=65535&c}t.pos=y}return e.encode=function(t,r){var n,a,i,c,f,m,p,x,y,S,N,j,_,T,D,R,z,G,$,X,V,Y,W,Ne,Z,Q,ye,ie,q,te,se,ue,ee,Se,le,U,H,ae,ge,ve,de,ke,me,xe,Oe,oe;switch(ie=new Nd,c=Object.keys(t).sort(function(Le,Ge){return Le-Ge}),r){case"macroman":for(_=0,T=function(){var Le=[];for(j=0;j<256;++j)Le.push(0);return Le}(),R={0:0},i={},q=0,ee=c.length;q<ee;q++)R[me=t[a=c[q]]]==null&&(R[me]=++_),i[a]={old:t[a],new:R[t[a]]},T[a]=R[t[a]];return ie.writeUInt16(1),ie.writeUInt16(0),ie.writeUInt32(12),ie.writeUInt16(0),ie.writeUInt16(262),ie.writeUInt16(0),ie.write(T),{charMap:i,subtable:ie.data,maxGlyphID:_+1};case"unicode":for(Q=[],y=[],z=0,R={},n={},D=p=null,te=0,Se=c.length;te<Se;te++)R[$=t[a=c[te]]]==null&&(R[$]=++z),n[a]={old:$,new:R[$]},f=R[$]-a,D!=null&&f===p||(D&&y.push(D),Q.push(a),p=f),D=a;for(D&&y.push(D),y.push(65535),Q.push(65535),Ne=2*(W=Q.length),Y=2*Math.pow(Math.log(W)/Math.LN2,2),S=Math.log(Y/2)/Math.LN2,V=2*W-Y,m=[],X=[],N=[],j=se=0,le=Q.length;se<le;j=++se){if(Z=Q[j],x=y[j],Z===65535){m.push(0),X.push(0);break}if(Z-(ye=n[Z].new)>=32768)for(m.push(0),X.push(2*(N.length+W-j)),a=ue=Z;Z<=x?ue<=x:ue>=x;a=Z<=x?++ue:--ue)N.push(n[a].new);else m.push(ye-Z),X.push(0)}for(ie.writeUInt16(3),ie.writeUInt16(1),ie.writeUInt32(12),ie.writeUInt16(4),ie.writeUInt16(16+8*W+2*N.length),ie.writeUInt16(0),ie.writeUInt16(Ne),ie.writeUInt16(Y),ie.writeUInt16(S),ie.writeUInt16(V),de=0,U=y.length;de<U;de++)a=y[de],ie.writeUInt16(a);for(ie.writeUInt16(0),ke=0,H=Q.length;ke<H;ke++)a=Q[ke],ie.writeUInt16(a);for(xe=0,ae=m.length;xe<ae;xe++)f=m[xe],ie.writeUInt16(f);for(Oe=0,ge=X.length;Oe<ge;Oe++)G=X[Oe],ie.writeUInt16(G);for(oe=0,ve=N.length;oe<ve;oe++)_=N[oe],ie.writeUInt16(_);return{charMap:n,subtable:ie.data,maxGlyphID:z+1}}},e}(),mO=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Jl),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new kS(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=kS.encode(r,n),(i=new Nd).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),yF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Jl),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),bF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Jl),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),wF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Jl),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var c;for(a=r.readUInt16(),this.glyphNameIndex=[],c=0;0<=a?c<a:c>a;c=0<=a?++c:--c)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var f,m,p;for(p=[],c=f=0,m=this.file.maxp.numGlyphs;0<=m?f<m:f>m;c=0<=m?++f:--f)p.push(r.readUInt32());return p}).call(this)}},t}(),AF=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},NF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Jl),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,c,f,m,p,x,y,S,N;for(r.pos=this.offset,r.readShort(),n=r.readShort(),m=r.readShort(),a=[],c=0;0<=n?c<n:c>n;c=0<=n?++c:--c)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+m+r.readShort()});for(p={},c=y=0,S=a.length;y<S;c=++y)i=a[c],r.pos=i.offset,x=r.readString(i.length),f=new AF(x,i),p[N=i.nameID]==null&&(p[N]=[]),p[i.nameID].push(f);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},t}(),SF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Jl),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),EF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Jl),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,c,f,m,p;for(r.pos=this.offset,this.metrics=[],n=0,m=this.file.hhea.numberOfMetrics;0<=m?n<m:n>m;n=0<=m?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var x,y;for(y=[],n=x=0;0<=i?x<i:x>i;n=0<=i?++x:--x)y.push(r.readInt16());return y}(),this.widths=(function(){var x,y,S,N;for(N=[],x=0,y=(S=this.metrics).length;x<y;x++)c=S[x],N.push(c.advance);return N}).call(this),a=this.widths[this.widths.length-1],p=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)p.push(this.widths.push(a));return p},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),gO=[].slice,CF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Jl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,c,f,m,p,x,y,S;return r in this.cache?this.cache[r]:(c=this.file.loca,n=this.file.contents,a=c.indexOf(r),(i=c.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,f=(m=new Nd(n.read(i))).readShort(),x=m.readShort(),S=m.readShort(),p=m.readShort(),y=m.readShort(),this.cache[r]=f===-1?new jF(m,x,S,p,y):new _F(m,f,x,S,p,y),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,c,f,m,p;for(f=[],c=[],m=0,p=n.length;m<p;m++)i=r[n[m]],c.push(f.length),i&&(f=f.concat(i.encode(a)));return c.push(f.length),{table:f,offsets:c}},t}(),_F=function(){function e(t,r,n,a,i,c){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=c,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),jF=function(){function e(t,r,n,a,i){var c,f;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;f=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&f;)c.pos+=1&f?4:2,128&f?c.pos+=8:64&f?c.pos+=4:8&f&&(c.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Nd(gO.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),OF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Jl),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,c;for(c=[],a=0,i=this.length;a<i;a+=2)c.push(2*r.readUInt16());return c}).call(this):(function(){var i,c;for(c=[],a=0,i=this.length;a<i;a+=4)c.push(r.readUInt32());return c}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,c=0,f=0;f<a.length;++f)if(a[f]=i,c<n.length&&n[c]==f){++c,a[f]=i;var m=this.offsets[f],p=this.offsets[f+1]-m;p>0&&(i+=p)}for(var x=new Array(4*a.length),y=0;y<a.length;++y)x[4*y+3]=255&a[y],x[4*y+2]=(65280&a[y])>>8,x[4*y+1]=(16711680&a[y])>>16,x[4*y]=(4278190080&a[y])>>24;return x},t}(),TF=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,c,f,m;for(a={},c=0,f=t.length;c<f;c++)a[i=t[c]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in m=this.glyphsFor(r))n=m[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,c,f,m,p,x,y,S,N,j,_,T,D;for(a in n=mO.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),N={0:0},D=n.charMap)N[(m=D[a]).old]=m.new;for(j in S=n.maxGlyphID,c)j in N||(N[j]=S++);return x=function(R){var z,G;for(z in G={},R)G[R[z]]=z;return G}(N),y=Object.keys(x).sort(function(R,z){return R-z}),_=function(){var R,z,G;for(G=[],R=0,z=y.length;R<z;R++)f=y[R],G.push(x[f]);return G}(),i=this.font.glyf.encode(c,_,N),p=this.font.loca.encode(i.offsets,_),T={cmap:this.font.cmap.raw(),glyf:i.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},e}();wr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,c;if(Array.isArray(r))return"["+function(){var f,m,p;for(p=[],f=0,m=r.length;f<m;f++)n=r[f],p.push(t.convert(n));return p}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)c=r[a],i.push("/"+a+" "+t.convert(c));return i.push(">>"),i.join(`
`)}return""+r},t}();function xO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=xO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Wn(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=xO(e))&&(n&&(n+=" "),n+=t);return n}var kF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function rw(e){if(typeof e!="string")return!1;var t=kF;return t.includes(e)}var IF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],MF=new Set(IF);function vO(e){return typeof e!="string"?!1:MF.has(e)}function yO(e){return typeof e=="string"&&e.startsWith("data-")}function Io(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(vO(r)||yO(r))&&(t[r]=e[r]);return t}function mf(e){if(e==null)return null;if(I.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Io(t)}return typeof e=="object"&&!Array.isArray(e)?Io(e):null}function so(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(vO(r)||yO(r)||rw(r))&&(t[r]=e[r]);return t}function DF(e){return e==null?null:I.isValidElement(e)?so(e.props):typeof e=="object"&&!Array.isArray(e)?so(e):null}var LF=["children","width","height","viewBox","className","style","title","desc"];function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kb.apply(null,arguments)}function PF(e,t){if(e==null)return{};var r,n,a=RF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bO=I.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:c,style:f,title:m,desc:p}=e,x=PF(e,LF),y=i||{width:n,height:a,x:0,y:0},S=Wn("recharts-surface",c);return I.createElement("svg",kb({},so(x),{className:S,width:n,height:a,style:f,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height),ref:t}),I.createElement("title",null,m),I.createElement("desc",null,p),r)}),BF=["children","className"];function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ib.apply(null,arguments)}function FF(e,t){if(e==null)return{};var r,n,a=zF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yi=I.forwardRef((e,t)=>{var{children:r,className:n}=e,a=FF(e,BF),i=Wn("recharts-layer",n);return I.createElement("g",Ib({className:i},so(a),{ref:t}),r)}),UF=I.createContext(null);function Ea(e){return function(){return e}}const wO=Math.cos,Bm=Math.sin,ec=Math.sqrt,Fm=Math.PI,Gg=2*Fm,Mb=Math.PI,Db=2*Mb,Xd=1e-6,qF=Db-Xd;function AO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function HF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return AO;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class VF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?AO:HF(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,c){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+c}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let c=this._x1,f=this._y1,m=n-t,p=a-r,x=c-t,y=f-r,S=x*x+y*y;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(S>Xd)if(!(Math.abs(y*m-p*x)>Xd)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let N=n-c,j=a-f,_=m*m+p*p,T=N*N+j*j,D=Math.sqrt(_),R=Math.sqrt(S),z=i*Math.tan((Mb-Math.acos((_+S-T)/(2*D*R)))/2),G=z/R,$=z/D;Math.abs(G-1)>Xd&&this._append`L${t+G*x},${r+G*y}`,this._append`A${i},${i},0,0,${+(y*N>x*j)},${this._x1=t+$*m},${this._y1=r+$*p}`}}arc(t,r,n,a,i,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let f=n*Math.cos(a),m=n*Math.sin(a),p=t+f,x=r+m,y=1^c,S=c?a-i:i-a;this._x1===null?this._append`M${p},${x}`:(Math.abs(this._x1-p)>Xd||Math.abs(this._y1-x)>Xd)&&this._append`L${p},${x}`,n&&(S<0&&(S=S%Db+Db),S>qF?this._append`A${n},${n},0,1,${y},${t-f},${r-m}A${n},${n},0,1,${y},${this._x1=p},${this._y1=x}`:S>Xd&&this._append`A${n},${n},0,${+(S>=Mb)},${y},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function nw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new VF(t)}function aw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function NO(e){this._context=e}NO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Yg(e){return new NO(e)}function SO(e){return e[0]}function EO(e){return e[1]}function CO(e,t){var r=Ea(!0),n=null,a=Yg,i=null,c=nw(f);e=typeof e=="function"?e:e===void 0?SO:Ea(e),t=typeof t=="function"?t:t===void 0?EO:Ea(t);function f(m){var p,x=(m=aw(m)).length,y,S=!1,N;for(n==null&&(i=a(N=c())),p=0;p<=x;++p)!(p<x&&r(y=m[p],p,m))===S&&((S=!S)?i.lineStart():i.lineEnd()),S&&i.point(+e(y,p,m),+t(y,p,m));if(N)return i=null,N+""||null}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:Ea(+m),f):e},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:Ea(+m),f):t},f.defined=function(m){return arguments.length?(r=typeof m=="function"?m:Ea(!!m),f):r},f.curve=function(m){return arguments.length?(a=m,n!=null&&(i=a(n)),f):a},f.context=function(m){return arguments.length?(m==null?n=i=null:i=a(n=m),f):n},f}function Wp(e,t,r){var n=null,a=Ea(!0),i=null,c=Yg,f=null,m=nw(p);e=typeof e=="function"?e:e===void 0?SO:Ea(+e),t=typeof t=="function"?t:Ea(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?EO:Ea(+r);function p(y){var S,N,j,_=(y=aw(y)).length,T,D=!1,R,z=new Array(_),G=new Array(_);for(i==null&&(f=c(R=m())),S=0;S<=_;++S){if(!(S<_&&a(T=y[S],S,y))===D)if(D=!D)N=S,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),j=S-1;j>=N;--j)f.point(z[j],G[j]);f.lineEnd(),f.areaEnd()}D&&(z[S]=+e(T,S,y),G[S]=+t(T,S,y),f.point(n?+n(T,S,y):z[S],r?+r(T,S,y):G[S]))}if(R)return f=null,R+""||null}function x(){return CO().defined(a).curve(c).context(i)}return p.x=function(y){return arguments.length?(e=typeof y=="function"?y:Ea(+y),n=null,p):e},p.x0=function(y){return arguments.length?(e=typeof y=="function"?y:Ea(+y),p):e},p.x1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:Ea(+y),p):n},p.y=function(y){return arguments.length?(t=typeof y=="function"?y:Ea(+y),r=null,p):t},p.y0=function(y){return arguments.length?(t=typeof y=="function"?y:Ea(+y),p):t},p.y1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:Ea(+y),p):r},p.lineX0=p.lineY0=function(){return x().x(e).y(t)},p.lineY1=function(){return x().x(e).y(r)},p.lineX1=function(){return x().x(n).y(t)},p.defined=function(y){return arguments.length?(a=typeof y=="function"?y:Ea(!!y),p):a},p.curve=function(y){return arguments.length?(c=y,i!=null&&(f=c(i)),p):c},p.context=function(y){return arguments.length?(y==null?i=f=null:f=c(i=y),p):i},p}class _O{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function WF(e){return new _O(e,!0)}function GF(e){return new _O(e,!1)}const iw={draw(e,t){const r=ec(t/Fm);e.moveTo(r,0),e.arc(0,0,r,0,Gg)}},YF={draw(e,t){const r=ec(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},jO=ec(1/3),$F=jO*2,XF={draw(e,t){const r=ec(t/$F),n=r*jO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},KF={draw(e,t){const r=ec(t),n=-r/2;e.rect(n,n,r,r)}},ZF=.8908130915292852,OO=Bm(Fm/10)/Bm(7*Fm/10),QF=Bm(Gg/10)*OO,JF=-wO(Gg/10)*OO,ez={draw(e,t){const r=ec(t*ZF),n=QF*r,a=JF*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const c=Gg*i/5,f=wO(c),m=Bm(c);e.lineTo(m*r,-f*r),e.lineTo(f*n-m*a,m*n+f*a)}e.closePath()}},bv=ec(3),tz={draw(e,t){const r=-ec(t/(bv*3));e.moveTo(0,r*2),e.lineTo(-bv*r,-r),e.lineTo(bv*r,-r),e.closePath()}},pl=-.5,ml=ec(3)/2,Lb=1/ec(12),rz=(Lb/2+1)*3,nz={draw(e,t){const r=ec(t/rz),n=r/2,a=r*Lb,i=n,c=r*Lb+r,f=-i,m=c;e.moveTo(n,a),e.lineTo(i,c),e.lineTo(f,m),e.lineTo(pl*n-ml*a,ml*n+pl*a),e.lineTo(pl*i-ml*c,ml*i+pl*c),e.lineTo(pl*f-ml*m,ml*f+pl*m),e.lineTo(pl*n+ml*a,pl*a-ml*n),e.lineTo(pl*i+ml*c,pl*c-ml*i),e.lineTo(pl*f+ml*m,pl*m-ml*f),e.closePath()}};function az(e,t){let r=null,n=nw(a);e=typeof e=="function"?e:Ea(e||iw),t=typeof t=="function"?t:Ea(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ea(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ea(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function zm(){}function Um(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function TO(e){this._context=e}TO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Um(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iz(e){return new TO(e)}function kO(e){this._context=e}kO.prototype={areaStart:zm,areaEnd:zm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sz(e){return new kO(e)}function IO(e){this._context=e}IO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oz(e){return new IO(e)}function MO(e){this._context=e}MO.prototype={areaStart:zm,areaEnd:zm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function lz(e){return new MO(e)}function IS(e){return e<0?-1:1}function MS(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),c=(r-e._y1)/(a||n<0&&-0),f=(i*a+c*n)/(n+a);return(IS(i)+IS(c))*Math.min(Math.abs(i),Math.abs(c),.5*Math.abs(f))||0}function DS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function wv(e,t,r){var n=e._x0,a=e._y0,i=e._x1,c=e._y1,f=(i-n)/3;e._context.bezierCurveTo(n+f,a+f*t,i-f,c-f*r,i,c)}function qm(e){this._context=e}qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wv(this,this._t0,DS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,wv(this,DS(this,r=MS(this,e,t)),r);break;default:wv(this,this._t0,r=MS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function DO(e){this._context=new LO(e)}(DO.prototype=Object.create(qm.prototype)).point=function(e,t){qm.prototype.point.call(this,t,e)};function LO(e){this._context=e}LO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function cz(e){return new qm(e)}function uz(e){return new DO(e)}function PO(e){this._context=e}PO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=LS(e),a=LS(t),i=0,c=1;c<r;++i,++c)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function LS(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),c=new Array(r);for(a[0]=0,i[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,c[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,c[t]-=n*c[t-1];for(a[r-1]=c[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(c[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function dz(e){return new PO(e)}function $g(e,t){this._context=e,this._t=t}$g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function fz(e){return new $g(e,.5)}function hz(e){return new $g(e,0)}function pz(e){return new $g(e,1)}function gf(e,t){if((c=e.length)>1)for(var r=1,n,a,i=e[t[0]],c,f=i.length;r<c;++r)for(a=i,i=e[t[r]],n=0;n<f;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Pb(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function mz(e,t){return e[t]}function gz(e){const t=[];return t.key=e,t}function xz(){var e=Ea([]),t=Pb,r=gf,n=mz;function a(i){var c=Array.from(e.apply(this,arguments),gz),f,m=c.length,p=-1,x;for(const y of i)for(f=0,++p;f<m;++f)(c[f][p]=[0,+n(y,c[f].key,p,i)]).data=y;for(f=0,x=aw(t(c));f<m;++f)c[x[f]].index=f;return r(c,x),c}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ea(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ea(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Pb:typeof i=="function"?i:Ea(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??gf,a):r},a}function vz(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,c;a<i;++a){for(c=r=0;r<n;++r)c+=e[r][a][1]||0;if(c)for(r=0;r<n;++r)e[r][a][1]/=c}gf(e,t)}}function yz(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var c=0,f=0;c<a;++c)f+=e[c][r][1]||0;n[r][1]+=n[r][0]=-f/2}gf(e,t)}}function bz(e,t){if(!(!((c=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,c;n<i;++n){for(var f=0,m=0,p=0;f<c;++f){for(var x=e[t[f]],y=x[n][1]||0,S=x[n-1][1]||0,N=(y-S)/2,j=0;j<f;++j){var _=e[t[j]],T=_[n][1]||0,D=_[n-1][1]||0;N+=T-D}m+=y,p+=N*y}a[n-1][1]+=a[n-1][0]=r,m&&(r-=p/m)}a[n-1][1]+=a[n-1][0]=r,gf(e,t)}}var Av={},Nv={},PS;function wz(){return PS||(PS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t}(Nv)),Nv}var Sv={},RS;function RO(){return RS||(RS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t}(Sv)),Sv}var Ev={},BS;function sw(){return BS||(BS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t}(Ev)),Ev}var Cv={},_v={},FS;function Az(){return FS||(FS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t}(_v)),_v}var zS;function ow(){return zS||(zS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Az(),r=sw();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],c=a.length;if(c===0)return i;let f=0,m="",p="",x=!1;for(a.charCodeAt(0)===46&&(i.push(""),f++);f<c;){const y=a[f];p?y==="\\"&&f+1<c?(f++,m+=a[f]):y===p?p="":m+=y:x?y==='"'||y==="'"?p=y:y==="]"?(x=!1,i.push(m),m=""):m+=y:y==="["?(x=!0,m&&(i.push(m),m="")):y==="."?m&&(i.push(m),m=""):m+=y,f++}return m&&i.push(m),i}e.toPath=n}(Cv)),Cv}var US;function lw(){return US||(US=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wz(),r=RO(),n=sw(),a=ow();function i(f,m,p){if(f==null)return p;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return p;const x=f[m];return x===void 0?r.isDeepKey(m)?i(f,a.toPath(m),p):p:x}case"number":case"symbol":{typeof m=="number"&&(m=n.toKey(m));const x=f[m];return x===void 0?p:x}default:{if(Array.isArray(m))return c(f,m,p);if(Object.is(m==null?void 0:m.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return p;const x=f[m];return x===void 0?p:x}}}function c(f,m,p){if(m.length===0)return p;let x=f;for(let y=0;y<m.length;y++){if(x==null||t.isUnsafeProperty(m[y]))return p;x=x[m[y]]}return x===void 0?p:x}e.get=i}(Av)),Av}var jv,qS;function Nz(){return qS||(qS=1,jv=lw().get),jv}var Sz=Nz();const xf=Mc(Sz);var Ez=4;function md(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ez,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function li(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,c)=>{var f=r[c-1];return typeof f=="string"?a+f+i:f!==void 0?a+md(f)+i:a+i},"")}var hs=e=>e===0?0:e>0?1:-1,yl=e=>typeof e=="number"&&e!=+e,gu=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,nr=e=>(typeof e=="number"||e instanceof Number)&&!yl(e),Tc=e=>nr(e)||typeof e=="string",Cz=0,n1=e=>{var t=++Cz;return"".concat(e||"").concat(t)},Hs=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!nr(t)&&typeof t!="string")return n;var i;if(gu(t)){if(r==null)return n;var c=t.indexOf("%");i=r*parseFloat(t.slice(0,c))/100}else i=+t;return yl(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},BO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Ia(e,t,r){return nr(e)&&nr(t)?md(e+r*(t-e)):t}function FO(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):xf(n,t))===r)}var Za=e=>e===null||typeof e>"u",N1=e=>Za(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function _z(e){return e!=null}function S1(){}var jz=["type","size","sizeType"];function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(null,arguments)}function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){Oz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oz(e,t,r){return(t=Tz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tz(e){var t=kz(e,"string");return typeof t=="symbol"?t:t+""}function kz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iz(e,t){if(e==null)return{};var r,n,a=Mz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zO={symbolCircle:iw,symbolCross:YF,symbolDiamond:XF,symbolSquare:KF,symbolStar:ez,symbolTriangle:tz,symbolWye:nz},Dz=Math.PI/180,Lz=e=>{var t="symbol".concat(N1(e));return zO[t]||iw},Pz=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Dz;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Rz=(e,t)=>{zO["symbol".concat(N1(e))]=t},UO=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=Iz(e,jz),i=VS(VS({},a),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var f=()=>{var S=Lz(c),N=az().type(S).size(Pz(r,n,c)),j=N();if(j!==null)return j},{className:m,cx:p,cy:x}=i,y=so(i);return nr(p)&&nr(x)&&nr(r)?I.createElement("path",Rb({},y,{className:Wn("recharts-symbols",m),transform:"translate(".concat(p,", ").concat(x,")"),d:f()})):null};UO.registerSymbol=Rz;var qO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,cw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(I.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{rw(a)&&(n[a]=i=>r[a](r,i))}),n},Bz=(e,t,r)=>n=>(e(t,r,n),null),Xg=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];rw(a)&&typeof i=="function"&&(n||(n={}),n[a]=Bz(i,t,r))}),n};function WS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WS(Object(r),!0).forEach(function(n){zz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zz(e,t,r){return(t=Uz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uz(e){var t=qz(e,"string");return typeof t=="symbol"?t:t+""}function qz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ps(e,t){var r=Fz({},e),n=t,a=Object.keys(t),i=a.reduce((c,f)=>(c[f]===void 0&&n[f]!==void 0&&(c[f]=n[f]),c),r);return i}var Ov={},Tv={},GS;function Hz(){return GS||(GS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const c=r[i],f=n(c);a.has(f)||a.set(f,c)}return Array.from(a.values())}e.uniqBy=t}(Tv)),Tv}var kv={},YS;function HO(){return YS||(YS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t}(kv)),kv}var Iv={},Mv={},Dv={},$S;function Vz(){return $S||($S=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t}(Dv)),Dv}var XS;function uw(){return XS||(XS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vz();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r}(Mv)),Mv}var Lv={},KS;function Wz(){return KS||(KS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t}(Lv)),Lv}var ZS;function Gz(){return ZS||(ZS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uw(),r=Wz();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n}(Iv)),Iv}var Pv={},Rv={},QS;function Yz(){return QS||(QS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lw();function r(n){return function(a){return t.get(a,n)}}e.property=r}(Rv)),Rv}var Bv={},Fv={},zv={},Uv={},JS;function VO(){return JS||(JS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t}(Uv)),Uv}var qv={},e6;function WO(){return e6||(e6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t}(qv)),qv}var Hv={},t6;function GO(){return t6||(t6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t}(Hv)),Hv}var r6;function $z(){return r6||(r6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VO(),r=WO(),n=GO();function a(x,y,S){return typeof S!="function"?a(x,y,()=>{}):i(x,y,function N(j,_,T,D,R,z){const G=S(j,_,T,D,R,z);return G!==void 0?!!G:i(j,_,N,z)},new Map)}function i(x,y,S,N){if(y===x)return!0;switch(typeof y){case"object":return c(x,y,S,N);case"function":return Object.keys(y).length>0?i(x,{...y},S,N):n.eq(x,y);default:return t.isObject(x)?typeof y=="string"?y==="":!0:n.eq(x,y)}}function c(x,y,S,N){if(y==null)return!0;if(Array.isArray(y))return m(x,y,S,N);if(y instanceof Map)return f(x,y,S,N);if(y instanceof Set)return p(x,y,S,N);const j=Object.keys(y);if(x==null||r.isPrimitive(x))return j.length===0;if(j.length===0)return!0;if(N!=null&&N.has(y))return N.get(y)===x;N==null||N.set(y,x);try{for(let _=0;_<j.length;_++){const T=j[_];if(!r.isPrimitive(x)&&!(T in x)||y[T]===void 0&&x[T]!==void 0||y[T]===null&&x[T]!==null||!S(x[T],y[T],T,x,y,N))return!1}return!0}finally{N==null||N.delete(y)}}function f(x,y,S,N){if(y.size===0)return!0;if(!(x instanceof Map))return!1;for(const[j,_]of y.entries()){const T=x.get(j);if(S(T,_,j,x,y,N)===!1)return!1}return!0}function m(x,y,S,N){if(y.length===0)return!0;if(!Array.isArray(x))return!1;const j=new Set;for(let _=0;_<y.length;_++){const T=y[_];let D=!1;for(let R=0;R<x.length;R++){if(j.has(R))continue;const z=x[R];let G=!1;if(S(z,T,_,x,y,N)&&(G=!0),G){j.add(R),D=!0;break}}if(!D)return!1}return!0}function p(x,y,S,N){return y.size===0?!0:x instanceof Set?m([...x],[...y],S,N):!1}e.isMatchWith=a,e.isSetMatch=p}(zv)),zv}var n6;function YO(){return n6||(n6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$z();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(Fv)),Fv}var Vv={},Wv={},Gv={},a6;function Xz(){return a6||(a6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t}(Gv)),Gv}var Yv={},i6;function $O(){return i6||(i6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t}(Yv)),Yv}var $v={},s6;function XO(){return s6||(s6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",c="[object Symbol]",f="[object Date]",m="[object Map]",p="[object Set]",x="[object Array]",y="[object Function]",S="[object ArrayBuffer]",N="[object Object]",j="[object Error]",_="[object DataView]",T="[object Uint8Array]",D="[object Uint8ClampedArray]",R="[object Uint16Array]",z="[object Uint32Array]",G="[object BigUint64Array]",$="[object Int8Array]",X="[object Int16Array]",V="[object Int32Array]",Y="[object BigInt64Array]",W="[object Float32Array]",Ne="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=S,e.arrayTag=x,e.bigInt64ArrayTag=Y,e.bigUint64ArrayTag=G,e.booleanTag=a,e.dataViewTag=_,e.dateTag=f,e.errorTag=j,e.float32ArrayTag=W,e.float64ArrayTag=Ne,e.functionTag=y,e.int16ArrayTag=X,e.int32ArrayTag=V,e.int8ArrayTag=$,e.mapTag=m,e.numberTag=n,e.objectTag=N,e.regexpTag=t,e.setTag=p,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=R,e.uint32ArrayTag=z,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=D}($v)),$v}var Xv={},o6;function Kz(){return o6||(o6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t}(Xv)),Xv}var l6;function KO(){return l6||(l6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xz(),r=$O(),n=XO(),a=WO(),i=Kz();function c(x,y){return f(x,void 0,x,new Map,y)}function f(x,y,S,N=new Map,j=void 0){const _=j==null?void 0:j(x,y,S,N);if(_!==void 0)return _;if(a.isPrimitive(x))return x;if(N.has(x))return N.get(x);if(Array.isArray(x)){const T=new Array(x.length);N.set(x,T);for(let D=0;D<x.length;D++)T[D]=f(x[D],D,S,N,j);return Object.hasOwn(x,"index")&&(T.index=x.index),Object.hasOwn(x,"input")&&(T.input=x.input),T}if(x instanceof Date)return new Date(x.getTime());if(x instanceof RegExp){const T=new RegExp(x.source,x.flags);return T.lastIndex=x.lastIndex,T}if(x instanceof Map){const T=new Map;N.set(x,T);for(const[D,R]of x)T.set(D,f(R,D,S,N,j));return T}if(x instanceof Set){const T=new Set;N.set(x,T);for(const D of x)T.add(f(D,void 0,S,N,j));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(x))return x.subarray();if(i.isTypedArray(x)){const T=new(Object.getPrototypeOf(x)).constructor(x.length);N.set(x,T);for(let D=0;D<x.length;D++)T[D]=f(x[D],D,S,N,j);return T}if(x instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&x instanceof SharedArrayBuffer)return x.slice(0);if(x instanceof DataView){const T=new DataView(x.buffer.slice(0),x.byteOffset,x.byteLength);return N.set(x,T),m(T,x,S,N,j),T}if(typeof File<"u"&&x instanceof File){const T=new File([x],x.name,{type:x.type});return N.set(x,T),m(T,x,S,N,j),T}if(typeof Blob<"u"&&x instanceof Blob){const T=new Blob([x],{type:x.type});return N.set(x,T),m(T,x,S,N,j),T}if(x instanceof Error){const T=new x.constructor;return N.set(x,T),T.message=x.message,T.name=x.name,T.stack=x.stack,T.cause=x.cause,m(T,x,S,N,j),T}if(x instanceof Boolean){const T=new Boolean(x.valueOf());return N.set(x,T),m(T,x,S,N,j),T}if(x instanceof Number){const T=new Number(x.valueOf());return N.set(x,T),m(T,x,S,N,j),T}if(x instanceof String){const T=new String(x.valueOf());return N.set(x,T),m(T,x,S,N,j),T}if(typeof x=="object"&&p(x)){const T=Object.create(Object.getPrototypeOf(x));return N.set(x,T),m(T,x,S,N,j),T}return x}function m(x,y,S=x,N,j){const _=[...Object.keys(y),...t.getSymbols(y)];for(let T=0;T<_.length;T++){const D=_[T],R=Object.getOwnPropertyDescriptor(x,D);(R==null||R.writable)&&(x[D]=f(y[D],D,S,N,j))}}function p(x){switch(r.getTag(x)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=f,e.copyProperties=m}(Wv)),Wv}var c6;function Zz(){return c6||(c6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KO();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r}(Vv)),Vv}var u6;function Qz(){return u6||(u6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YO(),r=Zz();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n}(Bv)),Bv}var Kv={},Zv={},Qv={},d6;function Jz(){return d6||(d6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KO(),r=XO();function n(a,i){return t.cloneDeepWith(a,(c,f,m,p)=>{const x=i==null?void 0:i(c,f,m,p);if(x!==void 0)return x;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const y=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(y,a),y}case r.argumentsTag:{const y={};return t.copyProperties(y,a),y.length=a.length,y[Symbol.iterator]=a[Symbol.iterator],y}default:return}})}e.cloneDeepWith=n}(Qv)),Qv}var f6;function eU(){return f6||(f6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jz();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r}(Zv)),Zv}var Jv={},ey={},h6;function ZO(){return h6||(h6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r}(ey)),ey}var ty={},p6;function tU(){return p6||(p6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$O();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r}(ty)),ty}var m6;function rU(){return m6||(m6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RO(),r=ZO(),n=tU(),a=ow();function i(c,f){let m;if(Array.isArray(f)?m=f:typeof f=="string"&&t.isDeepKey(f)&&(c==null?void 0:c[f])==null?m=a.toPath(f):m=[f],m.length===0)return!1;let p=c;for(let x=0;x<m.length;x++){const y=m[x];if((p==null||!Object.hasOwn(p,y))&&!((Array.isArray(p)||n.isArguments(p))&&r.isIndex(y)&&y<p.length))return!1;p=p[y]}return!0}e.has=i}(Jv)),Jv}var g6;function nU(){return g6||(g6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YO(),r=sw(),n=eU(),a=lw(),i=rU();function c(f,m){switch(typeof f){case"object":{Object.is(f==null?void 0:f.valueOf(),-0)&&(f="-0");break}case"number":{f=r.toKey(f);break}}return m=n.cloneDeep(m),function(p){const x=a.get(p,f);return x===void 0?i.has(p,f):m===void 0?x===void 0:t.isMatch(x,m)}}e.matchesProperty=c}(Kv)),Kv}var x6;function aU(){return x6||(x6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HO(),r=Yz(),n=Qz(),a=nU();function i(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=i}(Pv)),Pv}var v6;function iU(){return v6||(v6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hz(),r=HO(),n=Gz(),a=aU();function i(c,f=r.identity){return n.isArrayLikeObject(c)?t.uniqBy(Array.from(c),a.iteratee(f)):[]}e.uniqBy=i}(Ov)),Ov}var ry,y6;function sU(){return y6||(y6=1,ry=iU().uniqBy),ry}var oU=sU();const b6=Mc(oU);function lU(e,t,r){return t===!0?b6(e,r):typeof t=="function"?b6(e,t):e}var ny={exports:{}},ay={},iy={exports:{}},sy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w6;function cU(){if(w6)return sy;w6=1;var e=Nf();function t(y,S){return y===S&&(y!==0||1/y===1/S)||y!==y&&S!==S}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,c=e.useDebugValue;function f(y,S){var N=S(),j=n({inst:{value:N,getSnapshot:S}}),_=j[0].inst,T=j[1];return i(function(){_.value=N,_.getSnapshot=S,m(_)&&T({inst:_})},[y,N,S]),a(function(){return m(_)&&T({inst:_}),y(function(){m(_)&&T({inst:_})})},[y]),c(N),N}function m(y){var S=y.getSnapshot;y=y.value;try{var N=S();return!r(y,N)}catch{return!0}}function p(y,S){return S()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return sy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:x,sy}var A6;function uU(){return A6||(A6=1,iy.exports=cU()),iy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N6;function dU(){if(N6)return ay;N6=1;var e=Nf(),t=uU();function r(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,c=e.useEffect,f=e.useMemo,m=e.useDebugValue;return ay.useSyncExternalStoreWithSelector=function(p,x,y,S,N){var j=i(null);if(j.current===null){var _={hasValue:!1,value:null};j.current=_}else _=j.current;j=f(function(){function D(X){if(!R){if(R=!0,z=X,X=S(X),N!==void 0&&_.hasValue){var V=_.value;if(N(V,X))return G=V}return G=X}if(V=G,n(z,X))return V;var Y=S(X);return N!==void 0&&N(V,Y)?(z=X,V):(z=X,G=Y)}var R=!1,z,G,$=y===void 0?null:y;return[function(){return D(x())},$===null?void 0:function(){return D($())}]},[x,y,S,N]);var T=a(p,j[0],j[1]);return c(function(){_.hasValue=!0,_.value=T},[T]),m(T),T},ay}var S6;function fU(){return S6||(S6=1,ny.exports=dU()),ny.exports}var hU=fU(),dw=I.createContext(null),pU=e=>e,Ga=()=>{var e=I.useContext(dw);return e?e.store.dispatch:pU},Nm=()=>{},mU=()=>Nm,gU=(e,t)=>e===t;function gr(e){var t=I.useContext(dw);return hU.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:mU,t?t.store.getState:Nm,t?t.store.getState:Nm,t?e:Nm,gU)}function xU(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function vU(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function yU(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var E6=e=>Array.isArray(e)?e:[e];function bU(e){const t=Array.isArray(e[0])?e[0]:e;return yU(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function wU(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var AU=class{constructor(e){this.value=e}deref(){return this.value}},NU=typeof WeakRef<"u"?WeakRef:AU,SU=0,C6=1;function Gp(){return{s:SU,v:void 0,o:null,p:null}}function QO(e,t={}){let r=Gp();const{resultEqualityCheck:n}=t;let a,i=0;function c(){var y;let f=r;const{length:m}=arguments;for(let S=0,N=m;S<N;S++){const j=arguments[S];if(typeof j=="function"||typeof j=="object"&&j!==null){let _=f.o;_===null&&(f.o=_=new WeakMap);const T=_.get(j);T===void 0?(f=Gp(),_.set(j,f)):f=T}else{let _=f.p;_===null&&(f.p=_=new Map);const T=_.get(j);T===void 0?(f=Gp(),_.set(j,f)):f=T}}const p=f;let x;if(f.s===C6)x=f.v;else if(x=e.apply(null,arguments),i++,n){const S=((y=a==null?void 0:a.deref)==null?void 0:y.call(a))??a;S!=null&&n(S,x)&&(x=S,i!==0&&i--),a=typeof x=="object"&&x!==null||typeof x=="function"?new NU(x):x}return p.s=C6,p.v=x,x}return c.clearCache=()=>{r=Gp(),c.resetResultsCount()},c.resultsCount=()=>i,c.resetResultsCount=()=>{i=0},c}function EU(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,c=0,f,m={},p=a.pop();typeof p=="object"&&(m=p,p=a.pop()),xU(p,`createSelector expects an output function after the inputs, but received: [${typeof p}]`);const x={...r,...m},{memoize:y,memoizeOptions:S=[],argsMemoize:N=QO,argsMemoizeOptions:j=[]}=x,_=E6(S),T=E6(j),D=bU(a),R=y(function(){return i++,p.apply(null,arguments)},..._),z=N(function(){c++;const $=wU(D,arguments);return f=R.apply(null,$),f},...T);return Object.assign(z,{resultFunc:p,memoizedResultFunc:R,dependencies:D,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>f,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:y,argsMemoize:N})};return Object.assign(n,{withTypes:()=>n}),n}var ct=EU(QO),CU=Object.assign((e,t=ct)=>{vU(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((c,f,m)=>(c[r[m]]=f,c),{}))},{withTypes:()=>CU}),oy={},ly={},cy={},_6;function _U(){return _6||(_6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const c=t(n),f=t(a);if(c===f&&c===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?f-c:c-f}return 0};e.compareValues=r}(cy)),cy}var uy={},dy={},j6;function JO(){return j6||(j6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t}(dy)),dy}var O6;function jU(){return O6||(O6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JO(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,c){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||c!=null&&Object.hasOwn(c,i)}e.isKey=a}(uy)),uy}var T6;function OU(){return T6||(T6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_U(),r=jU(),n=ow();function a(i,c,f,m){if(i==null)return[];f=m?void 0:f,Array.isArray(i)||(i=Object.values(i)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(f)||(f=f==null?[]:[f]),f=f.map(N=>String(N));const p=(N,j)=>{let _=N;for(let T=0;T<j.length&&_!=null;++T)_=_[j[T]];return _},x=(N,j)=>j==null||N==null?j:typeof N=="object"&&"key"in N?Object.hasOwn(j,N.key)?j[N.key]:p(j,N.path):typeof N=="function"?N(j):Array.isArray(N)?p(j,N):typeof j=="object"?j[N]:j,y=c.map(N=>(Array.isArray(N)&&N.length===1&&(N=N[0]),N==null||typeof N=="function"||Array.isArray(N)||r.isKey(N)?N:{key:N,path:n.toPath(N)}));return i.map(N=>({original:N,criteria:y.map(j=>x(j,N))})).slice().sort((N,j)=>{for(let _=0;_<y.length;_++){const T=t.compareValues(N.criteria[_],j.criteria[_],f[_]);if(T!==0)return T}return 0}).map(N=>N.original)}e.orderBy=a}(ly)),ly}var fy={},k6;function TU(){return k6||(k6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),c=(f,m)=>{for(let p=0;p<f.length;p++){const x=f[p];Array.isArray(x)&&m<i?c(x,m+1):a.push(x)}};return c(r,0),a}e.flatten=t}(fy)),fy}var hy={},I6;function e7(){return I6||(I6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZO(),r=uw(),n=VO(),a=GO();function i(c,f,m){return n.isObject(m)&&(typeof f=="number"&&r.isArrayLike(m)&&t.isIndex(f)&&f<m.length||typeof f=="string"&&f in m)?a.eq(m[f],c):!1}e.isIterateeCall=i}(hy)),hy}var M6;function kU(){return M6||(M6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OU(),r=TU(),n=e7();function a(i,...c){const f=c.length;return f>1&&n.isIterateeCall(i,c[0],c[1])?c=[]:f>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(i,r.flatten(c),["asc"])}e.sortBy=a}(oy)),oy}var py,D6;function IU(){return D6||(D6=1,py=kU().sortBy),py}var MU=IU();const Kg=Mc(MU);var t7=e=>e.legend.settings,DU=e=>e.legend.size,LU=e=>e.legend.payload;ct([LU,t7],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Kg(n,r):n});var Yp=1;function PU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=I.useState({height:0,left:0,top:0,width:0}),n=I.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),c={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(c.height-t.height)>Yp||Math.abs(c.left-t.left)>Yp||Math.abs(c.top-t.top)>Yp||Math.abs(c.width-t.width)>Yp)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Ss(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var RU=typeof Symbol=="function"&&Symbol.observable||"@@observable",L6=RU,my=()=>Math.random().toString(36).substring(7).split("").join("."),BU={INIT:`@@redux/INIT${my()}`,REPLACE:`@@redux/REPLACE${my()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${my()}`},Hm=BU;function fw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function r7(e,t,r){if(typeof e!="function")throw new Error(Ss(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ss(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ss(1));return r(r7)(e,t)}let n=e,a=t,i=new Map,c=i,f=0,m=!1;function p(){c===i&&(c=new Map,i.forEach((T,D)=>{c.set(D,T)}))}function x(){if(m)throw new Error(Ss(3));return a}function y(T){if(typeof T!="function")throw new Error(Ss(4));if(m)throw new Error(Ss(5));let D=!0;p();const R=f++;return c.set(R,T),function(){if(D){if(m)throw new Error(Ss(6));D=!1,p(),c.delete(R),i=null}}}function S(T){if(!fw(T))throw new Error(Ss(7));if(typeof T.type>"u")throw new Error(Ss(8));if(typeof T.type!="string")throw new Error(Ss(17));if(m)throw new Error(Ss(9));try{m=!0,a=n(a,T)}finally{m=!1}return(i=c).forEach(R=>{R()}),T}function N(T){if(typeof T!="function")throw new Error(Ss(10));n=T,S({type:Hm.REPLACE})}function j(){const T=y;return{subscribe(D){if(typeof D!="object"||D===null)throw new Error(Ss(11));function R(){const G=D;G.next&&G.next(x())}return R(),{unsubscribe:T(R)}},[L6](){return this}}}return S({type:Hm.INIT}),{dispatch:S,subscribe:y,getState:x,replaceReducer:N,[L6]:j}}function FU(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Hm.INIT})>"u")throw new Error(Ss(12));if(typeof r(void 0,{type:Hm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ss(13))})}function n7(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const c=t[i];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let a;try{FU(r)}catch(i){a=i}return function(c={},f){if(a)throw a;let m=!1;const p={};for(let x=0;x<n.length;x++){const y=n[x],S=r[y],N=c[y],j=S(N,f);if(typeof j>"u")throw f&&f.type,new Error(Ss(14));p[y]=j,m=m||j!==N}return m=m||n.length!==Object.keys(c).length,m?p:c}}function Vm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function zU(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Ss(15))};const c={getState:a.getState,dispatch:(m,...p)=>i(m,...p)},f=e.map(m=>m(c));return i=Vm(...f)(a.dispatch),{...a,dispatch:i}}}function a7(e){return fw(e)&&"type"in e&&typeof e.type=="string"}var i7=Symbol.for("immer-nothing"),P6=Symbol.for("immer-draftable"),oo=Symbol.for("immer-state");function Hl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Zo=Object,Ch=Zo.getPrototypeOf,Wm="constructor",Zg="prototype",Bb="configurable",Gm="enumerable",Sm="writable",a1="value",xu=e=>!!e&&!!e[oo];function $l(e){var t;return e?s7(e)||Qg(e)||!!e[P6]||!!((t=e[Wm])!=null&&t[P6])||Jg(e)||ex(e):!1}var UU=Zo[Zg][Wm].toString(),R6=new WeakMap;function s7(e){if(!e||!hw(e))return!1;const t=Ch(e);if(t===null||t===Zo[Zg])return!0;const r=Zo.hasOwnProperty.call(t,Wm)&&t[Wm];if(r===Object)return!0;if(!fh(r))return!1;let n=R6.get(r);return n===void 0&&(n=Function.toString.call(r),R6.set(r,n)),n===UU}function E1(e,t,r=!0){C1(e)===0?(r?Reflect.ownKeys(e):Zo.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function C1(e){const t=e[oo];return t?t.type_:Qg(e)?1:Jg(e)?2:ex(e)?3:0}var B6=(e,t,r=C1(e))=>r===2?e.has(t):Zo[Zg].hasOwnProperty.call(e,t),Fb=(e,t,r=C1(e))=>r===2?e.get(t):e[t],Ym=(e,t,r,n=C1(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function qU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Qg=Array.isArray,Jg=e=>e instanceof Map,ex=e=>e instanceof Set,hw=e=>typeof e=="object",fh=e=>typeof e=="function",gy=e=>typeof e=="boolean",lu=e=>e.copy_||e.base_,pw=e=>e.modified_?e.copy_:e.base_;function zb(e,t){if(Jg(e))return new Map(e);if(ex(e))return new Set(e);if(Qg(e))return Array[Zg].slice.call(e);const r=s7(e);if(t===!0||t==="class_only"&&!r){const n=Zo.getOwnPropertyDescriptors(e);delete n[oo];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const c=a[i],f=n[c];f[Sm]===!1&&(f[Sm]=!0,f[Bb]=!0),(f.get||f.set)&&(n[c]={[Bb]:!0,[Sm]:!0,[Gm]:f[Gm],[a1]:e[c]})}return Zo.create(Ch(e),n)}else{const n=Ch(e);if(n!==null&&r)return{...e};const a=Zo.create(n);return Zo.assign(a,e)}}function mw(e,t=!1){return tx(e)||xu(e)||!$l(e)||(C1(e)>1&&Zo.defineProperties(e,{set:$p,add:$p,clear:$p,delete:$p}),Zo.freeze(e),t&&E1(e,(r,n)=>{mw(n,!0)},!1)),e}function HU(){Hl(2)}var $p={[a1]:HU};function tx(e){return e===null||!hw(e)?!0:Zo.isFrozen(e)}var $m="MapSet",Ub="Patches",o7={};function _h(e){const t=o7[e];return t||Hl(0,e),t}var VU=e=>!!o7[e],i1,l7=()=>i1,WU=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:VU($m)?_h($m):void 0});function F6(e,t){t&&(e.patchPlugin_=_h(Ub),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function qb(e){Hb(e),e.drafts_.forEach(GU),e.drafts_=null}function Hb(e){e===i1&&(i1=e.parent_)}var z6=e=>i1=WU(i1,e);function GU(e){const t=e[oo];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function U6(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[oo].modified_&&(qb(t),Hl(4)),$l(e)&&(e=q6(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[oo].base_,e,t)}else e=q6(t,r);return YU(t,e,!0),qb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==i7?e:void 0}function q6(e,t){if(tx(t))return t;const r=t[oo];if(!r)return gw(t,e.handledSet_,e);if(!rx(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);d7(r,e)}return r.copy_}function YU(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&mw(t,r)}function c7(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var rx=(e,t)=>e.scope_===t,$U=[];function u7(e,t,r,n){const a=lu(e),i=e.type_;if(n!==void 0&&Fb(a,n,i)===t){Ym(a,n,r,i);return}if(!e.draftLocations_){const f=e.draftLocations_=new Map;E1(a,(m,p)=>{if(xu(p)){const x=f.get(p)||[];x.push(m),f.set(p,x)}})}const c=e.draftLocations_.get(t)??$U;for(const f of c)Ym(a,f,r,i)}function XU(e,t,r){e.callbacks_.push(function(a){var f;const i=t;if(!i||!rx(i,a))return;(f=a.mapSetPlugin_)==null||f.fixSetContents(i);const c=pw(i);u7(e,i.draft_??i,c,r),d7(i,a)})}function d7(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}c7(e)}}function KU(e,t,r){const{scope_:n}=e;if(xu(r)){const a=r[oo];rx(a,n)&&a.callbacks_.push(function(){Em(e);const c=pw(a);u7(e,r,c,t)})}else $l(r)&&e.callbacks_.push(function(){const i=lu(e);Fb(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&gw(Fb(e.copy_,t,e.type_),n.handledSet_,n)})}function gw(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||xu(e)||t.has(e)||!$l(e)||tx(e)||(t.add(e),E1(e,(n,a)=>{if(xu(a)){const i=a[oo];if(rx(i,r)){const c=pw(i);Ym(e,n,c,e.type_),c7(i)}}else $l(a)&&gw(a,t,r)})),e}function ZU(e,t){const r=Qg(e),n={type_:r?1:0,scope_:t?t.scope_:l7(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=xw;r&&(a=[n],i=s1);const{revoke:c,proxy:f}=Proxy.revocable(a,i);return n.draft_=f,n.revoke_=c,[f,n]}var xw={get(e,t){if(t===oo)return e;const r=lu(e);if(!B6(r,t,e.type_))return QU(e,r,t);const n=r[t];if(e.finalized_||!$l(n))return n;if(n===xy(e.base_,t)){Em(e);const a=e.type_===1?+t:t,i=Wb(e.scope_,n,e,a);return e.copy_[a]=i}return n},has(e,t){return t in lu(e)},ownKeys(e){return Reflect.ownKeys(lu(e))},set(e,t,r){const n=f7(lu(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=xy(lu(e),t),i=a==null?void 0:a[oo];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(qU(r,a)&&(r!==void 0||B6(e.base_,t,e.type_)))return!0;Em(e),Vb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),KU(e,t,r)),!0},deleteProperty(e,t){return Em(e),xy(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Vb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=lu(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Sm]:!0,[Bb]:e.type_!==1||t!=="length",[Gm]:n[Gm],[a1]:r[t]}},defineProperty(){Hl(11)},getPrototypeOf(e){return Ch(e.base_)},setPrototypeOf(){Hl(12)}},s1={};E1(xw,(e,t)=>{s1[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});s1.deleteProperty=function(e,t){return s1.set.call(this,e,t,void 0)};s1.set=function(e,t,r){return xw.set.call(this,e[0],t,r,e[0])};function xy(e,t){const r=e[oo];return(r?lu(r):e)[t]}function QU(e,t,r){var a;const n=f7(t,r);return n?a1 in n?n[a1]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function f7(e,t){if(!(t in e))return;let r=Ch(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ch(r)}}function Vb(e){e.modified_||(e.modified_=!0,e.parent_&&Vb(e.parent_))}function Em(e){e.copy_||(e.assigned_=new Map,e.copy_=zb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var JU=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(fh(r)&&!fh(n)){const c=n;n=r;const f=this;return function(p=c,...x){return f.produce(p,y=>n.call(this,y,...x))}}fh(n)||Hl(6),a!==void 0&&!fh(a)&&Hl(7);let i;if($l(r)){const c=z6(this),f=Wb(c,r,void 0);let m=!0;try{i=n(f),m=!1}finally{m?qb(c):Hb(c)}return F6(c,a),U6(i,c)}else if(!r||!hw(r)){if(i=n(r),i===void 0&&(i=r),i===i7&&(i=void 0),this.autoFreeze_&&mw(i,!0),a){const c=[],f=[];_h(Ub).generateReplacementPatches_(r,i,{patches_:c,inversePatches_:f}),a(c,f)}return i}else Hl(1,r)},this.produceWithPatches=(r,n)=>{if(fh(r))return(f,...m)=>this.produceWithPatches(f,p=>r(p,...m));let a,i;return[this.produce(r,n,(f,m)=>{a=f,i=m}),a,i]},gy(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),gy(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),gy(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){$l(t)||Hl(8),xu(t)&&(t=Yl(t));const r=z6(this),n=Wb(r,t,void 0);return n[oo].isManual_=!0,Hb(r),n}finishDraft(t,r){const n=t&&t[oo];(!n||!n.isManual_)&&Hl(9);const{scope_:a}=n;return F6(a,r),U6(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=_h(Ub).applyPatches_;return xu(t)?a(t,r):this.produce(t,i=>a(i,r))}};function Wb(e,t,r,n){const[a,i]=Jg(t)?_h($m).proxyMap_(t,r):ex(t)?_h($m).proxySet_(t,r):ZU(t,r);return((r==null?void 0:r.scope_)??l7()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?XU(r,i,n):i.callbacks_.push(function(m){var x;(x=m.mapSetPlugin_)==null||x.fixSetContents(i);const{patchPlugin_:p}=m;i.modified_&&p&&p.generatePatches_(i,[],m)}),a}function Yl(e){return xu(e)||Hl(10,e),h7(e)}function h7(e){if(!$l(e)||tx(e))return e;const t=e[oo];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=zb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=zb(e,!0);return E1(r,(a,i)=>{Ym(r,a,h7(i))},n),t&&(t.finalized_=!1),r}var eq=new JU,p7=eq.produce;function m7(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var tq=m7(),rq=m7,nq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vm:Vm.apply(null,arguments)};function bl(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Qo(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>a7(n)&&n.type===e,r}var g7=class Y0 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Y0.prototype)}static get[Symbol.species](){return Y0}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Y0(...t[0].concat(this)):new Y0(...t.concat(this))}};function H6(e){return $l(e)?p7(e,()=>{}):e}function Xp(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function aq(e){return typeof e=="boolean"}var iq=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let c=new g7;return r&&(aq(r)?c.push(tq):c.push(rq(r.extraArgument))),c},x7="RTK_autoBatch",Ha=()=>e=>({payload:e,meta:{[x7]:!0}}),V6=e=>t=>{setTimeout(t,e)},v7=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,c=!1;const f=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:V6(10):e.type==="callback"?e.queueNotification:V6(e.timeout),p=()=>{c=!1,i&&(i=!1,f.forEach(x=>x()))};return Object.assign({},n,{subscribe(x){const y=()=>a&&x(),S=n.subscribe(y);return f.add(x),()=>{S(),f.delete(x)}},dispatch(x){var y;try{return a=!((y=x==null?void 0:x.meta)!=null&&y[x7]),i=!a,i&&(c||(c=!0,m(p))),n.dispatch(x)}finally{a=!0}}})},sq=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new g7(e);return n&&a.push(v7(typeof n=="object"?n:void 0)),a};function oq(e){const t=iq(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:c=void 0}=e||{};let f;if(typeof r=="function")f=r;else if(fw(r))f=n7(r);else throw new Error(Qo(1));let m;typeof n=="function"?m=n(t):m=t();let p=Vm;a&&(p=nq({trace:!1,...typeof a=="object"&&a}));const x=zU(...m),y=sq(x);let S=typeof c=="function"?c(y):y();const N=p(...S);return r7(f,i,N)}function y7(e){const t={},r=[];let n;const a={addCase(i,c){const f=typeof i=="string"?i:i.type;if(!f)throw new Error(Qo(28));if(f in t)throw new Error(Qo(29));return t[f]=c,a},addAsyncThunk(i,c){return c.pending&&(t[i.pending.type]=c.pending),c.rejected&&(t[i.rejected.type]=c.rejected),c.fulfilled&&(t[i.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:i.settled,reducer:c.settled}),a},addMatcher(i,c){return r.push({matcher:i,reducer:c}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function lq(e){return typeof e=="function"}function cq(e,t){let[r,n,a]=y7(t),i;if(lq(e))i=()=>H6(e());else{const f=H6(e);i=()=>f}function c(f=i(),m){let p=[r[m.type],...n.filter(({matcher:x})=>x(m)).map(({reducer:x})=>x)];return p.filter(x=>!!x).length===0&&(p=[a]),p.reduce((x,y)=>{if(y)if(xu(x)){const N=y(x,m);return N===void 0?x:N}else{if($l(x))return p7(x,S=>y(S,m));{const S=y(x,m);if(S===void 0){if(x===null)return x;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return x},f)}return c.getInitialState=i,c}var uq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",dq=(e=21)=>{let t="",r=e;for(;r--;)t+=uq[Math.random()*64|0];return t},fq=Symbol.for("rtk-slice-createasyncthunk");function hq(e,t){return`${e}/${t}`}function pq({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[fq];return function(a){const{name:i,reducerPath:c=i}=a;if(!i)throw new Error(Qo(11));const f=(typeof a.reducers=="function"?a.reducers(gq()):a.reducers)||{},m=Object.keys(f),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},x={addCase(G,$){const X=typeof G=="string"?G:G.type;if(!X)throw new Error(Qo(12));if(X in p.sliceCaseReducersByType)throw new Error(Qo(13));return p.sliceCaseReducersByType[X]=$,x},addMatcher(G,$){return p.sliceMatchers.push({matcher:G,reducer:$}),x},exposeAction(G,$){return p.actionCreators[G]=$,x},exposeCaseReducer(G,$){return p.sliceCaseReducersByName[G]=$,x}};m.forEach(G=>{const $=f[G],X={reducerName:G,type:hq(i,G),createNotation:typeof a.reducers=="function"};vq($)?bq(X,$,x,t):xq(X,$,x)});function y(){const[G={},$=[],X=void 0]=typeof a.extraReducers=="function"?y7(a.extraReducers):[a.extraReducers],V={...G,...p.sliceCaseReducersByType};return cq(a.initialState,Y=>{for(let W in V)Y.addCase(W,V[W]);for(let W of p.sliceMatchers)Y.addMatcher(W.matcher,W.reducer);for(let W of $)Y.addMatcher(W.matcher,W.reducer);X&&Y.addDefaultCase(X)})}const S=G=>G,N=new Map,j=new WeakMap;let _;function T(G,$){return _||(_=y()),_(G,$)}function D(){return _||(_=y()),_.getInitialState()}function R(G,$=!1){function X(Y){let W=Y[G];return typeof W>"u"&&$&&(W=Xp(j,X,D)),W}function V(Y=S){const W=Xp(N,$,()=>new WeakMap);return Xp(W,Y,()=>{const Ne={};for(const[Z,Q]of Object.entries(a.selectors??{}))Ne[Z]=mq(Q,Y,()=>Xp(j,Y,D),$);return Ne})}return{reducerPath:G,getSelectors:V,get selectors(){return V(X)},selectSlice:X}}const z={name:i,reducer:T,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:D,...R(c),injectInto(G,{reducerPath:$,...X}={}){const V=$??c;return G.inject({reducerPath:V,reducer:T},X),{...z,...R(V,!0)}}};return z}}function mq(e,t,r,n){function a(i,...c){let f=t(i);return typeof f>"u"&&n&&(f=r()),e(f,...c)}return a.unwrapped=e,a}var Do=pq();function gq(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function xq({type:e,reducerName:t,createNotation:r},n,a){let i,c;if("reducer"in n){if(r&&!yq(n))throw new Error(Qo(17));i=n.reducer,c=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,c?bl(e,c):bl(e))}function vq(e){return e._reducerDefinitionType==="asyncThunk"}function yq(e){return e._reducerDefinitionType==="reducerWithPrepare"}function bq({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Qo(18));const{payloadCreator:i,fulfilled:c,pending:f,rejected:m,settled:p,options:x}=r,y=a(e,i,x);n.exposeAction(t,y),c&&n.addCase(y.fulfilled,c),f&&n.addCase(y.pending,f),m&&n.addCase(y.rejected,m),p&&n.addMatcher(y.settled,p),n.exposeCaseReducer(t,{fulfilled:c||Kp,pending:f||Kp,rejected:m||Kp,settled:p||Kp})}function Kp(){}var wq="task",b7="listener",w7="completed",vw="cancelled",Aq=`task-${vw}`,Nq=`task-${w7}`,Gb=`${b7}-${vw}`,Sq=`${b7}-${w7}`,nx=class{constructor(e){X2(this,"name","TaskAbortError");X2(this,"message");this.code=e,this.message=`${wq} ${vw} (reason: ${e})`}},yw=(e,t)=>{if(typeof e!="function")throw new TypeError(Qo(32))},Xm=()=>{},A7=(e,t=Xm)=>(e.catch(t),e),N7=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),of=e=>{if(e.aborted)throw new nx(e.reason)};function S7(e,t){let r=Xm;return new Promise((n,a)=>{const i=()=>a(new nx(e.reason));if(e.aborted){i();return}r=N7(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Xm})}var Eq=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof nx?"cancelled":"rejected",error:r}}finally{t==null||t()}},Km=e=>t=>A7(S7(e,t).then(r=>(of(e),r))),E7=e=>{const t=Km(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ah}=Object,W6={},ax="listenerMiddleware",Cq=(e,t)=>{const r=n=>N7(e,()=>n.abort(e.reason));return(n,a)=>{yw(n);const i=new AbortController;r(i);const c=Eq(async()=>{of(e),of(i.signal);const f=await n({pause:Km(i.signal),delay:E7(i.signal),signal:i.signal});return of(i.signal),f},()=>i.abort(Nq));return a!=null&&a.autoJoin&&t.push(c.catch(Xm)),{result:Km(e)(c),cancel(){i.abort(Aq)}}}},_q=(e,t)=>{const r=async(n,a)=>{of(t);let i=()=>{};const f=[new Promise((m,p)=>{let x=e({predicate:n,effect:(y,S)=>{S.unsubscribe(),m([y,S.getState(),S.getOriginalState()])}});i=()=>{x(),p()}})];a!=null&&f.push(new Promise(m=>setTimeout(m,a,null)));try{const m=await S7(t,Promise.race(f));return of(t),m}finally{i()}};return(n,a)=>A7(r(n,a))},C7=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=bl(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Qo(21));return yw(i),{predicate:a,type:t,effect:i}},_7=Ah(e=>{const{type:t,predicate:r,effect:n}=C7(e);return{id:dq(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Qo(22))}}},{withTypes:()=>_7}),G6=(e,t)=>{const{type:r,effect:n,predicate:a}=C7(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Yb=e=>{e.pending.forEach(t=>{t.abort(Gb)})},jq=(e,t)=>()=>{for(const r of t.keys())Yb(r);e.clear()},Y6=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},j7=Ah(bl(`${ax}/add`),{withTypes:()=>j7}),Oq=bl(`${ax}/removeAll`),O7=Ah(bl(`${ax}/remove`),{withTypes:()=>O7}),Tq=(...e)=>{console.error(`${ax}/error`,...e)},_1=(e={})=>{const t=new Map,r=new Map,n=N=>{const j=r.get(N)??0;r.set(N,j+1)},a=N=>{const j=r.get(N)??1;j===1?r.delete(N):r.set(N,j-1)},{extra:i,onError:c=Tq}=e;yw(c);const f=N=>(N.unsubscribe=()=>t.delete(N.id),t.set(N.id,N),j=>{N.unsubscribe(),j!=null&&j.cancelActive&&Yb(N)}),m=N=>{const j=G6(t,N)??_7(N);return f(j)};Ah(m,{withTypes:()=>m});const p=N=>{const j=G6(t,N);return j&&(j.unsubscribe(),N.cancelActive&&Yb(j)),!!j};Ah(p,{withTypes:()=>p});const x=async(N,j,_,T)=>{const D=new AbortController,R=_q(m,D.signal),z=[];try{N.pending.add(D),n(N),await Promise.resolve(N.effect(j,Ah({},_,{getOriginalState:T,condition:(G,$)=>R(G,$).then(Boolean),take:R,delay:E7(D.signal),pause:Km(D.signal),extra:i,signal:D.signal,fork:Cq(D.signal,z),unsubscribe:N.unsubscribe,subscribe:()=>{t.set(N.id,N)},cancelActiveListeners:()=>{N.pending.forEach((G,$,X)=>{G!==D&&(G.abort(Gb),X.delete(G))})},cancel:()=>{D.abort(Gb),N.pending.delete(D)},throwIfCancelled:()=>{of(D.signal)}})))}catch(G){G instanceof nx||Y6(c,G,{raisedBy:"effect"})}finally{await Promise.all(z),D.abort(Sq),a(N),N.pending.delete(D)}},y=jq(t,r);return{middleware:N=>j=>_=>{if(!a7(_))return j(_);if(j7.match(_))return m(_.payload);if(Oq.match(_)){y();return}if(O7.match(_))return p(_.payload);let T=N.getState();const D=()=>{if(T===W6)throw new Error(Qo(23));return T};let R;try{if(R=j(_),t.size>0){const z=N.getState(),G=Array.from(t.values());for(const $ of G){let X=!1;try{X=$.predicate(_,z,T)}catch(V){X=!1,Y6(c,V,{raisedBy:"predicate"})}X&&x($,_,N,D)}}}finally{T=W6}return R},startListening:m,stopListening:p,clearListeners:y}};function Qo(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var kq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},T7=Do({name:"chartLayout",initialState:kq,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Iq,setLayout:Mq,setChartSize:Dq,setScale:Lq}=T7.actions,Pq=T7.reducer;function k7(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function va(e){return Number.isFinite(e)}function kc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function $6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$6(Object(r),!0).forEach(function(n){Rq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rq(e,t,r){return(t=Bq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bq(e){var t=Fq(e,"string");return typeof t=="symbol"?t:t+""}function Fq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sa(e,t,r){return Za(e)||Za(t)?r:Tc(t)?xf(e,t,r):typeof t=="function"?t(e):r}var zq=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:c,layout:f}=t;if((f==="vertical"||f==="horizontal"&&c==="middle")&&i!=="center"&&nr(e[i]))return ph(ph({},e),{},{[i]:e[i]+(n||0)});if((f==="horizontal"||f==="vertical"&&i==="center")&&c!=="middle"&&nr(e[c]))return ph(ph({},e),{},{[c]:e[c]+(a||0)})}return e},Su=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",I7=(e,t,r,n)=>{if(n)return e.map(f=>f.coordinate);var a,i,c=e.map(f=>(f.coordinate===t&&(a=!0),f.coordinate===r&&(i=!0),f.coordinate));return a||c.push(t),i||c.push(r),c},M7=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:c,realScaleType:f,isCategorical:m,categoricalDomain:p,tickCount:x,ticks:y,niceTicks:S,axisType:N}=e;if(!c)return null;var j=f==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,_=a==="category"&&c.bandwidth?c.bandwidth()/j:0;if(_=N==="angleAxis"&&i&&i.length>=2?hs(i[0]-i[1])*2*_:_,y||S){var T=(y||S||[]).map((D,R)=>{var z=n?n.indexOf(D):D;return{coordinate:c(z)+_,value:D,offset:_,index:R}});return T.filter(D=>!yl(D.coordinate))}return m&&p?p.map((D,R)=>({coordinate:c(D)+_,value:D,index:R,offset:_})):c.ticks&&x!=null?c.ticks(x).map((D,R)=>({coordinate:c(D)+_,value:D,offset:_,index:R})):c.domain().map((D,R)=>({coordinate:c(D)+_,value:n?n[D]:D,index:R,offset:_}))},X6=1e-4,Uq=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-X6,i=Math.max(n[0],n[1])+X6,c=e(t[0]),f=e(t[r-1]);(c<a||c>i||f<a||f>i)&&e.domain([t[0],t[r-1]])}},qq=(e,t)=>{if(!t||t.length!==2||!nr(t[0])||!nr(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!nr(e[0])||e[0]<r)&&(a[0]=r),(!nr(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},Hq=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,c=0,f=0;f<r;++f){var m=e[f],p=m==null?void 0:m[a];if(p!=null){var x=p[1],y=p[0],S=yl(x)?y:x;S>=0?(p[0]=i,p[1]=i+S,i=x):(p[0]=c,p[1]=c+S,c=x)}}}},Vq=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,c=0;c<r;++c){var f=e[c],m=f==null?void 0:f[a];if(m!=null){var p=yl(m[1])?m[0]:m[1];p>=0?(m[0]=i,m[1]=i+p,i=m[1]):(m[0]=0,m[1]=0)}}}},Wq={sign:Hq,expand:vz,none:gf,silhouette:yz,wiggle:bz,positive:Vq},Gq=(e,t,r)=>{var n,a=(n=Wq[r])!==null&&n!==void 0?n:gf,i=xz().keys(t).value((f,m)=>Number(sa(f,m,0))).order(Pb).offset(a),c=i(e);return c.forEach((f,m)=>{f.forEach((p,x)=>{var y=sa(e[x],t[m],0);Array.isArray(y)&&y.length===2&&nr(y[0])&&nr(y[1])&&(p[0]=y[0],p[1]=y[1])})}),c};function D7(e){return e==null?void 0:String(e)}function K6(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Za(a[t.dataKey])){var f=FO(r,"value",a[t.dataKey]);if(f)return f.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var m=sa(a,Za(c)?t.dataKey:c);return Za(m)?null:t.scale(m)}var Z6=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+n:null;var f=sa(i,t.dataKey,t.scale.domain()[c]);return Za(f)?null:t.scale(f)-a/2+n},Yq=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},$q=e=>{var t=e.flat(2).filter(nr);return[Math.min(...t),Math.max(...t)]},Xq=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Kq=(e,t,r)=>{if(e!=null)return Xq(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:c}=i,f=c.reduce((m,p)=>{var x=k7(p,t,r),y=$q(x);return!va(y[0])||!va(y[1])?m:[Math.min(m[0],y[0]),Math.max(m[1],y[1])]},[1/0,-1/0]);return[Math.min(f[0],n[0]),Math.max(f[1],n[1])]},[1/0,-1/0]))},Q6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,J6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jh=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Kg(t,x=>x.coordinate),i=1/0,c=1,f=a.length;c<f;c++){var m=a[c],p=a[c-1];i=Math.min(((m==null?void 0:m.coordinate)||0)-((p==null?void 0:p.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function e8(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return ph(ph({},t),{},{dataKey:r,payload:n,value:a,name:i})}function zh(e,t){if(e)return String(e);if(typeof t=="string")return t}var Zq=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Qq=(e,t)=>t==="centric"?e.angle:e.radius,Eu=e=>e.layout.width,Cu=e=>e.layout.height,Jq=e=>e.layout.scale,L7=e=>e.layout.margin,ix=ct(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),sx=ct(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),P7="data-recharts-item-index",R7="data-recharts-item-id",j1=60;function t8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t8(Object(r),!0).forEach(function(n){eH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eH(e,t,r){return(t=tH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tH(e){var t=rH(e,"string");return typeof t=="symbol"?t:t+""}function rH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nH=e=>e.brush.height;function aH(e){var t=sx(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:j1;return r+a}return r},0)}function iH(e){var t=sx(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:j1;return r+a}return r},0)}function sH(e){var t=ix(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function oH(e){var t=ix(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ki=ct([Eu,Cu,L7,nH,aH,iH,sH,oH,t7,DU],(e,t,r,n,a,i,c,f,m,p)=>{var x={left:(r.left||0)+a,right:(r.right||0)+i},y={top:(r.top||0)+c,bottom:(r.bottom||0)+f},S=Zp(Zp({},y),x),N=S.bottom;S.bottom+=n,S=zq(S,m,p);var j=e-S.left-S.right,_=t-S.top-S.bottom;return Zp(Zp({brushBottom:N},S),{},{width:Math.max(j,0),height:Math.max(_,0)})}),lH=ct(Ki,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),bw=ct(Eu,Cu,(e,t)=>({x:0,y:0,width:e,height:t})),cH=I.createContext(null),Ws=()=>I.useContext(cH)!=null,ox=e=>e.brush,lx=ct([ox,Ki,L7],(e,t,r)=>({height:e.height,x:nr(e.x)?e.x:t.left,y:nr(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:nr(e.width)?e.width:t.width})),vy={},yy={},by={},r8;function uH(){return r8||(r8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let c,f=null;const m=i!=null&&i.includes("leading"),p=i==null||i.includes("trailing"),x=()=>{f!==null&&(r.apply(c,f),c=void 0,f=null)},y=()=>{p&&x(),_()};let S=null;const N=()=>{S!=null&&clearTimeout(S),S=setTimeout(()=>{S=null,y()},n)},j=()=>{S!==null&&(clearTimeout(S),S=null)},_=()=>{j(),c=void 0,f=null},T=()=>{x()},D=function(...R){if(a!=null&&a.aborted)return;c=this,f=R;const z=S==null;N(),m&&z&&x()};return D.schedule=N,D.cancel=_,D.flush=T,a==null||a.addEventListener("abort",_,{once:!0}),D}e.debounce=t}(by)),by}var n8;function dH(){return n8||(n8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uH();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:c=!1,trailing:f=!0,maxWait:m}=i,p=Array(2);c&&(p[0]="leading"),f&&(p[1]="trailing");let x,y=null;const S=t.debounce(function(..._){x=n.apply(this,_),y=null},a,{edges:p}),N=function(..._){return m!=null&&(y===null&&(y=Date.now()),Date.now()-y>=m)?(x=n.apply(this,_),y=Date.now(),S.cancel(),S.schedule(),x):(S.apply(this,_),x)},j=()=>(S.flush(),x);return N.cancel=S.cancel,N.flush=j,N}e.debounce=r}(yy)),yy}var a8;function fH(){return a8||(a8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dH();function r(n,a=0,i={}){const{leading:c=!0,trailing:f=!0}=i;return t.debounce(n,a,{leading:c,maxWait:a,trailing:f})}e.throttle=r}(vy)),vy}var wy,i8;function hH(){return i8||(i8=1,wy=fH().throttle),wy}var pH=hH();const mH=Mc(pH);var Zm=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>a[c++]))}},B7=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:c}=r,f=gu(n)?e:Number(n),m=gu(a)?t:Number(a);return i&&i>0&&(f?m=f/i:m&&(f=m*i),c&&m!=null&&m>c&&(m=c)),{calculatedWidth:f,calculatedHeight:m}},gH={width:0,height:0,overflow:"visible"},xH={width:0,overflowX:"visible"},vH={height:0,overflowY:"visible"},yH={},bH=e=>{var{width:t,height:r}=e,n=gu(t),a=gu(r);return n&&a?gH:n?xH:a?vH:yH};function wH(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$b.apply(null,arguments)}function s8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s8(Object(r),!0).forEach(function(n){AH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AH(e,t,r){return(t=NH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NH(e){var t=SH(e,"string");return typeof t=="symbol"?t:t+""}function SH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F7=I.createContext({width:-1,height:-1});function EH(e){return kc(e.width)&&kc(e.height)}function z7(e){var{children:t,width:r,height:n}=e,a=I.useMemo(()=>({width:r,height:n}),[r,n]);return EH(a)?I.createElement(F7.Provider,{value:a},t):null}var ww=()=>I.useContext(F7),CH=I.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:c=0,minHeight:f,maxHeight:m,children:p,debounce:x=0,id:y,className:S,onResize:N,style:j={}}=e,_=I.useRef(null),T=I.useRef();T.current=N,I.useImperativeHandle(t,()=>_.current);var[D,R]=I.useState({containerWidth:n.width,containerHeight:n.height}),z=I.useCallback((Y,W)=>{R(Ne=>{var Z=Math.round(Y),Q=Math.round(W);return Ne.containerWidth===Z&&Ne.containerHeight===Q?Ne:{containerWidth:Z,containerHeight:Q}})},[]);I.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return S1;var Y=Q=>{var ye,{width:ie,height:q}=Q[0].contentRect;z(ie,q),(ye=T.current)===null||ye===void 0||ye.call(T,ie,q)};x>0&&(Y=mH(Y,x,{trailing:!0,leading:!1}));var W=new ResizeObserver(Y),{width:Ne,height:Z}=_.current.getBoundingClientRect();return z(Ne,Z),W.observe(_.current),()=>{W.disconnect()}},[z,x]);var{containerWidth:G,containerHeight:$}=D;Zm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:X,calculatedHeight:V}=B7(G,$,{width:a,height:i,aspect:r,maxHeight:m});return Zm(X!=null&&X>0||V!=null&&V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,V,a,i,c,f,r),I.createElement("div",{id:y?"".concat(y):void 0,className:Wn("recharts-responsive-container",S),style:o8(o8({},j),{},{width:a,height:i,minWidth:c,minHeight:f,maxHeight:m}),ref:_},I.createElement("div",{style:bH({width:a,height:i})},I.createElement(z7,{width:X,height:V},p)))}),Qp=I.forwardRef((e,t)=>{var r=ww();if(kc(r.width)&&kc(r.height))return e.children;var{width:n,height:a}=wH({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:c}=B7(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return nr(i)&&nr(c)?I.createElement(z7,{width:i,height:c},e.children):I.createElement(CH,$b({},e,{width:n,height:a,ref:t}))});function U7(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var cx=()=>{var e,t=Ws(),r=gr(lH),n=gr(lx),a=(e=gr(ox))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},_H={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},q7=()=>{var e;return(e=gr(Ki))!==null&&e!==void 0?e:_H},H7=()=>gr(Eu),V7=()=>gr(Cu),Nn=e=>e.layout.layoutType,Ef=()=>gr(Nn),jH=()=>{var e=Ef();if(e==="horizontal"||e==="vertical")return e},OH=()=>{var e=Ef();return e!==void 0},ux=e=>{var t=Ga(),r=Ws(),{width:n,height:a}=e,i=ww(),c=n,f=a;return i&&(c=i.width>0?i.width:n,f=i.height>0?i.height:a),I.useEffect(()=>{!r&&kc(c)&&kc(f)&&t(Dq({width:c,height:f}))},[t,r,c,f]),null},W7=Symbol.for("immer-nothing"),l8=Symbol.for("immer-draftable"),el=Symbol.for("immer-state");function Vl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var o1=Object.getPrototypeOf;function Oh(e){return!!e&&!!e[el]}function vf(e){var t;return e?G7(e)||Array.isArray(e)||!!e[l8]||!!((t=e.constructor)!=null&&t[l8])||O1(e)||fx(e):!1}var TH=Object.prototype.constructor.toString(),c8=new WeakMap;function G7(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=c8.get(r);return n===void 0&&(n=Function.toString.call(r),c8.set(r,n)),n===TH}function Qm(e,t,r=!0){dx(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function dx(e){const t=e[el];return t?t.type_:Array.isArray(e)?1:O1(e)?2:fx(e)?3:0}function Xb(e,t){return dx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Y7(e,t,r){const n=dx(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function kH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function O1(e){return e instanceof Map}function fx(e){return e instanceof Set}function Kd(e){return e.copy_||e.base_}function Kb(e,t){if(O1(e))return new Map(e);if(fx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=G7(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[el];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const c=a[i],f=n[c];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(n[c]={configurable:!0,writable:!0,enumerable:f.enumerable,value:e[c]})}return Object.create(o1(e),n)}else{const n=o1(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Aw(e,t=!1){return hx(e)||Oh(e)||!vf(e)||(dx(e)>1&&Object.defineProperties(e,{set:Jp,add:Jp,clear:Jp,delete:Jp}),Object.freeze(e),t&&Object.values(e).forEach(r=>Aw(r,!0))),e}function IH(){Vl(2)}var Jp={value:IH};function hx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var MH={};function yf(e){const t=MH[e];return t||Vl(0,e),t}var l1;function $7(){return l1}function DH(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function u8(e,t){t&&(yf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Zb(e){Qb(e),e.drafts_.forEach(LH),e.drafts_=null}function Qb(e){e===l1&&(l1=e.parent_)}function d8(e){return l1=DH(l1,e)}function LH(e){const t=e[el];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function f8(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[el].modified_&&(Zb(t),Vl(4)),vf(e)&&(e=Jm(t,e),t.parent_||eg(t,e)),t.patches_&&yf("Patches").generateReplacementPatches_(r[el].base_,e,t.patches_,t.inversePatches_)):e=Jm(t,r,[]),Zb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==W7?e:void 0}function Jm(e,t,r){if(hx(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[el];if(!a)return Qm(t,(i,c)=>h8(e,a,t,i,c,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return eg(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let c=i,f=!1;a.type_===3&&(c=new Set(i),i.clear(),f=!0),Qm(c,(m,p)=>h8(e,a,i,m,p,r,f),n),eg(e,i,!1),r&&e.patches_&&yf("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function h8(e,t,r,n,a,i,c){if(a==null||typeof a!="object"&&!c)return;const f=hx(a);if(!(f&&!c)){if(Oh(a)){const m=i&&t&&t.type_!==3&&!Xb(t.assigned_,n)?i.concat(n):void 0,p=Jm(e,a,m);if(Y7(r,n,p),Oh(p))e.canAutoFreeze_=!1;else return}else c&&r.add(a);if(vf(a)&&!f){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&f)return;Jm(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(O1(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&eg(e,a)}}}function eg(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Aw(t,r)}function PH(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:$7(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Nw;r&&(a=[n],i=c1);const{revoke:c,proxy:f}=Proxy.revocable(a,i);return n.draft_=f,n.revoke_=c,f}var Nw={get(e,t){if(t===el)return e;const r=Kd(e);if(!Xb(r,t))return RH(e,r,t);const n=r[t];return e.finalized_||!vf(n)?n:n===Ay(e.base_,t)?(Ny(e),e.copy_[t]=e5(n,e)):n},has(e,t){return t in Kd(e)},ownKeys(e){return Reflect.ownKeys(Kd(e))},set(e,t,r){const n=X7(Kd(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Ay(Kd(e),t),i=a==null?void 0:a[el];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(kH(r,a)&&(r!==void 0||Xb(e.base_,t)))return!0;Ny(e),Jb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ay(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ny(e),Jb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Kd(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Vl(11)},getPrototypeOf(e){return o1(e.base_)},setPrototypeOf(){Vl(12)}},c1={};Qm(Nw,(e,t)=>{c1[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});c1.deleteProperty=function(e,t){return c1.set.call(this,e,t,void 0)};c1.set=function(e,t,r){return Nw.set.call(this,e[0],t,r,e[0])};function Ay(e,t){const r=e[el];return(r?Kd(r):e)[t]}function RH(e,t,r){var a;const n=X7(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function X7(e,t){if(!(t in e))return;let r=o1(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=o1(r)}}function Jb(e){e.modified_||(e.modified_=!0,e.parent_&&Jb(e.parent_))}function Ny(e){e.copy_||(e.copy_=Kb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var BH=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const c=this;return function(m=i,...p){return c.produce(m,x=>r.call(this,x,...p))}}typeof r!="function"&&Vl(6),n!==void 0&&typeof n!="function"&&Vl(7);let a;if(vf(t)){const i=d8(this),c=e5(t,void 0);let f=!0;try{a=r(c),f=!1}finally{f?Zb(i):Qb(i)}return u8(i,n),f8(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===W7&&(a=void 0),this.autoFreeze_&&Aw(a,!0),n){const i=[],c=[];yf("Patches").generateReplacementPatches_(t,a,i,c),n(i,c)}return a}else Vl(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...f)=>this.produceWithPatches(c,m=>t(m,...f));let n,a;return[this.produce(t,r,(c,f)=>{n=c,a=f}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){vf(e)||Vl(8),Oh(e)&&(e=FH(e));const t=d8(this),r=e5(e,void 0);return r[el].isManual_=!0,Qb(t),r}finishDraft(e,t){const r=e&&e[el];(!r||!r.isManual_)&&Vl(9);const{scope_:n}=r;return u8(n,t),f8(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=yf("Patches").applyPatches_;return Oh(e)?n(e,t):this.produce(e,a=>n(a,t))}};function e5(e,t){const r=O1(e)?yf("MapSet").proxyMap_(e,t):fx(e)?yf("MapSet").proxySet_(e,t):PH(e,t);return(t?t.scope_:$7()).drafts_.push(r),r}function FH(e){return Oh(e)||Vl(10,e),K7(e)}function K7(e){if(!vf(e)||hx(e))return e;const t=e[el];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Kb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Kb(e,!0);return Qm(r,(a,i)=>{Y7(r,a,K7(i))},n),t&&(t.finalized_=!1),r}var zH=new BH;zH.produce;var UH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Z7=Do({name:"legend",initialState:UH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ha()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Yl(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Ha()},removeLegendPayload:{reducer(e,t){var r=Yl(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ha()}}}),{setLegendSize:rse,setLegendSettings:nse,addLegendPayload:Q7,replaceLegendPayload:J7,removeLegendPayload:eT}=Z7.actions,qH=Z7.reducer;function t5(){return t5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t5.apply(null,arguments)}function p8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p8(Object(r),!0).forEach(function(n){HH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HH(e,t,r){return(t=VH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VH(e){var t=WH(e,"string");return typeof t=="symbol"?t:t+""}function WH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GH(e){return Array.isArray(e)&&Tc(e[0])&&Tc(e[1])?e.join(" ~ "):e}var YH=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:c,itemSorter:f,wrapperClassName:m,labelClassName:p,label:x,labelFormatter:y,accessibilityLayer:S=!1}=e,N=()=>{if(i&&i.length){var $={padding:0,margin:0},X=(f?Kg(i,f):i).map((V,Y)=>{if(V.type==="none")return null;var W=V.formatter||c||GH,{value:Ne,name:Z}=V,Q=Ne,ye=Z;if(W){var ie=W(Ne,Z,V,Y,i);if(Array.isArray(ie))[Q,ye]=ie;else if(ie!=null)Q=ie;else return null}var q=Sy({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},n);return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:q},Tc(ye)?I.createElement("span",{className:"recharts-tooltip-item-name"},ye):null,Tc(ye)?I.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,I.createElement("span",{className:"recharts-tooltip-item-value"},Q),I.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:$},X)}return null},j=Sy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),_=Sy({margin:0},a),T=!Za(x),D=T?x:"",R=Wn("recharts-default-tooltip",m),z=Wn("recharts-tooltip-label",p);T&&y&&i!==void 0&&i!==null&&(D=y(x,i));var G=S?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",t5({className:R,style:j},G),I.createElement("p",{className:z,style:_},I.isValidElement(D)?D:"".concat(D)),N())},P0="recharts-tooltip-wrapper",$H={visibility:"hidden"};function XH(e){var{coordinate:t,translateX:r,translateY:n}=e;return Wn(P0,{["".concat(P0,"-right")]:nr(r)&&t&&nr(t.x)&&r>=t.x,["".concat(P0,"-left")]:nr(r)&&t&&nr(t.x)&&r<t.x,["".concat(P0,"-bottom")]:nr(n)&&t&&nr(t.y)&&n>=t.y,["".concat(P0,"-top")]:nr(n)&&t&&nr(t.y)&&n<t.y})}function m8(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:c,tooltipDimension:f,viewBox:m,viewBoxDimension:p}=e;if(i&&nr(i[n]))return i[n];var x=r[n]-f-(a>0?a:0),y=r[n]+a;if(t[n])return c[n]?x:y;var S=m[n];if(S==null)return 0;if(c[n]){var N=x,j=S;return N<j?Math.max(y,S):Math.max(x,S)}if(p==null)return 0;var _=y+f,T=S+p;return _>T?Math.max(x,S):Math.max(y,S)}function KH(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function ZH(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:c,useTranslate3d:f,viewBox:m}=e,p,x,y;return c.height>0&&c.width>0&&r?(x=m8({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:c.width,viewBox:m,viewBoxDimension:m.width}),y=m8({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:c.height,viewBox:m,viewBoxDimension:m.height}),p=KH({translateX:x,translateY:y,useTranslate3d:f})):p=$H,{cssProperties:p,cssClasses:XH({translateX:x,translateY:y,coordinate:r})}}function g8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g8(Object(r),!0).forEach(function(n){r5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r5(e,t,r){return(t=QH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QH(e){var t=JH(e,"string");return typeof t=="symbol"?t:t+""}function JH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class eV extends I.PureComponent{constructor(){super(...arguments),r5(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),r5(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:c,hasPayload:f,isAnimationActive:m,offset:p,position:x,reverseDirection:y,useTranslate3d:S,viewBox:N,wrapperStyle:j,lastBoundingBox:_,innerRef:T,hasPortalFromProps:D}=this.props,{cssClasses:R,cssProperties:z}=ZH({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:p,position:x,reverseDirection:y,tooltipBox:{height:_.height,width:_.width},useTranslate3d:S,viewBox:N}),G=D?{}:em(em({transition:m&&t?"transform ".concat(n,"ms ").concat(a):void 0},z),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&f?"visible":"hidden",position:"absolute",top:0,left:0}),$=em(em({},G),{},{visibility:!this.state.dismissed&&t&&f?"visible":"hidden"},j);return I.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:$,ref:T},i)}}var tT=()=>{var e;return(e=gr(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function n5(){return n5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n5.apply(null,arguments)}function x8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x8(Object(r),!0).forEach(function(n){tV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tV(e,t,r){return(t=rV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rV(e){var t=nV(e,"string");return typeof t=="symbol"?t:t+""}function nV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y8={curveBasisClosed:sz,curveBasisOpen:oz,curveBasis:iz,curveBumpX:WF,curveBumpY:GF,curveLinearClosed:lz,curveLinear:Yg,curveMonotoneX:cz,curveMonotoneY:uz,curveNatural:dz,curveStep:fz,curveStepAfter:pz,curveStepBefore:hz},tg=e=>va(e.x)&&va(e.y),b8=e=>e.base!=null&&tg(e.base)&&tg(e),R0=e=>e.x,B0=e=>e.y,aV=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(N1(e));return(r==="curveMonotone"||r==="curveBump")&&t?y8["".concat(r).concat(t==="vertical"?"Y":"X")]:y8[r]||Yg},iV=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,c=aV(t,a),f=i?r.filter(tg):r,m;if(Array.isArray(n)){var p=r.map((N,j)=>v8(v8({},N),{},{base:n[j]}));a==="vertical"?m=Wp().y(B0).x1(R0).x0(N=>N.base.x):m=Wp().x(R0).y1(B0).y0(N=>N.base.y);var x=m.defined(b8).curve(c),y=i?p.filter(b8):p;return x(y)}a==="vertical"&&nr(n)?m=Wp().y(B0).x1(R0).x0(n):nr(n)?m=Wp().x(R0).y1(B0).y0(n):m=CO().x(R0).y(B0);var S=m.defined(tg).curve(c);return S(f)},Nh=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=Ef();if((!r||!r.length)&&!n)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},f=r&&r.length?iV(c):n;return I.createElement("path",n5({},Io(e),cw(e),{className:Wn("recharts-curve",t),d:f===null?void 0:f,ref:a}))},sV=["x","y","top","left","width","height","className"];function a5(){return a5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a5.apply(null,arguments)}function w8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w8(Object(r),!0).forEach(function(n){lV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lV(e,t,r){return(t=cV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cV(e){var t=uV(e,"string");return typeof t=="symbol"?t:t+""}function uV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dV(e,t){if(e==null)return{};var r,n,a=fV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hV=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),pV=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:c=0,className:f}=e,m=dV(e,sV),p=oV({x:t,y:r,top:n,left:a,width:i,height:c},m);return!nr(t)||!nr(r)||!nr(i)||!nr(c)||!nr(n)||!nr(a)?null:I.createElement("path",a5({},so(p),{className:Wn("recharts-cross",f),d:hV(t,r,i,c,n,a)}))};function mV(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function A8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(r),!0).forEach(function(n){gV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gV(e,t,r){return(t=xV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xV(e){var t=vV(e,"string");return typeof t=="symbol"?t:t+""}function vV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yV=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),rT=(e,t,r)=>e.map(n=>"".concat(yV(n)," ").concat(t,"ms ").concat(r)).join(","),bV=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),u1=(e,t)=>Object.keys(t).reduce((r,n)=>N8(N8({},r),{},{[n]:e(n,t[n])}),{});function S8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(r),!0).forEach(function(n){wV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wV(e,t,r){return(t=AV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AV(e){var t=NV(e,"string");return typeof t=="symbol"?t:t+""}function NV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rg=(e,t,r)=>e+(t-e)*r,i5=e=>{var{from:t,to:r}=e;return t!==r},nT=(e,t,r)=>{var n=u1((a,i)=>{if(i5(i)){var[c,f]=e(i.from,i.to,i.velocity);return Yi(Yi({},i),{},{from:c,velocity:f})}return i},t);return r<1?u1((a,i)=>i5(i)&&n[a]!=null?Yi(Yi({},i),{},{velocity:rg(i.velocity,n[a].velocity,r),from:rg(i.from,n[a].from,r)}):i,t):nT(e,n,r-1)};function SV(e,t,r,n,a,i){var c,f=n.reduce((S,N)=>Yi(Yi({},S),{},{[N]:{from:e[N],velocity:0,to:t[N]}}),{}),m=()=>u1((S,N)=>N.from,f),p=()=>!Object.values(f).filter(i5).length,x=null,y=S=>{c||(c=S);var N=S-c,j=N/r.dt;f=nT(r,f,j),a(Yi(Yi(Yi({},e),t),m())),c=S,p()||(x=i.setTimeout(y))};return()=>(x=i.setTimeout(y),()=>{var S;(S=x)===null||S===void 0||S()})}function EV(e,t,r,n,a,i,c){var f=null,m=a.reduce((y,S)=>{var N=e[S],j=t[S];return N==null||j==null?y:Yi(Yi({},y),{},{[S]:[N,j]})},{}),p,x=y=>{p||(p=y);var S=(y-p)/n,N=u1((_,T)=>rg(...T,r(S)),m);if(i(Yi(Yi(Yi({},e),t),N)),S<1)f=c.setTimeout(x);else{var j=u1((_,T)=>rg(...T,r(1)),m);i(Yi(Yi(Yi({},e),t),j))}};return()=>(f=c.setTimeout(x),()=>{var y;(y=f)===null||y===void 0||y()})}const CV=(e,t,r,n,a,i)=>{var c=bV(e,t);return r==null?()=>(a(Yi(Yi({},e),t)),()=>{}):r.isStepper===!0?SV(e,t,r,c,a,i):EV(e,t,r,n,c,a,i)};var ng=1e-4,aT=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],iT=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),E8=(e,t)=>r=>{var n=aT(e,t);return iT(n,r)},_V=(e,t)=>r=>{var n=aT(e,t),a=[...n.map((i,c)=>i*c).slice(1),0];return iT(a,r)},jV=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},OV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=jV(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},TV=(e,t,r,n)=>{var a=E8(e,r),i=E8(t,n),c=_V(e,r),f=p=>p>1?1:p<0?0:p,m=p=>{for(var x=p>1?1:p,y=x,S=0;S<8;++S){var N=a(y)-x,j=c(y);if(Math.abs(N-x)<ng||j<ng)return i(y);y=f(y-N/j)}return i(y)};return m.isStepper=!1,m},C8=function(){return TV(...OV(...arguments))},kV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(c,f,m)=>{var p=-(c-f)*r,x=m*n,y=m+(p-x)*a/1e3,S=m*a/1e3+c;return Math.abs(S-f)<ng&&Math.abs(y)<ng?[f,0]:[S,y]};return i.isStepper=!0,i.dt=a,i},IV=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return C8(e);case"spring":return kV();default:if(e.split("(")[0]==="cubic-bezier")return C8(e)}return typeof e=="function"?e:null};function MV(e){var t,r=()=>null,n=!1,a=null,i=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var f=c,[m,...p]=f;if(typeof m=="number"){a=e.setTimeout(i.bind(null,p),m);return}i(m),a=e.setTimeout(i.bind(null,p));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,a&&(a(),a=null),i(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class DV{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function LV(){return MV(new DV)}var PV=I.createContext(LV);function RV(e,t){var r=I.useContext(PV);return I.useMemo(()=>t??r(e),[e,t,r])}var BV=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),T1={isSsr:BV()},FV={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},_8={t:0},Ey={t:1};function k1(e){var t=ps(e,FV),{isActive:r,canBegin:n,duration:a,easing:i,begin:c,onAnimationEnd:f,onAnimationStart:m,children:p}=t,x=r==="auto"?!T1.isSsr:r,y=RV(t.animationId,t.animationManager),[S,N]=I.useState(x?_8:Ey),j=I.useRef(null);return I.useEffect(()=>{x||N(Ey)},[x]),I.useEffect(()=>{if(!x||!n)return S1;var _=CV(_8,Ey,IV(i),a,N,y.getTimeoutController()),T=()=>{j.current=_()};return y.start([m,c,T,a,f]),()=>{y.stop(),j.current&&j.current(),f()}},[x,n,a,i,c,m,f,y]),p(S.t)}function I1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=I.useRef(n1(t)),n=I.useRef(e);return n.current!==e&&(r.current=n1(t),n.current=e),r.current}var zV=["radius"],UV=["radius"],j8,O8,T8,k8,I8,M8,D8,L8,P8,R8;function B8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(r),!0).forEach(function(n){qV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qV(e,t,r){return(t=HV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HV(e){var t=VV(e,"string");return typeof t=="symbol"?t:t+""}function VV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(null,arguments)}function z8(e,t){if(e==null)return{};var r,n,a=WV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function WV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var U8=(e,t,r,n,a)=>{var i=md(r),c=md(n),f=Math.min(Math.abs(i)/2,Math.abs(c)/2),m=c>=0?1:-1,p=i>=0?1:-1,x=c>=0&&i>=0||c<0&&i<0?1:0,y;if(f>0&&a instanceof Array){for(var S=[0,0,0,0],N=0,j=4;N<j;N++)S[N]=a[N]>f?f:a[N];y=li(j8||(j8=yc(["M",",",""])),e,t+m*S[0]),S[0]>0&&(y+=li(O8||(O8=yc(["A ",",",",0,0,",",",",",""])),S[0],S[0],x,e+p*S[0],t)),y+=li(T8||(T8=yc(["L ",",",""])),e+r-p*S[1],t),S[1]>0&&(y+=li(k8||(k8=yc(["A ",",",",0,0,",`,
        `,",",""])),S[1],S[1],x,e+r,t+m*S[1])),y+=li(I8||(I8=yc(["L ",",",""])),e+r,t+n-m*S[2]),S[2]>0&&(y+=li(M8||(M8=yc(["A ",",",",0,0,",`,
        `,",",""])),S[2],S[2],x,e+r-p*S[2],t+n)),y+=li(D8||(D8=yc(["L ",",",""])),e+p*S[3],t+n),S[3]>0&&(y+=li(L8||(L8=yc(["A ",",",",0,0,",`,
        `,",",""])),S[3],S[3],x,e,t+n-m*S[3])),y+="Z"}else if(f>0&&a===+a&&a>0){var _=Math.min(f,a);y=li(P8||(P8=yc(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+m*_,_,_,x,e+p*_,t,e+r-p*_,t,_,_,x,e+r,t+m*_,e+r,t+n-m*_,_,_,x,e+r-p*_,t+n,e+p*_,t+n,_,_,x,e,t+n-m*_)}else y=li(R8||(R8=yc(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return y},q8={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sT=e=>{var t=ps(e,q8),r=I.useRef(null),[n,a]=I.useState(-1);I.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var se=r.current.getTotalLength();se&&a(se)}catch{}},[]);var{x:i,y:c,width:f,height:m,radius:p,className:x}=t,{animationEasing:y,animationDuration:S,animationBegin:N,isAnimationActive:j,isUpdateAnimationActive:_}=t,T=I.useRef(f),D=I.useRef(m),R=I.useRef(i),z=I.useRef(c),G=I.useMemo(()=>({x:i,y:c,width:f,height:m,radius:p}),[i,c,f,m,p]),$=I1(G,"rectangle-");if(i!==+i||c!==+c||f!==+f||m!==+m||f===0||m===0)return null;var X=Wn("recharts-rectangle",x);if(!_){var V=so(t),{radius:Y}=V,W=z8(V,zV);return I.createElement("path",ag({},W,{x:md(i),y:md(c),width:md(f),height:md(m),radius:typeof p=="number"?p:void 0,className:X,d:U8(i,c,f,m,p)}))}var Ne=T.current,Z=D.current,Q=R.current,ye=z.current,ie="0px ".concat(n===-1?1:n,"px"),q="".concat(n,"px 0px"),te=rT(["strokeDasharray"],S,typeof y=="string"?y:q8.animationEasing);return I.createElement(k1,{animationId:$,key:$,canBegin:n>0,duration:S,easing:y,isActive:_,begin:N},se=>{var ue=Ia(Ne,f,se),ee=Ia(Z,m,se),Se=Ia(Q,i,se),le=Ia(ye,c,se);r.current&&(T.current=ue,D.current=ee,R.current=Se,z.current=le);var U;j?se>0?U={transition:te,strokeDasharray:q}:U={strokeDasharray:ie}:U={strokeDasharray:q};var H=so(t),{radius:ae}=H,ge=z8(H,UV);return I.createElement("path",ag({},ge,{radius:typeof p=="number"?p:void 0,className:X,d:U8(Se,le,ue,ee,p),ref:r,style:F8(F8({},U),t.style)}))})};function H8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H8(Object(r),!0).forEach(function(n){GV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GV(e,t,r){return(t=YV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YV(e){var t=$V(e,"string");return typeof t=="symbol"?t:t+""}function $V(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ig=Math.PI/180,XV=e=>e*180/Math.PI,Di=(e,t,r,n)=>({x:e+Math.cos(-ig*n)*r,y:t+Math.sin(-ig*n)*r}),oT=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},KV=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},ZV=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,c=KV({x:r,y:n},{x:a,y:i});if(c<=0)return{radius:c,angle:0};var f=(r-a)/c,m=Math.acos(f);return n>i&&(m=2*Math.PI-m),{radius:c,angle:XV(m),angleInRadian:m}},QV=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},JV=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),c=Math.min(a,i);return e+c*360},eW=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=ZV({x:r,y:n},t),{innerRadius:c,outerRadius:f}=t;if(a<c||a>f||a===0)return null;var{startAngle:m,endAngle:p}=QV(t),x=i,y;if(m<=p){for(;x>p;)x-=360;for(;x<m;)x+=360;y=x>=m&&x<=p}else{for(;x>m;)x-=360;for(;x<p;)x+=360;y=x>=p&&x<=m}return y?V8(V8({},t),{},{radius:a,angle:JV(x,t)}):null};function lT(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,c=Di(t,r,n,a),f=Di(t,r,n,i);return{points:[c,f],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var W8,G8,Y8,$8,X8,K8,Z8;function s5(){return s5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s5.apply(null,arguments)}function ef(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var tW=(e,t)=>{var r=hs(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},tm=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:c,cornerRadius:f,cornerIsExternal:m}=e,p=f*(c?1:-1)+n,x=Math.asin(f/p)/ig,y=m?a:a+i*x,S=Di(t,r,p,y),N=Di(t,r,n,y),j=m?a-i*x:a,_=Di(t,r,p*Math.cos(x*ig),j);return{center:S,circleTangency:N,lineTangency:_,theta:x}},cT=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:c}=e,f=tW(i,c),m=i+f,p=Di(t,r,a,i),x=Di(t,r,a,m),y=li(W8||(W8=ef(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),p.x,p.y,a,a,+(Math.abs(f)>180),+(i>m),x.x,x.y);if(n>0){var S=Di(t,r,n,i),N=Di(t,r,n,m);y+=li(G8||(G8=ef(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),N.x,N.y,n,n,+(Math.abs(f)>180),+(i<=m),S.x,S.y)}else y+=li(Y8||(Y8=ef(["L ",","," Z"])),t,r);return y},rW=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:c,cornerIsExternal:f,startAngle:m,endAngle:p}=e,x=hs(p-m),{circleTangency:y,lineTangency:S,theta:N}=tm({cx:t,cy:r,radius:a,angle:m,sign:x,cornerRadius:i,cornerIsExternal:f}),{circleTangency:j,lineTangency:_,theta:T}=tm({cx:t,cy:r,radius:a,angle:p,sign:-x,cornerRadius:i,cornerIsExternal:f}),D=f?Math.abs(m-p):Math.abs(m-p)-N-T;if(D<0)return c?li($8||($8=ef(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),S.x,S.y,i,i,i*2,i,i,-i*2):cT({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:m,endAngle:p});var R=li(X8||(X8=ef(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),S.x,S.y,i,i,+(x<0),y.x,y.y,a,a,+(D>180),+(x<0),j.x,j.y,i,i,+(x<0),_.x,_.y);if(n>0){var{circleTangency:z,lineTangency:G,theta:$}=tm({cx:t,cy:r,radius:n,angle:m,sign:x,isExternal:!0,cornerRadius:i,cornerIsExternal:f}),{circleTangency:X,lineTangency:V,theta:Y}=tm({cx:t,cy:r,radius:n,angle:p,sign:-x,isExternal:!0,cornerRadius:i,cornerIsExternal:f}),W=f?Math.abs(m-p):Math.abs(m-p)-$-Y;if(W<0&&i===0)return"".concat(R,"L").concat(t,",").concat(r,"Z");R+=li(K8||(K8=ef(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),V.x,V.y,i,i,+(x<0),X.x,X.y,n,n,+(W>180),+(x>0),z.x,z.y,i,i,+(x<0),G.x,G.y)}else R+=li(Z8||(Z8=ef(["L",",","Z"])),t,r);return R},nW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uT=e=>{var t=ps(e,nW),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:c,forceCornerRadius:f,cornerIsExternal:m,startAngle:p,endAngle:x,className:y}=t;if(i<a||p===x)return null;var S=Wn("recharts-sector",y),N=i-a,j=Hs(c,N,0,!0),_;return j>0&&Math.abs(p-x)<360?_=rW({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(j,N/2),forceCornerRadius:f,cornerIsExternal:m,startAngle:p,endAngle:x}):_=cT({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:p,endAngle:x}),I.createElement("path",s5({},so(t),{className:S,d:_}))};function aW(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(qO(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:c,angle:f}=t,m=Di(n,a,i,f),p=Di(n,a,c,f);return[{x:m.x,y:m.y},{x:p.x,y:p.y}]}return lT(t)}}var Cy={},_y={},jy={},Q8;function iW(){return Q8||(Q8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JO();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r}(jy)),jy}var J8;function sW(){return J8||(J8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iW();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r}(_y)),_y}var eE;function oW(){return eE||(eE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e7(),r=sW();function n(a,i,c){c&&typeof c!="number"&&t.isIterateeCall(a,i,c)&&(i=c=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),c=c===void 0?a<i?1:-1:r.toFinite(c);const f=Math.max(Math.ceil((i-a)/(c||1)),0),m=new Array(f);for(let p=0;p<f;p++)m[p]=a,a+=c;return m}e.range=n}(Cy)),Cy}var Oy,tE;function lW(){return tE||(tE=1,Oy=oW().range),Oy}var cW=lW();const dT=Mc(cW);function yd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sw(e){let t,r,n;e.length!==2?(t=yd,r=(f,m)=>yd(e(f),m),n=(f,m)=>e(f)-m):(t=e===yd||e===uW?e:dW,r=e,n=e);function a(f,m,p=0,x=f.length){if(p<x){if(t(m,m)!==0)return x;do{const y=p+x>>>1;r(f[y],m)<0?p=y+1:x=y}while(p<x)}return p}function i(f,m,p=0,x=f.length){if(p<x){if(t(m,m)!==0)return x;do{const y=p+x>>>1;r(f[y],m)<=0?p=y+1:x=y}while(p<x)}return p}function c(f,m,p=0,x=f.length){const y=a(f,m,p,x-1);return y>p&&n(f[y-1],m)>-n(f[y],m)?y-1:y}return{left:a,center:c,right:i}}function dW(){return 0}function fT(e){return e===null?NaN:+e}function*fW(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const hW=Sw(yd),M1=hW.right;Sw(fT).center;class rE extends Map{constructor(t,r=gW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(nE(this,t))}has(t){return super.has(nE(this,t))}set(t,r){return super.set(pW(this,t),r)}delete(t){return super.delete(mW(this,t))}}function nE({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function pW({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function mW({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function gW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function xW(e=yd){if(e===yd)return hT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function hT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const vW=Math.sqrt(50),yW=Math.sqrt(10),bW=Math.sqrt(2);function sg(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),c=i>=vW?10:i>=yW?5:i>=bW?2:1;let f,m,p;return a<0?(p=Math.pow(10,-a)/c,f=Math.round(e*p),m=Math.round(t*p),f/p<e&&++f,m/p>t&&--m,p=-p):(p=Math.pow(10,a)*c,f=Math.round(e/p),m=Math.round(t/p),f*p<e&&++f,m*p>t&&--m),m<f&&.5<=r&&r<2?sg(e,t,r*2):[f,m,p]}function o5(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,c]=n?sg(t,e,r):sg(e,t,r);if(!(i>=a))return[];const f=i-a+1,m=new Array(f);if(n)if(c<0)for(let p=0;p<f;++p)m[p]=(i-p)/-c;else for(let p=0;p<f;++p)m[p]=(i-p)*c;else if(c<0)for(let p=0;p<f;++p)m[p]=(a+p)/-c;else for(let p=0;p<f;++p)m[p]=(a+p)*c;return m}function l5(e,t,r){return t=+t,e=+e,r=+r,sg(e,t,r)[2]}function c5(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?l5(t,e,r):l5(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function aE(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function iE(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function pT(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?hT:xW(a);n>r;){if(n-r>600){const m=n-r+1,p=t-r+1,x=Math.log(m),y=.5*Math.exp(2*x/3),S=.5*Math.sqrt(x*y*(m-y)/m)*(p-m/2<0?-1:1),N=Math.max(r,Math.floor(t-p*y/m+S)),j=Math.min(n,Math.floor(t+(m-p)*y/m+S));pT(e,t,N,j,a)}const i=e[t];let c=r,f=n;for(F0(e,r,t),a(e[n],i)>0&&F0(e,r,n);c<f;){for(F0(e,c,f),++c,--f;a(e[c],i)<0;)++c;for(;a(e[f],i)>0;)--f}a(e[r],i)===0?F0(e,r,f):(++f,F0(e,f,n)),f<=t&&(r=f+1),t<=f&&(n=f-1)}return e}function F0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function wW(e,t,r){if(e=Float64Array.from(fW(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return iE(e);if(t>=1)return aE(e);var n,a=(n-1)*t,i=Math.floor(a),c=aE(pT(e,i).subarray(0,i+1)),f=iE(e.subarray(i+1));return c+(f-c)*(a-i)}}function AW(e,t,r=fT){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),c=+r(e[i],i,e),f=+r(e[i+1],i+1,e);return c+(f-c)*(a-i)}}function NW(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Al(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _u(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const u5=Symbol("implicit");function Ew(){var e=new rE,t=[],r=[],n=u5;function a(i){let c=e.get(i);if(c===void 0){if(n!==u5)return n;e.set(i,c=t.push(i)-1)}return r[c%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new rE;for(const c of i)e.has(c)||e.set(c,t.push(c)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Ew(t,r).unknown(n)},Al.apply(a,arguments),a}function Cw(){var e=Ew().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,c,f=!1,m=0,p=0,x=.5;delete e.unknown;function y(){var S=t().length,N=a<n,j=N?a:n,_=N?n:a;i=(_-j)/Math.max(1,S-m+p*2),f&&(i=Math.floor(i)),j+=(_-j-i*(S-m))*x,c=i*(1-m),f&&(j=Math.round(j),c=Math.round(c));var T=NW(S).map(function(D){return j+i*D});return r(N?T.reverse():T)}return e.domain=function(S){return arguments.length?(t(S),y()):t()},e.range=function(S){return arguments.length?([n,a]=S,n=+n,a=+a,y()):[n,a]},e.rangeRound=function(S){return[n,a]=S,n=+n,a=+a,f=!0,y()},e.bandwidth=function(){return c},e.step=function(){return i},e.round=function(S){return arguments.length?(f=!!S,y()):f},e.padding=function(S){return arguments.length?(m=Math.min(1,p=+S),y()):m},e.paddingInner=function(S){return arguments.length?(m=Math.min(1,S),y()):m},e.paddingOuter=function(S){return arguments.length?(p=+S,y()):p},e.align=function(S){return arguments.length?(x=Math.max(0,Math.min(1,S)),y()):x},e.copy=function(){return Cw(t(),[n,a]).round(f).paddingInner(m).paddingOuter(p).align(x)},Al.apply(y(),arguments)}function mT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return mT(t())},e}function SW(){return mT(Cw.apply(null,arguments).paddingInner(1))}function _w(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function gT(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function D1(){}var d1=.7,og=1/d1,Sh="\\s*([+-]?\\d+)\\s*",f1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EW=/^#([0-9a-f]{3,8})$/,CW=new RegExp(`^rgb\\(${Sh},${Sh},${Sh}\\)$`),_W=new RegExp(`^rgb\\(${_c},${_c},${_c}\\)$`),jW=new RegExp(`^rgba\\(${Sh},${Sh},${Sh},${f1}\\)$`),OW=new RegExp(`^rgba\\(${_c},${_c},${_c},${f1}\\)$`),TW=new RegExp(`^hsl\\(${f1},${_c},${_c}\\)$`),kW=new RegExp(`^hsla\\(${f1},${_c},${_c},${f1}\\)$`),sE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_w(D1,h1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:oE,formatHex:oE,formatHex8:IW,formatHsl:MW,formatRgb:lE,toString:lE});function oE(){return this.rgb().formatHex()}function IW(){return this.rgb().formatHex8()}function MW(){return xT(this).formatHsl()}function lE(){return this.rgb().formatRgb()}function h1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=EW.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?cE(t):r===3?new jo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?rm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?rm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=CW.exec(e))?new jo(t[1],t[2],t[3],1):(t=_W.exec(e))?new jo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jW.exec(e))?rm(t[1],t[2],t[3],t[4]):(t=OW.exec(e))?rm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=TW.exec(e))?fE(t[1],t[2]/100,t[3]/100,1):(t=kW.exec(e))?fE(t[1],t[2]/100,t[3]/100,t[4]):sE.hasOwnProperty(e)?cE(sE[e]):e==="transparent"?new jo(NaN,NaN,NaN,0):null}function cE(e){return new jo(e>>16&255,e>>8&255,e&255,1)}function rm(e,t,r,n){return n<=0&&(e=t=r=NaN),new jo(e,t,r,n)}function DW(e){return e instanceof D1||(e=h1(e)),e?(e=e.rgb(),new jo(e.r,e.g,e.b,e.opacity)):new jo}function d5(e,t,r,n){return arguments.length===1?DW(e):new jo(e,t,r,n??1)}function jo(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}_w(jo,d5,gT(D1,{brighter(e){return e=e==null?og:Math.pow(og,e),new jo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?d1:Math.pow(d1,e),new jo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new jo(lf(this.r),lf(this.g),lf(this.b),lg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uE,formatHex:uE,formatHex8:LW,formatRgb:dE,toString:dE}));function uE(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}`}function LW(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}${tf((isNaN(this.opacity)?1:this.opacity)*255)}`}function dE(){const e=lg(this.opacity);return`${e===1?"rgb(":"rgba("}${lf(this.r)}, ${lf(this.g)}, ${lf(this.b)}${e===1?")":`, ${e})`}`}function lg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function lf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tf(e){return e=lf(e),(e<16?"0":"")+e.toString(16)}function fE(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Wl(e,t,r,n)}function xT(e){if(e instanceof Wl)return new Wl(e.h,e.s,e.l,e.opacity);if(e instanceof D1||(e=h1(e)),!e)return new Wl;if(e instanceof Wl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),c=NaN,f=i-a,m=(i+a)/2;return f?(t===i?c=(r-n)/f+(r<n)*6:r===i?c=(n-t)/f+2:c=(t-r)/f+4,f/=m<.5?i+a:2-i-a,c*=60):f=m>0&&m<1?0:c,new Wl(c,f,m,e.opacity)}function PW(e,t,r,n){return arguments.length===1?xT(e):new Wl(e,t,r,n??1)}function Wl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}_w(Wl,PW,gT(D1,{brighter(e){return e=e==null?og:Math.pow(og,e),new Wl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?d1:Math.pow(d1,e),new Wl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new jo(Ty(e>=240?e-240:e+120,a,n),Ty(e,a,n),Ty(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Wl(hE(this.h),nm(this.s),nm(this.l),lg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lg(this.opacity);return`${e===1?"hsl(":"hsla("}${hE(this.h)}, ${nm(this.s)*100}%, ${nm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hE(e){return e=(e||0)%360,e<0?e+360:e}function nm(e){return Math.max(0,Math.min(1,e||0))}function Ty(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const jw=e=>()=>e;function RW(e,t){return function(r){return e+r*t}}function BW(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function FW(e){return(e=+e)==1?vT:function(t,r){return r-t?BW(t,r,e):jw(isNaN(t)?r:t)}}function vT(e,t){var r=t-e;return r?RW(e,r):jw(isNaN(e)?t:e)}const pE=function e(t){var r=FW(t);function n(a,i){var c=r((a=d5(a)).r,(i=d5(i)).r),f=r(a.g,i.g),m=r(a.b,i.b),p=vT(a.opacity,i.opacity);return function(x){return a.r=c(x),a.g=f(x),a.b=m(x),a.opacity=p(x),a+""}}return n.gamma=e,n}(1);function zW(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function UW(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qW(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),c;for(c=0;c<n;++c)a[c]=Uh(e[c],t[c]);for(;c<r;++c)i[c]=t[c];return function(f){for(c=0;c<n;++c)i[c]=a[c](f);return i}}function HW(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function cg(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function VW(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Uh(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var f5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ky=new RegExp(f5.source,"g");function WW(e){return function(){return e}}function GW(e){return function(t){return e(t)+""}}function YW(e,t){var r=f5.lastIndex=ky.lastIndex=0,n,a,i,c=-1,f=[],m=[];for(e=e+"",t=t+"";(n=f5.exec(e))&&(a=ky.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),f[c]?f[c]+=i:f[++c]=i),(n=n[0])===(a=a[0])?f[c]?f[c]+=a:f[++c]=a:(f[++c]=null,m.push({i:c,x:cg(n,a)})),r=ky.lastIndex;return r<t.length&&(i=t.slice(r),f[c]?f[c]+=i:f[++c]=i),f.length<2?m[0]?GW(m[0].x):WW(t):(t=m.length,function(p){for(var x=0,y;x<t;++x)f[(y=m[x]).i]=y.x(p);return f.join("")})}function Uh(e,t){var r=typeof t,n;return t==null||r==="boolean"?jw(t):(r==="number"?cg:r==="string"?(n=h1(t))?(t=n,pE):YW:t instanceof h1?pE:t instanceof Date?HW:UW(t)?zW:Array.isArray(t)?qW:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?VW:cg)(e,t)}function Ow(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function $W(e,t){t===void 0&&(t=e,e=Uh);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(c){var f=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return i[f](c-f)}}function XW(e){return function(){return e}}function ug(e){return+e}var mE=[0,1];function ao(e){return e}function h5(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:XW(isNaN(t)?NaN:.5)}function KW(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ZW(e,t,r){var n=e[0],a=e[1],i=t[0],c=t[1];return a<n?(n=h5(a,n),i=r(c,i)):(n=h5(n,a),i=r(i,c)),function(f){return i(n(f))}}function QW(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)a[c]=h5(e[c],e[c+1]),i[c]=r(t[c],t[c+1]);return function(f){var m=M1(e,f,1,n)-1;return i[m](a[m](f))}}function L1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function px(){var e=mE,t=mE,r=Uh,n,a,i,c=ao,f,m,p;function x(){var S=Math.min(e.length,t.length);return c!==ao&&(c=KW(e[0],e[S-1])),f=S>2?QW:ZW,m=p=null,y}function y(S){return S==null||isNaN(S=+S)?i:(m||(m=f(e.map(n),t,r)))(n(c(S)))}return y.invert=function(S){return c(a((p||(p=f(t,e.map(n),cg)))(S)))},y.domain=function(S){return arguments.length?(e=Array.from(S,ug),x()):e.slice()},y.range=function(S){return arguments.length?(t=Array.from(S),x()):t.slice()},y.rangeRound=function(S){return t=Array.from(S),r=Ow,x()},y.clamp=function(S){return arguments.length?(c=S?!0:ao,x()):c!==ao},y.interpolate=function(S){return arguments.length?(r=S,x()):r},y.unknown=function(S){return arguments.length?(i=S,y):i},function(S,N){return n=S,a=N,x()}}function Tw(){return px()(ao,ao)}function JW(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Th(e){return e=dg(Math.abs(e)),e?e[1]:NaN}function eG(e,t){return function(r,n){for(var a=r.length,i=[],c=0,f=e[0],m=0;a>0&&f>0&&(m+f+1>n&&(f=Math.max(1,n-m)),i.push(r.substring(a-=f,a+f)),!((m+=f+1)>n));)f=e[c=(c+1)%e.length];return i.reverse().join(t)}}function tG(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var rG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p1(e){if(!(t=rG.exec(e)))throw new Error("invalid format: "+e);var t;return new kw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}p1.prototype=kw.prototype;function kw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}kw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nG(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var yT;function aG(e,t){var r=dg(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(yT=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=n.length;return i===c?n:i>c?n+new Array(i-c+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+dg(e,Math.max(0,t+i-1))[0]}function gE(e,t){var r=dg(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const xE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:JW,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gE(e*100,t),r:gE,s:aG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function vE(e){return e}var yE=Array.prototype.map,bE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function iG(e){var t=e.grouping===void 0||e.thousands===void 0?vE:eG(yE.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?vE:tG(yE.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function p(y){y=p1(y);var S=y.fill,N=y.align,j=y.sign,_=y.symbol,T=y.zero,D=y.width,R=y.comma,z=y.precision,G=y.trim,$=y.type;$==="n"?(R=!0,$="g"):xE[$]||(z===void 0&&(z=12),G=!0,$="g"),(T||S==="0"&&N==="=")&&(T=!0,S="0",N="=");var X=_==="$"?r:_==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",V=_==="$"?n:/[%p]/.test($)?c:"",Y=xE[$],W=/[defgprs%]/.test($);z=z===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,z)):Math.max(0,Math.min(20,z));function Ne(Z){var Q=X,ye=V,ie,q,te;if($==="c")ye=Y(Z)+ye,Z="";else{Z=+Z;var se=Z<0||1/Z<0;if(Z=isNaN(Z)?m:Y(Math.abs(Z),z),G&&(Z=nG(Z)),se&&+Z==0&&j!=="+"&&(se=!1),Q=(se?j==="("?j:f:j==="-"||j==="("?"":j)+Q,ye=($==="s"?bE[8+yT/3]:"")+ye+(se&&j==="("?")":""),W){for(ie=-1,q=Z.length;++ie<q;)if(te=Z.charCodeAt(ie),48>te||te>57){ye=(te===46?a+Z.slice(ie+1):Z.slice(ie))+ye,Z=Z.slice(0,ie);break}}}R&&!T&&(Z=t(Z,1/0));var ue=Q.length+Z.length+ye.length,ee=ue<D?new Array(D-ue+1).join(S):"";switch(R&&T&&(Z=t(ee+Z,ee.length?D-ye.length:1/0),ee=""),N){case"<":Z=Q+Z+ye+ee;break;case"=":Z=Q+ee+Z+ye;break;case"^":Z=ee.slice(0,ue=ee.length>>1)+Q+Z+ye+ee.slice(ue);break;default:Z=ee+Q+Z+ye;break}return i(Z)}return Ne.toString=function(){return y+""},Ne}function x(y,S){var N=p((y=p1(y),y.type="f",y)),j=Math.max(-8,Math.min(8,Math.floor(Th(S)/3)))*3,_=Math.pow(10,-j),T=bE[8+j/3];return function(D){return N(_*D)+T}}return{format:p,formatPrefix:x}}var am,Iw,bT;sG({thousands:",",grouping:[3],currency:["$",""]});function sG(e){return am=iG(e),Iw=am.format,bT=am.formatPrefix,am}function oG(e){return Math.max(0,-Th(Math.abs(e)))}function lG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Th(t)/3)))*3-Th(Math.abs(e)))}function cG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Th(t)-Th(e))+1}function wT(e,t,r,n){var a=c5(e,t,r),i;switch(n=p1(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=lG(a,c))&&(n.precision=i),bT(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=cG(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=oG(a))&&(n.precision=i-(n.type==="%")*2);break}}return Iw(n)}function Id(e){var t=e.domain;return e.ticks=function(r){var n=t();return o5(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return wT(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,c=n[a],f=n[i],m,p,x=10;for(f<c&&(p=c,c=f,f=p,p=a,a=i,i=p);x-- >0;){if(p=l5(c,f,r),p===m)return n[a]=c,n[i]=f,t(n);if(p>0)c=Math.floor(c/p)*p,f=Math.ceil(f/p)*p;else if(p<0)c=Math.ceil(c*p)/p,f=Math.floor(f*p)/p;else break;m=p}return e},e}function AT(){var e=Tw();return e.copy=function(){return L1(e,AT())},Al.apply(e,arguments),Id(e)}function NT(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ug),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return NT(e).unknown(t)},e=arguments.length?Array.from(e,ug):[0,1],Id(r)}function ST(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],c;return i<a&&(c=r,r=n,n=c,c=a,a=i,i=c),e[r]=t.floor(a),e[n]=t.ceil(i),e}function wE(e){return Math.log(e)}function AE(e){return Math.exp(e)}function uG(e){return-Math.log(-e)}function dG(e){return-Math.exp(-e)}function fG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function hG(e){return e===10?fG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function pG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function NE(e){return(t,r)=>-e(-t,r)}function Mw(e){const t=e(wE,AE),r=t.domain;let n=10,a,i;function c(){return a=pG(n),i=hG(n),r()[0]<0?(a=NE(a),i=NE(i),e(uG,dG)):e(wE,AE),t}return t.base=function(f){return arguments.length?(n=+f,c()):n},t.domain=function(f){return arguments.length?(r(f),c()):r()},t.ticks=f=>{const m=r();let p=m[0],x=m[m.length-1];const y=x<p;y&&([p,x]=[x,p]);let S=a(p),N=a(x),j,_;const T=f==null?10:+f;let D=[];if(!(n%1)&&N-S<T){if(S=Math.floor(S),N=Math.ceil(N),p>0){for(;S<=N;++S)for(j=1;j<n;++j)if(_=S<0?j/i(-S):j*i(S),!(_<p)){if(_>x)break;D.push(_)}}else for(;S<=N;++S)for(j=n-1;j>=1;--j)if(_=S>0?j/i(-S):j*i(S),!(_<p)){if(_>x)break;D.push(_)}D.length*2<T&&(D=o5(p,x,T))}else D=o5(S,N,Math.min(N-S,T)).map(i);return y?D.reverse():D},t.tickFormat=(f,m)=>{if(f==null&&(f=10),m==null&&(m=n===10?"s":","),typeof m!="function"&&(!(n%1)&&(m=p1(m)).precision==null&&(m.trim=!0),m=Iw(m)),f===1/0)return m;const p=Math.max(1,n*f/t.ticks().length);return x=>{let y=x/i(Math.round(a(x)));return y*n<n-.5&&(y*=n),y<=p?m(x):""}},t.nice=()=>r(ST(r(),{floor:f=>i(Math.floor(a(f))),ceil:f=>i(Math.ceil(a(f)))})),t}function ET(){const e=Mw(px()).domain([1,10]);return e.copy=()=>L1(e,ET()).base(e.base()),Al.apply(e,arguments),e}function SE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function EE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Dw(e){var t=1,r=e(SE(t),EE(t));return r.constant=function(n){return arguments.length?e(SE(t=+n),EE(t)):t},Id(r)}function CT(){var e=Dw(px());return e.copy=function(){return L1(e,CT()).constant(e.constant())},Al.apply(e,arguments)}function CE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function gG(e){return e<0?-e*e:e*e}function Lw(e){var t=e(ao,ao),r=1;function n(){return r===1?e(ao,ao):r===.5?e(mG,gG):e(CE(r),CE(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Id(t)}function Pw(){var e=Lw(px());return e.copy=function(){return L1(e,Pw()).exponent(e.exponent())},Al.apply(e,arguments),e}function xG(){return Pw.apply(null,arguments).exponent(.5)}function _E(e){return Math.sign(e)*e*e}function vG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function _T(){var e=Tw(),t=[0,1],r=!1,n;function a(i){var c=vG(e(i));return isNaN(c)?n:r?Math.round(c):c}return a.invert=function(i){return e.invert(_E(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ug)).map(_E)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return _T(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Al.apply(a,arguments),Id(a)}function jT(){var e=[],t=[],r=[],n;function a(){var c=0,f=Math.max(1,t.length);for(r=new Array(f-1);++c<f;)r[c-1]=AW(e,c/f);return i}function i(c){return c==null||isNaN(c=+c)?n:t[M1(r,c)]}return i.invertExtent=function(c){var f=t.indexOf(c);return f<0?[NaN,NaN]:[f>0?r[f-1]:e[0],f<r.length?r[f]:e[e.length-1]]},i.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let f of c)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(yd),a()},i.range=function(c){return arguments.length?(t=Array.from(c),a()):t.slice()},i.unknown=function(c){return arguments.length?(n=c,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return jT().domain(e).range(t).unknown(n)},Al.apply(i,arguments)}function OT(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function c(m){return m!=null&&m<=m?a[M1(n,m,0,r)]:i}function f(){var m=-1;for(n=new Array(r);++m<r;)n[m]=((m+1)*t-(m-r)*e)/(r+1);return c}return c.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,f()):[e,t]},c.range=function(m){return arguments.length?(r=(a=Array.from(m)).length-1,f()):a.slice()},c.invertExtent=function(m){var p=a.indexOf(m);return p<0?[NaN,NaN]:p<1?[e,n[0]]:p>=r?[n[r-1],t]:[n[p-1],n[p]]},c.unknown=function(m){return arguments.length&&(i=m),c},c.thresholds=function(){return n.slice()},c.copy=function(){return OT().domain([e,t]).range(a).unknown(i)},Al.apply(Id(c),arguments)}function TT(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[M1(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var c=t.indexOf(i);return[e[c-1],e[c]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return TT().domain(e).range(t).unknown(r)},Al.apply(a,arguments)}const Iy=new Date,My=new Date;function Zi(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const c=a(i),f=a.ceil(i);return i-c<f-i?c:f},a.offset=(i,c)=>(t(i=new Date(+i),c==null?1:Math.floor(c)),i),a.range=(i,c,f)=>{const m=[];if(i=a.ceil(i),f=f==null?1:Math.floor(f),!(i<c)||!(f>0))return m;let p;do m.push(p=new Date(+i)),t(i,f),e(i);while(p<i&&i<c);return m},a.filter=i=>Zi(c=>{if(c>=c)for(;e(c),!i(c);)c.setTime(c-1)},(c,f)=>{if(c>=c)if(f<0)for(;++f<=0;)for(;t(c,-1),!i(c););else for(;--f>=0;)for(;t(c,1),!i(c););}),r&&(a.count=(i,c)=>(Iy.setTime(+i),My.setTime(+c),e(Iy),e(My),Math.floor(r(Iy,My))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?c=>n(c)%i===0:c=>a.count(0,c)%i===0):a)),a}const fg=Zi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Zi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):fg);fg.range;const du=1e3,vl=du*60,fu=vl*60,vu=fu*24,Rw=vu*7,jE=vu*30,Dy=vu*365,rf=Zi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*du)},(e,t)=>(t-e)/du,e=>e.getUTCSeconds());rf.range;const Bw=Zi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*du)},(e,t)=>{e.setTime(+e+t*vl)},(e,t)=>(t-e)/vl,e=>e.getMinutes());Bw.range;const Fw=Zi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*vl)},(e,t)=>(t-e)/vl,e=>e.getUTCMinutes());Fw.range;const zw=Zi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*du-e.getMinutes()*vl)},(e,t)=>{e.setTime(+e+t*fu)},(e,t)=>(t-e)/fu,e=>e.getHours());zw.range;const Uw=Zi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*fu)},(e,t)=>(t-e)/fu,e=>e.getUTCHours());Uw.range;const P1=Zi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*vl)/vu,e=>e.getDate()-1);P1.range;const mx=Zi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vu,e=>e.getUTCDate()-1);mx.range;const kT=Zi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vu,e=>Math.floor(e/vu));kT.range;function Cf(e){return Zi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*vl)/Rw)}const gx=Cf(0),hg=Cf(1),yG=Cf(2),bG=Cf(3),kh=Cf(4),wG=Cf(5),AG=Cf(6);gx.range;hg.range;yG.range;bG.range;kh.range;wG.range;AG.range;function _f(e){return Zi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Rw)}const xx=_f(0),pg=_f(1),NG=_f(2),SG=_f(3),Ih=_f(4),EG=_f(5),CG=_f(6);xx.range;pg.range;NG.range;SG.range;Ih.range;EG.range;CG.range;const qw=Zi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());qw.range;const Hw=Zi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Hw.range;const yu=Zi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});yu.range;const bu=Zi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});bu.range;function IT(e,t,r,n,a,i){const c=[[rf,1,du],[rf,5,5*du],[rf,15,15*du],[rf,30,30*du],[i,1,vl],[i,5,5*vl],[i,15,15*vl],[i,30,30*vl],[a,1,fu],[a,3,3*fu],[a,6,6*fu],[a,12,12*fu],[n,1,vu],[n,2,2*vu],[r,1,Rw],[t,1,jE],[t,3,3*jE],[e,1,Dy]];function f(p,x,y){const S=x<p;S&&([p,x]=[x,p]);const N=y&&typeof y.range=="function"?y:m(p,x,y),j=N?N.range(p,+x+1):[];return S?j.reverse():j}function m(p,x,y){const S=Math.abs(x-p)/y,N=Sw(([,,T])=>T).right(c,S);if(N===c.length)return e.every(c5(p/Dy,x/Dy,y));if(N===0)return fg.every(Math.max(c5(p,x,y),1));const[j,_]=c[S/c[N-1][2]<c[N][2]/S?N-1:N];return j.every(_)}return[f,m]}const[_G,jG]=IT(bu,Hw,xx,kT,Uw,Fw),[OG,TG]=IT(yu,qw,gx,P1,zw,Bw);function Ly(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Py(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function z0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function kG(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,c=e.shortDays,f=e.months,m=e.shortMonths,p=U0(a),x=q0(a),y=U0(i),S=q0(i),N=U0(c),j=q0(c),_=U0(f),T=q0(f),D=U0(m),R=q0(m),z={a:se,A:ue,b:ee,B:Se,c:null,d:DE,e:DE,f:eY,g:uY,G:fY,H:ZG,I:QG,j:JG,L:MT,m:tY,M:rY,p:le,q:U,Q:RE,s:BE,S:nY,u:aY,U:iY,V:sY,w:oY,W:lY,x:null,X:null,y:cY,Y:dY,Z:hY,"%":PE},G={a:H,A:ae,b:ge,B:ve,c:null,d:LE,e:LE,f:xY,g:_Y,G:OY,H:pY,I:mY,j:gY,L:LT,m:vY,M:yY,p:de,q:ke,Q:RE,s:BE,S:bY,u:wY,U:AY,V:NY,w:SY,W:EY,x:null,X:null,y:CY,Y:jY,Z:TY,"%":PE},$={a:Ne,A:Z,b:Q,B:ye,c:ie,d:IE,e:IE,f:YG,g:kE,G:TE,H:ME,I:ME,j:HG,L:GG,m:qG,M:VG,p:W,q:UG,Q:XG,s:KG,S:WG,u:PG,U:RG,V:BG,w:LG,W:FG,x:q,X:te,y:kE,Y:TE,Z:zG,"%":$G};z.x=X(r,z),z.X=X(n,z),z.c=X(t,z),G.x=X(r,G),G.X=X(n,G),G.c=X(t,G);function X(me,xe){return function(Oe){var oe=[],Le=-1,Ge=0,Pe=me.length,ne,tt,at;for(Oe instanceof Date||(Oe=new Date(+Oe));++Le<Pe;)me.charCodeAt(Le)===37&&(oe.push(me.slice(Ge,Le)),(tt=OE[ne=me.charAt(++Le)])!=null?ne=me.charAt(++Le):tt=ne==="e"?" ":"0",(at=xe[ne])&&(ne=at(Oe,tt)),oe.push(ne),Ge=Le+1);return oe.push(me.slice(Ge,Le)),oe.join("")}}function V(me,xe){return function(Oe){var oe=z0(1900,void 0,1),Le=Y(oe,me,Oe+="",0),Ge,Pe;if(Le!=Oe.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(xe&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Ge=Py(z0(oe.y,0,1)),Pe=Ge.getUTCDay(),Ge=Pe>4||Pe===0?pg.ceil(Ge):pg(Ge),Ge=mx.offset(Ge,(oe.V-1)*7),oe.y=Ge.getUTCFullYear(),oe.m=Ge.getUTCMonth(),oe.d=Ge.getUTCDate()+(oe.w+6)%7):(Ge=Ly(z0(oe.y,0,1)),Pe=Ge.getDay(),Ge=Pe>4||Pe===0?hg.ceil(Ge):hg(Ge),Ge=P1.offset(Ge,(oe.V-1)*7),oe.y=Ge.getFullYear(),oe.m=Ge.getMonth(),oe.d=Ge.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),Pe="Z"in oe?Py(z0(oe.y,0,1)).getUTCDay():Ly(z0(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(Pe+5)%7:oe.w+oe.U*7-(Pe+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,Py(oe)):Ly(oe)}}function Y(me,xe,Oe,oe){for(var Le=0,Ge=xe.length,Pe=Oe.length,ne,tt;Le<Ge;){if(oe>=Pe)return-1;if(ne=xe.charCodeAt(Le++),ne===37){if(ne=xe.charAt(Le++),tt=$[ne in OE?xe.charAt(Le++):ne],!tt||(oe=tt(me,Oe,oe))<0)return-1}else if(ne!=Oe.charCodeAt(oe++))return-1}return oe}function W(me,xe,Oe){var oe=p.exec(xe.slice(Oe));return oe?(me.p=x.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function Ne(me,xe,Oe){var oe=N.exec(xe.slice(Oe));return oe?(me.w=j.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function Z(me,xe,Oe){var oe=y.exec(xe.slice(Oe));return oe?(me.w=S.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function Q(me,xe,Oe){var oe=D.exec(xe.slice(Oe));return oe?(me.m=R.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function ye(me,xe,Oe){var oe=_.exec(xe.slice(Oe));return oe?(me.m=T.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function ie(me,xe,Oe){return Y(me,t,xe,Oe)}function q(me,xe,Oe){return Y(me,r,xe,Oe)}function te(me,xe,Oe){return Y(me,n,xe,Oe)}function se(me){return c[me.getDay()]}function ue(me){return i[me.getDay()]}function ee(me){return m[me.getMonth()]}function Se(me){return f[me.getMonth()]}function le(me){return a[+(me.getHours()>=12)]}function U(me){return 1+~~(me.getMonth()/3)}function H(me){return c[me.getUTCDay()]}function ae(me){return i[me.getUTCDay()]}function ge(me){return m[me.getUTCMonth()]}function ve(me){return f[me.getUTCMonth()]}function de(me){return a[+(me.getUTCHours()>=12)]}function ke(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var xe=X(me+="",z);return xe.toString=function(){return me},xe},parse:function(me){var xe=V(me+="",!1);return xe.toString=function(){return me},xe},utcFormat:function(me){var xe=X(me+="",G);return xe.toString=function(){return me},xe},utcParse:function(me){var xe=V(me+="",!0);return xe.toString=function(){return me},xe}}}var OE={"-":"",_:" ",0:"0"},ms=/^\s*\d+/,IG=/^%/,MG=/[\\^$*+?|[\]().{}]/g;function Ln(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function DG(e){return e.replace(MG,"\\$&")}function U0(e){return new RegExp("^(?:"+e.map(DG).join("|")+")","i")}function q0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function LG(e,t,r){var n=ms.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function PG(e,t,r){var n=ms.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function RG(e,t,r){var n=ms.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function BG(e,t,r){var n=ms.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function FG(e,t,r){var n=ms.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function TE(e,t,r){var n=ms.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function kE(e,t,r){var n=ms.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function zG(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function UG(e,t,r){var n=ms.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function qG(e,t,r){var n=ms.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function IE(e,t,r){var n=ms.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function HG(e,t,r){var n=ms.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ME(e,t,r){var n=ms.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function VG(e,t,r){var n=ms.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function WG(e,t,r){var n=ms.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function GG(e,t,r){var n=ms.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function YG(e,t,r){var n=ms.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function $G(e,t,r){var n=IG.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function XG(e,t,r){var n=ms.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function KG(e,t,r){var n=ms.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function DE(e,t){return Ln(e.getDate(),t,2)}function ZG(e,t){return Ln(e.getHours(),t,2)}function QG(e,t){return Ln(e.getHours()%12||12,t,2)}function JG(e,t){return Ln(1+P1.count(yu(e),e),t,3)}function MT(e,t){return Ln(e.getMilliseconds(),t,3)}function eY(e,t){return MT(e,t)+"000"}function tY(e,t){return Ln(e.getMonth()+1,t,2)}function rY(e,t){return Ln(e.getMinutes(),t,2)}function nY(e,t){return Ln(e.getSeconds(),t,2)}function aY(e){var t=e.getDay();return t===0?7:t}function iY(e,t){return Ln(gx.count(yu(e)-1,e),t,2)}function DT(e){var t=e.getDay();return t>=4||t===0?kh(e):kh.ceil(e)}function sY(e,t){return e=DT(e),Ln(kh.count(yu(e),e)+(yu(e).getDay()===4),t,2)}function oY(e){return e.getDay()}function lY(e,t){return Ln(hg.count(yu(e)-1,e),t,2)}function cY(e,t){return Ln(e.getFullYear()%100,t,2)}function uY(e,t){return e=DT(e),Ln(e.getFullYear()%100,t,2)}function dY(e,t){return Ln(e.getFullYear()%1e4,t,4)}function fY(e,t){var r=e.getDay();return e=r>=4||r===0?kh(e):kh.ceil(e),Ln(e.getFullYear()%1e4,t,4)}function hY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ln(t/60|0,"0",2)+Ln(t%60,"0",2)}function LE(e,t){return Ln(e.getUTCDate(),t,2)}function pY(e,t){return Ln(e.getUTCHours(),t,2)}function mY(e,t){return Ln(e.getUTCHours()%12||12,t,2)}function gY(e,t){return Ln(1+mx.count(bu(e),e),t,3)}function LT(e,t){return Ln(e.getUTCMilliseconds(),t,3)}function xY(e,t){return LT(e,t)+"000"}function vY(e,t){return Ln(e.getUTCMonth()+1,t,2)}function yY(e,t){return Ln(e.getUTCMinutes(),t,2)}function bY(e,t){return Ln(e.getUTCSeconds(),t,2)}function wY(e){var t=e.getUTCDay();return t===0?7:t}function AY(e,t){return Ln(xx.count(bu(e)-1,e),t,2)}function PT(e){var t=e.getUTCDay();return t>=4||t===0?Ih(e):Ih.ceil(e)}function NY(e,t){return e=PT(e),Ln(Ih.count(bu(e),e)+(bu(e).getUTCDay()===4),t,2)}function SY(e){return e.getUTCDay()}function EY(e,t){return Ln(pg.count(bu(e)-1,e),t,2)}function CY(e,t){return Ln(e.getUTCFullYear()%100,t,2)}function _Y(e,t){return e=PT(e),Ln(e.getUTCFullYear()%100,t,2)}function jY(e,t){return Ln(e.getUTCFullYear()%1e4,t,4)}function OY(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ih(e):Ih.ceil(e),Ln(e.getUTCFullYear()%1e4,t,4)}function TY(){return"+0000"}function PE(){return"%"}function RE(e){return+e}function BE(e){return Math.floor(+e/1e3)}var oh,RT,BT;kY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kY(e){return oh=kG(e),RT=oh.format,oh.parse,BT=oh.utcFormat,oh.utcParse,oh}function IY(e){return new Date(e)}function MY(e){return e instanceof Date?+e:+new Date(+e)}function Vw(e,t,r,n,a,i,c,f,m,p){var x=Tw(),y=x.invert,S=x.domain,N=p(".%L"),j=p(":%S"),_=p("%I:%M"),T=p("%I %p"),D=p("%a %d"),R=p("%b %d"),z=p("%B"),G=p("%Y");function $(X){return(m(X)<X?N:f(X)<X?j:c(X)<X?_:i(X)<X?T:n(X)<X?a(X)<X?D:R:r(X)<X?z:G)(X)}return x.invert=function(X){return new Date(y(X))},x.domain=function(X){return arguments.length?S(Array.from(X,MY)):S().map(IY)},x.ticks=function(X){var V=S();return e(V[0],V[V.length-1],X??10)},x.tickFormat=function(X,V){return V==null?$:p(V)},x.nice=function(X){var V=S();return(!X||typeof X.range!="function")&&(X=t(V[0],V[V.length-1],X??10)),X?S(ST(V,X)):x},x.copy=function(){return L1(x,Vw(e,t,r,n,a,i,c,f,m,p))},x}function DY(){return Al.apply(Vw(OG,TG,yu,qw,gx,P1,zw,Bw,rf,RT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LY(){return Al.apply(Vw(_G,jG,bu,Hw,xx,mx,Uw,Fw,rf,BT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vx(){var e=0,t=1,r,n,a,i,c=ao,f=!1,m;function p(y){return y==null||isNaN(y=+y)?m:c(a===0?.5:(y=(i(y)-r)*a,f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t]=y,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),p):[e,t]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(c=y,p):c};function x(y){return function(S){var N,j;return arguments.length?([N,j]=S,c=y(N,j),p):[c(0),c(1)]}}return p.range=x(Uh),p.rangeRound=x(Ow),p.unknown=function(y){return arguments.length?(m=y,p):m},function(y){return i=y,r=y(e),n=y(t),a=r===n?0:1/(n-r),p}}function Md(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function FT(){var e=Id(vx()(ao));return e.copy=function(){return Md(e,FT())},_u.apply(e,arguments)}function zT(){var e=Mw(vx()).domain([1,10]);return e.copy=function(){return Md(e,zT()).base(e.base())},_u.apply(e,arguments)}function UT(){var e=Dw(vx());return e.copy=function(){return Md(e,UT()).constant(e.constant())},_u.apply(e,arguments)}function Ww(){var e=Lw(vx());return e.copy=function(){return Md(e,Ww()).exponent(e.exponent())},_u.apply(e,arguments)}function PY(){return Ww.apply(null,arguments).exponent(.5)}function qT(){var e=[],t=ao;function r(n){if(n!=null&&!isNaN(n=+n))return t((M1(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(yd),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>wW(e,i/n))},r.copy=function(){return qT(t).domain(e)},_u.apply(r,arguments)}function yx(){var e=0,t=.5,r=1,n=1,a,i,c,f,m,p=ao,x,y=!1,S;function N(_){return isNaN(_=+_)?S:(_=.5+((_=+x(_))-i)*(n*_<n*i?f:m),p(y?Math.max(0,Math.min(1,_)):_))}N.domain=function(_){return arguments.length?([e,t,r]=_,a=x(e=+e),i=x(t=+t),c=x(r=+r),f=a===i?0:.5/(i-a),m=i===c?0:.5/(c-i),n=i<a?-1:1,N):[e,t,r]},N.clamp=function(_){return arguments.length?(y=!!_,N):y},N.interpolator=function(_){return arguments.length?(p=_,N):p};function j(_){return function(T){var D,R,z;return arguments.length?([D,R,z]=T,p=$W(_,[D,R,z]),N):[p(0),p(.5),p(1)]}}return N.range=j(Uh),N.rangeRound=j(Ow),N.unknown=function(_){return arguments.length?(S=_,N):S},function(_){return x=_,a=_(e),i=_(t),c=_(r),f=a===i?0:.5/(i-a),m=i===c?0:.5/(c-i),n=i<a?-1:1,N}}function HT(){var e=Id(yx()(ao));return e.copy=function(){return Md(e,HT())},_u.apply(e,arguments)}function VT(){var e=Mw(yx()).domain([.1,1,10]);return e.copy=function(){return Md(e,VT()).base(e.base())},_u.apply(e,arguments)}function WT(){var e=Dw(yx());return e.copy=function(){return Md(e,WT()).constant(e.constant())},_u.apply(e,arguments)}function Gw(){var e=Lw(yx());return e.copy=function(){return Md(e,Gw()).exponent(e.exponent())},_u.apply(e,arguments)}function RY(){return Gw.apply(null,arguments).exponent(.5)}const $0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cw,scaleDiverging:HT,scaleDivergingLog:VT,scaleDivergingPow:Gw,scaleDivergingSqrt:RY,scaleDivergingSymlog:WT,scaleIdentity:NT,scaleImplicit:u5,scaleLinear:AT,scaleLog:ET,scaleOrdinal:Ew,scalePoint:SW,scalePow:Pw,scaleQuantile:jT,scaleQuantize:OT,scaleRadial:_T,scaleSequential:FT,scaleSequentialLog:zT,scaleSequentialPow:Ww,scaleSequentialQuantile:qT,scaleSequentialSqrt:PY,scaleSequentialSymlog:UT,scaleSqrt:xG,scaleSymlog:CT,scaleThreshold:TT,scaleTime:DY,scaleUtc:LY,tickFormat:wT},Symbol.toStringTag,{value:"Module"}));var ju=e=>e.chartData,bx=ct([ju],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),GT=(e,t,r,n)=>n?bx(e):ju(e),YT=(e,t,r)=>r?bx(e):ju(e);function Sd(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(va(t)&&va(r))return!0}return!1}function FE(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function $T(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(va(r))a=r;else if(typeof r=="function")return;if(va(n))i=n;else if(typeof n=="function")return;var c=[a,i];if(Sd(c))return c}}function BY(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Sd(n))return FE(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,c,f;if(a==="auto")t!=null&&(c=Math.min(...t));else if(nr(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&Q6.test(a)){var m=Q6.exec(a);if(m==null||m[1]==null||t==null)c=void 0;else{var p=+m[1];c=t[0]-p}}else c=t==null?void 0:t[0];if(i==="auto")t!=null&&(f=Math.max(...t));else if(nr(i))f=i;else if(typeof i=="function")try{t!=null&&(f=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&J6.test(i)){var x=J6.exec(i);if(x==null||x[1]==null||t==null)f=void 0;else{var y=+x[1];f=t[1]+y}}else f=t==null?void 0:t[1];var S=[c,f];if(Sd(S))return t==null?S:FE(S,t,r)}}}var qh=1e9,FY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$w,Va=!0,wl="[DecimalError] ",cf=wl+"Invalid argument: ",Yw=wl+"Exponent out of range: ",Hh=Math.floor,Zd=Math.pow,zY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$o,ds=1e7,ka=7,XT=9007199254740991,mg=Hh(XT/ka),ur={};ur.absoluteValue=ur.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ur.comparedTo=ur.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ur.decimalPlaces=ur.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ka;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ur.dividedBy=ur.div=function(e){return pu(this,new this.constructor(e))};ur.dividedToIntegerBy=ur.idiv=function(e){var t=this,r=t.constructor;return xa(pu(t,new r(e),0,1),r.precision)};ur.equals=ur.eq=function(e){return!this.cmp(e)};ur.exponent=function(){return Pi(this)};ur.greaterThan=ur.gt=function(e){return this.cmp(e)>0};ur.greaterThanOrEqualTo=ur.gte=function(e){return this.cmp(e)>=0};ur.isInteger=ur.isint=function(){return this.e>this.d.length-2};ur.isNegative=ur.isneg=function(){return this.s<0};ur.isPositive=ur.ispos=function(){return this.s>0};ur.isZero=function(){return this.s===0};ur.lessThan=ur.lt=function(e){return this.cmp(e)<0};ur.lessThanOrEqualTo=ur.lte=function(e){return this.cmp(e)<1};ur.logarithm=ur.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq($o))throw Error(wl+"NaN");if(r.s<1)throw Error(wl+(r.s?"NaN":"-Infinity"));return r.eq($o)?new n(0):(Va=!1,t=pu(m1(r,i),m1(e,i),i),Va=!0,xa(t,a))};ur.minus=ur.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?QT(t,e):KT(t,(e.s=-e.s,e))};ur.modulo=ur.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(wl+"NaN");return r.s?(Va=!1,t=pu(r,e,0,1).times(e),Va=!0,r.minus(t)):xa(new n(r),a)};ur.naturalExponential=ur.exp=function(){return ZT(this)};ur.naturalLogarithm=ur.ln=function(){return m1(this)};ur.negated=ur.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ur.plus=ur.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?KT(t,e):QT(t,(e.s=-e.s,e))};ur.precision=ur.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(cf+e);if(t=Pi(a)+1,n=a.d.length-1,r=n*ka+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ur.squareRoot=ur.sqrt=function(){var e,t,r,n,a,i,c,f=this,m=f.constructor;if(f.s<1){if(!f.s)return new m(0);throw Error(wl+"NaN")}for(e=Pi(f),Va=!1,a=Math.sqrt(+f),a==0||a==1/0?(t=Sc(f.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Hh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new m(t)):n=new m(a.toString()),r=m.precision,a=c=r+3;;)if(i=n,n=i.plus(pu(f,i,c+2)).times(.5),Sc(i.d).slice(0,c)===(t=Sc(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),a==c&&t=="4999"){if(xa(i,r+1,0),i.times(i).eq(f)){n=i;break}}else if(t!="9999")break;c+=4}return Va=!0,xa(n,r)};ur.times=ur.mul=function(e){var t,r,n,a,i,c,f,m,p,x=this,y=x.constructor,S=x.d,N=(e=new y(e)).d;if(!x.s||!e.s)return new y(0);for(e.s*=x.s,r=x.e+e.e,m=S.length,p=N.length,m<p&&(i=S,S=N,N=i,c=m,m=p,p=c),i=[],c=m+p,n=c;n--;)i.push(0);for(n=p;--n>=0;){for(t=0,a=m+n;a>n;)f=i[a]+N[n]*S[a-n-1]+t,i[a--]=f%ds|0,t=f/ds|0;i[a]=(i[a]+t)%ds|0}for(;!i[--c];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Va?xa(e,y.precision):e};ur.toDecimalPlaces=ur.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ic(e,0,qh),t===void 0?t=n.rounding:Ic(t,0,8),xa(r,e+Pi(r)+1,t))};ur.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=bf(n,!0):(Ic(e,0,qh),t===void 0?t=a.rounding:Ic(t,0,8),n=xa(new a(n),e+1,t),r=bf(n,!0,e+1)),r};ur.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?bf(a):(Ic(e,0,qh),t===void 0?t=i.rounding:Ic(t,0,8),n=xa(new i(a),e+Pi(a)+1,t),r=bf(n.abs(),!1,e+Pi(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ur.toInteger=ur.toint=function(){var e=this,t=e.constructor;return xa(new t(e),Pi(e)+1,t.rounding)};ur.toNumber=function(){return+this};ur.toPower=ur.pow=function(e){var t,r,n,a,i,c,f=this,m=f.constructor,p=12,x=+(e=new m(e));if(!e.s)return new m($o);if(f=new m(f),!f.s){if(e.s<1)throw Error(wl+"Infinity");return f}if(f.eq($o))return f;if(n=m.precision,e.eq($o))return xa(f,n);if(t=e.e,r=e.d.length-1,c=t>=r,i=f.s,c){if((r=x<0?-x:x)<=XT){for(a=new m($o),t=Math.ceil(n/ka+4),Va=!1;r%2&&(a=a.times(f),UE(a.d,t)),r=Hh(r/2),r!==0;)f=f.times(f),UE(f.d,t);return Va=!0,e.s<0?new m($o).div(a):xa(a,n)}}else if(i<0)throw Error(wl+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,f.s=1,Va=!1,a=e.times(m1(f,n+p)),Va=!0,a=ZT(a),a.s=i,a};ur.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Pi(a),n=bf(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ic(e,1,qh),t===void 0?t=i.rounding:Ic(t,0,8),a=xa(new i(a),e,t),r=Pi(a),n=bf(a,e<=r||r<=i.toExpNeg,e)),n};ur.toSignificantDigits=ur.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ic(e,1,qh),t===void 0?t=n.rounding:Ic(t,0,8)),xa(new n(r),e,t)};ur.toString=ur.valueOf=ur.val=ur.toJSON=ur[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pi(e),r=e.constructor;return bf(e,t<=r.toExpNeg||t>=r.toExpPos)};function KT(e,t){var r,n,a,i,c,f,m,p,x=e.constructor,y=x.precision;if(!e.s||!t.s)return t.s||(t=new x(e)),Va?xa(t,y):t;if(m=e.d,p=t.d,c=e.e,a=t.e,m=m.slice(),i=c-a,i){for(i<0?(n=m,i=-i,f=p.length):(n=p,a=c,f=m.length),c=Math.ceil(y/ka),f=c>f?c+1:f+1,i>f&&(i=f,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(f=m.length,i=p.length,f-i<0&&(i=f,n=p,p=m,m=n),r=0;i;)r=(m[--i]=m[i]+p[i]+r)/ds|0,m[i]%=ds;for(r&&(m.unshift(r),++a),f=m.length;m[--f]==0;)m.pop();return t.d=m,t.e=a,Va?xa(t,y):t}function Ic(e,t,r){if(e!==~~e||e<t||e>r)throw Error(cf+e)}function Sc(e){var t,r,n,a=e.length-1,i="",c=e[0];if(a>0){for(i+=c,t=1;t<a;t++)n=e[t]+"",r=ka-n.length,r&&(i+=ld(r)),i+=n;c=e[t],n=c+"",r=ka-n.length,r&&(i+=ld(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return i+c}var pu=function(){function e(n,a){var i,c=0,f=n.length;for(n=n.slice();f--;)i=n[f]*a+c,n[f]=i%ds|0,c=i/ds|0;return c&&n.unshift(c),n}function t(n,a,i,c){var f,m;if(i!=c)m=i>c?1:-1;else for(f=m=0;f<i;f++)if(n[f]!=a[f]){m=n[f]>a[f]?1:-1;break}return m}function r(n,a,i){for(var c=0;i--;)n[i]-=c,c=n[i]<a[i]?1:0,n[i]=c*ds+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,c){var f,m,p,x,y,S,N,j,_,T,D,R,z,G,$,X,V,Y,W=n.constructor,Ne=n.s==a.s?1:-1,Z=n.d,Q=a.d;if(!n.s)return new W(n);if(!a.s)throw Error(wl+"Division by zero");for(m=n.e-a.e,V=Q.length,$=Z.length,N=new W(Ne),j=N.d=[],p=0;Q[p]==(Z[p]||0);)++p;if(Q[p]>(Z[p]||0)&&--m,i==null?R=i=W.precision:c?R=i+(Pi(n)-Pi(a))+1:R=i,R<0)return new W(0);if(R=R/ka+2|0,p=0,V==1)for(x=0,Q=Q[0],R++;(p<$||x)&&R--;p++)z=x*ds+(Z[p]||0),j[p]=z/Q|0,x=z%Q|0;else{for(x=ds/(Q[0]+1)|0,x>1&&(Q=e(Q,x),Z=e(Z,x),V=Q.length,$=Z.length),G=V,_=Z.slice(0,V),T=_.length;T<V;)_[T++]=0;Y=Q.slice(),Y.unshift(0),X=Q[0],Q[1]>=ds/2&&++X;do x=0,f=t(Q,_,V,T),f<0?(D=_[0],V!=T&&(D=D*ds+(_[1]||0)),x=D/X|0,x>1?(x>=ds&&(x=ds-1),y=e(Q,x),S=y.length,T=_.length,f=t(y,_,S,T),f==1&&(x--,r(y,V<S?Y:Q,S))):(x==0&&(f=x=1),y=Q.slice()),S=y.length,S<T&&y.unshift(0),r(_,y,T),f==-1&&(T=_.length,f=t(Q,_,V,T),f<1&&(x++,r(_,V<T?Y:Q,T))),T=_.length):f===0&&(x++,_=[0]),j[p++]=x,f&&_[0]?_[T++]=Z[G]||0:(_=[Z[G]],T=1);while((G++<$||_[0]!==void 0)&&R--)}return j[0]||j.shift(),N.e=m,xa(N,c?i+Pi(N)+1:i)}}();function ZT(e,t){var r,n,a,i,c,f,m=0,p=0,x=e.constructor,y=x.precision;if(Pi(e)>16)throw Error(Yw+Pi(e));if(!e.s)return new x($o);for(Va=!1,f=y,c=new x(.03125);e.abs().gte(.1);)e=e.times(c),p+=5;for(n=Math.log(Zd(2,p))/Math.LN10*2+5|0,f+=n,r=a=i=new x($o),x.precision=f;;){if(a=xa(a.times(e),f),r=r.times(++m),c=i.plus(pu(a,r,f)),Sc(c.d).slice(0,f)===Sc(i.d).slice(0,f)){for(;p--;)i=xa(i.times(i),f);return x.precision=y,t==null?(Va=!0,xa(i,y)):i}i=c}}function Pi(e){for(var t=e.e*ka,r=e.d[0];r>=10;r/=10)t++;return t}function Ry(e,t,r){if(t>e.LN10.sd())throw Va=!0,r&&(e.precision=r),Error(wl+"LN10 precision limit exceeded");return xa(new e(e.LN10),t)}function ld(e){for(var t="";e--;)t+="0";return t}function m1(e,t){var r,n,a,i,c,f,m,p,x,y=1,S=10,N=e,j=N.d,_=N.constructor,T=_.precision;if(N.s<1)throw Error(wl+(N.s?"NaN":"-Infinity"));if(N.eq($o))return new _(0);if(t==null?(Va=!1,p=T):p=t,N.eq(10))return t==null&&(Va=!0),Ry(_,p);if(p+=S,_.precision=p,r=Sc(j),n=r.charAt(0),i=Pi(N),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)N=N.times(e),r=Sc(N.d),n=r.charAt(0),y++;i=Pi(N),n>1?(N=new _("0."+r),i++):N=new _(n+"."+r.slice(1))}else return m=Ry(_,p+2,T).times(i+""),N=m1(new _(n+"."+r.slice(1)),p-S).plus(m),_.precision=T,t==null?(Va=!0,xa(N,T)):N;for(f=c=N=pu(N.minus($o),N.plus($o),p),x=xa(N.times(N),p),a=3;;){if(c=xa(c.times(x),p),m=f.plus(pu(c,new _(a),p)),Sc(m.d).slice(0,p)===Sc(f.d).slice(0,p))return f=f.times(2),i!==0&&(f=f.plus(Ry(_,p+2,T).times(i+""))),f=pu(f,new _(y),p),_.precision=T,t==null?(Va=!0,xa(f,T)):f;f=m,a+=2}}function zE(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Hh(r/ka),e.d=[],n=(r+1)%ka,r<0&&(n+=ka),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=ka;n<a;)e.d.push(+t.slice(n,n+=ka));t=t.slice(n),n=ka-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Va&&(e.e>mg||e.e<-mg))throw Error(Yw+r)}else e.s=0,e.e=0,e.d=[0];return e}function xa(e,t,r){var n,a,i,c,f,m,p,x,y=e.d;for(c=1,i=y[0];i>=10;i/=10)c++;if(n=t-c,n<0)n+=ka,a=t,p=y[x=0];else{if(x=Math.ceil((n+1)/ka),i=y.length,x>=i)return e;for(p=i=y[x],c=1;i>=10;i/=10)c++;n%=ka,a=n-ka+c}if(r!==void 0&&(i=Zd(10,c-a-1),f=p/i%10|0,m=t<0||y[x+1]!==void 0||p%i,m=r<4?(f||m)&&(r==0||r==(e.s<0?3:2)):f>5||f==5&&(r==4||m||r==6&&(n>0?a>0?p/Zd(10,c-a):0:y[x-1])%10&1||r==(e.s<0?8:7))),t<1||!y[0])return m?(i=Pi(e),y.length=1,t=t-i-1,y[0]=Zd(10,(ka-t%ka)%ka),e.e=Hh(-t/ka)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(n==0?(y.length=x,i=1,x--):(y.length=x+1,i=Zd(10,ka-n),y[x]=a>0?(p/Zd(10,c-a)%Zd(10,a)|0)*i:0),m)for(;;)if(x==0){(y[0]+=i)==ds&&(y[0]=1,++e.e);break}else{if(y[x]+=i,y[x]!=ds)break;y[x--]=0,i=1}for(n=y.length;y[--n]===0;)y.pop();if(Va&&(e.e>mg||e.e<-mg))throw Error(Yw+Pi(e));return e}function QT(e,t){var r,n,a,i,c,f,m,p,x,y,S=e.constructor,N=S.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new S(e),Va?xa(t,N):t;if(m=e.d,y=t.d,n=t.e,p=e.e,m=m.slice(),c=p-n,c){for(x=c<0,x?(r=m,c=-c,f=y.length):(r=y,n=p,f=m.length),a=Math.max(Math.ceil(N/ka),f)+2,c>a&&(c=a,r.length=1),r.reverse(),a=c;a--;)r.push(0);r.reverse()}else{for(a=m.length,f=y.length,x=a<f,x&&(f=a),a=0;a<f;a++)if(m[a]!=y[a]){x=m[a]<y[a];break}c=0}for(x&&(r=m,m=y,y=r,t.s=-t.s),f=m.length,a=y.length-f;a>0;--a)m[f++]=0;for(a=y.length;a>c;){if(m[--a]<y[a]){for(i=a;i&&m[--i]===0;)m[i]=ds-1;--m[i],m[a]+=ds}m[a]-=y[a]}for(;m[--f]===0;)m.pop();for(;m[0]===0;m.shift())--n;return m[0]?(t.d=m,t.e=n,Va?xa(t,N):t):new S(0)}function bf(e,t,r){var n,a=Pi(e),i=Sc(e.d),c=i.length;return t?(r&&(n=r-c)>0?i=i.charAt(0)+"."+i.slice(1)+ld(n):c>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ld(-a-1)+i,r&&(n=r-c)>0&&(i+=ld(n))):a>=c?(i+=ld(a+1-c),r&&(n=r-a-1)>0&&(i=i+"."+ld(n))):((n=a+1)<c&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-c)>0&&(a+1===c&&(i+="."),i+=ld(n))),e.s<0?"-"+i:i}function UE(e,t){if(e.length>t)return e.length=t,!0}function JT(e){var t,r,n;function a(i){var c=this;if(!(c instanceof a))return new a(i);if(c.constructor=a,i instanceof a){c.s=i.s,c.e=i.e,c.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(cf+i);if(i>0)c.s=1;else if(i<0)i=-i,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(i===~~i&&i<1e7){c.e=0,c.d=[i];return}return zE(c,i.toString())}else if(typeof i!="string")throw Error(cf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),c.s=-1):c.s=1,zY.test(i))zE(c,i);else throw Error(cf+i)}if(a.prototype=ur,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=JT,a.config=a.set=UY,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function UY(e){if(!e||typeof e!="object")throw Error(wl+"Object expected");var t,r,n,a=["precision",1,qh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Hh(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(cf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(cf+r+": "+n);return this}var $w=JT(FY);$o=new $w(1);const Qn=$w;var qY=e=>e,ek={},tk=e=>e===ek,qE=e=>function t(){return arguments.length===0||arguments.length===1&&tk(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},rk=(e,t)=>e===1?t:qE(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(c=>c!==ek).length;return i>=e?t(...n):rk(e-i,qE(function(){for(var c=arguments.length,f=new Array(c),m=0;m<c;m++)f[m]=arguments[m];var p=n.map(x=>tk(x)?f.shift():x);return t(...p,...f)}))}),HY=e=>rk(e.length,e),p5=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},VY=HY((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),WY=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return qY;var a=r.reverse(),i=a[0],c=a.slice(1);return function(){return c.reduce((f,m)=>m(f),i(...arguments))}};function nk(e){var t;return e===0?t=1:t=Math.floor(new Qn(e).abs().log(10).toNumber())+1,t}function ak(e,t,r){for(var n=new Qn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var ik=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},sk=(e,t,r)=>{if(e.lte(0))return new Qn(0);var n=nk(e.toNumber()),a=new Qn(10).pow(n),i=e.div(a),c=n!==1?.05:.1,f=new Qn(Math.ceil(i.div(c).toNumber())).add(r).mul(c),m=f.mul(a);return t?new Qn(m.toNumber()):new Qn(Math.ceil(m.toNumber()))},GY=(e,t,r)=>{var n=new Qn(1),a=new Qn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Qn(10).pow(nk(e)-1),a=new Qn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Qn(Math.floor(e)))}else e===0?a=new Qn(Math.floor((t-1)/2)):r||(a=new Qn(Math.floor(e)));var c=Math.floor((t-1)/2),f=WY(VY(m=>a.add(new Qn(m-c).mul(n)).toNumber()),p5);return f(0,t)},ok=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Qn(0),tickMin:new Qn(0),tickMax:new Qn(0)};var c=sk(new Qn(r).sub(t).div(n-1),a,i),f;t<=0&&r>=0?f=new Qn(0):(f=new Qn(t).add(r).div(2),f=f.sub(new Qn(f).mod(c)));var m=Math.ceil(f.sub(t).div(c).toNumber()),p=Math.ceil(new Qn(r).sub(f).div(c).toNumber()),x=m+p+1;return x>n?ok(t,r,n,a,i+1):(x<n&&(p=r>0?p+(n-x):p,m=r>0?m:m+(n-x)),{step:c,tickMin:f.sub(new Qn(m).mul(c)),tickMax:f.add(new Qn(p).mul(c))})},YY=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[f,m]=ik([r,n]);if(f===-1/0||m===1/0){var p=m===1/0?[f,...p5(0,a-1).map(()=>1/0)]:[...p5(0,a-1).map(()=>-1/0),m];return r>n?p.reverse():p}if(f===m)return GY(f,a,i);var{step:x,tickMin:y,tickMax:S}=ok(f,m,c,i,0),N=ak(y,S.add(new Qn(.1).mul(x)),x);return r>n?N.reverse():N},$Y=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,f]=ik([n,a]);if(c===-1/0||f===1/0)return[n,a];if(c===f)return[c];var m=Math.max(r,2),p=sk(new Qn(f).sub(c).div(m-1),i,0),x=[...ak(new Qn(c),new Qn(f),p),f];return i===!1&&(x=x.map(y=>Math.round(y))),n>a?x.reverse():x},lk=e=>e.rootProps.maxBarSize,XY=e=>e.rootProps.barGap,ck=e=>e.rootProps.barCategoryGap,KY=e=>e.rootProps.barSize,R1=e=>e.rootProps.stackOffset,uk=e=>e.rootProps.reverseStackOrder,Xw=e=>e.options.chartName,Kw=e=>e.rootProps.syncId,dk=e=>e.rootProps.syncMethod,Zw=e=>e.options.eventEmitter,ZY=e=>e.rootProps.baseValue,Li={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},cu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Yo={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},wx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},QY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:cu.angleAxisId,includeHidden:!1,name:void 0,reversed:cu.reversed,scale:cu.scale,tick:cu.tick,tickCount:void 0,ticks:void 0,type:cu.type,unit:void 0},JY={allowDataOverflow:Yo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Yo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yo.scale,tick:Yo.tick,tickCount:Yo.tickCount,ticks:void 0,type:Yo.type,unit:void 0},e$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:cu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cu.scale,tick:cu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},t$={allowDataOverflow:Yo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Yo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yo.scale,tick:Yo.tick,tickCount:Yo.tickCount,ticks:void 0,type:"category",unit:void 0},Qw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?e$:QY,Jw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?t$:JY,Ax=e=>e.polarOptions,e3=ct([Eu,Cu,Ki],oT),fk=ct([Ax,e3],(e,t)=>{if(e!=null)return Hs(e.innerRadius,t,0)}),hk=ct([Ax,e3],(e,t)=>{if(e!=null)return Hs(e.outerRadius,t,t*.8)}),r$=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},pk=ct([Ax],r$);ct([Qw,pk],wx);var mk=ct([e3,fk,hk],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ct([Jw,mk],wx);var gk=ct([Nn,Ax,fk,hk,Eu,Cu],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:f,startAngle:m,endAngle:p}=t;return{cx:Hs(c,a,a/2),cy:Hs(f,i,i/2),innerRadius:r,outerRadius:n,startAngle:m,endAngle:p,clockWise:!1}}}),Ya=(e,t)=>t,B1=(e,t,r)=>r;function Nx(e){return e==null?void 0:e.id}function xk(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,c=new Map;return e.forEach(f=>{var m,p=(m=f.data)!==null&&m!==void 0?m:n;if(!(p==null||p.length===0)){var x=Nx(f);p.forEach((y,S)=>{var N=i==null||a?S:String(sa(y,i,null)),j=sa(y,f.dataKey,0),_;c.has(N)?_=c.get(N):_={},Object.assign(_,{[x]:j}),c.set(N,_)})}}),Array.from(c.values())}function Sx(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Ex=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Cx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function n$(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Qi=e=>{var t=Nn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Vh=e=>e.tooltip.settings.axisId;function HE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(r),!0).forEach(function(n){a$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a$(e,t,r){return(t=i$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i$(e){var t=s$(e,"string");return typeof t=="symbol"?t:t+""}function s$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m5=[0,"auto"],cs={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},vk=(e,t)=>e.cartesianAxis.xAxis[t],Ou=(e,t)=>{var r=vk(e,t);return r??cs},us={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:m5,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:j1},yk=(e,t)=>e.cartesianAxis.yAxis[t],Tu=(e,t)=>{var r=yk(e,t);return r??us},o$={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},t3=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??o$},Qa=(e,t,r)=>{switch(t){case"xAxis":return Ou(e,r);case"yAxis":return Tu(e,r);case"zAxis":return t3(e,r);case"angleAxis":return Qw(e,r);case"radiusAxis":return Jw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},l$=(e,t,r)=>{switch(t){case"xAxis":return Ou(e,r);case"yAxis":return Tu(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},F1=(e,t,r)=>{switch(t){case"xAxis":return Ou(e,r);case"yAxis":return Tu(e,r);case"angleAxis":return Qw(e,r);case"radiusAxis":return Jw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},bk=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function r3(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var _x=e=>e.graphicalItems.cartesianItems,c$=ct([Ya,B1],r3),n3=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),z1=ct([_x,Qa,c$],n3,{memoizeOptions:{resultEqualityCheck:Cx}}),wk=ct([z1],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Sx)),Ak=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),u$=ct([z1],Ak),a3=e=>e.map(t=>t.data).filter(Boolean).flat(1),d$=ct([z1],a3,{memoizeOptions:{resultEqualityCheck:Cx}}),i3=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},s3=ct([d$,GT],i3),o3=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:sa(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:sa(a,n)}))):e.map(n=>({value:n})),jx=ct([s3,Qa,z1],o3);function Nk(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Cm(e){if(Tc(e)||e instanceof Date){var t=Number(e);if(va(t))return t}}function VE(e){if(Array.isArray(e)){var t=[Cm(e[0]),Cm(e[1])];return Sd(t)?t:void 0}var r=Cm(e);if(r!=null)return[r,r]}function wu(e){return e.map(Cm).filter(_z)}function f$(e,t,r){return!r||typeof t!="number"||yl(t)?[]:r.length?wu(r.flatMap(n=>{var a=sa(e,n.dataKey),i,c;if(Array.isArray(a)?[i,c]=a:i=c=a,!(!va(i)||!va(c)))return[t-i,t+c]})):[]}var Ji=e=>{var t=Qi(e),r=Vh(e);return F1(e,t,r)},U1=ct([Ji],e=>e==null?void 0:e.dataKey),h$=ct([wk,GT,Ji],xk),Sk=(e,t,r,n)=>{var a={},i=t.reduce((c,f)=>{if(f.stackId==null)return c;var m=c[f.stackId];return m==null&&(m=[]),m.push(f),c[f.stackId]=m,c},a);return Object.fromEntries(Object.entries(i).map(c=>{var[f,m]=c,p=n?[...m].reverse():m,x=p.map(Nx);return[f,{stackedData:Gq(e,x,r),graphicalItems:p}]}))},xg=ct([h$,wk,R1,uk],Sk),Ek=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var c=Kq(e,a,i);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},p$=ct([Qa],e=>e.allowDataOverflow),l3=e=>{var t;if(e==null||!("domain"in e))return m5;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=wu(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:m5},c3=ct([Qa],l3),u3=ct([c3,p$],$T),m$=ct([xg,ju,Ya,u3],Ek,{memoizeOptions:{resultEqualityCheck:Ex}}),Ox=e=>e.errorBars,g$=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Nk(r,n)),vg=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),c=Math.min(...i),f=Math.max(...i);return[c,f]}},d3=(e,t,r,n,a)=>{var i,c;if(r.length>0&&e.forEach(f=>{r.forEach(m=>{var p,x,y=(p=n[m.id])===null||p===void 0?void 0:p.filter(D=>Nk(a,D)),S=sa(f,(x=t.dataKey)!==null&&x!==void 0?x:m.dataKey),N=f$(f,S,y);if(N.length>=2){var j=Math.min(...N),_=Math.max(...N);(i==null||j<i)&&(i=j),(c==null||_>c)&&(c=_)}var T=VE(S);T!=null&&(i=i==null?T[0]:Math.min(i,T[0]),c=c==null?T[1]:Math.max(c,T[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(f=>{var m=VE(sa(f,t.dataKey));m!=null&&(i=i==null?m[0]:Math.min(i,m[0]),c=c==null?m[1]:Math.max(c,m[1]))}),va(i)&&va(c))return[i,c]},x$=ct([s3,Qa,u$,Ox,Ya],d3,{memoizeOptions:{resultEqualityCheck:Ex}});function v$(e){var{value:t}=e;if(Tc(t)||t instanceof Date)return t}var y$=(e,t,r)=>{var n=e.map(v$).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&BO(n))?dT(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Ck=e=>e.referenceElements.dots,Wh=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),b$=ct([Ck,Ya,B1],Wh),_k=e=>e.referenceElements.areas,w$=ct([_k,Ya,B1],Wh),jk=e=>e.referenceElements.lines,A$=ct([jk,Ya,B1],Wh),Ok=(e,t)=>{if(e!=null){var r=wu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},N$=ct(b$,Ya,Ok),Tk=(e,t)=>{if(e!=null){var r=wu(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},S$=ct([w$,Ya],Tk);function E$(e){var t;if(e.x!=null)return wu([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:wu(r)}function C$(e){var t;if(e.y!=null)return wu([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:wu(r)}var kk=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?E$(n):C$(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},_$=ct([A$,Ya],kk),j$=ct(N$,_$,S$,(e,t,r)=>vg(e,r,t)),f3=(e,t,r,n,a,i,c,f)=>{if(r!=null)return r;var m=c==="vertical"&&f==="xAxis"||c==="horizontal"&&f==="yAxis",p=m?vg(n,i,a):vg(i,a);return BY(t,p,e.allowDataOverflow)},O$=ct([Qa,c3,u3,m$,x$,j$,Nn,Ya],f3,{memoizeOptions:{resultEqualityCheck:Ex}}),T$=[0,1],h3=(e,t,r,n,a,i,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:f,type:m}=e,p=Su(t,i);if(p&&f==null){var x;return dT(0,(x=r==null?void 0:r.length)!==null&&x!==void 0?x:0)}return m==="category"?y$(n,e,p):a==="expand"?T$:c}},p3=ct([Qa,Nn,s3,jx,R1,Ya,O$],h3),Ik=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:c}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":c==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof i=="string"){var f="scale".concat(N1(i));return f in $0?f:"point"}}},Gh=ct([Qa,Nn,bk,Xw,Ya],Ik);function k$(e){if(e!=null){if(e in $0)return $0[e]();var t="scale".concat(N1(e));if(t in $0)return $0[t]()}}function m3(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=k$(t);if(a!=null){var i=a.domain(r).range(n);return Uq(i),i}}}var g3=(e,t,r)=>{var n=l3(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Sd(e))return YY(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Sd(e))return $Y(e,t.tickCount,t.allowDecimals)}},x3=ct([p3,F1,Gh],g3),v3=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Sd(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],c=t[1],f=r[r.length-1];return[Math.min(a,i),Math.max(c,f)]}return t},I$=ct([Qa,p3,x3,Ya],v3),M$=ct(jx,Qa,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(wu(e.map(y=>y.value))).sort((y,S)=>y-S),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var c=i-a;if(c===0)return 1/0;for(var f=0;f<n.length-1;f++){var m=n[f],p=n[f+1];if(!(m==null||p==null)){var x=p-m;r=Math.min(r,x)}}return r/c}}),Mk=ct(M$,Nn,ck,Ki,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!va(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var c=Hs(r,e*i),f=e*i/2;return f-c-(f-c)/i*c}return 0}),D$=(e,t,r)=>{var n=Ou(e,t);return n==null||typeof n.padding!="string"?0:Mk(e,"xAxis",t,r,n.padding)},L$=(e,t,r)=>{var n=Tu(e,t);return n==null||typeof n.padding!="string"?0:Mk(e,"yAxis",t,r,n.padding)},P$=ct(Ou,D$,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),R$=ct(Tu,L$,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),B$=ct([Ki,P$,lx,ox,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),F$=ct([Ki,Nn,R$,lx,ox,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:c}=a;return i?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),q1=(e,t,r,n)=>{var a;switch(t){case"xAxis":return B$(e,r,n);case"yAxis":return F$(e,r,n);case"zAxis":return(a=t3(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return pk(e);case"radiusAxis":return mk(e,r);default:return}},Dk=ct([Qa,q1],wx),Tx=ct([Qa,Gh,I$,Dk],m3);ct([z1,Ox,Ya],g$);function Lk(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var kx=(e,t)=>t,Ix=(e,t,r)=>r,z$=ct(ix,kx,Ix,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Lk)),U$=ct(sx,kx,Ix,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Lk)),Pk=(e,t)=>({width:e.width,height:t.height}),q$=(e,t)=>{var r=typeof t.width=="number"?t.width:j1;return{width:r,height:e.height}},Rk=ct(Ki,Ou,Pk),H$=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},V$=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},W$=ct(Cu,Ki,z$,kx,Ix,(e,t,r,n,a)=>{var i={},c;return r.forEach(f=>{var m=Pk(t,f);c==null&&(c=H$(t,n,e));var p=n==="top"&&!a||n==="bottom"&&a;i[f.id]=c-Number(p)*m.height,c+=(p?-1:1)*m.height}),i}),G$=ct(Eu,Ki,U$,kx,Ix,(e,t,r,n,a)=>{var i={},c;return r.forEach(f=>{var m=q$(t,f);c==null&&(c=V$(t,n,e));var p=n==="left"&&!a||n==="right"&&a;i[f.id]=c-Number(p)*m.width,c+=(p?-1:1)*m.width}),i}),Y$=(e,t)=>{var r=Ou(e,t);if(r!=null)return W$(e,r.orientation,r.mirror)},$$=ct([Ki,Ou,Y$,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),X$=(e,t)=>{var r=Tu(e,t);if(r!=null)return G$(e,r.orientation,r.mirror)},K$=ct([Ki,Tu,X$,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),Bk=ct(Ki,Tu,(e,t)=>{var r=typeof t.width=="number"?t.width:j1;return{width:r,height:e.height}}),WE=(e,t,r)=>{switch(t){case"xAxis":return Rk(e,r).width;case"yAxis":return Bk(e,r).height;default:return}},Fk=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:c}=r,f=Su(e,n),m=t.map(p=>p.value);if(c&&f&&i==="category"&&a&&BO(m))return m}},y3=ct([Nn,jx,Qa,Ya],Fk),zk=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,c=Su(e,n);if(c&&(a==="number"||i!=="auto"))return t.map(f=>f.value)}},b3=ct([Nn,jx,F1,Ya],zk),GE=ct([Nn,l$,Gh,Tx,y3,b3,q1,x3,Ya],(e,t,r,n,a,i,c,f,m)=>{if(t!=null){var p=Su(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:i,duplicateDomain:a,isCategorical:p,niceTicks:f,range:c,realScaleType:r,scale:n}}}),Z$=(e,t,r,n,a,i,c,f,m)=>{if(!(t==null||n==null)){var p=Su(e,m),{type:x,ticks:y,tickCount:S}=t,N=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=x==="category"&&n.bandwidth?n.bandwidth()/N:0;j=m==="angleAxis"&&i!=null&&i.length>=2?hs(i[0]-i[1])*2*j:j;var _=y||a;if(_){var T=_.map((D,R)=>{var z=c?c.indexOf(D):D;return{index:R,coordinate:n(z)+j,value:D,offset:j}});return T.filter(D=>va(D.coordinate))}return p&&f?f.map((D,R)=>({coordinate:n(D)+j,value:D,index:R,offset:j})).filter(D=>va(D.coordinate)):n.ticks?n.ticks(S).map(D=>({coordinate:n(D)+j,value:D,offset:j})):n.domain().map((D,R)=>({coordinate:n(D)+j,value:c?c[D]:D,index:R,offset:j}))}},Uk=ct([Nn,F1,Gh,Tx,x3,q1,y3,b3,Ya],Z$),Q$=(e,t,r,n,a,i,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var f=Su(e,c),{tickCount:m}=t,p=0;return p=c==="angleAxis"&&(n==null?void 0:n.length)>=2?hs(n[0]-n[1])*2*p:p,f&&i?i.map((x,y)=>({coordinate:r(x)+p,value:x,index:y,offset:p})):r.ticks?r.ticks(m).map(x=>({coordinate:r(x)+p,value:x,offset:p})):r.domain().map((x,y)=>({coordinate:r(x)+p,value:a?a[x]:x,index:y,offset:p}))}},Ed=ct([Nn,F1,Tx,q1,y3,b3,Ya],Q$),Cd=ct(Qa,Tx,(e,t)=>{if(!(e==null||t==null))return gg(gg({},e),{},{scale:t})}),J$=ct([Qa,Gh,p3,Dk],m3);ct((e,t,r)=>t3(e,r),J$,(e,t)=>{if(!(e==null||t==null))return gg(gg({},e),{},{scale:t})});var eX=ct([Nn,ix,sx],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),qk=e=>e.options.defaultTooltipEventType,Hk=e=>e.options.validateTooltipEventTypes;function Vk(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function w3(e,t){var r=qk(e),n=Hk(e);return Vk(t,r,n)}function tX(e){return gr(t=>w3(t,e))}var Wk=(e,t)=>{var r,n=Number(t);if(!(yl(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},rX=e=>e.tooltip.settings,ud={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},nX={itemInteraction:{click:ud,hover:ud},axisInteraction:{click:ud,hover:ud},keyboardInteraction:ud,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Gk=Do({name:"tooltip",initialState:nX,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ha()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Yl(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Ha()},removeTooltipEntrySettings:{reducer(e,t){var r=Yl(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ha()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:aX,replaceTooltipEntrySettings:iX,removeTooltipEntrySettings:sX,setTooltipSettingsState:oX,setActiveMouseOverItemIndex:Yk,mouseLeaveItem:lX,mouseLeaveChart:$k,setActiveClickItemIndex:cX,setMouseOverAxisIndex:Xk,setMouseClickAxisIndex:uX,setSyncInteraction:g5,setKeyboardInteraction:x5}=Gk.actions,dX=Gk.reducer;function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function im(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(n){fX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fX(e,t,r){return(t=hX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hX(e){var t=pX(e,"string");return typeof t=="symbol"?t:t+""}function pX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mX(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function gX(e){return e.index!=null}var Kk=(e,t,r,n)=>{if(t==null)return ud;var a=mX(e,t,r);if(a==null)return ud;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(gX(a)){if(i)return im(im({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return im(im({},ud),{},{coordinate:a.coordinate})};function xX(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function vX(e,t){var r=xX(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),c=Math.max(n,a);return r>=i&&r<=c}function yX(e,t,r){if(r==null||t==null)return!0;var n=sa(e,t);return n==null||!Sd(r)?!0:vX(n,r)}var A3=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!va(i))return a;var c=0,f=1/0;t.length>0&&(f=t.length-1);var m=Math.max(c,Math.min(i,f)),p=t[m];return p==null||yX(p,r,n)?String(m):null},Zk=(e,t,r,n,a,i,c,f)=>{if(!(i==null||f==null)){var m=c[0],p=m==null?void 0:f(m.positions,i);if(p!=null)return p;var x=a==null?void 0:a[Number(i)];if(x)switch(r){case"horizontal":return{x:x.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:x.coordinate}}}},Qk=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(c=>{var f;return((f=c.settings)===null||f===void 0?void 0:f.graphicalItemId)===a})},H1=e=>e.options.tooltipPayloadSearcher,Yh=e=>e.tooltip;function $E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(r),!0).forEach(function(n){bX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bX(e,t,r){return(t=wX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wX(e){var t=AX(e,"string");return typeof t=="symbol"?t:t+""}function AX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NX(e,t){return e??t}var Jk=(e,t,r,n,a,i,c)=>{if(!(t==null||i==null)){var{chartData:f,computedData:m,dataStartIndex:p,dataEndIndex:x}=r,y=[];return e.reduce((S,N)=>{var j,{dataDefinedOnItem:_,settings:T}=N,D=NX(_,f),R=Array.isArray(D)?k7(D,p,x):D,z=(j=T==null?void 0:T.dataKey)!==null&&j!==void 0?j:n,G=T==null?void 0:T.nameKey,$;if(n&&Array.isArray(R)&&!Array.isArray(R[0])&&c==="axis"?$=FO(R,n,a):$=i(R,t,m,G),Array.isArray($))$.forEach(V=>{var Y=XE(XE({},T),{},{name:V.name,unit:V.unit,color:void 0,fill:void 0});S.push(e8({tooltipEntrySettings:Y,dataKey:V.dataKey,payload:V.payload,value:sa(V.payload,V.dataKey),name:V.name}))});else{var X;S.push(e8({tooltipEntrySettings:T,dataKey:z,payload:$,value:sa($,z),name:(X=sa($,G))!==null&&X!==void 0?X:T==null?void 0:T.name}))}return S},y)}},N3=ct([Ji,Nn,bk,Xw,Qi],Ik),SX=ct([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),EX=ct([Qi,Vh],r3),$h=ct([SX,Ji,EX],n3,{memoizeOptions:{resultEqualityCheck:Cx}}),CX=ct([$h],e=>e.filter(Sx)),_X=ct([$h],a3,{memoizeOptions:{resultEqualityCheck:Cx}}),Xh=ct([_X,ju],i3),jX=ct([CX,ju,Ji],xk),S3=ct([Xh,Ji,$h],o3),eI=ct([Ji],l3),OX=ct([Ji],e=>e.allowDataOverflow),tI=ct([eI,OX],$T),TX=ct([$h],e=>e.filter(Sx)),kX=ct([jX,TX,R1,uk],Sk),IX=ct([kX,ju,Qi,tI],Ek),MX=ct([$h],Ak),DX=ct([Xh,Ji,MX,Ox,Qi],d3,{memoizeOptions:{resultEqualityCheck:Ex}}),LX=ct([Ck,Qi,Vh],Wh),PX=ct([LX,Qi],Ok),RX=ct([_k,Qi,Vh],Wh),BX=ct([RX,Qi],Tk),FX=ct([jk,Qi,Vh],Wh),zX=ct([FX,Qi],kk),UX=ct([PX,zX,BX],vg),qX=ct([Ji,eI,tI,IX,DX,UX,Nn,Qi],f3),V1=ct([Ji,Nn,Xh,S3,R1,Qi,qX],h3),HX=ct([V1,Ji,N3],g3),VX=ct([Ji,V1,HX,Qi],v3),rI=e=>{var t=Qi(e),r=Vh(e),n=!1;return q1(e,t,r,n)},nI=ct([Ji,rI],wx),aI=ct([Ji,N3,VX,nI],m3),WX=ct([Nn,S3,Ji,Qi],Fk),GX=ct([Nn,S3,Ji,Qi],zk),YX=(e,t,r,n,a,i,c,f)=>{if(t){var{type:m}=t,p=Su(e,f);if(n){var x=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,y=m==="category"&&n.bandwidth?n.bandwidth()/x:0;return y=f==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?hs(a[0]-a[1])*2*y:y,p&&c?c.map((S,N)=>({coordinate:n(S)+y,value:S,index:N,offset:y})):n.domain().map((S,N)=>({coordinate:n(S)+y,value:i?i[S]:S,index:N,offset:y}))}}},ku=ct([Nn,Ji,N3,aI,rI,WX,GX,Qi],YX),E3=ct([qk,Hk,rX],(e,t,r)=>Vk(r.shared,e,t)),iI=e=>e.tooltip.settings.trigger,C3=e=>e.tooltip.settings.defaultIndex,W1=ct([Yh,E3,iI,C3],Kk),_d=ct([W1,Xh,U1,V1],A3),sI=ct([ku,_d],Wk),_3=ct([W1],e=>{if(e)return e.dataKey}),$X=ct([W1],e=>{if(e)return e.graphicalItemId}),oI=ct([Yh,E3,iI,C3],Qk),XX=ct([Eu,Cu,Nn,Ki,ku,C3,oI,H1],Zk),KX=ct([W1,XX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),ZX=ct([W1],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),QX=ct([oI,_d,ju,U1,sI,H1,E3],Jk),JX=ct([QX],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function KE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(r),!0).forEach(function(n){eK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eK(e,t,r){return(t=tK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tK(e){var t=rK(e,"string");return typeof t=="symbol"?t:t+""}function rK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nK=()=>gr(Ji),aK=()=>{var e=nK(),t=gr(ku),r=gr(aI);return jh(!e||!r?void 0:ZE(ZE({},e),{},{scale:r}),t)};function QE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(r),!0).forEach(function(n){iK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iK(e,t,r){return(t=sK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=oK(e,"string");return typeof t=="symbol"?t:t+""}function oK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lK=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},cK=(e,t,r,n)=>{var a=t.find(p=>p&&p.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:c}=n;return lh(lh(lh({},n),Di(n.cx,n.cy,c,i)),{},{angle:i,radius:c})}var f=a.coordinate,{angle:m}=n;return lh(lh(lh({},n),Di(n.cx,n.cy,f,m)),{},{angle:m,radius:f})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function uK(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var lI=(e,t,r,n,a)=>{var i,c=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var f=0;f<c;f++){var m,p,x,y,S,N=f>0?(m=r[f-1])===null||m===void 0?void 0:m.coordinate:(p=r[c-1])===null||p===void 0?void 0:p.coordinate,j=(x=r[f])===null||x===void 0?void 0:x.coordinate,_=f>=c-1?(y=r[0])===null||y===void 0?void 0:y.coordinate:(S=r[f+1])===null||S===void 0?void 0:S.coordinate,T=void 0;if(!(N==null||j==null||_==null))if(hs(j-N)!==hs(_-j)){var D=[];if(hs(_-j)===hs(a[1]-a[0])){T=_;var R=j+a[1]-a[0];D[0]=Math.min(R,(R+N)/2),D[1]=Math.max(R,(R+N)/2)}else{T=N;var z=_+a[1]-a[0];D[0]=Math.min(j,(z+j)/2),D[1]=Math.max(j,(z+j)/2)}var G=[Math.min(j,(T+j)/2),Math.max(j,(T+j)/2)];if(e>G[0]&&e<=G[1]||e>=D[0]&&e<=D[1]){var $;return($=r[f])===null||$===void 0?void 0:$.index}}else{var X=Math.min(N,_),V=Math.max(N,_);if(e>(X+j)/2&&e<=(V+j)/2){var Y;return(Y=r[f])===null||Y===void 0?void 0:Y.index}}}else if(t)for(var W=0;W<c;W++){var Ne=t[W];if(Ne!=null){var Z=t[W+1],Q=t[W-1];if(W===0&&Z!=null&&e<=(Ne.coordinate+Z.coordinate)/2||W===c-1&&Q!=null&&e>(Ne.coordinate+Q.coordinate)/2||W>0&&W<c-1&&Q!=null&&Z!=null&&e>(Ne.coordinate+Q.coordinate)/2&&e<=(Ne.coordinate+Z.coordinate)/2)return Ne.index}}return-1},cI=()=>gr(Xw),j3=(e,t)=>t,uI=(e,t,r)=>r,O3=(e,t,r,n)=>n,dK=ct(ku,e=>Kg(e,t=>t.coordinate)),T3=ct([Yh,j3,uI,O3],Kk),k3=ct([T3,Xh,U1,V1],A3),fK=(e,t,r)=>{if(t!=null){var n=Yh(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},dI=ct([Yh,j3,uI,O3],Qk),yg=ct([Eu,Cu,Nn,Ki,ku,O3,dI,H1],Zk),hK=ct([T3,yg],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),fI=ct([ku,k3],Wk),pK=ct([dI,k3,ju,U1,fI,H1,j3],Jk),mK=ct([T3,k3],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),gK=(e,t,r,n,a,i,c)=>{if(!(!e||!r||!n||!a)&&uK(e,c)){var f=Zq(e,t),m=lI(f,i,a,r,n),p=lK(t,a,m,e);return{activeIndex:String(m),activeCoordinate:p}}},xK=(e,t,r,n,a,i,c)=>{if(!(!e||!n||!a||!i||!r)){var f=eW(e,r);if(f){var m=Qq(f,t),p=lI(m,c,i,n,a),x=cK(t,i,p,f);return{activeIndex:String(p),activeCoordinate:x}}}},vK=(e,t,r,n,a,i,c,f)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?gK(e,t,n,a,i,c,f):xK(e,t,r,n,a,i,c)},yK=ct(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),bK=ct(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Li)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:n$}});function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(n){wK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wK(e,t,r){return(t=AK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AK(e){var t=NK(e,"string");return typeof t=="symbol"?t:t+""}function NK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SK={},EK={zIndexMap:Object.values(Li).reduce((e,t)=>eC(eC({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),SK)},CK=new Set(Object.values(Li));function _K(e){return CK.has(e)}var hI=Do({name:"zIndex",initialState:EK,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Ha()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!_K(r)&&delete e.zIndexMap[r])},prepare:Ha()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Ha()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Ha()}}}),{registerZIndexPortal:jK,unregisterZIndexPortal:OK,registerZIndexPortalElement:TK,unregisterZIndexPortalElement:kK}=hI.actions,IK=hI.reducer;function Lo(e){var{zIndex:t,children:r}=e,n=OH(),a=n&&t!==void 0&&t!==0,i=Ws(),c=Ga();I.useLayoutEffect(()=>a?(c(jK({zIndex:t})),()=>{c(OK({zIndex:t}))}):S1,[c,t,a]);var f=gr(m=>yK(m,t,i));return a?f?v1.createPortal(r,f):null:r}function v5(){return v5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v5.apply(null,arguments)}function tC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tC(Object(r),!0).forEach(function(n){MK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MK(e,t,r){return(t=DK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DK(e){var t=LK(e,"string");return typeof t=="symbol"?t:t+""}function LK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PK(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return I.isValidElement(t)?I.cloneElement(t,n):I.createElement(r,n)}function RK(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:c,layout:f,cursor:m,tooltipEventType:p,chartName:x}=e,y=r,S=n,N=a;if(!m||!y||x!=="ScatterChart"&&p!=="axis")return null;var j,_,T;if(x==="ScatterChart")j=y,_=pV,T=Li.cursorLine;else if(x==="BarChart")j=mV(f,y,i,c),_=sT,T=Li.cursorRectangle;else if(f==="radial"&&qO(y)){var{cx:D,cy:R,radius:z,startAngle:G,endAngle:$}=lT(y);j={cx:D,cy:R,startAngle:G,endAngle:$,innerRadius:z,outerRadius:z},_=uT,T=Li.cursorLine}else j={points:aW(f,y,i)},_=Nh,T=Li.cursorLine;var X=typeof m=="object"&&"className"in m?m.className:void 0,V=sm(sm(sm(sm({stroke:"#ccc",pointerEvents:"none"},i),j),mf(m)),{},{payload:S,payloadIndex:N,className:Wn("recharts-tooltip-cursor",X)});return I.createElement(Lo,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:T},I.createElement(PK,{cursor:m,cursorComp:_,cursorProps:V}))}function BK(e){var t=aK(),r=q7(),n=Ef(),a=cI();return t==null||r==null||n==null||a==null?null:I.createElement(RK,v5({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var pI=I.createContext(null),FK=()=>I.useContext(pI),By={exports:{}},rC;function zK(){return rC||(rC=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(m,p,x){this.fn=m,this.context=p,this.once=x||!1}function i(m,p,x,y,S){if(typeof x!="function")throw new TypeError("The listener must be a function");var N=new a(x,y||m,S),j=r?r+p:p;return m._events[j]?m._events[j].fn?m._events[j]=[m._events[j],N]:m._events[j].push(N):(m._events[j]=N,m._eventsCount++),m}function c(m,p){--m._eventsCount===0?m._events=new n:delete m._events[p]}function f(){this._events=new n,this._eventsCount=0}f.prototype.eventNames=function(){var p=[],x,y;if(this._eventsCount===0)return p;for(y in x=this._events)t.call(x,y)&&p.push(r?y.slice(1):y);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(x)):p},f.prototype.listeners=function(p){var x=r?r+p:p,y=this._events[x];if(!y)return[];if(y.fn)return[y.fn];for(var S=0,N=y.length,j=new Array(N);S<N;S++)j[S]=y[S].fn;return j},f.prototype.listenerCount=function(p){var x=r?r+p:p,y=this._events[x];return y?y.fn?1:y.length:0},f.prototype.emit=function(p,x,y,S,N,j){var _=r?r+p:p;if(!this._events[_])return!1;var T=this._events[_],D=arguments.length,R,z;if(T.fn){switch(T.once&&this.removeListener(p,T.fn,void 0,!0),D){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,x),!0;case 3:return T.fn.call(T.context,x,y),!0;case 4:return T.fn.call(T.context,x,y,S),!0;case 5:return T.fn.call(T.context,x,y,S,N),!0;case 6:return T.fn.call(T.context,x,y,S,N,j),!0}for(z=1,R=new Array(D-1);z<D;z++)R[z-1]=arguments[z];T.fn.apply(T.context,R)}else{var G=T.length,$;for(z=0;z<G;z++)switch(T[z].once&&this.removeListener(p,T[z].fn,void 0,!0),D){case 1:T[z].fn.call(T[z].context);break;case 2:T[z].fn.call(T[z].context,x);break;case 3:T[z].fn.call(T[z].context,x,y);break;case 4:T[z].fn.call(T[z].context,x,y,S);break;default:if(!R)for($=1,R=new Array(D-1);$<D;$++)R[$-1]=arguments[$];T[z].fn.apply(T[z].context,R)}}return!0},f.prototype.on=function(p,x,y){return i(this,p,x,y,!1)},f.prototype.once=function(p,x,y){return i(this,p,x,y,!0)},f.prototype.removeListener=function(p,x,y,S){var N=r?r+p:p;if(!this._events[N])return this;if(!x)return c(this,N),this;var j=this._events[N];if(j.fn)j.fn===x&&(!S||j.once)&&(!y||j.context===y)&&c(this,N);else{for(var _=0,T=[],D=j.length;_<D;_++)(j[_].fn!==x||S&&!j[_].once||y&&j[_].context!==y)&&T.push(j[_]);T.length?this._events[N]=T.length===1?T[0]:T:c(this,N)}return this},f.prototype.removeAllListeners=function(p){var x;return p?(x=r?r+p:p,this._events[x]&&c(this,x)):(this._events=new n,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=r,f.EventEmitter=f,e.exports=f}(By)),By.exports}var UK=zK();const qK=Mc(UK);var g1=new qK,y5="recharts.syncEvent.tooltip",nC="recharts.syncEvent.brush";function I3(e,t){if(t){var r=Number.parseInt(t,10);if(!yl(r))return e==null?void 0:e[r]}}var HK={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},mI=Do({name:"options",initialState:HK,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),VK=mI.reducer,{createEventEmitter:WK}=mI.actions;function GK(e){return e.tooltip.syncInteraction}var YK={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},gI=Do({name:"chartData",initialState:YK,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:aC,setDataStartEndIndexes:$K,setComputedData:ase}=gI.actions,XK=gI.reducer,KK=["x","y"];function iC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(r),!0).forEach(function(n){ZK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZK(e,t,r){return(t=QK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QK(e){var t=JK(e,"string");return typeof t=="symbol"?t:t+""}function JK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eZ(e,t){if(e==null)return{};var r,n,a=tZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rZ(){var e=gr(Kw),t=gr(Zw),r=Ga(),n=gr(dk),a=gr(ku),i=Ef(),c=cx(),f=gr(m=>m.rootProps.className);I.useEffect(()=>{if(e==null)return S1;var m=(p,x,y)=>{if(t!==y&&e===p){if(n==="index"){var S;if(c&&x!==null&&x!==void 0&&(S=x.payload)!==null&&S!==void 0&&S.coordinate&&x.payload.sourceViewBox){var N=x.payload.coordinate,{x:j,y:_}=N,T=eZ(N,KK),{x:D,y:R,width:z,height:G}=x.payload.sourceViewBox,$=ch(ch({},T),{},{x:c.x+(z?(j-D)/z:0)*c.width,y:c.y+(G?(_-R)/G:0)*c.height});r(ch(ch({},x),{},{payload:ch(ch({},x.payload),{},{coordinate:$})}))}else r(x);return}if(a!=null){var X;if(typeof n=="function"){var V={activeTooltipIndex:x.payload.index==null?void 0:Number(x.payload.index),isTooltipActive:x.payload.active,activeIndex:x.payload.index==null?void 0:Number(x.payload.index),activeLabel:x.payload.label,activeDataKey:x.payload.dataKey,activeCoordinate:x.payload.coordinate},Y=n(a,V);X=a[Y]}else n==="value"&&(X=a.find(te=>String(te.value)===x.payload.label));var{coordinate:W}=x.payload;if(X==null||x.payload.active===!1||W==null||c==null){r(g5({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:Ne,y:Z}=W,Q=Math.min(Ne,c.x+c.width),ye=Math.min(Z,c.y+c.height),ie={x:i==="horizontal"?X.coordinate:Q,y:i==="horizontal"?ye:X.coordinate},q=g5({active:x.payload.active,coordinate:ie,dataKey:x.payload.dataKey,index:String(X.index),label:x.payload.label,sourceViewBox:x.payload.sourceViewBox,graphicalItemId:x.payload.graphicalItemId});r(q)}}};return g1.on(y5,m),()=>{g1.off(y5,m)}},[f,r,t,e,n,a,i,c])}function nZ(){var e=gr(Kw),t=gr(Zw),r=Ga();I.useEffect(()=>{if(e==null)return S1;var n=(a,i,c)=>{t!==c&&e===a&&r($K(i))};return g1.on(nC,n),()=>{g1.off(nC,n)}},[r,t,e])}function aZ(){var e=Ga();I.useEffect(()=>{e(WK())},[e]),rZ(),nZ()}function iZ(e,t,r,n,a,i){var c=gr(N=>fK(N,e,t)),f=gr(Zw),m=gr(Kw),p=gr(dk),x=gr(GK),y=x==null?void 0:x.active,S=cx();I.useEffect(()=>{if(!y&&m!=null&&f!=null){var N=g5({active:i,coordinate:r,dataKey:c,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:S,graphicalItemId:void 0});g1.emit(y5,m,N,f)}},[y,r,c,a,n,f,m,p,i,S])}function sC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(r),!0).forEach(function(n){sZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sZ(e,t,r){return(t=oZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oZ(e){var t=lZ(e,"string");return typeof t=="symbol"?t:t+""}function lZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cZ(e){return e.dataKey}function uZ(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(YH,t)}var lC=[],dZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function om(e){var t,r,n=ps(e,dZ),{active:a,allowEscapeViewBox:i,animationDuration:c,animationEasing:f,content:m,filterNull:p,isAnimationActive:x,offset:y,payloadUniqBy:S,position:N,reverseDirection:j,useTranslate3d:_,wrapperStyle:T,cursor:D,shared:R,trigger:z,defaultIndex:G,portal:$,axisId:X}=n,V=Ga(),Y=typeof G=="number"?String(G):G;I.useEffect(()=>{V(oX({shared:R,trigger:z,axisId:X,active:a,defaultIndex:Y}))},[V,R,z,X,a,Y]);var W=cx(),Ne=tT(),Z=tX(R),{activeIndex:Q,isActive:ye}=(t=gr(de=>mK(de,Z,z,Y)))!==null&&t!==void 0?t:{},ie=gr(de=>pK(de,Z,z,Y)),q=gr(de=>fI(de,Z,z,Y)),te=gr(de=>hK(de,Z,z,Y)),se=ie,ue=FK(),ee=(r=a??ye)!==null&&r!==void 0?r:!1,[Se,le]=PU([se,ee]),U=Z==="axis"?q:void 0;iZ(Z,z,te,U,Q,ee);var H=$??ue;if(H==null||W==null||Z==null)return null;var ae=se??lC;ee||(ae=lC),p&&ae.length&&(ae=lU(ae.filter(de=>de.value!=null&&(de.hide!==!0||n.includeHidden)),S,cZ));var ge=ae.length>0,ve=I.createElement(eV,{allowEscapeViewBox:i,animationDuration:c,animationEasing:f,isAnimationActive:x,active:ee,coordinate:te,hasPayload:ge,offset:y,position:N,reverseDirection:j,useTranslate3d:_,viewBox:W,wrapperStyle:T,lastBoundingBox:Se,innerRef:le,hasPortalFromProps:!!$},uZ(m,oC(oC({},n),{},{payload:ae,label:U,active:ee,activeIndex:Q,coordinate:te,accessibilityLayer:Ne})));return I.createElement(I.Fragment,null,v1.createPortal(ve,H),ee&&I.createElement(BK,{cursor:D,tooltipEventType:Z,coordinate:te,payload:ae,index:Q}))}var uf=e=>null;uf.displayName="Cell";function fZ(e,t,r){return(t=hZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hZ(e){var t=pZ(e,"string");return typeof t=="symbol"?t:t+""}function pZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mZ{constructor(t){fZ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(r),!0).forEach(function(n){xZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xZ(e,t,r){return(t=vZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vZ(e){var t=yZ(e,"string");return typeof t=="symbol"?t:t+""}function yZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bZ={cacheSize:2e3,enableCache:!0},xI=gZ({},bZ),uC=new mZ(xI.cacheSize),wZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dC="recharts_measurement_span";function AZ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",c=t.letterSpacing||"",f=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(c,"|").concat(f)}var fC=(e,t)=>{try{var r=document.getElementById(dC);r||(r=document.createElement("span"),r.setAttribute("id",dC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,wZ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Z0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||T1.isSsr)return{width:0,height:0};if(!xI.enableCache)return fC(t,r);var n=AZ(t,r),a=uC.get(n);if(a)return a;var i=fC(t,r);return uC.set(n,i),i},vI;function NZ(e,t,r){return(t=SZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SZ(e){var t=EZ(e,"string");return typeof t=="symbol"?t:t+""}function EZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_Z=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},OZ=["cm","mm","pt","pc","in","Q","px"];function TZ(e){return OZ.includes(e)}var mh="NaN";function kZ(e,t){return e*jZ[t]}class Es{static parse(t){var r,[,n,a]=(r=_Z.exec(t))!==null&&r!==void 0?r:[];return n==null?Es.NaN:new Es(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,yl(t)&&(this.unit=""),r!==""&&!CZ.test(r)&&(this.num=NaN,this.unit=""),TZ(r)&&(this.num=kZ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Es(NaN,""):new Es(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Es(NaN,""):new Es(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Es(NaN,""):new Es(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Es(NaN,""):new Es(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return yl(this.num)}}vI=Es;NZ(Es,"NaN",new vI(NaN,""));function yI(e){if(e==null||e.includes(mh))return mh;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=hC.exec(t))!==null&&r!==void 0?r:[],c=Es.parse(n??""),f=Es.parse(i??""),m=a==="*"?c.multiply(f):c.divide(f);if(m.isNaN())return mh;t=t.replace(hC,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,[,x,y,S]=(p=pC.exec(t))!==null&&p!==void 0?p:[],N=Es.parse(x??""),j=Es.parse(S??""),_=y==="+"?N.add(j):N.subtract(j);if(_.isNaN())return mh;t=t.replace(pC,_.toString())}return t}var mC=/\(([^()]*)\)/;function IZ(e){for(var t=e,r;(r=mC.exec(t))!=null;){var[,n]=r;t=t.replace(mC,yI(n))}return t}function MZ(e){var t=e.replace(/\s+/g,"");return t=IZ(t),t=yI(t),t}function DZ(e){try{return MZ(e)}catch{return mh}}function Fy(e){var t=DZ(e.slice(5,-1));return t===mh?"":t}var LZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],PZ=["dx","dy","angle","className","breakAll"];function b5(){return b5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b5.apply(null,arguments)}function gC(e,t){if(e==null)return{};var r,n,a=RZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bI=/[ \f\n\r\t\v\u2028\u2029]+/,wI=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Za(t)||(r?a=t.toString().split(""):a=t.toString().split(bI));var i=a.map(f=>({word:f,width:Z0(f,n).width})),c=r?0:Z0("",n).width;return{wordsWithComputedWidth:i,spaceWidth:c}}catch{return null}};function BZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var AI=(e,t,r,n)=>e.reduce((a,i)=>{var{word:c,width:f}=i,m=a[a.length-1];if(m&&f!=null&&(t==null||n||m.width+f+r<Number(t)))m.words.push(c),m.width+=f+r;else{var p={words:[c],width:f};a.push(p)}return a},[]),NI=e=>e.reduce((t,r)=>t.width>r.width?t:r),FZ="",xC=(e,t,r,n,a,i,c,f)=>{var m=e.slice(0,t),p=wI({breakAll:r,style:n,children:m+FZ});if(!p)return[!1,[]];var x=AI(p.wordsWithComputedWidth,i,c,f),y=x.length>a||NI(x).width>Number(i);return[y,x]},zZ=(e,t,r,n,a)=>{var{maxLines:i,children:c,style:f,breakAll:m}=e,p=nr(i),x=String(c),y=AI(t,n,r,a);if(!p||a)return y;var S=y.length>i||NI(y).width>Number(n);if(!S)return y;for(var N=0,j=x.length-1,_=0,T;N<=j&&_<=x.length-1;){var D=Math.floor((N+j)/2),R=D-1,[z,G]=xC(x,R,m,f,i,n,r,a),[$]=xC(x,D,m,f,i,n,r,a);if(!z&&!$&&(N=D+1),z&&$&&(j=D-1),!z&&$){T=G;break}_++}return T||y},vC=e=>{var t=Za(e)?[]:e.toString().split(bI);return[{words:t,width:void 0}]},UZ=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:c}=e;if((t||r)&&!T1.isSsr){var f,m,p=wI({breakAll:i,children:n,style:a});if(p){var{wordsWithComputedWidth:x,spaceWidth:y}=p;f=x,m=y}else return vC(n);return zZ({breakAll:i,children:n,maxLines:c,style:a},f,m,t,!!r)}return vC(n)},SI="#808080",qZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:SI,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Mx=I.forwardRef((e,t)=>{var r=ps(e,qZ),{x:n,y:a,lineHeight:i,capHeight:c,fill:f,scaleToFit:m,textAnchor:p,verticalAnchor:x}=r,y=gC(r,LZ),S=I.useMemo(()=>UZ({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:m,style:y.style,width:y.width}),[y.breakAll,y.children,y.maxLines,m,y.style,y.width]),{dx:N,dy:j,angle:_,className:T,breakAll:D}=y,R=gC(y,PZ);if(!Tc(n)||!Tc(a)||S.length===0)return null;var z=Number(n)+(nr(N)?N:0),G=Number(a)+(nr(j)?j:0);if(!va(z)||!va(G))return null;var $;switch(x){case"start":$=Fy("calc(".concat(c,")"));break;case"middle":$=Fy("calc(".concat((S.length-1)/2," * -").concat(i," + (").concat(c," / 2))"));break;default:$=Fy("calc(".concat(S.length-1," * -").concat(i,")"));break}var X=[];if(m){var V=S[0].width,{width:Y}=y;X.push("scale(".concat(nr(Y)&&nr(V)?Y/V:1,")"))}return _&&X.push("rotate(".concat(_,", ").concat(z,", ").concat(G,")")),X.length&&(R.transform=X.join(" ")),I.createElement("text",b5({},so(R),{ref:t,x:z,y:G,className:Wn("recharts-text",T),textAnchor:p,fill:f.includes("url")?SI:f}),S.map((W,Ne)=>{var Z=W.words.join(D?"":" ");return I.createElement("tspan",{x:z,dy:Ne===0?$:i,key:"".concat(Z,"-").concat(Ne)},Z)}))});Mx.displayName="Text";var HZ=["labelRef"],VZ=["content"];function yC(e,t){if(e==null)return{};var r,n,a=WZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function WZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){GZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GZ(e,t,r){return(t=YZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YZ(e){var t=$Z(e,"string");return typeof t=="symbol"?t:t+""}function $Z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uu.apply(null,arguments)}var EI=I.createContext(null),XZ=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:c,children:f}=e,m=I.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:c}),[t,r,n,a,i,c]);return I.createElement(EI.Provider,{value:m},f)},CI=()=>{var e=I.useContext(EI),t=cx();return e||U7(t)},KZ=I.createContext(null),ZZ=()=>{var e=I.useContext(KZ),t=gr(gk);return e||t},QZ=e=>{var{value:t,formatter:r}=e,n=Za(e.children)?t:e.children;return typeof r=="function"?r(n):n},M3=e=>e!=null&&typeof e=="function",JZ=(e,t)=>{var r=hs(t-e),n=Math.min(Math.abs(t-e),360);return r*n},eQ=(e,t,r,n,a)=>{var{offset:i,className:c}=e,{cx:f,cy:m,innerRadius:p,outerRadius:x,startAngle:y,endAngle:S,clockWise:N}=a,j=(p+x)/2,_=JZ(y,S),T=_>=0?1:-1,D,R;switch(t){case"insideStart":D=y+T*i,R=N;break;case"insideEnd":D=S-T*i,R=!N;break;case"end":D=S+T*i,R=N;break;default:throw new Error("Unsupported position ".concat(t))}R=_<=0?R:!R;var z=Di(f,m,j,D),G=Di(f,m,j,D+(R?1:-1)*359),$="M".concat(z.x,",").concat(z.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(R?0:1,`,
    `).concat(G.x,",").concat(G.y),X=Za(e.id)?n1("recharts-radial-line-"):e.id;return I.createElement("text",uu({},n,{dominantBaseline:"central",className:Wn("recharts-radial-bar-label",c)}),I.createElement("defs",null,I.createElement("path",{id:X,d:$})),I.createElement("textPath",{xlinkHref:"#".concat(X)},r))},tQ=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:c,startAngle:f,endAngle:m}=e,p=(f+m)/2;if(r==="outside"){var{x,y}=Di(n,a,c+t,p);return{x,y,textAnchor:x>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var S=(i+c)/2,{x:N,y:j}=Di(n,a,S,p);return{x:N,y:j,textAnchor:"middle",verticalAnchor:"middle"}},w5=e=>"cx"in e&&nr(e.cx),rQ=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!w5(r)&&(i=r);var{x:c,y:f,upperWidth:m,lowerWidth:p,height:x}=t,y=c,S=c+(m-p)/2,N=(y+S)/2,j=(m+p)/2,_=y+m/2,T=x>=0?1:-1,D=T*n,R=T>0?"end":"start",z=T>0?"start":"end",G=m>=0?1:-1,$=G*n,X=G>0?"end":"start",V=G>0?"start":"end";if(a==="top"){var Y={x:y+m/2,y:f-D,textAnchor:"middle",verticalAnchor:R};return hi(hi({},Y),i?{height:Math.max(f-i.y,0),width:m}:{})}if(a==="bottom"){var W={x:S+p/2,y:f+x+D,textAnchor:"middle",verticalAnchor:z};return hi(hi({},W),i?{height:Math.max(i.y+i.height-(f+x),0),width:p}:{})}if(a==="left"){var Ne={x:N-$,y:f+x/2,textAnchor:X,verticalAnchor:"middle"};return hi(hi({},Ne),i?{width:Math.max(Ne.x-i.x,0),height:x}:{})}if(a==="right"){var Z={x:N+j+$,y:f+x/2,textAnchor:V,verticalAnchor:"middle"};return hi(hi({},Z),i?{width:Math.max(i.x+i.width-Z.x,0),height:x}:{})}var Q=i?{width:j,height:x}:{};return a==="insideLeft"?hi({x:N+$,y:f+x/2,textAnchor:V,verticalAnchor:"middle"},Q):a==="insideRight"?hi({x:N+j-$,y:f+x/2,textAnchor:X,verticalAnchor:"middle"},Q):a==="insideTop"?hi({x:y+m/2,y:f+D,textAnchor:"middle",verticalAnchor:z},Q):a==="insideBottom"?hi({x:S+p/2,y:f+x-D,textAnchor:"middle",verticalAnchor:R},Q):a==="insideTopLeft"?hi({x:y+$,y:f+D,textAnchor:V,verticalAnchor:z},Q):a==="insideTopRight"?hi({x:y+m-$,y:f+D,textAnchor:X,verticalAnchor:z},Q):a==="insideBottomLeft"?hi({x:S+$,y:f+x-D,textAnchor:V,verticalAnchor:R},Q):a==="insideBottomRight"?hi({x:S+p-$,y:f+x-D,textAnchor:X,verticalAnchor:R},Q):a&&typeof a=="object"&&(nr(a.x)||gu(a.x))&&(nr(a.y)||gu(a.y))?hi({x:c+Hs(a.x,j),y:f+Hs(a.y,x),textAnchor:"end",verticalAnchor:"end"},Q):hi({x:_,y:f+x/2,textAnchor:"middle",verticalAnchor:"middle"},Q)},nQ={angle:0,offset:5,zIndex:Li.label,position:"middle",textBreakAll:!1};function cd(e){var t=ps(e,nQ),{viewBox:r,position:n,value:a,children:i,content:c,className:f="",textBreakAll:m,labelRef:p}=t,x=ZZ(),y=CI(),S=n==="center"?y:x??y,N,j,_;if(r==null?N=S:w5(r)?N=r:N=U7(r),!N||Za(a)&&Za(i)&&!I.isValidElement(c)&&typeof c!="function")return null;var T=hi(hi({},t),{},{viewBox:N});if(I.isValidElement(c)){var{labelRef:D}=T,R=yC(T,HZ);return I.cloneElement(c,R)}if(typeof c=="function"){var{content:z}=T,G=yC(T,VZ);if(j=I.createElement(c,G),I.isValidElement(j))return j}else j=QZ(t);var $=so(t);if(w5(N)){if(n==="insideStart"||n==="insideEnd"||n==="end")return eQ(t,n,j,$,N);_=tQ(N,t.offset,t.position)}else _=rQ(t,N);return I.createElement(Lo,{zIndex:t.zIndex},I.createElement(Mx,uu({ref:p,className:Wn("recharts-label",f)},$,_,{textAnchor:BZ($.textAnchor)?$.textAnchor:_.textAnchor,breakAll:m}),j))}cd.displayName="Label";var aQ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?I.createElement(cd,uu({key:"label-implicit"},n)):Tc(e)?I.createElement(cd,uu({key:"label-implicit",value:e},n)):I.isValidElement(e)?e.type===cd?I.cloneElement(e,hi({key:"label-implicit"},n)):I.createElement(cd,uu({key:"label-implicit",content:e},n)):M3(e)?I.createElement(cd,uu({key:"label-implicit",content:e},n)):e&&typeof e=="object"?I.createElement(cd,uu({},e,{key:"label-implicit"},n)):null};function iQ(e){var{label:t,labelRef:r}=e,n=CI();return aQ(t,n,r)||null}var zy={},Uy={},wC;function sQ(){return wC||(wC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t}(Uy)),Uy}var qy={},AC;function oQ(){return AC||(AC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t}(qy)),qy}var NC;function lQ(){return NC||(NC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sQ(),r=oQ(),n=uw();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a}(zy)),zy}var Hy,SC;function cQ(){return SC||(SC=1,Hy=lQ().last),Hy}var uQ=cQ();const dQ=Mc(uQ);var fQ=["valueAccessor"],hQ=["dataKey","clockWise","id","textBreakAll","zIndex"];function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(null,arguments)}function EC(e,t){if(e==null)return{};var r,n,a=pQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mQ=e=>Array.isArray(e.value)?dQ(e.value):e.value,_I=I.createContext(void 0),jI=_I.Provider,OI=I.createContext(void 0),gQ=OI.Provider;function xQ(){return I.useContext(_I)}function vQ(){return I.useContext(OI)}function _m(e){var{valueAccessor:t=mQ}=e,r=EC(e,fQ),{dataKey:n,clockWise:a,id:i,textBreakAll:c,zIndex:f}=r,m=EC(r,hQ),p=xQ(),x=vQ(),y=p||x;return!y||!y.length?null:I.createElement(Lo,{zIndex:f??Li.label},I.createElement(yi,{className:"recharts-label-list"},y.map((S,N)=>{var j,_=Za(n)?t(S,N):sa(S&&S.payload,n),T=Za(i)?{}:{id:"".concat(i,"-").concat(N)};return I.createElement(cd,bg({key:"label-".concat(N)},so(S),m,T,{fill:(j=r.fill)!==null&&j!==void 0?j:S.fill,parentViewBox:S.parentViewBox,value:_,textBreakAll:c,viewBox:S.viewBox,index:N,zIndex:0}))})))}_m.displayName="LabelList";function D3(e){var{label:t}=e;return t?t===!0?I.createElement(_m,{key:"labelList-implicit"}):I.isValidElement(t)||M3(t)?I.createElement(_m,{key:"labelList-implicit",content:t}):typeof t=="object"?I.createElement(_m,bg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function A5(){return A5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A5.apply(null,arguments)}var TI=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Wn("recharts-dot",a);return nr(t)&&nr(r)&&nr(n)?I.createElement("circle",A5({},Io(e),cw(e),{className:i,cx:t,cy:r,r:n})):null},kI=e=>e.graphicalItems.polarItems,yQ=ct([Ya,B1],r3),Dx=ct([kI,Qa,yQ],n3),bQ=ct([Dx],a3),Lx=ct([bQ,bx],i3),wQ=ct([Lx,Qa,Dx],o3);ct([Lx,Qa,Dx],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,c=sa(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:sa(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var CC=()=>{},AQ=ct([Lx,Qa,Dx,Ox,Ya],d3),NQ=ct([Qa,c3,u3,CC,AQ,CC,Nn,Ya],f3),II=ct([Qa,Nn,Lx,wQ,R1,Ya,NQ],h3),SQ=ct([II,Qa,Gh],g3);ct([Qa,II,SQ,Ya],v3);var EQ={radiusAxis:{},angleAxis:{}},MI=Do({name:"polarAxis",initialState:EQ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:ise,removeRadiusAxis:sse,addAngleAxis:ose,removeAngleAxis:lse}=MI.actions,CQ=MI.reducer;function _C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(r),!0).forEach(function(n){_Q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Q(e,t,r){return(t=jQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jQ(e){var t=OQ(e,"string");return typeof t=="symbol"?t:t+""}function OQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TQ=(e,t)=>t,L3=ct([kI,TQ],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),kQ=[],P3=(e,t,r)=>(r==null?void 0:r.length)===0?kQ:r,DI=ct([bx,L3,P3],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>jC(jC({},t.presentationProps),i.props))),a!=null)return a}}),IQ=ct([DI,L3,P3],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,c=sa(n,t.nameKey,t.name),f;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?f=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?f=n.fill:f=t.fill,{value:zh(c,t.dataKey),color:f,payload:n,type:t.legendType}})}),MQ=ct([DI,L3,P3,Ki],(e,t,r,n)=>{if(!(t==null||e==null))return LJ({offset:n,pieSettings:t,displayedData:e,cells:r})}),Vy={exports:{}},ia={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC;function DQ(){if(OC)return ia;OC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),S=Symbol.for("react.view_transition"),N=Symbol.for("react.client.reference");function j(_){if(typeof _=="object"&&_!==null){var T=_.$$typeof;switch(T){case e:switch(_=_.type,_){case r:case a:case n:case m:case p:case S:return _;default:switch(_=_&&_.$$typeof,_){case c:case f:case y:case x:return _;case i:return _;default:return T}}case t:return T}}}return ia.ContextConsumer=i,ia.ContextProvider=c,ia.Element=e,ia.ForwardRef=f,ia.Fragment=r,ia.Lazy=y,ia.Memo=x,ia.Portal=t,ia.Profiler=a,ia.StrictMode=n,ia.Suspense=m,ia.SuspenseList=p,ia.isContextConsumer=function(_){return j(_)===i},ia.isContextProvider=function(_){return j(_)===c},ia.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},ia.isForwardRef=function(_){return j(_)===f},ia.isFragment=function(_){return j(_)===r},ia.isLazy=function(_){return j(_)===y},ia.isMemo=function(_){return j(_)===x},ia.isPortal=function(_){return j(_)===t},ia.isProfiler=function(_){return j(_)===a},ia.isStrictMode=function(_){return j(_)===n},ia.isSuspense=function(_){return j(_)===m},ia.isSuspenseList=function(_){return j(_)===p},ia.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===a||_===n||_===m||_===p||typeof _=="object"&&_!==null&&(_.$$typeof===y||_.$$typeof===x||_.$$typeof===c||_.$$typeof===i||_.$$typeof===f||_.$$typeof===N||_.getModuleId!==void 0)},ia.typeOf=j,ia}var TC;function LQ(){return TC||(TC=1,Vy.exports=DQ()),Vy.exports}var PQ=LQ(),kC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",IC=null,Wy=null,LI=e=>{if(e===IC&&Array.isArray(Wy))return Wy;var t=[];return I.Children.forEach(e,r=>{Za(r)||(PQ.isFragment(r)?t=t.concat(LI(r.props.children)):t.push(r))}),Wy=t,IC=e,t};function R3(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>kC(a)):n=[kC(t)],LI(e).forEach(a=>{var i=xf(a,"type.displayName")||xf(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var PI=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Gy={},MC;function RQ(){return MC||(MC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t}(Gy)),Gy}var Yy,DC;function BQ(){return DC||(DC=1,Yy=RQ().isPlainObject),Yy}var FQ=BQ();const zQ=Mc(FQ);var LC,PC,RC,BC,FC;function zC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(r),!0).forEach(function(n){UQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UQ(e,t,r){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qQ(e){var t=HQ(e,"string");return typeof t=="symbol"?t:t+""}function HQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(null,arguments)}function H0(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var qC=(e,t,r,n,a)=>{var i=r-n,c;return c=li(LC||(LC=H0(["M ",",",""])),e,t),c+=li(PC||(PC=H0(["L ",",",""])),e+r,t),c+=li(RC||(RC=H0(["L ",",",""])),e+r-i/2,t+a),c+=li(BC||(BC=H0(["L ",",",""])),e+r-i/2-n,t+a),c+=li(FC||(FC=H0(["L ",","," Z"])),e,t),c},VQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WQ=e=>{var t=ps(e,VQ),{x:r,y:n,upperWidth:a,lowerWidth:i,height:c,className:f}=t,{animationEasing:m,animationDuration:p,animationBegin:x,isUpdateAnimationActive:y}=t,S=I.useRef(null),[N,j]=I.useState(-1),_=I.useRef(a),T=I.useRef(i),D=I.useRef(c),R=I.useRef(r),z=I.useRef(n),G=I1(e,"trapezoid-");if(I.useEffect(()=>{if(S.current&&S.current.getTotalLength)try{var ie=S.current.getTotalLength();ie&&j(ie)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||c!==+c||a===0&&i===0||c===0)return null;var $=Wn("recharts-trapezoid",f);if(!y)return I.createElement("g",null,I.createElement("path",wg({},so(t),{className:$,d:qC(r,n,a,i,c)})));var X=_.current,V=T.current,Y=D.current,W=R.current,Ne=z.current,Z="0px ".concat(N===-1?1:N,"px"),Q="".concat(N,"px 0px"),ye=rT(["strokeDasharray"],p,m);return I.createElement(k1,{animationId:G,key:G,canBegin:N>0,duration:p,easing:m,isActive:y,begin:x},ie=>{var q=Ia(X,a,ie),te=Ia(V,i,ie),se=Ia(Y,c,ie),ue=Ia(W,r,ie),ee=Ia(Ne,n,ie);S.current&&(_.current=q,T.current=te,D.current=se,R.current=ue,z.current=ee);var Se=ie>0?{transition:ye,strokeDasharray:Q}:{strokeDasharray:Z};return I.createElement("path",wg({},so(t),{className:$,d:qC(ue,ee,q,te,se),ref:S,style:UC(UC({},Se),t.style)}))})},GQ=["option","shapeType","activeClassName"];function YQ(e,t){if(e==null)return{};var r,n,a=$Q(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $Q(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ag(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(r),!0).forEach(function(n){XQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XQ(e,t,r){return(t=KQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KQ(e){var t=ZQ(e,"string");return typeof t=="symbol"?t:t+""}function ZQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QQ(e,t){return Ag(Ag({},t),e)}function JQ(e,t){return e==="symbols"}function VC(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return I.createElement(sT,r);case"trapezoid":return I.createElement(WQ,r);case"sector":return I.createElement(uT,r);case"symbols":if(JQ(t))return I.createElement(UO,r);break;case"curve":return I.createElement(Nh,r);default:return null}}function eJ(e){return I.isValidElement(e)?e.props:e}function RI(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=YQ(e,GQ),i;if(I.isValidElement(t))i=I.cloneElement(t,Ag(Ag({},a),eJ(t)));else if(typeof t=="function")i=t(a,a.index);else if(zQ(t)&&typeof t!="boolean"){var c=QQ(t,a);i=I.createElement(VC,{shapeType:r,elementProps:c})}else{var f=a;i=I.createElement(VC,{shapeType:r,elementProps:f})}return a.isActive?I.createElement(yi,{className:n},i):i}var B3=(e,t,r)=>{var n=Ga();return(a,i)=>c=>{e==null||e(a,i,c),n(Yk({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},F3=e=>{var t=Ga();return(r,n)=>a=>{e==null||e(r,n,a),t(lX())}},z3=(e,t,r)=>{var n=Ga();return(a,i)=>c=>{e==null||e(a,i,c),n(cX({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function U3(e){var{tooltipEntrySettings:t}=e,r=Ga(),n=Ws(),a=I.useRef(null);return I.useLayoutEffect(()=>{n||(a.current===null?r(aX(t)):a.current!==t&&r(iX({prev:a.current,next:t})),a.current=t)},[t,r,n]),I.useLayoutEffect(()=>()=>{a.current&&(r(sX(a.current)),a.current=null)},[r]),null}function BI(e){var{legendPayload:t}=e,r=Ga(),n=Ws(),a=I.useRef(null);return I.useLayoutEffect(()=>{n||(a.current===null?r(Q7(t)):a.current!==t&&r(J7({prev:a.current,next:t})),a.current=t)},[r,n,t]),I.useLayoutEffect(()=>()=>{a.current&&(r(eT(a.current)),a.current=null)},[r]),null}function tJ(e){var{legendPayload:t}=e,r=Ga(),n=gr(Nn),a=I.useRef(null);return I.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(Q7(t)):a.current!==t&&r(J7({prev:a.current,next:t})),a.current=t)},[r,n,t]),I.useLayoutEffect(()=>()=>{a.current&&(r(eT(a.current)),a.current=null)},[r]),null}var $y,rJ=()=>{var[e]=I.useState(()=>n1("uid-"));return e},nJ=($y=F_.useId)!==null&&$y!==void 0?$y:rJ;function aJ(e,t){var r=nJ();return t||(e?"".concat(e,"-").concat(r):r)}var iJ=I.createContext(void 0),q3=e=>{var{id:t,type:r,children:n}=e,a=aJ("recharts-".concat(r),t);return I.createElement(iJ.Provider,{value:a},n(a))},sJ={cartesianItems:[],polarItems:[]},FI=Do({name:"graphicalItems",initialState:sJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ha()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Yl(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Ha()},removeCartesianGraphicalItem:{reducer(e,t){var r=Yl(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ha()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ha()},removePolarGraphicalItem:{reducer(e,t){var r=Yl(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ha()}}}),{addCartesianGraphicalItem:oJ,replaceCartesianGraphicalItem:lJ,removeCartesianGraphicalItem:cJ,addPolarGraphicalItem:uJ,removePolarGraphicalItem:dJ}=FI.actions,fJ=FI.reducer,hJ=e=>{var t=Ga(),r=I.useRef(null);return I.useLayoutEffect(()=>{r.current===null?t(oJ(e)):r.current!==e&&t(lJ({prev:r.current,next:e})),r.current=e},[t,e]),I.useLayoutEffect(()=>()=>{r.current&&(t(cJ(r.current)),r.current=null)},[t]),null},zI=I.memo(hJ);function pJ(e){var t=Ga();return I.useLayoutEffect(()=>(t(uJ(e)),()=>{t(dJ(e))}),[t,e]),null}var mJ=["key"],gJ=["onMouseEnter","onClick","onMouseLeave"],xJ=["id"],vJ=["id"];function WC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(r),!0).forEach(function(n){yJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yJ(e,t,r){return(t=bJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bJ(e){var t=wJ(e,"string");return typeof t=="symbol"?t:t+""}function wJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jd.apply(null,arguments)}function Px(e,t){if(e==null)return{};var r,n,a=AJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function NJ(e){var t=I.useMemo(()=>R3(e.children,uf),[e.children]),r=gr(n=>IQ(n,e.id,t));return r==null?null:I.createElement(tJ,{legendPayload:r})}var SJ=I.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:c,name:f,hide:m,tooltipType:p,id:x}=e,y={dataDefinedOnItem:n.map(S=>S.tooltipPayload),positions:n.map(S=>S.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:c,dataKey:t,nameKey:r,name:zh(f,t),hide:m,type:p,color:c,unit:"",graphicalItemId:x}};return I.createElement(U3,{tooltipEntrySettings:y})}),EJ=(e,t)=>e>t?"start":e<t?"end":"middle",CJ=(e,t,r)=>Hs(typeof t=="function"?t(e):t,r,r*.8),_J=(e,t,r)=>{var{top:n,left:a,width:i,height:c}=t,f=oT(i,c),m=a+Hs(e.cx,i,i/2),p=n+Hs(e.cy,c,c/2),x=Hs(e.innerRadius,f,0),y=CJ(r,e.outerRadius,f),S=e.maxRadius||Math.sqrt(i*i+c*c)/2;return{cx:m,cy:p,innerRadius:x,outerRadius:y,maxRadius:S}},jJ=(e,t)=>{var r=hs(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function OJ(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var TJ=(e,t)=>{if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Wn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=Px(t,mJ);return I.createElement(Nh,jd({},a,{type:"linear",className:r}))},kJ=(e,t,r)=>{if(I.isValidElement(e))return I.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),I.isValidElement(n)))return n;var a=Wn("recharts-pie-label-text",OJ(e));return I.createElement(Mx,jd({},t,{alignmentBaseline:"middle",className:a}),n)};function IJ(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:c}=r;if(!n||!a||!t)return null;var f=Io(r),m=mf(a),p=mf(i),x=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,y=t.map((S,N)=>{var j=(S.startAngle+S.endAngle)/2,_=Di(S.cx,S.cy,S.outerRadius+x,j),T=ci(ci(ci(ci({},f),S),{},{stroke:"none"},m),{},{index:N,textAnchor:EJ(_.x,S.cx)},_),D=ci(ci(ci(ci({},f),S),{},{fill:"none",stroke:S.fill},p),{},{index:N,points:[Di(S.cx,S.cy,S.outerRadius,j),_],key:"line"});return I.createElement(Lo,{zIndex:Li.label,key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(N)},I.createElement(yi,null,i&&TJ(i,D),kJ(a,T,sa(S,c))))});return I.createElement(yi,{className:"recharts-pie-labels"},y)}function MJ(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?I.createElement(D3,{label:a}):I.createElement(IJ,{sectors:t,props:r,showLabels:n})}function DJ(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:i,id:c}=e,f=gr(_d),m=gr(_3),p=gr($X),{onMouseEnter:x,onClick:y,onMouseLeave:S}=a,N=Px(a,gJ),j=B3(x,a.dataKey,c),_=F3(S),T=z3(y,a.dataKey,c);return t==null||t.length===0?null:I.createElement(I.Fragment,null,t.map((D,R)=>{if((D==null?void 0:D.startAngle)===0&&(D==null?void 0:D.endAngle)===0&&t.length!==1)return null;var z=p==null||p===c,G=String(R)===f&&(m==null||a.dataKey===m)&&z,$=f?n:null,X=r&&G?r:$,V=ci(ci({},D),{},{stroke:D.stroke,tabIndex:-1,[P7]:R,[R7]:c});return I.createElement(yi,jd({key:"sector-".concat(D==null?void 0:D.startAngle,"-").concat(D==null?void 0:D.endAngle,"-").concat(D.midAngle,"-").concat(R),tabIndex:-1,className:"recharts-pie-sector"},Xg(N,D,R),{onMouseEnter:j(D,R),onMouseLeave:_(D,R),onClick:T(D,R)}),I.createElement(RI,jd({option:i??X,index:R,shapeType:"sector",isActive:G},V)))}))}function LJ(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:c,startAngle:f,endAngle:m,dataKey:p,nameKey:x,tooltipType:y}=r,S=Math.abs(r.minAngle),N=jJ(f,m),j=Math.abs(N),_=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,T=n.filter(X=>sa(X,p,0)!==0).length,D=(j>=360?T:T-1)*_,R=j-T*S-D,z=n.reduce((X,V)=>{var Y=sa(V,p,0);return X+(nr(Y)?Y:0)},0),G;if(z>0){var $;G=n.map((X,V)=>{var Y=sa(X,p,0),W=sa(X,x,V),Ne=_J(r,i,X),Z=(nr(Y)?Y:0)/z,Q,ye=ci(ci({},X),a&&a[V]&&a[V].props);V?Q=$.endAngle+hs(N)*_*(Y!==0?1:0):Q=f;var ie=Q+hs(N)*((Y!==0?S:0)+Z*R),q=(Q+ie)/2,te=(Ne.innerRadius+Ne.outerRadius)/2,se=[{name:W,value:Y,payload:ye,dataKey:p,type:y,graphicalItemId:r.id}],ue=Di(Ne.cx,Ne.cy,te,q);return $=ci(ci(ci(ci({},r.presentationProps),{},{percent:Z,cornerRadius:typeof c=="string"?parseFloat(c):c,name:W,tooltipPayload:se,midAngle:q,middleRadius:te,tooltipPosition:ue},ye),Ne),{},{value:Y,dataKey:p,startAngle:Q,endAngle:ie,payload:ye,paddingAngle:hs(N)*_}),$})}return G}function PJ(e){var{showLabels:t,sectors:r,children:n}=e,a=I.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return I.createElement(gQ,{value:t?a:void 0},n)}function RJ(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:i,animationBegin:c,animationDuration:f,animationEasing:m,activeShape:p,inactiveShape:x,onAnimationStart:y,onAnimationEnd:S}=t,N=I1(t,"recharts-pie-"),j=r.current,[_,T]=I.useState(!1),D=I.useCallback(()=>{typeof S=="function"&&S(),T(!1)},[S]),R=I.useCallback(()=>{typeof y=="function"&&y(),T(!0)},[y]);return I.createElement(PJ,{showLabels:!_,sectors:a},I.createElement(k1,{animationId:N,begin:c,duration:f,isActive:i,easing:m,onAnimationStart:R,onAnimationEnd:D,key:N},z=>{var G=[],$=a&&a[0],X=$==null?void 0:$.startAngle;return a==null||a.forEach((V,Y)=>{var W=j&&j[Y],Ne=Y>0?xf(V,"paddingAngle",0):0;if(W){var Z=Ia(W.endAngle-W.startAngle,V.endAngle-V.startAngle,z),Q=ci(ci({},V),{},{startAngle:X+Ne,endAngle:X+Z+Ne});G.push(Q),X=Q.endAngle}else{var{endAngle:ye,startAngle:ie}=V,q=Ia(0,ye-ie,z),te=ci(ci({},V),{},{startAngle:X+Ne,endAngle:X+q+Ne});G.push(te),X=te.endAngle}}),r.current=G,I.createElement(yi,null,I.createElement(DJ,{sectors:G,activeShape:p,inactiveShape:x,allOtherPieProps:t,shape:t.shape,id:n}))}),I.createElement(MJ,{showLabels:!_,sectors:a,props:t}),t.children)}var BJ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Li.area};function FJ(e){var{id:t}=e,r=Px(e,xJ),{hide:n,className:a,rootTabIndex:i}=e,c=I.useMemo(()=>R3(e.children,uf),[e.children]),f=gr(x=>MQ(x,t,c)),m=I.useRef(null),p=Wn("recharts-pie",a);return n||f==null?(m.current=null,I.createElement(yi,{tabIndex:i,className:p})):I.createElement(Lo,{zIndex:e.zIndex},I.createElement(SJ,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:f,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),I.createElement(yi,{tabIndex:i,className:p},I.createElement(RJ,{props:ci(ci({},r),{},{sectors:f}),previousSectorsRef:m,id:t})))}function N5(e){var t=ps(e,BJ),{id:r}=t,n=Px(t,vJ),a=Io(n);return I.createElement(q3,{id:r,type:"pie"},i=>I.createElement(I.Fragment,null,I.createElement(pJ,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),I.createElement(NJ,jd({},n,{id:i})),I.createElement(FJ,jd({},n,{id:i}))))}N5.displayName="Pie";var zJ=["points"];function GC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(r),!0).forEach(function(n){UJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UJ(e,t,r){return(t=qJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qJ(e){var t=HJ(e,"string");return typeof t=="symbol"?t:t+""}function HJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(null,arguments)}function VJ(e,t){if(e==null)return{};var r,n,a=WJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function WJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function GJ(e){var{option:t,dotProps:r,className:n}=e;if(I.isValidElement(t))return I.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Wn(n,typeof t!="boolean"?t.className:""),i=r??{},{points:c}=i,f=VJ(i,zJ);return I.createElement(TI,Ng({},f,{className:a}))}function YJ(e,t){return e==null?!1:t?!0:e.length===1}function $J(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:c,needClip:f,clipPathId:m,zIndex:p=Li.scatter}=e;if(!YJ(t,r))return null;var x=PI(r),y=DF(r),S=t.map((j,_)=>{var T,D,R=Xy(Xy(Xy({r:3},c),y),{},{index:_,cx:(T=j.x)!==null&&T!==void 0?T:void 0,cy:(D=j.y)!==null&&D!==void 0?D:void 0,dataKey:i,value:j.value,payload:j.payload,points:t});return I.createElement(GJ,{key:"dot-".concat(_),option:r,dotProps:R,className:a})}),N={};return f&&m!=null&&(N.clipPath="url(#clipPath-".concat(x?"":"dots-").concat(m,")")),I.createElement(Lo,{zIndex:p},I.createElement(yi,Ng({className:n},N),S))}function YC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(r),!0).forEach(function(n){XJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XJ(e,t,r){return(t=KJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KJ(e){var t=ZJ(e,"string");return typeof t=="symbol"?t:t+""}function ZJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UI=0,QJ={xAxis:{},yAxis:{},zAxis:{}},qI=Do({name:"cartesianAxis",initialState:QJ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ha()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ha()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ha()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ha()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ha()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ha()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ha()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ha()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ha()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var c=[...i,n].slice(-3);e.yAxis[r]=$C($C({},e.yAxis[r]),{},{width:n,widthHistory:c})}}}}),{addXAxis:JJ,replaceXAxis:eee,removeXAxis:tee,addYAxis:ree,replaceYAxis:nee,removeYAxis:aee,addZAxis:cse,replaceZAxis:use,removeZAxis:dse,updateYAxisWidth:iee}=qI.actions,see=qI.reducer,oee=ct([Ki],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),lee=ct([oee,Eu,Cu],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),H3=()=>gr(lee),cee=()=>gr(JX);function XC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ky(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XC(Object(r),!0).forEach(function(n){uee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uee(e,t,r){return(t=dee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dee(e){var t=fee(e,"string");return typeof t=="symbol"?t:t+""}function fee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hee=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i,clipPath:c}=e;if(a===!1||t.x==null||t.y==null)return null;var f={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},m=Ky(Ky(Ky({},f),mf(a)),cw(a)),p;return I.isValidElement(a)?p=I.cloneElement(a,m):typeof a=="function"?p=a(m):p=I.createElement(TI,m),I.createElement(yi,{className:"recharts-active-dot",clipPath:c},p)};function KC(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:i,zIndex:c=Li.activeDot}=e,f=gr(_d),m=cee();if(t==null||m==null)return null;var p=t.find(x=>m.includes(x.payload));return Za(p)?null:I.createElement(Lo,{zIndex:c},I.createElement(hee,{point:p,childIndex:Number(f),mainColor:r,dataKey:a,activeDot:n,clipPath:i}))}var ZC=(e,t,r)=>{var n=r??e;if(!Za(n))return Hs(n,t,0)},pee=(e,t,r)=>{var n={},a=e.filter(Sx),i=e.filter(p=>p.stackId==null),c=a.reduce((p,x)=>(p[x.stackId]||(p[x.stackId]=[]),p[x.stackId].push(x),p),n),f=Object.entries(c).map(p=>{var[x,y]=p,S=y.map(j=>j.dataKey),N=ZC(t,r,y[0].barSize);return{stackId:x,dataKeys:S,barSize:N}}),m=i.map(p=>{var x=[p.dataKey].filter(S=>S!=null),y=ZC(t,r,p.barSize);return{stackId:void 0,dataKeys:x,barSize:y}});return[...f,...m]};function QC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(r),!0).forEach(function(n){mee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mee(e,t,r){return(t=gee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gee(e){var t=xee(e,"string");return typeof t=="symbol"?t:t+""}function xee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vee(e,t,r,n,a){var i=n.length;if(!(i<1)){var c=Hs(e,r,0,!0),f,m=[];if(va(n[0].barSize)){var p=!1,x=r/i,y=n.reduce((D,R)=>D+(R.barSize||0),0);y+=(i-1)*c,y>=r&&(y-=(i-1)*c,c=0),y>=r&&x>0&&(p=!0,x*=.9,y=i*x);var S=(r-y)/2>>0,N={offset:S-c,size:0};f=n.reduce((D,R)=>{var z,G={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:N.offset+N.size+c,size:p?x:(z=R.barSize)!==null&&z!==void 0?z:0}},$=[...D,G];return N=$[$.length-1].position,$},m)}else{var j=Hs(t,r,0,!0);r-2*j-(i-1)*c<=0&&(c=0);var _=(r-2*j-(i-1)*c)/i;_>1&&(_>>=0);var T=va(a)?Math.min(_,a):_;f=n.reduce((D,R,z)=>[...D,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:j+(_+c)*z+(_-T)/2,size:T}}],m)}return f}}var yee=(e,t,r,n,a,i,c)=>{var f=Za(c)?t:c,m=vee(r,n,a!==i?a:i,e,f);return a!==i&&m!=null&&(m=m.map(p=>lm(lm({},p),{},{position:lm(lm({},p.position),{},{offset:p.position.offset-a/2})}))),m},bee=(e,t)=>{var r=Nx(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(c=>c.key===r)}}}};function wee(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&va(e.zIndex)?e.zIndex:t}var HI=e=>{var{chartData:t}=e,r=Ga(),n=Ws();return I.useEffect(()=>n?()=>{}:(r(aC(t)),()=>{r(aC(void 0))}),[t,r,n]),null},JC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},VI=Do({name:"brush",initialState:JC,reducers:{setBrushSettings(e,t){return t.payload==null?JC:t.payload}}}),{setBrushSettings:fse}=VI.actions,Aee=VI.reducer;function Nee(e,t,r){return(t=See(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function See(e){var t=Eee(e,"string");return typeof t=="symbol"?t:t+""}function Eee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class V3{static create(t){return new V3(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}Nee(V3,"EPS",1e-4);function Cee(e){return(e%180+180)%180}var _ee=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Cee(a),c=i*Math.PI/180,f=Math.atan(n/r),m=c>f&&c<Math.PI-f?n/Math.sin(c):r/Math.cos(c);return Math.abs(m)},jee={dots:[],areas:[],lines:[]},WI=Do({name:"referenceElements",initialState:jee,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Yl(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Yl(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Yl(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:hse,removeDot:pse,addArea:mse,removeArea:gse,addLine:xse,removeLine:vse}=WI.actions,Oee=WI.reducer,Tee=I.createContext(void 0),kee=e=>{var{children:t}=e,[r]=I.useState("".concat(n1("recharts"),"-clip")),n=H3();if(n==null)return null;var{x:a,y:i,width:c,height:f}=n;return I.createElement(Tee.Provider,{value:r},I.createElement("defs",null,I.createElement("clipPath",{id:r},I.createElement("rect",{x:a,y:i,height:f,width:c}))),t)};function GI(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function Iee(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return _ee(n,r)}function Mee(e,t,r){var n=r==="width",{x:a,y:i,width:c,height:f}=e;return t===1?{start:n?a:i,end:n?a+c:i+f}:{start:n?a+c:i+f,end:n?a:i}}function x1(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Dee(e,t){return GI(e,t+1)}function Lee(e,t,r,n,a){for(var i=(n||[]).slice(),{start:c,end:f}=t,m=0,p=1,x=c,y=function(){var j=n==null?void 0:n[m];if(j===void 0)return{v:GI(n,p)};var _=m,T,D=()=>(T===void 0&&(T=r(j,_)),T),R=j.coordinate,z=m===0||x1(e,R,D,x,f);z||(m=0,x=c,p+=1),z&&(x=R+e*(D()/2+a),m+=p)},S;p<=i.length;)if(S=y(),S)return S.v;return[]}function Pee(e,t,r,n,a){var i=(n||[]).slice(),c=i.length;if(c===0)return[];for(var{start:f,end:m}=t,p=1;p<=c;p++){for(var x=(c-1)%p,y=f,S=!0,N=function(){var R=n[j],z=j,G,$=()=>(G===void 0&&(G=r(R,z)),G),X=R.coordinate,V=j===x||x1(e,X,$,y,m);if(!V)return S=!1,1;V&&(y=X+e*($()/2+a))},j=x;j<c&&!N();j+=p);if(S){for(var _=[],T=x;T<c;T+=p)_.push(n[T]);return _}}return[]}function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(n){Ree(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ree(e,t,r){return(t=Bee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bee(e){var t=Fee(e,"string");return typeof t=="symbol"?t:t+""}function Fee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zee(e,t,r,n,a){for(var i=(n||[]).slice(),c=i.length,{start:f}=t,{end:m}=t,p=function(S){var N=i[S],j,_=()=>(j===void 0&&(j=r(N,S)),j);if(S===c-1){var T=e*(N.coordinate+e*_()/2-m);i[S]=N=Fs(Fs({},N),{},{tickCoord:T>0?N.coordinate-T*e:N.coordinate})}else i[S]=N=Fs(Fs({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var D=x1(e,N.tickCoord,_,f,m);D&&(m=N.tickCoord-e*(_()/2+a),i[S]=Fs(Fs({},N),{},{isShow:!0}))}},x=c-1;x>=0;x--)p(x);return i}function Uee(e,t,r,n,a,i){var c=(n||[]).slice(),f=c.length,{start:m,end:p}=t;if(i){var x=n[f-1],y=r(x,f-1),S=e*(x.coordinate+e*y/2-p);if(c[f-1]=x=Fs(Fs({},x),{},{tickCoord:S>0?x.coordinate-S*e:x.coordinate}),x.tickCoord!=null){var N=x1(e,x.tickCoord,()=>y,m,p);N&&(p=x.tickCoord-e*(y/2+a),c[f-1]=Fs(Fs({},x),{},{isShow:!0}))}}for(var j=i?f-1:f,_=function(R){var z=c[R],G,$=()=>(G===void 0&&(G=r(z,R)),G);if(R===0){var X=e*(z.coordinate-e*$()/2-m);c[R]=z=Fs(Fs({},z),{},{tickCoord:X<0?z.coordinate-X*e:z.coordinate})}else c[R]=z=Fs(Fs({},z),{},{tickCoord:z.coordinate});if(z.tickCoord!=null){var V=x1(e,z.tickCoord,$,m,p);V&&(m=z.tickCoord+e*($()/2+a),c[R]=Fs(Fs({},z),{},{isShow:!0}))}},T=0;T<j;T++)_(T);return c}function W3(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:c,orientation:f,interval:m,tickFormatter:p,unit:x,angle:y}=e;if(!a||!a.length||!n)return[];if(nr(m)||T1.isSsr){var S;return(S=Dee(a,nr(m)?m:0))!==null&&S!==void 0?S:[]}var N=[],j=f==="top"||f==="bottom"?"width":"height",_=x&&j==="width"?Z0(x,{fontSize:t,letterSpacing:r}):{width:0,height:0},T=(z,G)=>{var $=typeof p=="function"?p(z.value,G):z.value;return j==="width"?Iee(Z0($,{fontSize:t,letterSpacing:r}),_,y):Z0($,{fontSize:t,letterSpacing:r})[j]},D=a.length>=2?hs(a[1].coordinate-a[0].coordinate):1,R=Mee(i,D,j);return m==="equidistantPreserveStart"?Lee(D,R,T,a,c):m==="equidistantPreserveEnd"?Pee(D,R,T,a,c):(m==="preserveStart"||m==="preserveStartEnd"?N=Uee(D,R,T,a,c,m==="preserveStartEnd"):N=zee(D,R,T,a,c),N.filter(z=>z.isShow))}var qee=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,c=0;if(t){Array.from(t).forEach(x=>{if(x){var y=x.getBoundingClientRect();y.width>c&&(c=y.width)}});var f=r?r.getBoundingClientRect().width:0,m=a+i,p=c+m+f+(r?n:0);return Math.round(p)}return 0},Hee=["axisLine","width","height","className","hide","ticks","axisType"];function Vee(e,t){if(e==null)return{};var r,n,a=Wee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Wee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wf.apply(null,arguments)}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){Gee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gee(e,t,r){return(t=Yee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yee(e){var t=$ee(e,"string");return typeof t=="symbol"?t:t+""}function $ee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mu={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Li.axis};function Xee(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:c,axisLine:f,otherSvgProps:m}=e;if(!f)return null;var p=ki(ki(ki({},m),Io(f)),{},{fill:"none"});if(i==="top"||i==="bottom"){var x=+(i==="top"&&!c||i==="bottom"&&c);p=ki(ki({},p),{},{x1:t,y1:r+x*a,x2:t+n,y2:r+x*a})}else{var y=+(i==="left"&&!c||i==="right"&&c);p=ki(ki({},p),{},{x1:t+y*n,y1:r,x2:t+y*n,y2:r+a})}return I.createElement("line",wf({},p,{className:Wn("recharts-cartesian-axis-line",xf(f,"className"))}))}function Kee(e,t,r,n,a,i,c,f,m){var p,x,y,S,N,j,_=f?-1:1,T=e.tickSize||c,D=nr(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":p=x=e.coordinate,S=r+ +!f*a,y=S-_*T,j=y-_*m,N=D;break;case"left":y=S=e.coordinate,x=t+ +!f*n,p=x-_*T,N=p-_*m,j=D;break;case"right":y=S=e.coordinate,x=t+ +f*n,p=x+_*T,N=p+_*m,j=D;break;default:p=x=e.coordinate,S=r+ +f*a,y=S+_*T,j=y+_*m,N=D;break}return{line:{x1:p,y1:y,x2:x,y2:S},tick:{x:N,y:j}}}function Zee(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Qee(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Jee(e){var{option:t,tickProps:r,value:n}=e,a,i=Wn(r.className,"recharts-cartesian-axis-tick-value");if(I.isValidElement(t))a=I.cloneElement(t,ki(ki({},r),{},{className:i}));else if(typeof t=="function")a=t(ki(ki({},r),{},{className:i}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=Wn(c,t==null?void 0:t.className)),a=I.createElement(Mx,wf({},r,{className:c}),n)}return a}var ete=I.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:c,unit:f,padding:m,tickTextProps:p,orientation:x,mirror:y,x:S,y:N,width:j,height:_,tickSize:T,tickMargin:D,fontSize:R,letterSpacing:z,getTicksConfig:G,events:$,axisType:X}=e,V=W3(ki(ki({},G),{},{ticks:r}),R,z),Y=Zee(x,y),W=Qee(x,y),Ne=Io(G),Z=mf(n),Q={};typeof a=="object"&&(Q=a);var ye=ki(ki({},Ne),{},{fill:"none"},Q),ie=V.map(se=>ki({entry:se},Kee(se,S,N,j,_,x,T,y,D))),q=ie.map(se=>{var{entry:ue,line:ee}=se;return I.createElement(yi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},a&&I.createElement("line",wf({},ye,ee,{className:Wn("recharts-cartesian-axis-tick-line",xf(a,"className"))})))}),te=ie.map((se,ue)=>{var{entry:ee,tick:Se}=se,le=ki(ki(ki(ki({textAnchor:Y,verticalAnchor:W},Ne),{},{stroke:"none",fill:i},Z),Se),{},{index:ue,payload:ee,visibleTicksCount:V.length,tickFormatter:c,padding:m},p);return I.createElement(yi,wf({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},Xg($,ee,ue)),n&&I.createElement(Jee,{option:n,tickProps:le,value:"".concat(typeof c=="function"?c(ee.value,ue):ee.value).concat(f||"")}))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(X,"-ticks")},te.length>0&&I.createElement(Lo,{zIndex:Li.label},I.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(X,"-tick-labels"),ref:t},te)),q.length>0&&I.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(X,"-tick-lines")},q))}),tte=I.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:c,ticks:f,axisType:m}=e,p=Vee(e,Hee),[x,y]=I.useState(""),[S,N]=I.useState(""),j=I.useRef(null);I.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var T;return qee({ticks:j.current,label:(T=e.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=I.useCallback(T=>{if(T){var D=T.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=D;var R=D[0];if(R){var z=window.getComputedStyle(R),G=z.fontSize,$=z.letterSpacing;(G!==x||$!==S)&&(y(G),N($))}}},[x,S]);return c||n!=null&&n<=0||a!=null&&a<=0?null:I.createElement(Lo,{zIndex:e.zIndex},I.createElement(yi,{className:Wn("recharts-cartesian-axis",i)},I.createElement(Xee,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Io(e)}),I.createElement(ete,{ref:_,axisType:m,events:p,fontSize:x,getTicksConfig:e,height:e.height,letterSpacing:S,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:f,unit:e.unit,width:e.width,x:e.x,y:e.y}),I.createElement(XZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},I.createElement(iQ,{label:e.label,labelRef:e.labelRef}),e.children)))}),G3=I.forwardRef((e,t)=>{var r=ps(e,mu);return I.createElement(tte,wf({},r,{ref:t}))});G3.displayName="CartesianAxis";var rte=["x1","y1","x2","y2","key"],nte=["offset"],ate=["xAxisId","yAxisId"],ite=["xAxisId","yAxisId"];function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){ste(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ste(e,t,r){return(t=ote(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ote(e){var t=lte(e,"string");return typeof t=="symbol"?t:t+""}function lte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(null,arguments)}function Sg(e,t){if(e==null)return{};var r,n,a=cte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ute=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:c,ry:f}=e;return I.createElement("rect",{x:n,y:a,ry:f,width:i,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function YI(e){var{option:t,lineItemProps:r}=e,n;if(I.isValidElement(t))n=I.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:c,x2:f,y2:m,key:p}=r,x=Sg(r,rte),y=(a=Io(x))!==null&&a!==void 0?a:{},{offset:S}=y,N=Sg(y,nte);n=I.createElement("line",nf({},N,{x1:i,y1:c,x2:f,y2:m,fill:"none",key:p}))}return n}function dte(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:c}=e,f=Sg(e,ate),m=a.map((p,x)=>{var y=zs(zs({},f),{},{x1:t,y1:p,x2:t+r,y2:p,key:"line-".concat(x),index:x});return I.createElement(YI,{key:"line-".concat(x),option:n,lineItemProps:y})});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function fte(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:c}=e,f=Sg(e,ite),m=a.map((p,x)=>{var y=zs(zs({},f),{},{x1:p,y1:t,x2:p,y2:t+r,key:"line-".concat(x),index:x});return I.createElement(YI,{option:n,lineItemProps:y,key:"line-".concat(x)})});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function hte(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:c,horizontalPoints:f,horizontal:m=!0}=e;if(!m||!t||!t.length||f==null)return null;var p=f.map(y=>Math.round(y+a-a)).sort((y,S)=>y-S);a!==p[0]&&p.unshift(0);var x=p.map((y,S)=>{var N=!p[S+1],j=N?a+c-y:p[S+1]-y;if(j<=0)return null;var _=S%t.length;return I.createElement("rect",{key:"react-".concat(S),y,x:n,height:j,width:i,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},x)}function pte(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:c,height:f,verticalPoints:m}=e;if(!t||!r||!r.length)return null;var p=m.map(y=>Math.round(y+a-a)).sort((y,S)=>y-S);a!==p[0]&&p.unshift(0);var x=p.map((y,S)=>{var N=!p[S+1],j=N?a+c-y:p[S+1]-y;if(j<=0)return null;var _=S%r.length;return I.createElement("rect",{key:"react-".concat(S),x:y,y:i,width:j,height:f,stroke:"none",fill:r[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},x)}var mte=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return I7(W3(zs(zs(zs({},mu),r),{},{ticks:M7(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},gte=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return I7(W3(zs(zs(zs({},mu),r),{},{ticks:M7(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},xte={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Li.grid};function S5(e){var t=H7(),r=V7(),n=q7(),a=zs(zs({},ps(e,xte)),{},{x:nr(e.x)?e.x:n.left,y:nr(e.y)?e.y:n.top,width:nr(e.width)?e.width:n.width,height:nr(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:c,x:f,y:m,width:p,height:x,syncWithTicks:y,horizontalValues:S,verticalValues:N}=a,j=Ws(),_=gr(W=>GE(W,"xAxis",i,j)),T=gr(W=>GE(W,"yAxis",c,j));if(!kc(p)||!kc(x)||!nr(f)||!nr(m))return null;var D=a.verticalCoordinatesGenerator||mte,R=a.horizontalCoordinatesGenerator||gte,{horizontalPoints:z,verticalPoints:G}=a;if((!z||!z.length)&&typeof R=="function"){var $=S&&S.length,X=R({yAxis:T?zs(zs({},T),{},{ticks:$?S:T.ticks}):void 0,width:t??p,height:r??x,offset:n},$?!0:y);Zm(Array.isArray(X),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof X,"]")),Array.isArray(X)&&(z=X)}if((!G||!G.length)&&typeof D=="function"){var V=N&&N.length,Y=D({xAxis:_?zs(zs({},_),{},{ticks:V?N:_.ticks}):void 0,width:t??p,height:r??x,offset:n},V?!0:y);Zm(Array.isArray(Y),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Y,"]")),Array.isArray(Y)&&(G=Y)}return I.createElement(Lo,{zIndex:a.zIndex},I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(ute,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),I.createElement(hte,nf({},a,{horizontalPoints:z})),I.createElement(pte,nf({},a,{verticalPoints:G})),I.createElement(dte,nf({},a,{offset:n,horizontalPoints:z,xAxis:_,yAxis:T})),I.createElement(fte,nf({},a,{offset:n,verticalPoints:G,xAxis:_,yAxis:T}))))}S5.displayName="CartesianGrid";var vte={},$I=Do({name:"errorBars",initialState:vte,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:yse,replaceErrorBar:bse,removeErrorBar:wse}=$I.actions,yte=$I.reducer,bte=["children"];function wte(e,t){if(e==null)return{};var r,n,a=Ate(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ate(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Nte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ste=I.createContext(Nte);function Ete(e){var{children:t}=e,r=wte(e,bte);return I.createElement(Ste.Provider,{value:r},t)}function Y3(e,t){var r,n,a=gr(p=>Ou(p,e)),i=gr(p=>Tu(p,t)),c=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:cs.allowDataOverflow,f=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:us.allowDataOverflow,m=c||f;return{needClip:m,needClipX:c,needClipY:f}}function XI(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=H3(),{needClipX:i,needClipY:c,needClip:f}=Y3(t,r);if(!f||!a)return null;var{x:m,y:p,width:x,height:y}=a;return I.createElement("clipPath",{id:"clipPath-".concat(n)},I.createElement("rect",{x:i?m:m-x/2,y:c?p:p-y/2,width:i?x:x*2,height:c?y:y*2}))}function Cte(e){var t=mf(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,c=Number(a),f=Number(i);return(Number.isNaN(c)||c<0)&&(c=r),(Number.isNaN(f)||f<0)&&(f=n),{r:c,strokeWidth:f}}return{r,strokeWidth:n}}var Zy={exports:{}},Qy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function _te(){if(n_)return Qy;n_=1;var e=Nf();function t(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,c=e.useMemo,f=e.useDebugValue;return Qy.useSyncExternalStoreWithSelector=function(m,p,x,y,S){var N=a(null);if(N.current===null){var j={hasValue:!1,value:null};N.current=j}else j=N.current;N=c(function(){function T($){if(!D){if(D=!0,R=$,$=y($),S!==void 0&&j.hasValue){var X=j.value;if(S(X,$))return z=X}return z=$}if(X=z,r(R,$))return X;var V=y($);return S!==void 0&&S(X,V)?(R=$,X):(R=$,z=V)}var D=!1,R,z,G=x===void 0?null:x;return[function(){return T(p())},G===null?void 0:function(){return T(G())}]},[p,x,y,S]);var _=n(m,N[0],N[1]);return i(function(){j.hasValue=!0,j.value=_},[_]),f(_),_},Qy}var a_;function jte(){return a_||(a_=1,Zy.exports=_te()),Zy.exports}jte();function Ote(e){e()}function Tte(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Ote(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var i_={notify(){},get:()=>[]};function kte(e,t){let r,n=i_,a=0,i=!1;function c(_){x();const T=n.subscribe(_);let D=!1;return()=>{D||(D=!0,T(),y())}}function f(){n.notify()}function m(){j.onStateChange&&j.onStateChange()}function p(){return i}function x(){a++,r||(r=e.subscribe(m),n=Tte())}function y(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=i_)}function S(){i||(i=!0,x())}function N(){i&&(i=!1,y())}const j={addNestedSub:c,notifyNestedSubs:f,handleChangeWrapper:m,isSubscribed:p,trySubscribe:S,tryUnsubscribe:N,getListeners:()=>n};return j}var Ite=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mte=Ite(),Dte=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Lte=Dte(),Pte=()=>Mte||Lte?I.useLayoutEffect:I.useEffect,Rte=Pte();function s_(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Bte(e,t){if(s_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!s_(e[r[a]],t[r[a]]))return!1;return!0}var Jy=Symbol.for("react-redux-context"),eb=typeof globalThis<"u"?globalThis:{};function Fte(){if(!I.createContext)return{};const e=eb[Jy]??(eb[Jy]=new Map);let t=e.get(I.createContext);return t||(t=I.createContext(null),e.set(I.createContext,t)),t}var zte=Fte();function Ute(e){const{children:t,context:r,serverState:n,store:a}=e,i=I.useMemo(()=>{const m=kte(a);return{store:a,subscription:m,getServerState:n?()=>n:void 0}},[a,n]),c=I.useMemo(()=>a.getState(),[a]);Rte(()=>{const{subscription:m}=i;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==a.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[i,c]);const f=r||zte;return I.createElement(f.Provider,{value:i},t)}var qte=Ute,Hte=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Vte(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Rx(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Hte.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Bte(e[n],t[n]))return!1}else if(!Vte(e[n],t[n]))return!1;return!0}function Lc(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:UI}function Pc(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:UI}var KI=(e,t,r)=>Cd(e,"xAxis",Lc(e,t),r),ZI=(e,t,r)=>Ed(e,"xAxis",Lc(e,t),r),QI=(e,t,r)=>Cd(e,"yAxis",Pc(e,t),r),JI=(e,t,r)=>Ed(e,"yAxis",Pc(e,t),r),Wte=ct([Nn,KI,QI,ZI,JI],(e,t,r,n,a)=>Su(e,"xAxis")?jh(t,n,!1):jh(r,a,!1)),Gte=(e,t)=>t,eM=ct([_x,Gte],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),tM=e=>{var t=Nn(e),r=Su(t,"xAxis");return r?"yAxis":"xAxis"},Yte=(e,t)=>{var r=tM(e);return r==="yAxis"?Pc(e,t):Lc(e,t)},$te=(e,t,r)=>xg(e,tM(e),Yte(e,t),r),Xte=ct([eM,$te],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,a=Nx(e);if(!(n==null||a==null)){var i=(r=t[n])===null||r===void 0?void 0:r.stackedData,c=i==null?void 0:i.find(f=>f.key===a);if(c!=null)return c.map(f=>[f[0],f[1]])}}}),Kte=ct([Nn,KI,QI,ZI,JI,Xte,YT,Wte,eM,ZY],(e,t,r,n,a,i,c,f,m,p)=>{var{chartData:x,dataStartIndex:y,dataEndIndex:S}=c;if(!(m==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||f==null)){var{data:N}=m,j;if(N&&N.length>0?j=N:j=x==null?void 0:x.slice(y,S+1),j!=null)return mre({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:y,areaSettings:m,stackedData:i,displayedData:j,chartBaseValue:p,bandSize:f})}}),Zte=["id"],Qte=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},df.apply(null,arguments)}function rM(e,t){if(e==null)return{};var r,n,a=Jte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){ere(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ere(e,t,r){return(t=tre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tre(e){var t=rre(e,"string");return typeof t=="symbol"?t:t+""}function rre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eg(e,t){return e&&e!=="none"?e:t}var nre=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:c}=e;return[{inactive:c,dataKey:t,type:i,color:Eg(n,a),value:zh(r,t),payload:e}]},are=I.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:c,hide:f,unit:m,tooltipType:p,id:x}=e,y={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:zh(c,t),hide:f,type:p,color:Eg(n,i),unit:m,graphicalItemId:x}};return I.createElement(U3,{tooltipEntrySettings:y})});function ire(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:c}=n,f=Io(n);return I.createElement($J,{points:r,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:f,needClip:a,clipPathId:t})}function sre(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var c,f,m={x:(c=i.x)!==null&&c!==void 0?c:0,y:(f=i.y)!==null&&f!==void 0?f:0,width:0,lowerWidth:0,upperWidth:0,height:0};return gh(gh({},m),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:m,fill:void 0})});return I.createElement(jI,{value:t?a:void 0},r)}function l_(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:c,type:f,stroke:m,connectNulls:p,isRange:x}=i,{id:y}=i,S=rM(i,Zte),N=Io(S),j=so(S);return I.createElement(I.Fragment,null,(t==null?void 0:t.length)>1&&I.createElement(yi,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},I.createElement(Nh,df({},j,{id:y,points:t,connectNulls:p,type:f,baseLine:r,layout:c,stroke:"none",className:"recharts-area-area"})),m!=="none"&&I.createElement(Nh,df({},N,{className:"recharts-area-curve",layout:c,type:f,connectNulls:p,fill:"none",points:t})),m!=="none"&&x&&I.createElement(Nh,df({},N,{className:"recharts-area-curve",layout:c,type:f,connectNulls:p,fill:"none",points:r}))),I.createElement(ire,{points:t,props:S,clipPathId:a}))}function ore(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:c}=e,f=(t=i[0])===null||t===void 0?void 0:t.y,m=(r=i[i.length-1])===null||r===void 0?void 0:r.y;if(!va(f)||!va(m))return null;var p=n*Math.abs(f-m),x=Math.max(...i.map(y=>y.x||0));return nr(a)?x=Math.max(a,x):a&&Array.isArray(a)&&a.length&&(x=Math.max(...a.map(y=>y.x||0),x)),nr(x)?I.createElement("rect",{x:0,y:f<m?f:f-p,width:x+(c?parseInt("".concat(c),10):1),height:Math.floor(p)}):null}function lre(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:c}=e,f=(t=i[0])===null||t===void 0?void 0:t.x,m=(r=i[i.length-1])===null||r===void 0?void 0:r.x;if(!va(f)||!va(m))return null;var p=n*Math.abs(f-m),x=Math.max(...i.map(y=>y.y||0));return nr(a)?x=Math.max(a,x):a&&Array.isArray(a)&&a.length&&(x=Math.max(...a.map(y=>y.y||0),x)),nr(x)?I.createElement("rect",{x:f<m?f:f-p,y:0,width:p,height:Math.floor(x+(c?parseInt("".concat(c),10):1))}):null}function cre(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?I.createElement(ore,{alpha:t,points:n,baseLine:a,strokeWidth:i}):I.createElement(lre,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function ure(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:c,baseLine:f,isAnimationActive:m,animationBegin:p,animationDuration:x,animationEasing:y,onAnimationStart:S,onAnimationEnd:N}=n,j=I.useMemo(()=>({points:c,baseLine:f}),[c,f]),_=I1(j,"recharts-area-"),T=jH(),[D,R]=I.useState(!1),z=!D,G=I.useCallback(()=>{typeof N=="function"&&N(),R(!1)},[N]),$=I.useCallback(()=>{typeof S=="function"&&S(),R(!0)},[S]);if(T==null)return null;var X=a.current,V=i.current;return I.createElement(sre,{showLabels:z,points:c},n.children,I.createElement(k1,{animationId:_,begin:p,duration:x,isActive:m,easing:y,onAnimationEnd:G,onAnimationStart:$,key:_},Y=>{if(X){var W=X.length/c.length,Ne=Y===1?c:c.map((Q,ye)=>{var ie=Math.floor(ye*W);if(X[ie]){var q=X[ie];return gh(gh({},Q),{},{x:Ia(q.x,Q.x,Y),y:Ia(q.y,Q.y,Y)})}return Q}),Z;return nr(f)?Z=Ia(V,f,Y):Za(f)||yl(f)?Z=Ia(V,0,Y):Z=f.map((Q,ye)=>{var ie=Math.floor(ye*W);if(Array.isArray(V)&&V[ie]){var q=V[ie];return gh(gh({},Q),{},{x:Ia(q.x,Q.x,Y),y:Ia(q.y,Q.y,Y)})}return Q}),Y>0&&(a.current=Ne,i.current=Z),I.createElement(l_,{points:Ne,baseLine:Z,needClip:t,clipPathId:r,props:n})}return Y>0&&(a.current=c,i.current=f),I.createElement(yi,null,m&&I.createElement("defs",null,I.createElement("clipPath",{id:"animationClipPath-".concat(r)},I.createElement(cre,{alpha:Y,points:c,baseLine:f,layout:T,strokeWidth:n.strokeWidth}))),I.createElement(yi,{clipPath:"url(#animationClipPath-".concat(r,")")},I.createElement(l_,{points:c,baseLine:f,needClip:t,clipPathId:r,props:n})))}),I.createElement(D3,{label:n.label}))}function dre(e){var{needClip:t,clipPathId:r,props:n}=e,a=I.useRef(null),i=I.useRef();return I.createElement(ure,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class fre extends I.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:i,left:c,needClip:f,xAxisId:m,yAxisId:p,width:x,height:y,id:S,baseLine:N,zIndex:j}=this.props;if(t)return null;var _=Wn("recharts-area",a),T=S,{r:D,strokeWidth:R}=Cte(r),z=PI(r),G=D*2+R,$=f?"url(#clipPath-".concat(z?"":"dots-").concat(T,")"):void 0;return I.createElement(Lo,{zIndex:j},I.createElement(yi,{className:_},f&&I.createElement("defs",null,I.createElement(XI,{clipPathId:T,xAxisId:m,yAxisId:p}),!z&&I.createElement("clipPath",{id:"clipPath-dots-".concat(T)},I.createElement("rect",{x:c-G/2,y:i-G/2,width:x+G,height:y+G}))),I.createElement(dre,{needClip:f,clipPathId:T,props:this.props})),I.createElement(KC,{points:n,mainColor:Eg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:$}),this.props.isRange&&Array.isArray(N)&&I.createElement(KC,{points:N,mainColor:Eg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:$}))}}var nM={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Li.area};function hre(e){var t,r=ps(e,nM),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:c,connectNulls:f,dot:m,fill:p,fillOpacity:x,hide:y,isAnimationActive:S,legendType:N,stroke:j,xAxisId:_,yAxisId:T}=r,D=rM(r,Qte),R=Ef(),z=cI(),{needClip:G}=Y3(_,T),$=Ws(),{points:X,isRange:V,baseLine:Y}=(t=gr(ie=>Kte(ie,e.id,$)))!==null&&t!==void 0?t:{},W=H3();if(R!=="horizontal"&&R!=="vertical"||W==null||z!=="AreaChart"&&z!=="ComposedChart")return null;var{height:Ne,width:Z,x:Q,y:ye}=W;return!X||!X.length?null:I.createElement(fre,df({},D,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:c,baseLine:Y,connectNulls:f,dot:m,fill:p,fillOpacity:x,height:Ne,hide:y,layout:R,isAnimationActive:S==="auto"?!T1.isSsr:S,isRange:V,legendType:N,needClip:G,points:X,stroke:j,width:Z,left:Q,top:ye,xAxisId:_,yAxisId:T}))}var pre=(e,t,r,n,a)=>{var i=r??t;if(nr(i))return i;var c=e==="horizontal"?a:n,f=c.scale.domain();if(c.type==="number"){var m=Math.max(f[0],f[1]),p=Math.min(f[0],f[1]);return i==="dataMin"?p:i==="dataMax"||m<0?m:Math.max(Math.min(f[0],f[1]),0)}return i==="dataMin"?f[0]:i==="dataMax"?f[1]:f[0]};function mre(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:c,xAxis:f,yAxis:m,displayedData:p,dataStartIndex:x,xAxisTicks:y,yAxisTicks:S,bandSize:N}=e,j=a&&a.length,_=pre(i,c,r,f,m),T=i==="horizontal",D=!1,R=p.map((G,$)=>{var X,V,Y;if(j)Y=a[x+$];else{var W=sa(G,n);Array.isArray(W)?(Y=W,D=!0):Y=[_,W]}var Ne=(X=(V=Y)===null||V===void 0?void 0:V[1])!==null&&X!==void 0?X:null,Z=Ne==null||j&&!t&&sa(G,n)==null;return T?{x:K6({axis:f,ticks:y,bandSize:N,entry:G,index:$}),y:Z?null:m.scale(Ne),value:Y,payload:G}:{x:Z?null:f.scale(Ne),y:K6({axis:m,ticks:S,bandSize:N,entry:G,index:$}),value:Y,payload:G}}),z;return j||D?z=R.map(G=>{var $=Array.isArray(G.value)?G.value[0]:null;return T?{x:G.x,y:$!=null&&G.y!=null?m.scale($):null,payload:G.payload}:{x:$!=null?f.scale($):null,y:G.y,payload:G.payload}}):z=T?m.scale(_):f.scale(_),{points:R,baseLine:z,isRange:D}}function gre(e){var t=ps(e,nM),r=Ws();return I.createElement(q3,{id:t.id,type:"area"},n=>I.createElement(I.Fragment,null,I.createElement(BI,{legendPayload:nre(t)}),I.createElement(are,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),I.createElement(zI,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:D7(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),I.createElement(hre,df({},t,{id:n}))))}var aM=I.memo(gre,Rx);aM.displayName="Area";var xre="Invariant failed";function vre(e,t){throw new Error(xre)}function E5(){return E5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E5.apply(null,arguments)}function Cg(e){return I.createElement(RI,E5({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var yre=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(nr(t))return t;var i=nr(n)||Za(n);return i?t(n,a):(i||vre(),r)}},bre=(e,t,r)=>r,wre=(e,t)=>t,G1=ct([_x,wre],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Are=ct([G1],e=>e==null?void 0:e.maxBarSize),Nre=(e,t,r,n)=>n,Sre=ct([Nn,_x,Lc,Pc,bre],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Ere=(e,t,r)=>{var n=Nn(e),a=Lc(e,t),i=Pc(e,t);if(!(a==null||i==null))return n==="horizontal"?xg(e,"yAxis",i,r):xg(e,"xAxis",a,r)},Cre=(e,t)=>{var r=Nn(e),n=Lc(e,t),a=Pc(e,t);if(!(n==null||a==null))return r==="horizontal"?WE(e,"xAxis",n):WE(e,"yAxis",a)},_re=ct([Sre,KY,Cre],pee),jre=(e,t,r)=>{var n,a,i=G1(e,t);if(i!=null){var c=Lc(e,t),f=Pc(e,t);if(!(c==null||f==null)){var m=Nn(e),p=lk(e),{maxBarSize:x}=i,y=Za(x)?p:x,S,N;return m==="horizontal"?(S=Cd(e,"xAxis",c,r),N=Ed(e,"xAxis",c,r)):(S=Cd(e,"yAxis",f,r),N=Ed(e,"yAxis",f,r)),(n=(a=jh(S,N,!0))!==null&&a!==void 0?a:y)!==null&&n!==void 0?n:0}}},iM=(e,t,r)=>{var n=Nn(e),a=Lc(e,t),i=Pc(e,t);if(!(a==null||i==null)){var c,f;return n==="horizontal"?(c=Cd(e,"xAxis",a,r),f=Ed(e,"xAxis",a,r)):(c=Cd(e,"yAxis",i,r),f=Ed(e,"yAxis",i,r)),jh(c,f)}},Ore=ct([_re,lk,XY,ck,jre,iM,Are],yee),Tre=(e,t,r)=>{var n=Lc(e,t);if(n!=null)return Cd(e,"xAxis",n,r)},kre=(e,t,r)=>{var n=Pc(e,t);if(n!=null)return Cd(e,"yAxis",n,r)},Ire=(e,t,r)=>{var n=Lc(e,t);if(n!=null)return Ed(e,"xAxis",n,r)},Mre=(e,t,r)=>{var n=Pc(e,t);if(n!=null)return Ed(e,"yAxis",n,r)},Dre=ct([Ore,G1],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Lre=ct([Ere,G1],bee),Pre=ct([Ki,bw,Tre,kre,Ire,Mre,Dre,Nn,YT,iM,Lre,G1,Nre],(e,t,r,n,a,i,c,f,m,p,x,y,S)=>{var{chartData:N,dataStartIndex:j,dataEndIndex:_}=m;if(!(y==null||c==null||t==null||f!=="horizontal"&&f!=="vertical"||r==null||n==null||a==null||i==null||p==null)){var{data:T}=y,D;if(T!=null&&T.length>0?D=T:D=N==null?void 0:N.slice(j,_+1),D!=null)return dne({layout:f,barSettings:y,pos:c,parentViewBox:t,bandSize:p,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:x,displayedData:D,offset:e,cells:S,dataStartIndex:j})}}),Rre=["index"];function C5(){return C5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C5.apply(null,arguments)}function Bre(e,t){if(e==null)return{};var r,n,a=Fre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sM=I.createContext(void 0),zre=e=>{var t=I.useContext(sM);if(t!=null)return t.stackId;if(e!=null)return D7(e)},Ure=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),qre=e=>{var t=I.useContext(sM);if(t!=null){var{stackId:r}=t;return"url(#".concat(Ure(r,e),")")}},Hre=e=>{var{index:t}=e,r=Bre(e,Rre),n=qre(t);return I.createElement(yi,C5({className:"recharts-bar-stack-layer",clipPath:n},r))},Vre=["onMouseEnter","onMouseLeave","onClick"],Wre=["value","background","tooltipPosition"],Gre=["id"],Yre=["onMouseEnter","onClick","onMouseLeave"];function Au(){return Au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Au.apply(null,arguments)}function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(n){$re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $re(e,t,r){return(t=Xre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xre(e){var t=Kre(e,"string");return typeof t=="symbol"?t:t+""}function Kre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _g(e,t){if(e==null)return{};var r,n,a=Zre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Qre=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:zh(r,t),payload:e}]},Jre=I.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:c,unit:f,tooltipType:m,id:p}=e,x={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:zh(i,t),hide:c,type:m,color:a,unit:f,graphicalItemId:p}};return I.createElement(U3,{tooltipEntrySettings:x})});function ene(e){var t=gr(_d),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:c,onMouseLeave:f,onClick:m}=i,p=_g(i,Vre),x=B3(c,n,i.id),y=F3(f),S=z3(m,n,i.id);if(!a||r==null)return null;var N=mf(a);return I.createElement(Lo,{zIndex:wee(a,Li.barBackground)},r.map((j,_)=>{var{value:T,background:D,tooltipPosition:R}=j,z=_g(j,Wre);if(!D)return null;var G=x(j,_),$=y(j,_),X=S(j,_),V=no(no(no(no(no({option:a,isActive:String(_)===t},z),{},{fill:"#eee"},D),N),Xg(p,j,_)),{},{onMouseEnter:G,onMouseLeave:$,onClick:X,dataKey:n,index:_,className:"recharts-bar-background-rectangle"});return I.createElement(Cg,Au({key:"background-bar-".concat(_)},V))}))}function tne(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var c={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return no(no({},c),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:c,fill:i.fill})});return I.createElement(jI,{value:t?a:void 0},r)}function rne(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:c}=e,f=gr(_d),m=gr(_3),p=r&&String(i)===f&&(m==null||c===m),x=p?r:t;return p?I.createElement(Lo,{zIndex:Li.activeBar},I.createElement(Cg,Au({},n,{name:String(n.name)},a,{isActive:p,option:x,index:i,dataKey:c}))):I.createElement(Cg,Au({},n,{name:String(n.name)},a,{isActive:p,option:x,index:i,dataKey:c}))}function nne(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return I.createElement(Cg,Au({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function ane(e){var t,{data:r,props:n}=e,a=(t=Io(n))!==null&&t!==void 0?t:{},{id:i}=a,c=_g(a,Gre),{shape:f,dataKey:m,activeBar:p}=n,{onMouseEnter:x,onClick:y,onMouseLeave:S}=n,N=_g(n,Yre),j=B3(x,m,i),_=F3(S),T=z3(y,m,i);return r?I.createElement(I.Fragment,null,r.map((D,R)=>I.createElement(Hre,Au({index:R,key:"rectangle-".concat(D==null?void 0:D.x,"-").concat(D==null?void 0:D.y,"-").concat(D==null?void 0:D.value,"-").concat(R),className:"recharts-bar-rectangle"},Xg(N,D,R),{onMouseEnter:j(D,R),onMouseLeave:_(D,R),onClick:T(D,R)}),p?I.createElement(rne,{shape:f,activeBar:p,baseProps:c,entry:D,index:R,dataKey:m}):I.createElement(nne,{shape:f,baseProps:c,entry:D,index:R,dataKey:m})))):null}function ine(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:c,animationDuration:f,animationEasing:m,onAnimationEnd:p,onAnimationStart:x}=t,y=r.current,S=I1(t,"recharts-bar-"),[N,j]=I.useState(!1),_=!N,T=I.useCallback(()=>{typeof p=="function"&&p(),j(!1)},[p]),D=I.useCallback(()=>{typeof x=="function"&&x(),j(!0)},[x]);return I.createElement(tne,{showLabels:_,rects:n},I.createElement(k1,{animationId:S,begin:c,duration:f,isActive:i,easing:m,onAnimationEnd:T,onAnimationStart:D,key:S},R=>{var z=R===1?n:n==null?void 0:n.map((G,$)=>{var X=y&&y[$];if(X)return no(no({},G),{},{x:Ia(X.x,G.x,R),y:Ia(X.y,G.y,R),width:Ia(X.width,G.width,R),height:Ia(X.height,G.height,R)});if(a==="horizontal"){var V=Ia(0,G.height,R),Y=Ia(G.stackedBarStart,G.y,R);return no(no({},G),{},{y:Y,height:V})}var W=Ia(0,G.width,R),Ne=Ia(G.stackedBarStart,G.x,R);return no(no({},G),{},{width:W,x:Ne})});return R>0&&(r.current=z??null),z==null?null:I.createElement(yi,null,I.createElement(ane,{props:t,data:z}))}),I.createElement(D3,{label:t.label}),t.children)}function sne(e){var t=I.useRef(null);return I.createElement(ine,{previousRectanglesRef:t,props:e})}var oM=0,one=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:sa(e,t)}};class lne extends I.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:c,needClip:f,background:m,id:p}=this.props;if(t||r==null)return null;var x=Wn("recharts-bar",a),y=p;return I.createElement(yi,{className:x,id:p},f&&I.createElement("defs",null,I.createElement(XI,{clipPathId:y,xAxisId:i,yAxisId:c})),I.createElement(yi,{className:"recharts-bar-rectangles",clipPath:f?"url(#clipPath-".concat(y,")"):void 0},I.createElement(ene,{data:r,dataKey:n,background:m,allOtherBarProps:this.props}),I.createElement(sne,this.props)))}}var cne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:oM,xAxisId:0,yAxisId:0,zIndex:Li.bar};function une(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:c,animationBegin:f,animationDuration:m,animationEasing:p,isAnimationActive:x}=e,{needClip:y}=Y3(t,r),S=Ef(),N=Ws(),j=R3(e.children,uf),_=gr(R=>Pre(R,e.id,N,j));if(S!=="vertical"&&S!=="horizontal")return null;var T,D=_==null?void 0:_[0];return D==null||D.height==null||D.width==null?T=0:T=S==="vertical"?D.height/2:D.width/2,I.createElement(Ete,{xAxisId:t,yAxisId:r,data:_,dataPointFormatter:one,errorBarOffset:T},I.createElement(lne,Au({},e,{layout:S,needClip:y,data:_,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:c,animationBegin:f,animationDuration:m,animationEasing:p,isAnimationActive:x})))}function dne(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:c,yAxis:f,xAxisTicks:m,yAxisTicks:p,stackedData:x,displayedData:y,offset:S,cells:N,parentViewBox:j,dataStartIndex:_}=e,T=t==="horizontal"?f:c,D=x?T.scale.domain():null,R=Yq({numericAxis:T}),z=T.scale(R);return y.map((G,$)=>{var X,V,Y,W,Ne,Z;if(x){var Q=x[$+_];if(Q==null)return null;X=qq(Q,D)}else X=sa(G,r),Array.isArray(X)||(X=[R,X]);var ye=yre(n,oM)(X[1],$);if(t==="horizontal"){var ie,[q,te]=[f.scale(X[0]),f.scale(X[1])];V=Z6({axis:c,ticks:m,bandSize:i,offset:a.offset,entry:G,index:$}),Y=(ie=te??q)!==null&&ie!==void 0?ie:void 0,W=a.size;var se=q-te;if(Ne=yl(se)?0:se,Z={x:V,y:S.top,width:W,height:S.height},Math.abs(ye)>0&&Math.abs(Ne)<Math.abs(ye)){var ue=hs(Ne||ye)*(Math.abs(ye)-Math.abs(Ne));Y-=ue,Ne+=ue}}else{var[ee,Se]=[c.scale(X[0]),c.scale(X[1])];if(V=ee,Y=Z6({axis:f,ticks:p,bandSize:i,offset:a.offset,entry:G,index:$}),W=Se-ee,Ne=a.size,Z={x:S.left,y:Y,width:S.width,height:Ne},Math.abs(ye)>0&&Math.abs(W)<Math.abs(ye)){var le=hs(W||ye)*(Math.abs(ye)-Math.abs(W));W+=le}}if(V==null||Y==null||W==null||Ne==null)return null;var U=no(no({},G),{},{stackedBarStart:z,x:V,y:Y,width:W,height:Ne,value:x?X:X[1],payload:G,background:Z,tooltipPosition:{x:V+W/2,y:Y+Ne/2},parentViewBox:j},N&&N[$]&&N[$].props);return U}).filter(Boolean)}function fne(e){var t=ps(e,cne),r=zre(t.stackId),n=Ws();return I.createElement(q3,{id:t.id,type:"bar"},a=>I.createElement(I.Fragment,null,I.createElement(BI,{legendPayload:Qre(t)}),I.createElement(Jre,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),I.createElement(zI,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),I.createElement(Lo,{zIndex:t.zIndex},I.createElement(une,Au({},t,{id:a})))))}var lM=I.memo(fne,Rx);lM.displayName="Bar";var hne=["domain","range"],pne=["domain","range"];function u_(e,t){if(e==null)return{};var r,n,a=mne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function d_(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function cM(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=u_(e,hne),{domain:i,range:c}=t,f=u_(t,pne);return!d_(r,i)||!d_(n,c)?!1:Rx(a,f)}var gne=["dangerouslySetInnerHTML","ticks","scale"],xne=["id","scale"];function _5(){return _5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_5.apply(null,arguments)}function f_(e,t){if(e==null)return{};var r,n,a=vne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yne(e){var t=Ga(),r=I.useRef(null);return I.useLayoutEffect(()=>{r.current===null?t(JJ(e)):r.current!==e&&t(eee({prev:r.current,next:e})),r.current=e},[e,t]),I.useLayoutEffect(()=>()=>{r.current&&(t(tee(r.current)),r.current=null)},[t]),null}var bne=e=>{var{xAxisId:t,className:r}=e,n=gr(bw),a=Ws(),i="xAxis",c=gr(D=>Uk(D,i,t,a)),f=gr(D=>Rk(D,t)),m=gr(D=>$$(D,t)),p=gr(D=>vk(D,t));if(f==null||m==null||p==null)return null;var{dangerouslySetInnerHTML:x,ticks:y,scale:S}=e,N=f_(e,gne),{id:j,scale:_}=p,T=f_(p,xne);return I.createElement(G3,_5({},N,T,{x:m.x,y:m.y,width:f.width,height:f.height,className:Wn("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:c,axisType:i}))},wne={allowDataOverflow:cs.allowDataOverflow,allowDecimals:cs.allowDecimals,allowDuplicatedCategory:cs.allowDuplicatedCategory,angle:cs.angle,axisLine:mu.axisLine,height:cs.height,hide:!1,includeHidden:cs.includeHidden,interval:cs.interval,minTickGap:cs.minTickGap,mirror:cs.mirror,orientation:cs.orientation,padding:cs.padding,reversed:cs.reversed,scale:cs.scale,tick:cs.tick,tickCount:cs.tickCount,tickLine:mu.tickLine,tickSize:mu.tickSize,type:cs.type,xAxisId:0},Ane=e=>{var t=ps(e,wne);return I.createElement(I.Fragment,null,I.createElement(yne,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),I.createElement(bne,t))},j5=I.memo(Ane,cM);j5.displayName="XAxis";var Nne=["dangerouslySetInnerHTML","ticks","scale"],Sne=["id","scale"];function O5(){return O5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O5.apply(null,arguments)}function h_(e,t){if(e==null)return{};var r,n,a=Ene(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ene(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cne(e){var t=Ga(),r=I.useRef(null);return I.useLayoutEffect(()=>{r.current===null?t(ree(e)):r.current!==e&&t(nee({prev:r.current,next:e})),r.current=e},[e,t]),I.useLayoutEffect(()=>()=>{r.current&&(t(aee(r.current)),r.current=null)},[t]),null}var _ne=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=I.useRef(null),c=I.useRef(null),f=gr(bw),m=Ws(),p=Ga(),x="yAxis",y=gr(X=>Bk(X,t)),S=gr(X=>K$(X,t)),N=gr(X=>Uk(X,x,t,m)),j=gr(X=>yk(X,t));if(I.useLayoutEffect(()=>{if(!(n!=="auto"||!y||M3(a)||I.isValidElement(a)||j==null)){var X=i.current;if(X){var V=X.getCalculatedWidth();Math.round(y.width)!==Math.round(V)&&p(iee({id:t,width:V}))}}},[N,y,p,a,t,n,j]),y==null||S==null||j==null)return null;var{dangerouslySetInnerHTML:_,ticks:T,scale:D}=e,R=h_(e,Nne),{id:z,scale:G}=j,$=h_(j,Sne);return I.createElement(G3,O5({},R,$,{ref:i,labelRef:c,x:S.x,y:S.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:y.width,height:y.height,className:Wn("recharts-".concat(x," ").concat(x),r),viewBox:f,ticks:N,axisType:x}))},jne={allowDataOverflow:us.allowDataOverflow,allowDecimals:us.allowDecimals,allowDuplicatedCategory:us.allowDuplicatedCategory,angle:us.angle,axisLine:mu.axisLine,hide:!1,includeHidden:us.includeHidden,interval:us.interval,minTickGap:us.minTickGap,mirror:us.mirror,orientation:us.orientation,padding:us.padding,reversed:us.reversed,scale:us.scale,tick:us.tick,tickCount:us.tickCount,tickLine:mu.tickLine,tickSize:mu.tickSize,type:us.type,width:us.width,yAxisId:0},One=e=>{var t=ps(e,jne);return I.createElement(I.Fragment,null,I.createElement(Cne,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),I.createElement(_ne,t))},T5=I.memo(One,cM);T5.displayName="YAxis";var Tne=(e,t)=>t,$3=ct([Tne,Nn,gk,Qi,nI,ku,dK,Ki],vK),X3=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},uM=bl("mouseClick"),dM=_1();dM.startListening({actionCreator:uM,effect:(e,t)=>{var r=e.payload,n=$3(t.getState(),X3(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(uX({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var k5=bl("mouseMove"),fM=_1(),cm=null;fM.startListening({actionCreator:k5,effect:(e,t)=>{var r=e.payload;cm!==null&&cancelAnimationFrame(cm);var n=X3(r);cm=requestAnimationFrame(()=>{var a=t.getState(),i=w3(a,a.tooltip.settings.shared);if(i==="axis"){var c=$3(a,n);(c==null?void 0:c.activeIndex)!=null?t.dispatch(Xk({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch($k())}cm=null})}});function kne(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var p_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},hM=Do({name:"rootProps",initialState:p_,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:p_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Ine=hM.reducer,{updateOptions:Mne}=hM.actions,pM=Do({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Dne}=pM.actions,Lne=pM.reducer,mM=bl("keyDown"),gM=bl("focus"),K3=_1();K3.startListening({actionCreator:mM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var c=A3(a,Xh(r),U1(r),V1(r)),f=c==null?-1:Number(c);if(!(!Number.isFinite(f)||f<0)){var m=ku(r);if(i==="Enter"){var p=yg(r,"axis","hover",String(a.index));t.dispatch(x5({active:!a.active,activeIndex:a.index,activeCoordinate:p}));return}var x=eX(r),y=x==="left-to-right"?1:-1,S=i==="ArrowRight"?1:-1,N=f+S*y;if(!(m==null||N>=m.length||N<0)){var j=yg(r,"axis","hover",String(N));t.dispatch(x5({active:!0,activeIndex:N.toString(),activeCoordinate:j}))}}}}}});K3.startListening({actionCreator:gM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",c=yg(r,"axis","hover",String(i));t.dispatch(x5({active:!0,activeIndex:i,activeCoordinate:c}))}}}});var gl=bl("externalEvent"),xM=_1(),tb=new Map;xM.startListening({actionCreator:gl,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=tb.get(a);i!==void 0&&cancelAnimationFrame(i);var c=requestAnimationFrame(()=>{try{var f=t.getState(),m={activeCoordinate:KX(f),activeDataKey:_3(f),activeIndex:_d(f),activeLabel:sI(f),activeTooltipIndex:_d(f),isTooltipActive:ZX(f)};r(m,n)}finally{tb.delete(a)}});tb.set(a,c)}}});var Pne=ct([Yh],e=>e.tooltipItemPayloads),Rne=ct([Pne,H1,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(f=>f.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var c=t(i,r);return c}}}),vM=bl("touchMove"),yM=_1();yM.startListening({actionCreator:vM,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=w3(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var c=$3(n,X3({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(c==null?void 0:c.activeIndex)!=null&&t.dispatch(Xk({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(a==="item"){var f,m=r.touches[0];if(document.elementFromPoint==null||m==null)return;var p=document.elementFromPoint(m.clientX,m.clientY);if(!p||!p.getAttribute)return;var x=p.getAttribute(P7),y=(f=p.getAttribute(R7))!==null&&f!==void 0?f:void 0,S=$h(n).find(_=>_.id===y);if(x==null||S==null||y==null)return;var{dataKey:N}=S,j=Rne(n,x,y);t.dispatch(Yk({activeDataKey:N,activeIndex:x,activeCoordinate:j,activeGraphicalItemId:y}))}}}});var Bne=n7({brush:Aee,cartesianAxis:see,chartData:XK,errorBars:yte,graphicalItems:fJ,layout:Pq,legend:qH,options:VK,polarAxis:CQ,polarOptions:Lne,referenceElements:Oee,rootProps:Ine,tooltip:dX,zIndex:IK}),Fne=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return oq({reducer:Bne,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([dM.middleware,fM.middleware,K3.middleware,xM.middleware,yM.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(v7({type:"raf"}))},devTools:{serialize:{replacer:kne},name:"recharts-".concat(r)}})};function bM(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Ws(),i=I.useRef(null);if(a)return r;i.current==null&&(i.current=Fne(t,n));var c=dw;return I.createElement(qte,{context:c,store:i.current},r)}function zne(e){var{layout:t,margin:r}=e,n=Ga(),a=Ws();return I.useEffect(()=>{a||(n(Mq(t)),n(Iq(r)))},[n,a,t,r]),null}var wM=I.memo(zne,Rx);function AM(e){var t=Ga();return I.useEffect(()=>{t(Mne(e))},[t,e]),null}function m_(e){var{zIndex:t,isPanorama:r}=e,n=I.useRef(null),a=Ga();return I.useLayoutEffect(()=>(n.current&&a(TK({zIndex:t,element:n.current,isPanorama:r})),()=>{a(kK({zIndex:t,isPanorama:r}))}),[a,t,r]),I.createElement("g",{tabIndex:-1,ref:n})}function g_(e){var{children:t,isPanorama:r}=e,n=gr(bK);if(!n||n.length===0)return t;var a=n.filter(c=>c<0),i=n.filter(c=>c>0);return I.createElement(I.Fragment,null,a.map(c=>I.createElement(m_,{key:c,zIndex:c,isPanorama:r})),t,i.map(c=>I.createElement(m_,{key:c,zIndex:c,isPanorama:r})))}var Une=["children"];function qne(e,t){if(e==null)return{};var r,n,a=Hne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jg.apply(null,arguments)}var Vne={width:"100%",height:"100%",display:"block"},Wne=I.forwardRef((e,t)=>{var r=H7(),n=V7(),a=tT();if(!kc(r)||!kc(n))return null;var{children:i,otherAttributes:c,title:f,desc:m}=e,p,x;return c!=null&&(typeof c.tabIndex=="number"?p=c.tabIndex:p=a?0:void 0,typeof c.role=="string"?x=c.role:x=a?"application":void 0),I.createElement(bO,jg({},c,{title:f,desc:m,role:x,tabIndex:p,width:r,height:n,style:Vne,ref:t}),i)}),Gne=e=>{var{children:t}=e,r=gr(lx);if(!r)return null;var{width:n,height:a,y:i,x:c}=r;return I.createElement(bO,{width:n,height:a,x:c,y:i},t)},x_=I.forwardRef((e,t)=>{var{children:r}=e,n=qne(e,Une),a=Ws();return a?I.createElement(Gne,null,I.createElement(g_,{isPanorama:!0},r)):I.createElement(Wne,jg({ref:t},n),I.createElement(g_,{isPanorama:!1},r))});function Yne(){var e=Ga(),[t,r]=I.useState(null),n=gr(Jq);return I.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;va(i)&&i!==n&&e(Lq(i))}},[t,e,n]),r}function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(n){Xne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xne(e,t,r){return(t=Kne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kne(e){var t=Zne(e,"string");return typeof t=="symbol"?t:t+""}function Zne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Af.apply(null,arguments)}var Qne=()=>(aZ(),null);function Og(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Jne=I.forwardRef((e,t)=>{var r,n,a=I.useRef(null),[i,c]=I.useState({containerWidth:Og((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Og((n=e.style)===null||n===void 0?void 0:n.height)}),f=I.useCallback((p,x)=>{c(y=>{var S=Math.round(p),N=Math.round(x);return y.containerWidth===S&&y.containerHeight===N?y:{containerWidth:S,containerHeight:N}})},[]),m=I.useCallback(p=>{if(typeof t=="function"&&t(p),p!=null&&typeof ResizeObserver<"u"){var{width:x,height:y}=p.getBoundingClientRect();f(x,y);var S=j=>{var{width:_,height:T}=j[0].contentRect;f(_,T)},N=new ResizeObserver(S);N.observe(p),a.current=N}},[t,f]);return I.useEffect(()=>()=>{var p=a.current;p!=null&&p.disconnect()},[f]),I.createElement(I.Fragment,null,I.createElement(ux,{width:i.containerWidth,height:i.containerHeight}),I.createElement("div",Af({ref:m},e)))}),eae=I.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=I.useState({containerWidth:Og(r),containerHeight:Og(n)}),c=I.useCallback((m,p)=>{i(x=>{var y=Math.round(m),S=Math.round(p);return x.containerWidth===y&&x.containerHeight===S?x:{containerWidth:y,containerHeight:S}})},[]),f=I.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null){var{width:p,height:x}=m.getBoundingClientRect();c(p,x)}},[t,c]);return I.createElement(I.Fragment,null,I.createElement(ux,{width:a.containerWidth,height:a.containerHeight}),I.createElement("div",Af({ref:f},e)))}),tae=I.forwardRef((e,t)=>{var{width:r,height:n}=e;return I.createElement(I.Fragment,null,I.createElement(ux,{width:r,height:n}),I.createElement("div",Af({ref:t},e)))}),rae=I.forwardRef((e,t)=>{var{width:r,height:n}=e;return gu(r)||gu(n)?I.createElement(eae,Af({},e,{ref:t})):I.createElement(tae,Af({},e,{ref:t}))});function nae(e){return e===!0?Jne:rae}var aae=I.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:c,onDoubleClick:f,onMouseDown:m,onMouseEnter:p,onMouseLeave:x,onMouseMove:y,onMouseUp:S,onTouchEnd:N,onTouchMove:j,onTouchStart:_,style:T,width:D,responsive:R,dispatchTouchEvents:z=!0}=e,G=I.useRef(null),$=Ga(),[X,V]=I.useState(null),[Y,W]=I.useState(null),Ne=Yne(),Z=ww(),Q=(Z==null?void 0:Z.width)>0?Z.width:D,ye=(Z==null?void 0:Z.height)>0?Z.height:a,ie=I.useCallback(me=>{Ne(me),typeof t=="function"&&t(me),V(me),W(me),me!=null&&(G.current=me)},[Ne,t,V,W]),q=I.useCallback(me=>{$(uM(me)),$(gl({handler:i,reactEvent:me}))},[$,i]),te=I.useCallback(me=>{$(k5(me)),$(gl({handler:p,reactEvent:me}))},[$,p]),se=I.useCallback(me=>{$($k()),$(gl({handler:x,reactEvent:me}))},[$,x]),ue=I.useCallback(me=>{$(k5(me)),$(gl({handler:y,reactEvent:me}))},[$,y]),ee=I.useCallback(()=>{$(gM())},[$]),Se=I.useCallback(me=>{$(mM(me.key))},[$]),le=I.useCallback(me=>{$(gl({handler:c,reactEvent:me}))},[$,c]),U=I.useCallback(me=>{$(gl({handler:f,reactEvent:me}))},[$,f]),H=I.useCallback(me=>{$(gl({handler:m,reactEvent:me}))},[$,m]),ae=I.useCallback(me=>{$(gl({handler:S,reactEvent:me}))},[$,S]),ge=I.useCallback(me=>{$(gl({handler:_,reactEvent:me}))},[$,_]),ve=I.useCallback(me=>{z&&$(vM(me)),$(gl({handler:j,reactEvent:me}))},[$,z,j]),de=I.useCallback(me=>{$(gl({handler:N,reactEvent:me}))},[$,N]),ke=nae(R);return I.createElement(pI.Provider,{value:X},I.createElement(UF.Provider,{value:Y},I.createElement(ke,{width:Q??(T==null?void 0:T.width),height:ye??(T==null?void 0:T.height),className:Wn("recharts-wrapper",n),style:$ne({position:"relative",cursor:"default",width:Q,height:ye},T),onClick:q,onContextMenu:le,onDoubleClick:U,onFocus:ee,onKeyDown:Se,onMouseDown:H,onMouseEnter:te,onMouseLeave:se,onMouseMove:ue,onMouseUp:ae,onTouchEnd:de,onTouchMove:ve,onTouchStart:ge,ref:ie},I.createElement(Qne,null),r)))}),iae=["width","height","responsive","children","className","style","compact","title","desc"];function sae(e,t){if(e==null)return{};var r,n,a=oae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NM=I.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:c,style:f,compact:m,title:p,desc:x}=e,y=sae(e,iae),S=Io(y);return m?I.createElement(I.Fragment,null,I.createElement(ux,{width:r,height:n}),I.createElement(x_,{otherAttributes:S,title:p,desc:x},i)):I.createElement(aae,{className:c,style:f,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},I.createElement(x_,{otherAttributes:S,title:p,desc:x,ref:t},I.createElement(kee,null,i)))});function I5(){return I5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I5.apply(null,arguments)}var lae={top:5,right:5,bottom:5,left:5},cae={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:lae,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},SM=I.forwardRef(function(t,r){var n,a=ps(t.categoricalChartProps,cae),{chartName:i,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,categoricalChartProps:p}=t,x={chartName:i,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,eventEmitter:void 0};return I.createElement(bM,{preloadedState:{options:x},reduxStoreName:(n=p.id)!==null&&n!==void 0?n:i},I.createElement(HI,{chartData:p.data}),I.createElement(wM,{layout:a.layout,margin:a.margin}),I.createElement(AM,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),I.createElement(NM,I5({},a,{ref:r})))}),uae=["axis","item"],dae=I.forwardRef((e,t)=>I.createElement(SM,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uae,tooltipPayloadSearcher:I3,categoricalChartProps:e,ref:t}));function fae(e){var t=Ga();return I.useEffect(()=>{t(Dne(e))},[t,e]),null}var hae=["layout"];function M5(){return M5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M5.apply(null,arguments)}function pae(e,t){if(e==null)return{};var r,n,a=mae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gae={top:5,right:5,bottom:5,left:5},EM={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:gae,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},xae=I.forwardRef(function(t,r){var n,a=ps(t.categoricalChartProps,EM),{layout:i}=a,c=pae(a,hae),{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:p,tooltipPayloadSearcher:x}=t,y={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:p,tooltipPayloadSearcher:x,eventEmitter:void 0};return I.createElement(bM,{preloadedState:{options:y},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:f},I.createElement(HI,{chartData:a.data}),I.createElement(wM,{layout:i,margin:a.margin}),I.createElement(AM,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),I.createElement(fae,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),I.createElement(NM,M5({},c,{ref:r})))});function y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(r),!0).forEach(function(n){vae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vae(e,t,r){return(t=yae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yae(e){var t=bae(e,"string");return typeof t=="symbol"?t:t+""}function bae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wae=["item"],Aae=b_(b_({},EM),{},{layout:"centric",startAngle:0,endAngle:360}),w_=I.forwardRef((e,t)=>{var r=ps(e,Aae);return I.createElement(xae,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:wae,tooltipPayloadSearcher:I3,categoricalChartProps:r,ref:t})}),Nae=["axis"],Sae=I.forwardRef((e,t)=>I.createElement(SM,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Nae,tooltipPayloadSearcher:I3,categoricalChartProps:e,ref:t}));const Eae=()=>{const{isDark:e}=bi(),{user:t}=Xi();Wa();const[r,n]=I.useState({monthlyOrders:0,totalRevenue:0,upiCount:0,freeCount:0,guestCount:0,allOrdersCount:0,todayOrders:0}),[a,i]=I.useState([]),[c,f]=I.useState([]),[m,p]=I.useState([]),[x,y]=I.useState(!0),[S,N]=I.useState(1),[j,_]=I.useState(1),T=6,D=q=>{const te=q.getFullYear(),se=String(q.getMonth()+1).padStart(2,"0"),ue=String(q.getDate()).padStart(2,"0");return`${te}-${se}-${ue}`},[R,z]=I.useState({start_date:D(new Date),end_date:D(new Date),unit_id:"",payment_mode:""}),G=()=>{z({start_date:D(new Date),end_date:D(new Date),unit_id:"",payment_mode:""})},[$,X]=I.useState([]),V=I.useCallback(async()=>{var q;try{const te=await qt.get("/units");let se=Array.isArray(te.data)?te.data:((q=te.data)==null?void 0:q.units)||[];(t==null?void 0:t.role)==="unit_admin"&&(t!=null&&t.unit_id)&&(se=se.filter(ue=>ue.id===t.unit_id)),X(se)}catch(te){console.error("Fetch units error:",te)}},[t]),[Y,W]=I.useState([]);I.useEffect(()=>{(t==null?void 0:t.role)==="unit_admin"&&(t!=null&&t.unit_id)&&z(q=>({...q,unit_id:t.unit_id}))},[t]);const Ne=I.useCallback(async()=>{var q;try{y(!0);const te=new URLSearchParams;R.start_date&&(te.append("start_date",R.start_date),te.append("startDate",R.start_date)),R.end_date&&(te.append("end_date",R.end_date),te.append("endDate",R.end_date)),R.unit_id&&(te.append("unit_id",R.unit_id),te.append("unitId",R.unit_id)),R.payment_mode&&(te.append("payment_mode",R.payment_mode),te.append("paymentMode",R.payment_mode));const se=await qt.get(`/dashboard/summary?${te.toString()}`),{modes:ue={},overall:ee={},products:Se=[],billsCount:le=0,today:U={},upiDailySeries:H=[]}=se.data||{};n(Oe=>{var oe,Le,Ge;return{...Oe,totalBills:le||0,totalRevenue:Number((ee==null?void 0:ee.total)||0),upiCount:((oe=ue==null?void 0:ue.UPI)==null?void 0:oe.count)||0,freeCount:((Le=ue==null?void 0:ue.FREE)==null?void 0:Le.count)||0,guestCount:((Ge=ue==null?void 0:ue.GUEST)==null?void 0:Ge.count)||0,allOrdersCount:(ee==null?void 0:ee.count)||le||0,todayOrders:(U==null?void 0:U.totalOrders)||0}}),f(H);const ae=new URLSearchParams;R.start_date&&(ae.append("start_date",R.start_date),ae.append("startDate",R.start_date)),R.end_date&&(ae.append("end_date",R.end_date),ae.append("endDate",R.end_date)),R.unit_id&&(ae.append("unit_id",R.unit_id),ae.append("unitId",R.unit_id)),R.payment_mode&&(ae.append("payment_mode",R.payment_mode),ae.append("paymentMode",R.payment_mode)),ae.append("limit","10000");const ge=await qt.get(`/logs?${ae.toString()}`),ve=((q=ge.data)==null?void 0:q.logs)||ge.data||[],de={};(Array.isArray(ve)?ve:[]).forEach(Oe=>{const oe=Oe.ref_item_id||Oe.item_name_en||Oe.item_name||"unknown";de[oe]||(de[oe]={product_id:Oe.ref_item_id,name_en:Oe.item_name_en||Oe.item_name||Oe.product_name,name_ta:Oe.item_name_ta,totalQty:0,totalAmount:0}),de[oe].totalQty+=Number(Oe.quantity||0),de[oe].totalAmount+=Number(Oe.amount||0)});const ke=Object.values(de).sort((Oe,oe)=>oe.totalAmount-Oe.totalAmount);i(ke);const me=(Array.isArray(ve)?ve:[]).reduce((Oe,oe)=>{if(!oe||!oe.bill_date)return Oe;try{const Le=new Date(oe.bill_date).toISOString().split("T")[0];Oe[Le]=(Oe[Le]||0)+parseFloat(oe.amount||0)}catch{console.warn("Invalid date in log:",oe.bill_date)}return Oe},{}),xe=Object.entries(me).sort(([Oe],[oe])=>Oe.localeCompare(oe)).map(([Oe,oe])=>({name:new Date(Oe).toLocaleDateString("en-IN",{day:"2-digit",month:"short"}),value:oe}));W(xe)}catch(te){if(console.error("Fetch stats error:",te),te.response){const se=te.response.status,ue=te.response.data;se===403?ue!=null&&ue.error:se===401||se===404||(ue!=null&&ue.error?ue.error:ue!=null&&ue.message?ue.message:`${se}${te.message}`)}else te.request||te.message}finally{y(!1)}},[R]),Z=I.useCallback(async(q=1)=>{try{const te=new URLSearchParams;te.append("page",q),te.append("limit",T),R.unit_id&&(te.append("unit_id",R.unit_id),te.append("unitId",R.unit_id)),R.payment_mode&&(te.append("payment_mode",R.payment_mode),te.append("paymentMode",R.payment_mode));const se=await qt.get(`/orders?${te.toString()}`),ue=se.data.orders||[],ee=se.data.totalPages||1;p(ue),_(ee)}catch(te){console.warn("/orders GET failed:",te.message)}},[T,R.unit_id,R.payment_mode]);I.useEffect(()=>{Z(S)},[Z,S]),I.useEffect(()=>{V()},[V]),I.useEffect(()=>{Ne()},[Ne]);const Q=()=>{try{if(!a||a.length===0){alert("No Item data to export for the selected filters.");return}const q=new wr("p","mm","a4"),te=q.internal.pageSize.getWidth(),se=15;let ue=20;if(q.setFontSize(14),q.setTextColor(30,41,59),q.setFont(void 0,"bold"),q.text("DASHBOARD ITEMS SUMMARY",se,ue),ue+=10,q.setDrawColor(226,232,240),q.line(se,ue,te-15,ue),ue+=10,q.setFontSize(10),q.setTextColor(30,41,59),q.setFont(void 0,"bold"),q.text(`Generated On: ${new Date().toLocaleString()}`,se,ue),ue+=6,q.setFont(void 0,"normal"),q.text(`Date Range: ${R.start_date} to ${R.end_date}`,se,ue),R.unit_id&&Array.isArray($)){const U=$.find(H=>String(H.id)===String(R.unit_id));U&&(ue+=6,q.text(`Unit: ${U.name}`,se,ue))}ue+=10;const ee=U=>(q.setFillColor(250,198,57),q.rect(se,U,te-se*2,10,"F"),q.setFont(void 0,"bold"),q.setTextColor(0,0,0),q.setFontSize(10),q.text("S.No",se+3,U+7),q.text("Item Name",se+18,U+7),q.text("Qty",se+130,U+7,{align:"right"}),q.text("Amount",se+170,U+7,{align:"right"}),U+10+2);ue=ee(ue),q.setFont(void 0,"normal"),q.setTextColor(30,41,59),q.setFontSize(9);let Se=0,le=0;a.forEach((U,H)=>{const ae=U.name_en||U.name||"Unknown",ge=Number(U.totalQty??0),ve=Number(U.totalAmount??0);Se+=ve,le+=ge;const ke=q.splitTextToSize(ae,90),me=Math.max(8,ke.length*5)+4;ue+me>280&&(q.addPage(),ue=20,ue=ee(ue),q.setFont(void 0,"normal"),q.setTextColor(30,41,59),q.setFontSize(9)),q.text(String(H+1),se+3,ue+5),q.text(ke,se+18,ue+5),q.text(String(ge),se+130,ue+5,{align:"right"}),q.text(`INR ${ve.toFixed(2)}`,se+170,ue+5,{align:"right"}),q.setDrawColor(241,245,249),q.line(se,ue+me-2,te-15,ue+me-2),ue+=me}),ue+=5,ue>280&&(q.addPage(),ue=20),q.setFont(void 0,"bold"),q.setFontSize(11),q.setTextColor(0,0,0),q.text("Grand Total:",se+100,ue),q.text(String(le),se+130,ue,{align:"right"}),q.setTextColor(22,163,74),q.text(`INR ${Se.toFixed(2)}`,se+170,ue,{align:"right"}),q.save(`dashboard-summary-${R.start_date}.pdf`)}catch(q){console.error("PDF export error:",q),alert("Failed to export PDF. Please try again.")}},ye=()=>{try{if(!c||c.length===0){alert("No UPI data to export.");return}const q=new wr("p","mm","a4"),te=q.internal.pageSize.getWidth(),se=15;let ue=20;q.setFontSize(14),q.setTextColor(30,41,59),q.setFont(void 0,"bold"),q.text("UPI TRANSACTIONS REPORT",se,ue),ue+=10,q.setDrawColor(226,232,240),q.line(se,ue,te-15,ue),ue+=10,q.setFontSize(10),q.setTextColor(30,41,59),q.setFont(void 0,"bold"),q.text(`Generated On: ${new Date().toLocaleString()}`,se,ue),ue+=6,q.setFont(void 0,"normal"),q.text(`Date Range: ${R.start_date} to ${R.end_date}`,se,ue),ue+=10;const ee=10;q.setFillColor(250,198,57),q.rect(se,ue,te-se*2,ee,"F"),q.setFont(void 0,"bold"),q.setTextColor(0,0,0),q.text("Date",se+3,ue+7),q.text("Count",se+80,ue+7,{align:"center"}),q.text("Amount",se+160,ue+7,{align:"right"}),ue+=ee+2,q.setFont(void 0,"normal"),q.setTextColor(30,41,59);let Se=0,le=0;c.forEach((U,H)=>{Se+=U.count,le+=U.amount,q.text(new Date(U.date).toLocaleDateString(),se+3,ue+5),q.text(String(U.count),se+80,ue+5,{align:"center"}),q.text(`INR ${U.amount.toFixed(2)}`,se+160,ue+5,{align:"right"}),q.setDrawColor(241,245,249),q.line(se,ue+8,te-15,ue+8),ue+=10}),ue+=5,q.setFont(void 0,"bold"),q.setTextColor(0,0,0),q.text("Total:",se+50,ue),q.text(String(Se),se+80,ue,{align:"center"}),q.setTextColor(22,163,74),q.text(`INR ${le.toFixed(2)}`,se+160,ue,{align:"right"}),q.save(`upi-report-${R.start_date}.pdf`)}catch(q){console.error("PDF export error:",q),alert("Failed to export PDF.")}},ie=I.useMemo(()=>{if(!a.length)return{max:1,columns:[]};const q=[...a].sort((ee,Se)=>(Se.totalAmount||0)-(ee.totalAmount||0)),te=Math.max(...q.map(ee=>ee.totalAmount||0),1),se=q.length>9?3:2,ue=Array.from({length:se},()=>[]);return q.forEach((ee,Se)=>{ue[Se%se].push(ee)}),{max:te,columns:ue}},[a]);return x?u.jsx(ui,{children:u.jsx(Vs,{})}):u.jsx(ui,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6 sm:mb-10 animate-slide-up opacity-0",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-1.5 h-10 bg-[var(--brand-primary)] rounded-full shadow-[0_0_15px_rgba(249,115,22,0.4)]"}),u.jsx("h1",{className:"text-xl sm:text-2xl font-medium tracking-[0.1em] text-[var(--text-primary)]",children:"Dashboard".split("").map((q,te)=>u.jsx("span",{className:"animate-letter-pop",style:{animationDelay:`${300+te*50}ms`},children:q===" "?"":q},te))})]})}),u.jsxs("div",{id:"dashboard-print-area",className:"space-y-6 sm:space-y-8",children:[u.jsxs("div",{className:"bg-[var(--surface-card)] p-6 rounded-2xl border border-[var(--border-default)] shadow-sm mb-8",children:[u.jsxs("div",{className:"flex flex-row justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-sm font-bold text-[var(--text-secondary)] uppercase tracking-widest",children:"Filters"}),u.jsxs("button",{onClick:G,className:"text-xs font-bold text-[var(--text-secondary)] hover:text-[var(--brand-primary)] flex items-center gap-1 transition-colors uppercase",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reset Filters"]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-xs font-bold text-[var(--text-primary)] opacity-60 mb-2 ml-1 uppercase tracking-widest",children:"Start Date"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"date",value:R.start_date,onChange:q=>z({...R,start_date:q.target.value}),className:"w-full bg-[var(--surface-main)] border border-[var(--border-default)] rounded-xl px-4 py-3 text-sm font-bold text-[var(--text-primary)] focus:border-[var(--brand-primary)] outline-none shadow-sm transition-all appearance-none cursor-pointer pr-10"}),u.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-[var(--text-secondary)] opacity-50",children:u.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),u.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),u.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),u.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-xs font-bold text-[var(--text-primary)] opacity-60 mb-2 ml-1 uppercase tracking-widest",children:"End Date"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"date",value:R.end_date,onChange:q=>z({...R,end_date:q.target.value}),className:"w-full bg-[var(--surface-main)] border border-[var(--border-default)] rounded-xl px-4 py-3 text-sm font-bold text-[var(--text-primary)] focus:border-[var(--brand-primary)] outline-none shadow-sm transition-all appearance-none cursor-pointer pr-10"}),u.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-[var(--text-secondary)] opacity-50",children:u.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),u.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),u.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),u.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-xs font-bold text-[var(--text-primary)] opacity-60 mb-2 ml-1 uppercase tracking-widest",children:"Select Unit"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:R.unit_id,onChange:q=>z({...R,unit_id:q.target.value}),disabled:(t==null?void 0:t.role)==="unit_admin",className:"w-full bg-[var(--surface-main)] border border-[var(--border-default)] rounded-xl px-4 py-3 text-sm font-bold text-[var(--text-primary)] focus:border-[var(--brand-primary)] outline-none shadow-sm transition-all appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed pr-10",children:[u.jsx("option",{value:"",children:"All Units"}),Array.isArray($)&&$.map(q=>u.jsx("option",{value:q.id,children:q.name},q.id))]}),u.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-[var(--text-secondary)] opacity-50",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-xs font-bold text-[var(--text-primary)] opacity-60 mb-2 ml-1 uppercase tracking-widest",children:"Mode"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:R.payment_mode,onChange:q=>z({...R,payment_mode:q.target.value}),className:"w-full bg-[var(--surface-main)] border border-[var(--border-default)] rounded-xl px-4 py-3 text-sm font-bold text-[var(--text-primary)] focus:border-[var(--brand-primary)] outline-none shadow-sm transition-all appearance-none cursor-pointer pr-10",children:[u.jsx("option",{value:"",children:"All Modes"}),u.jsx("option",{value:"UPI",children:"UPI"}),u.jsx("option",{value:"FREE",children:"Free"}),u.jsx("option",{value:"GUEST",children:"Guest"})]}),u.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-[var(--text-secondary)] opacity-50",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})})]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-3 sm:gap-6",children:[{label:"Today Orders",value:r.todayOrders},{label:"Total Revenue",value:`${r.totalRevenue.toFixed(2)}`},{label:"Total Bills",value:r.allOrdersCount},{label:"UPI",value:r.upiCount,onClick:()=>setShowUpiModal(!0)},{label:"FREE",value:r.freeCount},{label:"GUEST",value:r.guestCount}].map((q,te)=>u.jsxs("div",{onClick:()=>{var se;return(se=document.getElementById("upi-report-section"))==null?void 0:se.scrollIntoView({behavior:"smooth"})},style:{animationDelay:`${te*100}ms`},className:`relative rounded-xl p-4 sm:p-6 min-h-[100px] sm:min-h-[140px] flex flex-col justify-center items-center transition-all duration-300 hover:-translate-y-1 overflow-hidden bg-[var(--surface-card)] border border-[var(--border-default)] border-l-4 border-l-[var(--brand-primary)] shadow-sm hover:shadow-md group animate-slide-up opacity-0 ${q.label==="UPI"?"cursor-pointer hover:ring-2 hover:ring-[var(--brand-primary)]":""}`,children:[u.jsx("div",{className:"relative z-10 text-[10px] sm:text-xs tracking-[0.2em] font-bold mb-1 sm:mb-2 font-sans text-[var(--text-secondary)] text-center uppercase",children:q.label}),u.jsx("div",{className:"relative z-10 text-xl sm:text-3xl font-bold font-sans text-[var(--text-primary)] drop-shadow-sm text-center",children:q.value})]},q.label))}),u.jsxs("div",{className:"flex flex-col gap-6",children:[u.jsxs("div",{className:"bg-[var(--surface-card)] p-6 sm:p-8 rounded-2xl border border-[var(--border-default)] shadow-sm mb-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[u.jsx("div",{className:"w-1 h-6 bg-[#facc15] rounded-full shadow-[0_0_10px_rgba(250,204,21,0.4)]"}),u.jsx("h2",{className:"text-[26px] font-bold tracking-[0.2em] text-[#facc15] ",children:"Items"})]}),u.jsx("p",{className:"text-base font-bold text-white ml-4",children:"Top Items"})]}),u.jsx("button",{onClick:Q,className:"bg-gradient-to-r from-orange-500 to-amber-500 text-black font-bold px-6 py-2.5 rounded-lg shadow-lg hover:shadow-orange-500/20 transition-all flex items-center gap-2 whitespace-nowrap",children:"Download PDF"})]}),u.jsx("div",{className:"overflow-x-auto -mx-2 sm:mx-0",children:u.jsxs("table",{className:"w-full text-left min-w-[800px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-[var(--text-secondary)] text-xs font-bold uppercase tracking-widest border-b border-[var(--border-default)] font-sans",children:[u.jsx("th",{className:"pb-4 px-2 text-left",children:"ITEMS"}),u.jsx("th",{className:"pb-4 px-2 text-center",children:"QUANTITY"}),u.jsx("th",{className:"pb-4 px-2 text-right",children:"AMOUNT"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]",children:Array.isArray(a)&&a.map(q=>u.jsxs("tr",{className:"group hover:bg-[var(--surface-muted)] transition-colors",children:[u.jsxs("td",{className:"py-4 px-2 text-[var(--text-primary)] font-medium text-sm",children:[q.name_en||q.name||"Unknown",q.name_ta&&u.jsx("span",{className:"block text-xs opacity-60 font-sans",children:q.name_ta})]}),u.jsx("td",{className:"py-4 px-2 text-center text-[var(--text-primary)] text-sm",children:q.totalQty}),u.jsxs("td",{className:"py-4 px-2 text-right text-[var(--brand-primary)] font-bold text-sm",children:["",q.totalAmount.toFixed(2)]})]},q.product_id))})]})}),a.length===0&&u.jsx("div",{className:"py-20 text-center text-slate-500 border-2 border-dashed border-slate-800/50 rounded-2xl bg-black/10 mt-4",children:u.jsx("p",{className:"text-lg font-medium opacity-50",children:"No Item sales data found."})})]}),u.jsxs("div",{className:"bg-[var(--surface-card)] p-6 sm:p-8 rounded-2xl border border-[var(--border-default)] shadow-sm mb-6",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-[26px] font-bold tracking-[0.2em] text-[#facc15] uppercase mb-1",children:"Items"}),u.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] mb-0.5",children:"Item amount"}),u.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"All Item shown; split across columns"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-12 gap-y-8",children:ie.columns.map((q,te)=>u.jsx("div",{className:"space-y-6",children:q.map(se=>{const ue=se.totalAmount/(r.totalRevenue||1)*100;return u.jsxs("div",{className:"group",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[u.jsx("span",{className:"text-[15px] font-medium text-[var(--text-primary)] truncate pr-4",children:se.name_en}),u.jsxs("span",{className:"text-[15px] font-bold text-[var(--brand-primary)]",children:["",se.totalAmount.toFixed(2)]})]}),u.jsx("div",{className:"h-1.5 w-full bg-[var(--surface-muted)] rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-orange-500 to-amber-500 rounded-full transition-all duration-1000 shadow-[0_0_8px_rgba(249,115,22,0.3)]",style:{width:`${Math.min(ue*4,100)}%`}})})]},se.product_id)})},te))}),a.length===0&&u.jsx("div",{className:"py-20 text-center text-slate-500 border-2 border-dashed border-slate-800/50 rounded-2xl bg-black/10",children:u.jsx("p",{className:"text-lg font-medium opacity-50",children:"No Items sales data found."})})]})]})]}),u.jsx("div",{id:"upi-report-section",className:"mt-8 space-y-6",children:u.jsxs("div",{className:"bg-[var(--surface-card)] p-6 sm:p-8 rounded-2xl border border-[var(--border-default)] shadow-sm mb-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[u.jsx("div",{children:u.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[u.jsx("div",{className:"w-1 h-6 bg-[var(--brand-primary)] rounded-full shadow-[0_0_10px_rgba(var(--brand-primary-rgb),0.4)]"}),u.jsx("h2",{className:"text-[26px] font-bold tracking-[0.2em] text-[var(--brand-primary)] ",children:"UPI Report"})]})}),u.jsx("button",{onClick:ye,className:"bg-gradient-to-r from-orange-500 to-amber-500 text-black font-bold px-6 py-2.5 rounded-lg shadow-lg hover:shadow-orange-500/20 transition-all flex items-center gap-2 whitespace-nowrap",children:"Download PDF"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left min-w-[800px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-[var(--text-secondary)] text-xs font-bold uppercase tracking-widest border-b border-[var(--border-default)]",children:[u.jsx("th",{className:"pb-4 px-2",children:"DATE"}),u.jsx("th",{className:"pb-4 px-2 text-center",children:"TRANSACTIONS"}),u.jsx("th",{className:"pb-4 px-2 text-right",children:"AMOUNT"})]})}),u.jsxs("tbody",{className:"divide-y divide-[var(--border-default)]",children:[c.map((q,te)=>u.jsxs("tr",{className:"hover:bg-[var(--surface-muted)] transition-colors",children:[u.jsx("td",{className:"py-4 px-2 text-[var(--text-primary)] font-medium text-sm",children:new Date(q.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}),u.jsx("td",{className:"py-4 px-2 text-center text-[var(--text-primary)] text-sm",children:q.count}),u.jsxs("td",{className:"py-4 px-2 text-right text-[var(--brand-primary)] font-bold text-sm",children:["",Number(q.amount).toFixed(2)]})]},te)),c.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:"3",className:"py-20 text-center text-slate-500 border-2 border-dashed border-slate-800/50 rounded-2xl bg-black/10",children:u.jsx("p",{className:"text-lg font-medium opacity-50",children:"No UPI transaction data found."})})})]})]})}),u.jsxs("div",{className:"mt-6 p-4 border-t border-[var(--border-default)] bg-[var(--surface-muted)]/30 rounded-2xl flex justify-between items-center text-sm",children:[u.jsx("span",{className:"font-bold text-[var(--text-secondary)] uppercase tracking-[0.1em]",children:"Total UPI Business"}),u.jsxs("div",{className:"flex gap-8",children:[u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsx("span",{className:"text-[10px] text-[var(--text-secondary)] font-bold",children:"COUNT"}),u.jsxs("span",{className:"font-bold text-[var(--text-primary)] text-lg",children:[c.reduce((q,te)=>q+te.count,0)," "]})]}),u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsx("span",{className:"text-[10px] text-[var(--text-secondary)] font-bold",children:"REVENUE"}),u.jsxs("span",{className:"font-black text-[var(--brand-primary)] text-xl",children:["",c.reduce((q,te)=>q+te.amount,0).toFixed(2)]})]})]})]})]})})]})})},Cae=()=>{const[e,t]=I.useState([]),[r,n]=I.useState([]),[a,i]=I.useState([]),{isDark:c}=bi(),{user:f}=Xi(),m=(f==null?void 0:f.role)==="admin"||(f==null?void 0:f.role)==="unit_admin",[p,x]=I.useState(!0),[y,S]=I.useState(!1),[N,j]=I.useState(!1),[_,T]=I.useState(null),[D,R]=I.useState(!1),[z,G]=I.useState(""),[$,X]=I.useState(1),[V,Y]=I.useState(1),[W,Ne]=I.useState(10),[Z,Q]=I.useState(!1),[ye,ie]=I.useState(0),q={name_en:"",name_ta:"",description_en:"",description_ta:"",category:"General",price:"",images:[],is_active:!0},[te,se]=I.useState(q),ue=I.useCallback(async()=>{var xe;try{const Oe=await qt.get("/units");i(((xe=Oe.data)==null?void 0:xe.units)||Oe.data||[])}catch(Oe){console.error("Error fetching units:",Oe)}},[]);I.useEffect(()=>{ue()},[ue]);const ee=I.useCallback(async()=>{var xe,Oe;try{x(!0);const oe=await qt.get("/items/",{params:{limit:3e3}});let Le=((xe=oe.data)==null?void 0:xe.items)||((Oe=oe.data)==null?void 0:Oe.data)||[];(f==null?void 0:f.role)==="unit_admin"&&(f!=null&&f.unit_id)&&(Le=Le.filter(Ge=>Ge.unit_id===f.unit_id)),t(Le)}catch(oe){console.error("Error fetching data:",oe)}finally{x(!1)}},[]),Se=I.useMemo(()=>{if(!z)return e;const xe=z.toLowerCase();return e.filter(Oe=>(Oe.name_en||"").toLowerCase().includes(xe)||(Oe.name||"").toLowerCase().includes(xe)||(Oe.name_ta||"").toLowerCase().includes(xe))},[e,z]),le=I.useMemo(()=>{const xe=($-1)*W;return Se.slice(xe,xe+W)},[Se,$,W]);I.useEffect(()=>{ie(Se.length),Y(Math.ceil(Se.length/W)||1)},[Se,W]),I.useEffect(()=>{const xe=setTimeout(()=>ee(),500);return()=>clearTimeout(xe)},[ee]);const U=(xe=null)=>{T(xe),se(xe?{name_en:xe.name_en||xe.name||"",name_ta:xe.name_ta||xe.slug_url||xe.slug||"",description_en:xe.description_en||xe.description||"",description_ta:xe.description_ta||"",category:xe.category||xe.category_id||"General",price:xe.price||xe.base_price||"",images:xe.images&&xe.images.length>0?xe.images.map(Oe=>({...Oe,url:Oe.url||Oe.image_path||"",is_primary:!!Oe.is_primary})):xe.image||xe.image_path?[{url:xe.image||xe.image_path,is_primary:!0}]:[],is_active:xe.is_active??!0}:q),S(!0)},H=()=>{S(!1),T(null)},ae=xe=>{const Oe=xe.target.files[0];if(!Oe)return;const oe={url:URL.createObjectURL(Oe),file:Oe,is_primary:!0};se(Le=>({...Le,images:[oe]})),xe.target.value=""},ge=async xe=>{var Oe,oe;if(xe.preventDefault(),R(!0),!te.name_en||!te.name_ta||!te.price){alert("English Name, Tamil Name, and Price are required"),R(!1);return}try{const Le=new FormData;Le.append("name_en",te.name_en),Le.append("name_ta",te.name_ta),Le.append("description_en",te.description_en||""),Le.append("description_ta",te.description_ta||""),Le.append("category",te.category||"General"),Le.append("price",Number(te.price)||0),Le.append("is_active",te.is_active);const Ge=te.images.find(Pe=>Pe.is_primary)||te.images[0];Ge&&(Ge.file instanceof File?Le.append("image",Ge.file):typeof Ge.url=="string"&&Le.append("image",Ge.url)),_?await qt.put(`/items/${_.id}`,Le,{headers:{"Content-Type":"multipart/form-data"}}):await qt.post("/items/",Le,{headers:{"Content-Type":"multipart/form-data"}}),alert("Product saved successfully!"),H(),ee()}catch(Le){console.error("Save Error:",Le),alert(((oe=(Oe=Le.response)==null?void 0:Oe.data)==null?void 0:oe.details)||"Failed to save product")}finally{R(!1)}},ve=async(xe,Oe)=>{if(window.confirm(`Are you sure you want to delete "${Oe}"?`))try{await qt.delete(`/items/${xe}`),ee()}catch{alert("Delete failed")}},de=xe=>xe.category||xe.category_id||"General",ke=xe=>{if(!xe)return"";const Oe=a.find(oe=>oe.id===Number(xe));return Oe?Oe.unit_name||Oe.name:""},me=xe=>{if(!xe)return"";const Oe=a.find(oe=>oe.id===Number(xe));return Oe?Oe.code:""};return p&&!y?u.jsx(ui,{children:u.jsx(Vs,{})}):u.jsx(ui,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-8",children:[u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end justify-between gap-8 mb-10 sm:mb-14",children:[u.jsxs("div",{className:"flex flex-col gap-6 w-full lg:w-auto",children:[u.jsxs("div",{className:"flex items-center gap-4 shrink-0 animate-slide-up opacity-0",children:[u.jsx("div",{className:"w-1.5 h-10 bg-[var(--brand-primary)] rounded-full shadow-[0_0_15px_rgba(249,115,22,0.4)]"}),u.jsx("h1",{className:"text-2xl sm:text-4xl font-black tracking-tight text-[var(--text-primary)]",children:"Items".split("").map((xe,Oe)=>u.jsx("span",{className:"animate-letter-pop",style:{animationDelay:`${600+(xe===" "?0:Oe*50)}ms`},children:xe===" "?"":xe},Oe))})]}),u.jsxs("div",{style:{animationDelay:"100ms"},className:"relative w-full sm:w-[400px] group animate-slide-up opacity-0",children:[u.jsx("input",{type:"text",placeholder:"Search Items...",value:z,onChange:xe=>{G(xe.target.value),X(1)},className:"w-full pl-14 pr-14 py-4 text-center rounded-3xl border-2 border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-primary)] focus:outline-none focus:ring-8 focus:ring-[var(--brand-primary)]/5 focus:border-[var(--brand-primary)] font-bold text-sm sm:text-base transition-all shadow-xl hover:border-[var(--brand-primary)]/30 group-hover:translate-x-1 duration-300 placeholder:text-center"}),u.jsx(wd,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] opacity-40 group-focus-within:opacity-100 group-focus-within:text-[var(--brand-primary)] transition-all",size:26})]})]}),u.jsx("div",{className:"flex gap-3 w-full sm:w-auto",children:m&&u.jsxs("button",{onClick:()=>U(),className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-black px-8 py-3.5 landscape:py-1 landscape:h-8 landscape:px-4 rounded-2xl flex items-center justify-center gap-3 landscape:gap-1.5 transition-all shadow-lg hover:shadow-[var(--brand-primary)]/10 hover:-translate-y-1 active:scale-95 text-xs sm:text-sm landscape:text-[10px] uppercase tracking-widest",children:[u.jsx(Oc,{size:26,className:"landscape:w-4 landscape:h-4"}),u.jsx("span",{children:"Add Item"})]})})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8",children:le.map((xe,Oe)=>u.jsxs("div",{style:{animationDelay:`${Oe*50}ms`},className:"group relative bg-[var(--surface-card)] border border-[var(--border-default)] rounded-[1.5rem] overflow-hidden transition-all duration-300 flex flex-col animate-scale-in opacity-0 md:hover:shadow-[0_20px_40px_-15px_rgba(0,0,0,0.12)] md:hover:border-[var(--brand-primary)]/40 md:hover:-translate-y-1.5 active:scale-95 active:shadow-sm",children:[u.jsxs("div",{className:"aspect-square bg-gray-50/50 p-4 relative overflow-hidden flex items-center justify-center",children:[u.jsx("img",{src:(()=>{var Ge,Pe,ne,tt;const oe=((Pe=(Ge=xe.images)==null?void 0:Ge[0])==null?void 0:Pe.url)||((tt=(ne=xe.images)==null?void 0:ne[0])==null?void 0:tt.image_path)||xe.image||xe.image_path;if(!oe)return ro;if(oe.startsWith("http")||oe.startsWith("blob:"))return oe;const Le=oe.startsWith("/")?oe.substring(1):oe;return`${$i}/${Le}`})(),alt:xe.name_en||xe.name,title:(()=>{var Le,Ge,Pe,ne;const oe=((Ge=(Le=xe.images)==null?void 0:Le[0])==null?void 0:Ge.url)||((ne=(Pe=xe.images)==null?void 0:Pe[0])==null?void 0:ne.image_path)||xe.image||xe.image_path;return oe?`Source: ${oe}`:"No image source"})(),className:"w-full h-full object-contain transition-transform duration-500 ease-out",onError:oe=>{console.error("Image load failed:",oe.target.src),oe.target.src=ro}}),u.jsx("div",{className:"absolute top-3 left-3 bg-white/90 backdrop-blur-md px-2.5 py-1 rounded-full text-[8px] font-black uppercase tracking-widest text-[var(--brand-primary)] border border-[var(--brand-primary)]/10 shadow-sm",children:de(xe)}),u.jsx("div",{className:`absolute top-3 right-3 w-4 h-4 border-2 rounded flex items-center justify-center ${xe.is_veg?"border-emerald-500":"border-red-500"}`,children:u.jsx("div",{className:`w-2 h-2 rounded-full ${xe.is_veg?"bg-emerald-500":"bg-red-500"}`})}),!xe.is_active&&u.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px] flex items-center justify-center",children:u.jsx("span",{className:"bg-red-500 text-white px-3 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-tighter shadow-lg rotate-12",children:"INACTIVE"})})]}),u.jsxs("div",{className:"p-5 flex flex-col flex-1",children:[u.jsxs("div",{className:"mb-3",children:[u.jsx("h3",{className:"font-black text-base text-[var(--text-primary)] truncate capitalize leading-tight",children:xe.name_en||xe.name}),u.jsx("p",{className:"text-sm font-bold text-[var(--text-secondary)] truncate",children:xe.name_ta})]}),u.jsxs("div",{className:"mt-auto flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] font-black text-[var(--text-secondary)] opacity-40 uppercase tracking-widest",children:"Price"}),u.jsxs("span",{className:"text-lg font-black text-[var(--text-primary)] tracking-tighter",children:["",parseFloat(xe.price||xe.base_price).toFixed(2)]}),u.jsxs("span",{className:"text-xs font-black text-[var(--brand-primary)] mt-0.5",children:[ke(xe.unit_id)," - ",me(xe.unit_id)]})]}),m&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>U(xe),className:"w-14 h-14 bg-blue-500/10 text-blue-600 border border-blue-500/20 rounded-xl flex items-center justify-center hover:bg-blue-500 hover:text-white hover:shadow-[0_8px_16px_-4px_rgba(59,130,246,0.4)] transition-all active:scale-90",title:"Edit",children:u.jsx(e1,{style:{fontSize:"36px"}})}),u.jsx("button",{onClick:()=>ve(xe.id,xe.name),className:"w-14 h-14 bg-red-500/10 text-red-600 border border-red-500/20 rounded-xl flex items-center justify-center hover:bg-red-500 hover:text-white hover:shadow-[0_8px_16px_-4px_rgba(239,68,68,0.4)] transition-all active:scale-90",title:"Delete",children:u.jsx(Dm,{style:{fontSize:"36px"}})})]})]})]})]},xe.id))}),u.jsxs("div",{className:"mt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsxs("div",{className:"text-sm font-medium text-[var(--text-secondary)]",children:["Total"," ",u.jsx("span",{className:"text-[var(--text-primary)] font-bold",children:ye})," ","Items"]}),u.jsxs("div",{className:"flex items-center gap-2 bg-[var(--surface-card)] p-1.5 rounded-2xl shadow-sm border border-[var(--border-default)]",children:[u.jsxs("button",{onClick:()=>X(Math.max(1,$-1)),disabled:$<=1,className:"px-4 h-10 flex items-center justify-center gap-2 rounded-xl hover:bg-[var(--surface-muted)] text-[var(--text-secondary)] disabled:opacity-30 transition-all font-bold text-xs uppercase",children:[u.jsx(Kl,{size:16})," Back"]}),u.jsx("div",{className:"flex items-center gap-1 px-2",children:Array.from({length:V},(xe,Oe)=>Oe+1).map(xe=>{if(V>6&&xe>1&&xe<V&&Math.abs(xe-$)>1)return xe===2||xe===V-1?u.jsx("span",{className:"text-[var(--text-secondary)] opacity-40 px-1",children:"..."},xe):null;const Oe=$===xe;return u.jsx("button",{onClick:()=>X(xe),className:`w-9 h-9 flex items-center justify-center rounded-xl text-xs font-bold transition-all
                      ${Oe?"bg-[var(--brand-primary)] text-white shadow-md scale-105":"text-[var(--text-secondary)] hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)]"}`,children:xe},xe)})}),u.jsxs("button",{onClick:()=>X(Math.min(V,$+1)),disabled:$>=V,className:"px-4 h-10 flex items-center justify-center gap-2 rounded-xl hover:bg-[var(--surface-muted)] text-[var(--text-secondary)] disabled:opacity-30 transition-all font-bold text-xs uppercase",children:["Next ",u.jsx(Zl,{size:16})]})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:xe=>{xe.stopPropagation(),Q(!Z)},className:"flex items-center gap-2 px-4 py-3 bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl text-xs font-bold text-[var(--text-primary)] hover:bg-[var(--brand-primary)]/5 transition-all w-[130px] justify-center",children:[W," Pages",u.jsx(Gl,{className:"text-[var(--brand-primary)]"})]}),Z&&u.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-[130px] bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-2xl shadow-xl overflow-hidden z-20 py-1",children:[10,20,50,100].map(xe=>u.jsxs("button",{onClick:()=>{Ne(xe),X(1),Q(!1)},className:`w-full text-center py-2.5 text-xs font-bold transition-colors
                      ${W===xe?"bg-[var(--brand-primary)] text-white":"text-[var(--text-primary)] hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)]"}
                    `,children:[xe," Pages"]},xe))})]})]}),y&&u.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center p-2 landscape:p-1 z-50 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-[var(--surface-card)] w-full max-w-2xl rounded-xl shadow-2xl overflow-hidden flex flex-col max-h-[95vh] h-full",children:[u.jsxs("div",{className:"px-5 py-4 landscape:py-2 landscape:px-4 border-b border-[var(--border-default)] flex justify-between items-center bg-[var(--surface-main)] shrink-0",children:[u.jsx("h2",{className:"text-xl landscape:text-base font-bold",children:_?"Edit Item":"Create Item"}),u.jsx("button",{onClick:H,className:"p-2 landscape:p-1 hover:bg-black/5 rounded-full transition-colors",children:u.jsx(Jo,{size:20,className:"landscape:size-4"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 landscape:p-3 custom-scrollbar",children:u.jsxs("form",{id:"productForm",onSubmit:ge,className:"space-y-6 landscape:space-y-2",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 landscape:grid-cols-2 gap-4 landscape:gap-3",children:[u.jsxs("div",{className:"md:col-span-1",children:[u.jsx("label",{className:"block text-xs landscape:text-[10px] font-bold uppercase text-slate-500 mb-1 landscape:mb-0.5",children:"English Name"}),u.jsx("input",{required:!0,type:"text",value:te.name_en,onChange:xe=>{const Oe=xe.target.value,oe=Oe.charAt(0).toUpperCase()+Oe.slice(1);se({...te,name_en:oe})},className:"w-full px-3 py-2 landscape:py-1.5 rounded-lg border bg-[var(--surface-main)] text-sm landscape:text-xs focus:border-[var(--brand-primary)] outline-none",placeholder:"Enter name"})]}),u.jsxs("div",{className:"md:col-span-1",children:[u.jsx("label",{className:"block text-xs landscape:text-[10px] font-bold uppercase text-slate-500 mb-1 landscape:mb-0.5",children:"Tamil Name"}),u.jsx("input",{required:!0,type:"text",value:te.name_ta,onChange:xe=>se({...te,name_ta:xe.target.value}),className:"w-full px-3 py-2 landscape:py-1.5 rounded-lg border bg-[var(--surface-main)] text-sm landscape:text-xs focus:border-[var(--brand-primary)] outline-none",placeholder:"Tamil name"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 landscape:gap-3 items-end",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs landscape:text-[10px] font-bold uppercase text-slate-500 mb-1 landscape:mb-0.5",children:"Price"}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm landscape:text-xs",children:""}),u.jsx("input",{required:!0,type:"number",value:te.price,onChange:xe=>se({...te,price:xe.target.value}),className:"w-full !pl-10 landscape:!pl-8 pr-3 py-2 landscape:py-1.5 rounded-lg border bg-[var(--surface-main)] text-sm landscape:text-xs focus:border-[var(--brand-primary)] outline-none",min:"0"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs landscape:text-[10px] font-bold uppercase text-slate-500 mb-2 landscape:mb-1",children:"Status"}),u.jsxs("div",{className:"flex items-center gap-3 landscape:gap-2",children:[u.jsx("div",{onClick:()=>se({...te,is_active:!te.is_active}),className:`w-14 h-8 landscape:w-10 landscape:h-6 flex items-center rounded-full p-1 cursor-pointer transition-colors duration-300 ${te.is_active?"bg-[#4ade80]":"bg-gray-300"}`,children:u.jsx("div",{className:`bg-white w-6 h-6 landscape:w-4 landscape:h-4 rounded-full shadow-none transform transition-transform duration-300 ${te.is_active?"translate-x-6 landscape:translate-x-4":"translate-x-0"}`})}),u.jsx("span",{className:`text-[10px] landscape:text-[8px] font-black uppercase tracking-widest ${te.is_active?"text-emerald-500":"text-red-500"}`,children:te.is_active?"Active":"Inactive"})]})]})]}),u.jsxs("div",{className:"landscape:flex landscape:items-center landscape:gap-4",children:[u.jsxs("div",{className:"flex justify-between items-end mb-2 landscape:mb-0",children:[u.jsx("label",{className:"block text-xs landscape:text-[10px] font-bold uppercase text-slate-500",children:"Images"}),u.jsx("span",{className:"text-[10px] landscape:hidden text-gray-400 font-medium",children:"Maximum 4 images allowed"})]}),te.images.length>0?u.jsxs("div",{className:"relative w-full aspect-square max-w-[180px] landscape:max-w-[100px] rounded-xl border-2 border-gray-200 overflow-hidden group bg-gray-50",children:[u.jsx("img",{src:te.images[0].url.startsWith("blob:")||te.images[0].url.startsWith("http")?te.images[0].url:`${$i}${te.images[0].url.startsWith("/")?"":"/"}${te.images[0].url}`,alt:"Product",className:"w-full h-full object-cover",onError:xe=>xe.target.src=ro}),u.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:u.jsxs("button",{type:"button",onClick:()=>se({...te,images:[]}),className:"px-3 py-1.5 landscape:px-2 landscape:py-1 rounded-lg bg-red-500 text-white hover:bg-red-600 font-bold text-xs landscape:text-[10px] flex items-center gap-1.5 landscape:gap-1",children:[u.jsx(Dm,{size:12,className:"landscape:size-3"}),"Remove"]})})]}):u.jsxs("label",{className:"w-full aspect-square max-w-[180px] landscape:max-w-[100px] rounded-xl border-2 border-dashed border-gray-300 flex flex-col items-center justify-center cursor-pointer hover:bg-[var(--surface-muted)] hover:border-[var(--brand-primary)] transition-colors group",children:[u.jsx(Oc,{className:"text-gray-400 group-hover:text-[var(--brand-primary)] mb-1.5 landscape:mb-0.5 landscape:size-4",size:24}),u.jsx("span",{className:"text-xs landscape:text-[9px] text-gray-500 font-bold uppercase",children:"Add Image"}),u.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ae})]})]}),u.jsx("div",{className:"grid grid-cols-2 gap-4 landscape:gap-3",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs landscape:text-[10px] font-bold uppercase text-slate-500 mb-1 landscape:mb-0.5",children:"Category"}),u.jsx("input",{type:"text",value:te.category,onChange:xe=>se({...te,category:xe.target.value}),className:"w-full px-3 py-2 landscape:py-1.5 rounded-lg border bg-[var(--surface-main)] text-sm landscape:text-xs focus:border-[var(--brand-primary)] outline-none",placeholder:"General"})]})})]})}),u.jsxs("div",{className:"px-5 py-4 landscape:py-2 border-t flex justify-end gap-3 bg-[var(--surface-main)] shrink-0",children:[u.jsx("button",{onClick:H,className:`px-5 py-2.5 landscape:py-1.5 rounded-xl border font-bold text-sm landscape:text-xs transition-all ${c?"border-[var(--border-default)] text-[var(--text-primary)] hover:bg-[var(--surface-muted)]":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:"Cancel"}),u.jsx("button",{form:"productForm",type:"submit",disabled:D,className:"px-8 py-2.5 landscape:py-1.5 rounded-xl bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-bold text-sm landscape:text-xs shadow-lg transition-all active:scale-[0.98]",children:D?"Saving...":"Save Item"})]})]})})]})})},_ae=()=>{const[e,t]=I.useState([]),[r,n]=I.useState(!0),[a,i]=I.useState(!1),[c,f]=I.useState(null),[m,p]=I.useState({name:"",code:"",printer_ip:"",printer_port:9100,is_active:!0}),[x,y]=I.useState(null),[S,N]=I.useState({top:0,left:0}),[j,_]=I.useState(null),[T,D]=I.useState(!1),{isDark:R}=bi(),{user:z}=Xi(),G=(z==null?void 0:z.role)==="admin"||(z==null?void 0:z.role)==="unit_admin",[$,X]=I.useState({search:"",is_active:"",page:1,limit:50}),[V,Y]=I.useState({total:0,page:1,totalPages:1}),W=async()=>{var q;try{const te=new URLSearchParams;$.search&&te.append("search",$.search),$.is_active!==""&&te.append("is_active",$.is_active),te.append("limit","10000");const ue=((q=(await qt.get(`/units?${te.toString()}`)).data)==null?void 0:q.units)||[];if(ue.length===0){alert("No data to export");return}const ee=new wr("p","mm","a4"),Se=ee.internal.pageSize.getWidth(),le=15;let U=20;ee.setFontSize(14),ee.setTextColor(30,41,59),ee.setFont(void 0,"bold"),ee.text("UNITS MANAGEMENT REPORT",le,U),U+=10,ee.setDrawColor(226,232,240),ee.line(le,U,Se-15,U),U+=10,ee.setFontSize(10),ee.setTextColor(30,41,59),ee.setFont(void 0,"bold"),ee.text(`Generated On: ${new Date().toLocaleString()}`,le,U),ee.text(`Total Records: ${ue.length}`,Se-15,U,{align:"right"}),U+=12,ee.setFillColor(250,198,57),ee.rect(le,U,Se-le*2,10,"F"),ee.setFont(void 0,"bold"),ee.setTextColor(0,0,0),ee.setFontSize(9),ee.text("S.No",le+2,U+7),ee.text("Unit Name",le+15,U+7),ee.text("Code",le+60,U+7),ee.text("Printer IP",le+90,U+7),ee.text("Port",le+130,U+7),ee.text("Status",le+155,U+7),ee.text("Created",le+180,U+7,{align:"right"}),U+=10,ee.setTextColor(30,41,59),ee.setFont(void 0,"normal"),ee.setFontSize(8),ue.forEach((H,ae)=>{U>270&&(ee.addPage(),U=20,ee.setFillColor(250,198,57),ee.rect(le,U,Se-le*2,10,"F"),ee.setFont(void 0,"bold"),ee.setTextColor(0,0,0),ee.text("S.No",le+2,U+7),ee.text("Unit Name",le+15,U+7),ee.text("Code",le+60,U+7),ee.text("Printer IP",le+90,U+7),ee.text("Port",le+130,U+7),ee.text("Status",le+155,U+7),ee.text("Created",le+180,U+7,{align:"right"}),U+=10,ee.setTextColor(30,41,59),ee.setFont(void 0,"normal"));const ge=String(ae+1),ve=H.name||"N/A",de=H.code||"N/A",ke=H.printer_ip||"N/A",me=String(H.printer_port||"9100"),xe=H.is_active?"Active":"Inactive",Oe=new Date(H.createdAt).toLocaleDateString("en-IN");ee.text(ge,le+2,U+7),ee.text(ve,le+15,U+7),ee.text(de,le+60,U+7),ee.text(ke,le+90,U+7),ee.text(me,le+130,U+7),H.is_active?ee.setTextColor(16,185,129):ee.setTextColor(225,29,72),ee.text(xe,le+155,U+7),ee.setTextColor(30,41,59),ee.text(Oe,le+180,U+7,{align:"right"}),U+=8,ee.setDrawColor(241,245,249),ee.line(le,U,Se-15,U)}),ee.save(`units-report-${new Date().toLocaleDateString("en-IN").replace(/\//g,"-")}.pdf`)}catch(te){console.error("PDF Export Error:",te),alert("Failed to export units list. Please try again.")}},Ne=I.useCallback(async()=>{var q,te;try{n(!0);const se=new URLSearchParams;$.search&&se.append("search",$.search),$.is_active!==""&&se.append("is_active",$.is_active),se.append("page",$.page),se.append("limit",$.limit);const ue=await qt.get(`/units?${se.toString()}`);if(ue.data&&ue.data.units){let ee=ue.data.units,Se=ue.data.total||ue.data.count||ee.length||0;(z==null?void 0:z.role)==="unit_admin"&&(z!=null&&z.unit_id)&&(ee=ee.filter(le=>le.id===z.unit_id),Se=ee.length),t(ee),Y({total:Se,page:ue.data.page,totalPages:ue.data.totalPages||Math.ceil(Se/ue.data.limit)})}else{const ee=await qt.get("/units");let Se=Array.isArray(ee.data)?ee.data:((q=ee.data)==null?void 0:q.units)||[];(z==null?void 0:z.role)==="unit_admin"&&(z!=null&&z.unit_id)&&(Se=Se.filter(le=>le.id===z.unit_id)),t(Se),Y({total:Se.length,page:1,totalPages:1})}}catch(se){console.error("Fetch units error:",se);try{const ue=await qt.get("/units"),ee=Array.isArray(ue.data)?ue.data:((te=ue.data)==null?void 0:te.units)||[];t(ee)}catch(ue){console.error("Final fallback error:",ue)}}finally{n(!1)}},[$]);I.useEffect(()=>{const q=setTimeout(()=>{Ne()},$.search?500:0);return()=>clearTimeout(q)},[Ne]);const Z=(q=null)=>{q?(f(q),p({name:q.name,code:q.code,printer_ip:q.printer_ip,printer_port:q.printer_port,is_active:q.is_active})):(f(null),p({name:"",code:"",printer_ip:"",printer_port:9100,is_active:!0})),i(!0)},Q=()=>{i(!1),f(null),p({name:"",code:"",printer_ip:"",printer_port:9100,is_active:!0})},ye=async q=>{var te,se;q.preventDefault();try{const ue={name:m.name,code:m.code,printer_ip:m.printer_ip||null,printer_port:parseInt(m.printer_port)||9100,is_active:m.is_active};c?await qt.put(`/units/${c.id}`,ue):await qt.post("/units",ue),Q(),Ne()}catch(ue){console.error("Save unit error:",ue),alert(((se=(te=ue.response)==null?void 0:te.data)==null?void 0:se.error)||"Failed to save unit. Missing required fields?")}},ie=async q=>{var te,se;if(confirm("Are you sure you want to delete this unit?"))try{await qt.delete(`/units/${q}`),Ne()}catch(ue){console.error("Delete unit error:",ue),alert(((se=(te=ue.response)==null?void 0:te.data)==null?void 0:se.error)||"Failed to delete unit. Please try again.")}};return I.useEffect(()=>{const q=()=>{_(null),D(!1)};return document.addEventListener("click",q),()=>document.removeEventListener("click",q)},[]),r&&e.length===0?u.jsx(ui,{children:u.jsx(Vs,{})}):u.jsx(ui,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex flex-col gap-6 mb-4 sm:mb-8 mt-1",children:[u.jsxs("div",{className:"flex items-center gap-3 landscape:gap-2 animate-slide-up opacity-0",children:[u.jsx("div",{className:"w-1.5 h-8 landscape:h-6 bg-[var(--brand-primary)] rounded-full shadow-[0_0_10px_rgba(249,115,22,0.4)]"}),u.jsx("h1",{className:"text-2xl sm:text-3xl landscape:text-xl font-bold tracking-[0.1em] text-[var(--text-primary)]",style:{fontFamily:'"Outfit", sans-serif'},children:"Units".split("").map((q,te)=>u.jsx("span",{className:"animate-letter-pop",style:{animationDelay:`${300+(q===" "?0:te*50)}ms`},children:q===" "?"":q},te))})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[u.jsxs("div",{style:{animationDelay:"100ms"},className:"relative w-full sm:w-[400px] group animate-slide-up opacity-0",children:[u.jsx("input",{type:"text",placeholder:"Search...",value:$.search,onChange:q=>X(te=>({...te,search:q.target.value,page:1})),className:"w-full px-12 py-2.5 sm:py-3 landscape:py-0.5 landscape:h-7 text-center rounded-xl border border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-primary)] focus:outline-none focus:ring-2 sm:focus:ring-4 focus:ring-[var(--brand-primary)]/20 focus:border-[var(--brand-primary)] font-bold text-xs sm:text-sm landscape:text-[10px] transition-all shadow-sm hover:border-[var(--brand-primary)]/50"}),u.jsx(wd,{className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] group-focus-within:text-[var(--brand-primary)] transition-colors landscape:size-3.5",size:18})]}),u.jsxs("div",{style:{animationDelay:"200ms"},className:"flex flex-col sm:flex-row gap-3 animate-slide-up opacity-0",children:[G&&u.jsxs("button",{onClick:()=>Z(),className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-semibold px-5 sm:px-6 py-2.5 sm:py-3 landscape:py-0.5 landscape:h-7 rounded-xl flex items-center justify-center gap-2 sm:gap-3 landscape:gap-1.5 transition-all shadow-[0_4px_15px_rgba(250,198,57,0.3)] hover:scale-105 active:scale-95 text-sm sm:text-base landscape:text-[10px] whitespace-nowrap",children:[u.jsx(Oc,{className:"text-base sm:text-lg landscape:text-xs"}),u.jsx("span",{children:"Add Unit"})]}),u.jsxs("button",{onClick:W,className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-semibold px-6 py-2.5 sm:py-3 landscape:py-0.5 landscape:h-7 rounded-xl flex items-center justify-center gap-3 landscape:gap-1.5 transition-all shadow-[0_4px_15px_rgba(250,198,57,0.3)] hover:scale-105 active:scale-95 text-xs sm:text-sm landscape:text-[10px] tracking-wider",children:[u.jsx(hd,{className:"text-lg landscape:text-xs"}),u.jsx("span",{children:"PDF"})]})]})]})]}),u.jsxs("div",{className:"rounded-xl overflow-hidden bg-[var(--surface-card)] border border-[var(--border-default)] shadow-lg mb-8",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[1200px]",children:[u.jsx("thead",{className:"bg-[var(--brand-primary)] text-white",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-1 landscape:py-0.5 text-left text-[11px] landscape:text-[9px] font-black uppercase tracking-wider border-r border-black/10",children:"S.No"}),u.jsx("th",{className:"px-4 py-1 landscape:py-0.5 text-left text-sm sm:text-base landscape:text-xs tracking-wider border-r border-black/10",children:"Name"}),u.jsx("th",{className:"px-4 py-1 landscape:py-0.5 text-left text-sm sm:text-base landscape:text-xs tracking-wider border-r border-black/10 relative",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{children:"Status"}),u.jsx("button",{onClick:q=>{q.stopPropagation(),_(j==="status"?null:"status")},className:"hover:scale-110 transition-transform",children:u.jsx(Ac,{size:14,className:$.is_active!==""?"text-black":"text-black/40"})}),j==="status"&&u.jsx("div",{className:"absolute top-full left-0 mt-1 w-32 bg-[var(--surface-card)] text-[var(--text-primary)] rounded-xl shadow-2xl border border-[var(--border-default)] py-2 z-50 overflow-hidden",onClick:q=>q.stopPropagation(),children:[{label:"All Status",value:""},{label:"Active",value:"true"},{label:"Inactive",value:"false"}].map(q=>u.jsx("button",{onClick:()=>{X({...$,is_active:q.value,page:1}),_(null)},className:`w-full px-4 py-2 text-left text-xs font-medium hover:bg-[var(--surface-muted)] transition-colors ${$.is_active===q.value?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":""}`,children:q.label},q.label))})]})}),u.jsx("th",{className:"px-4 py-1 landscape:py-0.5 text-left text-sm sm:text-base landscape:text-xs tracking-wider border-r border-black/10",children:"Printer"}),u.jsx("th",{className:"px-4 py-1 landscape:py-0.5 text-left text-xs sm:text-sm landscape:text-[10px] tracking-wider border-r border-black/10",children:"Created"}),u.jsx("th",{className:"px-4 py-1 landscape:py-0.5 text-center text-xs sm:text-sm landscape:text-[10px] tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]",children:Array.isArray(e)&&e.map((q,te)=>u.jsxs("tr",{style:{animationDelay:`${te*30}ms`},className:"hover:bg-[var(--surface-muted)]/30 transition-colors animate-slide-up opacity-0",children:[u.jsx("td",{className:"px-6 py-2.5 text-lg font-medium opacity-60",children:($.page-1)*$.limit+te+1}),u.jsx("td",{className:"px-6 py-2.5 text-lg font-medium capitalize",children:q.name}),u.jsx("td",{className:"px-6 py-2.5 text-lg",children:u.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold border inline-flex items-center justify-center w-fit ${q.is_active?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-rose-500/10 text-rose-500 border-rose-500/20"}`,children:q.is_active?"Active":"Inactive"})}),u.jsx("td",{className:"px-6 py-2.5 text-lg text-slate-400",children:u.jsx("div",{children:q.printer_ip?`${q.printer_ip}:${q.printer_port}`:"Not configured"})}),u.jsx("td",{className:"px-6 py-2.5 text-lg text-slate-400",children:new Date(q.createdAt).toLocaleDateString("en-IN")}),u.jsx("td",{className:"px-6 py-2.5 text-lg text-center relative",children:u.jsx("button",{onClick:se=>{se.stopPropagation();const ue=se.currentTarget.getBoundingClientRect();N({top:ue.bottom+10,right:window.innerWidth-ue.right}),y(x===q.id?null:q.id)},className:`p-1.5 rounded-lg hover:bg-[var(--surface-muted)] text-[var(--brand-primary)] transition-colors ${x===q.id?"bg-[var(--surface-muted)]":""}`,children:u.jsx(sB,{size:18})})})]},q.id))})]})}),u.jsxs("div",{className:"px-6 py-5 flex flex-col sm:flex-row items-center justify-between border-t border-[var(--border-default)] bg-[var(--surface-card)] gap-4",children:[u.jsxs("div",{className:"text-xs sm:text-sm text-[var(--text-secondary)] font-medium",children:["Showing ",u.jsxs("span",{className:"text-[var(--text-primary)]",children:[($.page-1)*$.limit+1,"",Math.min($.page*$.limit,V.total||0)]})," of ",u.jsx("span",{className:"text-[var(--brand-primary)] font-semibold",children:V.total||0})," records"]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 justify-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>X({...$,page:Math.max(1,parseInt(V.page)-1)}),disabled:parseInt(V.page)<=1,className:"px-4 h-9 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-main)] border border-[var(--border-default)] text-[var(--text-secondary)] disabled:opacity-30 hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)] transition-all shadow-sm font-semibold text-[10px] uppercase",children:[u.jsx(Kl,{size:16})," Back"]}),u.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:V.totalPages},(q,te)=>te+1).map(q=>{const te=parseInt(V.page)===q;return V.totalPages>5&&q>1&&q<V.totalPages&&Math.abs(q-parseInt(V.page))>1?q===2||q===V.totalPages-1?u.jsx("span",{className:"px-1 text-[var(--text-secondary)] opacity-50",children:"..."},q):null:u.jsx("button",{onClick:()=>X({...$,page:q}),className:`w-9 h-9 flex items-center justify-center rounded-xl text-xs font-semibold transition-all border
                          ${te?"bg-[var(--brand-primary)] border-[var(--brand-primary)] text-white shadow-[0_4px_15px_rgba(227,30,36,0.4)] scale-105":"bg-[var(--surface-main)] border-[var(--border-default)] text-[var(--text-secondary)] hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)]"}`,children:q},q)})}),u.jsxs("button",{onClick:()=>X({...$,page:Math.min(V.totalPages,parseInt(V.page)+1)}),disabled:parseInt(V.page)>=V.totalPages,className:"px-4 h-9 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-main)] border border-[var(--border-default)] text-[var(--text-secondary)] disabled:opacity-30 hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)] transition-all shadow-sm font-semibold text-[10px] uppercase",children:["Next ",u.jsx(Zl,{size:16})]})]}),u.jsxs("div",{className:"relative shrink-0",children:[u.jsxs("button",{onClick:q=>{q.stopPropagation(),D(!T)},className:"bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl py-2.5 text-[12px] font-medium text-[var(--text-primary)] cursor-pointer outline-none transition-all shadow-sm flex items-center justify-center relative w-[130px]",children:[$.limit," Pages",u.jsx(Gl,{size:14,className:`absolute right-3 transition-transform duration-300 ${T?"rotate-180":""} text-[var(--brand-primary)]`})]}),T&&u.jsx("div",{className:"absolute bottom-full left-0 mb-2 w-[130px] bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-2xl shadow-2xl z-[100] py-1 overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-300",children:[10,20,50,100].map(q=>u.jsxs("button",{onClick:te=>{te.stopPropagation(),X({...$,limit:q,page:1}),D(!1)},className:`w-full py-3.5 text-center text-[12px] font-medium transition-all
                          ${$.limit===q?"bg-[var(--brand-primary)] text-white":"text-[var(--text-primary)] hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)]"}`,children:[q," Pages"]},q))})]})]})]})]}),a&&u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-start justify-center p-4 z-[100] overflow-y-auto transition-all animate-in fade-in duration-300 pt-10 sm:pt-20",children:u.jsxs("div",{className:"bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] text-[var(--text-primary)] rounded-3xl shadow-[0_0_50px_rgba(0,0,0,0.5)] p-5 sm:p-8 md:p-10 max-w-2xl w-full mb-10 relative animate-in slide-in-from-top-10 duration-500",children:[u.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold tracking-tight text-[var(--brand-primary)] mb-6 sm:mb-8 border-b-2 border-[var(--brand-primary)]/10 pb-4",children:c?"Edit Unit":"Add Unit"}),u.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block font-medium mb-2",children:"Unit Name"}),u.jsx("input",{type:"text",value:m.name,onChange:q=>{const te=q.target.value;p({...m,name:te.charAt(0).toUpperCase()+te.slice(1)})},className:"w-full px-4 py-2 rounded-lg border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:border-[var(--brand-primary)] focus:ring-1 focus:ring-[var(--brand-primary)]/20 transition-all outline-none",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block font-medium mb-2",children:"Printer IP"}),u.jsx("input",{type:"text",value:m.printer_ip,onChange:q=>p({...m,printer_ip:q.target.value}),className:"w-full px-4 py-2 rounded-lg border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:border-[var(--brand-primary)] focus:ring-1 focus:ring-[var(--brand-primary)]/20 transition-all outline-none",placeholder:""})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block font-medium mb-2",children:"Printer Port"}),u.jsx("input",{type:"number",value:m.printer_port,onChange:q=>p({...m,printer_port:q.target.value}),className:"w-full px-4 py-2 rounded-lg border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:border-[var(--brand-primary)] focus:ring-1 focus:ring-[var(--brand-primary)]/20 transition-all outline-none",placeholder:"9100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block font-medium mb-2",children:"Status"}),u.jsx("div",{onClick:()=>p({...m,is_active:!m.is_active}),className:`w-14 h-8 flex items-center rounded-full p-1 cursor-pointer transition-colors duration-300 ${m.is_active?"bg-[#4ade80]":"bg-gray-300"}`,children:u.jsx("div",{className:`bg-white w-6 h-6 rounded-full shadow-none transform transition-transform duration-300 ${m.is_active?"translate-x-6":"translate-x-0"}`})})]})]}),u.jsxs("div",{className:"flex gap-4 pt-4",children:[u.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 rounded-lg font-bold bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] transition-all shadow-lg",children:c?"Update":"Create Unit"}),u.jsx("button",{type:"button",onClick:Q,className:"flex-1 px-6 py-3 rounded-lg font-bold bg-[var(--surface-muted)] text-[var(--text-secondary)] hover:bg-[var(--surface-muted)]/80 transition-all",children:"Cancel"})]})]})]})}),x&&v1.createPortal(u.jsx("div",{className:"fixed inset-0 z-[9999]",onClick:()=>y(null),children:u.jsxs("div",{className:"absolute bg-[var(--surface-card)] rounded-xl shadow-2xl border border-[var(--border-default)] py-1 w-44 animate-in fade-in zoom-in-95 duration-100 overflow-hidden",style:{top:`${S.top}px`,right:`${S.right}px`},onClick:q=>q.stopPropagation(),children:[G&&u.jsxs("button",{onClick:()=>{y(null),Z(e.find(q=>q.id===x))},className:"w-full text-left px-4 py-2.5 text-sm font-bold text-[var(--text-primary)] hover:bg-[var(--surface-muted)] flex items-center gap-2 transition-colors",children:[u.jsx(e1,{className:"text-blue-500"})," Edit"]}),G&&u.jsx("div",{className:"h-px bg-[var(--border-default)] my-1"}),G&&u.jsxs("button",{onClick:()=>{y(null),ie(x)},className:"w-full text-left px-4 py-2.5 text-sm font-bold text-rose-500 hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[u.jsx(Dm,{})," Delete"]})]})}),document.body)]})})},jae=()=>{const[e,t]=I.useState([]),[r,n]=I.useState([]),[a,i]=I.useState(!0),[c,f]=I.useState(!1),[m,p]=I.useState(null),[x,y]=I.useState(!1),[S,N]=I.useState(null),[j,_]=I.useState({top:0,right:0}),[T,D]=I.useState(null),[R,z]=I.useState(!1),{user:G}=Xi(),[$,X]=I.useState({key:"bill_date",direction:"desc"}),V=H=>{const ae=H.getFullYear(),ge=String(H.getMonth()+1).padStart(2,"0"),ve=String(H.getDate()).padStart(2,"0");return`${ae}-${ge}-${ve}`},Y=new Date;Y.setDate(Y.getDate()+30);const[W,Ne]=I.useState({start_date:V(new Date(new Date().setDate(1))),end_date:V(Y),search:"",unit_id:"",payment_mode:"",payment_status:"",page:1,limit:50,printer_status:""}),[Z,Q]=I.useState({total:0,page:1,totalPages:1}),{isDark:ye}=bi(),ie=I.useCallback(async()=>{var H;try{const ae=await qt.get("/units");let ge=Array.isArray(ae.data)?ae.data:((H=ae.data)==null?void 0:H.units)||[];(G==null?void 0:G.role)==="unit_admin"&&(G!=null&&G.unit_id)&&(ge=ge.filter(ve=>ve.id===G.unit_id)),n(ge)}catch(ae){console.error("Fetch units error:",ae)}},[G]),q=I.useCallback(async()=>{var H,ae;try{i(!0);const ge=new URLSearchParams;W.start_date&&(ge.append("start_date",W.start_date),ge.append("startDate",W.start_date)),W.end_date&&(ge.append("end_date",W.end_date),ge.append("endDate",W.end_date)),W.search&&W.search.trim()!==""&&ge.append("search",W.search),W.unit_id&&W.unit_id.trim()!==""&&(ge.append("unit_id",W.unit_id),ge.append("unitId",W.unit_id)),W.payment_mode&&W.payment_mode.trim()!==""&&(ge.append("payment_mode",W.payment_mode),ge.append("paymentMode",W.payment_mode)),W.payment_status&&W.payment_status.trim()!==""&&(ge.append("payment_status",W.payment_status),ge.append("paymentStatus",W.payment_status)),W.printer_status&&W.printer_status.trim()!==""&&ge.append("is_printed",W.printer_status==="Printed"?"true":"false"),ge.append("page",W.page),ge.append("limit",W.limit),console.log("[Logs Frontend] Fetching bills with filters:",{start_date:W.start_date,end_date:W.end_date,unit_id:W.unit_id,payment_mode:W.payment_mode,page:W.page,limit:W.limit}),console.log("[Logs Frontend] API URL:",`/logs?${ge.toString()}`);const ve=await qt.get(`/logs?${ge.toString()}`);console.log("[Logs Frontend] Response:",{logsCount:((H=ve.data.logs)==null?void 0:H.length)||0,total:ve.data.total,page:ve.data.page,totalPages:ve.data.totalPages});const de=ve.data.logs||ve.data.data||[];let ke=Array.isArray(de)?de:[];(G==null?void 0:G.role)==="unit_admin"&&(G!=null&&G.unit_id)&&(ke=ke.filter(Le=>{var Ge;return((Ge=Le.unit)==null?void 0:Ge.id)===G.unit_id||Le.unit_id===G.unit_id}));const me=ke.slice(0,W.limit);t(me);const xe=ve.data.page,Oe=(G==null?void 0:G.role)==="unit_admin"?ke.length:ve.data.total||ke.length||0,oe=Math.max(Oe,me.length+(xe-1)*W.limit);Q({total:oe,page:xe,totalPages:(G==null?void 0:G.role)==="unit_admin"?Math.ceil(oe/W.limit):ve.data.totalPages||Math.ceil(oe/W.limit)}),W.page!==xe&&Ne(Le=>({...Le,page:xe}))}catch(ge){console.error("Fetch bills error:",ge),console.error("Error response:",(ae=ge.response)==null?void 0:ae.data)}finally{i(!1)}},[W]);I.useEffect(()=>{ie()},[ie]),I.useEffect(()=>{const ae=W.search!==""?300:0,ge=setTimeout(()=>{q()},ae);return()=>clearTimeout(ge)},[W.start_date,W.end_date,W.search,W.unit_id,W.payment_mode,W.payment_status,W.printer_status,W.page,W.limit,q]),I.useEffect(()=>{const H=()=>{D(null),z(!1)};return document.addEventListener("click",H),()=>document.removeEventListener("click",H)},[]);const te=async(H,ae)=>{var ge,ve;try{await qt.post(`/orders/${H}/bills/${ae}/print`),q()}catch(de){console.error("Retry print error:",de),alert(((ve=(ge=de.response)==null?void 0:ge.data)==null?void 0:ve.error)||"Print failed. Please check printer connection.")}};I.useEffect(()=>{if(x&&m&&!c){const H=setTimeout(()=>{window.print(),y(!1)},500);return()=>clearTimeout(H)}},[x,m,c]);const se=async()=>{try{const H=new URLSearchParams;W.start_date&&(H.append("start_date",W.start_date),H.append("startDate",W.start_date)),W.end_date&&(H.append("end_date",W.end_date),H.append("endDate",W.end_date)),W.search&&W.search.trim()!==""&&H.append("search",W.search),W.unit_id&&W.unit_id.trim()!==""&&(H.append("unit_id",W.unit_id),H.append("unitId",W.unit_id)),W.payment_mode&&W.payment_mode.trim()!==""&&(H.append("payment_mode",W.payment_mode),H.append("paymentMode",W.payment_mode)),W.payment_status&&W.payment_status.trim()!==""&&(H.append("payment_status",W.payment_status),H.append("paymentStatus",W.payment_status)),W.printer_status&&W.printer_status.trim()!==""&&H.append("is_printed",W.printer_status==="Printed"?"true":"false"),H.append("limit","10000"),H.append("page","1");const ae=await qt.get(`/logs?${H.toString()}`),ge=ae.data.logs||ae.data.data||[];let ve=Array.isArray(ge)?ge:[];if((G==null?void 0:G.role)==="unit_admin"&&(G!=null&&G.unit_id)&&(ve=ve.filter(oe=>{var Le;return((Le=oe.unit)==null?void 0:Le.id)===G.unit_id||oe.unit_id===G.unit_id})),ve.length===0){alert("No logs available to export.");return}const de=new wr("p","mm","a4"),ke=de.internal.pageSize.getWidth(),me=15;let xe=20;de.setFontSize(14),de.setTextColor(30,41,59),de.setFont(void 0,"bold"),de.text("SALES / LOGS REPORT",me,xe),xe+=10,de.setDrawColor(226,232,240),de.line(me,xe,ke-15,xe),xe+=10,de.setFontSize(10),de.setTextColor(30,41,59),de.setFont(void 0,"bold"),de.text(`Generated On: ${new Date().toLocaleString()}`,me,xe),de.text(`Records: ${ve.length}`,ke-15,xe,{align:"right"}),xe+=6,de.setFont(void 0,"normal"),de.text(`Filters: ${W.start_date} to ${W.end_date}`,me,xe),xe+=12,de.setFillColor(250,198,57),de.rect(me,xe,ke-me*2,10,"F"),de.setFont(void 0,"bold"),de.setTextColor(0,0,0),de.text("S.No",me+2,xe+7),de.text("Date",me+15,xe+7),de.text("Unit",me+40,xe+7),de.text("Menus",me+80,xe+7),de.text("Mode",me+120,xe+7),de.text("Status",me+142,xe+7),de.text("Amount",me+180,xe+7,{align:"right"}),xe+=10,de.setTextColor(30,41,59),de.setFont(void 0,"normal"),de.setFontSize(8);let Oe=0;ve.forEach((oe,Le)=>{var Fe,rt;xe>270&&(de.addPage(),xe=20,de.setFillColor(250,198,57),de.rect(me,xe,ke-me*2,10,"F"),de.setFont(void 0,"bold"),de.setTextColor(0,0,0),de.text("S.No",me+2,xe+7),de.text("Date",me+15,xe+7),de.text("Unit",me+40,xe+7),de.text("Menus",me+80,xe+7),de.text("Mode",me+120,xe+7),de.text("Status",me+142,xe+7),de.text("Amount",me+180,xe+7,{align:"right"}),xe+=10,de.setTextColor(30,41,59),de.setFont(void 0,"normal"));const Ge=String(Le+1),Pe=ee(oe.bill_date),ne=((Fe=oe.unit)==null?void 0:Fe.name)||"N/A",tt=oe.product_name||oe.product_name_en||((rt=oe.product)==null?void 0:rt.name_en)||"N/A",at=oe.payment_mode||"N/A",Be=oe.payment_status||"N/A",Ze=`INR ${parseFloat(oe.amount||0).toFixed(2)}`;Oe+=parseFloat(oe.amount||0),de.text(Ge,me+2,xe+7),de.text(Pe,me+15,xe+7),de.text(ne,me+40,xe+7),de.text(tt,me+80,xe+7),de.text(at,me+120,xe+7),de.text(Be,me+142,xe+7),de.text(Ze,me+180,xe+7,{align:"right"}),xe+=8,de.setDrawColor(241,245,249),de.line(me,xe,ke-15,xe)}),xe+=10,de.setFontSize(12),de.setFont(void 0,"bold"),de.text("Grand Total:",ke-60,xe),de.setTextColor(16,185,129),de.text(`INR ${Oe.toFixed(2)}`,ke-15,xe,{align:"right"}),de.save(`logs-report-${W.start_date}-to-${W.end_date}.pdf`)}catch(H){console.error("Overall PDF Download Error:",H),alert("Failed to download overall PDF.")}},ue=()=>{Ne({start_date:V(new Date(new Date().setDate(1))),end_date:V(Y),search:"",unit_id:"",payment_mode:"",payment_status:"",printer_status:"",page:1,limit:50}),D(null)},ee=H=>{if(!H)return"-";const ae=new Date(H);if(isNaN(ae.getTime()))return H;const ge=String(ae.getDate()).padStart(2,"0"),ve=String(ae.getMonth()+1).padStart(2,"0"),de=ae.getFullYear();return`${ge}-${ve}-${de}`},Se=I.useMemo(()=>Array.isArray(e)?e.filter(H=>{var de;const ae=String(((de=H.unit)==null?void 0:de.id)||H.unit_id||""),ge=String(H.payment_mode||"").toUpperCase(),ve=String(H.payment_status||"").toUpperCase();if(W.unit_id&&ae!==String(W.unit_id)||W.payment_mode&&ge!==String(W.payment_mode).toUpperCase()||W.payment_status&&ve!==String(W.payment_status).toUpperCase())return!1;if(W.printer_status){const ke=H.is_printed===!0||H.is_printed==="true"||H.is_printed===1,me=W.printer_status==="Printed";if(ke!==me)return!1}return!0}):[],[e,W.unit_id,W.payment_mode,W.payment_status,W.order_status,W.printer_status]),le=I.useMemo(()=>[...Se].sort((H,ae)=>{var me,xe,Oe,oe;const ge=$.key,ve=$.direction;let de=H[ge],ke=ae[ge];return ge==="unit"&&(de=((me=H.unit)==null?void 0:me.name)||"",ke=((xe=ae.unit)==null?void 0:xe.name)||""),ge==="product"&&(de=H.product_name||H.product_name_en||((Oe=H.product)==null?void 0:Oe.name_en)||"",ke=ae.product_name||ae.product_name_en||((oe=ae.product)==null?void 0:oe.name_en)||""),de<ke?ve==="asc"?-1:1:de>ke?ve==="asc"?1:-1:0}),[Se,$]),U=H=>{X(ae=>({key:H,direction:ae.key===H&&ae.direction==="asc"?"desc":"asc"}))};return a&&e.length===0?u.jsx(ui,{children:u.jsx(Vs,{})}):u.jsx(ui,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4 sm:mb-8 mt-1 landscape:mb-2 animate-slide-up opacity-0",children:[u.jsxs("div",{className:"flex items-center gap-3 landscape:gap-2",children:[u.jsx("div",{className:"w-1.5 h-8 landscape:h-6 bg-[var(--brand-primary)] rounded-full shadow-[0_0_10px_rgba(249,115,22,0.4)]"}),u.jsx("h1",{className:"text-2xl sm:text-3xl landscape:text-xl font-bold tracking-[0.1em] text-[var(--text-primary)]",children:"Logs".split("").map((H,ae)=>u.jsx("span",{className:"animate-letter-pop",style:{animationDelay:`${300+(H===" "?0:ae*50)}ms`},children:H===" "?"":H},ae))})]}),u.jsxs("button",{onClick:se,className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-bold px-6 py-2.5 sm:py-3 landscape:py-0.5 landscape:h-7 rounded-xl flex items-center justify-center gap-3 landscape:gap-1.5 transition-all shadow-lg hover:scale-105 active:scale-95 text-xs sm:text-sm landscape:text-[10px] tracking-wider",children:[u.jsx(hd,{className:"text-lg landscape:text-xs"}),u.jsx("span",{children:" PDF"})]})]}),T&&u.jsx("div",{className:"fixed inset-0 z-40 bg-transparent",onClick:()=>D(null)}),u.jsx("div",{style:{animationDelay:"100ms"},className:"mb-8 landscape:mb-2 p-4 sm:p-6 landscape:p-2 rounded-2xl bg-[var(--surface-card)] shadow-lg transition-all duration-300 animate-slide-up opacity-0",children:u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-6 items-end",children:[u.jsxs("div",{className:"sm:col-span-2 lg:col-span-5",children:[u.jsx("label",{className:"block text-xs font-medium text-[var(--brand-primary)] mb-2 ml-1 tracking-wider",children:"Date range filter"}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 landscape:gap-1 p-2 sm:p-1.5 landscape:p-0.5 rounded-xl bg-[var(--surface-main)] focus-within:bg-[var(--surface-card)] focus-within:ring-4 focus-within:ring-[var(--brand-primary)]/10 transition-all shadow-inner border border-[var(--border-default)]/50 overflow-hidden",children:[u.jsx("input",{type:"date",value:W.start_date,onChange:H=>Ne({...W,start_date:H.target.value,page:1}),className:"w-full sm:w-auto flex-1 min-w-0 sm:min-w-[110px] bg-transparent border-none text-[var(--text-primary)] text-xs font-medium focus:ring-0 outline-none cursor-pointer px-1 sm:px-2 accent-[var(--brand-primary)] [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-calendar-picker-indicator]:hover:opacity-70 transition-all opacity-80 hover:opacity-100 h-10 sm:h-auto landscape:h-6"}),u.jsx("span",{className:"text-[var(--brand-primary)] text-[10px] font-medium opacity-60 shrink-0 text-center sm:text-left py-1 sm:py-0",children:"To"}),u.jsx("input",{type:"date",value:W.end_date,onChange:H=>Ne({...W,end_date:H.target.value,page:1}),className:"w-full sm:w-auto flex-1 min-w-0 sm:min-w-[110px] bg-transparent border-none text-[var(--text-primary)] text-xs font-medium focus:ring-0 outline-none cursor-pointer px-1 sm:px-2 accent-[var(--brand-primary)] [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-calendar-picker-indicator]:hover:opacity-70 transition-all opacity-80 hover:opacity-100 h-10 sm:h-auto landscape:h-6"}),u.jsx(gb,{className:"hidden sm:block w-4 h-4 text-[var(--brand-primary)] mr-2 shrink-0 opacity-80"})]})]}),u.jsx("div",{className:"lg:col-span-2 lg:col-start-11 flex justify-end",children:u.jsxs("div",{className:"w-full sm:w-auto",children:[u.jsx("label",{className:"hidden lg:block text-xs font-medium text-transparent mb-2 ml-1 tracking-wider",children:"."}),u.jsx("button",{onClick:ue,className:"w-full px-6 py-3 landscape:py-0.5 landscape:h-7 rounded-xl bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] transition-all font-semibold text-xs shadow-lg h-[48px] flex items-center justify-center tracking-widest active:scale-95 whitespace-nowrap",children:"Reset"})]})})]})}),u.jsxs("div",{className:"rounded-xl overflow-hidden bg-[var(--surface-card)] shadow-lg",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[1200px]",children:[u.jsx("thead",{className:"bg-[var(--brand-primary)] text-white",children:u.jsxs("tr",{className:"text-white",children:[u.jsx("th",{className:"px-4 py-3 landscape:py-2 text-left text-lg sm:text-xl landscape:text-sm tracking-wider border-r border-[var(--border-default)] w-20",children:"S.No"}),u.jsx("th",{className:"px-4 py-3 landscape:py-2 text-center text-lg sm:text-xl landscape:text-sm tracking-wider border-r border-[var(--border-default)]",children:u.jsx("div",{className:"flex items-center justify-center gap-2",children:u.jsxs("span",{children:["Bill Date ",u.jsx("span",{className:"text-sm landscape:text-[10px] opacity-70",children:"/ ID"})]})})}),u.jsxs("th",{className:"px-4 py-3 landscape:py-2 text-left text-lg sm:text-xl landscape:text-sm tracking-wider border-r border-[var(--border-default)] relative group",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-pointer hover:opacity-70 transition-colors",onClick:()=>U("unit"),children:[u.jsx("span",{children:"Unit"}),u.jsx("div",{className:"p-1 hover:bg-black/10 rounded-md transition-all active:scale-90",onClick:H=>{H.stopPropagation(),W.unit_id&&Ne(ae=>({...ae,unit_id:"",page:1})),D(T==="unit"?null:"unit")},children:u.jsx(Ac,{className:`text-white transition-all scale-110 drop-shadow-sm ${W.unit_id?"opacity-100 scale-125":"opacity-80 group-hover:opacity-100"}`,style:{strokeWidth:"3px"}})})]}),T==="unit"&&u.jsxs("div",{className:"absolute top-full left-0 mt-1 w-48 bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl shadow-2xl z-50 py-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[u.jsx("div",{className:"px-3 py-1.5 text-[10px] font-medium text-[var(--brand-primary)] border-b border-[var(--border-default)] mb-1",children:"Select Unit"}),u.jsx("button",{onClick:()=>{Ne({...W,unit_id:"",page:1}),D(null)},className:`w-full px-4 py-2 text-left text-xs font-medium hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${W.unit_id?"":"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]"}`,children:"All Units"}),r.map(H=>u.jsx("button",{onClick:()=>{Ne({...W,unit_id:W.unit_id===H.id?"":H.id,page:1}),D(null)},className:`w-full px-4 py-2 text-left text-xs font-medium hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${W.unit_id===H.id?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":""}`,children:H.name},H.id))]})]}),u.jsx("th",{className:"px-4 py-3 landscape:py-2 text-left text-lg sm:text-xl landscape:text-sm tracking-wider border-r border-[var(--border-default)]",children:u.jsx("div",{className:"flex items-center justify-between gap-2",children:u.jsx("span",{children:"Menus"})})}),u.jsx("th",{className:"px-4 py-3 landscape:py-2 text-center text-lg sm:text-xl landscape:text-sm tracking-wider border-r border-[var(--border-default)]",children:u.jsx("div",{className:"flex items-center justify-center gap-2",children:u.jsx("span",{children:"Qty"})})}),u.jsx("th",{className:"px-4 py-3 landscape:py-2 text-right text-lg sm:text-xl landscape:text-sm tracking-wider border-r border-[var(--border-default)]",children:u.jsx("div",{className:"flex items-center justify-end gap-2",children:u.jsx("span",{children:"Amount"})})}),u.jsxs("th",{className:"px-4 py-3 landscape:py-2 text-center text-lg sm:text-xl landscape:text-sm tracking-wider border-r border-[var(--border-default)] relative group",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 cursor-pointer hover:opacity-70 transition-colors",onClick:()=>U("payment_mode"),children:[u.jsx("span",{children:"Payment Mode"}),u.jsx("div",{className:"p-1 hover:bg-black/10 rounded-md transition-all active:scale-90",onClick:H=>{H.stopPropagation(),W.payment_mode&&Ne(ae=>({...ae,payment_mode:"",page:1})),D(T==="mode"?null:"mode")},children:u.jsx(Ac,{className:`text-white transition-all scale-110 drop-shadow-sm ${W.payment_mode?"opacity-100 scale-125":"opacity-80 group-hover:opacity-100"}`,style:{strokeWidth:"3px"}})})]}),T==="mode"&&u.jsxs("div",{className:"absolute top-full left-0 mt-1 w-40 bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl shadow-2xl z-50 py-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[u.jsx("div",{className:"px-3 py-1.5 text-[10px] font-semibold text-[var(--brand-primary)] border-b border-[var(--border-default)] mb-1",children:"Select Mode"}),["All Modes","UPI","GUEST","FREE"].map(H=>u.jsx("button",{onClick:()=>{const ae=H==="All Modes"?"":H;Ne({...W,payment_mode:W.payment_mode===ae?"":ae,page:1}),D(null)},className:`w-full px-4 py-2 text-left text-xs font-bold hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${W.payment_mode===H||H==="All Modes"&&!W.payment_mode?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":""}`,children:H},H))]})]}),u.jsxs("th",{className:"px-4 py-3 landscape:py-2 text-center text-lg sm:text-xl landscape:text-sm tracking-wider border-r border-[var(--border-default)] relative group",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 cursor-pointer hover:opacity-70 transition-colors",onClick:()=>U("payment_status"),children:[u.jsx("span",{children:"Status"}),u.jsx("div",{className:"p-1 hover:bg-black/10 rounded-md transition-all active:scale-90",onClick:H=>{H.stopPropagation(),W.payment_status&&Ne(ae=>({...ae,payment_status:"",page:1})),D(T==="status"?null:"status")},children:u.jsx(Ac,{className:`text-white transition-all scale-110 drop-shadow-sm ${W.payment_status?"opacity-100 scale-125":"opacity-80 group-hover:opacity-100"}`,style:{strokeWidth:"3px"}})})]}),T==="status"&&u.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-1 w-40 bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl shadow-2xl z-50 py-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[u.jsx("div",{className:"px-3 py-1.5 text-[10px] font-semibold text-[var(--brand-primary)] border-b border-[var(--border-default)] mb-1",children:"Select Status"}),["All Status","PAID","PENDING","FAILED"].map(H=>u.jsx("button",{onClick:()=>{const ae=H==="All Status"?"":H;Ne({...W,payment_status:W.payment_status===ae?"":ae,page:1}),D(null)},className:`w-full px-4 py-2 text-left text-xs font-bold hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${W.payment_status===H||H==="All Status"&&!W.payment_status?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":""}`,children:H},H))]})]}),u.jsxs("th",{className:"px-4 py-3 landscape:py-2 text-center text-base sm:text-lg landscape:text-sm tracking-wider border-r border-[var(--border-default)] relative group",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 cursor-pointer hover:opacity-70 transition-colors",onClick:()=>U("is_printed"),children:[u.jsx("span",{children:"Printer Status"}),u.jsx("div",{className:"p-1 hover:bg-black/10 rounded-md transition-all active:scale-90",onClick:H=>{H.stopPropagation(),W.printer_status&&Ne(ae=>({...ae,printer_status:"",page:1})),D(T==="printer_status"?null:"printer_status")},children:u.jsx(Ac,{className:`text-white transition-all scale-110 drop-shadow-sm ${W.printer_status?"opacity-100 scale-125":"opacity-80 group-hover:opacity-100"}`,style:{strokeWidth:"3px"}})})]}),T==="printer_status"&&u.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-1 w-40 bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl shadow-2xl z-50 py-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[u.jsx("div",{className:"px-3 py-1.5 text-[10px] font-semibold text-[var(--brand-primary)] border-b border-[var(--border-default)] mb-1",children:"Select Status"}),["All Status","Printed","Not Printed"].map(H=>u.jsx("button",{onClick:()=>{const ae=H==="All Status"?"":H;Ne({...W,printer_status:W.printer_status===ae?"":ae,page:1}),D(null)},className:`w-full px-4 py-2 text-left text-xs font-bold hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${W.printer_status===H||H==="All Status"&&!W.printer_status?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":""}`,children:H},H))]})]}),u.jsx("th",{className:"px-4 py-3 landscape:py-2 text-center text-lg sm:text-xl landscape:text-sm tracking-wider w-20",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]",children:Array.isArray(le)&&le.map((H,ae)=>{var ge,ve;return u.jsxs("tr",{style:{animationDelay:`${ae*30}ms`},className:"hover:bg-[var(--surface-muted)]/30 transition-colors animate-slide-up opacity-0",children:[u.jsx("td",{className:"px-4 py-2 landscape:py-1 text-base landscape:text-xs font-medium opacity-60",children:(W.page-1)*W.limit+ae+1}),u.jsxs("td",{className:"px-4 py-2 landscape:py-1 text-base landscape:text-xs font-medium text-center whitespace-nowrap",children:[u.jsx("div",{children:ee(H.bill_date)}),u.jsxs("div",{className:"text-sm landscape:text-xs font-bold opacity-90 font-mono tracking-wider",children:["#",H.bill_id||H.order_id||H.id]})]}),u.jsx("td",{className:"px-4 py-2 landscape:py-1 text-base landscape:text-xs",children:((ge=H.unit)==null?void 0:ge.name)||"N/A"}),u.jsx("td",{className:"px-4 py-2 landscape:py-1 text-base landscape:text-xs font-bold text-[var(--text-primary)]",children:H.item_name_en||H.product_name||H.product_name_en||((ve=H.product)==null?void 0:ve.name_en)||"N/A"}),u.jsx("td",{className:"px-4 py-2 landscape:py-1 text-base landscape:text-xs text-center font-medium",children:H.quantity||1}),u.jsxs("td",{className:"px-4 py-2 landscape:py-1 text-base landscape:text-xs text-right font-bold text-emerald-500",children:["",parseFloat(H.line_total??H.amount??0).toFixed(2)]}),u.jsx("td",{className:"px-4 py-2 landscape:py-1 text-base landscape:text-xs text-center",children:u.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-semibold tracking-tight ${H.payment_mode==="CASH"?"bg-emerald-500/10 text-emerald-500 border border-emerald-500/20":H.payment_mode==="UPI"?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)] border border-[var(--brand-primary)]/20":H.payment_mode==="GUEST"?"bg-amber-500/10 text-amber-500 border border-amber-500/20":H.payment_mode==="FREE"?"bg-purple-500/10 text-purple-500 border border-purple-500/20":"bg-[var(--surface-muted)] text-[var(--text-secondary)] border border-[var(--border-default)]"}`,children:H.payment_mode||"N/A"})}),u.jsx("td",{className:"px-4 py-2 landscape:py-1 text-base landscape:text-xs text-center",children:u.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-semibold border ${H.payment_status==="PAID"?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":H.payment_status==="PENDING"?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)] border-[var(--brand-primary)]/20":"bg-rose-500/10 text-rose-500 border-rose-500/20"}`,children:H.payment_status||"N/A"})}),u.jsx("td",{className:"px-4 py-2 landscape:py-1 text-base landscape:text-xs font-medium text-center",children:u.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-semibold ${H.is_printed?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:H.is_printed?"Printed":"Not Printed"})}),u.jsx("td",{className:"px-4 py-2 landscape:py-1 text-center flex justify-center items-center w-20",children:u.jsx("div",{className:"flex items-center justify-center gap-2",children:u.jsx("button",{onClick:de=>{de.stopPropagation(),te(H.order_id||H.id,H.id)},className:"p-2 landscape:p-1 rounded-xl bg-[var(--brand-primary)]/10 text-[var(--brand-primary)] hover:bg-[var(--brand-primary)] hover:text-white transition-all active:scale-90 hover:shadow-md group shadow-sm border border-[var(--brand-primary)]/20",title:"Direct Print Bill",children:u.jsx(zR,{size:16,className:"landscape:size-3.5 transition-transform group-hover:scale-110"})})})})]},`${H.id}-${H.item_id||"noitem"}`)})})]})}),u.jsxs("div",{className:"px-6 py-5 landscape:py-2 flex flex-col sm:flex-row items-center justify-between border-t border-[var(--border-default)] bg-[var(--surface-card)] gap-4",children:[u.jsxs("div",{className:"text-xs sm:text-sm landscape:text-[10px] text-[var(--text-secondary)] font-medium",children:["Showing ",u.jsxs("span",{className:"text-[var(--text-primary)]",children:[(W.page-1)*W.limit+1,"",Math.min(W.page*W.limit,Z.total)]})," of ",u.jsx("span",{className:"text-[var(--brand-primary)] font-semibold",children:Z.total})," records"]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 landscape:gap-2 justify-center",children:[u.jsxs("div",{className:"flex items-center gap-2 landscape:gap-1",children:[u.jsxs("button",{onClick:()=>Ne({...W,page:Math.max(1,parseInt(Z.page)-1)}),disabled:parseInt(Z.page)<=1,className:"px-4 h-9 landscape:h-7 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-main)] border border-[var(--border-default)] text-[var(--text-secondary)] disabled:opacity-30 hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)] transition-all shadow-sm font-semibold text-[10px] uppercase",children:[u.jsx(Kl,{size:16,className:"landscape:size-3.5"})," Back"]}),u.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Z.totalPages},(H,ae)=>ae+1).map(H=>{const ae=parseInt(Z.page)===H;return Z.totalPages>5&&H>1&&H<Z.totalPages&&Math.abs(H-parseInt(Z.page))>1?H===2||H===Z.totalPages-1?u.jsx("span",{className:"px-1 text-[var(--text-secondary)] opacity-50",children:"..."},H):null:u.jsx("button",{onClick:()=>Ne({...W,page:H}),className:`w-9 h-9 landscape:w-7 landscape:h-7 flex items-center justify-center rounded-xl text-xs landscape:text-[10px] font-semibold transition-all border
                          ${ae?"bg-[var(--brand-primary)] border-[var(--brand-primary)] text-white shadow-lg scale-105":"bg-[var(--surface-main)] border-[var(--border-default)] text-[var(--text-secondary)] hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)]"}`,children:H},H)})}),u.jsxs("button",{onClick:()=>Ne({...W,page:Math.min(Z.totalPages,parseInt(Z.page)+1)}),disabled:parseInt(Z.page)>=Z.totalPages,className:"px-4 h-9 landscape:h-7 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-main)] border border-[var(--border-default)] text-[var(--text-secondary)] disabled:opacity-30 hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)] transition-all shadow-sm font-semibold text-[10px] uppercase",children:["Next ",u.jsx(Zl,{size:16,className:"landscape:size-3.5"})]})]}),u.jsxs("div",{className:"relative shrink-0",children:[u.jsxs("button",{onClick:H=>{H.stopPropagation(),z(!R)},className:"bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl py-2.5 landscape:py-1 text-[12px] landscape:text-[10px] font-semibold text-[var(--text-primary)] cursor-pointer outline-none transition-all shadow-sm flex items-center justify-center relative w-[130px] landscape:w-[100px]",children:[W.limit," Pages",u.jsx(Gl,{size:14,className:`absolute right-3 transition-transform duration-300 ${R?"rotate-180":""} text-[var(--brand-primary)]`})]}),R&&u.jsx("div",{className:"absolute bottom-full left-0 mb-2 w-[130px] bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-2xl shadow-2xl z-[100] py-1 overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-300",children:[10,20,50,100].map(H=>u.jsxs("button",{onClick:ae=>{ae.stopPropagation(),Ne({...W,limit:H,page:1}),z(!1)},className:`w-full py-3.5 text-center text-[12px] font-medium transition-all
                          ${W.limit===H?"bg-[var(--brand-primary)] text-white":"text-[var(--text-primary)] hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)]"}`,children:[H," Pages"]},H))})]})]})]})]})]})})},Oae=()=>{const[e,t]=I.useState([]),[r,n]=I.useState([]),[a,i]=I.useState(!0),[c,f]=I.useState(null),[m,p]=I.useState(!1),[x,y]=I.useState(null),[S,N]=I.useState({username:"",password:"",role:"user",unit_id:"",is_active:!0}),[j,_]=I.useState(!1),[T,D]=I.useState(!1),[R,z]=I.useState(null),[G,$]=I.useState({top:0,left:0}),{user:X}=Xi(),V=(X==null?void 0:X.role)==="admin"||(X==null?void 0:X.role)==="unit_admin",[Y,W]=I.useState({search:"",role:"",unit_id:"",is_active:"",page:1,limit:50}),[Ne,Z]=I.useState({total:0,page:1,totalPages:1}),Q=I.useCallback(async()=>{var ee,Se;try{i(!0);const le=new URLSearchParams;Y.search&&le.append("search",Y.search),Y.role&&le.append("role",Y.role),Y.unit_id&&le.append("unit_id",Y.unit_id),Y.is_active!==""&&le.append("is_active",Y.is_active),le.append("page",Y.page),le.append("limit",Y.limit);const U=await qt.get(`/users?${le.toString()}`);if(U.data&&U.data.users){let H=U.data.users,ae=U.data.total||U.data.count||H.length||0;(X==null?void 0:X.role)==="unit_admin"&&(X!=null&&X.unit_id)&&(H=H.filter(ge=>ge.unit_id===X.unit_id),ae=H.length),t(H),Z({total:ae,page:U.data.page,totalPages:U.data.totalPages||Math.ceil(ae/U.data.limit)})}else{const H=await qt.get("/users");let ae=Array.isArray(H.data)?H.data:((ee=H.data)==null?void 0:ee.users)||[];(X==null?void 0:X.role)==="unit_admin"&&(X!=null&&X.unit_id)&&(ae=ae.filter(ge=>ge.unit_id===X.unit_id)),t(ae),Z({total:ae.length,page:1,totalPages:1})}}catch(le){console.error("Fetch users error:",le);try{const U=await qt.get("/users"),H=Array.isArray(U.data)?U.data:((Se=U.data)==null?void 0:Se.users)||[];t(H),Z({total:H.length,page:1,totalPages:1})}catch(U){console.error("Final fallback error:",U)}}finally{i(!1)}},[Y]),ye=I.useCallback(async()=>{var ee;try{const Se=await qt.get("/units");n(Array.isArray(Se.data)?Se.data:((ee=Se.data)==null?void 0:ee.units)||[])}catch(Se){console.error("Fetch units error:",Se)}},[]);I.useEffect(()=>{const ee=setTimeout(()=>{Q()},Y.search?500:0);return()=>clearTimeout(ee)},[Q,Y]),I.useEffect(()=>{ye()},[ye]),I.useEffect(()=>{const ee=()=>{f(null),D(!1)};return document.addEventListener("click",ee),()=>document.removeEventListener("click",ee)},[]);const ie=(ee=null)=>{var Se;ee?(y(ee),N({username:ee.username,password:"",role:ee.role,unit_id:ee.unit_id||((Se=ee.unit)==null?void 0:Se.id)||"",is_active:ee.is_active??!0})):(y(null),N({username:"",password:"",role:"user",unit_id:"",is_active:!0})),p(!0)},q=()=>{p(!1),y(null),N({username:"",password:"",role:"user",unit_id:"",is_active:!0})},te=async ee=>{var Se,le;ee.preventDefault();try{if(x){const U={username:S.username,role:S.role,is_active:S.is_active};S.password&&(U.password=S.password),["user","chef"].includes(S.role)&&(U.unit_id=S.unit_id),await qt.put(`/users/${x.id}`,U)}else{if(!S.password){alert("Password is required for new users");return}if(["user","chef"].includes(S.role)&&!S.unit_id){alert("Unit assignment is required for this role");return}await qt.post("/users",S)}q(),Q()}catch(U){console.error("Save user error:",U),alert(((le=(Se=U.response)==null?void 0:Se.data)==null?void 0:le.error)||"Failed to save user. Please try again.")}},se=async ee=>{var Se,le;if(confirm("Are you sure you want to delete this user?"))try{await qt.delete(`/users/${ee}`),Q()}catch(U){console.error("Delete user error:",U),alert(((le=(Se=U.response)==null?void 0:Se.data)==null?void 0:le.error)||"Failed to delete user. Please try again.")}},ue=async()=>{var ee;try{const Se=new URLSearchParams;Y.search&&Se.append("search",Y.search),Y.role&&Se.append("role",Y.role),Y.unit_id&&Se.append("unit_id",Y.unit_id),Y.is_active!==""&&Se.append("is_active",Y.is_active),Se.append("limit","10000");const U=((ee=(await qt.get(`/users?${Se.toString()}`)).data)==null?void 0:ee.users)||[];if(U.length===0){alert("No data to export");return}const H=new wr("p","mm","a4"),ae=H.internal.pageSize.getWidth(),ge=15;let ve=20;H.setFontSize(14),H.setTextColor(30,41,59),H.setFont(void 0,"bold"),H.text("USER MANAGEMENT REPORT",ge,ve),ve+=10,H.setDrawColor(226,232,240),H.line(ge,ve,ae-15,ve),ve+=10,H.setFontSize(10),H.setTextColor(30,41,59),H.setFont(void 0,"bold"),H.text(`Generated On: ${new Date().toLocaleString()}`,ge,ve),H.text(`Total Records: ${U.length}`,ae-15,ve,{align:"right"}),ve+=12,H.setFillColor(250,198,57),H.rect(ge,ve,ae-ge*2,10,"F"),H.setFont(void 0,"bold"),H.setTextColor(0,0,0),H.setFontSize(9),H.text("S.No",ge+2,ve+7),H.text("Username",ge+15,ve+7),H.text("Role",ge+60,ve+7),H.text("Unit Assignment",ge+90,ve+7),H.text("Status",ge+145,ve+7),H.text("Created",ge+180,ve+7,{align:"right"}),ve+=10,H.setTextColor(30,41,59),H.setFont(void 0,"normal"),H.setFontSize(8),U.forEach((de,ke)=>{var ne;ve>270&&(H.addPage(),ve=20,H.setFillColor(250,198,57),H.rect(ge,ve,ae-ge*2,10,"F"),H.setFont(void 0,"bold"),H.setTextColor(0,0,0),H.text("S.No",ge+2,ve+7),H.text("Username",ge+15,ve+7),H.text("Role",ge+60,ve+7),H.text("Unit",ge+95,ve+7),H.text("Status",ge+145,ve+7),H.text("Created",ge+180,ve+7,{align:"right"}),ve+=10,H.setTextColor(30,41,59),H.setFont(void 0,"normal"));const me=String(ke+1),xe=de.username||"-",Oe=xe.charAt(0).toUpperCase()+xe.slice(1),oe=de.role?de.role.charAt(0).toUpperCase()+de.role.slice(1):"-",Le=((ne=de.unit)==null?void 0:ne.name)||(de.role==="admin"?"All Access":"-"),Ge=de.is_active?"Active":"Inactive",Pe=new Date(de.createdAt).toLocaleDateString("en-IN");H.text(me,ge+2,ve+7),H.text(Oe,ge+15,ve+7),H.text(oe,ge+60,ve+7),H.text(Le,ge+95,ve+7),de.is_active?H.setTextColor(16,185,129):H.setTextColor(225,29,72),H.text(Ge,ge+145,ve+7),H.setTextColor(30,41,59),H.text(Pe,ge+180,ve+7,{align:"right"}),ve+=8,H.setDrawColor(241,245,249),H.line(ge,ve,ae-15,ve)}),H.save(`users-report-${new Date().toLocaleDateString("en-IN").replace(/\//g,"-")}.pdf`)}catch(Se){console.error("PDF Export failed:",Se),alert("Failed to export PDF. Please try again.")}};return a&&e.length===0?u.jsx(ui,{children:u.jsx(Vs,{})}):u.jsxs(ui,{children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6 landscape:gap-2 mb-6 sm:mb-10 landscape:mb-2 mt-2",children:[u.jsxs("div",{className:"flex flex-col gap-4 w-full md:w-auto",children:[u.jsxs("div",{className:"flex items-center gap-3 landscape:gap-2 animate-slide-up opacity-0",children:[u.jsx("div",{className:"w-1.5 h-10 landscape:h-6 bg-[var(--brand-primary)] rounded-full shadow-[0_0_15px_rgba(249,115,22,0.4)]"}),u.jsx("h1",{className:"text-xl sm:text-2xl landscape:text-lg font-medium tracking-[0.1em] text-[var(--text-primary)]",children:"Users".split("").map((ee,Se)=>u.jsx("span",{className:"animate-letter-pop",style:{animationDelay:`${300+(ee===" "?0:Se*50)}ms`},children:ee===" "?"":ee},Se))})]}),u.jsxs("div",{style:{animationDelay:"100ms"},className:"relative w-full sm:w-[400px] group animate-slide-up opacity-0",children:[u.jsx("input",{type:"text",placeholder:"Search by username...",value:Y.search,onChange:ee=>W({...Y,search:ee.target.value,page:1}),className:"w-full px-10 sm:px-12 py-3 sm:py-3.5 landscape:py-1.5 text-center rounded-xl sm:rounded-2xl border border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-primary)] focus:outline-none focus:ring-2 sm:focus:ring-4 focus:ring-[var(--brand-primary)]/20 focus:border-[var(--brand-primary)] font-medium text-xs sm:text-sm landscape:text-[11px] transition-all shadow-sm hover:border-[var(--brand-primary)]/50"}),u.jsx(wd,{className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] group-focus-within:text-[var(--brand-primary)] transition-colors",size:18})]})]}),u.jsxs("div",{style:{animationDelay:"200ms"},className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto mt-auto lg:mt-0 animate-slide-up opacity-0",children:[V&&u.jsxs("button",{onClick:()=>ie(),className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-semibold px-5 sm:px-6 py-2.5 sm:py-3 landscape:py-1 landscape:h-8 rounded-xl flex items-center justify-center gap-2 sm:gap-3 transition-all shadow-[0_4px_15px_rgba(250,198,57,0.3)] hover:scale-105 active:scale-95 text-xs sm:text-sm landscape:text-[10px]",children:[u.jsx(Oc,{className:"text-sm sm:text-base landscape:text-xs"}),u.jsx("span",{children:"Add User"})]}),u.jsxs("button",{onClick:ue,className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-semibold px-5 sm:px-6 py-2.5 sm:py-3 landscape:py-1 landscape:h-8 rounded-xl flex items-center justify-center gap-2 sm:gap-3 transition-all shadow-[0_4px_15px_rgba(250,198,57,0.3)] hover:scale-105 active:scale-95 text-xs sm:text-sm landscape:text-[10px] tracking-wider",children:[u.jsx(hd,{className:"text-lg landscape:text-sm"}),u.jsx("span",{children:"PDF"})]})]})]}),u.jsxs("div",{id:"users-table-container",className:"rounded-xl overflow-hidden bg-[var(--surface-card)] shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-[var(--border-default)]",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[1200px] border-separate border-spacing-0",children:[u.jsx("thead",{className:"bg-[var(--brand-primary)] text-white",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-5 landscape:py-2 text-left text-sm landscape:text-xs font-black uppercase tracking-[0.12em] border-b border-r border-black/5 first:rounded-tl-xl w-14",children:"S.No"}),u.jsx("th",{className:"px-6 py-5 landscape:py-2 text-left text-lg sm:text-xl landscape:text-sm tracking-wider border-b border-r border-black/5",children:"Username"}),u.jsxs("th",{className:"px-6 py-5 landscape:py-2 text-left text-lg sm:text-xl landscape:text-sm tracking-wider border-b border-r border-black/5 relative group",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-pointer hover:text-black/70 transition-colors",children:[u.jsx("span",{children:"Role"}),u.jsx("div",{className:"p-1 hover:bg-black/10 rounded-md transition-all active:scale-90",onClick:ee=>{ee.stopPropagation(),Y.role&&W(Se=>({...Se,role:"",page:1})),f(c==="role"?null:"role")},children:u.jsx(Ac,{className:`text-black transition-all scale-110 drop-shadow-sm ${Y.role?"opacity-100 scale-125":"opacity-80 group-hover:opacity-100"}`,style:{strokeWidth:"3px"}})})]}),c==="role"&&u.jsxs("div",{className:"absolute top-full left-0 mt-1 w-40 bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl shadow-2xl z-50 py-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[u.jsx("div",{className:"px-3 py-1.5 text-[10px] font-semibold text-[var(--brand-primary)] border-b border-[var(--border-default)] mb-1",children:"Filter Role"}),["All","admin","chef","user"].map(ee=>u.jsx("button",{onClick:()=>{W({...Y,role:ee==="All"?"":ee,page:1}),f(null)},className:`w-full px-4 py-2 text-left text-xs font-medium hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${Y.role===ee||ee==="All"&&!Y.role?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":""}`,children:ee==="All"?"All Roles":ee.charAt(0).toUpperCase()+ee.slice(1)},ee))]})]}),u.jsxs("th",{className:"px-6 py-5 landscape:py-2 text-left text-lg sm:text-xl landscape:text-sm tracking-wider border-b border-r border-black/5 relative group",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-pointer hover:text-black/70 transition-colors",children:[u.jsx("span",{children:"Unit"}),u.jsx("div",{className:"p-1 hover:bg-black/10 rounded-md transition-all active:scale-90",onClick:ee=>{ee.stopPropagation(),Y.unit_id&&W(Se=>({...Se,unit_id:"",page:1})),f(c==="unit"?null:"unit")},children:u.jsx(Ac,{className:`text-black transition-all scale-110 drop-shadow-sm ${Y.unit_id?"opacity-100 scale-125":"opacity-80 group-hover:opacity-100"}`,style:{strokeWidth:"3px"}})})]}),c==="unit"&&u.jsxs("div",{className:"absolute top-full left-0 mt-1 w-48 bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl shadow-2xl z-50 py-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[u.jsx("div",{className:"px-3 py-1.5 text-[10px] font-semibold text-[var(--brand-primary)] border-b border-[var(--border-default)] mb-1",children:"Filter Unit"}),u.jsx("button",{onClick:()=>{W({...Y,unit_id:"",page:1}),f(null)},className:`w-full px-4 py-2 text-left text-xs font-medium hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${Y.unit_id?"":"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]"}`,children:"All Units"}),r.map(ee=>u.jsx("button",{onClick:()=>{W({...Y,unit_id:ee.id,page:1}),f(null)},className:`w-full px-4 py-2 text-left text-xs font-bold hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${Y.unit_id===ee.id?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":""}`,children:ee.name},ee.id))]})]}),u.jsxs("th",{className:"px-6 py-5 landscape:py-2 text-left text-lg sm:text-xl landscape:text-sm tracking-wider border-b border-r border-black/5 relative group",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-pointer hover:text-black/70 transition-colors",children:[u.jsx("span",{children:"Status"}),u.jsx("div",{className:"p-1 hover:bg-black/10 rounded-md transition-all active:scale-90",onClick:ee=>{ee.stopPropagation(),Y.is_active!==""&&W(Se=>({...Se,is_active:"",page:1})),f(c==="status"?null:"status")},children:u.jsx(Ac,{className:`text-black transition-all scale-110 drop-shadow-sm ${Y.is_active!==""?"opacity-100 scale-125":"opacity-80 group-hover:opacity-100"}`,style:{strokeWidth:"3px"}})})]}),c==="status"&&u.jsxs("div",{className:"absolute top-full left-0 mt-1 w-40 bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl shadow-2xl z-50 py-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[u.jsx("div",{className:"px-3 py-1.5 text-[10px] font-semibold text-[var(--brand-primary)] border-b border-[var(--border-default)] mb-1",children:"Filter Status"}),["All","Active","Inactive"].map(ee=>u.jsx("button",{onClick:()=>{W({...Y,is_active:ee==="All"?"":ee==="Active"?"1":"0",page:1}),f(null)},className:`w-full px-4 py-2 text-left text-xs font-medium hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${ee==="All"&&Y.is_active===""||ee==="Active"&&Y.is_active==="1"||ee==="Inactive"&&Y.is_active==="0"?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":""}`,children:ee},ee))]})]}),u.jsx("th",{className:"px-6 py-5 landscape:py-2 text-left text-sm sm:text-base landscape:text-xs uppercase tracking-wider border-b border-r border-black/5",children:"Created"}),u.jsx("th",{className:"px-6 py-5 landscape:py-2 text-center text-sm sm:text-base landscape:text-xs uppercase tracking-wider border-b border-r border-black/5 last:rounded-tr-xl",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]",children:Array.isArray(e)&&e.map((ee,Se)=>u.jsxs("tr",{style:{animationDelay:`${Se*30}ms`},className:"hover:bg-[var(--surface-muted)]/30 transition-colors animate-slide-up opacity-0",children:[u.jsx("td",{className:"px-6 py-4 text-base font-medium opacity-60",children:(Y.page-1)*Y.limit+Se+1}),u.jsx("td",{className:"px-6 py-4 text-base font-medium text-[var(--text-primary)] capitalize",children:ee.username}),u.jsx("td",{className:"px-6 py-4 text-base",children:u.jsxs("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold tracking-tight flex items-center gap-1.5 w-fit border ${ee.role==="admin"?"bg-amber-500/10 text-amber-500 border-amber-500/20":ee.role==="unit_admin"?"bg-purple-500/10 text-purple-500 border-purple-500/20":ee.role==="chef"?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":ee.role==="employee"?"bg-teal-500/10 text-teal-500 border-teal-500/20":"bg-blue-500/10 text-blue-500 border-blue-500/20"}`,children:[ee.role==="admin"?u.jsx(WR,{size:10}):ee.role==="chef"?u.jsx(GR,{size:10}):u.jsx(YR,{size:10}),u.jsx("span",{children:ee.role})]})}),u.jsx("td",{className:"px-6 py-4 text-base text-[var(--text-secondary)] font-medium",children:ee.unit?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[var(--text-primary)] font-medium",children:ee.unit.name}),u.jsx("span",{className:"text-xs font-black text-[var(--text-secondary)]",children:ee.unit.code})]}):u.jsx("span",{className:"opacity-40 italic",children:ee.role==="admin"?"All Access":"No Unit"})}),u.jsx("td",{className:"px-6 py-4 text-base",children:u.jsx("div",{className:"flex items-center gap-2",children:ee.is_active?u.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-emerald-500/10 text-emerald-500 border border-emerald-500/20",children:"Active"}):u.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-rose-500/10 text-rose-500 border border-rose-500/20",children:"Inactive"})})}),u.jsx("td",{className:"px-6 py-4 text-base text-[var(--text-secondary)] font-medium",children:new Date(ee.createdAt).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"})}),u.jsx("td",{className:"px-6 py-4 text-base text-center relative",children:u.jsx("button",{onClick:le=>{le.stopPropagation();const U=le.currentTarget.getBoundingClientRect();$({top:U.bottom+10,right:window.innerWidth-U.right}),z(R===ee.id?null:ee.id)},className:`p-2 rounded-lg hover:bg-[var(--surface-muted)] text-[var(--brand-primary)] transition-colors ${R===ee.id?"bg-[var(--surface-muted)]":""}`,children:u.jsx(zj,{className:"text-lg"})})})]},ee.id))})]})}),u.jsxs("div",{className:"px-6 py-5 flex flex-col sm:flex-row items-center justify-between border-t border-[var(--border-default)] bg-[var(--surface-card)] gap-4",children:[u.jsxs("div",{className:"text-xs sm:text-sm text-[var(--text-secondary)] font-medium",children:["Showing ",u.jsx("span",{className:"text-[var(--text-primary)]",children:(Ne.total||0)===0?"0-0":`${(Y.page-1)*Y.limit+1}${Math.min(Y.page*Y.limit,Ne.total||0)}`})," of ",u.jsx("span",{className:"text-[var(--brand-primary)]",children:Ne.total||0})," users"]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 justify-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>W({...Y,page:Math.max(1,Ne.page-1)}),disabled:Ne.page<=1,className:"px-4 landscape:px-3 h-9 landscape:h-7 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-main)] border border-[var(--border-default)] text-[var(--text-secondary)] disabled:opacity-30 hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)] transition-all shadow-sm font-semibold text-[10px] landscape:text-[9px] uppercase",children:[u.jsx(Kl,{size:16,className:"landscape:size-3"})," BACK"]}),u.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Ne.totalPages},(ee,Se)=>Se+1).map(ee=>{const Se=Ne.page===ee;return Ne.totalPages>5&&ee>1&&ee<Ne.totalPages&&Math.abs(ee-Ne.page)>1?ee===2||ee===Ne.totalPages-1?u.jsx("span",{className:"px-1 text-[var(--text-secondary)] opacity-50",children:"..."},ee):null:u.jsx("button",{onClick:()=>W({...Y,page:ee}),className:`w-9 h-9 landscape:w-7 landscape:h-7 flex items-center justify-center rounded-xl text-xs landscape:text-[9px] font-semibold transition-all border
                          ${Se?"bg-[var(--brand-primary)] border-[var(--brand-primary)] text-white shadow-[0_4px_15px_var(--brand-primary)]/40 scale-105":"bg-[var(--surface-main)] border-[var(--border-default)] text-[var(--text-secondary)] hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)]"}`,children:ee},ee)})}),u.jsxs("button",{onClick:()=>W({...Y,page:Math.min(Ne.totalPages,Ne.page+1)}),disabled:Ne.page>=Ne.totalPages,className:"px-4 landscape:px-3 h-9 landscape:h-7 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-main)] border border-[var(--border-default)] text-[var(--text-secondary)] disabled:opacity-30 hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)] transition-all shadow-sm font-semibold text-[10px] landscape:text-[9px] uppercase",children:["NEXT ",u.jsx(Zl,{size:16,className:"landscape:size-3"})]})]}),u.jsxs("div",{className:"relative shrink-0",children:[u.jsxs("button",{onClick:ee=>{ee.stopPropagation(),D(!T)},className:"bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl py-2.5 landscape:py-1 text-[12px] landscape:text-[10px] font-medium text-[var(--text-primary)] cursor-pointer outline-none transition-all shadow-sm flex items-center justify-center relative w-[130px] landscape:w-[110px]",children:[Y.limit," Pages",u.jsx(Gl,{size:14,className:`absolute right-3 transition-transform duration-300 ${T?"rotate-180":""} text-[var(--brand-primary)]`})]}),T&&u.jsx("div",{className:"absolute bottom-full left-0 mb-2 w-[130px] bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-2xl shadow-2xl z-[100] py-1 overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-300",children:[10,20,50,100,500].map(ee=>u.jsxs("button",{onClick:Se=>{Se.stopPropagation(),W({...Y,limit:ee,page:1}),D(!1)},className:`w-full py-3.5 text-center text-[12px] font-medium transition-all
                          ${Y.limit===ee?"bg-[var(--brand-primary)] text-white":"text-[var(--text-primary)] hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)]"}`,children:[ee," Pages"]},ee))})]})]})]})]}),m&&u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-start justify-center p-4 z-[100] overflow-y-auto transition-all animate-in fade-in duration-300 pt-10 sm:pt-20",children:u.jsxs("div",{className:"bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] text-[var(--text-primary)] rounded-3xl shadow-[0_0_50px_rgba(0,0,0,0.5)] p-5 sm:p-8 md:p-10 max-w-2xl w-full mb-10 relative animate-in slide-in-from-top-10 duration-500",children:[u.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold tracking-tight text-[var(--brand-primary)] mb-6 sm:mb-8 border-b-2 border-[var(--brand-primary)]/10 pb-4",children:x?"Edit User":"Add User"}),u.jsxs("form",{onSubmit:te,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block font-medium mb-2 pl-1",children:"Username"}),u.jsx("input",{type:"text",value:S.username,onChange:ee=>{const Se=ee.target.value;N({...S,username:Se.charAt(0).toUpperCase()+Se.slice(1)})},className:"w-full px-4 py-2.5 rounded-xl border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:border-[var(--brand-primary)] focus:ring-1 focus:ring-[var(--brand-primary)]/20 transition-all outline-none font-medium",placeholder:"Enter username",required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block font-medium mb-2 pl-1",children:["Password ",x&&u.jsx("span",{className:"text-[10px] font-normal text-[var(--text-secondary)] uppercase tracking-wider ml-1",children:"(Optional)"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:j?"text":"password",value:S.password,onChange:ee=>N({...S,password:ee.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:border-[var(--brand-primary)] focus:ring-1 focus:ring-[var(--brand-primary)]/20 transition-all outline-none font-medium pr-12",placeholder:"",required:!x}),u.jsx("button",{type:"button",onClick:()=>_(!j),className:"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] hover:text-[var(--brand-primary)] transition-all p-1.5 flex items-center justify-center",children:j?u.jsx(Bh,{size:18}):u.jsx(Fh,{size:18})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block font-medium mb-2 pl-1",children:"User Role"}),u.jsxs("div",{className:"relative group",children:[u.jsxs("select",{value:S.role,onChange:ee=>{const Se=ee.target.value;N({...S,role:Se,unit_id:Se==="admin"?"":S.unit_id})},className:"w-full appearance-none px-4 py-2.5 rounded-xl border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:border-[var(--brand-primary)] focus:ring-1 focus:ring-[var(--brand-primary)]/20 transition-all outline-none cursor-pointer font-medium",required:!0,children:[u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"chef",children:"Chef"}),u.jsx("option",{value:"admin",children:"Admin"})]}),u.jsx(Gl,{size:16,className:"absolute inset-y-0 right-4 my-auto pointer-events-none text-[var(--text-secondary)] opacity-50"})]})]}),["user","chef"].includes(S.role)?u.jsxs("div",{children:[u.jsxs("label",{className:"block font-medium mb-2 pl-1",children:["Assigned Unit ",u.jsx("span",{className:"text-rose-500",children:"*"})]}),u.jsxs("div",{className:"relative group",children:[u.jsxs("select",{value:S.unit_id,onChange:ee=>N({...S,unit_id:ee.target.value}),className:"w-full appearance-none px-4 py-2.5 rounded-xl border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:border-[var(--brand-primary)] focus:ring-1 focus:ring-[var(--brand-primary)]/20 transition-all outline-none cursor-pointer font-medium",required:!0,children:[u.jsx("option",{value:"",children:"Select a unit..."}),Array.isArray(r)&&r.map(ee=>u.jsxs("option",{value:ee.id,children:[ee.name,ee.code?` (${ee.code})`:""]},ee.id))]}),u.jsx(Gl,{size:16,className:"absolute inset-y-0 right-4 my-auto pointer-events-none text-[var(--text-secondary)] opacity-50"})]})]}):u.jsxs("div",{children:[u.jsx("label",{className:"block font-medium mb-2 pl-1",children:"Status"}),u.jsx("div",{onClick:()=>N({...S,is_active:!S.is_active}),className:`w-14 h-8 flex items-center rounded-full p-1 cursor-pointer transition-colors duration-300 ${S.is_active?"bg-[#4ade80]":"bg-gray-300"}`,children:u.jsx("div",{className:`bg-white w-6 h-6 rounded-full shadow-none transform transition-transform duration-300 ${S.is_active?"translate-x-6":"translate-x-0"}`})})]}),S.role==="user"&&u.jsxs("div",{children:[u.jsx("label",{className:"block font-medium mb-2 pl-1",children:"Status"}),u.jsx("div",{onClick:()=>N({...S,is_active:!S.is_active}),className:`w-14 h-8 flex items-center rounded-full p-1 cursor-pointer transition-colors duration-300 ${S.is_active?"bg-[#4ade80]":"bg-gray-300"}`,children:u.jsx("div",{className:`bg-white w-6 h-6 rounded-full shadow-none transform transition-transform duration-300 ${S.is_active?"translate-x-6":"translate-x-0"}`})})]})]}),u.jsxs("div",{className:"flex gap-4 pt-6 mt-4 border-t border-[var(--border-default)]/10",children:[u.jsx("button",{type:"submit",className:"flex-1 px-8 py-3.5 rounded-xl font-bold bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] transition-all shadow-lg active:scale-[0.98]",children:x?"Update Profile":"Create User"}),u.jsx("button",{type:"button",onClick:q,className:"flex-1 px-8 py-3.5 rounded-xl font-bold bg-[var(--surface-muted)] text-[var(--text-secondary)] hover:bg-[var(--surface-muted)]/80 transition-all active:scale-[0.98]",children:"Cancel"})]})]})]})})]}),R&&v1.createPortal(u.jsx("div",{className:"fixed inset-0 z-[9999]",onClick:()=>z(null),children:u.jsxs("div",{className:"absolute bg-[var(--surface-card)] rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] border border-[var(--border-default)] p-2 w-52 animate-in fade-in zoom-in-95 duration-200 overflow-hidden flex flex-col gap-1",style:{top:`${G.top}px`,right:`${G.right}px`},onClick:ee=>ee.stopPropagation(),children:[u.jsxs("button",{onClick:()=>{z(null),ie(e.find(ee=>ee.id===R))},className:"w-full text-left px-4 py-3 text-xs font-bold tracking-widest text-[var(--text-primary)] hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)] rounded-xl flex items-center gap-3 transition-all active:scale-95",children:[u.jsx(e1,{size:14,className:"text-[var(--brand-primary)]"}),u.jsx("span",{children:"Edit"})]}),V&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-px bg-[var(--border-default)] mx-2 my-1 opacity-50"}),u.jsxs("button",{onClick:()=>{z(null),se(R)},className:"w-full text-left px-4 py-3 text-xs font-bold tracking-widest text-rose-500 hover:bg-rose-500/10 rounded-xl flex items-center gap-3 transition-all active:scale-95",children:[u.jsx(Dm,{size:14}),u.jsx("span",{children:"Delete"})]})]})]})}),document.body)]})};var lr;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(lr||(lr={}));var A_=new Map([[lr.QR_CODE,"QR_CODE"],[lr.AZTEC,"AZTEC"],[lr.CODABAR,"CODABAR"],[lr.CODE_39,"CODE_39"],[lr.CODE_93,"CODE_93"],[lr.CODE_128,"CODE_128"],[lr.DATA_MATRIX,"DATA_MATRIX"],[lr.MAXICODE,"MAXICODE"],[lr.ITF,"ITF"],[lr.EAN_13,"EAN_13"],[lr.EAN_8,"EAN_8"],[lr.PDF_417,"PDF_417"],[lr.RSS_14,"RSS_14"],[lr.RSS_EXPANDED,"RSS_EXPANDED"],[lr.UPC_A,"UPC_A"],[lr.UPC_E,"UPC_E"],[lr.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),N_;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(N_||(N_={}));function Tae(e){return Object.values(lr).includes(e)}var Od;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Od||(Od={}));var ql=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Od.SCAN_TYPE_CAMERA,Od.SCAN_TYPE_FILE],e}(),CM=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!A_.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,A_.get(t))},e}(),S_=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),D5;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(D5||(D5={}));var _M=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:D5.UNKWOWN_ERROR}},e}(),jM=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function wc(e){return typeof e>"u"||e===null}function kae(e,t,r){return e>r?r:e<t?t:e}var xh=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Zn=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),E_=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),OM=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],i=new Set(a),c=Object.keys(t),f=0,m=c;f<m.length;f++){var p=m[f];if(i.has(p))return r.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),X0={exports:{}},Iae=X0.exports,C_;function Mae(){return C_||(C_=1,function(e,t){(function(r,n){n(t)})(Iae,function(r){function n(fe){return fe==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fe,o){fe.__proto__=o}||function(fe,o){for(var d in o)o.hasOwnProperty(d)&&(fe[d]=o[d])};function i(fe,o){a(fe,o);function d(){this.constructor=fe}fe.prototype=o===null?Object.create(o):(d.prototype=o.prototype,new d)}function c(fe,o){var d=Object.setPrototypeOf;d?d(fe,o):fe.__proto__=o}function f(fe,o){o===void 0&&(o=fe.constructor);var d=Error.captureStackTrace;d&&d(fe,o)}var m=function(fe){i(o,fe);function o(d){var h=this.constructor,v=fe.call(this,d)||this;return Object.defineProperty(v,"name",{value:h.name,enumerable:!1}),c(v,h.prototype),f(v),v}return o}(Error);class p extends m{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}p.kind="Exception";class x extends p{}x.kind="ArgumentException";class y extends p{}y.kind="IllegalArgumentException";class S{constructor(o){if(this.binarizer=o,o===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,d){return this.binarizer.getBlackRow(o,d)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,d,h,v){const b=this.binarizer.getLuminanceSource().crop(o,d,h,v);return new S(this.binarizer.createBinarizer(b))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class N extends p{static getChecksumInstance(){return new N}}N.kind="ChecksumException";class j{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class _{static arraycopy(o,d,h,v,b){for(;b--;)h[v++]=o[d++]}static currentTimeMillis(){return Date.now()}}class T extends p{}T.kind="IndexOutOfBoundsException";class D extends T{constructor(o=void 0,d=void 0){super(d),this.index=o,this.message=d}}D.kind="ArrayIndexOutOfBoundsException";class R{static fill(o,d){for(let h=0,v=o.length;h<v;h++)o[h]=d}static fillWithin(o,d,h,v){R.rangeCheck(o.length,d,h);for(let b=d;b<h;b++)o[b]=v}static rangeCheck(o,d,h){if(d>h)throw new y("fromIndex("+d+") > toIndex("+h+")");if(d<0)throw new D(d);if(h>o)throw new D(h)}static asList(...o){return o}static create(o,d,h){return Array.from({length:o}).map(b=>Array.from({length:d}).fill(h))}static createInt32Array(o,d,h){return Array.from({length:o}).map(b=>Int32Array.from({length:d}).fill(h))}static equals(o,d){if(!o||!d||!o.length||!d.length||o.length!==d.length)return!1;for(let h=0,v=o.length;h<v;h++)if(o[h]!==d[h])return!1;return!0}static hashCode(o){if(o===null)return 0;let d=1;for(const h of o)d=31*d+h;return d}static fillUint8Array(o,d){for(let h=0;h!==o.length;h++)o[h]=d}static copyOf(o,d){return o.slice(0,d)}static copyOfUint8Array(o,d){if(o.length<=d){const h=new Uint8Array(d);return h.set(o),h}return o.slice(0,d)}static copyOfRange(o,d,h){const v=h-d,b=new Int32Array(v);return _.arraycopy(o,d,b,0,v),b}static binarySearch(o,d,h){h===void 0&&(h=R.numberComparator);let v=0,b=o.length-1;for(;v<=b;){const A=b+v>>1,C=h(d,o[A]);if(C>0)v=A+1;else if(C<0)b=A-1;else return A}return-v-1}static numberComparator(o,d){return o-d}}class z{static numberOfTrailingZeros(o){let d;if(o===0)return 32;let h=31;return d=o<<16,d!==0&&(h-=16,o=d),d=o<<8,d!==0&&(h-=8,o=d),d=o<<4,d!==0&&(h-=4,o=d),d=o<<2,d!==0&&(h-=2,o=d),h-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let d=1;return o>>>16||(d+=16,o<<=16),o>>>24||(d+=8,o<<=8),o>>>28||(d+=4,o<<=4),o>>>30||(d+=2,o<<=2),d-=o>>>31,d}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,d){return Math.trunc(o/d)}static parseInt(o,d=void 0){return parseInt(o,d)}}z.MIN_VALUE_32_BITS=-2147483648,z.MAX_VALUE=Number.MAX_SAFE_INTEGER;class G{constructor(o,d){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,d==null?this.bits=G.makeArray(o):this.bits=d)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const d=G.makeArray(o);_.arraycopy(this.bits,0,d,0,this.bits.length),this.bits=d}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const d=this.size;if(o>=d)return d;const h=this.bits;let v=Math.floor(o/32),b=h[v];b&=~((1<<(o&31))-1);const A=h.length;for(;b===0;){if(++v===A)return d;b=h[v]}const C=v*32+z.numberOfTrailingZeros(b);return C>d?d:C}getNextUnset(o){const d=this.size;if(o>=d)return d;const h=this.bits;let v=Math.floor(o/32),b=~h[v];b&=~((1<<(o&31))-1);const A=h.length;for(;b===0;){if(++v===A)return d;b=~h[v]}const C=v*32+z.numberOfTrailingZeros(b);return C>d?d:C}setBulk(o,d){this.bits[Math.floor(o/32)]=d}setRange(o,d){if(d<o||o<0||d>this.size)throw new y;if(d===o)return;d--;const h=Math.floor(o/32),v=Math.floor(d/32),b=this.bits;for(let A=h;A<=v;A++){const C=A>h?0:o&31,B=(2<<(A<v?31:d&31))-(1<<C);b[A]|=B}}clear(){const o=this.bits.length,d=this.bits;for(let h=0;h<o;h++)d[h]=0}isRange(o,d,h){if(d<o||o<0||d>this.size)throw new y;if(d===o)return!0;d--;const v=Math.floor(o/32),b=Math.floor(d/32),A=this.bits;for(let C=v;C<=b;C++){const M=C>v?0:o&31,J=(2<<(C<b?31:d&31))-(1<<M)&4294967295;if((A[C]&J)!==(h?J:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,d){if(d<0||d>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+d);for(let h=d;h>0;h--)this.appendBit((o>>h-1&1)===1)}appendBitArray(o){const d=o.size;this.ensureCapacity(this.size+d);for(let h=0;h<d;h++)this.appendBit(o.get(h))}xor(o){if(this.size!==o.size)throw new y("Sizes don't match");const d=this.bits;for(let h=0,v=d.length;h<v;h++)d[h]^=o.bits[h]}toBytes(o,d,h,v){for(let b=0;b<v;b++){let A=0;for(let C=0;C<8;C++)this.get(o)&&(A|=1<<7-C),o++;d[h+b]=A}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),d=Math.floor((this.size-1)/32),h=d+1,v=this.bits;for(let b=0;b<h;b++){let A=v[b];A=A>>1&1431655765|(A&1431655765)<<1,A=A>>2&858993459|(A&858993459)<<2,A=A>>4&252645135|(A&252645135)<<4,A=A>>8&16711935|(A&16711935)<<8,A=A>>16&65535|(A&65535)<<16,o[d-b]=A}if(this.size!==h*32){const b=h*32-this.size;let A=o[0]>>>b;for(let C=1;C<h;C++){const M=o[C];A|=M<<32-b,o[C-1]=A,A=M>>>b}o[h-1]=A}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof G))return!1;const d=o;return this.size===d.size&&R.equals(this.bits,d.bits)}hashCode(){return 31*this.size+R.hashCode(this.bits)}toString(){let o="";for(let d=0,h=this.size;d<h;d++)d&7||(o+=" "),o+=this.get(d)?"X":".";return o}clone(){return new G(this.size,this.bits.slice())}}var $;(function(fe){fe[fe.OTHER=0]="OTHER",fe[fe.PURE_BARCODE=1]="PURE_BARCODE",fe[fe.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",fe[fe.TRY_HARDER=3]="TRY_HARDER",fe[fe.CHARACTER_SET=4]="CHARACTER_SET",fe[fe.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",fe[fe.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",fe[fe.ASSUME_GS1=7]="ASSUME_GS1",fe[fe.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",fe[fe.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",fe[fe.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})($||($={}));var X=$;class V extends p{static getFormatInstance(){return new V}}V.kind="FormatException";var Y;(function(fe){fe[fe.Cp437=0]="Cp437",fe[fe.ISO8859_1=1]="ISO8859_1",fe[fe.ISO8859_2=2]="ISO8859_2",fe[fe.ISO8859_3=3]="ISO8859_3",fe[fe.ISO8859_4=4]="ISO8859_4",fe[fe.ISO8859_5=5]="ISO8859_5",fe[fe.ISO8859_6=6]="ISO8859_6",fe[fe.ISO8859_7=7]="ISO8859_7",fe[fe.ISO8859_8=8]="ISO8859_8",fe[fe.ISO8859_9=9]="ISO8859_9",fe[fe.ISO8859_10=10]="ISO8859_10",fe[fe.ISO8859_11=11]="ISO8859_11",fe[fe.ISO8859_13=12]="ISO8859_13",fe[fe.ISO8859_14=13]="ISO8859_14",fe[fe.ISO8859_15=14]="ISO8859_15",fe[fe.ISO8859_16=15]="ISO8859_16",fe[fe.SJIS=16]="SJIS",fe[fe.Cp1250=17]="Cp1250",fe[fe.Cp1251=18]="Cp1251",fe[fe.Cp1252=19]="Cp1252",fe[fe.Cp1256=20]="Cp1256",fe[fe.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",fe[fe.UTF8=22]="UTF8",fe[fe.ASCII=23]="ASCII",fe[fe.Big5=24]="Big5",fe[fe.GB18030=25]="GB18030",fe[fe.EUC_KR=26]="EUC_KR"})(Y||(Y={}));class W{constructor(o,d,h,...v){this.valueIdentifier=o,this.name=h,typeof d=="number"?this.values=Int32Array.from([d]):this.values=d,this.otherEncodingNames=v,W.VALUE_IDENTIFIER_TO_ECI.set(o,this),W.NAME_TO_ECI.set(h,this);const b=this.values;for(let A=0,C=b.length;A!==C;A++){const M=b[A];W.VALUES_TO_ECI.set(M,this)}for(const A of v)W.NAME_TO_ECI.set(A,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new V("incorect value");const d=W.VALUES_TO_ECI.get(o);if(d===void 0)throw new V("incorect value");return d}static getCharacterSetECIByName(o){const d=W.NAME_TO_ECI.get(o);if(d===void 0)throw new V("incorect value");return d}equals(o){if(!(o instanceof W))return!1;const d=o;return this.getName()===d.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(Y.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(Y.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(Y.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(Y.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(Y.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(Y.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(Y.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(Y.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(Y.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(Y.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(Y.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(Y.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(Y.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(Y.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(Y.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(Y.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(Y.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(Y.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(Y.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(Y.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(Y.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(Y.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(Y.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(Y.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(Y.Big5,28,"Big5"),W.GB18030=new W(Y.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(Y.EUC_KR,30,"EUC_KR","EUC-KR");class Ne extends p{}Ne.kind="UnsupportedOperationException";class Z{static decode(o,d){const h=this.encodingName(d);return this.customDecoder?this.customDecoder(o,h):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(h)?this.decodeFallback(o,h):new TextDecoder(h).decode(o)}static shouldDecodeOnFallback(o){return!Z.isBrowser()&&o==="ISO-8859-1"}static encode(o,d){const h=this.encodingName(d);return this.customEncoder?this.customEncoder(o,h):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof W?o:W.getCharacterSetECIByName(o)}static decodeFallback(o,d){const h=this.encodingCharacterSet(d);if(Z.isDecodeFallbackSupported(h)){let v="";for(let b=0,A=o.length;b<A;b++){let C=o[b].toString(16);C.length<2&&(C="0"+C),v+="%"+C}return decodeURIComponent(v)}if(h.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new Ne(`Encoding ${this.encodingName(d)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(W.UTF8)||o.equals(W.ISO8859_1)||o.equals(W.ASCII)}static encodeFallback(o){const h=btoa(unescape(encodeURIComponent(o))).split(""),v=[];for(let b=0;b<h.length;b++)v.push(h[b].charCodeAt(0));return new Uint8Array(v)}}class Q{static castAsNonUtf8Char(o,d=null){const h=d?d.getName():this.ISO88591;return Z.decode(new Uint8Array([o]),h)}static guessEncoding(o,d){if(d!=null&&d.get(X.CHARACTER_SET)!==void 0)return d.get(X.CHARACTER_SET).toString();const h=o.length;let v=!0,b=!0,A=!0,C=0,M=0,B=0,J=0,ce=0,Ae=0,Me=0,ze=0,He=0,Xe=0,dt=0;const Pt=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let Rt=0;Rt<h&&(v||b||A);Rt++){const Lt=o[Rt]&255;A&&(C>0?Lt&128?C--:A=!1:Lt&128&&(Lt&64?(C++,Lt&32?(C++,Lt&16?(C++,Lt&8?A=!1:J++):B++):M++):A=!1)),v&&(Lt>127&&Lt<160?v=!1:Lt>159&&(Lt<192||Lt===215||Lt===247)&&dt++),b&&(ce>0?Lt<64||Lt===127||Lt>252?b=!1:ce--:Lt===128||Lt===160||Lt>239?b=!1:Lt>160&&Lt<224?(Ae++,ze=0,Me++,Me>He&&(He=Me)):Lt>127?(ce++,Me=0,ze++,ze>Xe&&(Xe=ze)):(Me=0,ze=0))}return A&&C>0&&(A=!1),b&&ce>0&&(b=!1),A&&(Pt||M+B+J>0)?Q.UTF8:b&&(Q.ASSUME_SHIFT_JIS||He>=3||Xe>=3)?Q.SHIFT_JIS:v&&b?He===2&&Ae===2||dt*10>=h?Q.SHIFT_JIS:Q.ISO88591:v?Q.ISO88591:b?Q.SHIFT_JIS:A?Q.UTF8:Q.PLATFORM_DEFAULT_ENCODING}static format(o,...d){let h=-1;function v(A,C,M,B,J,ce){if(A==="%%")return"%";if(d[++h]===void 0)return;A=B?parseInt(B.substr(1)):void 0;let Ae=J?parseInt(J.substr(1)):void 0,Me;switch(ce){case"s":Me=d[h];break;case"c":Me=d[h][0];break;case"f":Me=parseFloat(d[h]).toFixed(A);break;case"p":Me=parseFloat(d[h]).toPrecision(A);break;case"e":Me=parseFloat(d[h]).toExponential(A);break;case"x":Me=parseInt(d[h]).toString(Ae||16);break;case"d":Me=parseFloat(parseInt(d[h],Ae||10).toPrecision(A)).toFixed(0);break}Me=typeof Me=="object"?JSON.stringify(Me):(+Me).toString(Ae);let ze=parseInt(M),He=M&&M[0]+""=="0"?"0":" ";for(;Me.length<ze;)Me=C!==void 0?Me+He:He+Me;return Me}let b=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(b,v)}static getBytes(o,d){return Z.encode(o,d)}static getCharCode(o,d=0){return o.charCodeAt(d)}static getCharAt(o){return String.fromCharCode(o)}}Q.SHIFT_JIS=W.SJIS.getName(),Q.GB2312="GB2312",Q.ISO88591=W.ISO8859_1.getName(),Q.EUC_JP="EUC_JP",Q.UTF8=W.UTF8.getName(),Q.PLATFORM_DEFAULT_ENCODING=Q.UTF8,Q.ASSUME_SHIFT_JIS=!1;class ye{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=Q.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,d,h){for(let v=d;d<d+h;v++)this.append(o[v]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,d){this.value=this.value.substr(0,o)+d+this.value.substr(o+1)}substring(o,d){return this.value.substring(o,d)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,d){this.value=this.value.substr(0,o)+d+this.value.substr(o+d.length)}}class ie{constructor(o,d,h,v){if(this.width=o,this.height=d,this.rowSize=h,this.bits=v,d==null&&(d=o),this.height=d,o<1||d<1)throw new y("Both dimensions must be greater than 0");h==null&&(h=Math.floor((o+31)/32)),this.rowSize=h,v==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const d=o.length,h=o[0].length,v=new ie(h,d);for(let b=0;b<d;b++){const A=o[b];for(let C=0;C<h;C++)A[C]&&v.set(C,b)}return v}static parseFromString(o,d,h){if(o===null)throw new y("stringRepresentation cannot be null");const v=new Array(o.length);let b=0,A=0,C=-1,M=0,B=0;for(;B<o.length;)if(o.charAt(B)===`
`||o.charAt(B)==="\r"){if(b>A){if(C===-1)C=b-A;else if(b-A!==C)throw new y("row lengths do not match");A=b,M++}B++}else if(o.substring(B,B+d.length)===d)B+=d.length,v[b]=!0,b++;else if(o.substring(B,B+h.length)===h)B+=h.length,v[b]=!1,b++;else throw new y("illegal character encountered: "+o.substring(B));if(b>A){if(C===-1)C=b-A;else if(b-A!==C)throw new y("row lengths do not match");M++}const J=new ie(C,M);for(let ce=0;ce<b;ce++)v[ce]&&J.set(Math.floor(ce%C),Math.floor(ce/C));return J}get(o,d){const h=d*this.rowSize+Math.floor(o/32);return(this.bits[h]>>>(o&31)&1)!==0}set(o,d){const h=d*this.rowSize+Math.floor(o/32);this.bits[h]|=1<<(o&31)&4294967295}unset(o,d){const h=d*this.rowSize+Math.floor(o/32);this.bits[h]&=~(1<<(o&31)&4294967295)}flip(o,d){const h=d*this.rowSize+Math.floor(o/32);this.bits[h]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new y("input matrix dimensions do not match");const d=new G(Math.floor(this.width/32)+1),h=this.rowSize,v=this.bits;for(let b=0,A=this.height;b<A;b++){const C=b*h,M=o.getRow(b,d).getBitArray();for(let B=0;B<h;B++)v[C+B]^=M[B]}}clear(){const o=this.bits,d=o.length;for(let h=0;h<d;h++)o[h]=0}setRegion(o,d,h,v){if(d<0||o<0)throw new y("Left and top must be nonnegative");if(v<1||h<1)throw new y("Height and width must be at least 1");const b=o+h,A=d+v;if(A>this.height||b>this.width)throw new y("The region must fit inside the matrix");const C=this.rowSize,M=this.bits;for(let B=d;B<A;B++){const J=B*C;for(let ce=o;ce<b;ce++)M[J+Math.floor(ce/32)]|=1<<(ce&31)&4294967295}}getRow(o,d){d==null||d.getSize()<this.width?d=new G(this.width):d.clear();const h=this.rowSize,v=this.bits,b=o*h;for(let A=0;A<h;A++)d.setBulk(A*32,v[b+A]);return d}setRow(o,d){_.arraycopy(d.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),d=this.getHeight();let h=new G(o),v=new G(o);for(let b=0,A=Math.floor((d+1)/2);b<A;b++)h=this.getRow(b,h),v=this.getRow(d-1-b,v),h.reverse(),v.reverse(),this.setRow(b,v),this.setRow(d-1-b,h)}getEnclosingRectangle(){const o=this.width,d=this.height,h=this.rowSize,v=this.bits;let b=o,A=d,C=-1,M=-1;for(let B=0;B<d;B++)for(let J=0;J<h;J++){const ce=v[B*h+J];if(ce!==0){if(B<A&&(A=B),B>M&&(M=B),J*32<b){let Ae=0;for(;!(ce<<31-Ae&4294967295);)Ae++;J*32+Ae<b&&(b=J*32+Ae)}if(J*32+31>C){let Ae=31;for(;!(ce>>>Ae);)Ae--;J*32+Ae>C&&(C=J*32+Ae)}}}return C<b||M<A?null:Int32Array.from([b,A,C-b+1,M-A+1])}getTopLeftOnBit(){const o=this.rowSize,d=this.bits;let h=0;for(;h<d.length&&d[h]===0;)h++;if(h===d.length)return null;const v=h/o;let b=h%o*32;const A=d[h];let C=0;for(;!(A<<31-C&4294967295);)C++;return b+=C,Int32Array.from([b,v])}getBottomRightOnBit(){const o=this.rowSize,d=this.bits;let h=d.length-1;for(;h>=0&&d[h]===0;)h--;if(h<0)return null;const v=Math.floor(h/o);let b=Math.floor(h%o)*32;const A=d[h];let C=31;for(;!(A>>>C);)C--;return b+=C,Int32Array.from([b,v])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof ie))return!1;const d=o;return this.width===d.width&&this.height===d.height&&this.rowSize===d.rowSize&&R.equals(this.bits,d.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+R.hashCode(this.bits),o}toString(o="X ",d="  ",h=`
`){return this.buildToString(o,d,h)}buildToString(o,d,h){let v=new ye;for(let b=0,A=this.height;b<A;b++){for(let C=0,M=this.width;C<M;C++)v.append(this.get(C,b)?o:d);v.append(h)}return v.toString()}clone(){return new ie(this.width,this.height,this.rowSize,this.bits.slice())}}class q extends p{static getNotFoundInstance(){return new q}}q.kind="NotFoundException";class te extends j{constructor(o){super(o),this.luminances=te.EMPTY,this.buckets=new Int32Array(te.LUMINANCE_BUCKETS)}getBlackRow(o,d){const h=this.getLuminanceSource(),v=h.getWidth();d==null||d.getSize()<v?d=new G(v):d.clear(),this.initArrays(v);const b=h.getRow(o,this.luminances),A=this.buckets;for(let M=0;M<v;M++)A[(b[M]&255)>>te.LUMINANCE_SHIFT]++;const C=te.estimateBlackPoint(A);if(v<3)for(let M=0;M<v;M++)(b[M]&255)<C&&d.set(M);else{let M=b[0]&255,B=b[1]&255;for(let J=1;J<v-1;J++){const ce=b[J+1]&255;(B*4-M-ce)/2<C&&d.set(J),M=B,B=ce}}return d}getBlackMatrix(){const o=this.getLuminanceSource(),d=o.getWidth(),h=o.getHeight(),v=new ie(d,h);this.initArrays(d);const b=this.buckets;for(let M=1;M<5;M++){const B=Math.floor(h*M/5),J=o.getRow(B,this.luminances),ce=Math.floor(d*4/5);for(let Ae=Math.floor(d/5);Ae<ce;Ae++){const Me=J[Ae]&255;b[Me>>te.LUMINANCE_SHIFT]++}}const A=te.estimateBlackPoint(b),C=o.getMatrix();for(let M=0;M<h;M++){const B=M*d;for(let J=0;J<d;J++)(C[B+J]&255)<A&&v.set(J,M)}return v}createBinarizer(o){return new te(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const d=this.buckets;for(let h=0;h<te.LUMINANCE_BUCKETS;h++)d[h]=0}static estimateBlackPoint(o){const d=o.length;let h=0,v=0,b=0;for(let J=0;J<d;J++)o[J]>b&&(v=J,b=o[J]),o[J]>h&&(h=o[J]);let A=0,C=0;for(let J=0;J<d;J++){const ce=J-v,Ae=o[J]*ce*ce;Ae>C&&(A=J,C=Ae)}if(v>A){const J=v;v=A,A=J}if(A-v<=d/16)throw new q;let M=A-1,B=-1;for(let J=A-1;J>v;J--){const ce=J-v,Ae=ce*ce*(A-J)*(h-o[J]);Ae>B&&(M=J,B=Ae)}return M<<te.LUMINANCE_SHIFT}}te.LUMINANCE_BITS=5,te.LUMINANCE_SHIFT=8-te.LUMINANCE_BITS,te.LUMINANCE_BUCKETS=1<<te.LUMINANCE_BITS,te.EMPTY=Uint8ClampedArray.from([0]);class se extends te{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),d=o.getWidth(),h=o.getHeight();if(d>=se.MINIMUM_DIMENSION&&h>=se.MINIMUM_DIMENSION){const v=o.getMatrix();let b=d>>se.BLOCK_SIZE_POWER;d&se.BLOCK_SIZE_MASK&&b++;let A=h>>se.BLOCK_SIZE_POWER;h&se.BLOCK_SIZE_MASK&&A++;const C=se.calculateBlackPoints(v,b,A,d,h),M=new ie(d,h);se.calculateThresholdForBlock(v,b,A,d,h,C,M),this.matrix=M}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new se(o)}static calculateThresholdForBlock(o,d,h,v,b,A,C){const M=b-se.BLOCK_SIZE,B=v-se.BLOCK_SIZE;for(let J=0;J<h;J++){let ce=J<<se.BLOCK_SIZE_POWER;ce>M&&(ce=M);const Ae=se.cap(J,2,h-3);for(let Me=0;Me<d;Me++){let ze=Me<<se.BLOCK_SIZE_POWER;ze>B&&(ze=B);const He=se.cap(Me,2,d-3);let Xe=0;for(let Pt=-2;Pt<=2;Pt++){const Rt=A[Ae+Pt];Xe+=Rt[He-2]+Rt[He-1]+Rt[He]+Rt[He+1]+Rt[He+2]}const dt=Xe/25;se.thresholdBlock(o,ze,ce,dt,v,C)}}}static cap(o,d,h){return o<d?d:o>h?h:o}static thresholdBlock(o,d,h,v,b,A){for(let C=0,M=h*b+d;C<se.BLOCK_SIZE;C++,M+=b)for(let B=0;B<se.BLOCK_SIZE;B++)(o[M+B]&255)<=v&&A.set(d+B,h+C)}static calculateBlackPoints(o,d,h,v,b){const A=b-se.BLOCK_SIZE,C=v-se.BLOCK_SIZE,M=new Array(h);for(let B=0;B<h;B++){M[B]=new Int32Array(d);let J=B<<se.BLOCK_SIZE_POWER;J>A&&(J=A);for(let ce=0;ce<d;ce++){let Ae=ce<<se.BLOCK_SIZE_POWER;Ae>C&&(Ae=C);let Me=0,ze=255,He=0;for(let dt=0,Pt=J*v+Ae;dt<se.BLOCK_SIZE;dt++,Pt+=v){for(let Rt=0;Rt<se.BLOCK_SIZE;Rt++){const Lt=o[Pt+Rt]&255;Me+=Lt,Lt<ze&&(ze=Lt),Lt>He&&(He=Lt)}if(He-ze>se.MIN_DYNAMIC_RANGE)for(dt++,Pt+=v;dt<se.BLOCK_SIZE;dt++,Pt+=v)for(let Rt=0;Rt<se.BLOCK_SIZE;Rt++)Me+=o[Pt+Rt]&255}let Xe=Me>>se.BLOCK_SIZE_POWER*2;if(He-ze<=se.MIN_DYNAMIC_RANGE&&(Xe=ze/2,B>0&&ce>0)){const dt=(M[B-1][ce]+2*M[B][ce-1]+M[B-1][ce-1])/4;ze<dt&&(Xe=dt)}M[B][ce]=Xe}}return M}}se.BLOCK_SIZE_POWER=3,se.BLOCK_SIZE=1<<se.BLOCK_SIZE_POWER,se.BLOCK_SIZE_MASK=se.BLOCK_SIZE-1,se.MINIMUM_DIMENSION=se.BLOCK_SIZE*5,se.MIN_DYNAMIC_RANGE=24;class ue{constructor(o,d){this.width=o,this.height=d}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,d,h,v){throw new Ne("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ne("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ne("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let d=new ye;for(let h=0;h<this.height;h++){const v=this.getRow(h,o);for(let b=0;b<this.width;b++){const A=v[b]&255;let C;A<64?C="#":A<128?C="+":A<192?C=".":C=" ",d.append(C)}d.append(`
`)}return d.toString()}}class ee extends ue{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,d){const h=this.delegate.getRow(o,d),v=this.getWidth();for(let b=0;b<v;b++)h[b]=255-(h[b]&255);return h}getMatrix(){const o=this.delegate.getMatrix(),d=this.getWidth()*this.getHeight(),h=new Uint8ClampedArray(d);for(let v=0;v<d;v++)h[v]=255-(o[v]&255);return h}isCropSupported(){return this.delegate.isCropSupported()}crop(o,d,h,v){return new ee(this.delegate.crop(o,d,h,v))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ee(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ee(this.delegate.rotateCounterClockwise45())}}class Se extends ue{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=Se.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const d=o.getContext("2d").getImageData(0,0,o.width,o.height);return Se.toGrayscaleBuffer(d.data,o.width,o.height)}static toGrayscaleBuffer(o,d,h){const v=new Uint8ClampedArray(d*h);for(let b=0,A=0,C=o.length;b<C;b+=4,A++){let M;if(o[b+3]===0)M=255;else{const J=o[b],ce=o[b+1],Ae=o[b+2];M=306*J+601*ce+117*Ae+512>>10}v[A]=M}return v}getRow(o,d){if(o<0||o>=this.getHeight())throw new y("Requested row is outside the image: "+o);const h=this.getWidth(),v=o*h;return d===null?d=this.buffer.slice(v,v+h):(d.length<h&&(d=new Uint8ClampedArray(h)),d.set(this.buffer.slice(v,v+h))),d}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,d,h,v){return super.crop(o,d,h,v),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const d=this.getTempCanvasElement(),h=d.getContext("2d"),v=o*Se.DEGREE_TO_RADIANS,b=this.canvas.width,A=this.canvas.height,C=Math.ceil(Math.abs(Math.cos(v))*b+Math.abs(Math.sin(v))*A),M=Math.ceil(Math.abs(Math.sin(v))*b+Math.abs(Math.cos(v))*A);return d.width=C,d.height=M,h.translate(C/2,M/2),h.rotate(v),h.drawImage(this.canvas,b/-2,A/-2),this.buffer=Se.makeBufferFromCanvasImageData(d),this}invert(){return new ee(this)}}Se.DEGREE_TO_RADIANS=Math.PI/180;class le{constructor(o,d,h){this.deviceId=o,this.label=d,this.kind="videoinput",this.groupId=h||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var U=(globalThis||Pp||self||window||void 0)&&(globalThis||Pp||self||window||void 0).__awaiter||function(fe,o,d,h){function v(b){return b instanceof d?b:new d(function(A){A(b)})}return new(d||(d=Promise))(function(b,A){function C(J){try{B(h.next(J))}catch(ce){A(ce)}}function M(J){try{B(h.throw(J))}catch(ce){A(ce)}}function B(J){J.done?b(J.value):v(J.value).then(C,M)}B((h=h.apply(fe,o||[])).next())})};class H{constructor(o,d=500,h){this.reader=o,this.timeBetweenScansMillis=d,this._hints=h,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return U(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),d=[];for(const h of o){const v=h.kind==="video"?"videoinput":h.kind;if(v!=="videoinput")continue;const b=h.deviceId||h.id,A=h.label||`Video device ${d.length+1}`,C=h.groupId,M={deviceId:b,label:A,kind:v,groupId:C};d.push(M)}return d})}getVideoInputDevices(){return U(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(d=>new le(d.deviceId,d.label))})}findDeviceById(o){return U(this,void 0,void 0,function*(){const d=yield this.listVideoInputDevices();return d?d.find(h=>h.deviceId===o):null})}decodeFromInputVideoDevice(o,d){return U(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,d)})}decodeOnceFromVideoDevice(o,d){return U(this,void 0,void 0,function*(){this.reset();let h;o?h={deviceId:{exact:o}}:h={facingMode:"environment"};const v={video:h};return yield this.decodeOnceFromConstraints(v,d)})}decodeOnceFromConstraints(o,d){return U(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(h,d)})}decodeOnceFromStream(o,d){return U(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(o,d);return yield this.decodeOnce(h)})}decodeFromInputVideoDeviceContinuously(o,d,h){return U(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,d,h)})}decodeFromVideoDevice(o,d,h){return U(this,void 0,void 0,function*(){let v;o?v={deviceId:{exact:o}}:v={facingMode:"environment"};const b={video:v};return yield this.decodeFromConstraints(b,d,h)})}decodeFromConstraints(o,d,h){return U(this,void 0,void 0,function*(){const v=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(v,d,h)})}decodeFromStream(o,d,h){return U(this,void 0,void 0,function*(){this.reset();const v=yield this.attachStreamToVideo(o,d);return yield this.decodeContinuously(v,h)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,d){return U(this,void 0,void 0,function*(){const h=this.prepareVideoElement(d);return this.addVideoSource(h,o),this.videoElement=h,this.stream=o,yield this.playVideoOnLoadAsync(h),h})}playVideoOnLoadAsync(o){return new Promise((d,h)=>this.playVideoOnLoad(o,()=>d()))}playVideoOnLoad(o,d){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",d),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return U(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,d){const h=document.getElementById(o);if(!h)throw new x(`element with id '${o}' not found`);if(h.nodeName.toLowerCase()!==d.toLowerCase())throw new x(`element with id '${o}' must be an ${d} element`);return h}decodeFromImage(o,d){if(!o&&!d)throw new x("either imageElement with a src set or an url must be provided");return d&&!o?this.decodeFromImageUrl(d):this.decodeFromImageElement(o)}decodeFromVideo(o,d){if(!o&&!d)throw new x("Either an element with a src set or an URL must be provided");return d&&!o?this.decodeFromVideoUrl(d):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,d,h){if(o===void 0&&d===void 0)throw new x("Either an element with a src set or an URL must be provided");return d&&!o?this.decodeFromVideoUrlContinuously(d,h):this.decodeFromVideoElementContinuously(o,h)}decodeFromImageElement(o){if(!o)throw new x("An image element must be provided.");this.reset();const d=this.prepareImageElement(o);this.imageElement=d;let h;return this.isImageLoaded(d)?h=this.decodeOnce(d,!1,!0):h=this._decodeOnLoadImage(d),h}decodeFromVideoElement(o){const d=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(d)}decodeFromVideoElementContinuously(o,d){const h=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(h,d)}_decodeFromVideoElementSetup(o){if(!o)throw new x("A video element must be provided.");this.reset();const d=this.prepareVideoElement(o);return this.videoElement=d,d}decodeFromImageUrl(o){if(!o)throw new x("An URL must be provided.");this.reset();const d=this.prepareImageElement();this.imageElement=d;const h=this._decodeOnLoadImage(d);return d.src=o,h}decodeFromVideoUrl(o){if(!o)throw new x("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),h=this.decodeFromVideoElement(d);return d.src=o,h}decodeFromVideoUrlContinuously(o,d){if(!o)throw new x("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),v=this.decodeFromVideoElementContinuously(h,d);return h.src=o,v}_decodeOnLoadImage(o){return new Promise((d,h)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(d,h),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return U(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,d){return U(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,d)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let d;return typeof o>"u"&&(d=document.createElement("img"),d.width=200,d.height=200),typeof o=="string"&&(d=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(d=o),d}prepareVideoElement(o){let d;return!o&&typeof document<"u"&&(d=document.createElement("video"),d.width=200,d.height=200),typeof o=="string"&&(d=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(d=o),d.setAttribute("autoplay","true"),d.setAttribute("muted","true"),d.setAttribute("playsinline","true"),d}decodeOnce(o,d=!0,h=!0){this._stopAsyncDecode=!1;const v=(b,A)=>{if(this._stopAsyncDecode){A(new q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const C=this.decode(o);b(C)}catch(C){const M=d&&C instanceof q,J=(C instanceof N||C instanceof V)&&h;if(M||J)return setTimeout(v,this._timeBetweenDecodingAttempts,b,A);A(C)}};return new Promise((b,A)=>v(b,A))}decodeContinuously(o,d){this._stopContinuousDecode=!1;const h=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const v=this.decode(o);d(v,null),setTimeout(h,this.timeBetweenScansMillis)}catch(v){d(null,v);const b=v instanceof N||v instanceof V,A=v instanceof q;(b||A)&&setTimeout(h,this._timeBetweenDecodingAttempts)}};h()}decode(o){const d=this.createBinaryBitmap(o);return this.decodeBitmap(d)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,d,h){d||(d={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),h||(h=this.captureCanvasContext),h.drawImage(o,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}drawImageOnCanvas(o,d,h=this.captureCanvasContext){d||(d={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),h||(h=this.captureCanvasContext),h.drawImage(o,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const d=this.getCaptureCanvas(o),h=new Se(d),v=new se(h);return new S(v)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const h=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=h}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const d=this.createCaptureCanvas(o);this.captureCanvas=d}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const d=document.createElement("canvas");let h,v;return typeof o<"u"&&(o instanceof HTMLVideoElement?(h=o.videoWidth,v=o.videoHeight):o instanceof HTMLImageElement&&(h=o.naturalWidth||o.width,v=o.naturalHeight||o.height)),d.style.width=h+"px",d.style.height=v+"px",d.width=h,d.height=v,d}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,d){try{o.srcObject=d}catch{o.src=URL.createObjectURL(d)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class ae{constructor(o,d,h=d==null?0:8*d.length,v,b,A=_.currentTimeMillis()){this.text=o,this.rawBytes=d,this.numBits=h,this.resultPoints=v,this.format=b,this.timestamp=A,this.text=o,this.rawBytes=d,h==null?this.numBits=d==null?0:8*d.length:this.numBits=h,this.resultPoints=v,this.format=b,this.resultMetadata=null,A==null?this.timestamp=_.currentTimeMillis():this.timestamp=A}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,d){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,d)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const d=this.resultPoints;if(d===null)this.resultPoints=o;else if(o!==null&&o.length>0){const h=new Array(d.length+o.length);_.arraycopy(d,0,h,0,d.length),_.arraycopy(o,0,h,d.length,o.length),this.resultPoints=h}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ge;(function(fe){fe[fe.AZTEC=0]="AZTEC",fe[fe.CODABAR=1]="CODABAR",fe[fe.CODE_39=2]="CODE_39",fe[fe.CODE_93=3]="CODE_93",fe[fe.CODE_128=4]="CODE_128",fe[fe.DATA_MATRIX=5]="DATA_MATRIX",fe[fe.EAN_8=6]="EAN_8",fe[fe.EAN_13=7]="EAN_13",fe[fe.ITF=8]="ITF",fe[fe.MAXICODE=9]="MAXICODE",fe[fe.PDF_417=10]="PDF_417",fe[fe.QR_CODE=11]="QR_CODE",fe[fe.RSS_14=12]="RSS_14",fe[fe.RSS_EXPANDED=13]="RSS_EXPANDED",fe[fe.UPC_A=14]="UPC_A",fe[fe.UPC_E=15]="UPC_E",fe[fe.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ge||(ge={}));var ve=ge,de;(function(fe){fe[fe.OTHER=0]="OTHER",fe[fe.ORIENTATION=1]="ORIENTATION",fe[fe.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",fe[fe.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",fe[fe.ISSUE_NUMBER=4]="ISSUE_NUMBER",fe[fe.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",fe[fe.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",fe[fe.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",fe[fe.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",fe[fe.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",fe[fe.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(de||(de={}));var ke=de;class me{constructor(o,d,h,v,b=-1,A=-1){this.rawBytes=o,this.text=d,this.byteSegments=h,this.ecLevel=v,this.structuredAppendSequenceNumber=b,this.structuredAppendParity=A,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class xe{exp(o){return this.expTable[o]}log(o){if(o===0)throw new y;return this.logTable[o]}static addOrSubtract(o,d){return o^d}}class Oe{constructor(o,d){if(d.length===0)throw new y;this.field=o;const h=d.length;if(h>1&&d[0]===0){let v=1;for(;v<h&&d[v]===0;)v++;v===h?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(h-v),_.arraycopy(d,v,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const d=this.coefficients;let h;if(o===1){h=0;for(let A=0,C=d.length;A!==C;A++){const M=d[A];h=xe.addOrSubtract(h,M)}return h}h=d[0];const v=d.length,b=this.field;for(let A=1;A<v;A++)h=xe.addOrSubtract(b.multiply(o,h),d[A]);return h}addOrSubtract(o){if(!this.field.equals(o.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let d=this.coefficients,h=o.coefficients;if(d.length>h.length){const A=d;d=h,h=A}let v=new Int32Array(h.length);const b=h.length-d.length;_.arraycopy(h,0,v,0,b);for(let A=b;A<h.length;A++)v[A]=xe.addOrSubtract(d[A-b],h[A]);return new Oe(this.field,v)}multiply(o){if(!this.field.equals(o.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const d=this.coefficients,h=d.length,v=o.coefficients,b=v.length,A=new Int32Array(h+b-1),C=this.field;for(let M=0;M<h;M++){const B=d[M];for(let J=0;J<b;J++)A[M+J]=xe.addOrSubtract(A[M+J],C.multiply(B,v[J]))}return new Oe(C,A)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const d=this.coefficients.length,h=this.field,v=new Int32Array(d),b=this.coefficients;for(let A=0;A<d;A++)v[A]=h.multiply(b[A],o);return new Oe(h,v)}multiplyByMonomial(o,d){if(o<0)throw new y;if(d===0)return this.field.getZero();const h=this.coefficients,v=h.length,b=new Int32Array(v+o),A=this.field;for(let C=0;C<v;C++)b[C]=A.multiply(h[C],d);return new Oe(A,b)}divide(o){if(!this.field.equals(o.field))throw new y("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new y("Divide by 0");const d=this.field;let h=d.getZero(),v=this;const b=o.getCoefficient(o.getDegree()),A=d.inverse(b);for(;v.getDegree()>=o.getDegree()&&!v.isZero();){const C=v.getDegree()-o.getDegree(),M=d.multiply(v.getCoefficient(v.getDegree()),A),B=o.multiplyByMonomial(C,M),J=d.buildMonomial(C,M);h=h.addOrSubtract(J),v=v.addOrSubtract(B)}return[h,v]}toString(){let o="";for(let d=this.getDegree();d>=0;d--){let h=this.getCoefficient(d);if(h!==0){if(h<0?(o+=" - ",h=-h):o.length>0&&(o+=" + "),d===0||h!==1){const v=this.field.log(h);v===0?o+="1":v===1?o+="a":(o+="a^",o+=v)}d!==0&&(d===1?o+="x":(o+="x^",o+=d))}}return o}}class oe extends p{}oe.kind="ArithmeticException";class Le extends xe{constructor(o,d,h){super(),this.primitive=o,this.size=d,this.generatorBase=h;const v=new Int32Array(d);let b=1;for(let C=0;C<d;C++)v[C]=b,b*=2,b>=d&&(b^=o,b&=d-1);this.expTable=v;const A=new Int32Array(d);for(let C=0;C<d-1;C++)A[v[C]]=C;this.logTable=A,this.zero=new Oe(this,Int32Array.from([0])),this.one=new Oe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,d){if(o<0)throw new y;if(d===0)return this.zero;const h=new Int32Array(o+1);return h[0]=d,new Oe(this,h)}inverse(o){if(o===0)throw new oe;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,d){return o===0||d===0?0:this.expTable[(this.logTable[o]+this.logTable[d])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+z.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}Le.AZTEC_DATA_12=new Le(4201,4096,1),Le.AZTEC_DATA_10=new Le(1033,1024,1),Le.AZTEC_DATA_6=new Le(67,64,1),Le.AZTEC_PARAM=new Le(19,16,1),Le.QR_CODE_FIELD_256=new Le(285,256,0),Le.DATA_MATRIX_FIELD_256=new Le(301,256,1),Le.AZTEC_DATA_8=Le.DATA_MATRIX_FIELD_256,Le.MAXICODE_FIELD_64=Le.AZTEC_DATA_6;class Ge extends p{}Ge.kind="ReedSolomonException";class Pe extends p{}Pe.kind="IllegalStateException";class ne{constructor(o){this.field=o}decode(o,d){const h=this.field,v=new Oe(h,o),b=new Int32Array(d);let A=!0;for(let Me=0;Me<d;Me++){const ze=v.evaluateAt(h.exp(Me+h.getGeneratorBase()));b[b.length-1-Me]=ze,ze!==0&&(A=!1)}if(A)return;const C=new Oe(h,b),M=this.runEuclideanAlgorithm(h.buildMonomial(d,1),C,d),B=M[0],J=M[1],ce=this.findErrorLocations(B),Ae=this.findErrorMagnitudes(J,ce);for(let Me=0;Me<ce.length;Me++){const ze=o.length-1-h.log(ce[Me]);if(ze<0)throw new Ge("Bad error location");o[ze]=Le.addOrSubtract(o[ze],Ae[Me])}}runEuclideanAlgorithm(o,d,h){if(o.getDegree()<d.getDegree()){const Me=o;o=d,d=Me}const v=this.field;let b=o,A=d,C=v.getZero(),M=v.getOne();for(;A.getDegree()>=(h/2|0);){let Me=b,ze=C;if(b=A,C=M,b.isZero())throw new Ge("r_{i-1} was zero");A=Me;let He=v.getZero();const Xe=b.getCoefficient(b.getDegree()),dt=v.inverse(Xe);for(;A.getDegree()>=b.getDegree()&&!A.isZero();){const Pt=A.getDegree()-b.getDegree(),Rt=v.multiply(A.getCoefficient(A.getDegree()),dt);He=He.addOrSubtract(v.buildMonomial(Pt,Rt)),A=A.addOrSubtract(b.multiplyByMonomial(Pt,Rt))}if(M=He.multiply(C).addOrSubtract(ze),A.getDegree()>=b.getDegree())throw new Pe("Division algorithm failed to reduce polynomial?")}const B=M.getCoefficient(0);if(B===0)throw new Ge("sigmaTilde(0) was zero");const J=v.inverse(B),ce=M.multiplyScalar(J),Ae=A.multiplyScalar(J);return[ce,Ae]}findErrorLocations(o){const d=o.getDegree();if(d===1)return Int32Array.from([o.getCoefficient(1)]);const h=new Int32Array(d);let v=0;const b=this.field;for(let A=1;A<b.getSize()&&v<d;A++)o.evaluateAt(A)===0&&(h[v]=b.inverse(A),v++);if(v!==d)throw new Ge("Error locator degree does not match number of roots");return h}findErrorMagnitudes(o,d){const h=d.length,v=new Int32Array(h),b=this.field;for(let A=0;A<h;A++){const C=b.inverse(d[A]);let M=1;for(let B=0;B<h;B++)if(A!==B){const J=b.multiply(d[B],C),ce=J&1?J&-2:J|1;M=b.multiply(M,ce)}v[A]=b.multiply(o.evaluateAt(C),b.inverse(M)),b.getGeneratorBase()!==0&&(v[A]=b.multiply(v[A],C))}return v}}var tt;(function(fe){fe[fe.UPPER=0]="UPPER",fe[fe.LOWER=1]="LOWER",fe[fe.MIXED=2]="MIXED",fe[fe.DIGIT=3]="DIGIT",fe[fe.PUNCT=4]="PUNCT",fe[fe.BINARY=5]="BINARY"})(tt||(tt={}));class at{decode(o){this.ddata=o;let d=o.getBits(),h=this.extractBits(d),v=this.correctBits(h),b=at.convertBoolArrayToByteArray(v),A=at.getEncodedData(v),C=new me(b,A,null,null);return C.setNumBits(v.length),C}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let d=o.length,h=tt.UPPER,v=tt.UPPER,b="",A=0;for(;A<d;)if(v===tt.BINARY){if(d-A<5)break;let C=at.readCode(o,A,5);if(A+=5,C===0){if(d-A<11)break;C=at.readCode(o,A,11)+31,A+=11}for(let M=0;M<C;M++){if(d-A<8){A=d;break}const B=at.readCode(o,A,8);b+=Q.castAsNonUtf8Char(B),A+=8}v=h}else{let C=v===tt.DIGIT?4:5;if(d-A<C)break;let M=at.readCode(o,A,C);A+=C;let B=at.getCharacter(v,M);B.startsWith("CTRL_")?(h=v,v=at.getTable(B.charAt(5)),B.charAt(6)==="L"&&(h=v)):(b+=B,v=h)}return b}static getTable(o){switch(o){case"L":return tt.LOWER;case"P":return tt.PUNCT;case"M":return tt.MIXED;case"D":return tt.DIGIT;case"B":return tt.BINARY;case"U":default:return tt.UPPER}}static getCharacter(o,d){switch(o){case tt.UPPER:return at.UPPER_TABLE[d];case tt.LOWER:return at.LOWER_TABLE[d];case tt.MIXED:return at.MIXED_TABLE[d];case tt.PUNCT:return at.PUNCT_TABLE[d];case tt.DIGIT:return at.DIGIT_TABLE[d];default:throw new Pe("Bad table")}}correctBits(o){let d,h;this.ddata.getNbLayers()<=2?(h=6,d=Le.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(h=8,d=Le.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(h=10,d=Le.AZTEC_DATA_10):(h=12,d=Le.AZTEC_DATA_12);let v=this.ddata.getNbDatablocks(),b=o.length/h;if(b<v)throw new V;let A=o.length%h,C=new Int32Array(b);for(let Ae=0;Ae<b;Ae++,A+=h)C[Ae]=at.readCode(o,A,h);try{new ne(d).decode(C,b-v)}catch(Ae){throw new V(Ae)}let M=(1<<h)-1,B=0;for(let Ae=0;Ae<v;Ae++){let Me=C[Ae];if(Me===0||Me===M)throw new V;(Me===1||Me===M-1)&&B++}let J=new Array(v*h-B),ce=0;for(let Ae=0;Ae<v;Ae++){let Me=C[Ae];if(Me===1||Me===M-1)J.fill(Me>1,ce,ce+h-1),ce+=h-1;else for(let ze=h-1;ze>=0;--ze)J[ce++]=(Me&1<<ze)!==0}return J}extractBits(o){let d=this.ddata.isCompact(),h=this.ddata.getNbLayers(),v=(d?11:14)+h*4,b=new Int32Array(v),A=new Array(this.totalBitsInLayer(h,d));if(d)for(let C=0;C<b.length;C++)b[C]=C;else{let C=v+1+2*z.truncDivision(z.truncDivision(v,2)-1,15),M=v/2,B=z.truncDivision(C,2);for(let J=0;J<M;J++){let ce=J+z.truncDivision(J,15);b[M-J-1]=B-ce-1,b[M+J]=B+ce+1}}for(let C=0,M=0;C<h;C++){let B=(h-C)*4+(d?9:12),J=C*2,ce=v-1-J;for(let Ae=0;Ae<B;Ae++){let Me=Ae*2;for(let ze=0;ze<2;ze++)A[M+Me+ze]=o.get(b[J+ze],b[J+Ae]),A[M+2*B+Me+ze]=o.get(b[J+Ae],b[ce-ze]),A[M+4*B+Me+ze]=o.get(b[ce-ze],b[ce-Ae]),A[M+6*B+Me+ze]=o.get(b[ce-Ae],b[J+ze])}M+=B*8}return A}static readCode(o,d,h){let v=0;for(let b=d;b<d+h;b++)v<<=1,o[b]&&(v|=1);return v}static readByte(o,d){let h=o.length-d;return h>=8?at.readCode(o,d,8):at.readCode(o,d,h)<<8-h}static convertBoolArrayToByteArray(o){let d=new Uint8Array((o.length+7)/8);for(let h=0;h<d.length;h++)d[h]=at.readByte(o,8*h);return d}totalBitsInLayer(o,d){return((d?88:112)+16*o)*o}}at.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],at.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],at.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],at.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],at.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Be{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,d,h,v){const b=o-h,A=d-v;return Math.sqrt(b*b+A*A)}static sum(o){let d=0;for(let h=0,v=o.length;h!==v;h++){const b=o[h];d+=b}return d}}class Ze{static floatToIntBits(o){return o}}Ze.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Fe{constructor(o,d){this.x=o,this.y=d}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof Fe){const d=o;return this.x===d.x&&this.y===d.y}return!1}hashCode(){return 31*Ze.floatToIntBits(this.x)+Ze.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const d=this.distance(o[0],o[1]),h=this.distance(o[1],o[2]),v=this.distance(o[0],o[2]);let b,A,C;if(h>=d&&h>=v?(A=o[0],b=o[1],C=o[2]):v>=h&&v>=d?(A=o[1],b=o[0],C=o[2]):(A=o[2],b=o[0],C=o[1]),this.crossProductZ(b,A,C)<0){const M=b;b=C,C=M}o[0]=b,o[1]=A,o[2]=C}static distance(o,d){return Be.distance(o.x,o.y,d.x,d.y)}static crossProductZ(o,d,h){const v=d.x,b=d.y;return(h.x-v)*(o.y-b)-(h.y-b)*(o.x-v)}}class rt{constructor(o,d){this.bits=o,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class At extends rt{constructor(o,d,h,v,b){super(o,d),this.compact=h,this.nbDatablocks=v,this.nbLayers=b}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ht{constructor(o,d,h,v){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),d==null&&(d=Ht.INIT_SIZE),h==null&&(h=o.getWidth()/2|0),v==null&&(v=o.getHeight()/2|0);const b=d/2|0;if(this.leftInit=h-b,this.rightInit=h+b,this.upInit=v-b,this.downInit=v+b,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new q}detect(){let o=this.leftInit,d=this.rightInit,h=this.upInit,v=this.downInit,b=!1,A=!0,C=!1,M=!1,B=!1,J=!1,ce=!1;const Ae=this.width,Me=this.height;for(;A;){A=!1;let ze=!0;for(;(ze||!M)&&d<Ae;)ze=this.containsBlackPoint(h,v,d,!1),ze?(d++,A=!0,M=!0):M||d++;if(d>=Ae){b=!0;break}let He=!0;for(;(He||!B)&&v<Me;)He=this.containsBlackPoint(o,d,v,!0),He?(v++,A=!0,B=!0):B||v++;if(v>=Me){b=!0;break}let Xe=!0;for(;(Xe||!J)&&o>=0;)Xe=this.containsBlackPoint(h,v,o,!1),Xe?(o--,A=!0,J=!0):J||o--;if(o<0){b=!0;break}let dt=!0;for(;(dt||!ce)&&h>=0;)dt=this.containsBlackPoint(o,d,h,!0),dt?(h--,A=!0,ce=!0):ce||h--;if(h<0){b=!0;break}A&&(C=!0)}if(!b&&C){const ze=d-o;let He=null;for(let Rt=1;He===null&&Rt<ze;Rt++)He=this.getBlackPointOnSegment(o,v-Rt,o+Rt,v);if(He==null)throw new q;let Xe=null;for(let Rt=1;Xe===null&&Rt<ze;Rt++)Xe=this.getBlackPointOnSegment(o,h+Rt,o+Rt,h);if(Xe==null)throw new q;let dt=null;for(let Rt=1;dt===null&&Rt<ze;Rt++)dt=this.getBlackPointOnSegment(d,h+Rt,d-Rt,h);if(dt==null)throw new q;let Pt=null;for(let Rt=1;Pt===null&&Rt<ze;Rt++)Pt=this.getBlackPointOnSegment(d,v-Rt,d-Rt,v);if(Pt==null)throw new q;return this.centerEdges(Pt,He,dt,Xe)}else throw new q}getBlackPointOnSegment(o,d,h,v){const b=Be.round(Be.distance(o,d,h,v)),A=(h-o)/b,C=(v-d)/b,M=this.image;for(let B=0;B<b;B++){const J=Be.round(o+B*A),ce=Be.round(d+B*C);if(M.get(J,ce))return new Fe(J,ce)}return null}centerEdges(o,d,h,v){const b=o.getX(),A=o.getY(),C=d.getX(),M=d.getY(),B=h.getX(),J=h.getY(),ce=v.getX(),Ae=v.getY(),Me=Ht.CORR;return b<this.width/2?[new Fe(ce-Me,Ae+Me),new Fe(C+Me,M+Me),new Fe(B-Me,J-Me),new Fe(b+Me,A-Me)]:[new Fe(ce+Me,Ae+Me),new Fe(C+Me,M-Me),new Fe(B-Me,J+Me),new Fe(b-Me,A-Me)]}containsBlackPoint(o,d,h,v){const b=this.image;if(v){for(let A=o;A<=d;A++)if(b.get(A,h))return!0}else for(let A=o;A<=d;A++)if(b.get(h,A))return!0;return!1}}Ht.INIT_SIZE=10,Ht.CORR=1;class Yt{static checkAndNudgePoints(o,d){const h=o.getWidth(),v=o.getHeight();let b=!0;for(let A=0;A<d.length&&b;A+=2){const C=Math.floor(d[A]),M=Math.floor(d[A+1]);if(C<-1||C>h||M<-1||M>v)throw new q;b=!1,C===-1?(d[A]=0,b=!0):C===h&&(d[A]=h-1,b=!0),M===-1?(d[A+1]=0,b=!0):M===v&&(d[A+1]=v-1,b=!0)}b=!0;for(let A=d.length-2;A>=0&&b;A-=2){const C=Math.floor(d[A]),M=Math.floor(d[A+1]);if(C<-1||C>h||M<-1||M>v)throw new q;b=!1,C===-1?(d[A]=0,b=!0):C===h&&(d[A]=h-1,b=!0),M===-1?(d[A+1]=0,b=!0):M===v&&(d[A+1]=v-1,b=!0)}}}class Jt{constructor(o,d,h,v,b,A,C,M,B){this.a11=o,this.a21=d,this.a31=h,this.a12=v,this.a22=b,this.a32=A,this.a13=C,this.a23=M,this.a33=B}static quadrilateralToQuadrilateral(o,d,h,v,b,A,C,M,B,J,ce,Ae,Me,ze,He,Xe){const dt=Jt.quadrilateralToSquare(o,d,h,v,b,A,C,M);return Jt.squareToQuadrilateral(B,J,ce,Ae,Me,ze,He,Xe).times(dt)}transformPoints(o){const d=o.length,h=this.a11,v=this.a12,b=this.a13,A=this.a21,C=this.a22,M=this.a23,B=this.a31,J=this.a32,ce=this.a33;for(let Ae=0;Ae<d;Ae+=2){const Me=o[Ae],ze=o[Ae+1],He=b*Me+M*ze+ce;o[Ae]=(h*Me+A*ze+B)/He,o[Ae+1]=(v*Me+C*ze+J)/He}}transformPointsWithValues(o,d){const h=this.a11,v=this.a12,b=this.a13,A=this.a21,C=this.a22,M=this.a23,B=this.a31,J=this.a32,ce=this.a33,Ae=o.length;for(let Me=0;Me<Ae;Me++){const ze=o[Me],He=d[Me],Xe=b*ze+M*He+ce;o[Me]=(h*ze+A*He+B)/Xe,d[Me]=(v*ze+C*He+J)/Xe}}static squareToQuadrilateral(o,d,h,v,b,A,C,M){const B=o-h+b-C,J=d-v+A-M;if(B===0&&J===0)return new Jt(h-o,b-h,o,v-d,A-v,d,0,0,1);{const ce=h-b,Ae=C-b,Me=v-A,ze=M-A,He=ce*ze-Ae*Me,Xe=(B*ze-Ae*J)/He,dt=(ce*J-B*Me)/He;return new Jt(h-o+Xe*h,C-o+dt*C,o,v-d+Xe*v,M-d+dt*M,d,Xe,dt,1)}}static quadrilateralToSquare(o,d,h,v,b,A,C,M){return Jt.squareToQuadrilateral(o,d,h,v,b,A,C,M).buildAdjoint()}buildAdjoint(){return new Jt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new Jt(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class Ut extends Yt{sampleGrid(o,d,h,v,b,A,C,M,B,J,ce,Ae,Me,ze,He,Xe,dt,Pt,Rt){const Lt=Jt.quadrilateralToQuadrilateral(v,b,A,C,M,B,J,ce,Ae,Me,ze,He,Xe,dt,Pt,Rt);return this.sampleGridWithTransform(o,d,h,Lt)}sampleGridWithTransform(o,d,h,v){if(d<=0||h<=0)throw new q;const b=new ie(d,h),A=new Float32Array(2*d);for(let C=0;C<h;C++){const M=A.length,B=C+.5;for(let J=0;J<M;J+=2)A[J]=J/2+.5,A[J+1]=B;v.transformPoints(A),Yt.checkAndNudgePoints(o,A);try{for(let J=0;J<M;J+=2)o.get(Math.floor(A[J]),Math.floor(A[J+1]))&&b.set(J/2,C)}catch{throw new q}}return b}}class ir{static setGridSampler(o){ir.gridSampler=o}static getInstance(){return ir.gridSampler}}ir.gridSampler=new Ut;class Wt{constructor(o,d){this.x=o,this.y=d}toResultPoint(){return new Fe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ar{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let d=this.getMatrixCenter(),h=this.getBullsEyeCorners(d);if(o){let A=h[0];h[0]=h[2],h[2]=A}this.extractParameters(h);let v=this.sampleGrid(this.image,h[this.shift%4],h[(this.shift+1)%4],h[(this.shift+2)%4],h[(this.shift+3)%4]),b=this.getMatrixCornerPoints(h);return new At(v,b,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new q;let d=2*this.nbCenterLayers,h=new Int32Array([this.sampleLine(o[0],o[1],d),this.sampleLine(o[1],o[2],d),this.sampleLine(o[2],o[3],d),this.sampleLine(o[3],o[0],d)]);this.shift=this.getRotation(h,d);let v=0;for(let A=0;A<4;A++){let C=h[(this.shift+A)%4];this.compact?(v<<=7,v+=C>>1&127):(v<<=10,v+=(C>>2&992)+(C>>1&31))}let b=this.getCorrectedParameterData(v,this.compact);this.compact?(this.nbLayers=(b>>6)+1,this.nbDataBlocks=(b&63)+1):(this.nbLayers=(b>>11)+1,this.nbDataBlocks=(b&2047)+1)}getRotation(o,d){let h=0;o.forEach((v,b,A)=>{let C=(v>>d-2<<1)+(v&1);h=(h<<3)+C}),h=((h&1)<<11)+(h>>1);for(let v=0;v<4;v++)if(z.bitCount(h^this.EXPECTED_CORNER_BITS[v])<=2)return v;throw new q}getCorrectedParameterData(o,d){let h,v;d?(h=7,v=2):(h=10,v=4);let b=h-v,A=new Int32Array(h);for(let M=h-1;M>=0;--M)A[M]=o&15,o>>=4;try{new ne(Le.AZTEC_PARAM).decode(A,b)}catch{throw new q}let C=0;for(let M=0;M<v;M++)C=(C<<4)+A[M];return C}getBullsEyeCorners(o){let d=o,h=o,v=o,b=o,A=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let ce=this.getFirstDifferent(d,A,1,-1),Ae=this.getFirstDifferent(h,A,1,1),Me=this.getFirstDifferent(v,A,-1,1),ze=this.getFirstDifferent(b,A,-1,-1);if(this.nbCenterLayers>2){let He=this.distancePoint(ze,ce)*this.nbCenterLayers/(this.distancePoint(b,d)*(this.nbCenterLayers+2));if(He<.75||He>1.25||!this.isWhiteOrBlackRectangle(ce,Ae,Me,ze))break}d=ce,h=Ae,v=Me,b=ze,A=!A}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new q;this.compact=this.nbCenterLayers===5;let C=new Fe(d.getX()+.5,d.getY()-.5),M=new Fe(h.getX()+.5,h.getY()+.5),B=new Fe(v.getX()-.5,v.getY()+.5),J=new Fe(b.getX()-.5,b.getY()-.5);return this.expandSquare([C,M,B,J],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,d,h,v;try{let C=new Ht(this.image).detect();o=C[0],d=C[1],h=C[2],v=C[3]}catch{let M=this.image.getWidth()/2,B=this.image.getHeight()/2;o=this.getFirstDifferent(new Wt(M+7,B-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new Wt(M+7,B+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Wt(M-7,B+7),!1,-1,1).toResultPoint(),v=this.getFirstDifferent(new Wt(M-7,B-7),!1,-1,-1).toResultPoint()}let b=Be.round((o.getX()+v.getX()+d.getX()+h.getX())/4),A=Be.round((o.getY()+v.getY()+d.getY()+h.getY())/4);try{let C=new Ht(this.image,15,b,A).detect();o=C[0],d=C[1],h=C[2],v=C[3]}catch{o=this.getFirstDifferent(new Wt(b+7,A-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new Wt(b+7,A+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Wt(b-7,A+7),!1,-1,1).toResultPoint(),v=this.getFirstDifferent(new Wt(b-7,A-7),!1,-1,-1).toResultPoint()}return b=Be.round((o.getX()+v.getX()+d.getX()+h.getX())/4),A=Be.round((o.getY()+v.getY()+d.getY()+h.getY())/4),new Wt(b,A)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,d,h,v,b){let A=ir.getInstance(),C=this.getDimension(),M=C/2-this.nbCenterLayers,B=C/2+this.nbCenterLayers;return A.sampleGrid(o,C,C,M,M,B,M,B,B,M,B,d.getX(),d.getY(),h.getX(),h.getY(),v.getX(),v.getY(),b.getX(),b.getY())}sampleLine(o,d,h){let v=0,b=this.distanceResultPoint(o,d),A=b/h,C=o.getX(),M=o.getY(),B=A*(d.getX()-o.getX())/b,J=A*(d.getY()-o.getY())/b;for(let ce=0;ce<h;ce++)this.image.get(Be.round(C+ce*B),Be.round(M+ce*J))&&(v|=1<<h-ce-1);return v}isWhiteOrBlackRectangle(o,d,h,v){let b=3;o=new Wt(o.getX()-b,o.getY()+b),d=new Wt(d.getX()-b,d.getY()-b),h=new Wt(h.getX()+b,h.getY()-b),v=new Wt(v.getX()+b,v.getY()+b);let A=this.getColor(v,o);if(A===0)return!1;let C=this.getColor(o,d);return C!==A||(C=this.getColor(d,h),C!==A)?!1:(C=this.getColor(h,v),C===A)}getColor(o,d){let h=this.distancePoint(o,d),v=(d.getX()-o.getX())/h,b=(d.getY()-o.getY())/h,A=0,C=o.getX(),M=o.getY(),B=this.image.get(o.getX(),o.getY()),J=Math.ceil(h);for(let Ae=0;Ae<J;Ae++)C+=v,M+=b,this.image.get(Be.round(C),Be.round(M))!==B&&A++;let ce=A/h;return ce>.1&&ce<.9?0:ce<=.1===B?1:-1}getFirstDifferent(o,d,h,v){let b=o.getX()+h,A=o.getY()+v;for(;this.isValid(b,A)&&this.image.get(b,A)===d;)b+=h,A+=v;for(b-=h,A-=v;this.isValid(b,A)&&this.image.get(b,A)===d;)b+=h;for(b-=h;this.isValid(b,A)&&this.image.get(b,A)===d;)A+=v;return A-=v,new Wt(b,A)}expandSquare(o,d,h){let v=h/(2*d),b=o[0].getX()-o[2].getX(),A=o[0].getY()-o[2].getY(),C=(o[0].getX()+o[2].getX())/2,M=(o[0].getY()+o[2].getY())/2,B=new Fe(C+v*b,M+v*A),J=new Fe(C-v*b,M-v*A);b=o[1].getX()-o[3].getX(),A=o[1].getY()-o[3].getY(),C=(o[1].getX()+o[3].getX())/2,M=(o[1].getY()+o[3].getY())/2;let ce=new Fe(C+v*b,M+v*A),Ae=new Fe(C-v*b,M-v*A);return[B,ce,J,Ae]}isValid(o,d){return o>=0&&o<this.image.getWidth()&&d>0&&d<this.image.getHeight()}isValidPoint(o){let d=Be.round(o.getX()),h=Be.round(o.getY());return this.isValid(d,h)}distancePoint(o,d){return Be.distance(o.getX(),o.getY(),d.getX(),d.getY())}distanceResultPoint(o,d){return Be.distance(o.getX(),o.getY(),d.getX(),d.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(z.truncDivision(this.nbLayers-4,8)+1)+15}}class zt{decode(o,d=null){let h=null,v=new Ar(o.getBlackMatrix()),b=null,A=null;try{let J=v.detectMirror(!1);b=J.getPoints(),this.reportFoundResultPoints(d,b),A=new at().decode(J)}catch(J){h=J}if(A==null)try{let J=v.detectMirror(!0);b=J.getPoints(),this.reportFoundResultPoints(d,b),A=new at().decode(J)}catch(J){throw h??J}let C=new ae(A.getText(),A.getRawBytes(),A.getNumBits(),b,ve.AZTEC,_.currentTimeMillis()),M=A.getByteSegments();M!=null&&C.putMetadata(ke.BYTE_SEGMENTS,M);let B=A.getECLevel();return B!=null&&C.putMetadata(ke.ERROR_CORRECTION_LEVEL,B),C}reportFoundResultPoints(o,d){if(o!=null){let h=o.get(X.NEED_RESULT_POINT_CALLBACK);h!=null&&d.forEach((v,b,A)=>{h.foundPossibleResultPoint(v)})}}reset(){}}class Pn extends H{constructor(o=500){super(new zt,o)}}class Vt{decode(o,d){try{return this.doDecode(o,d)}catch{if(d&&d.get(X.TRY_HARDER)===!0&&o.isRotateSupported()){const b=o.rotateCounterClockwise(),A=this.doDecode(b,d),C=A.getResultMetadata();let M=270;C!==null&&C.get(ke.ORIENTATION)===!0&&(M=M+C.get(ke.ORIENTATION)%360),A.putMetadata(ke.ORIENTATION,M);const B=A.getResultPoints();if(B!==null){const J=b.getHeight();for(let ce=0;ce<B.length;ce++)B[ce]=new Fe(J-B[ce].getY()-1,B[ce].getX())}return A}else throw new q}}reset(){}doDecode(o,d){const h=o.getWidth(),v=o.getHeight();let b=new G(h);const A=d&&d.get(X.TRY_HARDER)===!0,C=Math.max(1,v>>(A?8:5));let M;A?M=v:M=15;const B=Math.trunc(v/2);for(let J=0;J<M;J++){const ce=Math.trunc((J+1)/2),Ae=(J&1)===0,Me=B+C*(Ae?ce:-ce);if(Me<0||Me>=v)break;try{b=o.getBlackRow(Me,b)}catch{continue}for(let ze=0;ze<2;ze++){if(ze===1&&(b.reverse(),d&&d.get(X.NEED_RESULT_POINT_CALLBACK)===!0)){const He=new Map;d.forEach((Xe,dt)=>He.set(dt,Xe)),He.delete(X.NEED_RESULT_POINT_CALLBACK),d=He}try{const He=this.decodeRow(Me,b,d);if(ze===1){He.putMetadata(ke.ORIENTATION,180);const Xe=He.getResultPoints();Xe!==null&&(Xe[0]=new Fe(h-Xe[0].getX()-1,Xe[0].getY()),Xe[1]=new Fe(h-Xe[1].getX()-1,Xe[1].getY()))}return He}catch{}}}throw new q}static recordPattern(o,d,h){const v=h.length;for(let B=0;B<v;B++)h[B]=0;const b=o.getSize();if(d>=b)throw new q;let A=!o.get(d),C=0,M=d;for(;M<b;){if(o.get(M)!==A)h[C]++;else{if(++C===v)break;h[C]=1,A=!A}M++}if(!(C===v||C===v-1&&M===b))throw new q}static recordPatternInReverse(o,d,h){let v=h.length,b=o.get(d);for(;d>0&&v>=0;)o.get(--d)!==b&&(v--,b=!b);if(v>=0)throw new q;Vt.recordPattern(o,d+1,h)}static patternMatchVariance(o,d,h){const v=o.length;let b=0,A=0;for(let B=0;B<v;B++)b+=o[B],A+=d[B];if(b<A)return Number.POSITIVE_INFINITY;const C=b/A;h*=C;let M=0;for(let B=0;B<v;B++){const J=o[B],ce=d[B]*C,Ae=J>ce?J-ce:ce-J;if(Ae>h)return Number.POSITIVE_INFINITY;M+=Ae}return M/b}}class Et extends Vt{static findStartPattern(o){const d=o.getSize(),h=o.getNextSet(0);let v=0,b=Int32Array.from([0,0,0,0,0,0]),A=h,C=!1;const M=6;for(let B=h;B<d;B++)if(o.get(B)!==C)b[v]++;else{if(v===M-1){let J=Et.MAX_AVG_VARIANCE,ce=-1;for(let Ae=Et.CODE_START_A;Ae<=Et.CODE_START_C;Ae++){const Me=Vt.patternMatchVariance(b,Et.CODE_PATTERNS[Ae],Et.MAX_INDIVIDUAL_VARIANCE);Me<J&&(J=Me,ce=Ae)}if(ce>=0&&o.isRange(Math.max(0,A-(B-A)/2),A,!1))return Int32Array.from([A,B,ce]);A+=b[0]+b[1],b=b.slice(2,b.length-1),b[v-1]=0,b[v]=0,v--}else v++;b[v]=1,C=!C}throw new q}static decodeCode(o,d,h){Vt.recordPattern(o,h,d);let v=Et.MAX_AVG_VARIANCE,b=-1;for(let A=0;A<Et.CODE_PATTERNS.length;A++){const C=Et.CODE_PATTERNS[A],M=this.patternMatchVariance(d,C,Et.MAX_INDIVIDUAL_VARIANCE);M<v&&(v=M,b=A)}if(b>=0)return b;throw new q}decodeRow(o,d,h){const v=h&&h.get(X.ASSUME_GS1)===!0,b=Et.findStartPattern(d),A=b[2];let C=0;const M=new Uint8Array(20);M[C++]=A;let B;switch(A){case Et.CODE_START_A:B=Et.CODE_CODE_A;break;case Et.CODE_START_B:B=Et.CODE_CODE_B;break;case Et.CODE_START_C:B=Et.CODE_CODE_C;break;default:throw new V}let J=!1,ce=!1,Ae="",Me=b[0],ze=b[1];const He=Int32Array.from([0,0,0,0,0,0]);let Xe=0,dt=0,Pt=A,Rt=0,Lt=!0,Ur=!1,Ir=!1;for(;!J;){const Zs=ce;switch(ce=!1,Xe=dt,dt=Et.decodeCode(d,He,ze),M[C++]=dt,dt!==Et.CODE_STOP&&(Lt=!0),dt!==Et.CODE_STOP&&(Rt++,Pt+=Rt*dt),Me=ze,ze+=He.reduce((bs,as)=>bs+as,0),dt){case Et.CODE_START_A:case Et.CODE_START_B:case Et.CODE_START_C:throw new V}switch(B){case Et.CODE_CODE_A:if(dt<64)Ir===Ur?Ae+=String.fromCharCode(32+dt):Ae+=String.fromCharCode(32+dt+128),Ir=!1;else if(dt<96)Ir===Ur?Ae+=String.fromCharCode(dt-64):Ae+=String.fromCharCode(dt+64),Ir=!1;else switch(dt!==Et.CODE_STOP&&(Lt=!1),dt){case Et.CODE_FNC_1:v&&(Ae.length===0?Ae+="]C1":Ae+="");break;case Et.CODE_FNC_2:case Et.CODE_FNC_3:break;case Et.CODE_FNC_4_A:!Ur&&Ir?(Ur=!0,Ir=!1):Ur&&Ir?(Ur=!1,Ir=!1):Ir=!0;break;case Et.CODE_SHIFT:ce=!0,B=Et.CODE_CODE_B;break;case Et.CODE_CODE_B:B=Et.CODE_CODE_B;break;case Et.CODE_CODE_C:B=Et.CODE_CODE_C;break;case Et.CODE_STOP:J=!0;break}break;case Et.CODE_CODE_B:if(dt<96)Ir===Ur?Ae+=String.fromCharCode(32+dt):Ae+=String.fromCharCode(32+dt+128),Ir=!1;else switch(dt!==Et.CODE_STOP&&(Lt=!1),dt){case Et.CODE_FNC_1:v&&(Ae.length===0?Ae+="]C1":Ae+="");break;case Et.CODE_FNC_2:case Et.CODE_FNC_3:break;case Et.CODE_FNC_4_B:!Ur&&Ir?(Ur=!0,Ir=!1):Ur&&Ir?(Ur=!1,Ir=!1):Ir=!0;break;case Et.CODE_SHIFT:ce=!0,B=Et.CODE_CODE_A;break;case Et.CODE_CODE_A:B=Et.CODE_CODE_A;break;case Et.CODE_CODE_C:B=Et.CODE_CODE_C;break;case Et.CODE_STOP:J=!0;break}break;case Et.CODE_CODE_C:if(dt<100)dt<10&&(Ae+="0"),Ae+=dt;else switch(dt!==Et.CODE_STOP&&(Lt=!1),dt){case Et.CODE_FNC_1:v&&(Ae.length===0?Ae+="]C1":Ae+="");break;case Et.CODE_CODE_A:B=Et.CODE_CODE_A;break;case Et.CODE_CODE_B:B=Et.CODE_CODE_B;break;case Et.CODE_STOP:J=!0;break}break}Zs&&(B=B===Et.CODE_CODE_A?Et.CODE_CODE_B:Et.CODE_CODE_A)}const Gn=ze-Me;if(ze=d.getNextUnset(ze),!d.isRange(ze,Math.min(d.getSize(),ze+(ze-Me)/2),!1))throw new q;if(Pt-=Rt*Xe,Pt%103!==Xe)throw new N;const ni=Ae.length;if(ni===0)throw new q;ni>0&&Lt&&(B===Et.CODE_CODE_C?Ae=Ae.substring(0,ni-2):Ae=Ae.substring(0,ni-1));const Aa=(b[1]+b[0])/2,dn=Me+Gn/2,Na=M.length,$a=new Uint8Array(Na);for(let Zs=0;Zs<Na;Zs++)$a[Zs]=M[Zs];const ys=[new Fe(Aa,o),new Fe(dn,o)];return new ae(Ae,$a,0,ys,ve.CODE_128,new Date().getTime())}}Et.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Et.MAX_AVG_VARIANCE=.25,Et.MAX_INDIVIDUAL_VARIANCE=.7,Et.CODE_SHIFT=98,Et.CODE_CODE_C=99,Et.CODE_CODE_B=100,Et.CODE_CODE_A=101,Et.CODE_FNC_1=102,Et.CODE_FNC_2=97,Et.CODE_FNC_3=96,Et.CODE_FNC_4_A=101,Et.CODE_FNC_4_B=100,Et.CODE_START_A=103,Et.CODE_START_B=104,Et.CODE_START_C=105,Et.CODE_STOP=106;class er extends Vt{constructor(o=!1,d=!1){super(),this.usingCheckDigit=o,this.extendedMode=d,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,d,h){let v=this.counters;v.fill(0),this.decodeRowResult="";let b=er.findAsteriskPattern(d,v),A=d.getNextSet(b[1]),C=d.getSize(),M,B;do{er.recordPattern(d,A,v);let He=er.toNarrowWidePattern(v);if(He<0)throw new q;M=er.patternToChar(He),this.decodeRowResult+=M,B=A;for(let Xe of v)A+=Xe;A=d.getNextSet(A)}while(M!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let J=0;for(let He of v)J+=He;let ce=A-B-J;if(A!==C&&ce*2<J)throw new q;if(this.usingCheckDigit){let He=this.decodeRowResult.length-1,Xe=0;for(let dt=0;dt<He;dt++)Xe+=er.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(dt));if(this.decodeRowResult.charAt(He)!==er.ALPHABET_STRING.charAt(Xe%43))throw new N;this.decodeRowResult=this.decodeRowResult.substring(0,He)}if(this.decodeRowResult.length===0)throw new q;let Ae;this.extendedMode?Ae=er.decodeExtended(this.decodeRowResult):Ae=this.decodeRowResult;let Me=(b[1]+b[0])/2,ze=B+J/2;return new ae(Ae,null,0,[new Fe(Me,o),new Fe(ze,o)],ve.CODE_39,new Date().getTime())}static findAsteriskPattern(o,d){let h=o.getSize(),v=o.getNextSet(0),b=0,A=v,C=!1,M=d.length;for(let B=v;B<h;B++)if(o.get(B)!==C)d[b]++;else{if(b===M-1){if(this.toNarrowWidePattern(d)===er.ASTERISK_ENCODING&&o.isRange(Math.max(0,A-Math.floor((B-A)/2)),A,!1))return[A,B];A+=d[0]+d[1],d.copyWithin(0,2,2+b-1),d[b-1]=0,d[b]=0,b--}else b++;d[b]=1,C=!C}throw new q}static toNarrowWidePattern(o){let d=o.length,h=0,v;do{let b=2147483647;for(let M of o)M<b&&M>h&&(b=M);h=b,v=0;let A=0,C=0;for(let M=0;M<d;M++){let B=o[M];B>h&&(C|=1<<d-1-M,v++,A+=B)}if(v===3){for(let M=0;M<d&&v>0;M++){let B=o[M];if(B>h&&(v--,B*2>=A))return-1}return C}}while(v>3);return-1}static patternToChar(o){for(let d=0;d<er.CHARACTER_ENCODINGS.length;d++)if(er.CHARACTER_ENCODINGS[d]===o)return er.ALPHABET_STRING.charAt(d);if(o===er.ASTERISK_ENCODING)return"*";throw new q}static decodeExtended(o){let d=o.length,h="";for(let v=0;v<d;v++){let b=o.charAt(v);if(b==="+"||b==="$"||b==="%"||b==="/"){let A=o.charAt(v+1),C="\0";switch(b){case"+":if(A>="A"&&A<="Z")C=String.fromCharCode(A.charCodeAt(0)+32);else throw new V;break;case"$":if(A>="A"&&A<="Z")C=String.fromCharCode(A.charCodeAt(0)-64);else throw new V;break;case"%":if(A>="A"&&A<="E")C=String.fromCharCode(A.charCodeAt(0)-38);else if(A>="F"&&A<="J")C=String.fromCharCode(A.charCodeAt(0)-11);else if(A>="K"&&A<="O")C=String.fromCharCode(A.charCodeAt(0)+16);else if(A>="P"&&A<="T")C=String.fromCharCode(A.charCodeAt(0)+43);else if(A==="U")C="\0";else if(A==="V")C="@";else if(A==="W")C="`";else if(A==="X"||A==="Y"||A==="Z")C="";else throw new V;break;case"/":if(A>="A"&&A<="O")C=String.fromCharCode(A.charCodeAt(0)-32);else if(A==="Z")C=":";else throw new V;break}h+=C,v++}else h+=b}return h}}er.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",er.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],er.ASTERISK_ENCODING=148;class Qt extends Vt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,d,h){let v=this.decodeStart(d),b=this.decodeEnd(d),A=new ye;Qt.decodeMiddle(d,v[1],b[0],A);let C=A.toString(),M=null;h!=null&&(M=h.get(X.ALLOWED_LENGTHS)),M==null&&(M=Qt.DEFAULT_ALLOWED_LENGTHS);let B=C.length,J=!1,ce=0;for(let ze of M){if(B===ze){J=!0;break}ze>ce&&(ce=ze)}if(!J&&B>ce&&(J=!0),!J)throw new V;const Ae=[new Fe(v[1],o),new Fe(b[0],o)];return new ae(C,null,0,Ae,ve.ITF,new Date().getTime())}static decodeMiddle(o,d,h,v){let b=new Int32Array(10),A=new Int32Array(5),C=new Int32Array(5);for(b.fill(0),A.fill(0),C.fill(0);d<h;){Vt.recordPattern(o,d,b);for(let B=0;B<5;B++){let J=2*B;A[B]=b[J],C[B]=b[J+1]}let M=Qt.decodeDigit(A);v.append(M.toString()),M=this.decodeDigit(C),v.append(M.toString()),b.forEach(function(B){d+=B})}}decodeStart(o){let d=Qt.skipWhiteSpace(o),h=Qt.findGuardPattern(o,d,Qt.START_PATTERN);return this.narrowLineWidth=(h[1]-h[0])/4,this.validateQuietZone(o,h[0]),h}validateQuietZone(o,d){let h=this.narrowLineWidth*10;h=h<d?h:d;for(let v=d-1;h>0&&v>=0&&!o.get(v);v--)h--;if(h!==0)throw new q}static skipWhiteSpace(o){const d=o.getSize(),h=o.getNextSet(0);if(h===d)throw new q;return h}decodeEnd(o){o.reverse();try{let d=Qt.skipWhiteSpace(o),h;try{h=Qt.findGuardPattern(o,d,Qt.END_PATTERN_REVERSED[0])}catch(b){b instanceof q&&(h=Qt.findGuardPattern(o,d,Qt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,h[0]);let v=h[0];return h[0]=o.getSize()-h[1],h[1]=o.getSize()-v,h}finally{o.reverse()}}static findGuardPattern(o,d,h){let v=h.length,b=new Int32Array(v),A=o.getSize(),C=!1,M=0,B=d;b.fill(0);for(let J=d;J<A;J++)if(o.get(J)!==C)b[M]++;else{if(M===v-1){if(Vt.patternMatchVariance(b,h,Qt.MAX_INDIVIDUAL_VARIANCE)<Qt.MAX_AVG_VARIANCE)return[B,J];B+=b[0]+b[1],_.arraycopy(b,2,b,0,M-1),b[M-1]=0,b[M]=0,M--}else M++;b[M]=1,C=!C}throw new q}static decodeDigit(o){let d=Qt.MAX_AVG_VARIANCE,h=-1,v=Qt.PATTERNS.length;for(let b=0;b<v;b++){let A=Qt.PATTERNS[b],C=Vt.patternMatchVariance(o,A,Qt.MAX_INDIVIDUAL_VARIANCE);C<d?(d=C,h=b):C===d&&(h=-1)}if(h>=0)return h%10;throw new q}}Qt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Qt.MAX_AVG_VARIANCE=.38,Qt.MAX_INDIVIDUAL_VARIANCE=.5,Qt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Qt.START_PATTERN=Int32Array.from([1,1,1,1]),Qt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Jr extends Vt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let d=!1,h,v=0,b=Int32Array.from([0,0,0]);for(;!d;){b=Int32Array.from([0,0,0]),h=Jr.findGuardPattern(o,v,!1,this.START_END_PATTERN,b);let A=h[0];v=h[1];let C=A-(v-A);C>=0&&(d=o.isRange(C,A,!1))}return h}static checkChecksum(o){return Jr.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let d=o.length;if(d===0)return!1;let h=parseInt(o.charAt(d-1),10);return Jr.getStandardUPCEANChecksum(o.substring(0,d-1))===h}static getStandardUPCEANChecksum(o){let d=o.length,h=0;for(let v=d-1;v>=0;v-=2){let b=o.charAt(v).charCodeAt(0)-48;if(b<0||b>9)throw new V;h+=b}h*=3;for(let v=d-2;v>=0;v-=2){let b=o.charAt(v).charCodeAt(0)-48;if(b<0||b>9)throw new V;h+=b}return(1e3-h)%10}static decodeEnd(o,d){return Jr.findGuardPattern(o,d,!1,Jr.START_END_PATTERN,new Int32Array(Jr.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,d,h,v){return this.findGuardPattern(o,d,h,v,new Int32Array(v.length))}static findGuardPattern(o,d,h,v,b){let A=o.getSize();d=h?o.getNextUnset(d):o.getNextSet(d);let C=0,M=d,B=v.length,J=h;for(let ce=d;ce<A;ce++)if(o.get(ce)!==J)b[C]++;else{if(C===B-1){if(Vt.patternMatchVariance(b,v,Jr.MAX_INDIVIDUAL_VARIANCE)<Jr.MAX_AVG_VARIANCE)return Int32Array.from([M,ce]);M+=b[0]+b[1];let Ae=b.slice(2,b.length-1);for(let Me=0;Me<C-1;Me++)b[Me]=Ae[Me];b[C-1]=0,b[C]=0,C--}else C++;b[C]=1,J=!J}throw new q}static decodeDigit(o,d,h,v){this.recordPattern(o,h,d);let b=this.MAX_AVG_VARIANCE,A=-1,C=v.length;for(let M=0;M<C;M++){let B=v[M],J=Vt.patternMatchVariance(d,B,Jr.MAX_INDIVIDUAL_VARIANCE);J<b&&(b=J,A=M)}if(A>=0)return A;throw new q}}Jr.MAX_AVG_VARIANCE=.48,Jr.MAX_INDIVIDUAL_VARIANCE=.7,Jr.START_END_PATTERN=Int32Array.from([1,1,1]),Jr.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Jr.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Jr.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Hr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,d,h){let v=this.decodeRowStringBuffer,b=this.decodeMiddle(d,h,v),A=v.toString(),C=Hr.parseExtensionString(A),M=[new Fe((h[0]+h[1])/2,o),new Fe(b,o)],B=new ae(A,null,0,M,ve.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&B.putAllMetadata(C),B}decodeMiddle(o,d,h){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let b=o.getSize(),A=d[1],C=0;for(let B=0;B<5&&A<b;B++){let J=Jr.decodeDigit(o,v,A,Jr.L_AND_G_PATTERNS);h+=String.fromCharCode(48+J%10);for(let ce of v)A+=ce;J>=10&&(C|=1<<4-B),B!==4&&(A=o.getNextSet(A),A=o.getNextUnset(A))}if(h.length!==5)throw new q;let M=this.determineCheckDigit(C);if(Hr.extensionChecksum(h.toString())!==M)throw new q;return A}static extensionChecksum(o){let d=o.length,h=0;for(let v=d-2;v>=0;v-=2)h+=o.charAt(v).charCodeAt(0)-48;h*=3;for(let v=d-1;v>=0;v-=2)h+=o.charAt(v).charCodeAt(0)-48;return h*=3,h%10}determineCheckDigit(o){for(let d=0;d<10;d++)if(o===this.CHECK_DIGIT_ENCODINGS[d])return d;throw new q}static parseExtensionString(o){if(o.length!==5)return null;let d=Hr.parseExtension5String(o);return d==null?null:new Map([[ke.SUGGESTED_PRICE,d]])}static parseExtension5String(o){let d;switch(o.charAt(0)){case"0":d="";break;case"5":d="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}d="";break;default:d="";break}let h=parseInt(o.substring(1)),v=(h/100).toString(),b=h%100,A=b<10?"0"+b:b.toString();return d+v+"."+A}}class Ri{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,d,h){let v=this.decodeRowStringBuffer,b=this.decodeMiddle(d,h,v),A=v.toString(),C=Ri.parseExtensionString(A),M=[new Fe((h[0]+h[1])/2,o),new Fe(b,o)],B=new ae(A,null,0,M,ve.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&B.putAllMetadata(C),B}decodeMiddle(o,d,h){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let b=o.getSize(),A=d[1],C=0;for(let M=0;M<2&&A<b;M++){let B=Jr.decodeDigit(o,v,A,Jr.L_AND_G_PATTERNS);h+=String.fromCharCode(48+B%10);for(let J of v)A+=J;B>=10&&(C|=1<<1-M),M!==1&&(A=o.getNextSet(A),A=o.getNextUnset(A))}if(h.length!==2)throw new q;if(parseInt(h.toString())%4!==C)throw new q;return A}static parseExtensionString(o){return o.length!==2?null:new Map([[ke.ISSUE_NUMBER,parseInt(o)]])}}class xn{static decodeRow(o,d,h){let v=Jr.findGuardPattern(d,h,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Hr().decodeRow(o,d,v)}catch{return new Ri().decodeRow(o,d,v)}}}xn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Er extends Jr{constructor(){super(),this.decodeRowStringBuffer="",Er.L_AND_G_PATTERNS=Er.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let d=Er.L_PATTERNS[o-10],h=new Int32Array(d.length);for(let v=0;v<d.length;v++)h[v]=d[d.length-v-1];Er.L_AND_G_PATTERNS[o]=h}}decodeRow(o,d,h){let v=Er.findStartGuardPattern(d),b=h==null?null:h.get(X.NEED_RESULT_POINT_CALLBACK);if(b!=null){const Lt=new Fe((v[0]+v[1])/2,o);b.foundPossibleResultPoint(Lt)}let A=this.decodeMiddle(d,v,this.decodeRowStringBuffer),C=A.rowOffset,M=A.resultString;if(b!=null){const Lt=new Fe(C,o);b.foundPossibleResultPoint(Lt)}let B=this.decodeEnd(d,C);if(b!=null){const Lt=new Fe((B[0]+B[1])/2,o);b.foundPossibleResultPoint(Lt)}let J=B[1],ce=J+(J-B[0]);if(ce>=d.getSize()||!d.isRange(J,ce,!1))throw new q;let Ae=M.toString();if(Ae.length<8)throw new V;if(!Er.checkChecksum(Ae))throw new N;let Me=(v[1]+v[0])/2,ze=(B[1]+B[0])/2,He=this.getBarcodeFormat(),Xe=[new Fe(Me,o),new Fe(ze,o)],dt=new ae(Ae,null,0,Xe,He,new Date().getTime()),Pt=0;try{let Lt=xn.decodeRow(o,d,B[1]);dt.putMetadata(ke.UPC_EAN_EXTENSION,Lt.getText()),dt.putAllMetadata(Lt.getResultMetadata()),dt.addResultPoints(Lt.getResultPoints()),Pt=Lt.getText().length}catch{}let Rt=h==null?null:h.get(X.ALLOWED_EAN_EXTENSIONS);if(Rt!=null){let Lt=!1;for(let Ur in Rt)if(Pt.toString()===Ur){Lt=!0;break}if(!Lt)throw new q}return dt}decodeEnd(o,d){return Er.findGuardPattern(o,d,!1,Er.START_END_PATTERN,new Int32Array(Er.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return Er.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let d=o.length;if(d===0)return!1;let h=parseInt(o.charAt(d-1),10);return Er.getStandardUPCEANChecksum(o.substring(0,d-1))===h}static getStandardUPCEANChecksum(o){let d=o.length,h=0;for(let v=d-1;v>=0;v-=2){let b=o.charAt(v).charCodeAt(0)-48;if(b<0||b>9)throw new V;h+=b}h*=3;for(let v=d-2;v>=0;v-=2){let b=o.charAt(v).charCodeAt(0)-48;if(b<0||b>9)throw new V;h+=b}return(1e3-h)%10}}class oa extends Er{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,d,h){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let b=o.getSize(),A=d[1],C=0;for(let B=0;B<6&&A<b;B++){let J=Er.decodeDigit(o,v,A,Er.L_AND_G_PATTERNS);h+=String.fromCharCode(48+J%10);for(let ce of v)A+=ce;J>=10&&(C|=1<<5-B)}h=oa.determineFirstDigit(h,C),A=Er.findGuardPattern(o,A,!0,Er.MIDDLE_PATTERN,new Int32Array(Er.MIDDLE_PATTERN.length).fill(0))[1];for(let B=0;B<6&&A<b;B++){let J=Er.decodeDigit(o,v,A,Er.L_PATTERNS);h+=String.fromCharCode(48+J);for(let ce of v)A+=ce}return{rowOffset:A,resultString:h}}getBarcodeFormat(){return ve.EAN_13}static determineFirstDigit(o,d){for(let h=0;h<10;h++)if(d===this.FIRST_DIGIT_ENCODINGS[h])return o=String.fromCharCode(48+h)+o,o;throw new q}}oa.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class cn extends Er{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,d,h){const v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let b=o.getSize(),A=d[1];for(let M=0;M<4&&A<b;M++){let B=Er.decodeDigit(o,v,A,Er.L_PATTERNS);h+=String.fromCharCode(48+B);for(let J of v)A+=J}A=Er.findGuardPattern(o,A,!0,Er.MIDDLE_PATTERN,new Int32Array(Er.MIDDLE_PATTERN.length).fill(0))[1];for(let M=0;M<4&&A<b;M++){let B=Er.decodeDigit(o,v,A,Er.L_PATTERNS);h+=String.fromCharCode(48+B);for(let J of v)A+=J}return{rowOffset:A,resultString:h}}getBarcodeFormat(){return ve.EAN_8}}class xr extends Er{constructor(){super(...arguments),this.ean13Reader=new oa}getBarcodeFormat(){return ve.UPC_A}decode(o,d){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,d,h){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,d,h))}decodeMiddle(o,d,h){return this.ean13Reader.decodeMiddle(o,d,h)}maybeReturnResult(o){let d=o.getText();if(d.charAt(0)==="0"){let h=new ae(d.substring(1),null,null,o.getResultPoints(),ve.UPC_A);return o.getResultMetadata()!=null&&h.putAllMetadata(o.getResultMetadata()),h}else throw new q}reset(){this.ean13Reader.reset()}}class Cr extends Er{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,d,h){const v=this.decodeMiddleCounters.map(B=>B);v[0]=0,v[1]=0,v[2]=0,v[3]=0;const b=o.getSize();let A=d[1],C=0;for(let B=0;B<6&&A<b;B++){const J=Cr.decodeDigit(o,v,A,Cr.L_AND_G_PATTERNS);h+=String.fromCharCode(48+J%10);for(let ce of v)A+=ce;J>=10&&(C|=1<<5-B)}let M=Cr.determineNumSysAndCheckDigit(h,C);return{rowOffset:A,resultString:M}}decodeEnd(o,d){return Cr.findGuardPatternWithoutCounters(o,d,!0,Cr.MIDDLE_END_PATTERN)}checkChecksum(o){return Er.checkChecksum(Cr.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,d){for(let h=0;h<=1;h++)for(let v=0;v<10;v++)if(d===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[h][v]){let b=String.fromCharCode(48+h),A=String.fromCharCode(48+v);return b+o+A}throw q.getNotFoundInstance()}getBarcodeFormat(){return ve.UPC_E}static convertUPCEtoUPCA(o){const d=o.slice(1,7).split("").map(b=>b.charCodeAt(0)),h=new ye;h.append(o.charAt(0));let v=d[5];switch(v){case 0:case 1:case 2:h.appendChars(d,0,2),h.append(v),h.append("0000"),h.appendChars(d,2,3);break;case 3:h.appendChars(d,0,3),h.append("00000"),h.appendChars(d,3,2);break;case 4:h.appendChars(d,0,4),h.append("00000"),h.append(d[4]);break;default:h.appendChars(d,0,5),h.append("0000"),h.append(v);break}return o.length>=8&&h.append(o.charAt(7)),h.toString()}}Cr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Cr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class es extends Vt{constructor(o){super();let d=o==null?null:o.get(X.POSSIBLE_FORMATS),h=[];n(d)?(h.push(new oa),h.push(new xr),h.push(new cn),h.push(new Cr)):(d.indexOf(ve.EAN_13)>-1&&h.push(new oa),d.indexOf(ve.UPC_A)>-1&&h.push(new xr),d.indexOf(ve.EAN_8)>-1&&h.push(new cn),d.indexOf(ve.UPC_E)>-1&&h.push(new Cr)),this.readers=h}decodeRow(o,d,h){for(let v of this.readers)try{const b=v.decodeRow(o,d,h),A=b.getBarcodeFormat()===ve.EAN_13&&b.getText().charAt(0)==="0",C=h==null?null:h.get(X.POSSIBLE_FORMATS),M=C==null||C.includes(ve.UPC_A);if(A&&M){const B=b.getRawBytes(),J=new ae(b.getText().substring(1),B,B?B.length:null,b.getResultPoints(),ve.UPC_A);return J.putAllMetadata(b.getResultMetadata()),J}return b}catch{}throw new q}reset(){for(let o of this.readers)o.reset()}}class $r extends Vt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,d){for(let h=0;h<d.length;h++)if(Vt.patternMatchVariance(o,d[h],$r.MAX_INDIVIDUAL_VARIANCE)<$r.MAX_AVG_VARIANCE)return h;throw new q}static count(o){return Be.sum(new Int32Array(o))}static increment(o,d){let h=0,v=d[0];for(let b=1;b<o.length;b++)d[b]>v&&(v=d[b],h=b);o[h]++}static decrement(o,d){let h=0,v=d[0];for(let b=1;b<o.length;b++)d[b]<v&&(v=d[b],h=b);o[h]--}static isFinderPattern(o){let d=o[0]+o[1],h=d+o[2]+o[3],v=d/h;if(v>=$r.MIN_FINDER_PATTERN_RATIO&&v<=$r.MAX_FINDER_PATTERN_RATIO){let b=Number.MAX_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER;for(let C of o)C>A&&(A=C),C<b&&(b=C);return A<10*b}return!1}}$r.MAX_AVG_VARIANCE=.2,$r.MAX_INDIVIDUAL_VARIANCE=.45,$r.MIN_FINDER_PATTERN_RATIO=9.5/12,$r.MAX_FINDER_PATTERN_RATIO=12.5/14;class la{constructor(o,d){this.value=o,this.checksumPortion=d}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof la))return!1;const d=o;return this.value===d.value&&this.checksumPortion===d.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ca{constructor(o,d,h,v,b){this.value=o,this.startEnd=d,this.value=o,this.startEnd=d,this.resultPoints=new Array,this.resultPoints.push(new Fe(h,b)),this.resultPoints.push(new Fe(v,b))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof ca))return!1;const d=o;return this.value===d.value}hashCode(){return this.value}}class or{constructor(){}static getRSSvalue(o,d,h){let v=0;for(let M of o)v+=M;let b=0,A=0,C=o.length;for(let M=0;M<C-1;M++){let B;for(B=1,A|=1<<M;B<o[M];B++,A&=~(1<<M)){let J=or.combins(v-B-1,C-M-2);if(h&&A===0&&v-B-(C-M-1)>=C-M-1&&(J-=or.combins(v-B-(C-M),C-M-2)),C-M-1>1){let ce=0;for(let Ae=v-B-(C-M-2);Ae>d;Ae--)ce+=or.combins(v-B-Ae-1,C-M-3);J-=ce*(C-1-M)}else v-B>d&&J--;b+=J}v-=B}return b}static combins(o,d){let h,v;o-d>d?(v=d,h=o-d):(v=o-d,h=d);let b=1,A=1;for(let C=o;C>h;C--)b*=C,A<=v&&(b/=A,A++);for(;A<=v;)b/=A,A++;return b}}class Ja{static buildBitArray(o){let d=o.length*2-1;o[o.length-1].getRightChar()==null&&(d-=1);let h=12*d,v=new G(h),b=0,C=o[0].getRightChar().getValue();for(let M=11;M>=0;--M)C&1<<M&&v.set(b),b++;for(let M=1;M<o.length;++M){let B=o[M],J=B.getLeftChar().getValue();for(let ce=11;ce>=0;--ce)J&1<<ce&&v.set(b),b++;if(B.getRightChar()!=null){let ce=B.getRightChar().getValue();for(let Ae=11;Ae>=0;--Ae)ce&1<<Ae&&v.set(b),b++}}return v}}class ea{constructor(o,d){d?this.decodedInformation=null:(this.finished=o,this.decodedInformation=d)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ya{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class Xr extends ya{constructor(o,d){super(o),this.value=d}getValue(){return this.value}isFNC1(){return this.value===Xr.FNC1}}Xr.FNC1="$";class je extends ya{constructor(o,d,h){super(o),h?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=d}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class jt extends ya{constructor(o,d,h){if(super(o),d<0||d>10||h<0||h>10)throw new V;this.firstDigit=d,this.secondDigit=h}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===jt.FNC1}isSecondDigitFNC1(){return this.secondDigit===jt.FNC1}isAnyFNC1(){return this.firstDigit===jt.FNC1||this.secondDigit===jt.FNC1}}jt.FNC1=10;class et{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new q;let d=o.substring(0,2);for(let b of et.TWO_DIGIT_DATA_LENGTH)if(b[0]===d)return b[1]===et.VARIABLE_LENGTH?et.processVariableAI(2,b[2],o):et.processFixedAI(2,b[1],o);if(o.length<3)throw new q;let h=o.substring(0,3);for(let b of et.THREE_DIGIT_DATA_LENGTH)if(b[0]===h)return b[1]===et.VARIABLE_LENGTH?et.processVariableAI(3,b[2],o):et.processFixedAI(3,b[1],o);for(let b of et.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(b[0]===h)return b[1]===et.VARIABLE_LENGTH?et.processVariableAI(4,b[2],o):et.processFixedAI(4,b[1],o);if(o.length<4)throw new q;let v=o.substring(0,4);for(let b of et.FOUR_DIGIT_DATA_LENGTH)if(b[0]===v)return b[1]===et.VARIABLE_LENGTH?et.processVariableAI(4,b[2],o):et.processFixedAI(4,b[1],o);throw new q}static processFixedAI(o,d,h){if(h.length<o)throw new q;let v=h.substring(0,o);if(h.length<o+d)throw new q;let b=h.substring(o,o+d),A=h.substring(o+d),C="("+v+")"+b,M=et.parseFieldsInGeneralPurpose(A);return M==null?C:C+M}static processVariableAI(o,d,h){let v=h.substring(0,o),b;h.length<o+d?b=h.length:b=o+d;let A=h.substring(o,b),C=h.substring(b),M="("+v+")"+A,B=et.parseFieldsInGeneralPurpose(C);return B==null?M:M+B}}et.VARIABLE_LENGTH=[],et.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",et.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",et.VARIABLE_LENGTH,20],["22",et.VARIABLE_LENGTH,29],["30",et.VARIABLE_LENGTH,8],["37",et.VARIABLE_LENGTH,8],["90",et.VARIABLE_LENGTH,30],["91",et.VARIABLE_LENGTH,30],["92",et.VARIABLE_LENGTH,30],["93",et.VARIABLE_LENGTH,30],["94",et.VARIABLE_LENGTH,30],["95",et.VARIABLE_LENGTH,30],["96",et.VARIABLE_LENGTH,30],["97",et.VARIABLE_LENGTH,3],["98",et.VARIABLE_LENGTH,30],["99",et.VARIABLE_LENGTH,30]],et.THREE_DIGIT_DATA_LENGTH=[["240",et.VARIABLE_LENGTH,30],["241",et.VARIABLE_LENGTH,30],["242",et.VARIABLE_LENGTH,6],["250",et.VARIABLE_LENGTH,30],["251",et.VARIABLE_LENGTH,30],["253",et.VARIABLE_LENGTH,17],["254",et.VARIABLE_LENGTH,20],["400",et.VARIABLE_LENGTH,30],["401",et.VARIABLE_LENGTH,30],["402",17],["403",et.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",et.VARIABLE_LENGTH,20],["421",et.VARIABLE_LENGTH,15],["422",3],["423",et.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],et.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",et.VARIABLE_LENGTH,15],["391",et.VARIABLE_LENGTH,18],["392",et.VARIABLE_LENGTH,15],["393",et.VARIABLE_LENGTH,18],["703",et.VARIABLE_LENGTH,30]],et.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",et.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",et.VARIABLE_LENGTH,20],["8003",et.VARIABLE_LENGTH,30],["8004",et.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",et.VARIABLE_LENGTH,30],["8008",et.VARIABLE_LENGTH,12],["8018",18],["8020",et.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",et.VARIABLE_LENGTH,70],["8200",et.VARIABLE_LENGTH,70]];class bt{constructor(o){this.buffer=new ye,this.information=o}decodeAllCodes(o,d){let h=d,v=null;do{let b=this.decodeGeneralPurposeField(h,v),A=et.parseFieldsInGeneralPurpose(b.getNewString());if(A!=null&&o.append(A),b.isRemaining()?v=""+b.getRemainingValue():v=null,h===b.getNewPosition())break;h=b.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let d=o;d<o+3;++d)if(this.information.get(d))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let b=this.extractNumericValueFromBitArray(o,4);return b===0?new jt(this.information.getSize(),jt.FNC1,jt.FNC1):new jt(this.information.getSize(),b-1,jt.FNC1)}let d=this.extractNumericValueFromBitArray(o,7),h=(d-8)/11,v=(d-8)%11;return new jt(o+7,h,v)}extractNumericValueFromBitArray(o,d){return bt.extractNumericValueFromBitArray(this.information,o,d)}static extractNumericValueFromBitArray(o,d,h){let v=0;for(let b=0;b<h;++b)o.get(d+b)&&(v|=1<<h-b-1);return v}decodeGeneralPurposeField(o,d){this.buffer.setLengthToZero(),d!=null&&this.buffer.append(d),this.current.setPosition(o);let h=this.parseBlocks();return h!=null&&h.isRemaining()?new je(this.current.getPosition(),this.buffer.toString(),h.getRemainingValue()):new je(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,d;do{let h=this.current.getPosition();if(this.current.isAlpha()?(d=this.parseAlphaBlock(),o=d.isFinished()):this.current.isIsoIec646()?(d=this.parseIsoIec646Block(),o=d.isFinished()):(d=this.parseNumericBlock(),o=d.isFinished()),!(h!==this.current.getPosition())&&!o)break}while(!o);return d.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let d;return o.isSecondDigitFNC1()?d=new je(this.current.getPosition(),this.buffer.toString()):d=new je(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new ea(!0,d)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let d=new je(this.current.getPosition(),this.buffer.toString());return new ea(!0,d)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ea(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let d=new je(this.current.getPosition(),this.buffer.toString());return new ea(!0,d)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ea(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let d=new je(this.current.getPosition(),this.buffer.toString());return new ea(!0,d)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ea(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(o,5);if(d>=5&&d<16)return!0;if(o+7>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(o,7);if(h>=64&&h<116)return!0;if(o+8>this.information.getSize())return!1;let v=this.extractNumericValueFromBitArray(o,8);return v>=232&&v<253}decodeIsoIec646(o){let d=this.extractNumericValueFromBitArray(o,5);if(d===15)return new Xr(o+5,Xr.FNC1);if(d>=5&&d<15)return new Xr(o+5,"0"+(d-5));let h=this.extractNumericValueFromBitArray(o,7);if(h>=64&&h<90)return new Xr(o+7,""+(h+1));if(h>=90&&h<116)return new Xr(o+7,""+(h+7));let v=this.extractNumericValueFromBitArray(o,8),b;switch(v){case 232:b="!";break;case 233:b='"';break;case 234:b="%";break;case 235:b="&";break;case 236:b="'";break;case 237:b="(";break;case 238:b=")";break;case 239:b="*";break;case 240:b="+";break;case 241:b=",";break;case 242:b="-";break;case 243:b=".";break;case 244:b="/";break;case 245:b=":";break;case 246:b=";";break;case 247:b="<";break;case 248:b="=";break;case 249:b=">";break;case 250:b="?";break;case 251:b="_";break;case 252:b=" ";break;default:throw new V}return new Xr(o+8,b)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(o,5);if(d>=5&&d<16)return!0;if(o+6>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(o,6);return h>=16&&h<63}decodeAlphanumeric(o){let d=this.extractNumericValueFromBitArray(o,5);if(d===15)return new Xr(o+5,Xr.FNC1);if(d>=5&&d<15)return new Xr(o+5,"0"+(d-5));let h=this.extractNumericValueFromBitArray(o,6);if(h>=32&&h<58)return new Xr(o+6,""+(h+33));let v;switch(h){case 58:v="*";break;case 59:v=",";break;case 60:v="-";break;case 61:v=".";break;case 62:v="/";break;default:throw new Pe("Decoding invalid alphanumeric value: "+h)}return new Xr(o+6,v)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let d=0;d<5&&d+o<this.information.getSize();++d)if(d===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+d))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let d=o;d<o+3;++d)if(this.information.get(d))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let d=0;d<4&&d+o<this.information.getSize();++d)if(this.information.get(o+d))return!1;return!0}}class Ft{constructor(o){this.information=o,this.generalDecoder=new bt(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Re extends Ft{constructor(o){super(o)}encodeCompressedGtin(o,d){o.append("(01)");let h=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,d,h)}encodeCompressedGtinWithoutAI(o,d,h){for(let v=0;v<4;++v){let b=this.getGeneralDecoder().extractNumericValueFromBitArray(d+10*v,10);b/100===0&&o.append("0"),b/10===0&&o.append("0"),o.append(b)}Re.appendCheckDigit(o,h)}static appendCheckDigit(o,d){let h=0;for(let v=0;v<13;v++){let b=o.charAt(v+d).charCodeAt(0)-48;h+=v&1?b:3*b}h=10-h%10,h===10&&(h=0),o.append(h)}}Re.GTIN_SIZE=40;class mt extends Re{constructor(o){super(o)}parseInformation(){let o=new ye;o.append("(01)");let d=o.length(),h=this.getGeneralDecoder().extractNumericValueFromBitArray(mt.HEADER_SIZE,4);return o.append(h),this.encodeCompressedGtinWithoutAI(o,mt.HEADER_SIZE+4,d),this.getGeneralDecoder().decodeAllCodes(o,mt.HEADER_SIZE+44)}}mt.HEADER_SIZE=4;class pt extends Ft{constructor(o){super(o)}parseInformation(){let o=new ye;return this.getGeneralDecoder().decodeAllCodes(o,pt.HEADER_SIZE)}}pt.HEADER_SIZE=5;class Ot extends Re{constructor(o){super(o)}encodeCompressedWeight(o,d,h){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(d,h);this.addWeightCode(o,v);let b=this.checkWeight(v),A=1e5;for(let C=0;C<5;++C)b/A===0&&o.append("0"),A/=10;o.append(b)}}class Dt extends Ot{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=Dt.HEADER_SIZE+Ot.GTIN_SIZE+Dt.WEIGHT_SIZE)throw new q;let o=new ye;return this.encodeCompressedGtin(o,Dt.HEADER_SIZE),this.encodeCompressedWeight(o,Dt.HEADER_SIZE+Ot.GTIN_SIZE,Dt.WEIGHT_SIZE),o.toString()}}Dt.HEADER_SIZE=5,Dt.WEIGHT_SIZE=15;class It extends Dt{constructor(o){super(o)}addWeightCode(o,d){o.append("(3103)")}checkWeight(o){return o}}class tr extends Dt{constructor(o){super(o)}addWeightCode(o,d){d<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class Xt extends Re{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Xt.HEADER_SIZE+Re.GTIN_SIZE)throw new q;let o=new ye;this.encodeCompressedGtin(o,Xt.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(Xt.HEADER_SIZE+Re.GTIN_SIZE,Xt.LAST_DIGIT_SIZE);o.append("(392"),o.append(d),o.append(")");let h=this.getGeneralDecoder().decodeGeneralPurposeField(Xt.HEADER_SIZE+Re.GTIN_SIZE+Xt.LAST_DIGIT_SIZE,null);return o.append(h.getNewString()),o.toString()}}Xt.HEADER_SIZE=8,Xt.LAST_DIGIT_SIZE=2;class cr extends Re{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<cr.HEADER_SIZE+Re.GTIN_SIZE)throw new q;let o=new ye;this.encodeCompressedGtin(o,cr.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(cr.HEADER_SIZE+Re.GTIN_SIZE,cr.LAST_DIGIT_SIZE);o.append("(393"),o.append(d),o.append(")");let h=this.getGeneralDecoder().extractNumericValueFromBitArray(cr.HEADER_SIZE+Re.GTIN_SIZE+cr.LAST_DIGIT_SIZE,cr.FIRST_THREE_DIGITS_SIZE);h/100==0&&o.append("0"),h/10==0&&o.append("0"),o.append(h);let v=this.getGeneralDecoder().decodeGeneralPurposeField(cr.HEADER_SIZE+Re.GTIN_SIZE+cr.LAST_DIGIT_SIZE+cr.FIRST_THREE_DIGITS_SIZE,null);return o.append(v.getNewString()),o.toString()}}cr.HEADER_SIZE=8,cr.LAST_DIGIT_SIZE=2,cr.FIRST_THREE_DIGITS_SIZE=10;class Nt extends Ot{constructor(o,d,h){super(o),this.dateCode=h,this.firstAIdigits=d}parseInformation(){if(this.getInformation().getSize()!=Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE+Nt.DATE_SIZE)throw new q;let o=new ye;return this.encodeCompressedGtin(o,Nt.HEADER_SIZE),this.encodeCompressedWeight(o,Nt.HEADER_SIZE+Nt.GTIN_SIZE,Nt.WEIGHT_SIZE),this.encodeCompressedDate(o,Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,d){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(d,Nt.DATE_SIZE);if(h==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let v=h%32;h/=32;let b=h%12+1;h/=12;let A=h;A/10==0&&o.append("0"),o.append(A),b/10==0&&o.append("0"),o.append(b),v/10==0&&o.append("0"),o.append(v)}addWeightCode(o,d){o.append("("),o.append(this.firstAIdigits),o.append(d/1e5),o.append(")")}checkWeight(o){return o%1e5}}Nt.HEADER_SIZE=8,Nt.WEIGHT_SIZE=20,Nt.DATE_SIZE=16;function mr(fe){try{if(fe.get(1))return new mt(fe);if(!fe.get(2))return new pt(fe);switch(bt.extractNumericValueFromBitArray(fe,1,4)){case 4:return new It(fe);case 5:return new tr(fe)}switch(bt.extractNumericValueFromBitArray(fe,1,5)){case 12:return new Xt(fe);case 13:return new cr(fe)}switch(bt.extractNumericValueFromBitArray(fe,1,7)){case 56:return new Nt(fe,"310","11");case 57:return new Nt(fe,"320","11");case 58:return new Nt(fe,"310","13");case 59:return new Nt(fe,"320","13");case 60:return new Nt(fe,"310","15");case 61:return new Nt(fe,"320","15");case 62:return new Nt(fe,"310","17");case 63:return new Nt(fe,"320","17")}}catch(o){throw console.log(o),new Pe("unknown decoder: "+fe)}}class Lr{constructor(o,d,h,v){this.leftchar=o,this.rightchar=d,this.finderpattern=h,this.maybeLast=v}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,d){return o instanceof Lr?Lr.equalsOrNull(o.leftchar,d.leftchar)&&Lr.equalsOrNull(o.rightchar,d.rightchar)&&Lr.equalsOrNull(o.finderpattern,d.finderpattern):!1}static equalsOrNull(o,d){return o===null?d===null:Lr.equals(o,d)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Vr{constructor(o,d,h){this.pairs=o,this.rowNumber=d,this.wasReversed=h}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,d){return o instanceof Vr?this.checkEqualitity(o,d)&&o.wasReversed===d.wasReversed:!1}checkEqualitity(o,d){if(!o||!d)return;let h;return o.forEach((v,b)=>{d.forEach(A=>{v.getLeftChar().getValue()===A.getLeftChar().getValue()&&v.getRightChar().getValue()===A.getRightChar().getValue()&&v.getFinderPatter().getValue()===A.getFinderPatter().getValue()&&(h=!0)})}),h}}class vt extends $r{constructor(o){super(...arguments),this.pairs=new Array(vt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,d,h){this.pairs.length=0,this.startFromEven=!1;try{return vt.constructResult(this.decodeRow2pairs(o,d))}catch(v){this.verbose&&console.log(v)}return this.pairs.length=0,this.startFromEven=!0,vt.constructResult(this.decodeRow2pairs(o,d))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,d){let h=!1;for(;!h;)try{this.pairs.push(this.retrieveNextPair(d,this.pairs,o))}catch(b){if(b instanceof q){if(!this.pairs.length)throw new q;h=!0}}if(this.checkChecksum())return this.pairs;let v;if(this.rows.length?v=!0:v=!1,this.storeRow(o,!1),v){let b=this.checkRowsBoolean(!1);if(b!=null||(b=this.checkRowsBoolean(!0),b!=null))return b}throw new q}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let d=null;try{d=this.checkRows(new Array,0)}catch(h){this.verbose&&console.log(h)}return o&&(this.rows=this.rows.reverse()),d}checkRows(o,d){for(let h=d;h<this.rows.length;h++){let v=this.rows[h];this.pairs.length=0;for(let A of o)this.pairs.push(A.getPairs());if(this.pairs.push(v.getPairs()),!vt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let b=new Array(o);b.push(v);try{return this.checkRows(b,h+1)}catch(A){this.verbose&&console.log(A)}}throw new q}static isValidSequence(o){for(let d of vt.FINDER_PATTERN_SEQUENCES){if(o.length>d.length)continue;let h=!0;for(let v=0;v<o.length;v++)if(o[v].getFinderPattern().getValue()!=d[v]){h=!1;break}if(h)return!0}return!1}storeRow(o,d){let h=0,v=!1,b=!1;for(;h<this.rows.length;){let A=this.rows[h];if(A.getRowNumber()>o){b=A.isEquivalent(this.pairs);break}v=A.isEquivalent(this.pairs),h++}b||v||vt.isPartialRow(this.pairs,this.rows)||(this.rows.push(h,new Vr(this.pairs,o,d)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,d){for(let h of d)if(h.getPairs().length!==o.length){for(let v of h.getPairs())for(let b of o)if(Lr.equals(v,b))break}}static isPartialRow(o,d){for(let h of d){let v=!0;for(let b of o){let A=!1;for(let C of h.getPairs())if(b.equals(C)){A=!0;break}if(!A){v=!1;break}}if(v)return!0}return!1}getRows(){return this.rows}static constructResult(o){let d=Ja.buildBitArray(o),v=mr(d).parseInformation(),b=o[0].getFinderPattern().getResultPoints(),A=o[o.length-1].getFinderPattern().getResultPoints(),C=[b[0],b[1],A[0],A[1]];return new ae(v,null,null,C,ve.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),d=o.getLeftChar(),h=o.getRightChar();if(h==null)return!1;let v=h.getChecksumPortion(),b=2;for(let C=1;C<this.pairs.size();++C){let M=this.pairs.get(C);v+=M.getLeftChar().getChecksumPortion(),b++;let B=M.getRightChar();B!=null&&(v+=B.getChecksumPortion(),b++)}return v%=211,211*(b-4)+v==d.getValue()}static getNextSecondBar(o,d){let h;return o.get(d)?(h=o.getNextUnset(d),h=o.getNextSet(h)):(h=o.getNextSet(d),h=o.getNextUnset(h)),h}retrieveNextPair(o,d,h){let v=d.length%2==0;this.startFromEven&&(v=!v);let b,A=!0,C=-1;do this.findNextPair(o,d,C),b=this.parseFoundFinderPattern(o,h,v),b==null?C=vt.getNextSecondBar(o,this.startEnd[0]):A=!1;while(A);let M=this.decodeDataCharacter(o,b,v,!0);if(!this.isEmptyPair(d)&&d[d.length-1].mustBeLast())throw new q;let B;try{B=this.decodeDataCharacter(o,b,v,!1)}catch(J){B=null,this.verbose&&console.log(J)}return new Lr(M,B,b,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,d,h){let v=this.getDecodeFinderCounters();v[0]=0,v[1]=0,v[2]=0,v[3]=0;let b=o.getSize(),A;h>=0?A=h:this.isEmptyPair(d)?A=0:A=d[d.length-1].getFinderPattern().getStartEnd()[1];let C=d.length%2!=0;this.startFromEven&&(C=!C);let M=!1;for(;A<b&&(M=!o.get(A),!!M);)A++;let B=0,J=A;for(let ce=A;ce<b;ce++)if(o.get(ce)!=M)v[B]++;else{if(B==3){if(C&&vt.reverseCounters(v),vt.isFinderPattern(v)){this.startEnd[0]=J,this.startEnd[1]=ce;return}C&&vt.reverseCounters(v),J+=v[0]+v[1],v[0]=v[2],v[1]=v[3],v[2]=0,v[3]=0,B--}else B++;v[B]=1,M=!M}throw new q}static reverseCounters(o){let d=o.length;for(let h=0;h<d/2;++h){let v=o[h];o[h]=o[d-h-1],o[d-h-1]=v}}parseFoundFinderPattern(o,d,h){let v,b,A;if(h){let B=this.startEnd[0]-1;for(;B>=0&&!o.get(B);)B--;B++,v=this.startEnd[0]-B,b=B,A=this.startEnd[1]}else b=this.startEnd[0],A=o.getNextUnset(this.startEnd[1]+1),v=A-this.startEnd[1];let C=this.getDecodeFinderCounters();_.arraycopy(C,0,C,1,C.length-1),C[0]=v;let M;try{M=this.parseFinderValue(C,vt.FINDER_PATTERNS)}catch{return null}return new ca(M,[b,A],b,A,d)}decodeDataCharacter(o,d,h,v){let b=this.getDataCharacterCounters();for(let dn=0;dn<b.length;dn++)b[dn]=0;if(v)vt.recordPatternInReverse(o,d.getStartEnd()[0],b);else{vt.recordPattern(o,d.getStartEnd()[1],b);for(let dn=0,Na=b.length-1;dn<Na;dn++,Na--){let $a=b[dn];b[dn]=b[Na],b[Na]=$a}}let A=17,C=Be.sum(new Int32Array(b))/A,M=(d.getStartEnd()[1]-d.getStartEnd()[0])/15;if(Math.abs(C-M)/M>.3)throw new q;let B=this.getOddCounts(),J=this.getEvenCounts(),ce=this.getOddRoundingErrors(),Ae=this.getEvenRoundingErrors();for(let dn=0;dn<b.length;dn++){let Na=1*b[dn]/C,$a=Na+.5;if($a<1){if(Na<.3)throw new q;$a=1}else if($a>8){if(Na>8.7)throw new q;$a=8}let ys=dn/2;dn&1?(J[ys]=$a,Ae[ys]=Na-$a):(B[ys]=$a,ce[ys]=Na-$a)}this.adjustOddEvenCounts(A);let Me=4*d.getValue()+(h?0:2)+(v?0:1)-1,ze=0,He=0;for(let dn=B.length-1;dn>=0;dn--){if(vt.isNotA1left(d,h,v)){let Na=vt.WEIGHTS[Me][2*dn];He+=B[dn]*Na}ze+=B[dn]}let Xe=0;for(let dn=J.length-1;dn>=0;dn--)if(vt.isNotA1left(d,h,v)){let Na=vt.WEIGHTS[Me][2*dn+1];Xe+=J[dn]*Na}let dt=He+Xe;if(ze&1||ze>13||ze<4)throw new q;let Pt=(13-ze)/2,Rt=vt.SYMBOL_WIDEST[Pt],Lt=9-Rt,Ur=or.getRSSvalue(B,Rt,!0),Ir=or.getRSSvalue(J,Lt,!1),Gn=vt.EVEN_TOTAL_SUBSET[Pt],ni=vt.GSUM[Pt],Aa=Ur*Gn+Ir+ni;return new la(Aa,dt)}static isNotA1left(o,d,h){return!(o.getValue()==0&&d&&h)}adjustOddEvenCounts(o){let d=Be.sum(new Int32Array(this.getOddCounts())),h=Be.sum(new Int32Array(this.getEvenCounts())),v=!1,b=!1;d>13?b=!0:d<4&&(v=!0);let A=!1,C=!1;h>13?C=!0:h<4&&(A=!0);let M=d+h-o,B=(d&1)==1,J=(h&1)==0;if(M==1)if(B){if(J)throw new q;b=!0}else{if(!J)throw new q;C=!0}else if(M==-1)if(B){if(J)throw new q;v=!0}else{if(!J)throw new q;A=!0}else if(M==0){if(B){if(!J)throw new q;d<h?(v=!0,C=!0):(b=!0,A=!0)}else if(J)throw new q}else throw new q;if(v){if(b)throw new q;vt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(b&&vt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),A){if(C)throw new q;vt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&vt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}vt.SYMBOL_WIDEST=[7,5,4,3,1],vt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],vt.GSUM=[0,348,1388,2948,3988],vt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],vt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],vt.FINDER_PAT_A=0,vt.FINDER_PAT_B=1,vt.FINDER_PAT_C=2,vt.FINDER_PAT_D=3,vt.FINDER_PAT_E=4,vt.FINDER_PAT_F=5,vt.FINDER_PATTERN_SEQUENCES=[[vt.FINDER_PAT_A,vt.FINDER_PAT_A],[vt.FINDER_PAT_A,vt.FINDER_PAT_B,vt.FINDER_PAT_B],[vt.FINDER_PAT_A,vt.FINDER_PAT_C,vt.FINDER_PAT_B,vt.FINDER_PAT_D],[vt.FINDER_PAT_A,vt.FINDER_PAT_E,vt.FINDER_PAT_B,vt.FINDER_PAT_D,vt.FINDER_PAT_C],[vt.FINDER_PAT_A,vt.FINDER_PAT_E,vt.FINDER_PAT_B,vt.FINDER_PAT_D,vt.FINDER_PAT_D,vt.FINDER_PAT_F],[vt.FINDER_PAT_A,vt.FINDER_PAT_E,vt.FINDER_PAT_B,vt.FINDER_PAT_D,vt.FINDER_PAT_E,vt.FINDER_PAT_F,vt.FINDER_PAT_F],[vt.FINDER_PAT_A,vt.FINDER_PAT_A,vt.FINDER_PAT_B,vt.FINDER_PAT_B,vt.FINDER_PAT_C,vt.FINDER_PAT_C,vt.FINDER_PAT_D,vt.FINDER_PAT_D],[vt.FINDER_PAT_A,vt.FINDER_PAT_A,vt.FINDER_PAT_B,vt.FINDER_PAT_B,vt.FINDER_PAT_C,vt.FINDER_PAT_C,vt.FINDER_PAT_D,vt.FINDER_PAT_E,vt.FINDER_PAT_E],[vt.FINDER_PAT_A,vt.FINDER_PAT_A,vt.FINDER_PAT_B,vt.FINDER_PAT_B,vt.FINDER_PAT_C,vt.FINDER_PAT_C,vt.FINDER_PAT_D,vt.FINDER_PAT_E,vt.FINDER_PAT_F,vt.FINDER_PAT_F],[vt.FINDER_PAT_A,vt.FINDER_PAT_A,vt.FINDER_PAT_B,vt.FINDER_PAT_B,vt.FINDER_PAT_C,vt.FINDER_PAT_D,vt.FINDER_PAT_D,vt.FINDER_PAT_E,vt.FINDER_PAT_E,vt.FINDER_PAT_F,vt.FINDER_PAT_F]],vt.MAX_PAIRS=11;class Rn extends la{constructor(o,d,h){super(o,d),this.count=0,this.finderPattern=h}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Sr extends $r{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,d,h){const v=this.decodePair(d,!1,o,h);Sr.addOrTally(this.possibleLeftPairs,v),d.reverse();let b=this.decodePair(d,!0,o,h);Sr.addOrTally(this.possibleRightPairs,b),d.reverse();for(let A of this.possibleLeftPairs)if(A.getCount()>1){for(let C of this.possibleRightPairs)if(C.getCount()>1&&Sr.checkChecksum(A,C))return Sr.constructResult(A,C)}throw new q}static addOrTally(o,d){if(d==null)return;let h=!1;for(let v of o)if(v.getValue()===d.getValue()){v.incrementCount(),h=!0;break}h||o.push(d)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,d){let h=4537077*o.getValue()+d.getValue(),v=new String(h).toString(),b=new ye;for(let B=13-v.length;B>0;B--)b.append("0");b.append(v);let A=0;for(let B=0;B<13;B++){let J=b.charAt(B).charCodeAt(0)-48;A+=B&1?J:3*J}A=10-A%10,A===10&&(A=0),b.append(A.toString());let C=o.getFinderPattern().getResultPoints(),M=d.getFinderPattern().getResultPoints();return new ae(b.toString(),null,0,[C[0],C[1],M[0],M[1]],ve.RSS_14,new Date().getTime())}static checkChecksum(o,d){let h=(o.getChecksumPortion()+16*d.getChecksumPortion())%79,v=9*o.getFinderPattern().getValue()+d.getFinderPattern().getValue();return v>72&&v--,v>8&&v--,h===v}decodePair(o,d,h,v){try{let b=this.findFinderPattern(o,d),A=this.parseFoundFinderPattern(o,h,d,b),C=v==null?null:v.get(X.NEED_RESULT_POINT_CALLBACK);if(C!=null){let J=(b[0]+b[1])/2;d&&(J=o.getSize()-1-J),C.foundPossibleResultPoint(new Fe(J,h))}let M=this.decodeDataCharacter(o,A,!0),B=this.decodeDataCharacter(o,A,!1);return new Rn(1597*M.getValue()+B.getValue(),M.getChecksumPortion()+4*B.getChecksumPortion(),A)}catch{return null}}decodeDataCharacter(o,d,h){let v=this.getDataCharacterCounters();for(let Xe=0;Xe<v.length;Xe++)v[Xe]=0;if(h)Vt.recordPatternInReverse(o,d.getStartEnd()[0],v);else{Vt.recordPattern(o,d.getStartEnd()[1]+1,v);for(let Xe=0,dt=v.length-1;Xe<dt;Xe++,dt--){let Pt=v[Xe];v[Xe]=v[dt],v[dt]=Pt}}let b=h?16:15,A=Be.sum(new Int32Array(v))/b,C=this.getOddCounts(),M=this.getEvenCounts(),B=this.getOddRoundingErrors(),J=this.getEvenRoundingErrors();for(let Xe=0;Xe<v.length;Xe++){let dt=v[Xe]/A,Pt=Math.floor(dt+.5);Pt<1?Pt=1:Pt>8&&(Pt=8);let Rt=Math.floor(Xe/2);Xe&1?(M[Rt]=Pt,J[Rt]=dt-Pt):(C[Rt]=Pt,B[Rt]=dt-Pt)}this.adjustOddEvenCounts(h,b);let ce=0,Ae=0;for(let Xe=C.length-1;Xe>=0;Xe--)Ae*=9,Ae+=C[Xe],ce+=C[Xe];let Me=0,ze=0;for(let Xe=M.length-1;Xe>=0;Xe--)Me*=9,Me+=M[Xe],ze+=M[Xe];let He=Ae+3*Me;if(h){if(ce&1||ce>12||ce<4)throw new q;let Xe=(12-ce)/2,dt=Sr.OUTSIDE_ODD_WIDEST[Xe],Pt=9-dt,Rt=or.getRSSvalue(C,dt,!1),Lt=or.getRSSvalue(M,Pt,!0),Ur=Sr.OUTSIDE_EVEN_TOTAL_SUBSET[Xe],Ir=Sr.OUTSIDE_GSUM[Xe];return new la(Rt*Ur+Lt+Ir,He)}else{if(ze&1||ze>10||ze<4)throw new q;let Xe=(10-ze)/2,dt=Sr.INSIDE_ODD_WIDEST[Xe],Pt=9-dt,Rt=or.getRSSvalue(C,dt,!0),Lt=or.getRSSvalue(M,Pt,!1),Ur=Sr.INSIDE_ODD_TOTAL_SUBSET[Xe],Ir=Sr.INSIDE_GSUM[Xe];return new la(Lt*Ur+Rt+Ir,He)}}findFinderPattern(o,d){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let v=o.getSize(),b=!1,A=0;for(;A<v&&(b=!o.get(A),d!==b);)A++;let C=0,M=A;for(let B=A;B<v;B++)if(o.get(B)!==b)h[C]++;else{if(C===3){if($r.isFinderPattern(h))return[M,B];M+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,C--}else C++;h[C]=1,b=!b}throw new q}parseFoundFinderPattern(o,d,h,v){let b=o.get(v[0]),A=v[0]-1;for(;A>=0&&b!==o.get(A);)A--;A++;const C=v[0]-A,M=this.getDecodeFinderCounters(),B=new Int32Array(M.length);_.arraycopy(M,0,B,1,M.length-1),B[0]=C;const J=this.parseFinderValue(B,Sr.FINDER_PATTERNS);let ce=A,Ae=v[1];return h&&(ce=o.getSize()-1-ce,Ae=o.getSize()-1-Ae),new ca(J,[A,v[1]],ce,Ae,d)}adjustOddEvenCounts(o,d){let h=Be.sum(new Int32Array(this.getOddCounts())),v=Be.sum(new Int32Array(this.getEvenCounts())),b=!1,A=!1,C=!1,M=!1;o?(h>12?A=!0:h<4&&(b=!0),v>12?M=!0:v<4&&(C=!0)):(h>11?A=!0:h<5&&(b=!0),v>10?M=!0:v<4&&(C=!0));let B=h+v-d,J=(h&1)===(o?1:0),ce=(v&1)===1;if(B===1)if(J){if(ce)throw new q;A=!0}else{if(!ce)throw new q;M=!0}else if(B===-1)if(J){if(ce)throw new q;b=!0}else{if(!ce)throw new q;C=!0}else if(B===0){if(J){if(!ce)throw new q;h<v?(b=!0,M=!0):(A=!0,C=!0)}else if(ce)throw new q}else throw new q;if(b){if(A)throw new q;$r.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(A&&$r.decrement(this.getOddCounts(),this.getOddRoundingErrors()),C){if(M)throw new q;$r.increment(this.getEvenCounts(),this.getOddRoundingErrors())}M&&$r.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Sr.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Sr.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Sr.OUTSIDE_GSUM=[0,161,961,2015,2715],Sr.INSIDE_GSUM=[0,336,1036,1516],Sr.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Sr.INSIDE_ODD_WIDEST=[2,4,6,8],Sr.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class On extends Vt{constructor(o,d){super(),this.readers=[],this.verbose=d===!0;const h=o?o.get(X.POSSIBLE_FORMATS):null,v=o&&o.get(X.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;h?((h.includes(ve.EAN_13)||h.includes(ve.UPC_A)||h.includes(ve.EAN_8)||h.includes(ve.UPC_E))&&this.readers.push(new es(o)),h.includes(ve.CODE_39)&&this.readers.push(new er(v)),h.includes(ve.CODE_128)&&this.readers.push(new Et),h.includes(ve.ITF)&&this.readers.push(new Qt),h.includes(ve.RSS_14)&&this.readers.push(new Sr),h.includes(ve.RSS_EXPANDED)&&this.readers.push(new vt(this.verbose))):(this.readers.push(new es(o)),this.readers.push(new er),this.readers.push(new es(o)),this.readers.push(new Et),this.readers.push(new Qt),this.readers.push(new Sr),this.readers.push(new vt(this.verbose)))}decodeRow(o,d,h){for(let v=0;v<this.readers.length;v++)try{return this.readers[v].decodeRow(o,d,h)}catch{}throw new q}reset(){this.readers.forEach(o=>o.reset())}}class ts extends H{constructor(o=500,d){super(new On(d),o,d)}}class Wr{constructor(o,d,h){this.ecCodewords=o,this.ecBlocks=[d],h&&this.ecBlocks.push(h)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Br{constructor(o,d){this.count=o,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Rr{constructor(o,d,h,v,b,A){this.versionNumber=o,this.symbolSizeRows=d,this.symbolSizeColumns=h,this.dataRegionSizeRows=v,this.dataRegionSizeColumns=b,this.ecBlocks=A;let C=0;const M=A.getECCodewords(),B=A.getECBlocks();for(let J of B)C+=J.getCount()*(J.getDataCodewords()+M);this.totalCodewords=C}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,d){if(o&1||d&1)throw new V;for(let h of Rr.VERSIONS)if(h.symbolSizeRows===o&&h.symbolSizeColumns===d)return h;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new Rr(1,10,10,8,8,new Wr(5,new Br(1,3))),new Rr(2,12,12,10,10,new Wr(7,new Br(1,5))),new Rr(3,14,14,12,12,new Wr(10,new Br(1,8))),new Rr(4,16,16,14,14,new Wr(12,new Br(1,12))),new Rr(5,18,18,16,16,new Wr(14,new Br(1,18))),new Rr(6,20,20,18,18,new Wr(18,new Br(1,22))),new Rr(7,22,22,20,20,new Wr(20,new Br(1,30))),new Rr(8,24,24,22,22,new Wr(24,new Br(1,36))),new Rr(9,26,26,24,24,new Wr(28,new Br(1,44))),new Rr(10,32,32,14,14,new Wr(36,new Br(1,62))),new Rr(11,36,36,16,16,new Wr(42,new Br(1,86))),new Rr(12,40,40,18,18,new Wr(48,new Br(1,114))),new Rr(13,44,44,20,20,new Wr(56,new Br(1,144))),new Rr(14,48,48,22,22,new Wr(68,new Br(1,174))),new Rr(15,52,52,24,24,new Wr(42,new Br(2,102))),new Rr(16,64,64,14,14,new Wr(56,new Br(2,140))),new Rr(17,72,72,16,16,new Wr(36,new Br(4,92))),new Rr(18,80,80,18,18,new Wr(48,new Br(4,114))),new Rr(19,88,88,20,20,new Wr(56,new Br(4,144))),new Rr(20,96,96,22,22,new Wr(68,new Br(4,174))),new Rr(21,104,104,24,24,new Wr(56,new Br(6,136))),new Rr(22,120,120,18,18,new Wr(68,new Br(6,175))),new Rr(23,132,132,20,20,new Wr(62,new Br(8,163))),new Rr(24,144,144,22,22,new Wr(62,new Br(8,156),new Br(2,155))),new Rr(25,8,18,6,16,new Wr(7,new Br(1,5))),new Rr(26,8,32,6,14,new Wr(11,new Br(1,10))),new Rr(27,12,26,10,24,new Wr(14,new Br(1,16))),new Rr(28,12,36,10,16,new Wr(18,new Br(1,22))),new Rr(29,16,36,14,16,new Wr(24,new Br(1,32))),new Rr(30,16,48,14,22,new Wr(28,new Br(1,49)))]}}Rr.VERSIONS=Rr.buildVersions();class Gs{constructor(o){const d=o.getHeight();if(d<8||d>144||d&1)throw new V;this.version=Gs.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new ie(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const d=o.getHeight(),h=o.getWidth();return Rr.getVersionForDimensions(d,h)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let d=0,h=4,v=0;const b=this.mappingBitMatrix.getHeight(),A=this.mappingBitMatrix.getWidth();let C=!1,M=!1,B=!1,J=!1;do if(h===b&&v===0&&!C)o[d++]=this.readCorner1(b,A)&255,h-=2,v+=2,C=!0;else if(h===b-2&&v===0&&A&3&&!M)o[d++]=this.readCorner2(b,A)&255,h-=2,v+=2,M=!0;else if(h===b+4&&v===2&&!(A&7)&&!B)o[d++]=this.readCorner3(b,A)&255,h-=2,v+=2,B=!0;else if(h===b-2&&v===0&&(A&7)===4&&!J)o[d++]=this.readCorner4(b,A)&255,h-=2,v+=2,J=!0;else{do h<b&&v>=0&&!this.readMappingMatrix.get(v,h)&&(o[d++]=this.readUtah(h,v,b,A)&255),h-=2,v+=2;while(h>=0&&v<A);h+=1,v+=3;do h>=0&&v<A&&!this.readMappingMatrix.get(v,h)&&(o[d++]=this.readUtah(h,v,b,A)&255),h+=2,v-=2;while(h<b&&v>=0);h+=3,v+=1}while(h<b||v<A);if(d!==this.version.getTotalCodewords())throw new V;return o}readModule(o,d,h,v){return o<0&&(o+=h,d+=4-(h+4&7)),d<0&&(d+=v,o+=4-(v+4&7)),this.readMappingMatrix.set(d,o),this.mappingBitMatrix.get(d,o)}readUtah(o,d,h,v){let b=0;return this.readModule(o-2,d-2,h,v)&&(b|=1),b<<=1,this.readModule(o-2,d-1,h,v)&&(b|=1),b<<=1,this.readModule(o-1,d-2,h,v)&&(b|=1),b<<=1,this.readModule(o-1,d-1,h,v)&&(b|=1),b<<=1,this.readModule(o-1,d,h,v)&&(b|=1),b<<=1,this.readModule(o,d-2,h,v)&&(b|=1),b<<=1,this.readModule(o,d-1,h,v)&&(b|=1),b<<=1,this.readModule(o,d,h,v)&&(b|=1),b}readCorner1(o,d){let h=0;return this.readModule(o-1,0,o,d)&&(h|=1),h<<=1,this.readModule(o-1,1,o,d)&&(h|=1),h<<=1,this.readModule(o-1,2,o,d)&&(h|=1),h<<=1,this.readModule(0,d-2,o,d)&&(h|=1),h<<=1,this.readModule(0,d-1,o,d)&&(h|=1),h<<=1,this.readModule(1,d-1,o,d)&&(h|=1),h<<=1,this.readModule(2,d-1,o,d)&&(h|=1),h<<=1,this.readModule(3,d-1,o,d)&&(h|=1),h}readCorner2(o,d){let h=0;return this.readModule(o-3,0,o,d)&&(h|=1),h<<=1,this.readModule(o-2,0,o,d)&&(h|=1),h<<=1,this.readModule(o-1,0,o,d)&&(h|=1),h<<=1,this.readModule(0,d-4,o,d)&&(h|=1),h<<=1,this.readModule(0,d-3,o,d)&&(h|=1),h<<=1,this.readModule(0,d-2,o,d)&&(h|=1),h<<=1,this.readModule(0,d-1,o,d)&&(h|=1),h<<=1,this.readModule(1,d-1,o,d)&&(h|=1),h}readCorner3(o,d){let h=0;return this.readModule(o-1,0,o,d)&&(h|=1),h<<=1,this.readModule(o-1,d-1,o,d)&&(h|=1),h<<=1,this.readModule(0,d-3,o,d)&&(h|=1),h<<=1,this.readModule(0,d-2,o,d)&&(h|=1),h<<=1,this.readModule(0,d-1,o,d)&&(h|=1),h<<=1,this.readModule(1,d-3,o,d)&&(h|=1),h<<=1,this.readModule(1,d-2,o,d)&&(h|=1),h<<=1,this.readModule(1,d-1,o,d)&&(h|=1),h}readCorner4(o,d){let h=0;return this.readModule(o-3,0,o,d)&&(h|=1),h<<=1,this.readModule(o-2,0,o,d)&&(h|=1),h<<=1,this.readModule(o-1,0,o,d)&&(h|=1),h<<=1,this.readModule(0,d-2,o,d)&&(h|=1),h<<=1,this.readModule(0,d-1,o,d)&&(h|=1),h<<=1,this.readModule(1,d-1,o,d)&&(h|=1),h<<=1,this.readModule(2,d-1,o,d)&&(h|=1),h<<=1,this.readModule(3,d-1,o,d)&&(h|=1),h}extractDataRegion(o){const d=this.version.getSymbolSizeRows(),h=this.version.getSymbolSizeColumns();if(o.getHeight()!==d)throw new y("Dimension of bitMatrix must match the version size");const v=this.version.getDataRegionSizeRows(),b=this.version.getDataRegionSizeColumns(),A=d/v|0,C=h/b|0,M=A*v,B=C*b,J=new ie(B,M);for(let ce=0;ce<A;++ce){const Ae=ce*v;for(let Me=0;Me<C;++Me){const ze=Me*b;for(let He=0;He<v;++He){const Xe=ce*(v+2)+1+He,dt=Ae+He;for(let Pt=0;Pt<b;++Pt){const Rt=Me*(b+2)+1+Pt;if(o.get(Rt,Xe)){const Lt=ze+Pt;J.set(Lt,dt)}}}}}return J}}class Bn{constructor(o,d){this.numDataCodewords=o,this.codewords=d}static getDataBlocks(o,d){const h=d.getECBlocks();let v=0;const b=h.getECBlocks();for(let He of b)v+=He.getCount();const A=new Array(v);let C=0;for(let He of b)for(let Xe=0;Xe<He.getCount();Xe++){const dt=He.getDataCodewords(),Pt=h.getECCodewords()+dt;A[C++]=new Bn(dt,new Uint8Array(Pt))}const B=A[0].codewords.length-h.getECCodewords(),J=B-1;let ce=0;for(let He=0;He<J;He++)for(let Xe=0;Xe<C;Xe++)A[Xe].codewords[He]=o[ce++];const Ae=d.getVersionNumber()===24,Me=Ae?8:C;for(let He=0;He<Me;He++)A[He].codewords[B-1]=o[ce++];const ze=A[0].codewords.length;for(let He=B;He<ze;He++)for(let Xe=0;Xe<C;Xe++){const dt=Ae?(Xe+8)%C:Xe,Pt=Ae&&dt>7?He-1:He;A[dt].codewords[Pt]=o[ce++]}if(ce!==o.length)throw new y;return A}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class tn{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new y(""+o);let d=0,h=this.bitOffset,v=this.byteOffset;const b=this.bytes;if(h>0){const A=8-h,C=o<A?o:A,M=A-C,B=255>>8-C<<M;d=(b[v]&B)>>M,o-=C,h+=C,h===8&&(h=0,v++)}if(o>0){for(;o>=8;)d=d<<8|b[v]&255,v++,o-=8;if(o>0){const A=8-o,C=255>>A<<A;d=d<<o|(b[v]&C)>>A,h+=o}}return this.bitOffset=h,this.byteOffset=v,d}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var jr;(function(fe){fe[fe.PAD_ENCODE=0]="PAD_ENCODE",fe[fe.ASCII_ENCODE=1]="ASCII_ENCODE",fe[fe.C40_ENCODE=2]="C40_ENCODE",fe[fe.TEXT_ENCODE=3]="TEXT_ENCODE",fe[fe.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",fe[fe.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",fe[fe.BASE256_ENCODE=6]="BASE256_ENCODE"})(jr||(jr={}));class ua{static decode(o){const d=new tn(o),h=new ye,v=new ye,b=new Array;let A=jr.ASCII_ENCODE;do if(A===jr.ASCII_ENCODE)A=this.decodeAsciiSegment(d,h,v);else{switch(A){case jr.C40_ENCODE:this.decodeC40Segment(d,h);break;case jr.TEXT_ENCODE:this.decodeTextSegment(d,h);break;case jr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(d,h);break;case jr.EDIFACT_ENCODE:this.decodeEdifactSegment(d,h);break;case jr.BASE256_ENCODE:this.decodeBase256Segment(d,h,b);break;default:throw new V}A=jr.ASCII_ENCODE}while(A!==jr.PAD_ENCODE&&d.available()>0);return v.length()>0&&h.append(v.toString()),new me(o,h.toString(),b.length===0?null:b,null)}static decodeAsciiSegment(o,d,h){let v=!1;do{let b=o.readBits(8);if(b===0)throw new V;if(b<=128)return v&&(b+=128),d.append(String.fromCharCode(b-1)),jr.ASCII_ENCODE;if(b===129)return jr.PAD_ENCODE;if(b<=229){const A=b-130;A<10&&d.append("0"),d.append(""+A)}else switch(b){case 230:return jr.C40_ENCODE;case 231:return jr.BASE256_ENCODE;case 232:d.append("");break;case 233:case 234:break;case 235:v=!0;break;case 236:d.append("[)>05"),h.insert(0,"");break;case 237:d.append("[)>06"),h.insert(0,"");break;case 238:return jr.ANSIX12_ENCODE;case 239:return jr.TEXT_ENCODE;case 240:return jr.EDIFACT_ENCODE;case 241:break;default:if(b!==254||o.available()!==0)throw new V;break}}while(o.available()>0);return jr.ASCII_ENCODE}static decodeC40Segment(o,d){let h=!1;const v=[];let b=0;do{if(o.available()===8)return;const A=o.readBits(8);if(A===254)return;this.parseTwoBytes(A,o.readBits(8),v);for(let C=0;C<3;C++){const M=v[C];switch(b){case 0:if(M<3)b=M+1;else if(M<this.C40_BASIC_SET_CHARS.length){const B=this.C40_BASIC_SET_CHARS[M];h?(d.append(String.fromCharCode(B.charCodeAt(0)+128)),h=!1):d.append(B)}else throw new V;break;case 1:h?(d.append(String.fromCharCode(M+128)),h=!1):d.append(String.fromCharCode(M)),b=0;break;case 2:if(M<this.C40_SHIFT2_SET_CHARS.length){const B=this.C40_SHIFT2_SET_CHARS[M];h?(d.append(String.fromCharCode(B.charCodeAt(0)+128)),h=!1):d.append(B)}else switch(M){case 27:d.append("");break;case 30:h=!0;break;default:throw new V}b=0;break;case 3:h?(d.append(String.fromCharCode(M+224)),h=!1):d.append(String.fromCharCode(M+96)),b=0;break;default:throw new V}}}while(o.available()>0)}static decodeTextSegment(o,d){let h=!1,v=[],b=0;do{if(o.available()===8)return;const A=o.readBits(8);if(A===254)return;this.parseTwoBytes(A,o.readBits(8),v);for(let C=0;C<3;C++){const M=v[C];switch(b){case 0:if(M<3)b=M+1;else if(M<this.TEXT_BASIC_SET_CHARS.length){const B=this.TEXT_BASIC_SET_CHARS[M];h?(d.append(String.fromCharCode(B.charCodeAt(0)+128)),h=!1):d.append(B)}else throw new V;break;case 1:h?(d.append(String.fromCharCode(M+128)),h=!1):d.append(String.fromCharCode(M)),b=0;break;case 2:if(M<this.TEXT_SHIFT2_SET_CHARS.length){const B=this.TEXT_SHIFT2_SET_CHARS[M];h?(d.append(String.fromCharCode(B.charCodeAt(0)+128)),h=!1):d.append(B)}else switch(M){case 27:d.append("");break;case 30:h=!0;break;default:throw new V}b=0;break;case 3:if(M<this.TEXT_SHIFT3_SET_CHARS.length){const B=this.TEXT_SHIFT3_SET_CHARS[M];h?(d.append(String.fromCharCode(B.charCodeAt(0)+128)),h=!1):d.append(B),b=0}else throw new V;break;default:throw new V}}}while(o.available()>0)}static decodeAnsiX12Segment(o,d){const h=[];do{if(o.available()===8)return;const v=o.readBits(8);if(v===254)return;this.parseTwoBytes(v,o.readBits(8),h);for(let b=0;b<3;b++){const A=h[b];switch(A){case 0:d.append("\r");break;case 1:d.append("*");break;case 2:d.append(">");break;case 3:d.append(" ");break;default:if(A<14)d.append(String.fromCharCode(A+44));else if(A<40)d.append(String.fromCharCode(A+51));else throw new V;break}}}while(o.available()>0)}static parseTwoBytes(o,d,h){let v=(o<<8)+d-1,b=Math.floor(v/1600);h[0]=b,v-=b*1600,b=Math.floor(v/40),h[1]=b,h[2]=v-b*40}static decodeEdifactSegment(o,d){do{if(o.available()<=16)return;for(let h=0;h<4;h++){let v=o.readBits(6);if(v===31){const b=8-o.getBitOffset();b!==8&&o.readBits(b);return}v&32||(v|=64),d.append(String.fromCharCode(v))}}while(o.available()>0)}static decodeBase256Segment(o,d,h){let v=1+o.getByteOffset();const b=this.unrandomize255State(o.readBits(8),v++);let A;if(b===0?A=o.available()/8|0:b<250?A=b:A=250*(b-249)+this.unrandomize255State(o.readBits(8),v++),A<0)throw new V;const C=new Uint8Array(A);for(let M=0;M<A;M++){if(o.available()<8)throw new V;C[M]=this.unrandomize255State(o.readBits(8),v++)}h.push(C);try{d.append(Z.decode(C,Q.ISO88591))}catch(M){throw new Pe("Platform does not support required encoding: "+M.message)}}static unrandomize255State(o,d){const h=149*d%255+1,v=o-h;return v>=0?v:v+256}}ua.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ua.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ua.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ua.TEXT_SHIFT2_SET_CHARS=ua.C40_SHIFT2_SET_CHARS,ua.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ba{constructor(){this.rsDecoder=new ne(Le.DATA_MATRIX_FIELD_256)}decode(o){const d=new Gs(o),h=d.getVersion(),v=d.readCodewords(),b=Bn.getDataBlocks(v,h);let A=0;for(let B of b)A+=B.getNumDataCodewords();const C=new Uint8Array(A),M=b.length;for(let B=0;B<M;B++){const J=b[B],ce=J.getCodewords(),Ae=J.getNumDataCodewords();this.correctErrors(ce,Ae);for(let Me=0;Me<Ae;Me++)C[Me*M+B]=ce[Me]}return ua.decode(C)}correctErrors(o,d){const h=new Int32Array(o);try{this.rsDecoder.decode(h,o.length-d)}catch{throw new N}for(let v=0;v<d;v++)o[v]=h[v]}}class un{constructor(o){this.image=o,this.rectangleDetector=new Ht(this.image)}detect(){const o=this.rectangleDetector.detect();let d=this.detectSolid1(o);if(d=this.detectSolid2(d),d[3]=this.correctTopRight(d),!d[3])throw new q;d=this.shiftToModuleCenter(d);const h=d[0],v=d[1],b=d[2],A=d[3];let C=this.transitionsBetween(h,A)+1,M=this.transitionsBetween(b,A)+1;(C&1)===1&&(C+=1),(M&1)===1&&(M+=1),4*C<7*M&&4*M<7*C&&(C=M=Math.max(C,M));let B=un.sampleGrid(this.image,h,v,b,A,C,M);return new rt(B,[h,v,b,A])}static shiftPoint(o,d,h){let v=(d.getX()-o.getX())/(h+1),b=(d.getY()-o.getY())/(h+1);return new Fe(o.getX()+v,o.getY()+b)}static moveAway(o,d,h){let v=o.getX(),b=o.getY();return v<d?v-=1:v+=1,b<h?b-=1:b+=1,new Fe(v,b)}detectSolid1(o){let d=o[0],h=o[1],v=o[3],b=o[2],A=this.transitionsBetween(d,h),C=this.transitionsBetween(h,v),M=this.transitionsBetween(v,b),B=this.transitionsBetween(b,d),J=A,ce=[b,d,h,v];return J>C&&(J=C,ce[0]=d,ce[1]=h,ce[2]=v,ce[3]=b),J>M&&(J=M,ce[0]=h,ce[1]=v,ce[2]=b,ce[3]=d),J>B&&(ce[0]=v,ce[1]=b,ce[2]=d,ce[3]=h),ce}detectSolid2(o){let d=o[0],h=o[1],v=o[2],b=o[3],A=this.transitionsBetween(d,b),C=un.shiftPoint(h,v,(A+1)*4),M=un.shiftPoint(v,h,(A+1)*4),B=this.transitionsBetween(C,d),J=this.transitionsBetween(M,b);return B<J?(o[0]=d,o[1]=h,o[2]=v,o[3]=b):(o[0]=h,o[1]=v,o[2]=b,o[3]=d),o}correctTopRight(o){let d=o[0],h=o[1],v=o[2],b=o[3],A=this.transitionsBetween(d,b),C=this.transitionsBetween(h,b),M=un.shiftPoint(d,h,(C+1)*4),B=un.shiftPoint(v,h,(A+1)*4);A=this.transitionsBetween(M,b),C=this.transitionsBetween(B,b);let J=new Fe(b.getX()+(v.getX()-h.getX())/(A+1),b.getY()+(v.getY()-h.getY())/(A+1)),ce=new Fe(b.getX()+(d.getX()-h.getX())/(C+1),b.getY()+(d.getY()-h.getY())/(C+1));if(!this.isValid(J))return this.isValid(ce)?ce:null;if(!this.isValid(ce))return J;let Ae=this.transitionsBetween(M,J)+this.transitionsBetween(B,J),Me=this.transitionsBetween(M,ce)+this.transitionsBetween(B,ce);return Ae>Me?J:ce}shiftToModuleCenter(o){let d=o[0],h=o[1],v=o[2],b=o[3],A=this.transitionsBetween(d,b)+1,C=this.transitionsBetween(v,b)+1,M=un.shiftPoint(d,h,C*4),B=un.shiftPoint(v,h,A*4);A=this.transitionsBetween(M,b)+1,C=this.transitionsBetween(B,b)+1,(A&1)===1&&(A+=1),(C&1)===1&&(C+=1);let J=(d.getX()+h.getX()+v.getX()+b.getX())/4,ce=(d.getY()+h.getY()+v.getY()+b.getY())/4;d=un.moveAway(d,J,ce),h=un.moveAway(h,J,ce),v=un.moveAway(v,J,ce),b=un.moveAway(b,J,ce);let Ae,Me;return M=un.shiftPoint(d,h,C*4),M=un.shiftPoint(M,b,A*4),Ae=un.shiftPoint(h,d,C*4),Ae=un.shiftPoint(Ae,v,A*4),B=un.shiftPoint(v,b,C*4),B=un.shiftPoint(B,h,A*4),Me=un.shiftPoint(b,v,C*4),Me=un.shiftPoint(Me,d,A*4),[M,Ae,B,Me]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,d,h,v,b,A,C){return ir.getInstance().sampleGrid(o,A,C,.5,.5,A-.5,.5,A-.5,C-.5,.5,C-.5,d.getX(),d.getY(),b.getX(),b.getY(),v.getX(),v.getY(),h.getX(),h.getY())}transitionsBetween(o,d){let h=Math.trunc(o.getX()),v=Math.trunc(o.getY()),b=Math.trunc(d.getX()),A=Math.trunc(d.getY()),C=Math.abs(A-v)>Math.abs(b-h);if(C){let He=h;h=v,v=He,He=b,b=A,A=He}let M=Math.abs(b-h),B=Math.abs(A-v),J=-M/2,ce=v<A?1:-1,Ae=h<b?1:-1,Me=0,ze=this.image.get(C?v:h,C?h:v);for(let He=h,Xe=v;He!==b;He+=Ae){let dt=this.image.get(C?Xe:He,C?He:Xe);if(dt!==ze&&(Me++,ze=dt),J+=B,J>0){if(Xe===A)break;Xe+=ce,J-=M}}return Me}}class on{constructor(){this.decoder=new ba}decode(o,d=null){let h,v;if(d!=null&&d.has(X.PURE_BARCODE)){const B=on.extractPureBits(o.getBlackMatrix());h=this.decoder.decode(B),v=on.NO_POINTS}else{const B=new un(o.getBlackMatrix()).detect();h=this.decoder.decode(B.getBits()),v=B.getPoints()}const b=h.getRawBytes(),A=new ae(h.getText(),b,8*b.length,v,ve.DATA_MATRIX,_.currentTimeMillis()),C=h.getByteSegments();C!=null&&A.putMetadata(ke.BYTE_SEGMENTS,C);const M=h.getECLevel();return M!=null&&A.putMetadata(ke.ERROR_CORRECTION_LEVEL,M),A}reset(){}static extractPureBits(o){const d=o.getTopLeftOnBit(),h=o.getBottomRightOnBit();if(d==null||h==null)throw new q;const v=this.moduleSize(d,o);let b=d[1];const A=h[1];let C=d[0];const B=(h[0]-C+1)/v,J=(A-b+1)/v;if(B<=0||J<=0)throw new q;const ce=v/2;b+=ce,C+=ce;const Ae=new ie(B,J);for(let Me=0;Me<J;Me++){const ze=b+Me*v;for(let He=0;He<B;He++)o.get(C+He*v,ze)&&Ae.set(He,Me)}return Ae}static moduleSize(o,d){const h=d.getWidth();let v=o[0];const b=o[1];for(;v<h&&d.get(v,b);)v++;if(v===h)throw new q;const A=v-o[0];if(A===0)throw new q;return A}}on.NO_POINTS=[];class wi extends H{constructor(o=500){super(new on,o)}}var Kr;(function(fe){fe[fe.L=0]="L",fe[fe.M=1]="M",fe[fe.Q=2]="Q",fe[fe.H=3]="H"})(Kr||(Kr={}));class Or{constructor(o,d,h){this.value=o,this.stringValue=d,this.bits=h,Or.FOR_BITS.set(h,this),Or.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return Or.L;case"M":return Or.M;case"Q":return Or.Q;case"H":return Or.H;default:throw new x(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof Or))return!1;const d=o;return this.value===d.value}static forBits(o){if(o<0||o>=Or.FOR_BITS.size)throw new y;return Or.FOR_BITS.get(o)}}Or.FOR_BITS=new Map,Or.FOR_VALUE=new Map,Or.L=new Or(Kr.L,"L",1),Or.M=new Or(Kr.M,"M",0),Or.Q=new Or(Kr.Q,"Q",3),Or.H=new Or(Kr.H,"H",2);class Sn{constructor(o){this.errorCorrectionLevel=Or.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,d){return z.bitCount(o^d)}static decodeFormatInformation(o,d){const h=Sn.doDecodeFormatInformation(o,d);return h!==null?h:Sn.doDecodeFormatInformation(o^Sn.FORMAT_INFO_MASK_QR,d^Sn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,d){let h=Number.MAX_SAFE_INTEGER,v=0;for(const b of Sn.FORMAT_INFO_DECODE_LOOKUP){const A=b[0];if(A===o||A===d)return new Sn(b[1]);let C=Sn.numBitsDiffering(o,A);C<h&&(v=b[1],h=C),o!==d&&(C=Sn.numBitsDiffering(d,A),C<h&&(v=b[1],h=C))}return h<=3?new Sn(v):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof Sn))return!1;const d=o;return this.errorCorrectionLevel===d.errorCorrectionLevel&&this.dataMask===d.dataMask}}Sn.FORMAT_INFO_MASK_QR=21522,Sn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class nt{constructor(o,...d){this.ecCodewordsPerBlock=o,this.ecBlocks=d}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const d=this.ecBlocks;for(const h of d)o+=h.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Te{constructor(o,d){this.count=o,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class sr{constructor(o,d,...h){this.versionNumber=o,this.alignmentPatternCenters=d,this.ecBlocks=h;let v=0;const b=h[0].getECCodewordsPerBlock(),A=h[0].getECBlocks();for(const C of A)v+=C.getCount()*(C.getDataCodewords()+b);this.totalCodewords=v}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new V;try{return this.getVersionForNumber((o-17)/4)}catch{throw new V}}static getVersionForNumber(o){if(o<1||o>40)throw new y;return sr.VERSIONS[o-1]}static decodeVersionInformation(o){let d=Number.MAX_SAFE_INTEGER,h=0;for(let v=0;v<sr.VERSION_DECODE_INFO.length;v++){const b=sr.VERSION_DECODE_INFO[v];if(b===o)return sr.getVersionForNumber(v+7);const A=Sn.numBitsDiffering(o,b);A<d&&(h=v+7,d=A)}return d<=3?sr.getVersionForNumber(h):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),d=new ie(o);d.setRegion(0,0,9,9),d.setRegion(o-8,0,8,9),d.setRegion(0,o-8,9,8);const h=this.alignmentPatternCenters.length;for(let v=0;v<h;v++){const b=this.alignmentPatternCenters[v]-2;for(let A=0;A<h;A++)v===0&&(A===0||A===h-1)||v===h-1&&A===0||d.setRegion(this.alignmentPatternCenters[A]-2,b,5,5)}return d.setRegion(6,9,1,o-17),d.setRegion(9,6,o-17,1),this.versionNumber>6&&(d.setRegion(o-11,0,3,6),d.setRegion(0,o-11,6,3)),d}toString(){return""+this.versionNumber}}sr.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),sr.VERSIONS=[new sr(1,new Int32Array(0),new nt(7,new Te(1,19)),new nt(10,new Te(1,16)),new nt(13,new Te(1,13)),new nt(17,new Te(1,9))),new sr(2,Int32Array.from([6,18]),new nt(10,new Te(1,34)),new nt(16,new Te(1,28)),new nt(22,new Te(1,22)),new nt(28,new Te(1,16))),new sr(3,Int32Array.from([6,22]),new nt(15,new Te(1,55)),new nt(26,new Te(1,44)),new nt(18,new Te(2,17)),new nt(22,new Te(2,13))),new sr(4,Int32Array.from([6,26]),new nt(20,new Te(1,80)),new nt(18,new Te(2,32)),new nt(26,new Te(2,24)),new nt(16,new Te(4,9))),new sr(5,Int32Array.from([6,30]),new nt(26,new Te(1,108)),new nt(24,new Te(2,43)),new nt(18,new Te(2,15),new Te(2,16)),new nt(22,new Te(2,11),new Te(2,12))),new sr(6,Int32Array.from([6,34]),new nt(18,new Te(2,68)),new nt(16,new Te(4,27)),new nt(24,new Te(4,19)),new nt(28,new Te(4,15))),new sr(7,Int32Array.from([6,22,38]),new nt(20,new Te(2,78)),new nt(18,new Te(4,31)),new nt(18,new Te(2,14),new Te(4,15)),new nt(26,new Te(4,13),new Te(1,14))),new sr(8,Int32Array.from([6,24,42]),new nt(24,new Te(2,97)),new nt(22,new Te(2,38),new Te(2,39)),new nt(22,new Te(4,18),new Te(2,19)),new nt(26,new Te(4,14),new Te(2,15))),new sr(9,Int32Array.from([6,26,46]),new nt(30,new Te(2,116)),new nt(22,new Te(3,36),new Te(2,37)),new nt(20,new Te(4,16),new Te(4,17)),new nt(24,new Te(4,12),new Te(4,13))),new sr(10,Int32Array.from([6,28,50]),new nt(18,new Te(2,68),new Te(2,69)),new nt(26,new Te(4,43),new Te(1,44)),new nt(24,new Te(6,19),new Te(2,20)),new nt(28,new Te(6,15),new Te(2,16))),new sr(11,Int32Array.from([6,30,54]),new nt(20,new Te(4,81)),new nt(30,new Te(1,50),new Te(4,51)),new nt(28,new Te(4,22),new Te(4,23)),new nt(24,new Te(3,12),new Te(8,13))),new sr(12,Int32Array.from([6,32,58]),new nt(24,new Te(2,92),new Te(2,93)),new nt(22,new Te(6,36),new Te(2,37)),new nt(26,new Te(4,20),new Te(6,21)),new nt(28,new Te(7,14),new Te(4,15))),new sr(13,Int32Array.from([6,34,62]),new nt(26,new Te(4,107)),new nt(22,new Te(8,37),new Te(1,38)),new nt(24,new Te(8,20),new Te(4,21)),new nt(22,new Te(12,11),new Te(4,12))),new sr(14,Int32Array.from([6,26,46,66]),new nt(30,new Te(3,115),new Te(1,116)),new nt(24,new Te(4,40),new Te(5,41)),new nt(20,new Te(11,16),new Te(5,17)),new nt(24,new Te(11,12),new Te(5,13))),new sr(15,Int32Array.from([6,26,48,70]),new nt(22,new Te(5,87),new Te(1,88)),new nt(24,new Te(5,41),new Te(5,42)),new nt(30,new Te(5,24),new Te(7,25)),new nt(24,new Te(11,12),new Te(7,13))),new sr(16,Int32Array.from([6,26,50,74]),new nt(24,new Te(5,98),new Te(1,99)),new nt(28,new Te(7,45),new Te(3,46)),new nt(24,new Te(15,19),new Te(2,20)),new nt(30,new Te(3,15),new Te(13,16))),new sr(17,Int32Array.from([6,30,54,78]),new nt(28,new Te(1,107),new Te(5,108)),new nt(28,new Te(10,46),new Te(1,47)),new nt(28,new Te(1,22),new Te(15,23)),new nt(28,new Te(2,14),new Te(17,15))),new sr(18,Int32Array.from([6,30,56,82]),new nt(30,new Te(5,120),new Te(1,121)),new nt(26,new Te(9,43),new Te(4,44)),new nt(28,new Te(17,22),new Te(1,23)),new nt(28,new Te(2,14),new Te(19,15))),new sr(19,Int32Array.from([6,30,58,86]),new nt(28,new Te(3,113),new Te(4,114)),new nt(26,new Te(3,44),new Te(11,45)),new nt(26,new Te(17,21),new Te(4,22)),new nt(26,new Te(9,13),new Te(16,14))),new sr(20,Int32Array.from([6,34,62,90]),new nt(28,new Te(3,107),new Te(5,108)),new nt(26,new Te(3,41),new Te(13,42)),new nt(30,new Te(15,24),new Te(5,25)),new nt(28,new Te(15,15),new Te(10,16))),new sr(21,Int32Array.from([6,28,50,72,94]),new nt(28,new Te(4,116),new Te(4,117)),new nt(26,new Te(17,42)),new nt(28,new Te(17,22),new Te(6,23)),new nt(30,new Te(19,16),new Te(6,17))),new sr(22,Int32Array.from([6,26,50,74,98]),new nt(28,new Te(2,111),new Te(7,112)),new nt(28,new Te(17,46)),new nt(30,new Te(7,24),new Te(16,25)),new nt(24,new Te(34,13))),new sr(23,Int32Array.from([6,30,54,78,102]),new nt(30,new Te(4,121),new Te(5,122)),new nt(28,new Te(4,47),new Te(14,48)),new nt(30,new Te(11,24),new Te(14,25)),new nt(30,new Te(16,15),new Te(14,16))),new sr(24,Int32Array.from([6,28,54,80,106]),new nt(30,new Te(6,117),new Te(4,118)),new nt(28,new Te(6,45),new Te(14,46)),new nt(30,new Te(11,24),new Te(16,25)),new nt(30,new Te(30,16),new Te(2,17))),new sr(25,Int32Array.from([6,32,58,84,110]),new nt(26,new Te(8,106),new Te(4,107)),new nt(28,new Te(8,47),new Te(13,48)),new nt(30,new Te(7,24),new Te(22,25)),new nt(30,new Te(22,15),new Te(13,16))),new sr(26,Int32Array.from([6,30,58,86,114]),new nt(28,new Te(10,114),new Te(2,115)),new nt(28,new Te(19,46),new Te(4,47)),new nt(28,new Te(28,22),new Te(6,23)),new nt(30,new Te(33,16),new Te(4,17))),new sr(27,Int32Array.from([6,34,62,90,118]),new nt(30,new Te(8,122),new Te(4,123)),new nt(28,new Te(22,45),new Te(3,46)),new nt(30,new Te(8,23),new Te(26,24)),new nt(30,new Te(12,15),new Te(28,16))),new sr(28,Int32Array.from([6,26,50,74,98,122]),new nt(30,new Te(3,117),new Te(10,118)),new nt(28,new Te(3,45),new Te(23,46)),new nt(30,new Te(4,24),new Te(31,25)),new nt(30,new Te(11,15),new Te(31,16))),new sr(29,Int32Array.from([6,30,54,78,102,126]),new nt(30,new Te(7,116),new Te(7,117)),new nt(28,new Te(21,45),new Te(7,46)),new nt(30,new Te(1,23),new Te(37,24)),new nt(30,new Te(19,15),new Te(26,16))),new sr(30,Int32Array.from([6,26,52,78,104,130]),new nt(30,new Te(5,115),new Te(10,116)),new nt(28,new Te(19,47),new Te(10,48)),new nt(30,new Te(15,24),new Te(25,25)),new nt(30,new Te(23,15),new Te(25,16))),new sr(31,Int32Array.from([6,30,56,82,108,134]),new nt(30,new Te(13,115),new Te(3,116)),new nt(28,new Te(2,46),new Te(29,47)),new nt(30,new Te(42,24),new Te(1,25)),new nt(30,new Te(23,15),new Te(28,16))),new sr(32,Int32Array.from([6,34,60,86,112,138]),new nt(30,new Te(17,115)),new nt(28,new Te(10,46),new Te(23,47)),new nt(30,new Te(10,24),new Te(35,25)),new nt(30,new Te(19,15),new Te(35,16))),new sr(33,Int32Array.from([6,30,58,86,114,142]),new nt(30,new Te(17,115),new Te(1,116)),new nt(28,new Te(14,46),new Te(21,47)),new nt(30,new Te(29,24),new Te(19,25)),new nt(30,new Te(11,15),new Te(46,16))),new sr(34,Int32Array.from([6,34,62,90,118,146]),new nt(30,new Te(13,115),new Te(6,116)),new nt(28,new Te(14,46),new Te(23,47)),new nt(30,new Te(44,24),new Te(7,25)),new nt(30,new Te(59,16),new Te(1,17))),new sr(35,Int32Array.from([6,30,54,78,102,126,150]),new nt(30,new Te(12,121),new Te(7,122)),new nt(28,new Te(12,47),new Te(26,48)),new nt(30,new Te(39,24),new Te(14,25)),new nt(30,new Te(22,15),new Te(41,16))),new sr(36,Int32Array.from([6,24,50,76,102,128,154]),new nt(30,new Te(6,121),new Te(14,122)),new nt(28,new Te(6,47),new Te(34,48)),new nt(30,new Te(46,24),new Te(10,25)),new nt(30,new Te(2,15),new Te(64,16))),new sr(37,Int32Array.from([6,28,54,80,106,132,158]),new nt(30,new Te(17,122),new Te(4,123)),new nt(28,new Te(29,46),new Te(14,47)),new nt(30,new Te(49,24),new Te(10,25)),new nt(30,new Te(24,15),new Te(46,16))),new sr(38,Int32Array.from([6,32,58,84,110,136,162]),new nt(30,new Te(4,122),new Te(18,123)),new nt(28,new Te(13,46),new Te(32,47)),new nt(30,new Te(48,24),new Te(14,25)),new nt(30,new Te(42,15),new Te(32,16))),new sr(39,Int32Array.from([6,26,54,82,110,138,166]),new nt(30,new Te(20,117),new Te(4,118)),new nt(28,new Te(40,47),new Te(7,48)),new nt(30,new Te(43,24),new Te(22,25)),new nt(30,new Te(10,15),new Te(67,16))),new sr(40,Int32Array.from([6,30,58,86,114,142,170]),new nt(30,new Te(19,118),new Te(6,119)),new nt(28,new Te(18,47),new Te(31,48)),new nt(30,new Te(34,24),new Te(34,25)),new nt(30,new Te(20,15),new Te(61,16)))];var Fn;(function(fe){fe[fe.DATA_MASK_000=0]="DATA_MASK_000",fe[fe.DATA_MASK_001=1]="DATA_MASK_001",fe[fe.DATA_MASK_010=2]="DATA_MASK_010",fe[fe.DATA_MASK_011=3]="DATA_MASK_011",fe[fe.DATA_MASK_100=4]="DATA_MASK_100",fe[fe.DATA_MASK_101=5]="DATA_MASK_101",fe[fe.DATA_MASK_110=6]="DATA_MASK_110",fe[fe.DATA_MASK_111=7]="DATA_MASK_111"})(Fn||(Fn={}));class ei{constructor(o,d){this.value=o,this.isMasked=d}unmaskBitMatrix(o,d){for(let h=0;h<d;h++)for(let v=0;v<d;v++)this.isMasked(h,v)&&o.flip(v,h)}}ei.values=new Map([[Fn.DATA_MASK_000,new ei(Fn.DATA_MASK_000,(fe,o)=>(fe+o&1)===0)],[Fn.DATA_MASK_001,new ei(Fn.DATA_MASK_001,(fe,o)=>(fe&1)===0)],[Fn.DATA_MASK_010,new ei(Fn.DATA_MASK_010,(fe,o)=>o%3===0)],[Fn.DATA_MASK_011,new ei(Fn.DATA_MASK_011,(fe,o)=>(fe+o)%3===0)],[Fn.DATA_MASK_100,new ei(Fn.DATA_MASK_100,(fe,o)=>(Math.floor(fe/2)+Math.floor(o/3)&1)===0)],[Fn.DATA_MASK_101,new ei(Fn.DATA_MASK_101,(fe,o)=>fe*o%6===0)],[Fn.DATA_MASK_110,new ei(Fn.DATA_MASK_110,(fe,o)=>fe*o%6<3)],[Fn.DATA_MASK_111,new ei(Fn.DATA_MASK_111,(fe,o)=>(fe+o+fe*o%3&1)===0)]]);class gs{constructor(o){const d=o.getHeight();if(d<21||(d&3)!==1)throw new V;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let b=0;b<6;b++)o=this.copyBit(b,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let b=5;b>=0;b--)o=this.copyBit(8,b,o);const d=this.bitMatrix.getHeight();let h=0;const v=d-7;for(let b=d-1;b>=v;b--)h=this.copyBit(8,b,h);for(let b=d-8;b<d;b++)h=this.copyBit(b,8,h);if(this.parsedFormatInfo=Sn.decodeFormatInformation(o,h),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),d=Math.floor((o-17)/4);if(d<=6)return sr.getVersionForNumber(d);let h=0;const v=o-11;for(let A=5;A>=0;A--)for(let C=o-9;C>=v;C--)h=this.copyBit(C,A,h);let b=sr.decodeVersionInformation(h);if(b!==null&&b.getDimensionForVersion()===o)return this.parsedVersion=b,b;h=0;for(let A=5;A>=0;A--)for(let C=o-9;C>=v;C--)h=this.copyBit(A,C,h);if(b=sr.decodeVersionInformation(h),b!==null&&b.getDimensionForVersion()===o)return this.parsedVersion=b,b;throw new V}copyBit(o,d,h){return(this.isMirror?this.bitMatrix.get(d,o):this.bitMatrix.get(o,d))?h<<1|1:h<<1}readCodewords(){const o=this.readFormatInformation(),d=this.readVersion(),h=ei.values.get(o.getDataMask()),v=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,v);const b=d.buildFunctionPattern();let A=!0;const C=new Uint8Array(d.getTotalCodewords());let M=0,B=0,J=0;for(let ce=v-1;ce>0;ce-=2){ce===6&&ce--;for(let Ae=0;Ae<v;Ae++){const Me=A?v-1-Ae:Ae;for(let ze=0;ze<2;ze++)b.get(ce-ze,Me)||(J++,B<<=1,this.bitMatrix.get(ce-ze,Me)&&(B|=1),J===8&&(C[M++]=B,J=0,B=0))}A=!A}if(M!==d.getTotalCodewords())throw new V;return C}remask(){if(this.parsedFormatInfo===null)return;const o=ei.values[this.parsedFormatInfo.getDataMask()],d=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,d)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let d=0,h=o.getWidth();d<h;d++)for(let v=d+1,b=o.getHeight();v<b;v++)o.get(d,v)!==o.get(v,d)&&(o.flip(v,d),o.flip(d,v))}}class tl{constructor(o,d){this.numDataCodewords=o,this.codewords=d}static getDataBlocks(o,d,h){if(o.length!==d.getTotalCodewords())throw new y;const v=d.getECBlocksForLevel(h);let b=0;const A=v.getECBlocks();for(const ze of A)b+=ze.getCount();const C=new Array(b);let M=0;for(const ze of A)for(let He=0;He<ze.getCount();He++){const Xe=ze.getDataCodewords(),dt=v.getECCodewordsPerBlock()+Xe;C[M++]=new tl(Xe,new Uint8Array(dt))}const B=C[0].codewords.length;let J=C.length-1;for(;J>=0&&C[J].codewords.length!==B;)J--;J++;const ce=B-v.getECCodewordsPerBlock();let Ae=0;for(let ze=0;ze<ce;ze++)for(let He=0;He<M;He++)C[He].codewords[ze]=o[Ae++];for(let ze=J;ze<M;ze++)C[ze].codewords[ce]=o[Ae++];const Me=C[0].codewords.length;for(let ze=ce;ze<Me;ze++)for(let He=0;He<M;He++){const Xe=He<J?ze:ze+1;C[He].codewords[Xe]=o[Ae++]}return C}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ti;(function(fe){fe[fe.TERMINATOR=0]="TERMINATOR",fe[fe.NUMERIC=1]="NUMERIC",fe[fe.ALPHANUMERIC=2]="ALPHANUMERIC",fe[fe.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",fe[fe.BYTE=4]="BYTE",fe[fe.ECI=5]="ECI",fe[fe.KANJI=6]="KANJI",fe[fe.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",fe[fe.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",fe[fe.HANZI=9]="HANZI"})(ti||(ti={}));class pr{constructor(o,d,h,v){this.value=o,this.stringValue=d,this.characterCountBitsForVersions=h,this.bits=v,pr.FOR_BITS.set(v,this),pr.FOR_VALUE.set(o,this)}static forBits(o){const d=pr.FOR_BITS.get(o);if(d===void 0)throw new y;return d}getCharacterCountBits(o){const d=o.getVersionNumber();let h;return d<=9?h=0:d<=26?h=1:h=2,this.characterCountBitsForVersions[h]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof pr))return!1;const d=o;return this.value===d.value}toString(){return this.stringValue}}pr.FOR_BITS=new Map,pr.FOR_VALUE=new Map,pr.TERMINATOR=new pr(ti.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),pr.NUMERIC=new pr(ti.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),pr.ALPHANUMERIC=new pr(ti.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),pr.STRUCTURED_APPEND=new pr(ti.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),pr.BYTE=new pr(ti.BYTE,"BYTE",Int32Array.from([8,16,16]),4),pr.ECI=new pr(ti.ECI,"ECI",Int32Array.from([0,0,0]),7),pr.KANJI=new pr(ti.KANJI,"KANJI",Int32Array.from([8,10,12]),8),pr.FNC1_FIRST_POSITION=new pr(ti.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),pr.FNC1_SECOND_POSITION=new pr(ti.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),pr.HANZI=new pr(ti.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class rn{static decode(o,d,h,v){const b=new tn(o);let A=new ye;const C=new Array;let M=-1,B=-1;try{let J=null,ce=!1,Ae;do{if(b.available()<4)Ae=pr.TERMINATOR;else{const Me=b.readBits(4);Ae=pr.forBits(Me)}switch(Ae){case pr.TERMINATOR:break;case pr.FNC1_FIRST_POSITION:case pr.FNC1_SECOND_POSITION:ce=!0;break;case pr.STRUCTURED_APPEND:if(b.available()<16)throw new V;M=b.readBits(8),B=b.readBits(8);break;case pr.ECI:const Me=rn.parseECIValue(b);if(J=W.getCharacterSetECIByValue(Me),J===null)throw new V;break;case pr.HANZI:const ze=b.readBits(4),He=b.readBits(Ae.getCharacterCountBits(d));ze===rn.GB2312_SUBSET&&rn.decodeHanziSegment(b,A,He);break;default:const Xe=b.readBits(Ae.getCharacterCountBits(d));switch(Ae){case pr.NUMERIC:rn.decodeNumericSegment(b,A,Xe);break;case pr.ALPHANUMERIC:rn.decodeAlphanumericSegment(b,A,Xe,ce);break;case pr.BYTE:rn.decodeByteSegment(b,A,Xe,J,C,v);break;case pr.KANJI:rn.decodeKanjiSegment(b,A,Xe);break;default:throw new V}break}}while(Ae!==pr.TERMINATOR)}catch{throw new V}return new me(o,A.toString(),C.length===0?null:C,h===null?null:h.toString(),M,B)}static decodeHanziSegment(o,d,h){if(h*13>o.available())throw new V;const v=new Uint8Array(2*h);let b=0;for(;h>0;){const A=o.readBits(13);let C=A/96<<8&4294967295|A%96;C<959?C+=41377:C+=42657,v[b]=C>>8&255,v[b+1]=C&255,b+=2,h--}try{d.append(Z.decode(v,Q.GB2312))}catch(A){throw new V(A)}}static decodeKanjiSegment(o,d,h){if(h*13>o.available())throw new V;const v=new Uint8Array(2*h);let b=0;for(;h>0;){const A=o.readBits(13);let C=A/192<<8&4294967295|A%192;C<7936?C+=33088:C+=49472,v[b]=C>>8,v[b+1]=C,b+=2,h--}try{d.append(Z.decode(v,Q.SHIFT_JIS))}catch(A){throw new V(A)}}static decodeByteSegment(o,d,h,v,b,A){if(8*h>o.available())throw new V;const C=new Uint8Array(h);for(let B=0;B<h;B++)C[B]=o.readBits(8);let M;v===null?M=Q.guessEncoding(C,A):M=v.getName();try{d.append(Z.decode(C,M))}catch(B){throw new V(B)}b.push(C)}static toAlphaNumericChar(o){if(o>=rn.ALPHANUMERIC_CHARS.length)throw new V;return rn.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,d,h,v){const b=d.length();for(;h>1;){if(o.available()<11)throw new V;const A=o.readBits(11);d.append(rn.toAlphaNumericChar(Math.floor(A/45))),d.append(rn.toAlphaNumericChar(A%45)),h-=2}if(h===1){if(o.available()<6)throw new V;d.append(rn.toAlphaNumericChar(o.readBits(6)))}if(v)for(let A=b;A<d.length();A++)d.charAt(A)==="%"&&(A<d.length()-1&&d.charAt(A+1)==="%"?d.deleteCharAt(A+1):d.setCharAt(A,""))}static decodeNumericSegment(o,d,h){for(;h>=3;){if(o.available()<10)throw new V;const v=o.readBits(10);if(v>=1e3)throw new V;d.append(rn.toAlphaNumericChar(Math.floor(v/100))),d.append(rn.toAlphaNumericChar(Math.floor(v/10)%10)),d.append(rn.toAlphaNumericChar(v%10)),h-=3}if(h===2){if(o.available()<7)throw new V;const v=o.readBits(7);if(v>=100)throw new V;d.append(rn.toAlphaNumericChar(Math.floor(v/10))),d.append(rn.toAlphaNumericChar(v%10))}else if(h===1){if(o.available()<4)throw new V;const v=o.readBits(4);if(v>=10)throw new V;d.append(rn.toAlphaNumericChar(v))}}static parseECIValue(o){const d=o.readBits(8);if(!(d&128))return d&127;if((d&192)===128){const h=o.readBits(8);return(d&63)<<8&4294967295|h}if((d&224)===192){const h=o.readBits(16);return(d&31)<<16&4294967295|h}throw new V}}rn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",rn.GB2312_SUBSET=1;class lo{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const d=o[0];o[0]=o[2],o[2]=d}}class Po{constructor(){this.rsDecoder=new ne(Le.QR_CODE_FIELD_256)}decodeBooleanArray(o,d){return this.decodeBitMatrix(ie.parseFromBooleanArray(o),d)}decodeBitMatrix(o,d){const h=new gs(o);let v=null;try{return this.decodeBitMatrixParser(h,d)}catch(b){v=b}try{h.remask(),h.setMirror(!0),h.readVersion(),h.readFormatInformation(),h.mirror();const b=this.decodeBitMatrixParser(h,d);return b.setOther(new lo(!0)),b}catch(b){throw v!==null?v:b}}decodeBitMatrixParser(o,d){const h=o.readVersion(),v=o.readFormatInformation().getErrorCorrectionLevel(),b=o.readCodewords(),A=tl.getDataBlocks(b,h,v);let C=0;for(const J of A)C+=J.getNumDataCodewords();const M=new Uint8Array(C);let B=0;for(const J of A){const ce=J.getCodewords(),Ae=J.getNumDataCodewords();this.correctErrors(ce,Ae);for(let Me=0;Me<Ae;Me++)M[B++]=ce[Me]}return rn.decode(M,h,v,d)}correctErrors(o,d){const h=new Int32Array(o);try{this.rsDecoder.decode(h,o.length-d)}catch{throw new N}for(let v=0;v<d;v++)o[v]=h[v]}}class Cs extends Fe{constructor(o,d,h){super(o,d),this.estimatedModuleSize=h}aboutEquals(o,d,h){if(Math.abs(d-this.getY())<=o&&Math.abs(h-this.getX())<=o){const v=Math.abs(o-this.estimatedModuleSize);return v<=1||v<=this.estimatedModuleSize}return!1}combineEstimate(o,d,h){const v=(this.getX()+d)/2,b=(this.getY()+o)/2,A=(this.estimatedModuleSize+h)/2;return new Cs(v,b,A)}}class En{constructor(o,d,h,v,b,A,C){this.image=o,this.startX=d,this.startY=h,this.width=v,this.height=b,this.moduleSize=A,this.resultPointCallback=C,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,d=this.height,h=this.width,v=o+h,b=this.startY+d/2,A=new Int32Array(3),C=this.image;for(let M=0;M<d;M++){const B=b+(M&1?-Math.floor((M+1)/2):Math.floor((M+1)/2));A[0]=0,A[1]=0,A[2]=0;let J=o;for(;J<v&&!C.get(J,B);)J++;let ce=0;for(;J<v;){if(C.get(J,B))if(ce===1)A[1]++;else if(ce===2){if(this.foundPatternCross(A)){const Ae=this.handlePossibleCenter(A,B,J);if(Ae!==null)return Ae}A[0]=A[2],A[1]=1,A[2]=0,ce=1}else A[++ce]++;else ce===1&&ce++,A[ce]++;J++}if(this.foundPatternCross(A)){const Ae=this.handlePossibleCenter(A,B,v);if(Ae!==null)return Ae}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new q}static centerFromEnd(o,d){return d-o[2]-o[1]/2}foundPatternCross(o){const d=this.moduleSize,h=d/2;for(let v=0;v<3;v++)if(Math.abs(d-o[v])>=h)return!1;return!0}crossCheckVertical(o,d,h,v){const b=this.image,A=b.getHeight(),C=this.crossCheckStateCount;C[0]=0,C[1]=0,C[2]=0;let M=o;for(;M>=0&&b.get(d,M)&&C[1]<=h;)C[1]++,M--;if(M<0||C[1]>h)return NaN;for(;M>=0&&!b.get(d,M)&&C[0]<=h;)C[0]++,M--;if(C[0]>h)return NaN;for(M=o+1;M<A&&b.get(d,M)&&C[1]<=h;)C[1]++,M++;if(M===A||C[1]>h)return NaN;for(;M<A&&!b.get(d,M)&&C[2]<=h;)C[2]++,M++;if(C[2]>h)return NaN;const B=C[0]+C[1]+C[2];return 5*Math.abs(B-v)>=2*v?NaN:this.foundPatternCross(C)?En.centerFromEnd(C,M):NaN}handlePossibleCenter(o,d,h){const v=o[0]+o[1]+o[2],b=En.centerFromEnd(o,h),A=this.crossCheckVertical(d,b,2*o[1],v);if(!isNaN(A)){const C=(o[0]+o[1]+o[2])/3;for(const B of this.possibleCenters)if(B.aboutEquals(C,A,b))return B.combineEstimate(A,b,C);const M=new Cs(b,A,C);this.possibleCenters.push(M),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(M)}return null}}class zn extends Fe{constructor(o,d,h,v){super(o,d),this.estimatedModuleSize=h,this.count=v,v===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,d,h){if(Math.abs(d-this.getY())<=o&&Math.abs(h-this.getX())<=o){const v=Math.abs(o-this.estimatedModuleSize);return v<=1||v<=this.estimatedModuleSize}return!1}combineEstimate(o,d,h){const v=this.count+1,b=(this.count*this.getX()+d)/v,A=(this.count*this.getY()+o)/v,C=(this.count*this.estimatedModuleSize+h)/v;return new zn(b,A,C,v)}}class tc{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class rr{constructor(o,d){this.image=o,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=d}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const d=o!=null&&o.get(X.TRY_HARDER)!==void 0,h=o!=null&&o.get(X.PURE_BARCODE)!==void 0,v=this.image,b=v.getHeight(),A=v.getWidth();let C=Math.floor(3*b/(4*rr.MAX_MODULES));(C<rr.MIN_SKIP||d)&&(C=rr.MIN_SKIP);let M=!1;const B=new Int32Array(5);for(let ce=C-1;ce<b&&!M;ce+=C){B[0]=0,B[1]=0,B[2]=0,B[3]=0,B[4]=0;let Ae=0;for(let Me=0;Me<A;Me++)if(v.get(Me,ce))(Ae&1)===1&&Ae++,B[Ae]++;else if(Ae&1)B[Ae]++;else if(Ae===4)if(rr.foundPatternCross(B)){if(this.handlePossibleCenter(B,ce,Me,h)===!0)if(C=2,this.hasSkipped===!0)M=this.haveMultiplyConfirmedCenters();else{const He=this.findRowSkip();He>B[2]&&(ce+=He-B[2]-C,Me=A-1)}else{B[0]=B[2],B[1]=B[3],B[2]=B[4],B[3]=1,B[4]=0,Ae=3;continue}Ae=0,B[0]=0,B[1]=0,B[2]=0,B[3]=0,B[4]=0}else B[0]=B[2],B[1]=B[3],B[2]=B[4],B[3]=1,B[4]=0,Ae=3;else B[++Ae]++;rr.foundPatternCross(B)&&this.handlePossibleCenter(B,ce,A,h)===!0&&(C=B[0],this.hasSkipped&&(M=this.haveMultiplyConfirmedCenters()))}const J=this.selectBestPatterns();return Fe.orderBestPatterns(J),new tc(J)}static centerFromEnd(o,d){return d-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let d=0;for(let b=0;b<5;b++){const A=o[b];if(A===0)return!1;d+=A}if(d<7)return!1;const h=d/7,v=h/2;return Math.abs(h-o[0])<v&&Math.abs(h-o[1])<v&&Math.abs(3*h-o[2])<3*v&&Math.abs(h-o[3])<v&&Math.abs(h-o[4])<v}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,d,h,v){const b=this.getCrossCheckStateCount();let A=0;const C=this.image;for(;o>=A&&d>=A&&C.get(d-A,o-A);)b[2]++,A++;if(o<A||d<A)return!1;for(;o>=A&&d>=A&&!C.get(d-A,o-A)&&b[1]<=h;)b[1]++,A++;if(o<A||d<A||b[1]>h)return!1;for(;o>=A&&d>=A&&C.get(d-A,o-A)&&b[0]<=h;)b[0]++,A++;if(b[0]>h)return!1;const M=C.getHeight(),B=C.getWidth();for(A=1;o+A<M&&d+A<B&&C.get(d+A,o+A);)b[2]++,A++;if(o+A>=M||d+A>=B)return!1;for(;o+A<M&&d+A<B&&!C.get(d+A,o+A)&&b[3]<h;)b[3]++,A++;if(o+A>=M||d+A>=B||b[3]>=h)return!1;for(;o+A<M&&d+A<B&&C.get(d+A,o+A)&&b[4]<h;)b[4]++,A++;if(b[4]>=h)return!1;const J=b[0]+b[1]+b[2]+b[3]+b[4];return Math.abs(J-v)<2*v&&rr.foundPatternCross(b)}crossCheckVertical(o,d,h,v){const b=this.image,A=b.getHeight(),C=this.getCrossCheckStateCount();let M=o;for(;M>=0&&b.get(d,M);)C[2]++,M--;if(M<0)return NaN;for(;M>=0&&!b.get(d,M)&&C[1]<=h;)C[1]++,M--;if(M<0||C[1]>h)return NaN;for(;M>=0&&b.get(d,M)&&C[0]<=h;)C[0]++,M--;if(C[0]>h)return NaN;for(M=o+1;M<A&&b.get(d,M);)C[2]++,M++;if(M===A)return NaN;for(;M<A&&!b.get(d,M)&&C[3]<h;)C[3]++,M++;if(M===A||C[3]>=h)return NaN;for(;M<A&&b.get(d,M)&&C[4]<h;)C[4]++,M++;if(C[4]>=h)return NaN;const B=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(B-v)>=2*v?NaN:rr.foundPatternCross(C)?rr.centerFromEnd(C,M):NaN}crossCheckHorizontal(o,d,h,v){const b=this.image,A=b.getWidth(),C=this.getCrossCheckStateCount();let M=o;for(;M>=0&&b.get(M,d);)C[2]++,M--;if(M<0)return NaN;for(;M>=0&&!b.get(M,d)&&C[1]<=h;)C[1]++,M--;if(M<0||C[1]>h)return NaN;for(;M>=0&&b.get(M,d)&&C[0]<=h;)C[0]++,M--;if(C[0]>h)return NaN;for(M=o+1;M<A&&b.get(M,d);)C[2]++,M++;if(M===A)return NaN;for(;M<A&&!b.get(M,d)&&C[3]<h;)C[3]++,M++;if(M===A||C[3]>=h)return NaN;for(;M<A&&b.get(M,d)&&C[4]<h;)C[4]++,M++;if(C[4]>=h)return NaN;const B=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(B-v)>=v?NaN:rr.foundPatternCross(C)?rr.centerFromEnd(C,M):NaN}handlePossibleCenter(o,d,h,v){const b=o[0]+o[1]+o[2]+o[3]+o[4];let A=rr.centerFromEnd(o,h),C=this.crossCheckVertical(d,Math.floor(A),o[2],b);if(!isNaN(C)&&(A=this.crossCheckHorizontal(Math.floor(A),Math.floor(C),o[2],b),!isNaN(A)&&(!v||this.crossCheckDiagonal(Math.floor(C),Math.floor(A),o[2],b)))){const M=b/7;let B=!1;const J=this.possibleCenters;for(let ce=0,Ae=J.length;ce<Ae;ce++){const Me=J[ce];if(Me.aboutEquals(M,C,A)){J[ce]=Me.combineEstimate(C,A,M),B=!0;break}}if(!B){const ce=new zn(A,C,M);J.push(ce),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(ce)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let d=null;for(const h of this.possibleCenters)if(h.getCount()>=rr.CENTER_QUORUM)if(d==null)d=h;else return this.hasSkipped=!0,Math.floor((Math.abs(d.getX()-h.getX())-Math.abs(d.getY()-h.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,d=0;const h=this.possibleCenters.length;for(const A of this.possibleCenters)A.getCount()>=rr.CENTER_QUORUM&&(o++,d+=A.getEstimatedModuleSize());if(o<3)return!1;const v=d/h;let b=0;for(const A of this.possibleCenters)b+=Math.abs(A.getEstimatedModuleSize()-v);return b<=.05*d}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new q;const d=this.possibleCenters;let h;if(o>3){let v=0,b=0;for(const M of this.possibleCenters){const B=M.getEstimatedModuleSize();v+=B,b+=B*B}h=v/o;let A=Math.sqrt(b/o-h*h);d.sort((M,B)=>{const J=Math.abs(B.getEstimatedModuleSize()-h),ce=Math.abs(M.getEstimatedModuleSize()-h);return J<ce?-1:J>ce?1:0});const C=Math.max(.2*h,A);for(let M=0;M<d.length&&d.length>3;M++){const B=d[M];Math.abs(B.getEstimatedModuleSize()-h)>C&&(d.splice(M,1),M--)}}if(d.length>3){let v=0;for(const b of d)v+=b.getEstimatedModuleSize();h=v/d.length,d.sort((b,A)=>{if(A.getCount()===b.getCount()){const C=Math.abs(A.getEstimatedModuleSize()-h),M=Math.abs(b.getEstimatedModuleSize()-h);return C<M?1:C>M?-1:0}else return A.getCount()-b.getCount()}),d.splice(3)}return[d[0],d[1],d[2]]}}rr.CENTER_QUORUM=2,rr.MIN_SKIP=3,rr.MAX_MODULES=57;class _s{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(X.NEED_RESULT_POINT_CALLBACK);const h=new rr(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(h)}processFinderPatternInfo(o){const d=o.getTopLeft(),h=o.getTopRight(),v=o.getBottomLeft(),b=this.calculateModuleSize(d,h,v);if(b<1)throw new q("No pattern found in proccess finder.");const A=_s.computeDimension(d,h,v,b),C=sr.getProvisionalVersionForDimension(A),M=C.getDimensionForVersion()-7;let B=null;if(C.getAlignmentPatternCenters().length>0){const Me=h.getX()-d.getX()+v.getX(),ze=h.getY()-d.getY()+v.getY(),He=1-3/M,Xe=Math.floor(d.getX()+He*(Me-d.getX())),dt=Math.floor(d.getY()+He*(ze-d.getY()));for(let Pt=4;Pt<=16;Pt<<=1)try{B=this.findAlignmentInRegion(b,Xe,dt,Pt);break}catch(Rt){if(!(Rt instanceof q))throw Rt}}const J=_s.createTransform(d,h,v,B,A),ce=_s.sampleGrid(this.image,J,A);let Ae;return B===null?Ae=[v,d,h]:Ae=[v,d,h,B],new rt(ce,Ae)}static createTransform(o,d,h,v,b){const A=b-3.5;let C,M,B,J;return v!==null?(C=v.getX(),M=v.getY(),B=A-3,J=B):(C=d.getX()-o.getX()+h.getX(),M=d.getY()-o.getY()+h.getY(),B=A,J=A),Jt.quadrilateralToQuadrilateral(3.5,3.5,A,3.5,B,J,3.5,A,o.getX(),o.getY(),d.getX(),d.getY(),C,M,h.getX(),h.getY())}static sampleGrid(o,d,h){return ir.getInstance().sampleGridWithTransform(o,h,h,d)}static computeDimension(o,d,h,v){const b=Be.round(Fe.distance(o,d)/v),A=Be.round(Fe.distance(o,h)/v);let C=Math.floor((b+A)/2)+7;switch(C&3){case 0:C++;break;case 2:C--;break;case 3:throw new q("Dimensions could be not found.")}return C}calculateModuleSize(o,d,h){return(this.calculateModuleSizeOneWay(o,d)+this.calculateModuleSizeOneWay(o,h))/2}calculateModuleSizeOneWay(o,d){const h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(d.getX()),Math.floor(d.getY())),v=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(d.getX()),Math.floor(d.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(h)?v/7:isNaN(v)?h/7:(h+v)/14}sizeOfBlackWhiteBlackRunBothWays(o,d,h,v){let b=this.sizeOfBlackWhiteBlackRun(o,d,h,v),A=1,C=o-(h-o);C<0?(A=o/(o-C),C=0):C>=this.image.getWidth()&&(A=(this.image.getWidth()-1-o)/(C-o),C=this.image.getWidth()-1);let M=Math.floor(d-(v-d)*A);return A=1,M<0?(A=d/(d-M),M=0):M>=this.image.getHeight()&&(A=(this.image.getHeight()-1-d)/(M-d),M=this.image.getHeight()-1),C=Math.floor(o+(C-o)*A),b+=this.sizeOfBlackWhiteBlackRun(o,d,C,M),b-1}sizeOfBlackWhiteBlackRun(o,d,h,v){const b=Math.abs(v-d)>Math.abs(h-o);if(b){let Me=o;o=d,d=Me,Me=h,h=v,v=Me}const A=Math.abs(h-o),C=Math.abs(v-d);let M=-A/2;const B=o<h?1:-1,J=d<v?1:-1;let ce=0;const Ae=h+B;for(let Me=o,ze=d;Me!==Ae;Me+=B){const He=b?ze:Me,Xe=b?Me:ze;if(ce===1===this.image.get(He,Xe)){if(ce===2)return Be.distance(Me,ze,o,d);ce++}if(M+=C,M>0){if(ze===v)break;ze+=J,M-=A}}return ce===2?Be.distance(h+B,v,o,d):NaN}findAlignmentInRegion(o,d,h,v){const b=Math.floor(v*o),A=Math.max(0,d-b),C=Math.min(this.image.getWidth()-1,d+b);if(C-A<o*3)throw new q("Alignment top exceeds estimated module size.");const M=Math.max(0,h-b),B=Math.min(this.image.getHeight()-1,h+b);if(B-M<o*3)throw new q("Alignment bottom exceeds estimated module size.");return new En(this.image,A,M,C-A,B-M,o,this.resultPointCallback).find()}}class Ys{constructor(){this.decoder=new Po}getDecoder(){return this.decoder}decode(o,d){let h,v;if(d!=null&&d.get(X.PURE_BARCODE)!==void 0){const M=Ys.extractPureBits(o.getBlackMatrix());h=this.decoder.decodeBitMatrix(M,d),v=Ys.NO_POINTS}else{const M=new _s(o.getBlackMatrix()).detect(d);h=this.decoder.decodeBitMatrix(M.getBits(),d),v=M.getPoints()}h.getOther()instanceof lo&&h.getOther().applyMirroredCorrection(v);const b=new ae(h.getText(),h.getRawBytes(),void 0,v,ve.QR_CODE,void 0),A=h.getByteSegments();A!==null&&b.putMetadata(ke.BYTE_SEGMENTS,A);const C=h.getECLevel();return C!==null&&b.putMetadata(ke.ERROR_CORRECTION_LEVEL,C),h.hasStructuredAppend()&&(b.putMetadata(ke.STRUCTURED_APPEND_SEQUENCE,h.getStructuredAppendSequenceNumber()),b.putMetadata(ke.STRUCTURED_APPEND_PARITY,h.getStructuredAppendParity())),b}reset(){}static extractPureBits(o){const d=o.getTopLeftOnBit(),h=o.getBottomRightOnBit();if(d===null||h===null)throw new q;const v=this.moduleSize(d,o);let b=d[1],A=h[1],C=d[0],M=h[0];if(C>=M||b>=A)throw new q;if(A-b!==M-C&&(M=C+(A-b),M>=o.getWidth()))throw new q;const B=Math.round((M-C+1)/v),J=Math.round((A-b+1)/v);if(B<=0||J<=0)throw new q;if(J!==B)throw new q;const ce=Math.floor(v/2);b+=ce,C+=ce;const Ae=C+Math.floor((B-1)*v)-M;if(Ae>0){if(Ae>ce)throw new q;C-=Ae}const Me=b+Math.floor((J-1)*v)-A;if(Me>0){if(Me>ce)throw new q;b-=Me}const ze=new ie(B,J);for(let He=0;He<J;He++){const Xe=b+Math.floor(He*v);for(let dt=0;dt<B;dt++)o.get(C+Math.floor(dt*v),Xe)&&ze.set(dt,He)}return ze}static moduleSize(o,d){const h=d.getHeight(),v=d.getWidth();let b=o[0],A=o[1],C=!0,M=0;for(;b<v&&A<h;){if(C!==d.get(b,A)){if(++M===5)break;C=!C}b++,A++}if(b===v||A===h)throw new q;return(b-o[0])/7}}Ys.NO_POINTS=new Array;class fr{PDF417Common(){}static getBitCountSum(o){return Be.sum(o)}static toIntArray(o){if(o==null||!o.length)return fr.EMPTY_INT_ARRAY;const d=new Int32Array(o.length);let h=0;for(const v of o)d[h++]=v;return d}static getCodeword(o){const d=R.binarySearch(fr.SYMBOL_TABLE,o&262143);return d<0?-1:(fr.CODEWORD_TABLE[d]-1)%fr.NUMBER_OF_CODEWORDS}}fr.NUMBER_OF_CODEWORDS=929,fr.MAX_CODEWORDS_IN_BARCODE=fr.NUMBER_OF_CODEWORDS-1,fr.MIN_ROWS_IN_BARCODE=3,fr.MAX_ROWS_IN_BARCODE=90,fr.MODULES_IN_CODEWORD=17,fr.MODULES_IN_STOP_PATTERN=18,fr.BARS_IN_MODULE=8,fr.EMPTY_INT_ARRAY=new Int32Array([]),fr.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),fr.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Rc{constructor(o,d){this.bits=o,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class Tr{static detectMultiple(o,d,h){let v=o.getBlackMatrix(),b=Tr.detect(h,v);return b.length||(v=v.clone(),v.rotate180(),b=Tr.detect(h,v)),new Rc(v,b)}static detect(o,d){const h=new Array;let v=0,b=0,A=!1;for(;v<d.getHeight();){const C=Tr.findVertices(d,v,b);if(C[0]==null&&C[3]==null){if(!A)break;A=!1,b=0;for(const M of h)M[1]!=null&&(v=Math.trunc(Math.max(v,M[1].getY()))),M[3]!=null&&(v=Math.max(v,Math.trunc(M[3].getY())));v+=Tr.ROW_STEP;continue}if(A=!0,h.push(C),!o)break;C[2]!=null?(b=Math.trunc(C[2].getX()),v=Math.trunc(C[2].getY())):(b=Math.trunc(C[4].getX()),v=Math.trunc(C[4].getY()))}return h}static findVertices(o,d,h){const v=o.getHeight(),b=o.getWidth(),A=new Array(8);return Tr.copyToResult(A,Tr.findRowsWithPattern(o,v,b,d,h,Tr.START_PATTERN),Tr.INDEXES_START_PATTERN),A[4]!=null&&(h=Math.trunc(A[4].getX()),d=Math.trunc(A[4].getY())),Tr.copyToResult(A,Tr.findRowsWithPattern(o,v,b,d,h,Tr.STOP_PATTERN),Tr.INDEXES_STOP_PATTERN),A}static copyToResult(o,d,h){for(let v=0;v<h.length;v++)o[h[v]]=d[v]}static findRowsWithPattern(o,d,h,v,b,A){const C=new Array(4);let M=!1;const B=new Int32Array(A.length);for(;v<d;v+=Tr.ROW_STEP){let ce=Tr.findGuardPattern(o,b,v,h,!1,A,B);if(ce!=null){for(;v>0;){const Ae=Tr.findGuardPattern(o,b,--v,h,!1,A,B);if(Ae!=null)ce=Ae;else{v++;break}}C[0]=new Fe(ce[0],v),C[1]=new Fe(ce[1],v),M=!0;break}}let J=v+1;if(M){let ce=0,Ae=Int32Array.from([Math.trunc(C[0].getX()),Math.trunc(C[1].getX())]);for(;J<d;J++){const Me=Tr.findGuardPattern(o,Ae[0],J,h,!1,A,B);if(Me!=null&&Math.abs(Ae[0]-Me[0])<Tr.MAX_PATTERN_DRIFT&&Math.abs(Ae[1]-Me[1])<Tr.MAX_PATTERN_DRIFT)Ae=Me,ce=0;else{if(ce>Tr.SKIPPED_ROW_COUNT_MAX)break;ce++}}J-=ce+1,C[2]=new Fe(Ae[0],J),C[3]=new Fe(Ae[1],J)}return J-v<Tr.BARCODE_MIN_HEIGHT&&R.fill(C,null),C}static findGuardPattern(o,d,h,v,b,A,C){R.fillWithin(C,0,C.length,0);let M=d,B=0;for(;o.get(M,h)&&M>0&&B++<Tr.MAX_PIXEL_DRIFT;)M--;let J=M,ce=0,Ae=A.length;for(let Me=b;J<v;J++)if(o.get(J,h)!==Me)C[ce]++;else{if(ce===Ae-1){if(Tr.patternMatchVariance(C,A,Tr.MAX_INDIVIDUAL_VARIANCE)<Tr.MAX_AVG_VARIANCE)return new Int32Array([M,J]);M+=C[0]+C[1],_.arraycopy(C,2,C,0,ce-1),C[ce-1]=0,C[ce]=0,ce--}else ce++;C[ce]=1,Me=!Me}return ce===Ae-1&&Tr.patternMatchVariance(C,A,Tr.MAX_INDIVIDUAL_VARIANCE)<Tr.MAX_AVG_VARIANCE?new Int32Array([M,J-1]):null}static patternMatchVariance(o,d,h){let v=o.length,b=0,A=0;for(let B=0;B<v;B++)b+=o[B],A+=d[B];if(b<A)return 1/0;let C=b/A;h*=C;let M=0;for(let B=0;B<v;B++){let J=o[B],ce=d[B]*C,Ae=J>ce?J-ce:ce-J;if(Ae>h)return 1/0;M+=Ae}return M/b}}Tr.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Tr.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Tr.MAX_AVG_VARIANCE=.42,Tr.MAX_INDIVIDUAL_VARIANCE=.8,Tr.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Tr.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Tr.MAX_PIXEL_DRIFT=3,Tr.MAX_PATTERN_DRIFT=5,Tr.SKIPPED_ROW_COUNT_MAX=25,Tr.ROW_STEP=5,Tr.BARCODE_MIN_HEIGHT=10;class Cn{constructor(o,d){if(d.length===0)throw new y;this.field=o;let h=d.length;if(h>1&&d[0]===0){let v=1;for(;v<h&&d[v]===0;)v++;v===h?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(h-v),_.arraycopy(d,v,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let v=0;for(let b of this.coefficients)v=this.field.add(v,b);return v}let d=this.coefficients[0],h=this.coefficients.length;for(let v=1;v<h;v++)d=this.field.add(this.field.multiply(o,d),this.coefficients[v]);return d}add(o){if(!this.field.equals(o.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let d=this.coefficients,h=o.coefficients;if(d.length>h.length){let A=d;d=h,h=A}let v=new Int32Array(h.length),b=h.length-d.length;_.arraycopy(h,0,v,0,b);for(let A=b;A<h.length;A++)v[A]=this.field.add(d[A-b],h[A]);return new Cn(this.field,v)}subtract(o){if(!this.field.equals(o.field))throw new y("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof Cn?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new Cn(this.field,new Int32Array([0]));let d=this.coefficients,h=d.length,v=o.coefficients,b=v.length,A=new Int32Array(h+b-1);for(let C=0;C<h;C++){let M=d[C];for(let B=0;B<b;B++)A[C+B]=this.field.add(A[C+B],this.field.multiply(M,v[B]))}return new Cn(this.field,A)}negative(){let o=this.coefficients.length,d=new Int32Array(o);for(let h=0;h<o;h++)d[h]=this.field.subtract(0,this.coefficients[h]);return new Cn(this.field,d)}multiplyScalar(o){if(o===0)return new Cn(this.field,new Int32Array([0]));if(o===1)return this;let d=this.coefficients.length,h=new Int32Array(d);for(let v=0;v<d;v++)h[v]=this.field.multiply(this.coefficients[v],o);return new Cn(this.field,h)}multiplyByMonomial(o,d){if(o<0)throw new y;if(d===0)return new Cn(this.field,new Int32Array([0]));let h=this.coefficients.length,v=new Int32Array(h+o);for(let b=0;b<h;b++)v[b]=this.field.multiply(this.coefficients[b],d);return new Cn(this.field,v)}toString(){let o=new ye;for(let d=this.getDegree();d>=0;d--){let h=this.getCoefficient(d);h!==0&&(h<0?(o.append(" - "),h=-h):o.length()>0&&o.append(" + "),(d===0||h!==1)&&o.append(h),d!==0&&(d===1?o.append("x"):(o.append("x^"),o.append(d))))}return o.toString()}}class Nl{add(o,d){return(o+d)%this.modulus}subtract(o,d){return(this.modulus+o-d)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new y;return this.logTable[o]}inverse(o){if(o===0)throw new oe;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,d){return o===0||d===0?0:this.expTable[(this.logTable[o]+this.logTable[d])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class Ro extends Nl{constructor(o,d){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let h=1;for(let v=0;v<o;v++)this.expTable[v]=h,h=h*d%o;for(let v=0;v<o-1;v++)this.logTable[this.expTable[v]]=v;this.zero=new Cn(this,new Int32Array([0])),this.one=new Cn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,d){if(o<0)throw new y;if(d===0)return this.zero;let h=new Int32Array(o+1);return h[0]=d,new Cn(this,h)}}Ro.PDF417_GF=new Ro(fr.NUMBER_OF_CODEWORDS,3);class $s{constructor(){this.field=Ro.PDF417_GF}decode(o,d,h){let v=new Cn(this.field,o),b=new Int32Array(d),A=!1;for(let ze=d;ze>0;ze--){let He=v.evaluateAt(this.field.exp(ze));b[d-ze]=He,He!==0&&(A=!0)}if(!A)return 0;let C=this.field.getOne();if(h!=null)for(const ze of h){let He=this.field.exp(o.length-1-ze),Xe=new Cn(this.field,new Int32Array([this.field.subtract(0,He),1]));C=C.multiply(Xe)}let M=new Cn(this.field,b),B=this.runEuclideanAlgorithm(this.field.buildMonomial(d,1),M,d),J=B[0],ce=B[1],Ae=this.findErrorLocations(J),Me=this.findErrorMagnitudes(ce,J,Ae);for(let ze=0;ze<Ae.length;ze++){let He=o.length-1-this.field.log(Ae[ze]);if(He<0)throw N.getChecksumInstance();o[He]=this.field.subtract(o[He],Me[ze])}return Ae.length}runEuclideanAlgorithm(o,d,h){if(o.getDegree()<d.getDegree()){let Ae=o;o=d,d=Ae}let v=o,b=d,A=this.field.getZero(),C=this.field.getOne();for(;b.getDegree()>=Math.round(h/2);){let Ae=v,Me=A;if(v=b,A=C,v.isZero())throw N.getChecksumInstance();b=Ae;let ze=this.field.getZero(),He=v.getCoefficient(v.getDegree()),Xe=this.field.inverse(He);for(;b.getDegree()>=v.getDegree()&&!b.isZero();){let dt=b.getDegree()-v.getDegree(),Pt=this.field.multiply(b.getCoefficient(b.getDegree()),Xe);ze=ze.add(this.field.buildMonomial(dt,Pt)),b=b.subtract(v.multiplyByMonomial(dt,Pt))}C=ze.multiply(A).subtract(Me).negative()}let M=C.getCoefficient(0);if(M===0)throw N.getChecksumInstance();let B=this.field.inverse(M),J=C.multiply(B),ce=b.multiply(B);return[J,ce]}findErrorLocations(o){let d=o.getDegree(),h=new Int32Array(d),v=0;for(let b=1;b<this.field.getSize()&&v<d;b++)o.evaluateAt(b)===0&&(h[v]=this.field.inverse(b),v++);if(v!==d)throw N.getChecksumInstance();return h}findErrorMagnitudes(o,d,h){let v=d.getDegree(),b=new Int32Array(v);for(let B=1;B<=v;B++)b[v-B]=this.field.multiply(B,d.getCoefficient(B));let A=new Cn(this.field,b),C=h.length,M=new Int32Array(C);for(let B=0;B<C;B++){let J=this.field.inverse(h[B]),ce=this.field.subtract(0,o.evaluateAt(J)),Ae=this.field.inverse(A.evaluateAt(J));M[B]=this.field.multiply(ce,Ae)}return M}}class Xs{constructor(o,d,h,v,b){o instanceof Xs?this.constructor_2(o):this.constructor_1(o,d,h,v,b)}constructor_1(o,d,h,v,b){const A=d==null||h==null,C=v==null||b==null;if(A&&C)throw new q;A?(d=new Fe(0,v.getY()),h=new Fe(0,b.getY())):C&&(v=new Fe(o.getWidth()-1,d.getY()),b=new Fe(o.getWidth()-1,h.getY())),this.image=o,this.topLeft=d,this.bottomLeft=h,this.topRight=v,this.bottomRight=b,this.minX=Math.trunc(Math.min(d.getX(),h.getX())),this.maxX=Math.trunc(Math.max(v.getX(),b.getX())),this.minY=Math.trunc(Math.min(d.getY(),v.getY())),this.maxY=Math.trunc(Math.max(h.getY(),b.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,d){return o==null?d:d==null?o:new Xs(o.image,o.topLeft,o.bottomLeft,d.topRight,d.bottomRight)}addMissingRows(o,d,h){let v=this.topLeft,b=this.bottomLeft,A=this.topRight,C=this.bottomRight;if(o>0){let M=h?this.topLeft:this.topRight,B=Math.trunc(M.getY()-o);B<0&&(B=0);let J=new Fe(M.getX(),B);h?v=J:A=J}if(d>0){let M=h?this.bottomLeft:this.bottomRight,B=Math.trunc(M.getY()+d);B>=this.image.getHeight()&&(B=this.image.getHeight()-1);let J=new Fe(M.getX(),B);h?b=J:C=J}return new Xs(this.image,v,b,A,C)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class rl{constructor(o,d,h,v){this.columnCount=o,this.errorCorrectionLevel=v,this.rowCountUpperPart=d,this.rowCountLowerPart=h,this.rowCount=d+h}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class js{constructor(){this.buffer=""}static form(o,d){let h=-1;function v(A,C,M,B,J,ce){if(A==="%%")return"%";if(d[++h]===void 0)return;A=B?parseInt(B.substr(1)):void 0;let Ae=J?parseInt(J.substr(1)):void 0,Me;switch(ce){case"s":Me=d[h];break;case"c":Me=d[h][0];break;case"f":Me=parseFloat(d[h]).toFixed(A);break;case"p":Me=parseFloat(d[h]).toPrecision(A);break;case"e":Me=parseFloat(d[h]).toExponential(A);break;case"x":Me=parseInt(d[h]).toString(Ae||16);break;case"d":Me=parseFloat(parseInt(d[h],Ae||10).toPrecision(A)).toFixed(0);break}Me=typeof Me=="object"?JSON.stringify(Me):(+Me).toString(Ae);let ze=parseInt(M),He=M&&M[0]+""=="0"?"0":" ";for(;Me.length<ze;)Me=C!==void 0?Me+He:He+Me;return Me}let b=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(b,v)}format(o,...d){this.buffer+=js.form(o,d)}toString(){return this.buffer}}class Bi{constructor(o){this.boundingBox=new Xs(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let d=this.getCodeword(o);if(d!=null)return d;for(let h=1;h<Bi.MAX_NEARBY_DISTANCE;h++){let v=this.imageRowToCodewordIndex(o)-h;if(v>=0&&(d=this.codewords[v],d!=null)||(v=this.imageRowToCodewordIndex(o)+h,v<this.codewords.length&&(d=this.codewords[v],d!=null)))return d}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,d){this.codewords[this.imageRowToCodewordIndex(o)]=d}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new js;let d=0;for(const h of this.codewords){if(h==null){o.format("%3d:    |   %n",d++);continue}o.format("%3d: %3d|%3d%n",d++,h.getRowNumber(),h.getValue())}return o.toString()}}Bi.MAX_NEARBY_DISTANCE=5;class co{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let d=this.values.get(o);d==null&&(d=0),d++,this.values.set(o,d)}getValue(){let o=-1,d=new Array;for(const[h,v]of this.values.entries()){const b={getKey:()=>h,getValue:()=>v};b.getValue()>o?(o=b.getValue(),d=[],d.push(b.getKey())):b.getValue()===o&&d.push(b.getKey())}return fr.toIntArray(d)}getConfidence(o){return this.values.get(o)}}class Bo extends Bi{constructor(o,d){super(o),this._isLeft=d}setRowNumbers(){for(let o of this.getCodewords())o!=null&&o.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let d=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(d,o);let h=this.getBoundingBox(),v=this._isLeft?h.getTopLeft():h.getTopRight(),b=this._isLeft?h.getBottomLeft():h.getBottomRight(),A=this.imageRowToCodewordIndex(Math.trunc(v.getY())),C=this.imageRowToCodewordIndex(Math.trunc(b.getY())),M=-1,B=1,J=0;for(let ce=A;ce<C;ce++){if(d[ce]==null)continue;let Ae=d[ce],Me=Ae.getRowNumber()-M;if(Me===0)J++;else if(Me===1)B=Math.max(B,J),J=1,M=Ae.getRowNumber();else if(Me<0||Ae.getRowNumber()>=o.getRowCount()||Me>ce)d[ce]=null;else{let ze;B>2?ze=(B-2)*Me:ze=Me;let He=ze>=ce;for(let Xe=1;Xe<=ze&&!He;Xe++)He=d[ce-Xe]!=null;He?d[ce]=null:(M=Ae.getRowNumber(),J=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let d=new Int32Array(o.getRowCount());for(let h of this.getCodewords())if(h!=null){let v=h.getRowNumber();if(v>=d.length)continue;d[v]++}return d}adjustIncompleteIndicatorColumnRowNumbers(o){let d=this.getBoundingBox(),h=this._isLeft?d.getTopLeft():d.getTopRight(),v=this._isLeft?d.getBottomLeft():d.getBottomRight(),b=this.imageRowToCodewordIndex(Math.trunc(h.getY())),A=this.imageRowToCodewordIndex(Math.trunc(v.getY())),C=this.getCodewords(),M=-1;for(let B=b;B<A;B++){if(C[B]==null)continue;let J=C[B];J.setRowNumberAsRowIndicatorColumn();let ce=J.getRowNumber()-M;ce===0||(ce===1?M=J.getRowNumber():J.getRowNumber()>=o.getRowCount()?C[B]=null:M=J.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),d=new co,h=new co,v=new co,b=new co;for(let C of o){if(C==null)continue;C.setRowNumberAsRowIndicatorColumn();let M=C.getValue()%30,B=C.getRowNumber();switch(this._isLeft||(B+=2),B%3){case 0:h.setValue(M*3+1);break;case 1:b.setValue(M/3),v.setValue(M%3);break;case 2:d.setValue(M+1);break}}if(d.getValue().length===0||h.getValue().length===0||v.getValue().length===0||b.getValue().length===0||d.getValue()[0]<1||h.getValue()[0]+v.getValue()[0]<fr.MIN_ROWS_IN_BARCODE||h.getValue()[0]+v.getValue()[0]>fr.MAX_ROWS_IN_BARCODE)return null;let A=new rl(d.getValue()[0],h.getValue()[0],v.getValue()[0],b.getValue()[0]);return this.removeIncorrectCodewords(o,A),A}removeIncorrectCodewords(o,d){for(let h=0;h<o.length;h++){let v=o[h];if(o[h]==null)continue;let b=v.getValue()%30,A=v.getRowNumber();if(A>d.getRowCount()){o[h]=null;continue}switch(this._isLeft||(A+=2),A%3){case 0:b*3+1!==d.getRowCountUpperPart()&&(o[h]=null);break;case 1:(Math.trunc(b/3)!==d.getErrorCorrectionLevel()||b%3!==d.getRowCountLowerPart())&&(o[h]=null);break;case 2:b+1!==d.getColumnCount()&&(o[h]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class wa{constructor(o,d){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=d,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=fr.MAX_CODEWORDS_IN_BARCODE,d;do d=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<d);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o!=null&&o.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let d=1;d<this.barcodeColumnCount+1;d++){let h=this.detectionResultColumns[d].getCodewords();for(let v=0;v<h.length;v++)h[v]!=null&&(h[v].hasValidRowNumber()||this.adjustRowNumbers(d,v,h))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<o.length;h++)if(o[h]!=null&&d[h]!=null&&o[h].getRowNumber()===d[h].getRowNumber())for(let v=1;v<=this.barcodeColumnCount;v++){let b=this.detectionResultColumns[v].getCodewords()[h];b!=null&&(b.setRowNumber(o[h].getRowNumber()),b.hasValidRowNumber()||(this.detectionResultColumns[v].getCodewords()[h]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<d.length;h++){if(d[h]==null)continue;let v=d[h].getRowNumber(),b=0;for(let A=this.barcodeColumnCount+1;A>0&&b<this.ADJUST_ROW_NUMBER_SKIP;A--){let C=this.detectionResultColumns[A].getCodewords()[h];C!=null&&(b=wa.adjustRowNumberIfValid(v,b,C),C.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,d=this.detectionResultColumns[0].getCodewords();for(let h=0;h<d.length;h++){if(d[h]==null)continue;let v=d[h].getRowNumber(),b=0;for(let A=1;A<this.barcodeColumnCount+1&&b<this.ADJUST_ROW_NUMBER_SKIP;A++){let C=this.detectionResultColumns[A].getCodewords()[h];C!=null&&(b=wa.adjustRowNumberIfValid(v,b,C),C.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,d,h){return h==null||h.hasValidRowNumber()||(h.isValidRowNumber(o)?(h.setRowNumber(o),d=0):++d),d}adjustRowNumbers(o,d,h){if(!this.detectionResultColumns[o-1])return;let v=h[d],b=this.detectionResultColumns[o-1].getCodewords(),A=b;this.detectionResultColumns[o+1]!=null&&(A=this.detectionResultColumns[o+1].getCodewords());let C=new Array(14);C[2]=b[d],C[3]=A[d],d>0&&(C[0]=h[d-1],C[4]=b[d-1],C[5]=A[d-1]),d>1&&(C[8]=h[d-2],C[10]=b[d-2],C[11]=A[d-2]),d<h.length-1&&(C[1]=h[d+1],C[6]=b[d+1],C[7]=A[d+1]),d<h.length-2&&(C[9]=h[d+2],C[12]=b[d+2],C[13]=A[d+2]);for(let M of C)if(wa.adjustRowNumber(v,M))return}static adjustRowNumber(o,d){return d==null?!1:d.hasValidRowNumber()&&d.getBucket()===o.getBucket()?(o.setRowNumber(d.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,d){this.detectionResultColumns[o]=d}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let d=new js;for(let h=0;h<o.getCodewords().length;h++){d.format("CW %3d:",h);for(let v=0;v<this.barcodeColumnCount+2;v++){if(this.detectionResultColumns[v]==null){d.format("    |   ");continue}let b=this.detectionResultColumns[v].getCodewords()[h];if(b==null){d.format("    |   ");continue}d.format(" %3d|%3d",b.getRowNumber(),b.getValue())}d.format("%n")}return d.toString()}}class Ai{constructor(o,d,h,v){this.rowNumber=Ai.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(d),this.bucket=Math.trunc(h),this.value=Math.trunc(v)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==Ai.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}Ai.BARCODE_ROW_UNKNOWN=-1;class La{static initialize(){for(let o=0;o<fr.SYMBOL_TABLE.length;o++){let d=fr.SYMBOL_TABLE[o],h=d&1;for(let v=0;v<fr.BARS_IN_MODULE;v++){let b=0;for(;(d&1)===h;)b+=1,d>>=1;h=d&1,La.RATIOS_TABLE[o]||(La.RATIOS_TABLE[o]=new Array(fr.BARS_IN_MODULE)),La.RATIOS_TABLE[o][fr.BARS_IN_MODULE-v-1]=Math.fround(b/fr.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let d=La.getDecodedCodewordValue(La.sampleBitCounts(o));return d!==-1?d:La.getClosestDecodedValue(o)}static sampleBitCounts(o){let d=Be.sum(o),h=new Int32Array(fr.BARS_IN_MODULE),v=0,b=0;for(let A=0;A<fr.MODULES_IN_CODEWORD;A++){let C=d/(2*fr.MODULES_IN_CODEWORD)+A*d/fr.MODULES_IN_CODEWORD;b+o[v]<=C&&(b+=o[v],v++),h[v]++}return h}static getDecodedCodewordValue(o){let d=La.getBitValue(o);return fr.getCodeword(d)===-1?-1:d}static getBitValue(o){let d=0;for(let h=0;h<o.length;h++)for(let v=0;v<o[h];v++)d=d<<1|(h%2===0?1:0);return Math.trunc(d)}static getClosestDecodedValue(o){let d=Be.sum(o),h=new Array(fr.BARS_IN_MODULE);if(d>1)for(let A=0;A<h.length;A++)h[A]=Math.fround(o[A]/d);let v=Ze.MAX_VALUE,b=-1;this.bSymbolTableReady||La.initialize();for(let A=0;A<La.RATIOS_TABLE.length;A++){let C=0,M=La.RATIOS_TABLE[A];for(let B=0;B<fr.BARS_IN_MODULE;B++){let J=Math.fround(M[B]-h[B]);if(C+=Math.fround(J*J),C>=v)break}C<v&&(v=C,b=fr.SYMBOL_TABLE[A])}return b}}La.bSymbolTableReady=!1,La.RATIOS_TABLE=new Array(fr.SYMBOL_TABLE.length).map(fe=>new Array(fr.BARS_IN_MODULE));class Fo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class Bc{static parseLong(o,d=void 0){return parseInt(o,d)}}class Sl extends p{}Sl.kind="NullPointerException";class Os{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,d,h){if(o==null)throw new Sl;if(d<0||d>o.length||h<0||d+h>o.length||d+h<0)throw new T;if(h===0)return;for(let v=0;v<h;v++)this.write(o[d+v])}flush(){}close(){}}class xs extends p{}class rc extends Os{constructor(o=32){if(super(),this.count=0,o<0)throw new y("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let h=this.buf.length<<1;if(h-o<0&&(h=o),h<0){if(o<0)throw new xs;h=z.MAX_VALUE}this.buf=R.copyOfUint8Array(this.buf,h)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,d,h){if(d<0||d>o.length||h<0||d+h-o.length>0)throw new T;this.ensureCapacity(this.count+h),_.arraycopy(o,d,this.buf,this.count,h),this.count+=h}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return R.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var nn;(function(fe){fe[fe.ALPHA=0]="ALPHA",fe[fe.LOWER=1]="LOWER",fe[fe.MIXED=2]="MIXED",fe[fe.PUNCT=3]="PUNCT",fe[fe.ALPHA_SHIFT=4]="ALPHA_SHIFT",fe[fe.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(nn||(nn={}));function Ts(){if(typeof window<"u")return window.BigInt||null;if(typeof Pp<"u")return Pp.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let nl;function rs(fe){if(typeof nl>"u"&&(nl=Ts()),nl===null)throw new Error("BigInt is not supported!");return nl(fe)}function Fc(){let fe=[];fe[0]=rs(1);let o=rs(900);fe[1]=o;for(let d=2;d<16;d++)fe[d]=fe[d-1]*o;return fe}class ut{static decode(o,d){let h=new ye(""),v=W.ISO8859_1;h.enableDecoding(v);let b=1,A=o[b++],C=new Fo;for(;b<o[0];){switch(A){case ut.TEXT_COMPACTION_MODE_LATCH:b=ut.textCompaction(o,b,h);break;case ut.BYTE_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:b=ut.byteCompaction(A,o,v,b,h);break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[b++]);break;case ut.NUMERIC_COMPACTION_MODE_LATCH:b=ut.numericCompaction(o,b,h);break;case ut.ECI_CHARSET:W.getCharacterSetECIByValue(o[b++]);break;case ut.ECI_GENERAL_PURPOSE:b+=2;break;case ut.ECI_USER_DEFINED:b++;break;case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:b=ut.decodeMacroBlock(o,b,C);break;case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:throw new V;default:b--,b=ut.textCompaction(o,b,h);break}if(b<o.length)A=o[b++];else throw V.getFormatInstance()}if(h.length()===0)throw V.getFormatInstance();let M=new me(null,h.toString(),null,d);return M.setOther(C),M}static decodeMacroBlock(o,d,h){if(d+ut.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw V.getFormatInstance();let v=new Int32Array(ut.NUMBER_OF_SEQUENCE_CODEWORDS);for(let C=0;C<ut.NUMBER_OF_SEQUENCE_CODEWORDS;C++,d++)v[C]=o[d];h.setSegmentIndex(z.parseInt(ut.decodeBase900toBase10(v,ut.NUMBER_OF_SEQUENCE_CODEWORDS)));let b=new ye;d=ut.textCompaction(o,d,b),h.setFileId(b.toString());let A=-1;for(o[d]===ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(A=d+1);d<o[0];)switch(o[d]){case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(d++,o[d]){case ut.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let C=new ye;d=ut.textCompaction(o,d+1,C),h.setFileName(C.toString());break;case ut.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let M=new ye;d=ut.textCompaction(o,d+1,M),h.setSender(M.toString());break;case ut.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let B=new ye;d=ut.textCompaction(o,d+1,B),h.setAddressee(B.toString());break;case ut.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let J=new ye;d=ut.numericCompaction(o,d+1,J),h.setSegmentCount(z.parseInt(J.toString()));break;case ut.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let ce=new ye;d=ut.numericCompaction(o,d+1,ce),h.setTimestamp(Bc.parseLong(ce.toString()));break;case ut.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Ae=new ye;d=ut.numericCompaction(o,d+1,Ae),h.setChecksum(z.parseInt(Ae.toString()));break;case ut.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Me=new ye;d=ut.numericCompaction(o,d+1,Me),h.setFileSize(Bc.parseLong(Me.toString()));break;default:throw V.getFormatInstance()}break;case ut.MACRO_PDF417_TERMINATOR:d++,h.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(A!==-1){let C=d-A;h.isLastSegment()&&C--,h.setOptionalData(R.copyOfRange(o,A,A+C))}return d}static textCompaction(o,d,h){let v=new Int32Array((o[0]-d)*2),b=new Int32Array((o[0]-d)*2),A=0,C=!1;for(;d<o[0]&&!C;){let M=o[d++];if(M<ut.TEXT_COMPACTION_MODE_LATCH)v[A]=M/30,v[A+1]=M%30,A+=2;else switch(M){case ut.TEXT_COMPACTION_MODE_LATCH:v[A++]=ut.TEXT_COMPACTION_MODE_LATCH;break;case ut.BYTE_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:case ut.NUMERIC_COMPACTION_MODE_LATCH:case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:d--,C=!0;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v[A]=ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,M=o[d++],b[A]=M,A++;break}}return ut.decodeTextCompaction(v,b,A,h),d}static decodeTextCompaction(o,d,h,v){let b=nn.ALPHA,A=nn.ALPHA,C=0;for(;C<h;){let M=o[C],B="";switch(b){case nn.ALPHA:if(M<26)B=String.fromCharCode(65+M);else switch(M){case 26:B=" ";break;case ut.LL:b=nn.LOWER;break;case ut.ML:b=nn.MIXED;break;case ut.PS:A=b,b=nn.PUNCT_SHIFT;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(d[C]);break;case ut.TEXT_COMPACTION_MODE_LATCH:b=nn.ALPHA;break}break;case nn.LOWER:if(M<26)B=String.fromCharCode(97+M);else switch(M){case 26:B=" ";break;case ut.AS:A=b,b=nn.ALPHA_SHIFT;break;case ut.ML:b=nn.MIXED;break;case ut.PS:A=b,b=nn.PUNCT_SHIFT;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(d[C]);break;case ut.TEXT_COMPACTION_MODE_LATCH:b=nn.ALPHA;break}break;case nn.MIXED:if(M<ut.PL)B=ut.MIXED_CHARS[M];else switch(M){case ut.PL:b=nn.PUNCT;break;case 26:B=" ";break;case ut.LL:b=nn.LOWER;break;case ut.AL:b=nn.ALPHA;break;case ut.PS:A=b,b=nn.PUNCT_SHIFT;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(d[C]);break;case ut.TEXT_COMPACTION_MODE_LATCH:b=nn.ALPHA;break}break;case nn.PUNCT:if(M<ut.PAL)B=ut.PUNCT_CHARS[M];else switch(M){case ut.PAL:b=nn.ALPHA;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(d[C]);break;case ut.TEXT_COMPACTION_MODE_LATCH:b=nn.ALPHA;break}break;case nn.ALPHA_SHIFT:if(b=A,M<26)B=String.fromCharCode(65+M);else switch(M){case 26:B=" ";break;case ut.TEXT_COMPACTION_MODE_LATCH:b=nn.ALPHA;break}break;case nn.PUNCT_SHIFT:if(b=A,M<ut.PAL)B=ut.PUNCT_CHARS[M];else switch(M){case ut.PAL:b=nn.ALPHA;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(d[C]);break;case ut.TEXT_COMPACTION_MODE_LATCH:b=nn.ALPHA;break}break}B!==""&&v.append(B),C++}}static byteCompaction(o,d,h,v,b){let A=new rc,C=0,M=0,B=!1;switch(o){case ut.BYTE_COMPACTION_MODE_LATCH:let J=new Int32Array(6),ce=d[v++];for(;v<d[0]&&!B;)switch(J[C++]=ce,M=900*M+ce,ce=d[v++],ce){case ut.TEXT_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH:case ut.NUMERIC_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:v--,B=!0;break;default:if(C%5===0&&C>0){for(let Ae=0;Ae<6;++Ae)A.write(Number(rs(M)>>rs(8*(5-Ae))));M=0,C=0}break}v===d[0]&&ce<ut.TEXT_COMPACTION_MODE_LATCH&&(J[C++]=ce);for(let Ae=0;Ae<C;Ae++)A.write(J[Ae]);break;case ut.BYTE_COMPACTION_MODE_LATCH_6:for(;v<d[0]&&!B;){let Ae=d[v++];if(Ae<ut.TEXT_COMPACTION_MODE_LATCH)C++,M=900*M+Ae;else switch(Ae){case ut.TEXT_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH:case ut.NUMERIC_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:v--,B=!0;break}if(C%5===0&&C>0){for(let Me=0;Me<6;++Me)A.write(Number(rs(M)>>rs(8*(5-Me))));M=0,C=0}}break}return b.append(Z.decode(A.toByteArray(),h)),v}static numericCompaction(o,d,h){let v=0,b=!1,A=new Int32Array(ut.MAX_NUMERIC_CODEWORDS);for(;d<o[0]&&!b;){let C=o[d++];if(d===o[0]&&(b=!0),C<ut.TEXT_COMPACTION_MODE_LATCH)A[v]=C,v++;else switch(C){case ut.TEXT_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:d--,b=!0;break}(v%ut.MAX_NUMERIC_CODEWORDS===0||C===ut.NUMERIC_COMPACTION_MODE_LATCH||b)&&v>0&&(h.append(ut.decodeBase900toBase10(A,v)),v=0)}return d}static decodeBase900toBase10(o,d){let h=rs(0);for(let b=0;b<d;b++)h+=ut.EXP900[d-b-1]*rs(o[b]);let v=h.toString();if(v.charAt(0)!=="1")throw new V;return v.substring(1)}}ut.TEXT_COMPACTION_MODE_LATCH=900,ut.BYTE_COMPACTION_MODE_LATCH=901,ut.NUMERIC_COMPACTION_MODE_LATCH=902,ut.BYTE_COMPACTION_MODE_LATCH_6=924,ut.ECI_USER_DEFINED=925,ut.ECI_GENERAL_PURPOSE=926,ut.ECI_CHARSET=927,ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ut.MACRO_PDF417_TERMINATOR=922,ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ut.MAX_NUMERIC_CODEWORDS=15,ut.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ut.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ut.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ut.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ut.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ut.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ut.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ut.PL=25,ut.LL=27,ut.AS=27,ut.ML=28,ut.AL=28,ut.PS=29,ut.PAL=29,ut.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ut.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ut.EXP900=Ts()?Fc():[],ut.NUMBER_OF_SEQUENCE_CODEWORDS=2;class zr{constructor(){}static decode(o,d,h,v,b,A,C){let M=new Xs(o,d,h,v,b),B=null,J=null,ce;for(let ze=!0;;ze=!1){if(d!=null&&(B=zr.getRowIndicatorColumn(o,M,d,!0,A,C)),v!=null&&(J=zr.getRowIndicatorColumn(o,M,v,!1,A,C)),ce=zr.merge(B,J),ce==null)throw q.getNotFoundInstance();let He=ce.getBoundingBox();if(ze&&He!=null&&(He.getMinY()<M.getMinY()||He.getMaxY()>M.getMaxY()))M=He;else break}ce.setBoundingBox(M);let Ae=ce.getBarcodeColumnCount()+1;ce.setDetectionResultColumn(0,B),ce.setDetectionResultColumn(Ae,J);let Me=B!=null;for(let ze=1;ze<=Ae;ze++){let He=Me?ze:Ae-ze;if(ce.getDetectionResultColumn(He)!==void 0)continue;let Xe;He===0||He===Ae?Xe=new Bo(M,He===0):Xe=new Bi(M),ce.setDetectionResultColumn(He,Xe);let dt=-1,Pt=dt;for(let Rt=M.getMinY();Rt<=M.getMaxY();Rt++){if(dt=zr.getStartColumn(ce,He,Rt,Me),dt<0||dt>M.getMaxX()){if(Pt===-1)continue;dt=Pt}let Lt=zr.detectCodeword(o,M.getMinX(),M.getMaxX(),Me,dt,Rt,A,C);Lt!=null&&(Xe.setCodeword(Rt,Lt),Pt=dt,A=Math.min(A,Lt.getWidth()),C=Math.max(C,Lt.getWidth()))}}return zr.createDecoderResult(ce)}static merge(o,d){if(o==null&&d==null)return null;let h=zr.getBarcodeMetadata(o,d);if(h==null)return null;let v=Xs.merge(zr.adjustBoundingBox(o),zr.adjustBoundingBox(d));return new wa(h,v)}static adjustBoundingBox(o){if(o==null)return null;let d=o.getRowHeights();if(d==null)return null;let h=zr.getMax(d),v=0;for(let C of d)if(v+=h-C,C>0)break;let b=o.getCodewords();for(let C=0;v>0&&b[C]==null;C++)v--;let A=0;for(let C=d.length-1;C>=0&&(A+=h-d[C],!(d[C]>0));C--);for(let C=b.length-1;A>0&&b[C]==null;C--)A--;return o.getBoundingBox().addMissingRows(v,A,o.isLeft())}static getMax(o){let d=-1;for(let h of o)d=Math.max(d,h);return d}static getBarcodeMetadata(o,d){let h;if(o==null||(h=o.getBarcodeMetadata())==null)return d==null?null:d.getBarcodeMetadata();let v;return d==null||(v=d.getBarcodeMetadata())==null?h:h.getColumnCount()!==v.getColumnCount()&&h.getErrorCorrectionLevel()!==v.getErrorCorrectionLevel()&&h.getRowCount()!==v.getRowCount()?null:h}static getRowIndicatorColumn(o,d,h,v,b,A){let C=new Bo(d,v);for(let M=0;M<2;M++){let B=M===0?1:-1,J=Math.trunc(Math.trunc(h.getX()));for(let ce=Math.trunc(Math.trunc(h.getY()));ce<=d.getMaxY()&&ce>=d.getMinY();ce+=B){let Ae=zr.detectCodeword(o,0,o.getWidth(),v,J,ce,b,A);Ae!=null&&(C.setCodeword(ce,Ae),v?J=Ae.getStartX():J=Ae.getEndX())}}return C}static adjustCodewordCount(o,d){let h=d[0][1],v=h.getValue(),b=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-zr.getNumberOfECCodeWords(o.getBarcodeECLevel());if(v.length===0){if(b<1||b>fr.MAX_CODEWORDS_IN_BARCODE)throw q.getNotFoundInstance();h.setValue(b)}else v[0]!==b&&h.setValue(b)}static createDecoderResult(o){let d=zr.createBarcodeMatrix(o);zr.adjustCodewordCount(o,d);let h=new Array,v=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),b=[],A=new Array;for(let M=0;M<o.getBarcodeRowCount();M++)for(let B=0;B<o.getBarcodeColumnCount();B++){let J=d[M][B+1].getValue(),ce=M*o.getBarcodeColumnCount()+B;J.length===0?h.push(ce):J.length===1?v[ce]=J[0]:(A.push(ce),b.push(J))}let C=new Array(b.length);for(let M=0;M<C.length;M++)C[M]=b[M];return zr.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),v,fr.toIntArray(h),fr.toIntArray(A),C)}static createDecoderResultFromAmbiguousValues(o,d,h,v,b){let A=new Int32Array(v.length),C=100;for(;C-- >0;){for(let M=0;M<A.length;M++)d[v[M]]=b[M][A[M]];try{return zr.decodeCodewords(d,o,h)}catch(M){if(!(M instanceof N))throw M}if(A.length===0)throw N.getChecksumInstance();for(let M=0;M<A.length;M++)if(A[M]<b[M].length-1){A[M]++;break}else if(A[M]=0,M===A.length-1)throw N.getChecksumInstance()}throw N.getChecksumInstance()}static createBarcodeMatrix(o){let d=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let v=0;v<d.length;v++)for(let b=0;b<d[v].length;b++)d[v][b]=new co;let h=0;for(let v of o.getDetectionResultColumns()){if(v!=null){for(let b of v.getCodewords())if(b!=null){let A=b.getRowNumber();if(A>=0){if(A>=d.length)continue;d[A][h].setValue(b.getValue())}}}h++}return d}static isValidBarcodeColumn(o,d){return d>=0&&d<=o.getBarcodeColumnCount()+1}static getStartColumn(o,d,h,v){let b=v?1:-1,A=null;if(zr.isValidBarcodeColumn(o,d-b)&&(A=o.getDetectionResultColumn(d-b).getCodeword(h)),A!=null)return v?A.getEndX():A.getStartX();if(A=o.getDetectionResultColumn(d).getCodewordNearby(h),A!=null)return v?A.getStartX():A.getEndX();if(zr.isValidBarcodeColumn(o,d-b)&&(A=o.getDetectionResultColumn(d-b).getCodewordNearby(h)),A!=null)return v?A.getEndX():A.getStartX();let C=0;for(;zr.isValidBarcodeColumn(o,d-b);){d-=b;for(let M of o.getDetectionResultColumn(d).getCodewords())if(M!=null)return(v?M.getEndX():M.getStartX())+b*C*(M.getEndX()-M.getStartX());C++}return v?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,d,h,v,b,A,C,M){b=zr.adjustCodewordStartColumn(o,d,h,v,b,A);let B=zr.getModuleBitCount(o,d,h,v,b,A);if(B==null)return null;let J,ce=Be.sum(B);if(v)J=b+ce;else{for(let ze=0;ze<B.length/2;ze++){let He=B[ze];B[ze]=B[B.length-1-ze],B[B.length-1-ze]=He}J=b,b=J-ce}if(!zr.checkCodewordSkew(ce,C,M))return null;let Ae=La.getDecodedValue(B),Me=fr.getCodeword(Ae);return Me===-1?null:new Ai(b,J,zr.getCodewordBucketNumber(Ae),Me)}static getModuleBitCount(o,d,h,v,b,A){let C=b,M=new Int32Array(8),B=0,J=v?1:-1,ce=v;for(;(v?C<h:C>=d)&&B<M.length;)o.get(C,A)===ce?(M[B]++,C+=J):(B++,ce=!ce);return B===M.length||C===(v?h:d)&&B===M.length-1?M:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,d,h,v,b,A){let C=b,M=v?-1:1;for(let B=0;B<2;B++){for(;(v?C>=d:C<h)&&v===o.get(C,A);){if(Math.abs(b-C)>zr.CODEWORD_SKEW_SIZE)return b;C+=M}M=-M,v=!v}return C}static checkCodewordSkew(o,d,h){return d-zr.CODEWORD_SKEW_SIZE<=o&&o<=h+zr.CODEWORD_SKEW_SIZE}static decodeCodewords(o,d,h){if(o.length===0)throw V.getFormatInstance();let v=1<<d+1,b=zr.correctErrors(o,h,v);zr.verifyCodewordCount(o,v);let A=ut.decode(o,""+d);return A.setErrorsCorrected(b),A.setErasures(h.length),A}static correctErrors(o,d,h){if(d!=null&&d.length>h/2+zr.MAX_ERRORS||h<0||h>zr.MAX_EC_CODEWORDS)throw N.getChecksumInstance();return zr.errorCorrection.decode(o,h,d)}static verifyCodewordCount(o,d){if(o.length<4)throw V.getFormatInstance();let h=o[0];if(h>o.length)throw V.getFormatInstance();if(h===0)if(d<o.length)o[0]=o.length-d;else throw V.getFormatInstance()}static getBitCountForCodeword(o){let d=new Int32Array(8),h=0,v=d.length-1;for(;!((o&1)!==h&&(h=o&1,v--,v<0));)d[v]++,o>>=1;return d}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return zr.getCodewordBucketNumber(zr.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let d=new js;for(let h=0;h<o.length;h++){d.format("Row %2d: ",h);for(let v=0;v<o[h].length;v++){let b=o[h][v];b.getValue().length===0?d.format("        ",null):d.format("%4d(%2d)",b.getValue()[0],b.getConfidence(b.getValue()[0]))}d.format("%n")}return d.toString()}}zr.CODEWORD_SKEW_SIZE=2,zr.MAX_ERRORS=3,zr.MAX_EC_CODEWORDS=512,zr.errorCorrection=new $s;class Ca{decode(o,d=null){let h=Ca.decode(o,d,!1);if(h==null||h.length===0||h[0]==null)throw q.getNotFoundInstance();return h[0]}decodeMultiple(o,d=null){try{return Ca.decode(o,d,!0)}catch(h){throw h instanceof V||h instanceof N?q.getNotFoundInstance():h}}static decode(o,d,h){const v=new Array,b=Tr.detectMultiple(o,d,h);for(const A of b.getPoints()){const C=zr.decode(b.getBits(),A[4],A[5],A[6],A[7],Ca.getMinCodewordWidth(A),Ca.getMaxCodewordWidth(A)),M=new ae(C.getText(),C.getRawBytes(),void 0,A,ve.PDF_417);M.putMetadata(ke.ERROR_CORRECTION_LEVEL,C.getECLevel());const B=C.getOther();B!=null&&M.putMetadata(ke.PDF417_EXTRA_METADATA,B),v.push(M)}return v.map(A=>A)}static getMaxWidth(o,d){return o==null||d==null?0:Math.trunc(Math.abs(o.getX()-d.getX()))}static getMinWidth(o,d){return o==null||d==null?z.MAX_VALUE:Math.trunc(Math.abs(o.getX()-d.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(Ca.getMaxWidth(o[0],o[4]),Ca.getMaxWidth(o[6],o[2])*fr.MODULES_IN_CODEWORD/fr.MODULES_IN_STOP_PATTERN),Math.max(Ca.getMaxWidth(o[1],o[5]),Ca.getMaxWidth(o[7],o[3])*fr.MODULES_IN_CODEWORD/fr.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(Ca.getMinWidth(o[0],o[4]),Ca.getMinWidth(o[6],o[2])*fr.MODULES_IN_CODEWORD/fr.MODULES_IN_STOP_PATTERN),Math.min(Ca.getMinWidth(o[1],o[5]),Ca.getMinWidth(o[7],o[3])*fr.MODULES_IN_CODEWORD/fr.MODULES_IN_STOP_PATTERN)))}reset(){}}class al extends p{}al.kind="ReaderException";class zc{constructor(o,d){this.verbose=o===!0,d&&this.setHints(d)}decode(o,d){return d&&this.setHints(d),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const d=!n(o)&&o.get(X.TRY_HARDER)===!0,h=n(o)?null:o.get(X.POSSIBLE_FORMATS),v=new Array;if(!n(h)){const b=h.some(A=>A===ve.UPC_A||A===ve.UPC_E||A===ve.EAN_13||A===ve.EAN_8||A===ve.CODABAR||A===ve.CODE_39||A===ve.CODE_93||A===ve.CODE_128||A===ve.ITF||A===ve.RSS_14||A===ve.RSS_EXPANDED);b&&!d&&v.push(new On(o,this.verbose)),h.includes(ve.QR_CODE)&&v.push(new Ys),h.includes(ve.DATA_MATRIX)&&v.push(new on),h.includes(ve.AZTEC)&&v.push(new zt),h.includes(ve.PDF_417)&&v.push(new Ca),b&&d&&v.push(new On(o,this.verbose))}v.length===0&&(d||v.push(new On(o,this.verbose)),v.push(new Ys),v.push(new on),v.push(new zt),v.push(new Ca),d&&v.push(new On(o,this.verbose))),this.readers=v}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new al("No readers where selected, nothing can be read.");for(const d of this.readers)try{return d.decode(o,this.hints)}catch(h){if(h instanceof al)continue}throw new q("No MultiFormat Readers were able to detect the code.")}}class El extends H{constructor(o=null,d=500){const h=new zc;h.setHints(o),super(h,d)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class Uc extends H{constructor(o=500){super(new Ca,o)}}class qc extends H{constructor(o=500){super(new Ys,o)}}var nc;(function(fe){fe[fe.ERROR_CORRECTION=0]="ERROR_CORRECTION",fe[fe.CHARACTER_SET=1]="CHARACTER_SET",fe[fe.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",fe[fe.MIN_SIZE=3]="MIN_SIZE",fe[fe.MAX_SIZE=4]="MAX_SIZE",fe[fe.MARGIN=5]="MARGIN",fe[fe.PDF417_COMPACT=6]="PDF417_COMPACT",fe[fe.PDF417_COMPACTION=7]="PDF417_COMPACTION",fe[fe.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",fe[fe.AZTEC_LAYERS=9]="AZTEC_LAYERS",fe[fe.QR_VERSION=10]="QR_VERSION"})(nc||(nc={}));var _a=nc;class uo{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new Oe(o,Int32Array.from([1])))}buildGenerator(o){const d=this.cachedGenerators;if(o>=d.length){let h=d[d.length-1];const v=this.field;for(let b=d.length;b<=o;b++){const A=h.multiply(new Oe(v,Int32Array.from([1,v.exp(b-1+v.getGeneratorBase())])));d.push(A),h=A}}return d[o]}encode(o,d){if(d===0)throw new y("No error correction bytes");const h=o.length-d;if(h<=0)throw new y("No data bytes provided");const v=this.buildGenerator(d),b=new Int32Array(h);_.arraycopy(o,0,b,0,h);let A=new Oe(this.field,b);A=A.multiplyByMonomial(d,1);const M=A.divide(v)[1].getCoefficients(),B=d-M.length;for(let J=0;J<B;J++)o[h+J]=0;_.arraycopy(M,0,o,h+B,M.length)}}class Tn{constructor(){}static applyMaskPenaltyRule1(o){return Tn.applyMaskPenaltyRule1Internal(o,!0)+Tn.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let d=0;const h=o.getArray(),v=o.getWidth(),b=o.getHeight();for(let A=0;A<b-1;A++){const C=h[A];for(let M=0;M<v-1;M++){const B=C[M];B===C[M+1]&&B===h[A+1][M]&&B===h[A+1][M+1]&&d++}}return Tn.N2*d}static applyMaskPenaltyRule3(o){let d=0;const h=o.getArray(),v=o.getWidth(),b=o.getHeight();for(let A=0;A<b;A++)for(let C=0;C<v;C++){const M=h[A];C+6<v&&M[C]===1&&M[C+1]===0&&M[C+2]===1&&M[C+3]===1&&M[C+4]===1&&M[C+5]===0&&M[C+6]===1&&(Tn.isWhiteHorizontal(M,C-4,C)||Tn.isWhiteHorizontal(M,C+7,C+11))&&d++,A+6<b&&h[A][C]===1&&h[A+1][C]===0&&h[A+2][C]===1&&h[A+3][C]===1&&h[A+4][C]===1&&h[A+5][C]===0&&h[A+6][C]===1&&(Tn.isWhiteVertical(h,C,A-4,A)||Tn.isWhiteVertical(h,C,A+7,A+11))&&d++}return d*Tn.N3}static isWhiteHorizontal(o,d,h){d=Math.max(d,0),h=Math.min(h,o.length);for(let v=d;v<h;v++)if(o[v]===1)return!1;return!0}static isWhiteVertical(o,d,h,v){h=Math.max(h,0),v=Math.min(v,o.length);for(let b=h;b<v;b++)if(o[b][d]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let d=0;const h=o.getArray(),v=o.getWidth(),b=o.getHeight();for(let M=0;M<b;M++){const B=h[M];for(let J=0;J<v;J++)B[J]===1&&d++}const A=o.getHeight()*o.getWidth();return Math.floor(Math.abs(d*2-A)*10/A)*Tn.N4}static getDataMaskBit(o,d,h){let v,b;switch(o){case 0:v=h+d&1;break;case 1:v=h&1;break;case 2:v=d%3;break;case 3:v=(h+d)%3;break;case 4:v=Math.floor(h/2)+Math.floor(d/3)&1;break;case 5:b=h*d,v=(b&1)+b%3;break;case 6:b=h*d,v=(b&1)+b%3&1;break;case 7:b=h*d,v=b%3+(h+d&1)&1;break;default:throw new y("Invalid mask pattern: "+o)}return v===0}static applyMaskPenaltyRule1Internal(o,d){let h=0;const v=d?o.getHeight():o.getWidth(),b=d?o.getWidth():o.getHeight(),A=o.getArray();for(let C=0;C<v;C++){let M=0,B=-1;for(let J=0;J<b;J++){const ce=d?A[C][J]:A[J][C];ce===B?M++:(M>=5&&(h+=Tn.N1+(M-5)),M=1,B=ce)}M>=5&&(h+=Tn.N1+(M-5))}return h}}Tn.N1=3,Tn.N2=3,Tn.N3=40,Tn.N4=10;class il{constructor(o,d){this.width=o,this.height=d;const h=new Array(d);for(let v=0;v!==d;v++)h[v]=new Uint8Array(o);this.bytes=h}getHeight(){return this.height}getWidth(){return this.width}get(o,d){return this.bytes[d][o]}getArray(){return this.bytes}setNumber(o,d,h){this.bytes[d][o]=h}setBoolean(o,d,h){this.bytes[d][o]=h?1:0}clear(o){for(const d of this.bytes)R.fill(d,o)}equals(o){if(!(o instanceof il))return!1;const d=o;if(this.width!==d.width||this.height!==d.height)return!1;for(let h=0,v=this.height;h<v;++h){const b=this.bytes[h],A=d.bytes[h];for(let C=0,M=this.width;C<M;++C)if(b[C]!==A[C])return!1}return!0}toString(){const o=new ye;for(let d=0,h=this.height;d<h;++d){const v=this.bytes[d];for(let b=0,A=this.width;b<A;++b)switch(v[b]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class ns{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new ye;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<ns.NUM_MASK_PATTERNS}}ns.NUM_MASK_PATTERNS=8;class vn extends p{}vn.kind="WriterException";class P{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,d,h,v,b){P.clearMatrix(b),P.embedBasicPatterns(h,b),P.embedTypeInfo(d,v,b),P.maybeEmbedVersionInfo(h,b),P.embedDataBits(o,v,b)}static embedBasicPatterns(o,d){P.embedPositionDetectionPatternsAndSeparators(d),P.embedDarkDotAtLeftBottomCorner(d),P.maybeEmbedPositionAdjustmentPatterns(o,d),P.embedTimingPatterns(d)}static embedTypeInfo(o,d,h){const v=new G;P.makeTypeInfoBits(o,d,v);for(let b=0,A=v.getSize();b<A;++b){const C=v.get(v.getSize()-1-b),M=P.TYPE_INFO_COORDINATES[b],B=M[0],J=M[1];if(h.setBoolean(B,J,C),b<8){const ce=h.getWidth()-b-1;h.setBoolean(ce,8,C)}else{const Ae=h.getHeight()-7+(b-8);h.setBoolean(8,Ae,C)}}}static maybeEmbedVersionInfo(o,d){if(o.getVersionNumber()<7)return;const h=new G;P.makeVersionInfoBits(o,h);let v=6*3-1;for(let b=0;b<6;++b)for(let A=0;A<3;++A){const C=h.get(v);v--,d.setBoolean(b,d.getHeight()-11+A,C),d.setBoolean(d.getHeight()-11+A,b,C)}}static embedDataBits(o,d,h){let v=0,b=-1,A=h.getWidth()-1,C=h.getHeight()-1;for(;A>0;){for(A===6&&(A-=1);C>=0&&C<h.getHeight();){for(let M=0;M<2;++M){const B=A-M;if(!P.isEmpty(h.get(B,C)))continue;let J;v<o.getSize()?(J=o.get(v),++v):J=!1,d!==255&&Tn.getDataMaskBit(d,B,C)&&(J=!J),h.setBoolean(B,C,J)}C+=b}b=-b,C+=b,A-=2}if(v!==o.getSize())throw new vn("Not all bits consumed: "+v+"/"+o.getSize())}static findMSBSet(o){return 32-z.numberOfLeadingZeros(o)}static calculateBCHCode(o,d){if(d===0)throw new y("0 polynomial");const h=P.findMSBSet(d);for(o<<=h-1;P.findMSBSet(o)>=h;)o^=d<<P.findMSBSet(o)-h;return o}static makeTypeInfoBits(o,d,h){if(!ns.isValidMaskPattern(d))throw new vn("Invalid mask pattern");const v=o.getBits()<<3|d;h.appendBits(v,5);const b=P.calculateBCHCode(v,P.TYPE_INFO_POLY);h.appendBits(b,10);const A=new G;if(A.appendBits(P.TYPE_INFO_MASK_PATTERN,15),h.xor(A),h.getSize()!==15)throw new vn("should not happen but we got: "+h.getSize())}static makeVersionInfoBits(o,d){d.appendBits(o.getVersionNumber(),6);const h=P.calculateBCHCode(o.getVersionNumber(),P.VERSION_INFO_POLY);if(d.appendBits(h,12),d.getSize()!==18)throw new vn("should not happen but we got: "+d.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let d=8;d<o.getWidth()-8;++d){const h=(d+1)%2;P.isEmpty(o.get(d,6))&&o.setNumber(d,6,h),P.isEmpty(o.get(6,d))&&o.setNumber(6,d,h)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new vn;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,d,h){for(let v=0;v<8;++v){if(!P.isEmpty(h.get(o+v,d)))throw new vn;h.setNumber(o+v,d,0)}}static embedVerticalSeparationPattern(o,d,h){for(let v=0;v<7;++v){if(!P.isEmpty(h.get(o,d+v)))throw new vn;h.setNumber(o,d+v,0)}}static embedPositionAdjustmentPattern(o,d,h){for(let v=0;v<5;++v){const b=P.POSITION_ADJUSTMENT_PATTERN[v];for(let A=0;A<5;++A)h.setNumber(o+A,d+v,b[A])}}static embedPositionDetectionPattern(o,d,h){for(let v=0;v<7;++v){const b=P.POSITION_DETECTION_PATTERN[v];for(let A=0;A<7;++A)h.setNumber(o+A,d+v,b[A])}}static embedPositionDetectionPatternsAndSeparators(o){const d=P.POSITION_DETECTION_PATTERN[0].length;P.embedPositionDetectionPattern(0,0,o),P.embedPositionDetectionPattern(o.getWidth()-d,0,o),P.embedPositionDetectionPattern(0,o.getWidth()-d,o);const h=8;P.embedHorizontalSeparationPattern(0,h-1,o),P.embedHorizontalSeparationPattern(o.getWidth()-h,h-1,o),P.embedHorizontalSeparationPattern(0,o.getWidth()-h,o);const v=7;P.embedVerticalSeparationPattern(v,0,o),P.embedVerticalSeparationPattern(o.getHeight()-v-1,0,o),P.embedVerticalSeparationPattern(v,o.getHeight()-v,o)}static maybeEmbedPositionAdjustmentPatterns(o,d){if(o.getVersionNumber()<2)return;const h=o.getVersionNumber()-1,v=P.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[h];for(let b=0,A=v.length;b!==A;b++){const C=v[b];if(C>=0)for(let M=0;M!==A;M++){const B=v[M];B>=0&&P.isEmpty(d.get(B,C))&&P.embedPositionAdjustmentPattern(B-2,C-2,d)}}}}P.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),P.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),P.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),P.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),P.VERSION_INFO_POLY=7973,P.TYPE_INFO_POLY=1335,P.TYPE_INFO_MASK_PATTERN=21522;class pe{constructor(o,d){this.dataBytes=o,this.errorCorrectionBytes=d}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ie{constructor(){}static calculateMaskPenalty(o){return Tn.applyMaskPenaltyRule1(o)+Tn.applyMaskPenaltyRule2(o)+Tn.applyMaskPenaltyRule3(o)+Tn.applyMaskPenaltyRule4(o)}static encode(o,d,h=null){let v=Ie.DEFAULT_BYTE_MODE_ENCODING;const b=h!==null&&h.get(_a.CHARACTER_SET)!==void 0;b&&(v=h.get(_a.CHARACTER_SET).toString());const A=this.chooseMode(o,v),C=new G;if(A===pr.BYTE&&(b||Ie.DEFAULT_BYTE_MODE_ENCODING!==v)){const Rt=W.getCharacterSetECIByName(v);Rt!==void 0&&this.appendECI(Rt,C)}this.appendModeInfo(A,C);const M=new G;this.appendBytes(o,A,M,v);let B;if(h!==null&&h.get(_a.QR_VERSION)!==void 0){const Rt=Number.parseInt(h.get(_a.QR_VERSION).toString(),10);B=sr.getVersionForNumber(Rt);const Lt=this.calculateBitsNeeded(A,C,M,B);if(!this.willFit(Lt,B,d))throw new vn("Data too big for requested version")}else B=this.recommendVersion(d,A,C,M);const J=new G;J.appendBitArray(C);const ce=A===pr.BYTE?M.getSizeInBytes():o.length;this.appendLengthInfo(ce,B,A,J),J.appendBitArray(M);const Ae=B.getECBlocksForLevel(d),Me=B.getTotalCodewords()-Ae.getTotalECCodewords();this.terminateBits(Me,J);const ze=this.interleaveWithECBytes(J,B.getTotalCodewords(),Me,Ae.getNumBlocks()),He=new ns;He.setECLevel(d),He.setMode(A),He.setVersion(B);const Xe=B.getDimensionForVersion(),dt=new il(Xe,Xe),Pt=this.chooseMaskPattern(ze,d,B,dt);return He.setMaskPattern(Pt),P.buildMatrix(ze,d,B,Pt,dt),He.setMatrix(dt),He}static recommendVersion(o,d,h,v){const b=this.calculateBitsNeeded(d,h,v,sr.getVersionForNumber(1)),A=this.chooseVersion(b,o),C=this.calculateBitsNeeded(d,h,v,A);return this.chooseVersion(C,o)}static calculateBitsNeeded(o,d,h,v){return d.getSize()+o.getCharacterCountBits(v)+h.getSize()}static getAlphanumericCode(o){return o<Ie.ALPHANUMERIC_TABLE.length?Ie.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,d=null){if(W.SJIS.getName()===d&&this.isOnlyDoubleByteKanji(o))return pr.KANJI;let h=!1,v=!1;for(let b=0,A=o.length;b<A;++b){const C=o.charAt(b);if(Ie.isDigit(C))h=!0;else if(this.getAlphanumericCode(C.charCodeAt(0))!==-1)v=!0;else return pr.BYTE}return v?pr.ALPHANUMERIC:h?pr.NUMERIC:pr.BYTE}static isOnlyDoubleByteKanji(o){let d;try{d=Z.encode(o,W.SJIS)}catch{return!1}const h=d.length;if(h%2!==0)return!1;for(let v=0;v<h;v+=2){const b=d[v]&255;if((b<129||b>159)&&(b<224||b>235))return!1}return!0}static chooseMaskPattern(o,d,h,v){let b=Number.MAX_SAFE_INTEGER,A=-1;for(let C=0;C<ns.NUM_MASK_PATTERNS;C++){P.buildMatrix(o,d,h,C,v);let M=this.calculateMaskPenalty(v);M<b&&(b=M,A=C)}return A}static chooseVersion(o,d){for(let h=1;h<=40;h++){const v=sr.getVersionForNumber(h);if(Ie.willFit(o,v,d))return v}throw new vn("Data too big")}static willFit(o,d,h){const v=d.getTotalCodewords(),A=d.getECBlocksForLevel(h).getTotalECCodewords(),C=v-A,M=(o+7)/8;return C>=M}static terminateBits(o,d){const h=o*8;if(d.getSize()>h)throw new vn("data bits cannot fit in the QR Code"+d.getSize()+" > "+h);for(let A=0;A<4&&d.getSize()<h;++A)d.appendBit(!1);const v=d.getSize()&7;if(v>0)for(let A=v;A<8;A++)d.appendBit(!1);const b=o-d.getSizeInBytes();for(let A=0;A<b;++A)d.appendBits(A&1?17:236,8);if(d.getSize()!==h)throw new vn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,d,h,v,b,A){if(v>=h)throw new vn("Block ID too large");const C=o%h,M=h-C,B=Math.floor(o/h),J=B+1,ce=Math.floor(d/h),Ae=ce+1,Me=B-ce,ze=J-Ae;if(Me!==ze)throw new vn("EC bytes mismatch");if(h!==M+C)throw new vn("RS blocks mismatch");if(o!==(ce+Me)*M+(Ae+ze)*C)throw new vn("Total bytes mismatch");v<M?(b[0]=ce,A[0]=Me):(b[0]=Ae,A[0]=ze)}static interleaveWithECBytes(o,d,h,v){if(o.getSizeInBytes()!==h)throw new vn("Number of bits and data bytes does not match");let b=0,A=0,C=0;const M=new Array;for(let J=0;J<v;++J){const ce=new Int32Array(1),Ae=new Int32Array(1);Ie.getNumDataBytesAndNumECBytesForBlockID(d,h,v,J,ce,Ae);const Me=ce[0],ze=new Uint8Array(Me);o.toBytes(8*b,ze,0,Me);const He=Ie.generateECBytes(ze,Ae[0]);M.push(new pe(ze,He)),A=Math.max(A,Me),C=Math.max(C,He.length),b+=ce[0]}if(h!==b)throw new vn("Data bytes does not match offset");const B=new G;for(let J=0;J<A;++J)for(const ce of M){const Ae=ce.getDataBytes();J<Ae.length&&B.appendBits(Ae[J],8)}for(let J=0;J<C;++J)for(const ce of M){const Ae=ce.getErrorCorrectionBytes();J<Ae.length&&B.appendBits(Ae[J],8)}if(d!==B.getSizeInBytes())throw new vn("Interleaving error: "+d+" and "+B.getSizeInBytes()+" differ.");return B}static generateECBytes(o,d){const h=o.length,v=new Int32Array(h+d);for(let A=0;A<h;A++)v[A]=o[A]&255;new uo(Le.QR_CODE_FIELD_256).encode(v,d);const b=new Uint8Array(d);for(let A=0;A<d;A++)b[A]=v[h+A];return b}static appendModeInfo(o,d){d.appendBits(o.getBits(),4)}static appendLengthInfo(o,d,h,v){const b=h.getCharacterCountBits(d);if(o>=1<<b)throw new vn(o+" is bigger than "+((1<<b)-1));v.appendBits(o,b)}static appendBytes(o,d,h,v){switch(d){case pr.NUMERIC:Ie.appendNumericBytes(o,h);break;case pr.ALPHANUMERIC:Ie.appendAlphanumericBytes(o,h);break;case pr.BYTE:Ie.append8BitBytes(o,h,v);break;case pr.KANJI:Ie.appendKanjiBytes(o,h);break;default:throw new vn("Invalid mode: "+d)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const d=Ie.getDigit(o);return d>=0&&d<=9}static appendNumericBytes(o,d){const h=o.length;let v=0;for(;v<h;){const b=Ie.getDigit(o.charAt(v));if(v+2<h){const A=Ie.getDigit(o.charAt(v+1)),C=Ie.getDigit(o.charAt(v+2));d.appendBits(b*100+A*10+C,10),v+=3}else if(v+1<h){const A=Ie.getDigit(o.charAt(v+1));d.appendBits(b*10+A,7),v+=2}else d.appendBits(b,4),v++}}static appendAlphanumericBytes(o,d){const h=o.length;let v=0;for(;v<h;){const b=Ie.getAlphanumericCode(o.charCodeAt(v));if(b===-1)throw new vn;if(v+1<h){const A=Ie.getAlphanumericCode(o.charCodeAt(v+1));if(A===-1)throw new vn;d.appendBits(b*45+A,11),v+=2}else d.appendBits(b,6),v++}}static append8BitBytes(o,d,h){let v;try{v=Z.encode(o,h)}catch(b){throw new vn(b)}for(let b=0,A=v.length;b!==A;b++){const C=v[b];d.appendBits(C,8)}}static appendKanjiBytes(o,d){let h;try{h=Z.encode(o,W.SJIS)}catch(b){throw new vn(b)}const v=h.length;for(let b=0;b<v;b+=2){const A=h[b]&255,C=h[b+1]&255,M=A<<8&4294967295|C;let B=-1;if(M>=33088&&M<=40956?B=M-33088:M>=57408&&M<=60351&&(B=M-49472),B===-1)throw new vn("Invalid byte sequence");const J=(B>>8)*192+(B&255);d.appendBits(J,13)}}static appendECI(o,d){d.appendBits(pr.ECI.getBits(),4),d.appendBits(o.getValue(),8)}}Ie.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ie.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class qe{write(o,d,h,v=null){if(o.length===0)throw new y("Found empty contents");if(d<0||h<0)throw new y("Requested dimensions are too small: "+d+"x"+h);let b=Or.L,A=qe.QUIET_ZONE_SIZE;v!==null&&(v.get(_a.ERROR_CORRECTION)!==void 0&&(b=Or.fromString(v.get(_a.ERROR_CORRECTION).toString())),v.get(_a.MARGIN)!==void 0&&(A=Number.parseInt(v.get(_a.MARGIN).toString(),10)));const C=Ie.encode(o,b,v);return this.renderResult(C,d,h,A)}writeToDom(o,d,h,v,b=null){typeof o=="string"&&(o=document.querySelector(o));const A=this.write(d,h,v,b);o&&o.appendChild(A)}renderResult(o,d,h,v){const b=o.getMatrix();if(b===null)throw new Pe;const A=b.getWidth(),C=b.getHeight(),M=A+v*2,B=C+v*2,J=Math.max(d,M),ce=Math.max(h,B),Ae=Math.min(Math.floor(J/M),Math.floor(ce/B)),Me=Math.floor((J-A*Ae)/2),ze=Math.floor((ce-C*Ae)/2),He=this.createSVGElement(J,ce);for(let Xe=0,dt=ze;Xe<C;Xe++,dt+=Ae)for(let Pt=0,Rt=Me;Pt<A;Pt++,Rt+=Ae)if(b.get(Pt,Xe)===1){const Lt=this.createSvgRectElement(Rt,dt,Ae,Ae);He.appendChild(Lt)}return He}createSVGElement(o,d){const h=document.createElementNS(qe.SVG_NS,"svg");return h.setAttributeNS(null,"height",o.toString()),h.setAttributeNS(null,"width",d.toString()),h}createSvgRectElement(o,d,h,v){const b=document.createElementNS(qe.SVG_NS,"rect");return b.setAttributeNS(null,"x",o.toString()),b.setAttributeNS(null,"y",d.toString()),b.setAttributeNS(null,"height",h.toString()),b.setAttributeNS(null,"width",v.toString()),b.setAttributeNS(null,"fill","#000000"),b}}qe.QUIET_ZONE_SIZE=4,qe.SVG_NS="http://www.w3.org/2000/svg";class Qe{encode(o,d,h,v,b){if(o.length===0)throw new y("Found empty contents");if(d!==ve.QR_CODE)throw new y("Can only encode QR_CODE, but got "+d);if(h<0||v<0)throw new y(`Requested dimensions are too small: ${h}x${v}`);let A=Or.L,C=Qe.QUIET_ZONE_SIZE;b!==null&&(b.get(_a.ERROR_CORRECTION)!==void 0&&(A=Or.fromString(b.get(_a.ERROR_CORRECTION).toString())),b.get(_a.MARGIN)!==void 0&&(C=Number.parseInt(b.get(_a.MARGIN).toString(),10)));const M=Ie.encode(o,A,b);return Qe.renderResult(M,h,v,C)}static renderResult(o,d,h,v){const b=o.getMatrix();if(b===null)throw new Pe;const A=b.getWidth(),C=b.getHeight(),M=A+v*2,B=C+v*2,J=Math.max(d,M),ce=Math.max(h,B),Ae=Math.min(Math.floor(J/M),Math.floor(ce/B)),Me=Math.floor((J-A*Ae)/2),ze=Math.floor((ce-C*Ae)/2),He=new ie(J,ce);for(let Xe=0,dt=ze;Xe<C;Xe++,dt+=Ae)for(let Pt=0,Rt=Me;Pt<A;Pt++,Rt+=Ae)b.get(Pt,Xe)===1&&He.setRegion(Rt,dt,Ae,Ae);return He}}Qe.QUIET_ZONE_SIZE=4;class yt{encode(o,d,h,v,b){let A;switch(d){case ve.QR_CODE:A=new Qe;break;default:throw new y("No encoder available for format "+d)}return A.encode(o,d,h,v,b)}}class Mt extends ue{constructor(o,d,h,v,b,A,C,M){if(super(A,C),this.yuvData=o,this.dataWidth=d,this.dataHeight=h,this.left=v,this.top=b,v+A>d||b+C>h)throw new y("Crop rectangle does not fit within image data.");M&&this.reverseHorizontal(A,C)}getRow(o,d){if(o<0||o>=this.getHeight())throw new y("Requested row is outside the image: "+o);const h=this.getWidth();(d==null||d.length<h)&&(d=new Uint8ClampedArray(h));const v=(o+this.top)*this.dataWidth+this.left;return _.arraycopy(this.yuvData,v,d,0,h),d}getMatrix(){const o=this.getWidth(),d=this.getHeight();if(o===this.dataWidth&&d===this.dataHeight)return this.yuvData;const h=o*d,v=new Uint8ClampedArray(h);let b=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return _.arraycopy(this.yuvData,b,v,0,h),v;for(let A=0;A<d;A++){const C=A*o;_.arraycopy(this.yuvData,b,v,C,o),b+=this.dataWidth}return v}isCropSupported(){return!0}crop(o,d,h,v){return new Mt(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+d,h,v,!1)}renderThumbnail(){const o=this.getWidth()/Mt.THUMBNAIL_SCALE_FACTOR,d=this.getHeight()/Mt.THUMBNAIL_SCALE_FACTOR,h=new Int32Array(o*d),v=this.yuvData;let b=this.top*this.dataWidth+this.left;for(let A=0;A<d;A++){const C=A*o;for(let M=0;M<o;M++){const B=v[b+M*Mt.THUMBNAIL_SCALE_FACTOR]&255;h[C+M]=4278190080|B*65793}b+=this.dataWidth*Mt.THUMBNAIL_SCALE_FACTOR}return h}getThumbnailWidth(){return this.getWidth()/Mt.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Mt.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,d){const h=this.yuvData;for(let v=0,b=this.top*this.dataWidth+this.left;v<d;v++,b+=this.dataWidth){const A=b+o/2;for(let C=b,M=b+o-1;C<A;C++,M--){const B=h[C];h[C]=h[M],h[M]=B}}}invert(){return new ee(this)}}Mt.THUMBNAIL_SCALE_FACTOR=2;class Kt extends ue{constructor(o,d,h,v,b,A,C){if(super(d,h),this.dataWidth=v,this.dataHeight=b,this.left=A,this.top=C,o.BYTES_PER_ELEMENT===4){const M=d*h,B=new Uint8ClampedArray(M);for(let J=0;J<M;J++){const ce=o[J],Ae=ce>>16&255,Me=ce>>7&510,ze=ce&255;B[J]=(Ae+Me+ze)/4&255}this.luminances=B}else this.luminances=o;if(v===void 0&&(this.dataWidth=d),b===void 0&&(this.dataHeight=h),A===void 0&&(this.left=0),C===void 0&&(this.top=0),this.left+d>this.dataWidth||this.top+h>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(o,d){if(o<0||o>=this.getHeight())throw new y("Requested row is outside the image: "+o);const h=this.getWidth();(d==null||d.length<h)&&(d=new Uint8ClampedArray(h));const v=(o+this.top)*this.dataWidth+this.left;return _.arraycopy(this.luminances,v,d,0,h),d}getMatrix(){const o=this.getWidth(),d=this.getHeight();if(o===this.dataWidth&&d===this.dataHeight)return this.luminances;const h=o*d,v=new Uint8ClampedArray(h);let b=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return _.arraycopy(this.luminances,b,v,0,h),v;for(let A=0;A<d;A++){const C=A*o;_.arraycopy(this.luminances,b,v,C,o),b+=this.dataWidth}return v}isCropSupported(){return!0}crop(o,d,h,v){return new Kt(this.luminances,h,v,this.dataWidth,this.dataHeight,this.left+o,this.top+d)}invert(){return new ee(this)}}class yr extends W{static forName(o){return this.getCharacterSetECIByName(o)}}class kr{}kr.ISO_8859_1=W.ISO8859_1;class _r{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class ln{static singletonList(o){return[o]}static min(o,d){return o.sort(d)[0]}}class ta{constructor(o){this.previous=o}getPrevious(){return this.previous}}class kn extends ta{constructor(o,d,h){super(o),this.value=d,this.bitCount=h}appendTo(o,d){o.appendBits(this.value,this.bitCount)}add(o,d){return new kn(this,o,d)}addBinaryShift(o,d){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new kn(this,o,d)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+z.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class da extends kn{constructor(o,d,h){super(o,0,0),this.binaryShiftStart=d,this.binaryShiftByteCount=h}appendTo(o,d){for(let h=0;h<this.binaryShiftByteCount;h++)(h===0||h===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):h===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(d[this.binaryShiftStart+h],8)}addBinaryShift(o,d){return new da(this,o,d)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function di(fe,o,d){return new da(fe,o,d)}function fa(fe,o,d){return new kn(fe,o,d)}const Ni=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Pa=0,vs=1,Fi=2,Cl=3,zi=4,fo=new kn(null,0,0),Ks=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Hc(fe){for(let o of fe)R.fill(o,-1);return fe[Pa][zi]=0,fe[vs][zi]=0,fe[vs][Pa]=28,fe[Cl][zi]=0,fe[Fi][zi]=0,fe[Fi][Pa]=15,fe}const ho=Hc(R.createInt32Array(6,6));class Un{constructor(o,d,h,v){this.token=o,this.mode=d,this.binaryShiftByteCount=h,this.bitCount=v}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,d){let h=this.bitCount,v=this.token;if(o!==this.mode){let A=Ks[this.mode][o];v=fa(v,A&65535,A>>16),h+=A>>16}let b=o===Fi?4:5;return v=fa(v,d,b),new Un(v,o,0,h+b)}shiftAndAppend(o,d){let h=this.token,v=this.mode===Fi?4:5;return h=fa(h,ho[this.mode][o],v),h=fa(h,d,5),new Un(h,this.mode,0,this.bitCount+v+5)}addBinaryShiftChar(o){let d=this.token,h=this.mode,v=this.bitCount;if(this.mode===zi||this.mode===Fi){let C=Ks[h][Pa];d=fa(d,C&65535,C>>16),v+=C>>16,h=Pa}let b=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,A=new Un(d,h,this.binaryShiftByteCount+1,v+b);return A.binaryShiftByteCount===2078&&(A=A.endBinaryShift(o+1)),A}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let d=this.token;return d=di(d,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new Un(d,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let d=this.bitCount+(Ks[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?d+=Un.calculateBinaryShiftCost(o)-Un.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(d+=10),d<=o.bitCount}toBitArray(o){let d=[];for(let v=this.endBinaryShift(o.length).token;v!==null;v=v.getPrevious())d.unshift(v);let h=new G;for(const v of d)v.appendTo(h,o);return h}toString(){return Q.format("%s bits=%d bytes=%d",Ni[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}Un.INITIAL_STATE=new Un(fo,Pa,0,0);function _l(fe){const o=Q.getCharCode(" "),d=Q.getCharCode("."),h=Q.getCharCode(",");fe[Pa][o]=1;const v=Q.getCharCode("Z"),b=Q.getCharCode("A");for(let Ae=b;Ae<=v;Ae++)fe[Pa][Ae]=Ae-b+2;fe[vs][o]=1;const A=Q.getCharCode("z"),C=Q.getCharCode("a");for(let Ae=C;Ae<=A;Ae++)fe[vs][Ae]=Ae-C+2;fe[Fi][o]=1;const M=Q.getCharCode("9"),B=Q.getCharCode("0");for(let Ae=B;Ae<=M;Ae++)fe[Fi][Ae]=Ae-B+2;fe[Fi][h]=12,fe[Fi][d]=13;const J=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Ae=0;Ae<J.length;Ae++)fe[Cl][Q.getCharCode(J[Ae])]=Ae;const ce=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Ae=0;Ae<ce.length;Ae++)Q.getCharCode(ce[Ae])>0&&(fe[zi][Q.getCharCode(ce[Ae])]=Ae);return fe}const po=_l(R.createInt32Array(5,256));class ks{constructor(o){this.text=o}encode(){const o=Q.getCharCode(" "),d=Q.getCharCode(`
`);let h=ln.singletonList(Un.INITIAL_STATE);for(let b=0;b<this.text.length;b++){let A,C=b+1<this.text.length?this.text[b+1]:0;switch(this.text[b]){case Q.getCharCode("\r"):A=C===d?2:0;break;case Q.getCharCode("."):A=C===o?3:0;break;case Q.getCharCode(","):A=C===o?4:0;break;case Q.getCharCode(":"):A=C===o?5:0;break;default:A=0}A>0?(h=ks.updateStateListForPair(h,b,A),b++):h=this.updateStateListForChar(h,b)}return ln.min(h,(b,A)=>b.getBitCount()-A.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,d){const h=[];for(let v of o)this.updateStateForChar(v,d,h);return ks.simplifyStates(h)}updateStateForChar(o,d,h){let v=this.text[d]&255,b=po[o.getMode()][v]>0,A=null;for(let C=0;C<=zi;C++){let M=po[C][v];if(M>0){if(A==null&&(A=o.endBinaryShift(d)),!b||C===o.getMode()||C===Fi){const B=A.latchAndAppend(C,M);h.push(B)}if(!b&&ho[o.getMode()][C]>=0){const B=A.shiftAndAppend(C,M);h.push(B)}}}if(o.getBinaryShiftByteCount()>0||po[o.getMode()][v]===0){let C=o.addBinaryShiftChar(d);h.push(C)}}static updateStateListForPair(o,d,h){const v=[];for(let b of o)this.updateStateForPair(b,d,h,v);return this.simplifyStates(v)}static updateStateForPair(o,d,h,v){let b=o.endBinaryShift(d);if(v.push(b.latchAndAppend(zi,h)),o.getMode()!==zi&&v.push(b.shiftAndAppend(zi,h)),h===3||h===4){let A=b.latchAndAppend(Fi,16-h).latchAndAppend(Fi,1);v.push(A)}if(o.getBinaryShiftByteCount()>0){let A=o.addBinaryShiftChar(d).addBinaryShiftChar(d+1);v.push(A)}}static simplifyStates(o){let d=[];for(const h of o){let v=!0;for(const b of d){if(b.isBetterThanOrEqualTo(h)){v=!1;break}h.isBetterThanOrEqualTo(b)&&(d=d.filter(A=>A!==b))}v&&d.push(h)}return d}}class Zr{constructor(){}static encodeBytes(o){return Zr.encode(o,Zr.DEFAULT_EC_PERCENT,Zr.DEFAULT_AZTEC_LAYERS)}static encode(o,d,h){let v=new ks(o).encode(),b=z.truncDivision(v.getSize()*d,100)+11,A=v.getSize()+b,C,M,B,J,ce;if(h!==Zr.DEFAULT_AZTEC_LAYERS){if(C=h<0,M=Math.abs(h),M>(C?Zr.MAX_NB_BITS_COMPACT:Zr.MAX_NB_BITS))throw new y(Q.format("Illegal value %s for layers",h));B=Zr.totalBitsInLayer(M,C),J=Zr.WORD_SIZE[M];let Lt=B-B%J;if(ce=Zr.stuffBits(v,J),ce.getSize()+b>Lt)throw new y("Data to large for user specified layer");if(C&&ce.getSize()>J*64)throw new y("Data to large for user specified layer")}else{J=0,ce=null;for(let Lt=0;;Lt++){if(Lt>Zr.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(C=Lt<=3,M=C?Lt+1:Lt,B=Zr.totalBitsInLayer(M,C),A>B)continue;(ce==null||J!==Zr.WORD_SIZE[M])&&(J=Zr.WORD_SIZE[M],ce=Zr.stuffBits(v,J));let Ur=B-B%J;if(!(C&&ce.getSize()>J*64)&&ce.getSize()+b<=Ur)break}}let Ae=Zr.generateCheckWords(ce,B,J),Me=ce.getSize()/J,ze=Zr.generateModeMessage(C,M,Me),He=(C?11:14)+M*4,Xe=new Int32Array(He),dt;if(C){dt=He;for(let Lt=0;Lt<Xe.length;Lt++)Xe[Lt]=Lt}else{dt=He+1+2*z.truncDivision(z.truncDivision(He,2)-1,15);let Lt=z.truncDivision(He,2),Ur=z.truncDivision(dt,2);for(let Ir=0;Ir<Lt;Ir++){let Gn=Ir+z.truncDivision(Ir,15);Xe[Lt-Ir-1]=Ur-Gn-1,Xe[Lt+Ir]=Ur+Gn+1}}let Pt=new ie(dt);for(let Lt=0,Ur=0;Lt<M;Lt++){let Ir=(M-Lt)*4+(C?9:12);for(let Gn=0;Gn<Ir;Gn++){let ni=Gn*2;for(let Aa=0;Aa<2;Aa++)Ae.get(Ur+ni+Aa)&&Pt.set(Xe[Lt*2+Aa],Xe[Lt*2+Gn]),Ae.get(Ur+Ir*2+ni+Aa)&&Pt.set(Xe[Lt*2+Gn],Xe[He-1-Lt*2-Aa]),Ae.get(Ur+Ir*4+ni+Aa)&&Pt.set(Xe[He-1-Lt*2-Aa],Xe[He-1-Lt*2-Gn]),Ae.get(Ur+Ir*6+ni+Aa)&&Pt.set(Xe[He-1-Lt*2-Gn],Xe[Lt*2+Aa])}Ur+=Ir*8}if(Zr.drawModeMessage(Pt,C,dt,ze),C)Zr.drawBullsEye(Pt,z.truncDivision(dt,2),5);else{Zr.drawBullsEye(Pt,z.truncDivision(dt,2),7);for(let Lt=0,Ur=0;Lt<z.truncDivision(He,2)-1;Lt+=15,Ur+=16)for(let Ir=z.truncDivision(dt,2)&1;Ir<dt;Ir+=2)Pt.set(z.truncDivision(dt,2)-Ur,Ir),Pt.set(z.truncDivision(dt,2)+Ur,Ir),Pt.set(Ir,z.truncDivision(dt,2)-Ur),Pt.set(Ir,z.truncDivision(dt,2)+Ur)}let Rt=new _r;return Rt.setCompact(C),Rt.setSize(dt),Rt.setLayers(M),Rt.setCodeWords(Me),Rt.setMatrix(Pt),Rt}static drawBullsEye(o,d,h){for(let v=0;v<h;v+=2)for(let b=d-v;b<=d+v;b++)o.set(b,d-v),o.set(b,d+v),o.set(d-v,b),o.set(d+v,b);o.set(d-h,d-h),o.set(d-h+1,d-h),o.set(d-h,d-h+1),o.set(d+h,d-h),o.set(d+h,d-h+1),o.set(d+h,d+h-1)}static generateModeMessage(o,d,h){let v=new G;return o?(v.appendBits(d-1,2),v.appendBits(h-1,6),v=Zr.generateCheckWords(v,28,4)):(v.appendBits(d-1,5),v.appendBits(h-1,11),v=Zr.generateCheckWords(v,40,4)),v}static drawModeMessage(o,d,h,v){let b=z.truncDivision(h,2);if(d)for(let A=0;A<7;A++){let C=b-3+A;v.get(A)&&o.set(C,b-5),v.get(A+7)&&o.set(b+5,C),v.get(20-A)&&o.set(C,b+5),v.get(27-A)&&o.set(b-5,C)}else for(let A=0;A<10;A++){let C=b-5+A+z.truncDivision(A,5);v.get(A)&&o.set(C,b-7),v.get(A+10)&&o.set(b+7,C),v.get(29-A)&&o.set(C,b+7),v.get(39-A)&&o.set(b-7,C)}}static generateCheckWords(o,d,h){let v=o.getSize()/h,b=new uo(Zr.getGF(h)),A=z.truncDivision(d,h),C=Zr.bitsToWords(o,h,A);b.encode(C,A-v);let M=d%h,B=new G;B.appendBits(0,M);for(const J of Array.from(C))B.appendBits(J,h);return B}static bitsToWords(o,d,h){let v=new Int32Array(h),b,A;for(b=0,A=o.getSize()/d;b<A;b++){let C=0;for(let M=0;M<d;M++)C|=o.get(b*d+M)?1<<d-M-1:0;v[b]=C}return v}static getGF(o){switch(o){case 4:return Le.AZTEC_PARAM;case 6:return Le.AZTEC_DATA_6;case 8:return Le.AZTEC_DATA_8;case 10:return Le.AZTEC_DATA_10;case 12:return Le.AZTEC_DATA_12;default:throw new y("Unsupported word size "+o)}}static stuffBits(o,d){let h=new G,v=o.getSize(),b=(1<<d)-2;for(let A=0;A<v;A+=d){let C=0;for(let M=0;M<d;M++)(A+M>=v||o.get(A+M))&&(C|=1<<d-1-M);(C&b)===b?(h.appendBits(C&b,d),A--):C&b?h.appendBits(C,d):(h.appendBits(C|1,d),A--)}return h}static totalBitsInLayer(o,d){return((d?88:112)+16*o)*o}}Zr.DEFAULT_EC_PERCENT=33,Zr.DEFAULT_AZTEC_LAYERS=0,Zr.MAX_NB_BITS=32,Zr.MAX_NB_BITS_COMPACT=4,Zr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ri{encode(o,d,h,v){return this.encodeWithHints(o,d,h,v,null)}encodeWithHints(o,d,h,v,b){let A=kr.ISO_8859_1,C=Zr.DEFAULT_EC_PERCENT,M=Zr.DEFAULT_AZTEC_LAYERS;return b!=null&&(b.has(_a.CHARACTER_SET)&&(A=yr.forName(b.get(_a.CHARACTER_SET).toString())),b.has(_a.ERROR_CORRECTION)&&(C=z.parseInt(b.get(_a.ERROR_CORRECTION).toString())),b.has(_a.AZTEC_LAYERS)&&(M=z.parseInt(b.get(_a.AZTEC_LAYERS).toString()))),ri.encodeLayers(o,d,h,v,A,C,M)}static encodeLayers(o,d,h,v,b,A,C){if(d!==ve.AZTEC)throw new y("Can only encode AZTEC, but got "+d);let M=Zr.encode(Q.getBytes(o,b),A,C);return ri.renderResult(M,h,v)}static renderResult(o,d,h){let v=o.getMatrix();if(v==null)throw new Pe;let b=v.getWidth(),A=v.getHeight(),C=Math.max(d,b),M=Math.max(h,A),B=Math.min(C/b,M/A),J=(C-b*B)/2,ce=(M-A*B)/2,Ae=new ie(C,M);for(let Me=0,ze=ce;Me<A;Me++,ze+=B)for(let He=0,Xe=J;He<b;He++,Xe+=B)v.get(He,Me)&&Ae.setRegion(Xe,ze,B,B);return Ae}}r.AbstractExpandedDecoder=Ft,r.ArgumentException=x,r.ArithmeticException=oe,r.AztecCode=_r,r.AztecCodeReader=zt,r.AztecCodeWriter=ri,r.AztecDecoder=at,r.AztecDetector=Ar,r.AztecDetectorResult=At,r.AztecEncoder=Zr,r.AztecHighLevelEncoder=ks,r.AztecPoint=Wt,r.BarcodeFormat=ve,r.Binarizer=j,r.BinaryBitmap=S,r.BitArray=G,r.BitMatrix=ie,r.BitSource=tn,r.BrowserAztecCodeReader=Pn,r.BrowserBarcodeReader=ts,r.BrowserCodeReader=H,r.BrowserDatamatrixCodeReader=wi,r.BrowserMultiFormatReader=El,r.BrowserPDF417Reader=Uc,r.BrowserQRCodeReader=qc,r.BrowserQRCodeSvgWriter=qe,r.CharacterSetECI=W,r.ChecksumException=N,r.Code128Reader=Et,r.Code39Reader=er,r.DataMatrixDecodedBitStreamParser=ua,r.DataMatrixReader=on,r.DecodeHintType=X,r.DecoderResult=me,r.DefaultGridSampler=Ut,r.DetectorResult=rt,r.EAN13Reader=oa,r.EncodeHintType=_a,r.Exception=p,r.FormatException=V,r.GenericGF=Le,r.GenericGFPoly=Oe,r.GlobalHistogramBinarizer=te,r.GridSampler=Yt,r.GridSamplerInstance=ir,r.HTMLCanvasElementLuminanceSource=Se,r.HybridBinarizer=se,r.ITFReader=Qt,r.IllegalArgumentException=y,r.IllegalStateException=Pe,r.InvertedLuminanceSource=ee,r.LuminanceSource=ue,r.MathUtils=Be,r.MultiFormatOneDReader=On,r.MultiFormatReader=zc,r.MultiFormatWriter=yt,r.NotFoundException=q,r.OneDReader=Vt,r.PDF417DecodedBitStreamParser=ut,r.PDF417DecoderErrorCorrection=$s,r.PDF417Reader=Ca,r.PDF417ResultMetadata=Fo,r.PerspectiveTransform=Jt,r.PlanarYUVLuminanceSource=Mt,r.QRCodeByteMatrix=il,r.QRCodeDataMask=ei,r.QRCodeDecodedBitStreamParser=rn,r.QRCodeDecoderErrorCorrectionLevel=Or,r.QRCodeDecoderFormatInformation=Sn,r.QRCodeEncoder=Ie,r.QRCodeEncoderQRCode=ns,r.QRCodeMaskUtil=Tn,r.QRCodeMatrixUtil=P,r.QRCodeMode=pr,r.QRCodeReader=Ys,r.QRCodeVersion=sr,r.QRCodeWriter=Qe,r.RGBLuminanceSource=Kt,r.RSS14Reader=Sr,r.RSSExpandedReader=vt,r.ReaderException=al,r.ReedSolomonDecoder=ne,r.ReedSolomonEncoder=uo,r.ReedSolomonException=Ge,r.Result=ae,r.ResultMetadataType=ke,r.ResultPoint=Fe,r.StringUtils=Q,r.UnsupportedOperationException=Ne,r.VideoInputDevice=le,r.WhiteRectangleDetector=Ht,r.WriterException=vn,r.ZXingArrays=R,r.ZXingCharset=yr,r.ZXingInteger=z,r.ZXingStandardCharsets=kr,r.ZXingStringBuilder=ye,r.ZXingStringEncoding=Z,r.ZXingSystem=_,r.createAbstractExpandedDecoder=mr,Object.defineProperty(r,"__esModule",{value:!0})})}(X0,X0.exports)),X0.exports}var Ta=Mae();const Dae=Mc(Ta),Lae=B_({__proto__:null,default:Dae},[Ta]);var __=function(){function e(t,r,n){if(this.formatMap=new Map([[lr.QR_CODE,Ta.BarcodeFormat.QR_CODE],[lr.AZTEC,Ta.BarcodeFormat.AZTEC],[lr.CODABAR,Ta.BarcodeFormat.CODABAR],[lr.CODE_39,Ta.BarcodeFormat.CODE_39],[lr.CODE_93,Ta.BarcodeFormat.CODE_93],[lr.CODE_128,Ta.BarcodeFormat.CODE_128],[lr.DATA_MATRIX,Ta.BarcodeFormat.DATA_MATRIX],[lr.MAXICODE,Ta.BarcodeFormat.MAXICODE],[lr.ITF,Ta.BarcodeFormat.ITF],[lr.EAN_13,Ta.BarcodeFormat.EAN_13],[lr.EAN_8,Ta.BarcodeFormat.EAN_8],[lr.PDF_417,Ta.BarcodeFormat.PDF_417],[lr.RSS_14,Ta.BarcodeFormat.RSS_14],[lr.RSS_EXPANDED,Ta.BarcodeFormat.RSS_EXPANDED],[lr.UPC_A,Ta.BarcodeFormat.UPC_A],[lr.UPC_E,Ta.BarcodeFormat.UPC_E],[lr.UPC_EAN_EXTENSION,Ta.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Lae)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var a=this.createZXingFormats(t),i=new Map;i.set(Ta.DecodeHintType.POSSIBLE_FORMATS,a),i.set(Ta.DecodeHintType.TRY_HARDER,!1),this.hints=i}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,a){try{n(r.decode(t))}catch(i){a(i)}})},e.prototype.decode=function(t){var r=new Ta.MultiFormatReader(this.verbose,this.hints),n=new Ta.HTMLCanvasElementLuminanceSource(t),a=new Ta.BinaryBitmap(new Ta.HybridBinarizer(n)),i=r.decode(a);return{text:i.text,format:CM.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,a){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,a=t;n<a.length;n++){var i=a[n];this.formatMap.has(i)?r.push(this.formatMap.get(i)):this.logger.logError("".concat(i," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Pae=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function f(x){try{p(n.next(x))}catch(y){c(y)}}function m(x){try{p(n.throw(x))}catch(y){c(y)}}function p(x){x.done?i(x.value):a(x.value).then(f,m)}p((n=n.apply(e,t||[])).next())})},Rae=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(x){return m([p,x])}}function m(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,a&&(i=p[0]&2?a.return:p[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,p[1])).done)return i;switch(a=0,i&&(p=[p[0]&2,i.value]),p[0]){case 0:case 1:i=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){r.label=p[1];break}if(p[0]===6&&r.label<i[1]){r.label=i[1],i=p;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(p);break}i[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(x){p=[6,x],a=0}finally{n=i=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},j_=function(){function e(t,r,n){if(this.formatMap=new Map([[lr.QR_CODE,"qr_code"],[lr.AZTEC,"aztec"],[lr.CODABAR,"codabar"],[lr.CODE_39,"code_39"],[lr.CODE_93,"code_93"],[lr.CODE_128,"code_128"],[lr.DATA_MATRIX,"data_matrix"],[lr.ITF,"itf"],[lr.EAN_13,"ean_13"],[lr.EAN_8,"ean_8"],[lr.PDF_417,"pdf417"],[lr.UPC_A,"upc_a"],[lr.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Pae(this,void 0,void 0,function(){var r,n;return Rae(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=a.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:CM.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,a=0,i=t;a<i.length;a++){var c=i[a],f=c.boundingBox.width*c.boundingBox.height;f>n&&(n=f,r=c)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,a=t;n<a.length;n++){var i=a[n];this.formatMap.has(i)?r.push(this.formatMap.get(i)):this.logger.warn("".concat(i," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,a){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),O_=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function f(x){try{p(n.next(x))}catch(y){c(y)}}function m(x){try{p(n.throw(x))}catch(y){c(y)}}function p(x){x.done?i(x.value):a(x.value).then(f,m)}p((n=n.apply(e,t||[])).next())})},T_=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(x){return m([p,x])}}function m(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,a&&(i=p[0]&2?a.return:p[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,p[1])).done)return i;switch(a=0,i&&(p=[p[0]&2,i.value]),p[0]){case 0:case 1:i=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){r.label=p[1];break}if(p[0]===6&&r.label<i[1]){r.label=i[1],i=p;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(p);break}i[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(x){p=[6,x],a=0}finally{n=i=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Bae=function(){function e(t,r,n,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&j_.isSupported()?(this.primaryDecoder=new j_(t,n,a),this.secondaryDecoder=new __(t,n,a)):this.primaryDecoder=new __(t,n,a)}return e.prototype.decodeAsync=function(t){return O_(this,void 0,void 0,function(){var r;return T_(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return O_(this,void 0,void 0,function(){var r,n;return T_(this,function(a){switch(a.label){case 0:r=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,a.sent()];case 3:if(n=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var a=n[r];t+=a}var i=t/this.executionResults.length;console.log("".concat(i," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Z3=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tg=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function f(x){try{p(n.next(x))}catch(y){c(y)}}function m(x){try{p(n.throw(x))}catch(y){c(y)}}function p(x){x.done?i(x.value):a(x.value).then(f,m)}p((n=n.apply(e,t||[])).next())})},kg=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(x){return m([p,x])}}function m(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,a&&(i=p[0]&2?a.return:p[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,p[1])).done)return i;switch(a=0,i&&(p=[p[0]&2,i.value]),p[0]){case 0:case 1:i=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){r.label=p[1];break}if(p[0]===6&&r.label<i[1]){r.label=i[1],i=p;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(p);break}i[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(x){p=[6,x],a=0}finally{n=i=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},TM=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),Fae=function(e){Z3(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var a={advanced:[n]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(TM),zae=function(e){Z3(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(Fae),Uae=function(e){Z3(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(TM),qae=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new zae(this.track)},e.prototype.torchFeature=function(){return new Uae(this.track)},e}(),Hae=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,a=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,a),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,a){return Tg(this,void 0,void 0,function(){var i,c;return kg(this,function(f){switch(f.label){case 0:return i=new e(t,r,a),n.aspectRatio?(c={aspectRatio:n.aspectRatio},[4,i.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:f.sent(),f.label=2;case 2:return i.setupSurface(),[2,i]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Tg(this,void 0,void 0,function(){return kg(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var a=t.mediaStream.getVideoTracks(),i=a.length,c=0;t.mediaStream.getVideoTracks().forEach(function(f){t.mediaStream.removeTrack(f),f.stop(),++c,c>=i&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new qae(this.getFirstTrackOrFail())},e}(),Vae=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return Tg(this,void 0,void 0,function(){return kg(this,function(a){return[2,Hae.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return Tg(this,void 0,void 0,function(){var r,n;return kg(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=a.sent(),[2,new e(n)]}})})},e}(),k_=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function f(x){try{p(n.next(x))}catch(y){c(y)}}function m(x){try{p(n.throw(x))}catch(y){c(y)}}function p(x){x.done?i(x.value):a(x.value).then(f,m)}p((n=n.apply(e,t||[])).next())})},I_=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(x){return m([p,x])}}function m(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,a&&(i=p[0]&2?a.return:p[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,p[1])).done)return i;switch(a=0,i&&(p=[p[0]&2,i.value]),p[0]){case 0:case 1:i=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){r.label=p[1];break}if(p[0]===6&&r.label<i[1]){r.label=i[1],i=p;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(p);break}i[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(x){p=[6,x],a=0}finally{n=i=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Wae=function(){function e(){}return e.failIfNotSupported=function(){return k_(this,void 0,void 0,function(){return I_(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return k_(this,void 0,void 0,function(){return I_(this,function(r){return[2,Vae.create(t)]})})},e}(),Gae=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function f(x){try{p(n.next(x))}catch(y){c(y)}}function m(x){try{p(n.throw(x))}catch(y){c(y)}}function p(x){x.done?i(x.value):a(x.value).then(f,m)}p((n=n.apply(e,t||[])).next())})},Yae=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(x){return m([p,x])}}function m(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,a&&(i=p[0]&2?a.return:p[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,p[1])).done)return i;switch(a=0,i&&(p=[p[0]&2,i.value]),p[0]){case 0:case 1:i=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){r.label=p[1];break}if(p[0]===6&&r.label<i[1]){r.label=i[1],i=p;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(p);break}i[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(x){p=[6,x],a=0}finally{n=i=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},$ae=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=xh.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=xh.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Gae(this,void 0,void 0,function(){var t,r,n,a,i,c,f;return Yae(this,function(m){switch(m.label){case 0:return t=function(p){for(var x=p.getVideoTracks(),y=0,S=x;y<S.length;y++){var N=S[y];N.enabled=!1,N.stop(),p.removeTrack(N)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=m.sent(),a=[],i=0,c=n;i<c.length;i++)f=c[i],f.kind==="videoinput"&&a.push({id:f.deviceId,label:f.label});return t(r),[2,a]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(i){for(var c=[],f=0,m=i;f<m.length;f++){var p=m[f];p.kind==="video"&&c.push({id:p.id,label:p.label})}t(c)},a=MediaStreamTrack;a.getSources(n)})},e}(),oi;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(oi||(oi={}));var Xae=function(){function e(){this.state=oi.NOT_STARTED,this.onGoingTransactionNewState=oi.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===oi.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=oi.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===oi.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=oi.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==oi.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case oi.UNKNOWN:throw"Transition from unknown is not allowed";case oi.NOT_STARTED:this.failIfNewStateIs(t,[oi.PAUSED]);break;case oi.SCANNING:break;case oi.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,a=r;n<a.length;n++){var i=a[n];if(t===i)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),Kae=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===oi.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==oi.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===oi.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===oi.PAUSED},e}(),Zae=function(){function e(){}return e.create=function(){return new Kae(new Xae)},e}(),Qae=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wo=function(e){Qae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(ql),Jae=function(){function e(t,r){this.logger=r,this.fps=Wo.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Wo.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?OM.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!wc(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),M_=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new jM(this.verbose),this.qrcode=new Bae(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Zae.create()}return e.prototype.start=function(t,r,n,a){var i=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;a?c=a:c=this.verbose?this.logger.log:function(){};var f=Jae.create(r,this.logger);this.clearElement();var m=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=m,x=document.getElementById(this.elementId);x.clientWidth?x.clientWidth:Wo.DEFAULT_WIDTH,x.style.position="relative",this.shouldScan=!0,this.element=x;var y=this,S=this.stateManagerProxy.startTransition(oi.SCANNING);return new Promise(function(N,j){var _=p?f.videoConstraints:y.createVideoConstraints(t);if(!_){S.cancel(),j("videoConstraints should be defined");return}var T={};(!p||f.aspectRatio)&&(T.aspectRatio=f.aspectRatio);var D={onRenderSurfaceReady:function(R,z){y.setupUi(R,z,f),y.isScanning=!0,y.foreverScan(f,n,c)}};Wae.failIfNotSupported().then(function(R){R.create(_).then(function(z){return z.render(i.element,T,D).then(function(G){y.renderedCamera=G,S.execute(),N(null)}).catch(function(G){S.cancel(),j(G)})}).catch(function(z){S.cancel(),j(xh.errorGettingUserMedia(z))})}).catch(function(R){S.cancel(),j(xh.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(oi.PAUSED),this.showPausedState(),(wc(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(oi.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(oi.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var i=document.getElementById(Wo.SHADED_REGION_ELEMENT_ID);i&&t.element.removeChild(i)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),n(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),r.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(wc(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,i){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var f=c.width,m=c.height,p=document.getElementById(n.elementId),x=p.clientWidth?p.clientWidth:Wo.DEFAULT_WIDTH,y=Math.max(p.clientHeight?p.clientHeight:m,Wo.FILE_SCAN_MIN_HEIGHT),S=n.computeCanvasDrawConfig(f,m,x,y);if(r){var N=n.createCanvasElement(x,y,"qr-canvas-visible");N.style.display="inline-block",p.appendChild(N);var j=N.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=x,j.canvas.height=y,j.drawImage(c,0,0,f,m,S.x,S.y,S.width,S.height)}var _=Wo.FILE_SCAN_HIDDEN_CANVAS_PADDING,T=Math.max(c.width,S.width),D=Math.max(c.height,S.height),R=T+2*_,z=D+2*_,G=n.createCanvasElement(R,z);p.appendChild(G);var $=G.getContext("2d");if(!$)throw"Unable to get 2d context from canvas";$.canvas.width=R,$.canvas.height=z,$.drawImage(c,0,0,f,m,_,_,T,D);try{n.qrcode.decodeRobustlyAsync(G).then(function(X){a(S_.createFromQrcodeResult(X))}).catch(i)}catch(X){i("QR code parse error, error = ".concat(X))}},c.onerror=i,c.onabort=i,c.onstalled=i,c.onsuspend=i,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return $ae.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!OM.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[lr.QR_CODE,lr.AZTEC,lr.CODABAR,lr.CODE_39,lr.CODE_93,lr.CODE_128,lr.DATA_MATRIX,lr.MAXICODE,lr.ITF,lr.EAN_13,lr.EAN_8,lr.PDF_417,lr.RSS_14,lr.RSS_EXPANDED,lr.UPC_A,lr.UPC_E,lr.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],a=0,i=t.formatsToSupport;a<i.length;a++){var c=i[a];Tae(c)?n.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(wc(t))return!0;if(!wc(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(wc(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return wc(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var a=this,i=n.qrbox;this.validateQrboxConfig(i);var c=this.toQrdimensions(t,r,i),f=function(p){if(p<Wo.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Wo.MIN_QR_BOX_SIZE,"px.")},m=function(p){return p>t&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};f(c.width),f(c.height),c.width=m(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var a=wc(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(a);var i=this.toQrdimensions(t,r,a);i.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=n.isShadedBoxEnabled()&&i.height<=r,f={x:0,y:0,width:t,height:r},m=c?this.getShadedRegionBounds(t,r,i):f,p=this.createCanvasElement(m.width,m.height),x={willReadFrequently:!0},y=p.getContext("2d",x);y.canvas.width=m.width,y.canvas.height=m.height,this.element.append(p),c&&this.possiblyInsertShadingElement(this.element,t,r,i),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=y,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=xh.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return t(a.text,S_.createFromQrcodeResult(a)),n.possiblyUpdateShaders(!0),!0}).catch(function(a){n.possiblyUpdateShaders(!1);var i=xh.codeParseError(a);return r(i,_M.createFrom(i)),!1})},e.prototype.foreverScan=function(t,r,n){var a=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),c=i.videoWidth/i.clientWidth,f=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*c,p=this.qrRegion.height*f,x=this.qrRegion.x*c,y=this.qrRegion.y*f;this.context.drawImage(i,x,y,m,p,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(t,r,n)},a.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(N){!N&&t.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(r,n).finally(function(){S()})):S()}).catch(function(N){a.logger.logError("Error happend while scanning context",N),S()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",a={user:!0,environment:!0},i="exact",c=function(j){if(j in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(j,"'")},f=Object.keys(t);if(f.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(f.length," keys");var m=Object.keys(t)[0];if(m!==r&&m!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(m===r){var p=t.facingMode;if(typeof p=="string"){if(c(p))return{facingMode:p}}else if(typeof p=="object")if(i in p){if(c(p["".concat(i)]))return{facingMode:{exact:p["".concat(i)]}}}else throw"'facingMode' should be string or object with"+" ".concat(i," as key.");else{var x=typeof p;throw"Invalid type of 'facingMode' = ".concat(x)}}else{var y=t.deviceId;if(typeof y=="string")return{deviceId:y};if(typeof y=="object"){if(i in y)return{deviceId:{exact:y["".concat(i)]}};throw"'deviceId' should be string or object with"+" ".concat(i," as key.")}else{var S=typeof y;throw"Invalid type of 'deviceId' = ".concat(S)}}}var N=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(N)},e.prototype.computeCanvasDrawConfig=function(t,r,n,a){if(t<=n&&r<=a){var i=(n-t)/2,c=(a-r)/2;return{x:i,y:c,width:t,height:r}}else{var f=t,m=r;return t>n&&(r=n/t*r,t=n),r>a&&(t=a/r*t,r=a),this.logger.log("Image downsampled from "+"".concat(f,"X").concat(m)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,a)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Wo.BORDER_SHADER_MATCH_COLOR:Wo.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var a=t,i=r,c=document.createElement("canvas");return c.style.width="".concat(a,"px"),c.style.height="".concat(i,"px"),c.style.display="none",c.id=wc(n)?"qr-canvas":n,c},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,a){if(!(r-a.width<1||n-a.height<1)){var i=document.createElement("div");i.style.position="absolute";var c=(r-a.width)/2,f=(n-a.height)/2;if(i.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderTop="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderBottom="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),i.style.boxSizing="border-box",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.id="".concat(Wo.SHADED_REGION_ELEMENT_ID),r-a.width<11||n-a.height<11)this.hasBorderShaders=!1;else{var m=5,p=40;this.insertShaderBorders(i,p,m,-m,null,0,!0),this.insertShaderBorders(i,p,m,-m,null,0,!1),this.insertShaderBorders(i,p,m,null,-m,0,!0),this.insertShaderBorders(i,p,m,null,-m,0,!1),this.insertShaderBorders(i,m,p+m,-m,null,-m,!0),this.insertShaderBorders(i,m,p+m,null,-m,-m,!0),this.insertShaderBorders(i,m,p+m,-m,null,-m,!1),this.insertShaderBorders(i,m,p+m,null,-m,-m,!1),this.hasBorderShaders=!0}t.append(i)}},e.prototype.insertShaderBorders=function(t,r,n,a,i,c,f){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=Wo.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(r,"px"),m.style.height="".concat(n,"px"),a!==null&&(m.style.top="".concat(a,"px")),i!==null&&(m.style.bottom="".concat(i,"px")),f?m.style.left="".concat(c,"px"):m.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),t.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Q3="data:image/svg+xml;base64,",eie=Q3+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",tie=Q3+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",D_=Q3+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",rie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",L_=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),nie=function(){function e(){this.data=L_.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=L_.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),aie=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=E_.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var n=document.createElement("br"),a=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(a);var i=document.createElement("a");i.innerText=E_.reportIssues(),i.href="https://github.com/mebjas/html5-qrcode/issues",i.target="new",i.style.color="white",this.infoDiv.appendChild(i),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),iie=function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=D_,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(n){return r.onHoverIn()},this.infoIcon.onmouseout=function(n){return r.onHoverOut()},this.infoIcon.onclick=function(n){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=rie,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=D_,this.infoIcon.style.opacity="0.6")},e}(),sie=function(){function e(){var t=this;this.infoDiv=new aie,this.infoIcon=new iie(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),oie=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function f(x){try{p(n.next(x))}catch(y){c(y)}}function m(x){try{p(n.throw(x))}catch(y){c(y)}}function p(x){x.done?i(x.value):a(x.value).then(f,m)}p((n=n.apply(e,t||[])).next())})},lie=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(x){return m([p,x])}}function m(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,a&&(i=p[0]&2?a.return:p[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,p[1])).done)return i;switch(a=0,i&&(p=[p[0]&2,i.value]),p[0]){case 0:case 1:i=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){r.label=p[1];break}if(p[0]===6&&r.label<i[1]){r.label=i[1],i=p;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(p);break}i[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(x){p=[6,x],a=0}finally{n=i=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},P_=function(){function e(){}return e.hasPermissions=function(){return oie(this,void 0,void 0,function(){var t,r,n,a;return lie(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=i.sent(),r=0,n=t;r<n.length;r++)if(a=n[r],a.kind==="videoinput"&&a.label)return[2,!0];return[2,!1]}})})},e}(),ad=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var n=r[t];if(e.isCameraScanType(n))return!0}return!1},e.isCameraScanType=function(t){return t===Od.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Od.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return ql.DEFAULT_SUPPORTED_SCAN_TYPE;var r=ql.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var n=0,a=t;n<a.length;n++){var i=a[n];if(!ql.DEFAULT_SUPPORTED_SCAN_TYPE.includes(i))throw"Unsupported scan type ".concat(i)}return t},e}(),Xo=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),hu=function(){function e(){}return e.createElement=function(t,r){var n=document.createElement(t);return n.id=r,n.classList.add(Xo.ALL_ELEMENT_CLASS),t==="button"&&n.setAttribute("type","button"),n},e}(),kM=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function f(x){try{p(n.next(x))}catch(y){c(y)}}function m(x){try{p(n.throw(x))}catch(y){c(y)}}function p(x){x.done?i(x.value):a(x.value).then(f,m)}p((n=n.apply(e,t||[])).next())})},IM=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(x){return m([p,x])}}function m(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,a&&(i=p[0]&2?a.return:p[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,p[1])).done)return i;switch(a=0,i&&(p=[p[0]&2,i.value]),p[0]){case 0:case 1:i=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){r.label=p[1];break}if(p[0]===6&&r.label<i[1]){r.label=i[1],i=p;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(p);break}i[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(x){p=[6,x],a=0}finally{n=i=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},R_=function(){function e(t,r,n){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=n}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return kM(this,void 0,void 0,function(){var t,r;return IM(this,function(n){switch(n.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=n.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?Zn.torchOffButton():Zn.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var n=t?Zn.torchOnFailedMessage():Zn.torchOffFailedMessage();r&&(n+="; Error = "+r),this.onTorchActionFailureCallback(n)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),cie=function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=hu.createElement("button",Xo.TORCH_BUTTON_ID),this.torchController=new R_(t,this,r)}return e.prototype.render=function(t,r){var n=this;this.torchButton.innerText=Zn.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var a=this;this.torchButton.addEventListener("click",function(i){return kM(n,void 0,void 0,function(){return IM(this,function(c){switch(c.label){case 0:return[4,a.torchController.flipState()];case 1:return c.sent(),a.torchController.isTorchEnabled()?(a.torchButton.classList.remove(Xo.TORCH_BUTTON_CLASS_TORCH_OFF),a.torchButton.classList.add(Xo.TORCH_BUTTON_CLASS_TORCH_ON)):(a.torchButton.classList.remove(Xo.TORCH_BUTTON_CLASS_TORCH_ON),a.torchButton.classList.add(Xo.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new R_(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Zn.torchOnButton(),this.torchController.reset()},e.create=function(t,r,n,a){var i=new e(r,a);return i.render(t,n),i},e}(),uie=function(){function e(t,r,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var a=document.createElement("label");a.setAttribute("for",this.getFileScanInputId()),a.style.display="inline-block",this.fileBasedScanRegion.appendChild(a),this.fileSelectionButton=hu.createElement("button",Xo.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(f){a.click()}),a.append(this.fileSelectionButton),this.fileScanInput=hu.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",a.appendChild(this.fileScanInput);var i=this;this.fileScanInput.addEventListener("change",function(f){if(!(f==null||f.target==null)){var m=f.target;if(!(m.files&&m.files.length===0)){var p=m.files,x=p[0],y=x.name;i.setImageNameToButton(y),n(x)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(f){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(f){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(f){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(f){f.stopPropagation(),f.preventDefault(),i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder();var m=f.dataTransfer;if(m){var p=m.files;if(!p||p.length===0)return;for(var x=!1,y=0;y<p.length;++y){var S=p.item(y);if(S){var N=/image.*/;if(S.type.match(N)){x=!0;var j=S.name;i.setImageNameToButton(j),n(S),c.innerText=Zn.dragAndDropMessage();break}}}x||(c.innerText=Zn.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Zn.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var n=t.substring(0,8),a=t.length,i=t.substring(a-8,a);t="".concat(n,"....").concat(i)}var c=Zn.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=c},e.prototype.setInitialValueToButton=function(){var t=Zn.fileSelectionChooseImage()+" - "+Zn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,n){var a=new e(t,r,n);return a},e}(),die=function(){function e(t){this.selectElement=hu.createElement("select",Xo.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var n=this.cameras.length;if(n===0)throw new Error("No cameras found");if(n===1)r.style.display="none";else{var a=Zn.selectCamera();r.innerText="".concat(a," (").concat(this.cameras.length,")  ")}for(var i=1,c=0,f=this.cameras;c<f.length;c++){var m=f[c],p=m.id,x=m.label==null?p:m.label;(!x||x==="")&&(x=[Zn.anonymousCameraPrefix(),i++].join(" "));var y=document.createElement("option");y.value=p,y.innerText=x,this.options.push(y),this.selectElement.appendChild(y)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,n=this.options;r<n.length;r++){var a=n[r];if(a.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var n=new e(r);return n.render(t),n},e}(),fie=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=hu.createElement("input",Xo.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=Zn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var a=this;this.rangeInput.addEventListener("input",function(){return a.onValueChange()}),this.rangeInput.addEventListener("change",function(){return a.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Zn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,n,a){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=a.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var n=new e;return n.render(t,r),n},e}(),Go;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Go||(Go={}));function hie(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function pie(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var mie=function(){function e(t,r,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=n===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new ad(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new jM(this.verbose),this.persistedDataManager=new nie,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(i,c){if(t)t(i,c);else{if(n.lastMatchFound===i)return;n.lastMatchFound=i,n.setHeaderMessage(Zn.lastMatch(i),Go.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(i,c){r&&r(i,c)};var a=document.getElementById(this.elementId);if(!a)throw"HTML Element with id=".concat(this.elementId," not found");a.innerHTML="",this.createBasicLayout(a),this.html5Qrcode=new M_(this.getScanRegionId(),pie(this.config,this.verbose))},e.prototype.pause=function(t){(wc(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var n=document.getElementById(t.elementId);n&&(n.innerHTML="",t.resetBasicLayout(n))};return this.html5Qrcode?new Promise(function(n,a){if(!t.html5Qrcode){n();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(i){if(!t.html5Qrcode){n();return}t.html5Qrcode.clear(),r(),n()}).catch(function(i){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",i),a(i)}):(t.html5Qrcode.clear(),r(),n())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=ql.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!ql.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=ql.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=ql.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:ql.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ql.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ql.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),n=this.getScanRegionId();r.id=n,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),ad.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var a=document.createElement("div"),i=this.getDashboardId();a.id=i,a.style.width="100%",t.appendChild(a),this.setupInitialDashboard(a)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var n=new sie;n.renderInto(r);var a=document.createElement("div");a.id=this.getHeaderMessageContainerId(),a.style.display="none",a.style.textAlign="center",a.style.fontSize="14px",a.style.padding="2px 10px",a.style.margin="4px",a.style.borderTop="1px solid #f6f6f6",r.appendChild(a)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,n){var a=this;a.showHideScanTypeSwapLink(!1),a.setHeaderMessage(Zn.cameraPermissionRequesting());var i=function(){n||a.createPermissionButton(t,r)};M_.getCameras().then(function(c){a.persistedDataManager.setHasPermission(!0),a.showHideScanTypeSwapLink(!0),a.resetHeaderMessage(),c&&c.length>0?(t.removeChild(r),a.renderCameraSelection(c)):(a.setHeaderMessage(Zn.noCameraFound(),Go.STATUS_WARNING),i())}).catch(function(c){a.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:i(),a.setHeaderMessage(c,Go.STATUS_WARNING),a.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var n=this,a=hu.createElement("button",this.getCameraPermissionButtonId());a.innerText=Zn.cameraPermissionTitle(),a.addEventListener("click",function(){a.disabled=!0,n.createCameraListUi(t,r,a)}),r.appendChild(a)},e.prototype.createPermissionsUi=function(t,r){var n=this;if(ad.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){P_.hasPermissions().then(function(a){a?n.createCameraListUi(t,r):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r))}).catch(function(a){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=ad.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(n);var a=document.createElement("div");a.style.textAlign="center",n.appendChild(a),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,a),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=ad.isFileScanType(this.currentScanType),n=this,a=function(i){if(!n.html5Qrcode)throw"html5Qrcode not defined";ad.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(Zn.loadingImage()),n.html5Qrcode.scanFileV2(i,!0).then(function(c){n.resetHeaderMessage(),n.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){n.setHeaderMessage(c,Go.STATUS_WARNING),n.qrCodeErrorCallback(c,_M.createFrom(c))}))};this.fileSelectionUi=uie.create(t,r,a)},e.prototype.renderCameraSelection=function(t){var r=this,n=this,a=document.getElementById(this.getDashboardSectionCameraScanRegionId());a.style.textAlign="center";var i=fie.create(a,!1),c=function(_){var T=_.zoomFeature();if(T.isSupported()){i.setOnCameraZoomValueChangeCallback(function(R){T.apply(R)});var D=1;r.config.defaultZoomValueIfSupported&&(D=r.config.defaultZoomValueIfSupported),D=kae(D,T.min(),T.max()),i.setValues(T.min(),T.max(),D,T.step()),i.show()}},f=die.create(a,t),m=document.createElement("span"),p=hu.createElement("button",Xo.CAMERA_START_BUTTON_ID);p.innerText=Zn.scanButtonStartScanningText(),m.appendChild(p);var x=hu.createElement("button",Xo.CAMERA_STOP_BUTTON_ID);x.innerText=Zn.scanButtonStopScanningText(),x.style.display="none",x.disabled=!0,m.appendChild(x);var y,S=function(_){if(!_.torchFeature().isSupported()){y&&y.hide();return}y?y.updateTorchCapability(_.torchFeature()):y=cie.create(m,_.torchFeature(),{display:"none",marginLeft:"5px"},function(T){n.setHeaderMessage(T,Go.STATUS_WARNING)}),y.show()};a.appendChild(m);var N=function(_){_||(p.style.display="none"),p.innerText=Zn.scanButtonStartScanningText(),p.style.opacity="1",p.disabled=!1,_&&(p.style.display="inline-block")};if(p.addEventListener("click",function(_){p.innerText=Zn.scanButtonScanningStarting(),f.disable(),p.disabled=!0,p.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var T=f.getValue();n.persistedDataManager.setLastUsedCameraId(T),n.html5Qrcode.start(T,hie(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(D){x.disabled=!1,x.style.display="inline-block",N(!1);var R=n.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&S(R),r.config.showZoomSliderIfSupported===!0&&c(R)}).catch(function(D){n.showHideScanTypeSwapLink(!0),f.enable(),N(!0),n.setHeaderMessage(D,Go.STATUS_WARNING)})}),f.hasSingleItem()&&p.click(),x.addEventListener("click",function(_){if(!n.html5Qrcode)throw"html5Qrcode not defined";x.disabled=!0,n.html5Qrcode.stop().then(function(T){r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),f.enable(),p.disabled=!1,x.style.display="none",p.style.display="inline-block",y&&(y.reset(),y.hide()),i.removeOnCameraZoomValueChangeCallback(),i.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(T){x.disabled=!1,n.setHeaderMessage(T,Go.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var j=n.persistedDataManager.getLastUsedCameraId();f.hasValue(j)?(f.setValue(j),p.click()):n.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=Zn.textIfCameraScanSelected(),n=Zn.textIfFileScanSelected(),a=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");i.style.textAlign="center";var c=hu.createElement("span",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.style.cursor="pointer",c.innerText=ad.isCameraScanType(this.currentScanType)?r:n,c.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,ad.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),c.innerText=n,t.currentScanType=Od.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),c.innerText=r,t.currentScanType=Od.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),i.appendChild(c),a.appendChild(i)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){P_.hasPermissions().then(function(n){if(n){var a=document.getElementById(r.getCameraPermissionButtonId());if(!a)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";a.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(n){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=Go.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=t,n.style.display="block",r){case Go.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case Go.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case Go.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=eie,this.cameraScanImage.alt=Zn.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=tie,this.fileScanImage.alt=Zn.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Xo.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Xo.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const gie=e=>{const t=Da.c(12),{onScan:r,onClose:n,onError:a}=e,i=I.useRef(null);let c,f;t[0]!==a||t[1]!==r?(c=()=>{const j=new mie("reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1},!1);return j.render(_=>{r(_),j.clear().catch(console.error)},_=>{a&&a(_)}),i.current=j,()=>{i.current&&i.current.clear().catch(console.error)}},f=[r,a],t[0]=a,t[1]=r,t[2]=c,t[3]=f):(c=t[2],f=t[3]),I.useEffect(c,f);let m;t[4]===Symbol.for("react.memo_cache_sentinel")?(m=u.jsx("h3",{className:"font-bold text-lg dark:text-white",children:"Scan QR Code"}),t[4]=m):m=t[4];let p;t[5]===Symbol.for("react.memo_cache_sentinel")?(p=u.jsx(Jo,{size:24,className:"text-gray-500 dark:text-gray-400"}),t[5]=p):p=t[5];let x;t[6]!==n?(x=u.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[m,u.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:p})]}),t[6]=n,t[7]=x):x=t[7];let y,S;t[8]===Symbol.for("react.memo_cache_sentinel")?(y=u.jsx("div",{className:"p-6 bg-black",children:u.jsx("div",{id:"reader",className:"overflow-hidden rounded-xl"})}),S=u.jsx("div",{className:"p-4 text-center text-sm text-gray-500 dark:text-gray-400",children:"Point your camera at a QR code to scan"}),t[8]=y,t[9]=S):(y=t[8],S=t[9]);let N;return t[10]!==x?(N=u.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl overflow-hidden shadow-2xl relative",children:[x,y,S]})}),t[10]=x,t[11]=N):N=t[11],N},xie=()=>{var je,jt,et,bt,Ft;const{user:e}=Xi(),{isDark:t}=bi(),[r,n]=I.useState(!1),[a,i]=I.useState(null),[c,f]=I.useState(null),m=async Re=>{var mt,pt,Ot,Dt;n(!1),f(null),i(null);try{let It=Re;Re.includes("/qr-verify/")&&(It=Re.split("/qr-verify/").pop());const tr=await qt.post("/orders/scan-qr",{token:It});tr.data.success?i(tr.data):f("Verification returned unsuccessful status")}catch(It){console.error("QR Verification Error:",It);try{let Xt=Re;Re.includes("/qr-verify/")&&(Xt=Re.split("/qr-verify/").pop());const cr=await qt.post("/v2/orders/scan-qr",{token:Xt});if(cr.data.success){i(cr.data);return}}catch{}const tr=((pt=(mt=It.response)==null?void 0:mt.data)==null?void 0:pt.message)||It.message||"Verification Failed";f(tr),(Dt=(Ot=It.response)==null?void 0:Ot.data)!=null&&Dt.used_at&&f(`ALREADY VERIFIED at ${new Date(It.response.data.used_at).toLocaleString()}`)}},p=()=>{i(null),f(null)};Wa();const[x,y]=I.useState([]),[S,N]=I.useState([]),[j,_]=I.useState("UPI"),[T,D]=I.useState(!0),[R,z]=I.useState(!1),[G,$]=I.useState(!1),[X,V]=I.useState(null),[Y,W]=I.useState(""),[Ne,Z]=I.useState(!1),[Q,ye]=I.useState(null),[ie,q]=I.useState(1),[te,se]=I.useState([]),[ue,ee]=I.useState("ALL"),[Se,le]=I.useState("IDLE"),[U,H]=I.useState(null),[ae,ge]=I.useState(null),[ve,de]=I.useState(!1),[ke,me]=I.useState(!1),[xe,Oe]=I.useState(!1),[oe,Le]=I.useState([]),[Ge,Pe]=I.useState(!1),[ne,tt]=I.useState(null),[at,Be]=I.useState([]),[Ze,Fe]=I.useState(3),rt=I.useRef(null),[At,Ht]=I.useState({street:"",city:"",state:"",pincode:"",country:"India",phone:""}),[Yt,Jt]=I.useState(""),[Ut,ir]=I.useState(null),[Wt,Ar]=I.useState(!1),zt=Re=>{const mt=Re.getFullYear(),pt=String(Re.getMonth()+1).padStart(2,"0"),Ot=String(Re.getDate()).padStart(2,"0");return`${mt}-${pt}-${Ot}`},Pn=Re=>{const mt=new Date;mt.setHours(0,0,0,0);const pt=new Date(Re);if(pt.setHours(0,0,0,0),pt.getDay()===0||pt<mt)return!0;if(pt.getTime()===mt.getTime()){const Ot=new Date;if(Ot.getHours()>11||Ot.getHours()===11&&Ot.getMinutes()>=30)return!0}return!1},[Vt,Et]=I.useState(()=>{const Re=new Date;return Pn(Re)?[]:[zt(Re)]}),[er,Qt]=I.useState(new Date),[Jr,Hr]=I.useState(""),[Ri,xn]=I.useState(!1);I.useEffect(()=>{const Re=setTimeout(()=>{Yt&&Yt.length>=1?Er(Yt):Yt||Ht({street:"",city:"",state:"",pincode:"",country:"India",phone:""})},1e3);return()=>clearTimeout(Re)},[Yt]);const Er=async Re=>{if(Re){xn(!0);try{const mt=await qt.get(`/employees/?search=${Re}&limit=1000`);let pt=[];mt.data&&Array.isArray(mt.data.employees)?pt=mt.data.employees:mt.data&&Array.isArray(mt.data)?pt=mt.data:mt.data&&mt.data.data&&(pt=mt.data.data);const Ot=pt.find(Dt=>Dt.emp_code&&Dt.emp_code.toLowerCase()===Re.toLowerCase()||Dt.username&&Dt.username.toLowerCase()===Re.toLowerCase())||pt[0];Ot?(ir(Ot),Ht({street:[Ot.address,Ot.address_line_2].filter(Boolean).join(", ")||Ot.work_location||Ot.base_location||"",city:Ot.city||Ot.district||"",state:Ot.perm_state||Ot.state||"",pincode:Ot.pincode||"",country:Ot.perm_country||Ot.country||"India",phone:Ot.mobile||Ot.phone||""})):ir(null)}catch(mt){console.error("Error looking up employee:",mt)}finally{xn(!1)}}},oa=async Re=>{var mt,pt,Ot,Dt;if(Re&&!ke){de(!0);try{const It=await qt.get(`/orders/${Re}/qr`);if(console.log("QR Polling Response:",It.data),(mt=It.data)!=null&&mt.is_used)me(!0),ge(null),console.log("QR marked as used by backend");else if((pt=It.data)!=null&&pt.qrImage||(Ot=It.data)!=null&&Ot.qr||(Dt=It.data)!=null&&Dt.qr_code){let tr=It.data.qrImage||It.data.qr||It.data.qr_code;tr&&typeof tr=="string"&&!tr.startsWith("data:")&&!tr.startsWith("http")&&(tr=`${$i}${tr.startsWith("/")?"":"/"}${tr}`),ge(tr)}}catch(It){console.error("Error fetching QR Code:",It)}finally{de(!1)}}},cn=async()=>{var Re,mt,pt,Ot,Dt,It,tr,Xt,cr,Nt,mr,Lr,Vr,vt;if(!R){if(!S.length){alert("Select at least one product");return}if(j==="UPI"&&!G){alert("Payment gateway is loading. Please wait...");return}if(!Vt||Vt.length===0){alert("Please select at least one date from the calendar");return}try{z(!0);const Rn=`ADM-${Date.now()}`,Sr=S.flatMap(ba=>Array(ba.quantity||1).fill(Number(ba.id))),ts=ea()*Vt.length,Wr=`${At.street||""}, ${At.city||""}, ${At.state||""}, ${At.pincode||""}, ${At.country||"India"}${At.phone?` - Phone: ${At.phone}`:""}`.trim().replace(/^, |, $/g,""),Br=te.find(ba=>ba.id===Number(Ut==null?void 0:Ut.division_unit)||ba.name===(Ut==null?void 0:Ut.division_unit)||ba.code===(Ut==null?void 0:Ut.division_unit)),Rr=Number(Br==null?void 0:Br.id)||Number(Ut==null?void 0:Ut.division_unit)||Number((Re=S[0])==null?void 0:Re.unit_id)||Number(e==null?void 0:e.unit_id)||1,Gs={code:Rn,Order_code:Rn,payment_mode:j,item_ids:Sr,total_amount:Number(ts),delivery_address:At.street?Wr:"Office Delivery",emp_code:Yt||(e==null?void 0:e.emp_code)||(e==null?void 0:e.username)||"ADMIN",unit_id:Rr,division_unit:(Ut==null?void 0:Ut.division_unit)||(Br==null?void 0:Br.name)||((mt=S[0])==null?void 0:mt.division_unit)||(e==null?void 0:e.division_unit)||"General",phone:At.phone||"0000000000",customer_phone:At.phone||"0000000000",employeeCode:Yt||(e==null?void 0:e.emp_code)||(e==null?void 0:e.username)||"ADMIN01",deliveryAddress:At.street?Wr:"Office Delivery",dates:Vt,selectedDates:Vt,order_dates:Vt,orderDate:Vt[0],remarks:Jr||""};console.log("Submitting order with payload:",JSON.stringify(Gs,null,2));const tn=(await qt.post("/orders/",Gs)).data;console.log("Order created successfully - Full Response:",tn);const jr=(tn==null?void 0:tn.order_id)||((pt=tn==null?void 0:tn.order)==null?void 0:pt.id)||((Ot=tn==null?void 0:tn.data)==null?void 0:Ot.id)||(tn==null?void 0:tn.id),ua=(tn==null?void 0:tn.order)||(tn==null?void 0:tn.data)||tn;if(!jr)throw console.error(" Order ID extraction failed. Response Data:",tn),new Error("Failed to create order - ID missing in response");if(console.log("Extracted Order ID:",jr),V(jr),j==="FREE"||j==="GUEST")try{const ba={emp_code:Yt||(e==null?void 0:e.emp_code)||(e==null?void 0:e.username)||"ADMIN"},un=j==="FREE"?`/orders/${jr}/pay-free`:`/orders/${jr}/pay-guest`;console.log(`Updating ${j} payment status:`,ba);const on=await qt.post(un,ba);console.log(` ${j} Payment Response:`,on.data);try{const wi=await qt.get(`/orders/${jr}/qr`);console.log(" QR Code Response:",wi.data);const Kr={...ua,id:jr,payment_status:"PAID",dayBills:((Dt=on.data)==null?void 0:Dt.dayBills)||(ua==null?void 0:ua.dayBills)||[]},Or=(It=wi.data)==null?void 0:It.qrImage,Sn=(Kr==null?void 0:Kr.dayBills)||((tr=on.data)==null?void 0:tr.dayBills)||[];console.log(" Using Order Data:",Kr),console.log(" Day Bills:",Sn),Or&&ge(Or),Sn.length>0&&Be(Sn),le("SUCCESS"),H({order:Kr,dayBills:Sn,qrImage:Or,paymentMode:j}),tt(Kr),Sn.length>0&&setTimeout(()=>{xr({...Kr,dayBills:Sn})},500),console.log(` ${j} order completed successfully!`)}catch(wi){console.error("Error fetching QR code:",wi);const Kr={...ua,id:jr,payment_status:"PAID",dayBills:((Xt=on.data)==null?void 0:Xt.dayBills)||[]};le("SUCCESS"),H({order:Kr,dayBills:Kr.dayBills||[],paymentMode:j}),tt(Kr),Kr.dayBills&&Kr.dayBills.length>0&&(Be(Kr.dayBills),setTimeout(()=>{xr({...Kr,dayBills:Kr.dayBills})},1e3)),console.log(` ${j} order completed (QR unavailable)`)}}catch(ba){console.error("Payment status update failed:",((cr=ba.response)==null?void 0:cr.data)||ba);const un=((mr=(Nt=ba.response)==null?void 0:Nt.data)==null?void 0:mr.message)||((Vr=(Lr=ba.response)==null?void 0:Lr.data)==null?void 0:Vr.error)||"Unknown error";if(un.includes("already paid")||un.includes("Already paid")){console.warn("Order was already paid, treating as success."),le("SUCCESS");const on={...ua,id:jr,payment_status:"PAID",dayBills:(ua==null?void 0:ua.dayBills)||[]};H({order:on,dayBills:on.dayBills,paymentMode:j}),tt(on),on.dayBills&&on.dayBills.length>0&&(Be(on.dayBills),setTimeout(()=>{xr({...on,dayBills:on.dayBills})},500))}else alert(`Order created but failed to mark as paid: ${un}`)}else if(j==="UPI"){const ba=Math.round(ts*100),un=await qt.post(`/orders/${jr}/create-razorpay-order`,{order_id:jr,amount:ba,order_code:Rn});console.log("create-razorpay-order Response Data:",un.data);const{razorpay_order_id:on,amount:wi,key:Kr,key_id:Or,razorpay_key:Sn}=un.data,nt=Kr||Or||Sn;if(!nt)throw new Error("Payment initialization failed: API Key missing");const Te=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.startsWith("192.168"),sr={key:nt,amount:wi,currency:"INR",name:"CMS",image:"",description:`Admin Order #${jr} - ${Rn}`,order_id:on,handler:async Fn=>{var ei,gs,tl,ti,pr,rn,lo,Po,Cs,En;console.log("Razorpay payment successful. Response:",Fn);try{const zn=await qt.post(`/orders/${jr}/verify-razorpay`,{razorpay_payment_id:Fn.razorpay_payment_id,razorpay_order_id:Fn.razorpay_order_id,razorpay_signature:Fn.razorpay_signature,emp_code:Yt||(e==null?void 0:e.username)||"ADMIN"});console.log(" Admin Payment Verification Response:",zn.data),console.log(" Order Data:",(ei=zn.data)==null?void 0:ei.order),console.log(" Day Bills:",(gs=zn.data)==null?void 0:gs.dayBills),console.log(" QR Image Available:",!!((tl=zn.data)!=null&&tl.qrImage)),(ti=zn.data)!=null&&ti.qrImage&&ge(zn.data.qrImage),(pr=zn.data)!=null&&pr.dayBills&&Be(zn.data.dayBills),le("SUCCESS"),H(zn.data),tt(((rn=zn.data)==null?void 0:rn.order)||ua),(lo=zn.data)!=null&&lo.dayBills&&zn.data.dayBills.length>0&&setTimeout(()=>{xr({...zn.data.order,dayBills:zn.data.dayBills})},1e3),alert("Payment verified successfully!"),z(!1)}catch(zn){console.error(" Payment verification failed:",((Po=zn.response)==null?void 0:Po.data)||zn),le("FAILED"),alert(`Payment verification failed: ${((En=(Cs=zn.response)==null?void 0:Cs.data)==null?void 0:En.error)||zn.message}`),z(!1)}},prefill:{contact:(e==null?void 0:e.phone)||"9999999999",email:(e==null?void 0:e.email)||"admin@cms.com",vpa:"success@razorpay"},display:{blocks:{upi:{name:"UPI",instruments:[{method:"upi",types:["qr"]}]},...Te?{}:{googlepay:{name:"Google Pay",instruments:[{method:"googlepay"}]}},netbanking:{name:"Net Banking",instruments:[{method:"netbanking"}]}},sequence:Te?["block.upi","block.netbanking"]:["block.upi","block.googlepay","block.netbanking"],preferences:{show_default_blocks:!0}},modal:{ondismiss:async()=>{await es(jr),z(!1)}},theme:{color:"#fac639"}};if(typeof window.Razorpay>"u")throw new Error("Razorpay script not loaded properly");new window.Razorpay(sr).open()}else alert("Order created successfully!"),N([])}catch(Rn){console.error("Order process Error:",Rn);const Sr=(vt=Rn.response)==null?void 0:vt.data,On=(Sr==null?void 0:Sr.error)||(Sr==null?void 0:Sr.message)||Rn.message||"Invalid order data. Please check selection.";z(!1),alert(`Checkout Error: ${On}`)}finally{j!=="UPI"&&Se!=="SUCCESS"&&z(!1)}}},xr=async Re=>{var pt,Ot;const mt=Re||ne;if(!(!mt||xe)){Oe(!0),Le([]),Pe(!1);try{const Dt=at.length>0?at:mt.dayBills||[],It=mt.order_id||mt.id||X;if(Dt.length===0){console.warn("No dayBills found in order for auto-printing:",mt),Oe(!1);return}console.log(` Attempting to print ${Dt.length} bills for order #${It}`);const tr=[];for(const Xt of Dt){if(!Xt||!Xt.id)continue;let cr=!1,Nt="";try{await qt.post(`/orders/${It}/bills/${Xt.id}/print`),cr=!0}catch{console.warn(`Admin print failed for ${Xt.id}, trying V2...`);try{await qt.post(`/orders/${It}/bills/${Xt.id}/print`),cr=!0}catch(Lr){Nt=((Ot=(pt=Lr.response)==null?void 0:pt.data)==null?void 0:Ot.error)||Lr.message}}tr.push({billId:Xt.id,success:cr,error:Nt})}Le(tr),tr.some(Xt=>!Xt.success)&&Pe(!0)}catch(Dt){console.error("Admin print process failed:",Dt)}finally{Oe(!1)}}},Cr=async Re=>{var pt,Ot,Dt,It,tr;const mt=(ne==null?void 0:ne.id)||(ne==null?void 0:ne.order_id)||X;if(!(!mt||!Re||xe)){Oe(!0);try{console.log(` Manual print trigger for Bill #${Re} (Order #${mt})`);const cr=(pt=(await qt.post(`/orders/${mt}/bills/${Re}/print`)).data)==null?void 0:pt.jobId;Le(Nt=>Nt.map(mr=>mr.billId===Re?{...mr,success:!0,error:"",jobId:cr}:mr)),alert(`Print job #${cr||""} queued successfully`)}catch(Xt){console.error("Manual print failed:",Xt);const cr=((Dt=(Ot=Xt.response)==null?void 0:Ot.data)==null?void 0:Dt.message)||((tr=(It=Xt.response)==null?void 0:It.data)==null?void 0:tr.error)||Xt.message;alert(`Print failed: ${cr}`),Le(Nt=>Nt.map(mr=>mr.billId===Re?{...mr,success:!1,error:cr}:mr))}finally{Oe(!1)}}};I.useEffect(()=>{if(window.Razorpay){$(!0);return}const Re=document.createElement("script");Re.src="https://checkout.razorpay.com/v1/checkout.js",Re.async=!0,Re.onload=()=>$(!0),Re.onerror=()=>alert("Failed to load payment gateway. Refresh the page."),document.head.appendChild(Re)},[]),I.useEffect(()=>{console.log(`[AdminCheckout] Payment Status: ${Se}, Order ID: ${X}`)},[Se,X]),I.useEffect(()=>{if(Se==="SUCCESS"&&X&&!ke){const Re=setInterval(()=>{oa(X)},4e3);return()=>clearInterval(Re)}},[Se,X,ke]),I.useEffect(()=>{if(Se==="SUCCESS"){Fe(15);const Re=setInterval(()=>{Fe(pt=>pt<=1?(clearInterval(Re),0):pt-1)},1e3),mt=setTimeout(()=>{console.log(" Auto-closing success modal after 15 seconds"),$r()},15e3);return()=>{clearInterval(Re),clearTimeout(mt)}}},[Se]);const es=async Re=>{if(Re)try{await qt.post(`/orders/${Re}/cancel`)}catch(mt){console.error("Cancel order failed:",mt)}},$r=()=>{N([]),le("IDLE"),H(null),V(null),_("UPI"),z(!1),ge(null),me(!1),Be([]),Le([]),Pe(!1),tt(null),Ht({street:"",city:"",state:"",pincode:"",country:"India"}),Jt(""),Et([new Date().toISOString().split("T")[0]]),Hr("")};I.useEffect(()=>{(async()=>{var mt,pt,Ot;try{const Dt=await qt.get("/items/",{params:{limit:1e3}});y(((mt=Dt.data)==null?void 0:mt.items)||((pt=Dt.data)==null?void 0:pt.products)||[]);const It=await qt.get("/units");let tr=Array.isArray(It.data)?It.data:((Ot=It.data)==null?void 0:Ot.units)||[];(e==null?void 0:e.role)==="unit_admin"&&(e!=null&&e.unit_id)&&(tr=tr.filter(Xt=>Xt.id===e.unit_id),ee(e.unit_id)),se(tr)}catch(Dt){console.error(Dt)}})()},[]);const la=I.useCallback(async()=>{var Re,mt,pt;try{D(!0);const Ot=await qt.get("/items/",{params:{limit:1e3,search:Y}}),Dt=((Re=Ot.data)==null?void 0:Re.items)||((mt=Ot.data)==null?void 0:mt.products)||((pt=Ot.data)==null?void 0:pt.data)||(Array.isArray(Ot.data)?Ot.data:[]);y(Dt)}catch(Ot){console.error(" Error loading products:",Ot)}finally{D(!1)}},[Y]);I.useEffect(()=>{const Re=setTimeout(()=>{la()},500);return()=>clearTimeout(Re)},[la]);const ca=I.useMemo(()=>x.filter(Re=>{if(Re.is_active===!1||Re.is_active===0||Re.is_active==="0"||ue!=="ALL"&&String(Re.unit_id)!==String(ue))return!1;if(Y){const mt=Y.toLowerCase(),pt=(Re.name||"").toLowerCase().includes(mt),Ot=(Re.name_en||"").toLowerCase().includes(mt);if(!pt&&!Ot)return!1}return!0}),[x,Y,ue]),or=Re=>S.filter(mt=>mt.id===Re).reduce((mt,pt)=>mt+(pt.quantity||0),0),Ja=(Re,mt,pt)=>{N(Ot=>{const Dt=Ot.findIndex(Xt=>Xt.id===Re.id&&(pt?Xt.variant_id===pt:!0));if(Dt===-1)return mt>0?[...Ot,{...Re,quantity:mt,variant_id:pt,selectedPrice:Re.price||Re.base_price}]:Ot;const It=[...Ot],tr=It[Dt].quantity+mt;return tr<=0?It.splice(Dt,1):It[Dt]={...It[Dt],quantity:tr},It})},ea=()=>S.reduce((Re,mt)=>Re+Number(mt.selectedPrice||mt.base_price||mt.price||0)*(mt.quantity||0),0),ya=Re=>{const mt=S.find(pt=>pt.id===Re.id);ye(Re),q(mt?mt.quantity:1),Z(!0)},Xr=()=>{var mt,pt;if(!Q)return;const Re=((pt=(mt=Q.variants)==null?void 0:mt[0])==null?void 0:pt.id)||Q.id;N(Ot=>{const Dt=Ot.findIndex(tr=>tr.id===Q.id&&tr.variant_id===Re),It=[...Ot];return Dt!==-1?ie<=0?It.splice(Dt,1):It[Dt]={...It[Dt],quantity:ie}:ie>0&&It.push({...Q,quantity:ie,variant_id:Re,selectedPrice:Q.price||Q.base_price}),It}),Z(!1),ye(null)};return T&&x.length===0?u.jsx(ui,{children:u.jsx(Vs,{})}):u.jsxs(u.Fragment,{children:[Ne&&Q&&u.jsx("div",{className:"fixed inset-0 z-[99999] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:u.jsx("div",{className:"bg-[var(--surface-card)] w-full max-w-md rounded-[2rem] shadow-2xl border border-[var(--border-default)] overflow-hidden animate-in fade-in zoom-in duration-200 max-h-[95vh] flex flex-col",children:u.jsxs("div",{className:"p-4 sm:p-6 overflow-y-auto custom-scrollbar flex-1",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)]",children:"Item selection"}),u.jsx("button",{onClick:()=>Z(!1),className:"p-2 hover:bg-[var(--surface-muted)] rounded-full transition-colors",children:u.jsx(oS,{size:24,className:"text-[var(--text-secondary)]"})})]}),u.jsxs("div",{className:"flex flex-col items-center mb-8",children:[u.jsx("div",{className:"w-32 h-32 rounded-2xl bg-[var(--surface-muted)] overflow-hidden mb-4 border border-[var(--border-default)]",children:u.jsx("img",{src:(()=>{var mt,pt;const Re=((pt=(mt=Q.images)==null?void 0:mt[0])==null?void 0:pt.url)||Q.image||Q.image_path;return Re?Re.startsWith("http")||Re.startsWith("blob:")?Re:`${$i}${Re.startsWith("/")?"":"/"}${Re}`:ro})(),className:"w-full h-full object-contain p-2",onError:Re=>Re.target.src=ro})}),u.jsx("h4",{className:"text-lg font-bold text-[var(--text-primary)] text-center capitalize mb-1",children:Q.name_en||Q.name}),u.jsxs("p",{className:"text-[var(--brand-primary)] font-black text-xl",children:["",parseFloat(Q.price||Q.base_price||0).toFixed(2)]})]}),u.jsxs("div",{className:"bg-[var(--surface-muted)]/30 rounded-2xl p-6 mb-8 border border-[var(--border-default)]",children:[u.jsx("p",{className:"text-center text-xs font-bold uppercase tracking-widest text-[var(--text-secondary)] mb-4",children:"Select Quantity"}),u.jsxs("div",{className:"flex items-center justify-center gap-8",children:[u.jsx("button",{onClick:()=>q(Math.max(0,ie-1)),className:"w-12 h-12 rounded-full bg-[var(--surface-card)] border border-[var(--border-default)] flex items-center justify-center text-[var(--text-primary)] hover:border-[var(--brand-primary)] hover:text-[var(--brand-primary)] transition-all active:scale-90",children:u.jsx(Mm,{size:14})}),u.jsx("span",{className:"text-4xl font-black text-[var(--text-primary)] w-12 text-center",children:ie}),u.jsx("button",{onClick:()=>q(ie+1),className:"w-12 h-12 rounded-full bg-[var(--brand-primary)] text-white flex items-center justify-center shadow-lg shadow-[var(--brand-primary)]/20 hover:scale-110 transition-all active:scale-90",children:u.jsx(Oc,{size:14})})]})]}),u.jsx("button",{onClick:Xr,className:"w-full py-4 rounded-2xl bg-black dark:bg-white text-white dark:text-black font-black text-sm uppercase tracking-widest shadow-xl hover:scale-[1.02] active:scale-95 transition-all",children:ie===0?"Remove Order":"order Now"})]})})}),Se==="SUCCESS"&&u.jsx("div",{className:"fixed inset-0 z-[99999] bg-[var(--surface-main)] flex items-start sm:items-center justify-center p-0 sm:p-6 overflow-y-auto",children:u.jsx("div",{className:"w-full sm:max-w-4xl bg-[var(--surface-card)] sm:rounded-[2.5rem] shadow-none sm:shadow-[0_32px_64px_-12px_rgba(0,0,0,0.1)] border-0 sm:border border-[var(--border-default)] overflow-hidden animate-in zoom-in duration-500 min-h-screen sm:min-h-0",children:u.jsxs("div",{className:"flex flex-col md:flex-row h-full",children:[u.jsxs("div",{className:"flex-1 p-6 sm:p-12 flex flex-col items-center justify-center text-center border-b md:border-b-0 md:border-r border-[var(--border-default)] bg-gradient-to-b from-emerald-500/5 to-transparent",children:[u.jsx("img",{src:Xj,alt:"Success",className:"h-32 sm:h-56 mx-auto mb-6 sm:mb-8 drop-shadow-2xl"}),u.jsx("h1",{className:"text-2xl sm:text-4xl font-black text-emerald-600 mb-2 sm:mb-4 tracking-tight",children:"Payment Successful!"}),u.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-500/10 text-emerald-600 rounded-full border border-emerald-500/20 text-xs font-bold uppercase tracking-widest mb-8",children:[u.jsx(hf,{})," Transaction Verified"]}),u.jsxs("div",{className:"w-full space-y-3 bg-[var(--surface-muted)]/30 p-6 rounded-2xl border border-[var(--border-default)]",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsx("span",{className:"opacity-60 font-medium",children:"Order Reference:"}),u.jsxs("span",{className:"font-bold text-emerald-600 uppercase",children:["#",X]})]}),at&&at.length>0&&u.jsxs("div",{className:"border-t border-[var(--border-default)] pt-3 space-y-2",children:[u.jsxs("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-40",children:["Bills Generated (",at.length," days)"]}),at.map((Re,mt)=>u.jsxs("div",{className:"flex justify-between items-center text-xs bg-[var(--surface-card)] p-2 rounded-lg border border-[var(--border-default)] hover:border-[var(--brand-primary)]/30 transition-all group",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-[var(--surface-muted)] flex items-center justify-center text-[var(--text-secondary)]",children:u.jsx(od,{size:12})}),u.jsxs("div",{children:[u.jsxs("span",{className:"font-bold opacity-80 block",children:["Bill #",Re.id]}),u.jsx("span",{className:"text-[10px] opacity-60",children:Re.bill_date})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"font-bold",children:["",parseFloat(Re.amount||0).toFixed(2)]}),u.jsx("button",{onClick:()=>Cr(Re.id),disabled:xe,className:"p-2 rounded-xl bg-[var(--brand-primary)]/10 text-[var(--brand-primary)] hover:bg-[var(--brand-primary)] hover:text-white transition-all shadow-sm active:scale-90 disabled:opacity-50",title:"Print this bill",children:u.jsx(od,{size:14})})]})]},Re.id||mt))]}),u.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t border-[var(--border-default)]",children:[u.jsx("span",{className:"opacity-60 font-medium",children:"Total Amount:"}),u.jsxs("span",{className:"text-2xl font-black text-[var(--text-primary)]",children:["",ea().toFixed(2)]})]})]}),at&&at.length>0&&u.jsxs("div",{className:"w-full mt-6",children:[u.jsxs("div",{className:"p-5 rounded-2xl border border-[var(--border-default)] text-left bg-white dark:bg-black/10",children:[u.jsxs("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-30 mb-4 pl-1 flex items-center gap-2",children:[u.jsx(od,{size:12})," Print Status Report"]}),xe?u.jsxs("div",{className:"flex items-center gap-3 py-2",children:[u.jsx(io,{className:"animate-spin text-amber-500"}),u.jsx("span",{className:"text-xs font-bold text-slate-400 animate-pulse uppercase tracking-widest",children:"Printer working..."})]}):oe.length>0?u.jsx("div",{className:"space-y-3",children:oe.map((Re,mt)=>u.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(od,{className:Re.success?"text-emerald-500":"text-rose-400"}),u.jsxs("span",{className:"font-medium opacity-80 uppercase tracking-tight",children:["Bill #",Re.billId||"N/A"]})]}),u.jsx("span",{className:`font-black tracking-tighter ${Re.success?"text-emerald-500":"text-rose-500"}`,children:Re.success?" SENT":" FAILED"})]},mt))}):u.jsx("p",{className:"text-[10px] font-bold text-slate-400 italic",children:"Auto-print process pending..."})]}),Ge&&u.jsxs("div",{className:"mt-4 p-3 rounded-xl bg-rose-50 border border-rose-100 text-rose-600 flex items-center gap-2 animate-bounce",children:[u.jsx(oS,{}),u.jsx("span",{className:"text-[10px] font-black uppercase",children:"Printing issues detected!"})]})]})]}),u.jsxs("div",{id:"printable-bill",className:"flex-1 p-8 sm:p-12 flex flex-col bg-[var(--surface-card)]",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("h2",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-40 mb-4 flex items-center gap-2",children:[u.jsx(t1,{})," Items Breakdown"]}),u.jsx("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 no-scrollbar",children:S.map((Re,mt)=>u.jsxs("div",{className:"flex justify-between items-center border-b border-[var(--border-default)]/50 pb-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-bold text-sm text-[var(--text-primary)]",children:Re.name_en||Re.name}),u.jsxs("p",{className:"text-[10px] text-[var(--text-secondary)] font-bold",children:["Qty: ",Re.quantity]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-black text-sm",children:["",((Re.selectedPrice||Re.price||0)*(Re.quantity||1)).toFixed(2)]}),u.jsxs("p",{className:"text-[10px] font-bold opacity-30",children:[Re.quantity," x ",Re.selectedPrice||Re.price]})]})]},mt))})]}),u.jsxs("div",{className:"mt-auto flex flex-col items-center p-6 bg-[var(--surface-muted)]/20 rounded-3xl border border-[var(--border-default)] relative group",children:[u.jsx("div",{className:"absolute inset-0 bg-[var(--brand-primary)]/5 opacity-0 group-hover:opacity-100 transition-opacity rounded-3xl"}),ve&&!ae?u.jsxs("div",{className:"w-32 h-32 flex flex-col items-center justify-center animate-pulse gap-2",children:[u.jsx(io,{className:"animate-spin text-[var(--brand-primary)]"}),u.jsx("p",{className:"text-[8px] font-black opacity-40 uppercase",children:"Checking QR..."})]}):ke?u.jsxs("div",{className:"w-32 h-32 flex flex-col items-center justify-center text-rose-500 text-center",children:[u.jsx(hf,{size:32,className:"mb-2"}),u.jsx("p",{className:"text-[10px] font-black uppercase",children:"QR USED"})]}):ae?u.jsx("div",{className:"bg-white p-2 rounded-xl border border-slate-100 shadow-lg",children:u.jsx("img",{src:ae,alt:"QR",className:"w-32 h-32 object-contain"})}):u.jsx("div",{className:"w-32 h-32 flex items-center justify-center border-2 border-dashed border-slate-200 rounded-xl",children:u.jsx("p",{className:"text-[8px] opacity-40 font-bold uppercase",children:"QR Unavailable"})}),u.jsx("p",{className:"mt-4 text-[10px] font-black text-[var(--brand-primary)] uppercase tracking-widest",children:"Show for verification"})]}),u.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[u.jsxs("button",{onClick:$r,className:"flex items-center justify-center gap-2 px-6 py-4 bg-black text-white dark:bg-white dark:text-black rounded-2xl font-black text-sm shadow-2xl hover:scale-[1.02] active:scale-95 transition-all sm:col-span-2",children:[u.jsx(oB,{})," NEW ORDER (",Ze,"s)"]}),u.jsxs("button",{onClick:()=>xr(),disabled:xe,className:"flex items-center justify-center gap-2 px-6 py-4 bg-[var(--surface-muted)] text-[var(--text-primary)] rounded-2xl font-black text-xs border border-[var(--border-default)] hover:bg-[var(--surface-card)] transition-all disabled:opacity-50",children:[u.jsx(od,{})," ",xe?"PRINTING...":"THERMAL"]}),u.jsxs("button",{onClick:()=>window.print(),className:"flex items-center justify-center gap-2 px-6 py-4 bg-blue-500/10 text-blue-500 rounded-2xl font-black text-xs border border-blue-500/20 hover:bg-blue-500 hover:text-white transition-all shadow-lg",children:[u.jsx(od,{})," SYSTEM"]})]})]})]})})}),u.jsx(ui,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4 sm:mb-8 animate-slide-up opacity-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-1.5 h-8 bg-[var(--brand-primary)] rounded-full shadow-[0_0_15px_rgba(249,115,22,0.4)]"}),u.jsx("h1",{className:"text-xl sm:text-2xl font-black tracking-tight text-[var(--text-primary)]",children:"Orders".split("").map((Re,mt)=>u.jsx("span",{className:"animate-letter-pop",style:{animationDelay:`${300+(Re===" "?0:mt*50)}ms`},children:Re===" "?"":Re},mt))})]}),u.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-6 py-3 bg-[var(--surface-card)] hover:bg-[var(--surface-muted)] text-[var(--text-primary)] rounded-2xl font-bold text-sm shadow-sm border border-[var(--border-default)] transition-all hover:scale-105 active:scale-95",children:[u.jsx(xm,{size:18,className:"text-[var(--brand-primary)]"}),u.jsx("span",{children:"SCAN QR"})]})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[u.jsx("div",{className:"flex-1 space-y-8 min-w-0",children:u.jsxs("div",{className:"p-4 sm:p-6 rounded-2xl border bg-[var(--surface-card)] border-[var(--border-default)] shadow-lg overflow-hidden",children:[u.jsx("div",{className:"mb-6 border-b border-[var(--border-default)] pb-6",children:u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("div",{className:"text-[var(--brand-primary)] font-bold text-lg uppercase tracking-wider",children:"ALL ITEMS"})})}),u.jsx("div",{style:{animationDelay:"100ms"},className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6 animate-slide-up opacity-0",children:u.jsxs("div",{className:"relative w-full sm:w-64 group",children:[u.jsx("input",{type:"text",placeholder:"Search items...",value:Y,onChange:Re=>W(Re.target.value),className:"w-full px-12 py-3 text-sm text-center rounded-xl border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--brand-primary)]/30 focus:border-[var(--brand-primary)] transition-all placeholder:text-[var(--text-secondary)]/50"}),u.jsx(wd,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] group-focus-within:text-[var(--brand-primary)] transition-colors",size:18})]})}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-2 sm:gap-4 max-h-[60vh] sm:max-h-[600px] overflow-y-auto pr-2 no-scrollbar",children:Array.isArray(ca)&&ca.map(Re=>{const mt=or(Re.id);return u.jsxs("div",{className:`group p-3 rounded-2xl border-2 transition-all relative overflow-hidden flex flex-col ${mt>0?"border-[var(--brand-primary)] bg-[var(--brand-primary)]/5":"border-[var(--border-default)] hover:border-[var(--brand-primary)]/50 bg-[var(--surface-main)]"}`,children:[u.jsxs("div",{onClick:()=>ya(Re),className:"cursor-pointer",children:[u.jsx("div",{className:"aspect-[4/3] rounded-xl overflow-hidden mb-3 bg-[var(--surface-muted)]",children:u.jsx("img",{src:(()=>{var Ot,Dt;const pt=((Dt=(Ot=Re.images)==null?void 0:Ot[0])==null?void 0:Dt.url)||Re.image||Re.image_path;return pt?pt.startsWith("http")||pt.startsWith("blob:")?pt:`${$i}${pt.startsWith("/")?"":"/"}${pt}`:ro})(),className:"w-full h-full object-contain transition-transform group-hover:scale-110 p-1",onError:pt=>pt.target.src=ro})}),u.jsxs("div",{className:"text-left mb-3",children:[u.jsx("div",{className:"font-medium text-sm truncate text-[var(--text-primary)] capitalize",children:Re.name_en||Re.name}),u.jsxs("div",{className:"text-xs font-semibold text-[var(--brand-primary)] mt-1",children:["",parseFloat(Re.price||Re.base_price||0).toFixed(2)]})]})]}),u.jsxs("div",{className:"mt-auto flex items-center justify-between gap-2",children:[u.jsx("button",{onClick:pt=>{var Ot,Dt;pt.stopPropagation(),Ja(Re,-1,((Dt=(Ot=Re.variants)==null?void 0:Ot[0])==null?void 0:Dt.id)||Re.id)},className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-[var(--surface-muted)] flex items-center justify-center text-[var(--text-primary)] transition-all active:scale-95 hover:bg-rose-500 hover:text-white",children:u.jsx(Mm,{className:"text-base sm:text-lg"})}),u.jsx("span",{className:`text-xl font-black min-w-[24px] text-center ${mt>0?"text-[var(--brand-primary)]":"text-[var(--text-secondary)] opacity-50"}`,children:mt}),u.jsx("button",{onClick:pt=>{var Ot,Dt;pt.stopPropagation(),Ja(Re,1,((Dt=(Ot=Re.variants)==null?void 0:Ot[0])==null?void 0:Dt.id)||Re.id)},className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-[var(--brand-primary)] flex items-center justify-center text-white transition-all active:scale-95 shadow-lg shadow-[var(--brand-primary)]/20",children:u.jsx(Oc,{className:"text-base sm:text-lg"})})]})]},Re.id)})})]})}),u.jsxs("div",{ref:rt,className:"w-full lg:w-[380px] space-y-6 lg:sticky lg:top-8 h-fit",children:[u.jsxs("div",{className:"p-4 sm:p-6 rounded-2xl border bg-[var(--surface-card)] border-[var(--border-default)] shadow-xl relative",children:[u.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[var(--brand-primary)]/5 rounded-full -mr-16 -mt-16 blur-3xl"}),u.jsx("h2",{className:"text-xl font-medium mb-8 text-[var(--text-primary)] flex justify-between items-center px-1",children:"Order Summary"}),u.jsxs("div",{className:"mb-8 space-y-4",children:[u.jsx("div",{className:"flex justify-between items-center px-1",children:u.jsx("label",{className:"text-xs font-bold text-[var(--brand-primary)] uppercase tracking-wider flex items-center gap-2",children:"Employee Code"})}),u.jsxs("div",{className:"relative group",children:[u.jsx("input",{type:"text",value:Yt,onChange:Re=>Jt(Re.target.value),placeholder:"Enter employee code...",className:"w-full px-12 py-3 rounded-xl border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--brand-primary)]/20 focus:border-[var(--brand-primary)] text-sm font-medium transition-all shadow-inner text-center placeholder:text-[var(--text-secondary)]/50"}),u.jsx(pf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] group-focus-within:text-[var(--brand-primary)] transition-colors",size:18}),Ri&&u.jsx(io,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--brand-primary)] animate-spin",size:16})]}),(Ut==null?void 0:Ut.division_unit)&&!Ri&&u.jsxs("div",{className:"mx-1 p-3 rounded-xl bg-[var(--brand-primary)]/5 border border-[var(--brand-primary)]/10 animate-in fade-in slide-in-from-top-1 duration-300",children:[u.jsx("p",{className:"text-[10px] font-bold text-[var(--brand-primary)] uppercase tracking-widest mb-1",children:"Unit"}),u.jsx("p",{className:"text-xs text-[var(--text-primary)] font-black leading-relaxed uppercase",children:Ut.division_unit})]})]}),u.jsxs("div",{className:"mb-6 space-y-3",children:[u.jsx("div",{className:"flex justify-between items-center px-1",children:u.jsx("label",{className:"text-xs font-bold text-[var(--brand-primary)] uppercase tracking-wider flex items-center gap-2",children:"Dates"})}),u.jsxs("div",{className:"bg-[var(--surface-main)] rounded-2xl p-4 border border-[var(--border-default)] shadow-sm transition-colors duration-200",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("button",{onClick:()=>Qt(new Date(er.setMonth(er.getMonth()-1))),className:"p-1 text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--surface-muted)] rounded-lg transition-colors",children:u.jsx(Kl,{className:"text-lg"})}),u.jsx("div",{className:"flex flex-col items-center",children:u.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:er.toLocaleDateString("en-US",{month:"long",year:"numeric"})})}),u.jsx("button",{onClick:()=>Qt(new Date(er.setMonth(er.getMonth()+1))),className:"p-1 text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--surface-muted)] rounded-lg transition-colors",children:u.jsx(Zl,{className:"text-lg"})})]}),u.jsx("div",{className:"flex justify-center mb-4",children:u.jsxs("label",{className:"flex items-center gap-2 text-xs text-[var(--text-secondary)] cursor-pointer hover:text-[var(--brand-primary)]",children:[u.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[var(--brand-primary)] focus:ring-[var(--brand-primary)]",checked:(()=>{const Re=er.getFullYear(),mt=er.getMonth(),pt=new Date(Re,mt+1,0).getDate();let Ot=0,Dt=0;for(let It=1;It<=pt;It++){const tr=new Date(Re,mt,It);if(!Pn(tr)){Ot++;const Xt=zt(tr);Vt.includes(Xt)&&Dt++}}return Ot>0&&Ot===Dt})(),onChange:Re=>{const mt=er.getFullYear(),pt=er.getMonth(),Ot=new Date(mt,pt+1,0).getDate();if(Re.target.checked){const Dt=new Set(Vt);for(let It=1;It<=Ot;It++){const tr=new Date(mt,pt,It);Pn(tr)||Dt.add(zt(tr))}Et(Array.from(Dt))}else{const Dt=[];for(let It=1;It<=Ot;It++)Dt.push(zt(new Date(mt,pt,It)));Et(Vt.filter(It=>!Dt.includes(It)))}}}),u.jsx("span",{children:"Select all"})]})}),u.jsx("div",{className:"grid grid-cols-7 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(Re=>u.jsx("div",{className:"text-center text-[11px] font-semibold text-[var(--text-secondary)] py-1",children:Re},Re))}),u.jsx("div",{className:"grid grid-cols-7 gap-1",children:(()=>{const Re=er.getFullYear(),mt=er.getMonth(),pt=new Date(Re,mt,1).getDay(),Ot=new Date(Re,mt+1,0).getDate(),Dt=[];for(let It=0;It<pt;It++)Dt.push(u.jsx("div",{className:"h-10 sm:h-8"},`empty-${It}`));for(let It=1;It<=Ot;It++){const tr=new Date(Re,mt,It),Xt=zt(tr),cr=Pn(tr),Nt=Vt.includes(Xt),mr=Xt===zt(new Date);Dt.push(u.jsx("button",{disabled:cr,onClick:()=>{cr||Et(Nt?Vt.filter(Lr=>Lr!==Xt):[...Vt,Xt])},className:`h-10 sm:h-8 rounded-lg text-xs font-bold transition-all flex items-center justify-center ${Nt?"bg-[var(--brand-primary)] text-white shadow-md":mr&&!cr?"text-[var(--brand-primary)] font-bold bg-[var(--brand-primary)]/10":cr?"text-[var(--text-secondary)] opacity-30 cursor-not-allowed bg-[var(--surface-muted)]/50":"text-[var(--text-primary)] hover:bg-[var(--surface-muted)]"}`,children:It},It))}return Dt})()}),u.jsxs("div",{className:"mt-4 pt-3 border-t border-[var(--border-default)] flex justify-between items-center bg-[var(--surface-muted)]/10 -mx-4 px-4 py-2 sm:mx-0 sm:rounded-xl",children:[u.jsx("span",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Total days"}),u.jsx("span",{className:"text-lg font-black text-[var(--brand-primary)]",children:Vt.length})]})]})]}),u.jsx("div",{className:"space-y-4 mb-8 max-h-[250px] overflow-y-auto no-scrollbar pr-2",children:S.length===0?u.jsx("p",{className:"text-center text-[var(--text-secondary)] text-sm py-4",children:"No products selected"}):S.map((Re,mt)=>u.jsxs("div",{className:"flex justify-between items-start text-sm p-3 rounded-2xl bg-[var(--surface-main)] border border-transparent hover:border-[var(--brand-primary)]/20 transition-all",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-bold truncate text-[var(--text-primary)] capitalize mb-1",children:Re.name_en||Re.name}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("span",{className:"text-[9px] font-black bg-[var(--brand-primary)] text-white px-2 py-0.5 rounded-md uppercase tracking-tighter",children:["QTY ",Re.quantity]})})]}),u.jsxs("div",{className:"text-right ml-4",children:[u.jsxs("p",{className:"font-black text-[var(--text-primary)]",children:["",(Number(Re.selectedPrice||Re.base_price||Re.price||0)*Re.quantity).toFixed(2)]}),u.jsxs("p",{className:"text-[10px] text-[var(--text-secondary)]",children:["",Number(Re.selectedPrice||Re.base_price||Re.price||0).toFixed(2)," / ea"]})]})]},`${Re.id}-${mt}`))}),u.jsxs("div",{className:"space-y-2 border-t border-[var(--border-default)] pt-4 mb-6",children:[u.jsxs("div",{className:"flex justify-between items-center text-[var(--text-secondary)]",children:[u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Total Items"}),u.jsx("span",{className:"font-black text-sm",children:S.reduce((Re,mt)=>Re+(mt.quantity||0),0)})]}),u.jsxs("div",{className:"flex justify-between items-end",children:[u.jsx("span",{className:"text-xs font-medium text-[var(--text-secondary)] tracking-widest uppercase",children:"Grand Total"}),u.jsxs("span",{className:"text-2xl sm:text-3xl font-semibold text-[var(--brand-primary)]",children:["",ea().toFixed(2)]})]})]}),u.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-2 block",children:"Payment Mode"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[u.jsx("button",{onClick:()=>_("UPI"),className:`p-2 rounded-xl border-2 font-semibold text-[10px] sm:text-xs transition-all ${j==="UPI"?"bg-[var(--brand-primary)] text-white border-[var(--brand-primary)] shadow-lg shadow-[var(--brand-primary)]/20":"border-[var(--border-default)] text-[var(--text-secondary)] hover:border-[var(--brand-primary)]/50"}`,children:"UPI"}),u.jsx("button",{onClick:()=>_("FREE"),className:`p-2 rounded-xl border-2 font-semibold text-[10px] sm:text-xs transition-all ${j==="FREE"?"bg-[var(--brand-primary)] text-white border-[var(--brand-primary)] shadow-lg shadow-[var(--brand-primary)]/20":"border-[var(--border-default)] text-[var(--text-secondary)] hover:border-[var(--brand-primary)]/50"}`,children:"FREE MEALS"}),u.jsx("button",{onClick:()=>_("GUEST"),className:`p-2 rounded-xl border-2 font-semibold text-[10px] sm:text-xs transition-all ${j==="GUEST"?"bg-[var(--brand-primary)] text-white border-[var(--brand-primary)] shadow-lg shadow-[var(--brand-primary)]/20":"border-[var(--border-default)] text-[var(--text-secondary)] hover:border-[var(--brand-primary)]/50"}`,children:"GUEST"})]}),(j==="FREE"||j==="GUEST")&&u.jsxs("div",{className:"mb-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[u.jsxs("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-2 block",children:["Reference  ",u.jsx("span",{className:"text-rose-500",children:"*"})]}),u.jsx("textarea",{value:Jr,onChange:Re=>Hr(Re.target.value),placeholder:`Enter ${j==="FREE"?"Free Meal":"Guest"} details...`,className:"w-full px-4 py-3 rounded-xl border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--brand-primary)]/20 focus:border-[var(--brand-primary)] min-h-[80px] text-sm font-medium resize-none transition-all placeholder:text-[var(--text-secondary)]/50"})]})]}),u.jsx("div",{className:"mt-6",children:Se!=="SUCCESS"&&u.jsxs(u.Fragment,{children:[Se==="FAILED"&&u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 text-center mb-4 text-sm text-red-600 flex items-center justify-center gap-2",children:[u.jsx(VR,{})," Payment Failed or Cancelled. Please try again."]}),u.jsx("button",{onClick:cn,disabled:R||S.length===0||Vt.length===0,className:`w-full py-4 rounded-xl text-lg font-semibold tracking-tight transition-all active:scale-95 shadow-xl ${R||S.length===0||Vt.length===0?"opacity-50 cursor-not-allowed bg-[var(--surface-muted)] text-[var(--text-secondary)]":"bg-gradient-to-br from-[var(--brand-primary)] to-[#ea580c] text-white border border-transparent hover:from-white hover:to-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] hover:translate-y-[-2px] hover:shadow-[var(--brand-primary)]/20"}`,children:R?"Processing...":Se==="FAILED"?"Retry Payment":"Create & Print Bill"})]})}),u.jsx("p",{className:"text-[10px] text-center mt-4 text-[var(--text-secondary)] font-medium",children:Se==="SUCCESS"?"Order marked as PAID in admin records.":"Admin order will be automatically logged and printed."})]})]})]})}),r&&u.jsx(gie,{onScan:m,onClose:()=>n(!1),onError:Re=>console.warn(Re)}),(a||c)&&u.jsx("div",{className:"fixed inset-0 z-[250] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",onClick:p,children:u.jsxs("div",{className:"bg-[var(--surface-card)] w-full max-w-sm rounded-[2.5rem] p-8 text-center shadow-2xl animate-in zoom-in duration-300 relative border border-[var(--border-default)]",onClick:Re=>Re.stopPropagation(),children:[u.jsx("button",{onClick:p,className:"absolute top-4 right-4 p-2 rounded-full bg-[var(--surface-muted)] text-[var(--text-secondary)] hover:bg-[var(--surface-main)]",children:u.jsx(Jo,{size:20})}),a?u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-emerald-500/10 flex items-center justify-center text-emerald-500 mb-2",children:u.jsx(bd,{size:40})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-black text-emerald-500 mb-1",children:"VERIFIED!"}),u.jsx("p",{className:"text-[var(--text-secondary)] font-medium text-sm",children:"Order has been successfully verified."})]}),u.jsxs("div",{className:"w-full bg-[var(--surface-muted)] rounded-2xl p-4 text-left border border-[var(--border-default)] mt-2",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-[10px] font-black uppercase text-[var(--text-secondary)] tracking-widest",children:"Order ID"}),u.jsxs("span",{className:"font-mono font-bold text-[var(--text-primary)]",children:["#",((je=a.order)==null?void 0:je.code)||((jt=a.order)==null?void 0:jt.id)]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-[10px] font-black uppercase text-[var(--text-secondary)] tracking-widest",children:"Customer"}),u.jsx("span",{className:"font-bold text-[var(--text-primary)] text-sm",children:((et=a.order)==null?void 0:et.customer_name)||((Ft=(bt=a.order)==null?void 0:bt.customer)==null?void 0:Ft.username)||"Guest"})]})]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-red-500/10 flex items-center justify-center text-red-500 mb-2",children:u.jsx(Jo,{size:40})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-black text-red-500 mb-1",children:"FAILED"}),u.jsx("p",{className:"text-[var(--text-secondary)] font-medium text-sm",children:"Verification failed."})]}),u.jsx("p",{className:"text-xs font-mono bg-red-500/5 text-red-600 p-3 rounded-xl w-full break-all border border-red-500/10",children:c})]}),u.jsx("button",{onClick:p,className:"w-full mt-6 py-4 rounded-xl bg-[var(--brand-primary)] text-[var(--text-inverse)] font-bold uppercase tracking-widest shadow-lg active:scale-95 transition-transform",children:a?"Done":"Try Again"})]})})]})},vie=()=>{const{isDark:e}=bi(),t=new Date,r=de=>{const ke=new Date(de);return`${ke.getFullYear()}-${String(ke.getMonth()+1).padStart(2,"0")}-${String(ke.getDate()).padStart(2,"0")}`},n=de=>de?de.startsWith("data:")||de.startsWith("http")?de:`${$i}${de.startsWith("/")?"":"/"}${de}`:null,[a,i]=I.useState(r(new Date(t.getFullYear(),t.getMonth(),1))),[c,f]=I.useState([]),[m,p]=I.useState(0),[x,y]=I.useState(!1),[S,N]=I.useState(!1),[j,_]=I.useState([]),[T,D]=I.useState([]),[R,z]=I.useState("All"),[G,$]=I.useState({}),[X,V]=I.useState({});I.useEffect(()=>{p(0),$({}),V({})},[a]),I.useEffect(()=>{$({}),V({})},[m]);const[Y,W]=I.useState(t.getMonth()),[Ne,Z]=I.useState(t.getFullYear()),Q=["January","February","March","April","May","June","July","August","September","October","November","December"],ye=Array.from({length:10},(de,ke)=>t.getFullYear()-2+ke),ie=[{id:"breakfast",label:"Breakfast",time:"08:00 AM",icon:u.jsx(rB,{}),color:"amber"},{id:"snack1",label:"Mid-Day Snack",time:"11:00 AM",icon:u.jsx(Uj,{}),color:"emerald"},{id:"lunch",label:"Lunch",time:"01:30 PM",icon:u.jsx(Yj,{}),color:"orange"},{id:"snack2",label:"Evening Snack",time:"05:00 PM",icon:u.jsx(tB,{}),color:"blue"},{id:"dinner",label:"Dinner",time:"08:30 PM",icon:u.jsx(Vj,{}),color:"indigo"}],[q,te]=I.useState({}),se=async()=>{var de,ke;try{const me=await qt.get("/items/",{params:{limit:1e3}});_(((de=me.data)==null?void 0:de.items)||[]);const xe=["All",...new Set((((ke=me.data)==null?void 0:ke.items)||[]).map(Oe=>Oe.category||"General"))];D(xe)}catch(me){console.error("Error fetching items:",me)}},ue=async()=>{y(!0);try{const de=await qt.get(`/menu/month?year=${Ne}&month=${Y+1}`);let ke=[];if(Array.isArray(de.data)?ke=de.data:ke=de.data.plans||de.data.plan||[],ke.length>0||de.data&&de.data.success){const me={};let xe=null;if(ke.length>0&&(ke[0].breakfast||ke[0].Breakfast||ke[0].lunch))ke.forEach((oe,Le)=>{const Ge=oe.day_index!==void 0?parseInt(oe.day_index):Le;oe.date&&Ge===0&&(xe=oe.date);const Pe=oe.date||Ge;me[Pe]={breakfast:oe.breakfast||oe.Breakfast||"",snack1:oe.snack1||oe.Snack1||"",lunch:oe.lunch||oe.Lunch||"",snack2:oe.snack2||oe.Snack2||"",dinner:oe.dinner||oe.Dinner||"",images:{breakfast:oe.breakfast_image||oe.Breakfast_image||oe.Breakfast_Image||null,snack1:oe.snack1_image||oe.Snack1_image||oe.Snack1_Image||null,lunch:oe.lunch_image||oe.Lunch_image||oe.Lunch_Image||null,snack2:oe.snack2_image||oe.Snack2_image||oe.Snack2_Image||null,dinner:oe.dinner_image||oe.Dinner_image||oe.Dinner_Image||null}}});else{const oe=[...ke].sort((Ge,Pe)=>(Ge.id||0)-(Pe.id||0)),Le=[...new Set(oe.map(Ge=>Ge.date))].sort();Le[0]&&(xe=Le[0]),oe.forEach(Ge=>{var tt,at,Be;const Pe=Ge.date;me[Pe]||(me[Pe]={breakfast:"",snack1:"",lunch:"",snack2:"",dinner:"",images:{breakfast:null,snack1:null,lunch:null,snack2:null,dinner:null}});let ne=(Ge.meal_type||"").toLowerCase();if(ne==="snack"&&(me[Pe].snack1?ne="snack2":ne="snack1"),["breakfast","snack1","lunch","snack2","dinner"].includes(ne)){const Ze=Ge.item_id||((tt=Ge.item)==null?void 0:tt.id)||"",Fe=((at=Ge.item)==null?void 0:at.name_en)||Ge.item_name||"";me[Pe][ne]=Ze,Ze&&Fe&&_(rt=>rt.find(At=>At.id===Ze)?rt:[...rt,{id:Ze,name_en:Fe,category:"General",price:0}]),me[Pe].images[ne]=Ge.image_url||Ge.image||((Be=Ge.item)==null?void 0:Be.image_path)||null}})}if(xe){i(xe);const oe=new Date(xe);W(oe.getMonth()),Z(oe.getFullYear())}te(me)}else te({})}catch(de){console.error("Failed to fetch meal plan:",de)}finally{y(!1)}};I.useEffect(()=>{ue(),se()},[Y,Ne]);const ee=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];I.useEffect(()=>{const de=[],ke=new Date(a);let me=0,xe=0;for(;me<30;){const Oe=new Date(ke);Oe.setDate(ke.getDate()+xe);const oe=Oe.getDay();if(oe!==0){const Le=`${Oe.getFullYear()}-${String(Oe.getMonth()+1).padStart(2,"0")}-${String(Oe.getDate()).padStart(2,"0")}`;de.push({date:Le,day:ee[oe],dayNum:me+1,meals:q[Le]||q[me]}),me++}if(xe++,xe>100)break}f(de)},[a,q]);const Se=(de,ke,me)=>{if(!me)return;const xe=c[de];if(!xe)return;const Oe=xe.date,oe=new FileReader;oe.onloadend=()=>{te(Le=>{const Ge=Le[Oe]||{images:{}};return{...Le,[Oe]:{...Ge,images:{...Ge.images||{},[ke]:oe.result}}}})},oe.readAsDataURL(me)},le=(de,ke)=>{const me=c[de];if(!me)return;const xe=me.date;te(Oe=>{const oe=Oe[xe]||{images:{}};return{...Oe,[xe]:{...oe,images:{...oe.images||{},[ke]:null}}}})},U=de=>{const ke=de.target.files[0];if(!ke)return;const me=new FileReader;me.onload=xe=>{const oe=xe.target.result.split(`
`).filter(Ge=>Ge.trim()).map(Ge=>Ge.split(","));if(oe.length<2)return;const Le={...q};oe.slice(1).forEach(Ge=>{var Pe,ne,tt,at,Be;if(Ge.length>=6){const Ze=(Ge[0]||"").replace(/"/g,"").trim();Ze&&(Le[Ze]={...Le[Ze]||{},breakfast:(Ge[3]||"").replace(/"/g,"").trim()||((Pe=Le[Ze])==null?void 0:Pe.breakfast)||"",snack1:(Ge[4]||"").replace(/"/g,"").trim()||((ne=Le[Ze])==null?void 0:ne.snack1)||"",lunch:(Ge[5]||"").replace(/"/g,"").trim()||((tt=Le[Ze])==null?void 0:tt.lunch)||"",snack2:(Ge[6]||"").replace(/"/g,"").trim()||((at=Le[Ze])==null?void 0:at.snack2)||"",dinner:(Ge[7]||"").replace(/"/g,"").trim()||((Be=Le[Ze])==null?void 0:Be.dinner)||""})}}),te(Le)},me.readAsText(ke)},H=()=>{const de=["Date","Day","Plan Day","Breakfast","Mid-Day Snack","Lunch","Evening Snack","Dinner"],ke=c.map(oe=>{var Le,Ge,Pe,ne,tt;return[oe.date,oe.day,`Day ${oe.dayNum}`,((Le=oe.meals)==null?void 0:Le.breakfast)||"",((Ge=oe.meals)==null?void 0:Ge.snack1)||"",((Pe=oe.meals)==null?void 0:Pe.lunch)||"",((ne=oe.meals)==null?void 0:ne.snack2)||"",((tt=oe.meals)==null?void 0:tt.dinner)||""]}),me=[de.join(","),...ke.map(oe=>oe.map(Le=>`"${Le}"`).join(","))].join(`
`),xe=new Blob([me],{type:"text/csv;charset=utf-8;"}),Oe=document.createElement("a");Oe.setAttribute("href",URL.createObjectURL(xe)),Oe.setAttribute("download",`meal_plan_${a}.csv`),Oe.click()},ae=async(de=null)=>{N(!0);try{let ke=[];if(de!==null){const xe=c[de];if(!xe)return;ie.forEach(Oe=>{var Le,Ge,Pe;const oe=(Le=xe.meals)==null?void 0:Le[Oe.id];oe&&ke.push({date:xe.date,Date:xe.date,meal_type:Oe.id,item_id:oe,image_url:((Pe=(Ge=xe.meals)==null?void 0:Ge.images)==null?void 0:Pe[Oe.id])||null})})}else c.forEach(xe=>{ie.forEach(Oe=>{var Le,Ge,Pe;const oe=(Le=xe.meals)==null?void 0:Le[Oe.id];oe&&ke.push({date:xe.date,Date:xe.date,meal_type:Oe.id,item_id:oe,image_url:((Pe=(Ge=xe.meals)==null?void 0:Ge.images)==null?void 0:Pe[Oe.id])||null})})});if(ke.length===0){alert("Please select at least one item before saving."),N(!1);return}const me=ke.map(xe=>{let Oe=xe.meal_type;return xe.meal_type==="snack1"||xe.meal_type==="snack2"?Oe="Snack":Oe=xe.meal_type.charAt(0).toUpperCase()+xe.meal_type.slice(1),qt.post("/menu/plan",{date:xe.date,meal_type:Oe,item_id:xe.item_id,is_active:!0})});await Promise.all(me),alert(de!==null?"Day updated successfully!":"Full rotation saved successfully!"),ue()}catch(ke){console.error("Save failed:",ke),alert("Failed to save meal plan.")}finally{N(!1)}},ge=c[m]||{},ve=ge.meals||{images:{}};return u.jsx(ui,{children:u.jsx("div",{className:"min-h-screen bg-[var(--surface-main)] p-4 sm:p-8 font-['Inter', sans-serif]",children:u.jsxs("div",{className:"max-w-7xl mx-auto space-y-10",children:[u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6 border-b border-[var(--border-default)] pb-8 px-2 sm:px-0",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-1.5 h-10 bg-[var(--brand-primary)] rounded-full shadow-[0_0_15px_rgba(249,115,22,0.3)]"}),u.jsx("h1",{className:"text-3xl sm:text-4xl font-black tracking-tight sm:tracking-[0.05em] text-[var(--text-primary)]",children:"Meal Scheduler".split("").map((de,ke)=>u.jsx("span",{className:"animate-letter-pop inline-block",style:{animationDelay:`${300+(de===" "?0:ke*50)}ms`},children:de===" "?"":de},ke))})]}),u.jsxs("div",{className:"grid grid-cols-2 md:flex md:flex-wrap items-center gap-3",children:[u.jsx("input",{type:"file",id:"bulk-upload",accept:".csv",className:"hidden",onChange:U}),u.jsxs("button",{onClick:ae,disabled:S,className:"flex items-center justify-center gap-2 bg-emerald-500 text-white hover:bg-emerald-600 px-3 sm:px-6 py-3 landscape:py-0.5 landscape:h-7 rounded-2xl shadow-xl shadow-emerald-500/20 transition-all font-bold text-[10px] sm:text-xs md:text-sm landscape:text-[9px] disabled:opacity-50",children:[S?u.jsx(sS,{className:"animate-spin"}):u.jsx(xb,{}),u.jsx("span",{className:"whitespace-nowrap",children:"Update Plan"})]}),u.jsxs("button",{onClick:H,className:"flex items-center justify-center gap-2 bg-[var(--brand-primary)] text-white hover:bg-[var(--brand-primary)]/90 px-3 sm:px-6 py-3 landscape:py-0.5 landscape:h-7 rounded-2xl shadow-xl shadow-[var(--brand-primary)]/20 transition-all font-bold text-[10px] sm:text-xs md:text-sm landscape:text-[9px]",children:[u.jsx(qj,{}),u.jsx("span",{className:"whitespace-nowrap",children:"Export Excel"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-8 items-start",children:[u.jsx("div",{className:"xl:col-span-4 space-y-8 h-full",children:u.jsxs("div",{className:"bg-[var(--surface-card)] border border-[var(--border-default)] rounded-[2rem] sm:rounded-[2.5rem] p-5 sm:p-8 shadow-2xl shadow-black/5 dark:shadow-none relative overflow-hidden group/cal",children:[u.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-[var(--brand-primary)]/10 blur-[80px] -mr-20 -mt-20 group-hover/cal:bg-[var(--brand-primary)]/20 transition-colors"}),u.jsxs("div",{className:"flex items-center justify-between mb-8 flex-wrap gap-4",children:[u.jsxs("h2",{className:"text-xl font-black text-[var(--text-primary)] flex items-center gap-3",children:[u.jsx("div",{className:"w-1.5 h-6 bg-[var(--brand-primary)] rounded-full"}),"Calendar"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>{W(t.getMonth()),Z(t.getFullYear())},className:"text-[10px] font-black uppercase tracking-widest px-3 py-1 landscape:py-0.5 landscape:h-6 bg-[var(--surface-main)] text-[var(--brand-primary)] rounded-lg hover:bg-[var(--brand-primary)] hover:text-white transition-all",children:"Today"}),u.jsx("button",{onClick:()=>{Y===0?(W(11),Z(Ne-1)):W(Y-1)},className:"p-2 hover:bg-[var(--surface-main)] rounded-xl transition-all text-[var(--text-primary)]",children:u.jsx(Kl,{})}),u.jsx("button",{onClick:()=>{Y===11?(W(0),Z(Ne+1)):W(Y+1)},className:"p-2 hover:bg-[var(--surface-main)] rounded-xl transition-all text-[var(--text-primary)]",children:u.jsx(Zl,{})})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[u.jsx("select",{value:Y,onChange:de=>W(parseInt(de.target.value)),className:"bg-transparent text-[10px] sm:text-xs md:text-sm font-black text-[var(--brand-primary)] uppercase tracking-widest border-none focus:ring-0 cursor-pointer hover:opacity-70 transition-opacity p-1",children:Q.map((de,ke)=>u.jsx("option",{value:ke,className:"bg-[var(--surface-card)] text-[var(--text-primary)]",children:de},de))}),u.jsx("select",{value:Ne,onChange:de=>Z(parseInt(de.target.value)),className:"bg-transparent text-[10px] sm:text-xs md:text-sm font-black text-[var(--brand-primary)] uppercase tracking-widest border-none focus:ring-0 cursor-pointer hover:opacity-70 transition-opacity p-1",children:ye.map(de=>u.jsx("option",{value:de,className:"bg-[var(--surface-card)] text-[var(--text-primary)]",children:de},de))})]}),u.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-2",children:["S","M","T","W","T","F","S"].map(de=>u.jsx("div",{className:"text-[10px] font-black text-[var(--text-secondary)] opacity-40",children:de},de))}),u.jsx("div",{className:"grid grid-cols-7 gap-1.5 sm:gap-2",children:(()=>{const de=new Date(Ne,Y,1),ke=[];for(let me=0;me<de.getDay();me++)ke.push(null);for(;de.getMonth()===Y;)ke.push(new Date(de)),de.setDate(de.getDate()+1);return ke.map((me,xe)=>{if(!me)return u.jsx("div",{className:"aspect-square"},`empty-${xe}`);const Oe=me.getDay()===0,oe=`${me.getFullYear()}-${String(me.getMonth()+1).padStart(2,"0")}-${String(me.getDate()).padStart(2,"0")}`,Le=c.findIndex(tt=>tt.date===oe),Ge=Le!==-1&&m===Le,Pe=a===oe,ne=Le!==-1;return u.jsx("button",{onClick:()=>{Oe||(Le!==-1?p(Le):i(oe))},className:`aspect-square rounded-xl sm:rounded-2xl text-[10px] sm:text-xs font-black transition-all duration-300 relative group/btn flex items-center justify-center
                                                            ${Oe?"text-[var(--text-primary)] opacity-10 cursor-not-allowed":Ge?"bg-[var(--brand-primary)] text-white shadow-xl shadow-[var(--brand-primary)]/30 scale-105 sm:scale-110 z-10":ne?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)] font-black hover:bg-[var(--brand-primary)]/20":Pe?"bg-[var(--text-primary)] text-[var(--surface-main)] border-2 border-[var(--brand-primary)]":"text-[var(--text-primary)] hover:bg-[var(--surface-main)] opacity-70"}`,children:me.getDate()},oe)})})()}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 pt-6 border-t border-[var(--border-default)]",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] font-bold text-[var(--text-secondary)] opacity-50 uppercase tracking-widest",children:"Plan Scope"}),u.jsxs("span",{className:"text-lg sm:text-xl font-black text-[var(--text-primary)]",children:[c.length," Days"]})]}),u.jsxs("div",{className:"flex flex-col text-right",children:[u.jsx("span",{className:"text-[9px] font-bold text-[var(--text-secondary)] opacity-50 uppercase tracking-widest",children:"Viewing"}),u.jsx("span",{className:"text-lg sm:text-xl font-black text-[var(--brand-primary)]",children:Q[Y].slice(0,3)})]})]})]})]})}),u.jsx("div",{className:"xl:col-span-8 h-full",children:u.jsxs("div",{className:"bg-[var(--surface-card)] border border-[var(--border-default)] rounded-[2rem] sm:rounded-[2.5rem] p-5 sm:p-8 shadow-xl h-full flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-[var(--brand-primary)] text-white rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg shadow-[var(--brand-primary)]/20 shrink-0",children:u.jsx(lB,{className:"text-lg sm:text-xl"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-sm sm:text-base md:text-lg font-black text-[var(--text-primary)] uppercase",children:"Slot Editor"}),u.jsx("p",{className:"text-[8px] sm:text-[9px] md:text-[10px] font-bold text-[var(--text-secondary)] opacity-50 uppercase tracking-widest",children:ge.date?`${ge.day}, ${new Date(ge.date).getDate()} ${Q[new Date(ge.date).getMonth()]}`:"Configuration"})]})]}),u.jsxs("button",{onClick:()=>ae(m),disabled:S,className:"flex items-center gap-2 bg-emerald-500/10 text-emerald-500 hover:bg-emerald-500 hover:text-white px-4 py-2 landscape:py-0.5 landscape:h-7 rounded-xl transition-all duration-300 font-bold text-[10px] sm:text-xs landscape:text-[9px] border border-emerald-500/20",children:[S?u.jsx(sS,{className:"animate-spin"}):u.jsx(xb,{}),"Update This Day"]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 lg:gap-x-10 gap-y-6 sm:gap-y-8 flex-1",children:ie.map(de=>{var ke,me,xe;return u.jsxs("div",{className:"group/item",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2 px-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-${de.color}-500 text-xs sm:text-sm`,children:de.icon}),u.jsx("span",{className:"text-[8px] sm:text-[9px] md:text-[10px] font-black text-[var(--text-secondary)] opacity-60 uppercase tracking-widest",children:de.label}),u.jsx("span",{className:"text-[8px] sm:text-[9px] md:text-[10px] font-bold text-[var(--text-secondary)] opacity-30 ml-2",children:de.time})]}),((ke=ve.images)==null?void 0:ke[de.id])&&u.jsx("button",{onClick:()=>le(m,de.id),className:"text-red-500 opacity-0 group-hover/item:opacity-100 transition-opacity",children:u.jsx(dB,{size:12})})]}),u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[u.jsxs("div",{className:"relative shrink-0",children:[u.jsx("div",{className:"w-12 h-12 sm:w-14 md:w-16 sm:h-14 md:h-16 rounded-xl sm:rounded-[1.25rem] bg-[var(--surface-main)] border border-[var(--border-default)] overflow-hidden flex items-center justify-center transition-all group-hover/item:border-[var(--brand-primary)]/50",children:(me=ve.images)!=null&&me[de.id]?u.jsx("img",{src:n(ve.images[de.id]),className:"w-full h-full object-cover",alt:"Meal"}):u.jsx(xm,{className:"text-[var(--text-secondary)] opacity-20 text-base sm:text-lg md:text-xl"})}),u.jsxs("label",{className:"absolute -bottom-1 -right-1 w-5 h-5 sm:w-6 md:w-7 sm:h-6 md:h-7 bg-[var(--surface-card)] text-[var(--brand-primary)] rounded-full border border-[var(--border-default)] flex items-center justify-center cursor-pointer hover:bg-[var(--brand-primary)] hover:text-white transition-all shadow-md",children:[u.jsx(xm,{size:10,className:"sm:hidden"}),u.jsx(xm,{size:12,className:"hidden sm:block"}),u.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Oe=>Se(m,de.id,Oe.target.files[0])})]})]}),u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("input",{type:"text",value:G[de.id]!==void 0?G[de.id]:((xe=j.find(Oe=>Oe.id===ve[de.id]))==null?void 0:xe.name_en)||ve[de.id]||"",onChange:Oe=>{const oe=Oe.target.value;$(Le=>({...Le,[de.id]:oe})),V(Le=>({...Le,[de.id]:!0}))},onFocus:()=>V(Oe=>({...Oe,[de.id]:!0})),className:"w-full bg-[var(--surface-main)] border-none rounded-xl sm:rounded-2xl px-3 sm:px-4 md:px-5 py-2.5 sm:py-3 md:py-3.5 text-xs sm:text-sm font-bold text-[var(--text-primary)] focus:ring-2 focus:ring-[var(--brand-primary)]/20 transition-all placeholder-[var(--text-secondary)]/30 shadow-inner",placeholder:`Select ${de.label}...`}),X[de.id]&&u.jsxs("div",{className:"absolute left-0 right-0 top-full mt-2 bg-[var(--surface-card)] border border-[var(--border-default)] rounded-2xl shadow-2xl z-[50] max-h-64 overflow-hidden flex flex-col",children:[u.jsx("div",{className:"flex items-center justify-start gap-4 p-4 overflow-x-auto border-b border-[var(--border-default)] bg-[var(--surface-main)] shrink-0 flex-nowrap no-scrollbar",children:T.map(Oe=>u.jsx("button",{onClick:oe=>{oe.stopPropagation(),z(Oe)},className:`px-5 py-2 rounded-full text-xs font-black uppercase tracking-widest whitespace-nowrap transition-all shrink-0 border ${R===Oe?"bg-[var(--brand-primary)] text-white border-[var(--brand-primary)] shadow-lg shadow-[var(--brand-primary)]/20":"bg-[var(--surface-card)] text-[var(--text-secondary)] border-[var(--border-default)] hover:border-[var(--brand-primary)]/30 hover:bg-[var(--surface-main)]"}`,children:Oe},Oe))}),u.jsxs("div",{className:"overflow-y-auto custom-scrollbar flex-1",children:[j.filter(Oe=>{var Pe,ne;const oe=(G[de.id]||"").toLowerCase(),Le=((Pe=Oe.name_en)==null?void 0:Pe.toLowerCase().includes(oe))||((ne=Oe.name)==null?void 0:ne.toLowerCase().includes(oe))||(Oe.id+"").includes(oe),Ge=R==="All"||Oe.category===R;return Le&&Ge}).slice(0,20).map(Oe=>u.jsxs("button",{onClick:()=>{te(oe=>{const Le=ge.date,Ge=oe[Le]||{images:{}};return{...oe,[Le]:{...Ge,[de.id]:Oe.id,images:{...Ge.images||{},[de.id]:Oe.image_path}}}}),$(oe=>({...oe,[de.id]:Oe.name_en||Oe.name})),V(oe=>({...oe,[de.id]:!1}))},className:"w-full text-left px-5 py-3 text-xs font-bold text-[var(--text-primary)] hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)] transition-colors border-b border-[var(--border-default)] last:border-none flex items-center justify-between group/opt",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{children:Oe.name_en||Oe.name}),u.jsx("span",{className:"text-[9px] opacity-40 uppercase tracking-widest font-black group-hover/opt:text-[var(--brand-primary)]",children:Oe.category})]}),u.jsxs("span",{className:"text-[10px] opacity-40 font-black",children:["",Oe.price]})]},Oe.id)),j.length===0&&u.jsx("div",{className:"px-5 py-8 text-center text-[10px] font-bold text-[var(--text-secondary)] opacity-50 uppercase tracking-widest",children:"No items found"})]})]}),X[de.id]&&u.jsx("div",{className:"fixed inset-0 z-[40]",onClick:()=>V(Oe=>({...Oe,[de.id]:!1}))})]})]})]},de.id)})})]})}),u.jsx("div",{className:"xl:col-span-12 space-y-8 mt-4",children:u.jsxs("div",{className:"bg-[var(--surface-card)] border border-[var(--border-default)] rounded-[2rem] sm:rounded-[3rem] shadow-2xl shadow-black/5 overflow-hidden flex flex-col min-h-[500px] sm:min-h-[600px] lg:min-h-[900px]",children:[u.jsxs("div",{className:"p-5 sm:p-10 border-b border-[var(--border-default)] flex flex-row justify-between items-center bg-[var(--surface-main)]/50 gap-4",children:[u.jsx("h2",{className:"text-lg sm:text-xl font-black text-[var(--text-primary)] uppercase tracking-tight",children:"Meal Plan"}),u.jsx("div",{className:"flex gap-2",children:u.jsxs("div",{className:"flex items-center gap-1.5 bg-emerald-500/10 text-emerald-500 px-3 sm:px-4 py-2 rounded-xl text-[8px] sm:text-[10px] font-black uppercase",children:[u.jsx("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 rounded-full bg-emerald-500 animate-pulse"}),"Active"]})})]}),u.jsx("div",{className:"flex-1 overflow-x-auto bg-[var(--surface-card)] custom-scrollbar",children:u.jsxs("table",{className:"w-full text-left border-collapse min-w-[1200px]",children:[u.jsx("thead",{className:"sticky top-0 bg-[var(--surface-main)] backdrop-blur-xl z-20 border-b-2 border-[var(--brand-primary)]/20 shadow-sm",children:u.jsxs("tr",{className:"bg-[var(--brand-primary)]/5",children:[u.jsx("th",{className:"pl-6 sm:pl-10 pr-4 py-4 sm:py-6 text-[8px] sm:text-[10px] font-black uppercase tracking-widest text-[var(--brand-primary)]",children:"Period"}),ie.map(de=>u.jsx("th",{className:"px-4 py-4 sm:py-6 text-[8px] sm:text-[10px] font-black uppercase tracking-widest text-[var(--text-primary)]",children:de.label},de.id)),u.jsx("th",{className:"pr-6 sm:pr-10 pl-4 py-4 sm:py-6 text-[8px] sm:text-[10px] font-black uppercase tracking-widest text-[var(--text-primary)]",children:"Gallery"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]/30",children:c.map((de,ke)=>u.jsxs("tr",{className:"group hover:bg-[var(--surface-main)]/50 transition-all duration-300",children:[u.jsx("td",{className:"pl-6 sm:pl-10 pr-4 py-4 sm:py-8",children:u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[u.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-[var(--surface-main)] border border-[var(--border-default)] flex items-center justify-center text-[var(--text-primary)] font-black text-[10px] sm:text-sm group-hover:bg-[var(--brand-primary)] group-hover:text-white transition-all shadow-sm",children:de.dayNum}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-[11px] sm:text-sm font-black text-[var(--text-primary)] whitespace-nowrap",children:[new Date(de.date).getDate()," ",Q[new Date(de.date).getMonth()]]}),u.jsx("div",{className:"text-[8px] sm:text-[10px] font-bold text-[var(--text-secondary)] opacity-50 uppercase tracking-tighter",children:de.day})]})]})}),ie.map(me=>{var Le,Ge,Pe;const xe=(Le=de.meals)==null?void 0:Le[me.id],Oe=j.find(ne=>String(ne.id)===String(xe)),oe=Oe?Oe.name_en:xe;return u.jsx("td",{className:"px-4 py-4 sm:py-8",children:u.jsxs("div",{className:"flex items-center gap-3",children:[((Pe=(Ge=de.meals)==null?void 0:Ge.images)==null?void 0:Pe[me.id])&&u.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl overflow-hidden shadow-sm shrink-0 border border-[var(--border-default)] group-hover:scale-110 group-hover:rotate-3 transition-all",children:u.jsx("img",{src:n(de.meals.images[me.id]),className:"w-full h-full object-cover",alt:"Meal"})}),u.jsxs("div",{className:"flex flex-col min-w-0",children:[u.jsx("span",{className:"text-[8px] sm:text-[10px] font-bold text-[var(--text-secondary)] opacity-30 uppercase mb-0.5 tracking-tighter group-hover:text-[var(--brand-primary)]/50 transition-colors",children:me.label}),u.jsx("span",{className:"text-[10px] sm:text-xs font-black text-[var(--text-primary)] truncate group-hover:text-[var(--brand-primary)] transition-colors",children:oe||"-"})]})]})},me.id)}),u.jsx("td",{className:"pr-6 sm:pr-10 pl-4 py-4 sm:py-8",children:u.jsxs("div",{className:"flex -space-x-2 isolate group-hover:-space-x-1 transition-all duration-500",children:[ie.filter(me=>{var xe,Oe;return(Oe=(xe=de.meals)==null?void 0:xe.images)==null?void 0:Oe[me.id]}).map((me,xe)=>u.jsxs("div",{className:"w-8 h-8 sm:w-12 sm:h-12 rounded-lg border-2 border-[var(--surface-card)] overflow-hidden shadow-2xl relative group/img transform hover:z-40 hover:-translate-y-2 hover:scale-125 transition-all cursor-zoom-in",children:[u.jsx("img",{src:n(de.meals.images[me.id]),className:"w-full h-full object-cover",alt:"Meal"}),u.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover/img:opacity-100 transition-opacity flex items-center justify-center text-center p-0.5 sm:p-1",children:u.jsx("span",{className:"text-[6px] sm:text-[8px] text-white font-black uppercase tracking-tighter leading-tight",children:me.label.slice(0,3)})})]},me.id)),(!de.meals||ie.every(me=>{var xe;return!((xe=de.meals.images)!=null&&xe[me.id])}))&&u.jsx("span",{className:"text-[8px] sm:text-[10px] font-bold text-[var(--text-secondary)] opacity-20 uppercase italic",children:"No Visuals"})]})})]},ke))})]})}),u.jsx("div",{className:"p-6 sm:p-8 bg-[var(--surface-main)] border-t border-[var(--border-default)] text-center",children:u.jsx("p",{className:"text-[8px] sm:text-[10px] font-black text-[var(--text-secondary)] opacity-30 uppercase tracking-[0.3em]",children:"End of Rotation Cycle"})})]})})]})]})})})},yie=()=>{var Le,Ge,Pe;const e=Wa(),[t,r]=I.useState([]),[n,a]=I.useState(!0),[i,c]=I.useState(!1),[f,m]=I.useState("edit"),[p,x]=I.useState(null),[y,S]=I.useState(""),[N,j]=I.useState(!1),[_,T]=I.useState(null),[D,R]=I.useState({top:0,right:0}),[z,G]=I.useState(null),[$,X]=I.useState(!1),[V,Y]=I.useState(!1),[W,Ne]=I.useState(!1),[Z,Q]=I.useState([]),[ye,ie]=I.useState([]),{user:q}=Xi(),te=(q==null?void 0:q.role)==="admin"||(q==null?void 0:q.role)==="unit_admin",[se,ue]=I.useState({search:"",status:"",page:1,limit:50}),[ee,Se]=I.useState({total:0,page:1,totalPages:1}),[le,U]=I.useState({emp_code:"",first_name:"",phone:"",password:"123",is_active:!0,address:"",address_line_2:"",pincode:"",city:"",perm_state:"",perm_country:""}),[H,ae]=I.useState(!1),ge=async ne=>{if(U(tt=>({...tt,pincode:ne})),ne.length===6){ae(!0);try{const at=await(await fetch(`https://api.postalpincode.in/pincode/${ne}`)).json();if(at[0].Status==="Success"){const Be=at[0].PostOffice[0];U(Ze=>({...Ze,city:Be.District,perm_state:Be.State,perm_country:"India"}))}}catch(tt){console.error("Error fetching address details:",tt)}finally{ae(!1)}}},ve=()=>{const ne=["emp_code","first_name","last_name","email","mobile","designation","title","gender","company","division_unit","business_category","type_of_sector","function","department","sub_department","zone_name","line","cost_center","country","zone","state","district","base_location","work_location","personal_email","emp_type_text","confirmation_status_text","address","address_line_2","pincode","city","perm_state","perm_country","password"],tt=["EMP001,John,Doe,john@example.com,9876543210,Manager,Mr.,Male,ABC Corp,Unit 1,IT,IT,Dev,IT,DevOps,South,Line 1,CC001,India,South,TN,Chennai,Chennai,Chennai,john.personal@gmail.com,Permanent,Confirmed,123 Main St,,600001,Chennai,TN,India,123"],at="data:text/csv;charset=utf-8,"+[ne.join(","),...tt].join(`
`),Be=encodeURI(at),Ze=document.createElement("a");Ze.setAttribute("href",Be),Ze.setAttribute("download","employee_template.csv"),document.body.appendChild(Ze),Ze.click(),document.body.removeChild(Ze)},de=async ne=>{var Be,Ze,Fe,rt;const tt=ne.target.files[0];if(!tt)return;const at=new FormData;at.append("file",tt);try{Ne(!0),ie([]),await qt.post("/employees/bulk-upload/",at,{headers:{"Content-Type":"multipart/form-data"}}),alert("Bulk upload successful!"),Y(!1),me()}catch(At){console.error("Bulk upload failed:",At),(Ze=(Be=At.response)==null?void 0:Be.data)!=null&&Ze.errors&&Array.isArray(At.response.data.errors)?ie(At.response.data.errors):(rt=(Fe=At.response)==null?void 0:Fe.data)!=null&&rt.message?alert(At.response.data.message):alert("Bulk upload failed. Please check the file format.")}finally{Ne(!1),ne.target.value=""}},ke=async()=>{try{const ne=new URLSearchParams;se.search&&ne.append("search",se.search),se.status!==""&&ne.append("is_active",se.status==="1"?"true":"false"),ne.append("limit","10000");const tt=await qt.get(`/employees/?${ne.toString()}`);let at=[];if(tt.data&&Array.isArray(tt.data.employees)?at=tt.data.employees:tt.data&&tt.data.data?at=tt.data.data:Array.isArray(tt.data)&&(at=tt.data),(q==null?void 0:q.role)==="unit_admin"&&(q!=null&&q.unit_id)&&(at=at.filter(At=>At.unit_id===q.unit_id||At.unitId===q.unit_id||At.division_unit===q.unit_id)),at.length===0){alert("No data to export");return}const Be=new wr("p","mm","a4"),Ze=Be.internal.pageSize.getWidth(),Fe=15;let rt=20;Be.setFontSize(14),Be.setTextColor(30,41,59),Be.setFont(void 0,"bold"),Be.text("EMPLOYEE MANAGEMENT REPORT",Fe,rt),rt+=10,Be.setDrawColor(226,232,240),Be.line(Fe,rt,Ze-15,rt),rt+=10,Be.setFontSize(10),Be.setTextColor(30,41,59),Be.setFont(void 0,"bold"),Be.text(`Generated On: ${new Date().toLocaleString()}`,Fe,rt),Be.text(`Total Records: ${at.length}`,Ze-15,rt,{align:"right"}),rt+=12,Be.setFillColor(250,198,57),Be.rect(Fe,rt,Ze-Fe*2,10,"F"),Be.setFont(void 0,"bold"),Be.setTextColor(0,0,0),Be.setFontSize(9),Be.text("S.No",Fe+2,rt+7),Be.text("Code",Fe+12,rt+7),Be.text("Name",Fe+30,rt+7),Be.text("Designation",Fe+70,rt+7),Be.text("Contact",Fe+110,rt+7),Be.text("Unit",Fe+140,rt+7),Be.text("Status",Fe+170,rt+7),rt+=10,Be.setTextColor(30,41,59),Be.setFont(void 0,"normal"),Be.setFontSize(8),at.forEach((At,Ht)=>{rt>270&&(Be.addPage(),rt=20,Be.setFillColor(250,198,57),Be.rect(Fe,rt,Ze-Fe*2,10,"F"),Be.setFont(void 0,"bold"),Be.setTextColor(0,0,0),Be.text("S.No",Fe+2,rt+7),Be.text("Code",Fe+12,rt+7),Be.text("Name",Fe+30,rt+7),Be.text("Designation",Fe+70,rt+7),Be.text("Contact",Fe+110,rt+7),Be.text("Unit",Fe+140,rt+7),Be.text("Status",Fe+170,rt+7),rt+=10,Be.setTextColor(30,41,59),Be.setFont(void 0,"normal"));const Yt=String(Ht+1),Jt=At.emp_code||"-",Ut=`${[At.first_name,At.last_name].filter(Boolean).join(" ")||At.username||"-"}`.substring(0,20),ir=(At.designation||"-").substring(0,20),Wt=At.mobile||At.phone||"-",Ar=(At.division_unit||"-").substring(0,15),zt=At.is_active==1||At.is_active===!0?"Active":"Inactive";Be.text(Yt,Fe+2,rt+7),Be.text(Jt,Fe+12,rt+7),Be.text(Ut,Fe+30,rt+7),Be.text(ir,Fe+70,rt+7),Be.text(Wt,Fe+110,rt+7),Be.text(Ar,Fe+140,rt+7),At.is_active==1||At.is_active===!0?Be.setTextColor(16,185,129):Be.setTextColor(225,29,72),Be.text(zt,Fe+170,rt+7),Be.setTextColor(30,41,59),rt+=8,Be.setDrawColor(241,245,249),Be.line(Fe,rt,Ze-15,rt)}),Be.save(`employee-list-${new Date().toLocaleDateString("en-IN").replace(/\//g,"-")}.pdf`)}catch(ne){console.error("PDF Export failed:",ne),alert("Failed to export PDF.")}},me=I.useCallback(async()=>{var ne,tt,at;try{a(!0);const Be=new URLSearchParams;se.search&&Be.append("search",se.search),se.status!==""&&Be.append("is_active",se.status==="1"?"true":"false"),Be.append("page",se.page),Be.append("limit",se.limit);const Ze=await qt.get(`/employees/?${Be.toString()}`);if(Ze.data&&Array.isArray(Ze.data.employees)){let Fe=Ze.data.employees;(q==null?void 0:q.role)==="unit_admin"&&(q!=null&&q.unit_id)&&(Fe=Fe.filter(Yt=>Yt.unit_id===q.unit_id||Yt.unitId===q.unit_id||Yt.division_unit===q.unit_id));const rt=(q==null?void 0:q.role)==="unit_admin"?Fe.length:Ze.data.total!==void 0?Ze.data.total:((ne=Ze.data.pagination)==null?void 0:ne.total)||0,At=Ze.data.currentPage!==void 0?Ze.data.currentPage:Ze.data.page!==void 0?Ze.data.page:((tt=Ze.data.pagination)==null?void 0:tt.page)||1,Ht=(q==null?void 0:q.role)==="unit_admin"?Math.ceil(Fe.length/se.limit):Ze.data.totalPages!==void 0?Ze.data.totalPages:((at=Ze.data.pagination)==null?void 0:at.totalPages)||1;se.status!==""&&(Fe=Fe.filter(Yt=>{const Jt=Yt.is_active==1||Yt.is_active===!0||Yt.isActive;return se.status==="1"?Jt:!Jt})),r(Fe),Se({total:rt,page:At,totalPages:Ht})}else if(Ze.data&&Ze.data.pagination){let Fe=Ze.data.employees||[];(q==null?void 0:q.role)==="unit_admin"&&(q!=null&&q.unit_id)&&(Fe=Fe.filter(rt=>rt.unit_id===q.unit_id||rt.unitId===q.unit_id||rt.division_unit===q.unit_id)),r(Fe),Se(Ze.data.pagination)}else{let rt=Ze.data.employees||Ze.data||[];(q==null?void 0:q.role)==="unit_admin"&&(q!=null&&q.unit_id)&&(rt=rt.filter(Ut=>Ut.unit_id===q.unit_id||Ut.unitId===q.unit_id||Ut.division_unit===q.unit_id)),rt=rt.filter(Ut=>se.status==="1"?Ut.is_active==1||Ut.is_active===!0:se.status==="0"?!(Ut.is_active==1||Ut.is_active===!0):!0);const At=rt.length,Ht=Math.ceil(At/se.limit),Yt=(se.page-1)*se.limit,Jt=rt.slice(Yt,Yt+se.limit);r(Jt),Se({total:At,page:se.page,totalPages:Math.max(1,Ht)})}}catch(Be){console.error("Fetch employees error:",Be),r([])}finally{a(!1)}},[se]);I.useEffect(()=>{(async()=>{var tt;try{const at=await qt.get("/units"),Be=Array.isArray(at.data)?at.data:((tt=at.data)==null?void 0:tt.units)||[];Q(Be)}catch(at){console.error("Error fetching units:",at)}})()},[]),I.useEffect(()=>{const ne=setTimeout(()=>{me()},se.search?500:0);return()=>clearTimeout(ne)},[me]),I.useEffect(()=>{const ne=()=>{G(null),X(!1)};return document.addEventListener("click",ne),()=>document.removeEventListener("click",ne)},[]);const xe=async ne=>{try{const tt=ne.is_active==1||ne.is_active===!0||ne.isActive;await qt.put(`/employees/${ne.id}/`,{is_active:tt?0:1}),me()}catch(tt){console.error("Toggle status error:",tt),alert("Failed to update status")}},Oe=async ne=>{var tt,at,Be,Ze;ne.preventDefault();try{if(f==="edit"){if(!(p!=null&&p.id)){alert("No employee selected for password update.");return}await qt.put(`/employees/${p.id}/`,{password:y}),alert("Password updated successfully")}else f==="global"?(await qt.patch("/employees/global-password/",{password:y}),alert("Global password updated successfully")):f==="add"&&(await qt.post("/employees/",le),alert("Employee added successfully"));c(!1),S(""),U({emp_code:"",first_name:"",phone:"",password:"123",is_active:!0,address:"",address_line_2:"",pincode:"",city:"",perm_state:"",perm_country:""}),me()}catch(Fe){console.error("Operation error:",Fe),alert(((at=(tt=Fe.response)==null?void 0:tt.data)==null?void 0:at.error)||((Ze=(Be=Fe.response)==null?void 0:Be.data)==null?void 0:Ze.message)||"Operation failed")}},oe=t;return n&&t.length===0?u.jsx(ui,{children:u.jsx(Vs,{})}):u.jsxs(ui,{children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex flex-col gap-6 landscape:gap-2 mb-8 landscape:mb-2 mt-2",children:[u.jsxs("div",{className:"flex items-center gap-4 landscape:gap-2 animate-slide-up opacity-0",children:[u.jsx("div",{className:"w-2 h-10 landscape:h-6 bg-[var(--brand-primary)] rounded-full shadow-[0_0_15px_rgba(249,115,22,0.4)]"}),u.jsx("div",{children:u.jsx("h1",{className:"text-3xl sm:text-4xl landscape:text-xl font-bold tracking-[0.1em] text-[var(--text-primary)]",children:"Employees".split("").map((ne,tt)=>u.jsx("span",{className:"animate-letter-pop",style:{animationDelay:`${300+(ne===" "?0:tt*50)}ms`},children:ne===" "?"":ne},tt))})})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row justify-between lg:items-center gap-6",children:[u.jsxs("div",{className:"relative w-full lg:flex-1 lg:max-w-md group",children:[u.jsx("input",{type:"text",placeholder:"Search by Name, Employee Code, or Contact...",value:se.search,onChange:ne=>ue({...se,search:ne.target.value,page:1}),className:"w-full !pl-16 pr-12 py-3.5 landscape:py-0.5 landscape:h-7 text-center sm:text-left rounded-2xl border-2 border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-primary)] focus:outline-none focus:ring-4 focus:ring-[#f97316]/10 focus:border-[#f97316] font-bold text-sm landscape:text-[10px] transition-all shadow-sm hover:border-[#f97316]/30 placeholder:text-[var(--text-secondary)]/30"}),u.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] group-focus-within:text-[#f97316] transition-colors",children:u.jsx(wd,{size:22,className:"landscape:size-4"})})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:flex lg:flex-row gap-3",children:[te&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>e("/admin/add-employee"),className:"bg-[var(--brand-primary)] text-white border-2 border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-black px-4 py-3.5 landscape:py-0.5 landscape:h-7 rounded-2xl flex items-center justify-center gap-2 transition-all shadow-lg hover:scale-[1.02] active:scale-95 text-[10px] sm:text-[11px] landscape:text-[9px] uppercase tracking-wider h-full",children:[u.jsx(Oc,{className:"text-sm landscape:text-xs"}),u.jsx("span",{children:"Add"})]}),u.jsxs("button",{onClick:()=>{m("global"),Y(!1),c(!0)},className:"bg-[var(--brand-primary)] text-white border-2 border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-black px-4 py-3.5 landscape:py-0.5 landscape:h-7 rounded-2xl flex items-center justify-center gap-2 transition-all shadow-lg hover:scale-[1.02] active:scale-95 text-[10px] sm:text-[11px] landscape:text-[9px] uppercase tracking-wider h-full",children:[u.jsx(RR,{className:"text-sm landscape:text-xs"}),u.jsx("span",{children:"Global"})]}),u.jsxs("button",{onClick:()=>{Y(!0),c(!0)},className:"bg-[var(--brand-primary)] text-white border-2 border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-black px-4 py-3.5 landscape:py-0.5 landscape:h-7 rounded-2xl flex items-center justify-center gap-2 transition-all shadow-lg hover:scale-[1.02] active:scale-95 text-[10px] sm:text-[11px] landscape:text-[9px] uppercase tracking-wider h-full",children:[u.jsx(io,{className:"text-sm landscape:text-xs"}),u.jsx("span",{children:"Bulk"})]})]}),u.jsxs("button",{onClick:ke,className:"bg-[var(--brand-primary)] text-white border-2 border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-black px-4 py-3.5 landscape:py-0.5 landscape:h-7 rounded-2xl flex items-center justify-center gap-2 transition-all shadow-lg hover:scale-[1.02] active:scale-95 text-[10px] sm:text-[11px] landscape:text-[9px] uppercase tracking-wider h-full",children:[u.jsx(hd,{className:"text-sm landscape:text-xs"}),u.jsx("span",{children:"PDF"})]})]})]})]}),u.jsxs("div",{className:"rounded-xl overflow-hidden bg-[var(--surface-card)] shadow-2xl border border-[var(--border-default)]/30",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[1200px]",children:[u.jsx("thead",{className:"bg-[var(--brand-primary)] text-[var(--text-inverse)]",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-4 landscape:py-2 text-left text-sm landscape:text-xs font-black uppercase tracking-wider border-r border-black/5 w-14",children:"S.No"}),u.jsx("th",{className:"px-4 py-4 landscape:py-2 text-left text-sm landscape:text-xs font-black uppercase tracking-wider border-r border-black/5",children:"Emp Code"}),u.jsx("th",{className:"px-4 py-4 landscape:py-2 text-left text-sm landscape:text-xs font-black uppercase tracking-wider border-r border-black/5",children:"Employee"}),u.jsx("th",{className:"px-4 py-4 landscape:py-2 text-left text-sm landscape:text-xs font-black uppercase tracking-wider border-r border-black/5",children:"Unit"}),u.jsx("th",{className:"px-4 py-4 landscape:py-2 text-left text-sm landscape:text-xs font-black uppercase tracking-wider border-r border-black/5",children:"Mobile "}),u.jsx("th",{className:"px-4 py-4 landscape:py-2 text-left text-sm landscape:text-xs font-black uppercase tracking-wider border-r border-black/5",children:"Address"}),u.jsx("th",{className:"px-4 py-4 landscape:py-2 text-left text-sm landscape:text-xs font-black uppercase tracking-wider border-r border-black/5",children:"Pin Code"}),u.jsxs("th",{className:"px-4 py-4 landscape:py-2 text-left text-sm landscape:text-xs font-black uppercase tracking-wider border-r border-black/5 relative group",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{children:"Status"}),u.jsx("div",{className:"p-1 hover:bg-black/10 rounded-md transition-all cursor-pointer",onClick:ne=>{ne.stopPropagation(),se.status&&ue(tt=>({...tt,status:"",page:1})),G(z==="status"?null:"status")},children:u.jsx(Ac,{className:`text-black transition-all ${se.status?"opacity-100 scale-110":"opacity-40 group-hover:opacity-100"}`})})]}),z==="status"&&u.jsxs("div",{className:"absolute top-full left-0 mt-1 w-40 bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl shadow-2xl z-50 py-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[u.jsx("div",{className:"px-3 py-1.5 text-[10px] font-semibold text-[var(--brand-primary)] border-b border-[var(--border-default)] mb-1",children:"Filter Status"}),["All","Active","Inactive"].map(ne=>u.jsx("button",{onClick:()=>{ue({...se,status:ne==="All"?"":ne==="Active"?"1":"0",page:1}),G(null)},className:`w-full px-4 py-2 text-left text-xs font-semibold hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${ne==="All"&&se.status===""||ne==="Active"&&se.status==="1"||ne==="Inactive"&&se.status==="0"?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":""}`,children:ne},ne))]})]}),u.jsx("th",{className:"px-4 py-4 landscape:py-2 text-center text-sm landscape:text-xs font-black uppercase tracking-wider",children:"Action"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]/20",children:oe.map((ne,tt)=>u.jsxs("tr",{style:{animationDelay:`${tt*30}ms`},className:"hover:bg-[var(--surface-muted)]/30 transition-colors animate-slide-up opacity-0",children:[u.jsx("td",{className:"px-4 py-2 landscape:py-1 text-xs landscape:text-[10px] font-medium opacity-40",children:(se.page-1)*se.limit+tt+1}),u.jsx("td",{className:"px-4 py-2 landscape:py-1 text-xs landscape:text-[10px] font-bold text-[var(--text-primary)]",children:ne.emp_code||ne.employeeId||"-"}),u.jsx("td",{className:"px-4 py-2 landscape:py-1",children:u.jsx("div",{className:"flex flex-col",children:u.jsx("span",{className:"text-xs landscape:text-[10px] font-bold text-[var(--text-primary)] capitalize",children:[ne.first_name,ne.last_name].filter(Boolean).join(" ")||ne.username||"-"})})}),u.jsx("td",{className:"px-4 py-2 landscape:py-1 text-xs landscape:text-[10px] font-medium",children:u.jsx("span",{className:"bg-[var(--surface-muted)] px-2 py-0.5 rounded text-[10px] landscape:text-[9px] border border-[var(--border-default)]",children:ne.division_unit||ne.unit||"-"})}),u.jsx("td",{className:"px-4 py-2 landscape:py-1 text-xs landscape:text-[10px] font-medium",children:u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-semibold",children:ne.residence_landline||ne.mobile||"-"}),ne.personal_email&&u.jsx("span",{className:"text-[9px] landscape:text-[8px] text-[var(--text-secondary)]",children:ne.personal_email})]})}),u.jsx("td",{className:"px-4 py-2 landscape:py-1 text-xs landscape:text-[10px] font-medium",children:u.jsx("div",{className:"flex flex-col max-w-[180px]",children:u.jsx("span",{className:"font-medium truncate capitalize text-[11px] landscape:text-[9px]",title:ne.address||"-",children:ne.address||"-"})})}),u.jsx("td",{className:"px-4 py-2 landscape:py-1 text-xs landscape:text-[10px] font-medium",children:ne.pincode||ne.residence_postal_code||"-"}),u.jsx("td",{className:"px-4 py-2 landscape:py-1",children:u.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] landscape:text-[8px] font-black uppercase tracking-widest border inline-flex items-center justify-center w-fit ${ne.is_active==1||ne.is_active===!0||ne.isActive?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-rose-50 text-rose-600 border-rose-100"}`,children:ne.is_active==1||ne.is_active===!0||ne.isActive?"Active":"Inactive"})}),u.jsx("td",{className:"px-4 py-2 landscape:py-1 text-center relative",children:u.jsx("button",{onClick:at=>{at.stopPropagation();const Be=at.currentTarget.getBoundingClientRect();R({top:Be.bottom+10,right:window.innerWidth-Be.right}),T(_===ne.id?null:ne.id)},className:`p-1.5 rounded-xl transition-all ${_===ne.id?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":"hover:bg-[var(--surface-muted)] opacity-60"}`,children:u.jsx(zj,{size:14})})})]},ne.id))})]})}),u.jsxs("div",{className:"px-6 py-5 landscape:py-2 flex flex-col sm:flex-row items-center justify-between border-t border-[var(--border-default)] bg-[var(--surface-card)] gap-4",children:[u.jsxs("div",{className:"text-xs sm:text-sm landscape:text-[10px] text-[var(--text-secondary)] font-medium",children:["Showing ",u.jsxs("span",{className:"text-[var(--text-primary)]",children:[(se.page-1)*se.limit+1,"",Math.min(se.page*se.limit,ee.total)]})," of ",u.jsx("span",{className:"text-[var(--brand-primary)] font-semibold",children:ee.total})," records"]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 landscape:gap-2 justify-center",children:[u.jsxs("div",{className:"flex items-center gap-2 landscape:gap-1",children:[u.jsxs("button",{onClick:()=>ue({...se,page:Math.max(1,parseInt(ee.page)-1)}),disabled:parseInt(ee.page)<=1,className:"px-4 h-9 landscape:h-7 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-main)] border border-[var(--border-default)] text-[var(--text-secondary)] disabled:opacity-30 hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)] transition-all shadow-sm font-semibold text-[10px] uppercase",children:[u.jsx(Kl,{size:16,className:"landscape:size-3.5"})," Back"]}),u.jsx("div",{className:"flex items-center gap-1 landscape:gap-0.5",children:Array.from({length:ee.totalPages},(ne,tt)=>tt+1).map(ne=>{const tt=parseInt(ee.page)===ne;return ee.totalPages>5&&ne>1&&ne<ee.totalPages&&Math.abs(ne-parseInt(ee.page))>1?ne===2||ne===ee.totalPages-1?u.jsx("span",{className:"px-1 text-[var(--text-secondary)] opacity-50 text-[10px]",children:"..."},ne):null:u.jsx("button",{onClick:()=>ue({...se,page:ne}),className:`w-9 h-9 landscape:w-7 landscape:h-7 flex items-center justify-center rounded-xl text-xs landscape:text-[10px] font-semibold transition-all border
                                                ${tt?"bg-[var(--brand-primary)] border-[var(--brand-primary)] text-[var(--text-inverse)] shadow-[0_4px_15px_rgba(227,30,36,0.4)] scale-105":"bg-[var(--surface-main)] border-[var(--border-default)] text-[var(--text-secondary)] hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)]"}`,children:ne},ne)})}),u.jsxs("button",{onClick:()=>ue({...se,page:Math.min(ee.totalPages,parseInt(ee.page)+1)}),disabled:parseInt(ee.page)>=ee.totalPages,className:"px-4 h-9 landscape:h-7 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-main)] border border-[var(--border-default)] text-[var(--text-secondary)] disabled:opacity-30 hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)] transition-all shadow-sm font-semibold text-[10px] uppercase",children:["Next ",u.jsx(Zl,{size:16,className:"landscape:size-3.5"})]})]}),u.jsxs("div",{className:"relative shrink-0",children:[u.jsxs("button",{onClick:ne=>{ne.stopPropagation(),X(!$)},className:"bg-[var(--surface-main)] border-2 border-[var(--brand-primary)] rounded-xl py-2.5 landscape:py-1 text-[12px] landscape:text-[10px] font-semibold text-[var(--text-primary)] cursor-pointer outline-none transition-all shadow-sm flex items-center justify-center relative w-[130px] landscape:w-[100px]",children:[se.limit," Pages",u.jsx(Gl,{size:14,className:`absolute right-3 transition-transform duration-300 ${$?"rotate-180":""} text-[var(--brand-primary)]`})]}),$&&u.jsx("div",{className:"absolute bottom-full left-0 mb-2 w-[130px] bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-2xl shadow-2xl z-[100] py-1 overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-300",children:[10,20,50,100,500].map(ne=>u.jsxs("button",{onClick:tt=>{tt.stopPropagation(),ue({...se,limit:ne,page:1}),X(!1)},className:`w-full py-3.5 text-center text-[12px] font-medium transition-all
                                                ${se.limit===ne?"bg-[var(--brand-primary)] text-[var(--text-inverse)]":"text-[var(--text-primary)] hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)]"}`,children:[ne," Pages"]},ne))})]})]})]})]})]}),_&&v1.createPortal(u.jsx("div",{className:"fixed inset-0 z-[9999]",onClick:()=>T(null),children:u.jsx("div",{className:"absolute bg-[var(--surface-card)] border-2 border-[var(--border-default)] rounded-2xl shadow-2xl py-2 w-52 animate-in fade-in zoom-in-95 duration-200 overflow-hidden",style:{top:`${D.top}px`,right:`${D.right}px`},onClick:ne=>ne.stopPropagation(),children:te&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>{const ne=t.find(tt=>tt.id===_);x(ne),m("edit"),c(!0),T(null)},className:"w-full px-4 py-3 text-left text-xs font-semibold tracking-widest flex items-center gap-3 hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)] transition-all",children:[u.jsx(e1,{size:14})," Edit Password"]}),u.jsx("div",{className:"h-px bg-[var(--border-default)] mx-3 my-1 opacity-50"}),u.jsxs("button",{onClick:()=>{e(`/admin/edit-employee/${_}`),T(null)},className:"w-full px-4 py-3 text-left text-xs font-semibold tracking-widest flex items-center gap-3 hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)] transition-all",children:[u.jsx(e1,{size:14})," Edit Details"]}),u.jsx("div",{className:"h-px bg-[var(--border-default)] mx-3 my-1 opacity-50"}),u.jsx("button",{onClick:()=>{const ne=t.find(tt=>tt.id===_);xe(ne),T(null)},className:"w-full px-4 py-3 text-left text-xs font-semibold uppercase tracking-widest flex items-center gap-3 hover:bg-[var(--surface-muted)] transition-all opacity-70",children:((Le=t.find(ne=>ne.id===_))==null?void 0:Le.is_active)==1||((Ge=t.find(ne=>ne.id===_))==null?void 0:Ge.is_active)===!0||(Pe=t.find(ne=>ne.id===_))!=null&&Pe.isActive?"Inactive":"Activate"})]})})}),document.body),i&&u.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[10000] animate-in fade-in duration-300",children:u.jsxs("div",{className:"bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-3xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col animate-in zoom-in duration-200",children:[u.jsxs("div",{className:"bg-[var(--brand-primary)] p-6 flex justify-between items-center text-[var(--text-inverse)] shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[V?u.jsx(io,{}):f==="add"?u.jsx(Oc,{}):u.jsx(FR,{}),u.jsx("h3",{className:"text-lg font-black uppercase tracking-tighter",children:V?"Bulk Upload Employees":f==="edit"?"Update Password":f==="add"?"Add Employee":"Global Password Change"})]}),u.jsx("button",{onClick:()=>{c(!1),Y(!1)},className:"hover:rotate-90 transition-all",children:u.jsx(Jo,{size:24,strokeWidth:3})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:V?u.jsx("div",{className:"p-8 space-y-6",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsxs("div",{className:"p-4 bg-[var(--surface-muted)] rounded-2xl border-2 border-dashed border-[var(--border-default)]",children:[u.jsxs("p",{className:"text-sm text-[var(--text-secondary)] mb-4",children:["Upload a CSV or Excel file with employee details.",u.jsx("br",{}),"Download the template to see the required format."]}),u.jsx("button",{onClick:ve,className:"text-[var(--brand-primary)] font-bold text-xs uppercase tracking-widest hover:underline",children:"Download Template"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-[var(--text-secondary)]",children:"Select CSV File"}),u.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:de,disabled:W,className:`block w-full text-sm text-[var(--text-secondary)]\r
                                                file:mr-4 file:py-2.5 file:px-4\r
                                                file:rounded-xl file:border-0\r
                                                file:text-xs file:font-bold file:uppercase file:tracking-widest\r
                                                file:bg-[var(--brand-primary)] file:text-white\r
                                                hover:file:bg-[var(--brand-primary)]/90\r
                                                cursor-pointer`})]}),W&&u.jsx("div",{className:"text-xs font-bold text-[var(--brand-primary)] animate-pulse",children:"Uploading..."}),u.jsxs("div",{className:"text-left mt-4 p-4 bg-orange-50 rounded-xl border border-orange-100",children:[u.jsx("p",{className:"text-[10px] text-orange-600 font-bold uppercase tracking-wide mb-1",children:"Important Note:"}),u.jsx("p",{className:"text-xs text-orange-800",children:"Excel headers must follow the original template. Frontend labels are for display only."})]}),ye.length>0&&u.jsxs("div",{className:"text-left mt-4 max-h-60 overflow-y-auto p-4 bg-red-50 rounded-xl border border-red-100",children:[u.jsx("p",{className:"text-[10px] text-red-600 font-bold uppercase tracking-wide mb-2 sticky top-0 bg-red-50",children:"Upload Errors:"}),u.jsx("div",{className:"space-y-2",children:ye.map((ne,tt)=>{const at=ne.field==="mobile"?"Mobile No":ne.field==="pincode"?"Pin Code":ne.field==="emp_code"?"Employee Code":ne.field||"Unknown Field";return u.jsxs("div",{className:"text-xs text-red-700 border-b border-red-100 last:border-0 pb-1",children:[u.jsxs("span",{className:"font-bold",children:["Row ",ne.row||"?",":"]})," ",at," - ",ne.error||ne.message]},tt)})})]})]})}):u.jsxs("form",{id:"employee-modal-form",onSubmit:Oe,className:"p-8 space-y-6",children:[f==="add"?u.jsx(u.Fragment,{children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Employee Code"}),u.jsx("input",{type:"text",value:le.emp_code,onChange:ne=>U({...le,emp_code:ne.target.value}),placeholder:"e.g. 34",className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none",required:!0})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Employee Name"}),u.jsx("input",{type:"text",value:le.first_name,onChange:ne=>U({...le,first_name:ne.target.value}),placeholder:"Full Name",className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none",required:!0})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Mobile No"}),u.jsx("input",{type:"text",value:le.phone,onChange:ne=>U({...le,phone:ne.target.value}),placeholder:"Mobile Number",className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Address"}),u.jsx("input",{type:"text",value:le.address,onChange:ne=>U({...le,address:ne.target.value}),placeholder:"Address Line 1",className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Address Line 2"}),u.jsx("input",{type:"text",value:le.address_line_2,onChange:ne=>U({...le,address_line_2:ne.target.value}),placeholder:"Address Line 2",className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-1 relative",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Pin Code"}),u.jsx("input",{type:"text",value:le.pincode,onChange:ne=>ge(ne.target.value),placeholder:"Pincode",maxLength:6,className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none"}),H&&u.jsx("div",{className:"absolute right-3 bottom-3",children:u.jsx(io,{className:"animate-spin text-[var(--brand-primary)]",size:14})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"City"}),u.jsx("input",{type:"text",value:le.city,onChange:ne=>U({...le,city:ne.target.value}),placeholder:"City",className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none"})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Unit / Division"}),u.jsxs("select",{value:le.division_unit,onChange:ne=>U({...le,division_unit:ne.target.value}),className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none appearance-none",required:!0,children:[u.jsx("option",{value:"",children:"Select Unit"}),Z.map(ne=>u.jsxs("option",{value:ne.name||ne.code,children:[ne.name," (",ne.code,")"]},ne.id))]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"State"}),u.jsx("input",{type:"text",value:le.perm_state,onChange:ne=>U({...le,perm_state:ne.target.value}),placeholder:"State",className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Country"}),u.jsx("input",{type:"text",value:le.perm_country,onChange:ne=>U({...le,perm_country:ne.target.value}),placeholder:"Country",className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none"})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Password"}),u.jsx("input",{type:"password",value:le.password,onChange:ne=>U({...le,password:ne.target.value}),placeholder:"Default: 123",className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none",required:!0})]}),u.jsxs("div",{className:"pt-2",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60 block mb-2",children:"Account Status"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{type:"button",onClick:()=>U({...le,is_active:!le.is_active}),className:`relative inline-flex h-10 w-20 items-center rounded-full transition-all duration-300 focus:outline-none shadow-inner border-2 ${le.is_active?"bg-emerald-500/10 border-emerald-500/30":"bg-red-500/10 border-red-500/30"}`,children:u.jsxs("span",{className:`inline-block h-7 w-7 transform rounded-full transition duration-300 ease-in-out shadow-lg flex items-center justify-center ${le.is_active?"translate-x-11 bg-emerald-500":"translate-x-1 bg-red-500"}`,children:[u.jsx(xb,{className:`text-[10px] text-white transition-opacity duration-300 ${le.is_active?"opacity-100":"opacity-0"}`}),u.jsx(Jo,{className:`absolute text-[12px] text-white transition-opacity duration-300 ${le.is_active?"opacity-0":"opacity-100"}`})]})}),u.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${le.is_active?"text-emerald-500":"text-red-500"}`,children:le.is_active?"Active":"Inactive"})]})]})]})}):f==="edit"?u.jsxs("div",{className:"bg-[var(--brand-primary)]/5 p-4 rounded-2xl border border-[var(--brand-primary)]/10",children:[u.jsx("p",{className:"text-[10px] uppercase font-black opacity-60",children:"Employee"}),u.jsxs("p",{className:"text-sm font-black text-[var(--brand-primary)]",children:[p!=null&&p.first_name?`${p==null?void 0:p.first_name}`:(p==null?void 0:p.username)||(p==null?void 0:p.name)," (",(p==null?void 0:p.emp_code)||(p==null?void 0:p.employee_code)||(p==null?void 0:p.employeeId)||(p==null?void 0:p.employee_id),")"]})]}):u.jsxs("div",{className:"bg-rose-500/5 p-4 rounded-2xl border border-rose-500/10",children:[u.jsx("p",{className:"text-[10px] text-rose-500 uppercase font-black",children:"Warning"}),u.jsx("p",{className:"text-xs font-bold opacity-80",children:"This will update the password for ALL employees in the system."})]}),f!=="add"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] ml-1 opacity-60",children:"New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:N?"text":"password",value:y,onChange:ne=>S(ne.target.value),placeholder:"Enter new password...",autoFocus:!0,className:"w-full px-5 py-4 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-black text-sm transition-all outline-none pr-12",required:!0}),u.jsx("button",{type:"button",onClick:()=>j(!N),className:"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] hover:text-[var(--brand-primary)] transition-all p-1.5 flex items-center justify-center",children:N?u.jsx(Bh,{size:20}):u.jsx(Fh,{size:20})})]})]})]})}),u.jsxs("div",{className:"p-6 border-t border-[var(--border-default)] bg-[var(--surface-muted)]/30 flex gap-3 shrink-0",children:[u.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 py-4 rounded-2xl font-bold uppercase text-xs border-2 border-[var(--border-default)] hover:bg-[var(--surface-muted)] transition-all tracking-widest",children:"Cancel"}),!V&&u.jsx("button",{type:"submit",form:"employee-modal-form",className:"flex-1 py-4 rounded-2xl bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-bold uppercase text-xs shadow-lg shadow-[var(--brand-primary)]/20 hover:scale-[1.02] active:scale-95 transition-all tracking-widest",children:f==="add"?"Create":"Update"})]})]})})]})},bie=()=>{const e=Wa(),{user:t}=Xi(),[r,n]=I.useState(!1),[a,i]=I.useState(!1),[c,f]=I.useState([]),[m,p]=I.useState({}),[x,y]=I.useState(!1),S=(R,z)=>{let G="";return R==="personal_email"&&z&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z)&&(G="Invalid email format"),R==="residence_landline"&&z&&(!/^\d+$/.test(z)||z.length!==10)&&(G="Contact No must be 10 digits"),R==="residence_postal_code"&&z&&(!/^\d+$/.test(z)||z.length!==6)&&(G="Pin Code must be 6 digits"),G},[N,j]=I.useState({emp_code:"",first_name:"",last_name:"",personal_email:"",residence_landline:"",division_unit:"",address:"",residence_postal_code:"",password:"123"});I.useEffect(()=>{(async()=>{var z;try{const G=await qt.get("/units"),$=Array.isArray(G.data)?G.data:((z=G.data)==null?void 0:z.units)||[];f($)}catch(G){console.error("Error fetching units:",G)}})(),(t==null?void 0:t.role)==="unit_admin"&&(t!=null&&t.unit_id)&&j(z=>({...z,division_unit:String(t.unit_id)}))},[t]);const _=async R=>{j(G=>({...G,residence_postal_code:R}));const z=S("residence_postal_code",R);if(p(G=>({...G,residence_postal_code:z})),!z&&R.length===6){i(!0);try{const $=await(await fetch(`https://api.postalpincode.in/pincode/${R}`)).json();if($[0].Status==="Success"){const X=$[0].PostOffice[0];j(V=>({...V,address:`${X.Name}, ${X.District}, ${X.State}`}))}}catch(G){console.error("Error fetching address details:",G)}finally{i(!1)}}},T=R=>{const{name:z,value:G}=R.target;j(X=>({...X,[z]:G}));const $=S(z,G);p(X=>({...X,[z]:$}))},D=async R=>{var G,$,X,V,Y,W;R.preventDefault();const z={};if(Object.keys(N).forEach(Ne=>{const Z=S(Ne,N[Ne]);Z&&(z[Ne]=Z)}),Object.keys(z).length>0){p(z),alert("Please correct validation errors.");return}n(!0);try{await qt.post("/employees/",N),alert("Employee added successfully"),e("/admin/employees")}catch(Ne){console.error("Error adding employee:",Ne),($=(G=Ne.response)==null?void 0:G.data)!=null&&$.errors&&p(Ne.response.data.errors),alert(((V=(X=Ne.response)==null?void 0:X.data)==null?void 0:V.error)||((W=(Y=Ne.response)==null?void 0:Y.data)==null?void 0:W.message)||"Failed to add employee")}finally{n(!1)}};return u.jsx(ui,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex items-center justify-between mb-8 animate-slide-up opacity-0",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:()=>e("/admin/employees"),className:"p-2 rounded-xl bg-[var(--surface-card)] border border-[var(--border-default)] text-[var(--text-secondary)] hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] transition-all",children:u.jsx(qg,{size:20})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold tracking-tight text-[var(--text-primary)]",children:"Add New Employee"}),u.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-1",children:"Enter employee details to register a new user"})]})]})}),u.jsxs("form",{onSubmit:D,className:"p-6 rounded-3xl bg-[var(--surface-card)] border border-[var(--border-default)] shadow-xl animate-fade-in relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[var(--brand-primary)]/5 rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 relative z-10",children:[u.jsx("div",{className:"col-span-full border-b border-[var(--border-default)] pb-2 mb-2",children:u.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest text-[var(--text-secondary)] flex items-center gap-2",children:[u.jsx(hf,{className:"text-[var(--brand-primary)]"})," Basic Information"]})}),u.jsx(Gd,{label:"Employee Code",name:"emp_code",value:N.emp_code,onChange:T,required:!0,placeholder:"e.g. 10009",error:m.emp_code}),u.jsx(Gd,{label:"First Name",name:"first_name",value:N.first_name,onChange:T,required:!0,placeholder:"e.g. Ms.",error:m.first_name}),u.jsx(Gd,{label:"Last Name",name:"last_name",value:N.last_name,onChange:T,required:!0,placeholder:"e.g. Saranya Senthil",error:m.last_name}),u.jsx(Gd,{label:"Email",name:"personal_email",type:"email",value:N.personal_email,onChange:T,placeholder:"personal@example.com",error:m.personal_email}),u.jsx(Gd,{label:"Contact No",name:"residence_landline",value:N.residence_landline,onChange:T,placeholder:"10-digit mobile",maxLength:10,error:m.residence_landline}),u.jsx(Gd,{label:"Password",name:"password",type:x?"text":"password",value:N.password,onChange:T,required:!0,placeholder:"Default: 123",error:m.password,showToggle:!0,onToggle:()=>y(!x),isVisible:x}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Unit / Division"}),u.jsxs("select",{name:"division_unit",value:N.division_unit,onChange:T,disabled:(t==null?void 0:t.role)==="unit_admin",className:`w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none appearance-none ${(t==null?void 0:t.role)==="unit_admin"?"opacity-50 cursor-not-allowed":""}`,children:[u.jsx("option",{value:"",children:"Select Unit"}),c.map(R=>u.jsxs("option",{value:R.name||R.code,children:[R.name," (",R.code,")"]},R.id))]})]}),u.jsxs("div",{className:"space-y-1 relative",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Pin Code"}),u.jsx("input",{type:"text",name:"residence_postal_code",value:N.residence_postal_code,onChange:R=>_(R.target.value),placeholder:"6-digit Pin Code",maxLength:6,className:`w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 ${m.residence_postal_code?"border-red-500":"border-[var(--border-default)]"} focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none`}),a&&u.jsx("div",{className:"absolute right-3 bottom-3",children:u.jsx(io,{className:"animate-spin text-[var(--brand-primary)]",size:14})}),m.residence_postal_code&&u.jsxs("p",{className:"text-[10px] text-red-500 font-bold mt-1 flex items-center gap-1",children:[u.jsx(Ug,{})," ",m.residence_postal_code]})]}),u.jsx("div",{className:"md:col-span-2",children:u.jsx(Gd,{label:"Full Address",name:"address",value:N.address,onChange:T,placeholder:"Full address details"})})]}),u.jsxs("div",{className:"mt-8 flex justify-end gap-4 border-t border-[var(--border-default)] pt-6",children:[u.jsx("button",{type:"button",onClick:()=>e("/admin/employees"),className:"px-8 py-4 rounded-2xl font-bold uppercase text-xs border-2 border-[var(--border-default)] hover:bg-[var(--surface-muted)] transition-all tracking-widest text-[var(--text-secondary)]",children:"Cancel"}),u.jsxs("button",{type:"submit",disabled:r,className:"px-8 py-4 rounded-2xl bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-bold uppercase text-xs shadow-lg shadow-[var(--brand-primary)]/20 hover:scale-[1.05] active:scale-95 transition-all tracking-widest flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(Gj,{size:16}),r?"Saving...":"Save Employee"]})]})]})]})})},Gd=e=>{const t=Da.c(28),{label:r,name:n,type:a,value:i,onChange:c,required:f,placeholder:m,maxLength:p,disabled:x,error:y,showToggle:S,onToggle:N,isVisible:j}=e,_=a===void 0?"text":a;let T;t[0]!==f?(T=f&&u.jsx("span",{className:"text-red-500",children:"*"}),t[0]=f,t[1]=T):T=t[1];let D;t[2]!==r||t[3]!==T?(D=u.jsxs("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:[r," ",T]}),t[2]=r,t[3]=T,t[4]=D):D=t[4];const R=`w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 ${y?"border-red-500":"border-[var(--border-default)]"} focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none ${x?"opacity-50 cursor-not-allowed":""} ${S?"pr-12":""}`;let z;t[5]!==x||t[6]!==p||t[7]!==n||t[8]!==c||t[9]!==m||t[10]!==f||t[11]!==R||t[12]!==_||t[13]!==i?(z=u.jsx("input",{type:_,name:n,value:i,onChange:c,required:f,placeholder:m,maxLength:p,disabled:x,className:R}),t[5]=x,t[6]=p,t[7]=n,t[8]=c,t[9]=m,t[10]=f,t[11]=R,t[12]=_,t[13]=i,t[14]=z):z=t[14];let G;t[15]!==j||t[16]!==N||t[17]!==S?(G=S&&u.jsx("button",{type:"button",onClick:N,className:"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] hover:text-[var(--brand-primary)] transition-all p-1.5 flex items-center justify-center",children:j?u.jsx(Bh,{size:18}):u.jsx(Fh,{size:18})}),t[15]=j,t[16]=N,t[17]=S,t[18]=G):G=t[18];let $;t[19]!==z||t[20]!==G?($=u.jsxs("div",{className:"relative",children:[z,G]}),t[19]=z,t[20]=G,t[21]=$):$=t[21];let X;t[22]!==y?(X=y&&u.jsxs("p",{className:"text-[10px] text-red-500 font-bold mt-1 flex items-center gap-1",children:[u.jsx(Ug,{})," ",y]}),t[22]=y,t[23]=X):X=t[23];let V;return t[24]!==D||t[25]!==$||t[26]!==X?(V=u.jsxs("div",{className:"space-y-1",children:[D,$,X]}),t[24]=D,t[25]=$,t[26]=X,t[27]=V):V=t[27],V},wie=()=>{const e=Wa(),{user:t}=Xi(),{id:r}=G_(),[n,a]=I.useState(!1),[i,c]=I.useState(!0),[f,m]=I.useState(!1),[p,x]=I.useState([]),[y,S]=I.useState({}),[N,j]=I.useState(!1),[_,T]=I.useState({emp_code:"",first_name:"",last_name:"",personal_email:"",residence_landline:"",division_unit:"",address:"",residence_postal_code:"",password:""}),D=($,X)=>{let V="";return $==="personal_email"&&X&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(X)&&(V="Invalid email format"),$==="residence_landline"&&X&&(!/^\d+$/.test(X)||X.length!==10)&&(V="Contact No must be 10 digits"),$==="residence_postal_code"&&X&&(!/^\d+$/.test(X)||X.length!==6)&&(V="Pin Code must be 6 digits"),V};I.useEffect(()=>{const $=async()=>{var V;try{const Y=await qt.get("/units"),W=Array.isArray(Y.data)?Y.data:((V=Y.data)==null?void 0:V.units)||[];x(W)}catch(Y){console.error("Error fetching units:",Y)}},X=async()=>{try{const Y=(await qt.get(`/employees/${r}/`)).data;T({emp_code:Y.emp_code||"",first_name:Y.first_name||"",last_name:Y.last_name||"",personal_email:Y.personal_email||"",residence_landline:Y.residence_landline||Y.mobile||Y.phone||"",division_unit:Y.division_unit||"",address:Y.address||"",residence_postal_code:Y.residence_postal_code||Y.pincode||"",password:""})}catch(V){console.error("Error fetching employee:",V),alert("Failed to load employee details"),e("/admin/employees")}finally{c(!1)}};r&&($(),X())},[r,e]);const R=async $=>{T(V=>({...V,residence_postal_code:$}));const X=D("residence_postal_code",$);if(S(V=>({...V,residence_postal_code:X})),!X&&$.length===6){m(!0);try{const Y=await(await fetch(`https://api.postalpincode.in/pincode/${$}`)).json();if(Y[0].Status==="Success"){const W=Y[0].PostOffice[0];T(Ne=>({...Ne,address:`${W.Name}, ${W.District}, ${W.State}`}))}}catch(V){console.error("Error fetching address details:",V)}finally{m(!1)}}},z=$=>{const{name:X,value:V}=$.target;T(W=>({...W,[X]:V}));const Y=D(X,V);S(W=>({...W,[X]:Y}))},G=async $=>{var V,Y,W,Ne,Z,Q;$.preventDefault();const X={};if(Object.keys(_).forEach(ye=>{if(ye==="password"&&!_[ye])return;const ie=D(ye,_[ye]);ie&&(X[ye]=ie)}),Object.keys(X).length>0){S(X),alert("Please correct validation errors.");return}a(!0);try{const ye={..._};ye.password||delete ye.password,await qt.put(`/employees/${r}/`,ye),alert("Employee updated successfully"),e("/admin/employees")}catch(ye){console.error("Error updating employee:",ye),(Y=(V=ye.response)==null?void 0:V.data)!=null&&Y.errors&&S(ye.response.data.errors),alert(((Ne=(W=ye.response)==null?void 0:W.data)==null?void 0:Ne.error)||((Q=(Z=ye.response)==null?void 0:Z.data)==null?void 0:Q.message)||"Failed to update employee")}finally{a(!1)}};return i?u.jsx(ui,{children:u.jsx(Vs,{})}):u.jsx(ui,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex items-center justify-between mb-8 animate-slide-up opacity-0",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:()=>e("/admin/employees"),className:"p-2 rounded-xl bg-[var(--surface-card)] border border-[var(--border-default)] text-[var(--text-secondary)] hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] transition-all",children:u.jsx(qg,{size:20})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold tracking-tight text-[var(--text-primary)]",children:"Edit Employee"}),u.jsxs("p",{className:"text-sm text-[var(--text-secondary)] mt-1",children:["Update employee details for ",_.first_name]})]})]})}),u.jsxs("form",{onSubmit:G,className:"p-6 rounded-3xl bg-[var(--surface-card)] border border-[var(--border-default)] shadow-xl animate-fade-in relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[var(--brand-primary)]/5 rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 relative z-10",children:[u.jsx("div",{className:"col-span-full border-b border-[var(--border-default)] pb-2 mb-2",children:u.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest text-[var(--text-secondary)] flex items-center gap-2",children:[u.jsx(hf,{className:"text-[var(--brand-primary)]"})," Basic Information"]})}),u.jsx(Yd,{label:"Employee Code",name:"emp_code",value:_.emp_code,onChange:z,required:!0,placeholder:"e.g. 10009",error:y.emp_code,disabled:!0}),u.jsx(Yd,{label:"First Name",name:"first_name",value:_.first_name,onChange:z,required:!0,placeholder:"e.g. Ms.",error:y.first_name}),u.jsx(Yd,{label:"Last Name",name:"last_name",value:_.last_name,onChange:z,required:!0,placeholder:"e.g. Saranya Senthil",error:y.last_name}),u.jsx(Yd,{label:"Email",name:"personal_email",type:"email",value:_.personal_email,onChange:z,placeholder:"personal@example.com",error:y.personal_email}),u.jsx(Yd,{label:"Contact No",name:"residence_landline",value:_.residence_landline,onChange:z,placeholder:"10-digit mobile",maxLength:10,error:y.residence_landline}),u.jsx(Yd,{label:"Password",name:"password",type:N?"text":"password",value:_.password,onChange:z,placeholder:"Leave blank to keep same",error:y.password,showToggle:!0,onToggle:()=>j(!N),isVisible:N}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Unit / Division"}),u.jsxs("select",{name:"division_unit",value:_.division_unit,onChange:z,disabled:(t==null?void 0:t.role)==="unit_admin",className:`w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none appearance-none ${(t==null?void 0:t.role)==="unit_admin"?"opacity-50 cursor-not-allowed":""}`,children:[u.jsx("option",{value:"",children:"Select Unit"}),p.map($=>u.jsxs("option",{value:$.name||$.code,children:[$.name," (",$.code,")"]},$.id))]})]}),u.jsxs("div",{className:"space-y-1 relative",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Pin Code"}),u.jsx("input",{type:"text",name:"residence_postal_code",value:_.residence_postal_code,onChange:$=>R($.target.value),placeholder:"6-digit Pin Code",maxLength:6,className:`w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 ${y.residence_postal_code?"border-red-500":"border-[var(--border-default)]"} focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none`}),f&&u.jsx("div",{className:"absolute right-3 bottom-3",children:u.jsx(io,{className:"animate-spin text-[var(--brand-primary)]",size:14})}),y.residence_postal_code&&u.jsxs("p",{className:"text-[10px] text-red-500 font-bold mt-1 flex items-center gap-1",children:[u.jsx(Ug,{})," ",y.residence_postal_code]})]}),u.jsx("div",{className:"md:col-span-2",children:u.jsx(Yd,{label:"Full Address",name:"address",value:_.address,onChange:z,placeholder:"Full address details"})})]}),u.jsxs("div",{className:"mt-8 flex justify-end gap-4 border-t border-[var(--border-default)] pt-6",children:[u.jsx("button",{type:"button",onClick:()=>e("/admin/employees"),className:"px-8 py-4 rounded-2xl font-bold uppercase text-xs border-2 border-[var(--border-default)] hover:bg-[var(--surface-muted)] transition-all tracking-widest text-[var(--text-secondary)]",children:"Cancel"}),u.jsxs("button",{type:"submit",disabled:n,className:"px-8 py-4 rounded-2xl bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-bold uppercase text-xs shadow-lg shadow-[var(--brand-primary)]/20 hover:scale-[1.05] active:scale-95 transition-all tracking-widest flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(Gj,{size:16}),n?"Updating...":"Update Employee"]})]})]})]})})},Yd=e=>{const t=Da.c(28),{label:r,name:n,type:a,value:i,onChange:c,required:f,placeholder:m,maxLength:p,disabled:x,error:y,showToggle:S,onToggle:N,isVisible:j}=e,_=a===void 0?"text":a;let T;t[0]!==f?(T=f&&u.jsx("span",{className:"text-red-500",children:"*"}),t[0]=f,t[1]=T):T=t[1];let D;t[2]!==r||t[3]!==T?(D=u.jsxs("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:[r," ",T]}),t[2]=r,t[3]=T,t[4]=D):D=t[4];const R=`w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 ${y?"border-red-500":"border-[var(--border-default)]"} focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none ${x?"opacity-50 cursor-not-allowed":""} ${S?"pr-12":""}`;let z;t[5]!==x||t[6]!==p||t[7]!==n||t[8]!==c||t[9]!==m||t[10]!==f||t[11]!==R||t[12]!==_||t[13]!==i?(z=u.jsx("input",{type:_,name:n,value:i,onChange:c,required:f,placeholder:m,maxLength:p,disabled:x,className:R}),t[5]=x,t[6]=p,t[7]=n,t[8]=c,t[9]=m,t[10]=f,t[11]=R,t[12]=_,t[13]=i,t[14]=z):z=t[14];let G;t[15]!==j||t[16]!==N||t[17]!==S?(G=S&&u.jsx("button",{type:"button",onClick:N,className:"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] hover:text-[var(--brand-primary)] transition-all p-1.5 flex items-center justify-center",children:j?u.jsx(Bh,{size:18}):u.jsx(Fh,{size:18})}),t[15]=j,t[16]=N,t[17]=S,t[18]=G):G=t[18];let $;t[19]!==z||t[20]!==G?($=u.jsxs("div",{className:"relative",children:[z,G]}),t[19]=z,t[20]=G,t[21]=$):$=t[21];let X;t[22]!==y?(X=y&&u.jsxs("p",{className:"text-[10px] text-red-500 font-bold mt-1 flex items-center gap-1",children:[u.jsx(Ug,{})," ",y]}),t[22]=y,t[23]=X):X=t[23];let V;return t[24]!==D||t[25]!==$||t[26]!==X?(V=u.jsxs("div",{className:"space-y-1",children:[D,$,X]}),t[24]=D,t[25]=$,t[26]=X,t[27]=V):V=t[27],V},Aie=()=>{var rt,At,Ht,Yt,Jt,Ut,ir,Wt,Ar,zt,Pn,Vt,Et,er,Qt,Jr,Hr,Ri,xn,Er,oa,cn,xr,Cr,es,$r,la,ca,or,Ja,ea,ya,Xr;const{isDark:e}=bi(),{user:t}=Xi();Wa();const r=kd(),a=new URLSearchParams(r.search).get("tab")||"reconciliation",[i,c]=I.useState(a),[f,m]=I.useState(!0),[p,x]=I.useState([]),[y,S]=I.useState({start_date:new Date().toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0],unit_id:"",role:"all",search:""}),[N,j]=I.useState(""),[_,T]=I.useState(null),[D,R]=I.useState([]),[z,G]=I.useState([]),[$,X]=I.useState({total:0,active:0,roles:[]}),[V,Y]=I.useState([]),[W,Ne]=I.useState(null),[Z,Q]=I.useState([]),[ye,ie]=I.useState([]),[q,te]=I.useState(1),[se,ue]=I.useState({}),[ee,Se]=I.useState(null),[le,U]=I.useState([]),[H,ae]=I.useState(1),[ge,ve]=I.useState(6),[de,ke]=I.useState(!1),[me,xe]=I.useState(!1),Oe=10,oe=()=>{try{if(!D||D.length===0){alert("No Item data to export for the selected filters.");return}const je=new wr("p","mm","a4"),jt=je.internal.pageSize.getWidth(),et=15;let bt=20;if(je.setFontSize(14),je.setTextColor(30,41,59),je.setFont(void 0,"bold"),je.text("ITEM SUMMARY",et,bt),bt+=10,je.setDrawColor(226,232,240),je.line(et,bt,jt-15,bt),bt+=10,je.setFontSize(10),je.setTextColor(30,41,59),je.setFont(void 0,"bold"),je.text(`Generated On: ${new Date().toLocaleString()}`,et,bt),bt+=6,je.setFont(void 0,"normal"),je.text(`Date Range: ${y.start_date} to ${y.end_date}`,et,bt),y.unit_id&&Array.isArray(p)){const pt=p.find(Ot=>String(Ot.id)===String(y.unit_id));pt&&(bt+=6,je.text(`Unit: ${pt.name}`,et,bt))}bt+=10;const Ft=pt=>(je.setFillColor(250,198,57),je.rect(et,pt,jt-et*2,10,"F"),je.setFont(void 0,"bold"),je.setTextColor(0,0,0),je.setFontSize(10),je.text("S.No",et+3,pt+7),je.text("Item Name",et+18,pt+7),je.text("Qty",et+130,pt+7,{align:"right"}),je.text("Amount",et+170,pt+7,{align:"right"}),pt+10+2);bt=Ft(bt),je.setFont(void 0,"normal"),je.setTextColor(30,41,59),je.setFontSize(9);let Re=0,mt=0;D.forEach((pt,Ot)=>{const Dt=pt.name_en||pt.name||"Unknown",It=Number(pt.totalQty??0),tr=Number(pt.totalAmount??0);Re+=tr,mt+=It;const cr=je.splitTextToSize(Dt,90),Nt=Math.max(8,cr.length*5)+4;bt+Nt>280&&(je.addPage(),bt=20,bt=Ft(bt),je.setFont(void 0,"normal"),je.setTextColor(30,41,59),je.setFontSize(9)),je.text(String(Ot+1),et+3,bt+5),je.text(cr,et+18,bt+5),je.text(String(It),et+130,bt+5,{align:"right"}),je.text(`INR ${tr.toFixed(2)}`,et+170,bt+5,{align:"right"}),je.setDrawColor(241,245,249),je.line(et,bt+Nt-2,jt-15,bt+Nt-2),bt+=Nt}),bt+=5,bt>280&&(je.addPage(),bt=20),je.setFont(void 0,"bold"),je.setFontSize(11),je.setTextColor(0,0,0),je.text("Grand Total:",et+100,bt),je.text(String(mt),et+130,bt,{align:"right"}),je.setTextColor(22,163,74),je.text(`INR ${Re.toFixed(2)}`,et+170,bt,{align:"right"}),je.save(`reconciliation-products-${y.start_date}.pdf`)}catch(je){console.error("PDF export error:",je),alert("Failed to export PDF. Please try again.")}},Le=I.useCallback(async()=>{var je;try{const jt=await qt.get("/units");let et=Array.isArray(jt.data)?jt.data:((je=jt.data)==null?void 0:je.units)||[];(t==null?void 0:t.role)==="unit_admin"&&(t!=null&&t.unit_id)&&(et=et.filter(bt=>bt.id===t.unit_id)),x(et)}catch(jt){console.error("Fetch units failed",jt)}},[t]),Ge=I.useCallback(async()=>{m(!0);try{const je=new URLSearchParams({start_date:y.start_date,end_date:y.end_date,unit_id:y.unit_id}),et=(await qt.get(`/dashboard/summary?${je.toString()}`)).data;T(et);const Ft=(et.products||[]).filter(Nt=>Number(Nt.totalQty||0)>0).sort((Nt,mr)=>(mr.totalAmount||0)-(Nt.totalAmount||0)),Re={CASH:{},UPI:{},GUEST:{},FREE:{}};(et.orders||[]).forEach(Nt=>{const mr=(Nt.payment_mode||Nt.paymentMode||"").toUpperCase();if(mr&&Re[mr]){const Lr=[];Nt.items&&Lr.push(...Nt.items),Nt.dayBills&&Nt.dayBills.forEach(Vr=>Lr.push(...Vr.items||[])),Lr.forEach(Vr=>{const vt=Vr.product_id||Vr.id;vt&&(Re[mr][vt]=(Re[mr][vt]||0)+(Vr.quantity||1))})}}),(et.unitStats||[]).forEach(Nt=>{const mr=Nt.items||Nt.itemsList||[],Lr=Nt.modes||{},Vr=Object.keys(Lr).filter(vt=>{var Rn;return(((Rn=Lr[vt])==null?void 0:Rn.total)||Lr[vt]||0)>0});if(Vr.length===1){const vt=Vr[0].toUpperCase();Re[vt]&&mr.forEach(Rn=>{const Sr=Rn.product_id||Rn.id;Sr&&!Re[vt][Sr]&&(Re[vt][Sr]=(Re[vt][Sr]||0)+(Rn.quantity||1))})}});const mt=Ft.map(Nt=>({...Nt,cashQty:Re.CASH[Nt.product_id]||0,upiQty:Re.UPI[Nt.product_id]||0,guestQty:Re.GUEST[Nt.product_id]||0,freeQty:Re.FREE[Nt.product_id]||0}));R(mt);const pt={};(et.orders||[]).forEach(Nt=>{let mr="";if(Nt.bill_date?mr=Nt.bill_date.split("T")[0]:Nt.date?mr=Nt.date.split("T")[0]:Nt.created_at&&(mr=Nt.created_at.split("T")[0]),mr){const Lr=parseFloat(Nt.grand_total||Nt.total_amount||Nt.amount||0);pt[mr]=(pt[mr]||0)+Lr}});const Dt=[],It=new Date(y.start_date),tr=new Date(y.end_date);if(!isNaN(It.getTime())&&!isNaN(tr.getTime())){let Nt=new Date(It),mr=0;for(;Nt<=tr&&mr<366;){const Lr=Nt.toISOString().split("T")[0];Dt.push({date:Lr,revenue:pt[Lr]||0}),Nt.setDate(Nt.getDate()+1),mr++}}Dt.length===0&&Object.keys(pt).sort().forEach(mr=>Dt.push({date:mr,revenue:pt[mr]})),G(Dt),Q(et.employees||[]),U(et.orders||[]);let Xt=et.unitStats||[];if(!Xt.length)try{const Nt=await qt.get(`/dashboard/unit-stats?${je.toString()}`);Ne(Nt.data.overall||null),Xt=Nt.data.unitStats||Nt.data.unit_stats||[]}catch(Nt){console.warn("Unit Stats fetch specific failed",Nt)}const cr=Xt.map(Nt=>{var Vr,vt,Rn,Sr;const mr=Nt.modes||Nt.payment_modes||{},Lr=On=>{const ts=mr[On];return parseFloat(typeof ts=="object"&&ts!==null?ts.total||0:ts||0)};return{unit_id:Nt.unit_id,name:Nt.name||Nt.unit_name,revenue:parseFloat(Nt.revenue||0),orders:parseInt(Nt.count||Nt.order_count||0),items:parseInt(Nt.itemCount||Nt.item_count||0),itemsList:Nt.items||[],cashTotal:Lr("CASH"),cashCount:parseInt(((Vr=mr.CASH)==null?void 0:Vr.count)||0),upiTotal:Lr("UPI"),upiCount:parseInt(((vt=mr.UPI)==null?void 0:vt.count)||0),guestTotal:Lr("GUEST"),guestCount:parseInt(((Rn=mr.GUEST)==null?void 0:Rn.count)||0),freeTotal:Lr("FREE"),freeCount:parseInt(((Sr=mr.FREE)==null?void 0:Sr.count)||0)}}).sort((Nt,mr)=>mr.revenue-Nt.revenue);Y(cr)}catch(je){console.error("Fetch data failed",je)}finally{m(!1)}},[y]);I.useEffect(()=>{(t==null?void 0:t.role)==="unit_admin"&&(t!=null&&t.unit_id)&&S(je=>({...je,unit_id:t.unit_id}))},[t]),I.useEffect(()=>{Le()},[Le]),I.useEffect(()=>{Ge()},[Ge]),I.useEffect(()=>{te(1)},[y.search,N]);const Pe=I.useMemo(()=>{let je=D||[];if(N){const jt=N.toLowerCase();je=je.filter(et=>(et.name||"").toLowerCase().includes(jt)||(et.product_id||"").toString().toLowerCase().includes(jt))}return je},[D,N]),ne=I.useMemo(()=>{let je=Z||[];if(N){const jt=N.toLowerCase();je=je.filter(et=>(et.name||"").toLowerCase().includes(jt)||(et.empCode||"").toLowerCase().includes(jt))}return je},[Z,N]),tt=I.useMemo(()=>{let je=V||[];if(N){const jt=N.toLowerCase();je=je.filter(et=>(et.name||"").toLowerCase().includes(jt))}return je},[V,N]),at=(je,jt,et)=>{const bt=new wr("l","mm","a4"),Ft=bt.internal.pageSize.getWidth();bt.setFont("helvetica","bold"),bt.setFontSize(22),bt.setTextColor(30,41,59),bt.text(je.toUpperCase()+" REPORT",14,22),bt.setDrawColor(226,232,240),bt.setLineWidth(.5),bt.line(14,28,Ft-14,28);const mt=new Date().toLocaleString("en-IN",{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0});bt.setFontSize(10),bt.setFont("helvetica","bold"),bt.setTextColor(71,85,105),bt.text(`Generated On: ${mt}`,14,38),bt.text(`Total Records: ${jt.length}`,Ft-50,38);let pt=48;const Ot=12,Dt=()=>{bt.setFillColor(250,198,57),bt.rect(14,pt,Ft-28,Ot,"F"),bt.setTextColor(0,0,0),bt.setFontSize(11),bt.setFont("helvetica","bold"),bt.text("S.No",17,pt+7.5),et.forEach(It=>{bt.text(It.header,It.x,pt+7.5)})};Dt(),pt+=Ot,bt.setFont("helvetica","normal"),bt.setFontSize(10),bt.setTextColor(51,65,85),jt.forEach((It,tr)=>{pt>180&&(bt.addPage(),pt=20,Dt(),pt+=Ot,bt.setFont("helvetica","normal"),bt.setFontSize(10),bt.setTextColor(51,65,85)),bt.text((tr+1).toString(),17,pt+7),et.forEach(Xt=>{let cr=It[Xt.key];if(Xt.key.toLowerCase().includes("amount")||Xt.key.toLowerCase().includes("revenue")||Xt.key.toLowerCase().includes("_amt")){const Nt=parseFloat(cr);cr=isNaN(Nt)?cr:""+Nt.toLocaleString("en-IN")}bt.text(String(cr||"-"),Xt.x,pt+7)}),bt.setDrawColor(241,245,249),bt.setLineWidth(.1),bt.line(14,pt+10,Ft-14,pt+10),pt+=10}),bt.save(`${je.toLowerCase().replace(/\s+/g,"_")}_report.pdf`)},Be=[{id:"overall",label:"Overall",icon:Wj},{id:"reconciliation",label:"Summary Hub",icon:Uj}],Ze=({title:je,children:jt,extra:et,noPadding:bt})=>u.jsxs("div",{className:"bg-[var(--surface-card)] border border-[var(--border-default)] rounded-[2.5rem] shadow-2xl shadow-black/5 dark:shadow-none overflow-hidden relative transition-all duration-500 group/card",children:[u.jsxs("div",{className:`p-6 sm:p-10 ${bt?"pb-0":""}`,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-6 mb-10 relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-2.5 h-10 bg-[var(--brand-primary)] rounded-full"}),u.jsx("h3",{className:"text-2xl sm:text-3xl font-black tracking-tight text-[var(--text-primary)] uppercase",children:je})]}),et&&u.jsx("div",{className:"w-full sm:w-auto",children:et})]}),u.jsx("div",{className:"relative z-10",children:jt})]}),u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[var(--brand-primary)]/5 rounded-full blur-[80px] -mr-32 -mt-32 pointer-events-none group-hover/card:bg-[var(--brand-primary)]/10 transition-colors"})]}),Fe=({label:je,value:jt,trend:et,icon:bt,gradient:Ft})=>u.jsxs("div",{className:`p-8 rounded-[2.5rem] border border-white/5 relative overflow-hidden group shadow-2xl transition-all duration-500 md:hover:-translate-y-2 md:hover:shadow-3xl active:scale-95 ${Ft}`,children:[u.jsx("div",{className:"absolute inset-0 bg-black/10 opacity-0 group-hover:opacity-20 transition-opacity duration-500"}),u.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-black uppercase tracking-[0.3em] text-white/80 mb-3",children:je}),u.jsx("h4",{className:"text-3xl sm:text-4xl font-black text-white tracking-tighter",children:jt}),et!==void 0&&u.jsxs("div",{className:"flex items-center gap-1.5 mt-5 text-[10px] font-black px-3 py-1.5 rounded-xl bg-white/20 text-white backdrop-blur-md w-fit",children:[et>0?u.jsx(aS,{}):u.jsx(XR,{}),u.jsxs("span",{children:[Math.abs(et),"%"]})]})]}),u.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/20 text-white backdrop-blur-xl flex items-center justify-center shadow-inner group-hover:scale-110 transition-transform duration-500",children:u.jsx(bt,{size:24})})]}),u.jsx("div",{className:"absolute -right-10 -bottom-10 w-40 h-40 bg-white/5 rounded-full blur-3xl group-hover:bg-white/10 transition-colors"})]});return f&&!_?u.jsx(ui,{children:u.jsx("div",{className:"h-[60vh] flex items-center justify-center",children:u.jsx(Vs,{})})}):u.jsx(ui,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[u.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4 sm:mb-8 mt-1 animate-slide-up opacity-0",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-1.5 h-8 bg-[var(--brand-primary)] rounded-full shadow-[0_0_10px_rgba(249,115,22,0.4)]"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-[0.1em] text-[var(--text-primary)]",children:"Overall Report".split("").map((je,jt)=>u.jsx("span",{className:"animate-letter-pop",style:{animationDelay:`${300+(je===" "?0:jt*50)}ms`},children:je===" "?"":je},jt))})]})}),u.jsx("div",{style:{animationDelay:"100ms"},className:"mb-8 p-4 sm:p-8 rounded-3xl bg-[var(--surface-card)] shadow-[0_8px_30px_rgb(0,0,0,0.08)] border border-[var(--border-default)] animate-slide-up opacity-0",children:u.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-stretch lg:items-end",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-sm font-bold text-white mb-2 ml-1 tracking-wider",children:"Start Date"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"date",value:y.start_date,onChange:je=>S({...y,start_date:je.target.value}),className:"w-full px-4 py-3 rounded-2xl bg-[var(--surface-main)] text-[var(--text-primary)] focus:bg-[var(--surface-card)] focus:ring-4 focus:ring-[var(--brand-primary)]/10 border border-[var(--border-default)]/50 appearance-none transition-all font-bold text-xs cursor-pointer shadow-inner pr-10"}),u.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-[var(--text-secondary)] opacity-50",children:u.jsx(gb,{})})]})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-sm font-bold text-white mb-2 ml-1 tracking-wider",children:"End Date"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"date",value:y.end_date,onChange:je=>S({...y,end_date:je.target.value}),className:"w-full px-4 py-3 rounded-2xl bg-[var(--surface-main)] text-[var(--text-primary)] focus:bg-[var(--surface-card)] focus:ring-4 focus:ring-[var(--brand-primary)]/10 border border-[var(--border-default)]/50 appearance-none transition-all font-bold text-xs cursor-pointer shadow-inner pr-10"}),u.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-[var(--text-secondary)] opacity-50",children:u.jsx(gb,{})})]})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[var(--brand-primary)] mb-3 ml-1 uppercase tracking-[0.2em] opacity-70",children:"Select Unit"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:y.unit_id,onChange:je=>S({...y,unit_id:je.target.value}),disabled:(t==null?void 0:t.role)==="unit_admin",className:"w-full pl-4 pr-10 py-3 rounded-2xl bg-[var(--surface-main)] text-[var(--text-primary)] focus:bg-[var(--surface-card)] focus:ring-4 focus:ring-[var(--brand-primary)]/10 border border-[var(--border-default)]/50 appearance-none transition-all font-bold text-xs cursor-pointer shadow-inner disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("option",{value:"",children:"All Units"}),p.map(je=>u.jsx("option",{value:je.id,children:je.name},je.id))]}),u.jsx(Gl,{className:"absolute right-3.5 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--brand-primary)] pointer-events-none opacity-60"})]})]}),i!=="overall"&&i!=="users"&&i!=="reconciliation"&&u.jsxs("div",{className:"flex-1",children:[u.jsxs("label",{className:"block text-[10px] font-bold text-[var(--brand-primary)] mb-3 ml-1 uppercase tracking-[0.2em] opacity-70",children:["Search ",i.charAt(0).toUpperCase()+i.slice(1)]}),u.jsx("div",{className:"flex items-center p-2 rounded-2xl bg-[var(--surface-main)] focus-within:bg-[var(--surface-card)] focus-within:ring-4 focus-within:ring-[var(--brand-primary)]/10 transition-all shadow-inner border border-[var(--border-default)]/50 overflow-hidden w-full",children:u.jsx("input",{type:"text",placeholder:`Search by ${i==="products"||i==="employees"?"name or ID":"name"}...`,value:i==="orders"?y.search:N,onChange:je=>{i==="orders"?S({...y,search:je.target.value}):j(je.target.value)},className:"w-full bg-transparent border-none text-[var(--text-primary)] text-xs font-bold focus:ring-0 outline-none placeholder:font-normal placeholder:opacity-50"})})]})]})}),Be.length>1&&u.jsx("div",{style:{animationDelay:"200ms"},className:"bg-[var(--surface-card)] border border-[var(--border-default)] p-1 sm:p-1.5 rounded-3xl flex gap-0.5 sm:gap-1 mb-8 sm:mb-12 overflow-x-auto no-scrollbar shadow-inner animate-slide-up opacity-0",children:Be.map(je=>u.jsxs("button",{onClick:()=>{c(je.id),j(""),je.id!=="orders"&&y.search&&S(jt=>({...jt,search:""}))},className:`flex items-center justify-center gap-1 sm:gap-2 px-2 sm:px-6 lg:px-8 py-2 sm:py-3 lg:py-3.5 rounded-xl sm:rounded-2xl font-bold text-[10px] sm:text-xs lg:text-xs uppercase tracking-widest transition-all whitespace-nowrap flex-shrink-0 sm:flex-1 ${i===je.id?"bg-gradient-to-r from-[var(--brand-primary)] to-amber-500 text-white shadow-lg shadow-[var(--brand-primary)]/20 scale-100 sm:scale-[1.02]":"text-[var(--text-secondary)] hover:bg-[var(--surface-muted)] hover:text-[var(--text-primary)]"}`,children:[u.jsx(je.icon,{size:16,className:`${i===je.id?"animate-pulse":""} hidden sm:block`}),u.jsx("span",{className:"block",children:je.label})]},je.id))}),u.jsxs("div",{className:"space-y-10 animate-in fade-in zoom-in-95 duration-500",children:[i==="overall"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[u.jsx(Fe,{label:"Total Revenue",value:`${((At=(rt=_==null?void 0:_.overall)==null?void 0:rt.total)==null?void 0:At.toLocaleString())||0}`,trend:12,icon:ZR,gradient:"bg-gradient-to-br from-blue-600 to-indigo-700"}),u.jsx(Fe,{label:"Total Bills",value:(_==null?void 0:_.billsCount)||0,trend:8,icon:t1,gradient:"bg-gradient-to-br from-amber-500 to-orange-600"}),u.jsx(Fe,{label:"Item Sales",value:D.reduce((je,jt)=>je+(jt.totalQty||0),0),trend:5,icon:QR,gradient:"bg-gradient-to-br from-purple-600 to-fuchsia-700"}),u.jsx(Fe,{label:"Active Staff",value:Z.length,trend:4,icon:vm,gradient:"bg-gradient-to-br from-emerald-500 to-teal-600"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsx(Ze,{title:"Revenue Distribution",children:u.jsx("div",{className:"h-[300px] md:h-[400px] w-full",children:u.jsx(Qp,{width:"100%",height:"100%",children:u.jsxs(Sae,{data:z,margin:{top:20,right:30,left:0,bottom:0},children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"colorRev",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"var(--brand-primary)",stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:"var(--brand-primary)",stopOpacity:0})]})}),u.jsx(S5,{strokeDasharray:"3 3",vertical:!1,stroke:e?"#334155":"#e2e8f0"}),u.jsx(j5,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"},dy:10}),u.jsx(T5,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11},tickFormatter:je=>`${je}`}),u.jsx(om,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)",backgroundColor:e?"#1e293b":"#fff"},itemStyle:{fontWeight:"bold",color:"var(--brand-primary)"}}),u.jsx(aM,{type:"monotone",dataKey:"revenue",stroke:"var(--brand-primary)",strokeWidth:4,fill:"url(#colorRev)"})]})})})})}),u.jsxs(Ze,{title:"Payment Split",children:[u.jsx("div",{className:"h-[300px]",children:u.jsx(Qp,{width:"100%",height:"100%",children:u.jsxs(w_,{children:[u.jsx(N5,{data:[{name:"UPI",value:((Yt=(Ht=_==null?void 0:_.modes)==null?void 0:Ht.UPI)==null?void 0:Yt.total)||0,color:"#3b82f6"},{name:"GUEST",value:((Ut=(Jt=_==null?void 0:_.modes)==null?void 0:Jt.GUEST)==null?void 0:Ut.total)||0,color:"#f59e0b"},{name:"FREE",value:((Wt=(ir=_==null?void 0:_.modes)==null?void 0:ir.FREE)==null?void 0:Wt.total)||0,color:"#8b5cf6"}].filter(je=>je.value>0),cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:8,dataKey:"value",stroke:"none",children:[{name:"UPI",value:((zt=(Ar=_==null?void 0:_.modes)==null?void 0:Ar.UPI)==null?void 0:zt.total)||0,color:"#3b82f6"},{name:"GUEST",value:((Vt=(Pn=_==null?void 0:_.modes)==null?void 0:Pn.GUEST)==null?void 0:Vt.total)||0,color:"#f59e0b"},{name:"FREE",value:((er=(Et=_==null?void 0:_.modes)==null?void 0:Et.FREE)==null?void 0:er.total)||0,color:"#8b5cf6"}].filter(je=>je.value>0).map((je,jt)=>u.jsx(uf,{fill:je.color},`cell-${jt}`))}),u.jsx(om,{formatter:je=>`${je.toLocaleString()}`,contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}})]})})}),u.jsxs("div",{className:"mt-4 space-y-4 border-t border-[var(--border-default)] pt-4",children:[u.jsxs("div",{style:{animationDelay:"200ms"},className:"flex justify-between items-center bg-blue-500/5 p-3 rounded-xl border border-blue-500/10 animate-slide-up opacity-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.5)]"}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-60",children:"UPI Payment"})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-black text-sm text-blue-500",children:["",((Hr=(Jr=(Qt=_==null?void 0:_.modes)==null?void 0:Qt.UPI)==null?void 0:Jr.total)==null?void 0:Hr.toLocaleString())||0]}),u.jsxs("p",{className:"text-[10px] font-bold opacity-40",children:[((xn=(Ri=_==null?void 0:_.modes)==null?void 0:Ri.UPI)==null?void 0:xn.count)||0," Bills"]})]})]}),u.jsxs("div",{style:{animationDelay:"300ms"},className:"flex justify-between items-center bg-amber-500/5 p-3 rounded-xl border border-amber-500/10 animate-slide-up opacity-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500 shadow-[0_0_10px_rgba(245,158,11,0.5)]"}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-60",children:"Guest Payment"})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-black text-sm text-amber-500",children:["",((cn=(oa=(Er=_==null?void 0:_.modes)==null?void 0:Er.GUEST)==null?void 0:oa.total)==null?void 0:cn.toLocaleString())||0]}),u.jsxs("p",{className:"text-[10px] font-bold opacity-40",children:[((Cr=(xr=_==null?void 0:_.modes)==null?void 0:xr.GUEST)==null?void 0:Cr.count)||0," Bills"]})]})]}),u.jsxs("div",{style:{animationDelay:"400ms"},className:"flex justify-between items-center bg-purple-500/5 p-3 rounded-xl border border-purple-500/10 animate-slide-up opacity-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500 shadow-[0_0_10px_rgba(139,92,246,0.5)]"}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-60",children:"Free Meal"})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-black text-sm text-purple-500",children:["",((la=($r=(es=_==null?void 0:_.modes)==null?void 0:es.FREE)==null?void 0:$r.total)==null?void 0:la.toLocaleString())||0]}),u.jsxs("p",{className:"text-[10px] font-bold opacity-40",children:[((or=(ca=_==null?void 0:_.modes)==null?void 0:ca.FREE)==null?void 0:or.count)||0," Bills"]})]})]})]})]})]})]}),i==="items"&&u.jsx(Ze,{title:"Items",extra:u.jsxs("button",{onClick:()=>at("Item Performance",Pe,[{header:"Item",key:"name_en",x:35},{header:"Unit",key:"unit_name",x:100},{header:"UPI (Qty/Amt)",key:"upiSummary",x:130},{header:"Guest (Qty/Amt)",key:"guestSummary",x:180},{header:"Free (Qty/Amt)",key:"freeSummary",x:230},{header:"Revenue",key:"totalAmount",x:280}]),className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-semibold px-6 py-2.5 sm:py-3 rounded-xl flex items-center justify-center gap-3 transition-all shadow-[0_4px_15px_rgba(0,0,0,0.2)] hover:scale-105 active:scale-95 text-xs sm:text-sm tracking-wider",children:[u.jsx(hd,{className:"text-lg"}),u.jsx("span",{children:"PDF"})]}),children:u.jsx("div",{className:"overflow-x-auto border border-[var(--border-default)] rounded-3xl overflow-hidden mb-2",children:u.jsxs("table",{className:"w-full border-separate border-spacing-0 min-w-[1000px]",children:[u.jsx("thead",{className:"bg-[var(--brand-primary)] text-[var(--text-inverse)] text-xs sm:text-sm uppercase tracking-wider font-bold",children:u.jsxs("tr",{className:"text-[var(--text-inverse)]",children:[u.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center border-r border-black/10 w-10 sm:w-14",children:"#"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-left border-r border-black/10",children:"Item"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center border-r border-black/10",children:"UPI"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center border-r border-black/10",children:"GUEST"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center border-r border-black/10",children:"FREE"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center border-r border-black/10",children:"UNIT"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-right border-r border-black/10",children:"Revenue"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-right",children:"Performance"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]",children:Pe.map((je,jt)=>{const et=ee===je.product_id,bt=Object.values(se[je.product_id]||{}).sort((Ft,Re)=>Re.totalAmt-Ft.totalAmt);return u.jsxs(I.Fragment,{children:[u.jsxs("tr",{onClick:()=>Se(et?null:je.product_id),style:{animationDelay:`${jt*30}ms`},className:`group cursor-pointer transition-all animate-slide-up opacity-0 ${et?"bg-[var(--surface-muted)]":"hover:bg-[var(--surface-muted)]/30"}`,children:[u.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center",children:et?u.jsx(Gl,{className:"text-black"}):u.jsx(Zl,{className:"opacity-40"})}),u.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-xs sm:text-base tracking-tight text-[var(--text-primary)]",children:je.name||je.name_en}),je.name_ta&&u.jsx("p",{className:"text-xs font-medium text-[var(--text-secondary)] opacity-70",children:je.name_ta})]})}),u.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-xs sm:text-base font-bold text-blue-500",children:["",(je.upiAmt||0).toLocaleString()]}),u.jsx("span",{className:"text-[10px] sm:text-xs font-medium opacity-60",children:je.upiQty})]})}),u.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-xs sm:text-base font-bold text-amber-500",children:["",(je.guestAmt||0).toLocaleString()]}),u.jsx("span",{className:"text-[10px] sm:text-xs font-medium opacity-60",children:je.guestQty})]})}),u.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-xs sm:text-base font-bold text-purple-500",children:["",(je.freeAmt||0).toLocaleString()]}),u.jsx("span",{className:"text-[10px] sm:text-xs font-medium opacity-60",children:je.freeQty})]})}),u.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center",children:u.jsx("span",{className:"inline-block px-2 sm:px-3 py-1 bg-[var(--surface-muted)] rounded-lg text-[10px] sm:text-sm font-bold text-[var(--text-primary)]",children:je.unit_name})}),u.jsxs("td",{className:"px-3 sm:px-6 py-3 sm:py-4 text-right font-bold text-xs sm:text-base text-emerald-500",children:["",(je.totalAmount||0).toLocaleString()]}),u.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-2 sm:gap-3",children:[u.jsxs("span",{className:"text-[10px] font-bold opacity-40",children:[Math.round(je.totalAmount/(Math.max(...D.map(Ft=>Ft.totalAmount))||1)*100),"%"]}),u.jsx("div",{className:"w-16 sm:w-24 bg-[var(--surface-muted)] h-2 rounded-full overflow-hidden shadow-inner",children:u.jsx("div",{className:"bg-gradient-to-r from-[var(--brand-primary)] to-amber-500 h-full rounded-full",style:{width:`${Math.min(je.totalAmount/(Math.max(...D.map(Ft=>Ft.totalAmount))||1)*100,100)}%`}})})]})})]}),et&&u.jsx("tr",{className:"bg-[var(--surface-muted)]/20 animate-in fade-in slide-in-from-top-2 duration-300",children:u.jsx("td",{colSpan:"8",className:"p-0",children:u.jsxs("div",{className:"px-6 sm:px-10 lg:px-20 py-8 border-l-4 border-[var(--brand-primary)] bg-[var(--surface-card)] shadow-inner",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8 pb-4 border-b border-[var(--border-default)]",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-black uppercase tracking-[0.2em] text-[var(--brand-primary)] mb-1",children:"Staff Performance Breakdown"}),u.jsx("p",{className:"text-xs text-[var(--text-secondary)] opacity-60",children:"Sales distribution across all active payment modes for this item"})]}),u.jsxs("div",{className:"bg-[var(--brand-primary)]/5 px-4 py-2 rounded-2xl border border-[var(--brand-primary)]/10",children:[u.jsx("span",{className:"text-[10px] font-bold uppercase opacity-40 mr-2",children:"Total Sales:"}),u.jsxs("span",{className:"text-sm font-black text-[var(--brand-primary)]",children:["",je.totalAmount.toLocaleString()]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:bt.length>0?bt.map(Ft=>u.jsxs("div",{className:"bg-[var(--surface-muted)]/30 rounded-3xl p-5 border border-[var(--border-default)]/50 hover:border-[var(--brand-primary)]/30 transition-all group/staff",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gradient-to-br from-[var(--brand-primary)] to-amber-500 flex items-center justify-center text-white font-black text-xs shadow-lg group-hover/staff:scale-110 transition-transform",children:Ft.name.charAt(0)}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--brand-primary)]",children:Ft.empCode}),u.jsx("p",{className:"font-bold text-sm text-[var(--text-primary)]",children:Ft.name})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[10px] font-bold opacity-40 uppercase mb-1",children:"Items Sold"}),u.jsx("p",{className:"text-sm font-black text-[var(--brand-primary)]",children:Ft.totalQty})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-blue-500/5 p-3 rounded-2xl border border-blue-500/10",children:[u.jsx("p",{className:"text-[9px] font-black text-blue-600 uppercase mb-1",children:"UPI"}),u.jsxs("p",{className:"text-xs font-black text-blue-500",children:["",Ft.upiAmt.toLocaleString()]}),u.jsxs("p",{className:"text-[9px] font-bold opacity-40 mt-1",children:[Ft.upiQty," Qty"]})]}),u.jsxs("div",{className:"bg-amber-500/5 p-3 rounded-2xl border border-amber-500/10",children:[u.jsx("p",{className:"text-[9px] font-black text-amber-600 uppercase mb-1",children:"GUEST"}),u.jsxs("p",{className:"text-xs font-black text-amber-500",children:["",Ft.guestAmt.toLocaleString()]}),u.jsxs("p",{className:"text-[9px] font-bold opacity-40 mt-1",children:[Ft.guestQty," Qty"]})]}),u.jsxs("div",{className:"bg-purple-500/5 p-3 rounded-2xl border border-purple-500/10",children:[u.jsx("p",{className:"text-[9px] font-black text-purple-600 uppercase mb-1",children:"FREE"}),u.jsxs("p",{className:"text-xs font-black text-purple-500",children:["",Ft.freeAmt.toLocaleString()]}),u.jsxs("p",{className:"text-[9px] font-bold opacity-40 mt-1",children:[Ft.freeQty," Qty"]})]})]})]},Ft.id)):u.jsxs("div",{className:"col-span-full py-10 flex flex-col items-center justify-center opacity-40",children:[u.jsx(vm,{size:40,className:"mb-4"}),u.jsx("p",{className:"text-sm font-bold uppercase tracking-widest",children:"No detailed breakdowns available"})]})})]})})})]},je.product_id)})})]})})}),i==="orders"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10 mb-10",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsx(Ze,{title:"Order Trends",children:u.jsx("div",{className:"h-[300px] md:h-[450px]",children:u.jsx(Qp,{width:"100%",height:"100%",children:u.jsxs(dae,{data:z,margin:{top:20,right:30,left:0,bottom:20},children:[u.jsx(S5,{strokeDasharray:"3 3",vertical:!1,stroke:e?"#334155":"#e2e8f0"}),u.jsx(j5,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:"bold"},dy:10}),u.jsx(T5,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10}}),u.jsx(om,{cursor:{fill:"var(--brand-primary)",opacity:.1},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)",backgroundColor:e?"#1e293b":"#fff"}}),u.jsx(lM,{dataKey:"revenue",fill:"var(--brand-primary)",radius:[6,6,6,6],barSize:30})]})})})})}),u.jsx("div",{className:"space-y-8",children:u.jsxs("div",{className:"p-8 rounded-3xl bg-gradient-to-br from-indigo-900 via-blue-900 to-blue-800 text-white shadow-2xl relative overflow-hidden group",children:[u.jsx(t1,{className:"absolute -right-8 -bottom-8 text-white/5 size-40 group-hover:scale-110 transition-transform duration-700"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("p",{className:"text-xs font-black uppercase tracking-widest opacity-60 mb-8 border-b border-white/10 pb-4",children:"Order Analytics"}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-bold uppercase tracking-[0.2em] mb-1 opacity-50",children:"Avg Order Value"}),u.jsxs("p",{className:"text-4xl font-black",children:["",((((Ja=_==null?void 0:_.overall)==null?void 0:Ja.total)||0)/((_==null?void 0:_.billsCount)||1)).toFixed(0)]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-bold uppercase tracking-[0.2em] mb-1 opacity-50",children:"Peak Performance"}),u.jsx("p",{className:"text-2xl font-black",children:z.length>0?[...z].sort((je,jt)=>jt.revenue-je.revenue)[0].date:"N/A"})]}),u.jsx("div",{className:"pt-4 border-t border-white/10",children:u.jsxs("div",{className:"flex items-center gap-3 text-emerald-400 font-bold text-sm",children:[u.jsx(aS,{size:20}),u.jsx("span",{children:"Growing 14% vs Prev Period"})]})})]})]})]})})]}),u.jsxs(Ze,{title:"All Orders",children:[u.jsx("div",{className:"overflow-x-auto border border-[var(--border-default)] rounded-3xl overflow-hidden mb-10",children:u.jsxs("table",{className:"w-full border-separate border-spacing-0 min-w-[1200px]",children:[u.jsx("thead",{className:"bg-[var(--brand-primary)] text-[var(--text-inverse)] sticky top-0 z-10 w-full table-header-group",children:u.jsxs("tr",{className:"text-[var(--text-inverse)]",children:[u.jsx("th",{className:"px-6 py-4 text-left text-base font-bold tracking-wider border-r border-black/10",children:"Order Code"}),u.jsxs("th",{className:"px-6 py-4 text-center text-base font-bold tracking-wider border-r border-black/10 relative group",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 cursor-pointer",onClick:()=>xe(!me),children:[u.jsx("span",{children:"Customer"}),u.jsx(Ac,{className:`w-4 h-4 ${y.role!=="all"?"text-black fill-black":"text-black/50"}`,strokeWidth:3})]}),me&&u.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 w-40 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-[var(--border-default)] overflow-hidden z-20 animate-in slide-in-from-top-2 fade-in duration-200",children:u.jsx("div",{className:"py-1",children:["all","user","employee","admin"].map(je=>u.jsxs("button",{onClick:jt=>{jt.stopPropagation(),S({...y,role:je}),xe(!1)},className:`w-full px-4 py-2 text-left text-xs font-bold uppercase tracking-wider hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)] transition-colors flex items-center justify-between
                                       ${y.role===je?"text-[var(--brand-primary)] bg-[var(--brand-primary)]/5":"text-[var(--text-primary)]"}
                                     `,children:[je==="all"?"All Roles":je,y.role===je&&u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[var(--brand-primary)]"})]},je))})}),me&&u.jsx("div",{className:"fixed inset-0 z-10 cursor-default",onClick:()=>xe(!1)})]}),u.jsx("th",{className:"px-6 py-4 text-center text-base font-bold tracking-wider border-r border-black/10",children:"Date"}),u.jsx("th",{className:"px-6 py-4 text-center text-base font-bold tracking-wider border-r border-black/10",children:"Unit"}),u.jsx("th",{className:"px-6 py-4 text-center text-base font-bold tracking-wider border-r border-black/10",children:"UPI"}),u.jsx("th",{className:"px-6 py-4 text-center text-base font-bold tracking-wider border-r border-black/10",children:"Guest"}),u.jsx("th",{className:"px-6 py-4 text-center text-base font-bold tracking-wider border-r border-black/10",children:"Free"}),u.jsx("th",{className:"px-6 py-4 text-center text-base font-bold tracking-wider border-r border-black/10",children:"Status"}),u.jsx("th",{className:"px-6 py-4 text-right text-base font-bold tracking-wider",children:"Total Amount"})]})}),u.jsxs("tbody",{className:"divide-y divide-[var(--border-default)]",children:[le.slice((H-1)*ge,H*ge).map((je,jt)=>{var Ft,Re,mt;(je.dayBills||[]).reduce((pt,Ot)=>pt+(Ot.items||[]).length,0);let et=(Ft=je.user)==null?void 0:Ft.username;if(!et){const pt=ye.find(Ot=>Ot.id===je.employee_id||Ot.emp_code===je.emp_code);et=(pt==null?void 0:pt.username)||je.emp_code||"Walk-in"}const bt=parseFloat(je.total_amount||0);return u.jsxs("tr",{style:{animationDelay:`${jt*30}ms`},className:"hover:bg-[var(--surface-muted)]/30 transition-all animate-slide-up opacity-0",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"flex flex-col",children:u.jsx("span",{className:"font-bold text-base text-[var(--text-primary)]",children:je.code||`#${je.id}`})})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("span",{className:"text-sm font-medium text-[var(--text-secondary)]",children:et})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("span",{className:"text-sm font-medium text-[var(--text-secondary)]",children:new Date(je.createdAt).toLocaleDateString("en-IN")})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("span",{className:"inline-block px-2 py-0.5 bg-[var(--brand-primary)]/10 text-[var(--brand-primary)] rounded text-[10px] font-bold uppercase",children:((Re=je.unit)==null?void 0:Re.name)||((mt=je.unit)==null?void 0:mt.code)||"-"})}),u.jsx("td",{className:"px-6 py-4 text-center",children:je.payment_mode==="UPI"?u.jsxs("span",{className:"font-bold text-base text-blue-500",children:["",bt.toLocaleString("en-IN",{maximumFractionDigits:2})]}):u.jsx("span",{className:"text-sm font-medium opacity-30",children:"-"})}),u.jsx("td",{className:"px-6 py-4 text-center",children:je.payment_mode==="GUEST"?u.jsxs("span",{className:"font-bold text-base text-amber-500",children:["",bt.toLocaleString("en-IN",{maximumFractionDigits:2})]}):u.jsx("span",{className:"text-sm font-medium opacity-30",children:"-"})}),u.jsx("td",{className:"px-6 py-4 text-center",children:je.payment_mode==="FREE"?u.jsxs("span",{className:"font-bold text-base text-purple-500",children:["",bt.toLocaleString("en-IN",{maximumFractionDigits:2})]}):u.jsx("span",{className:"text-sm font-medium opacity-30",children:"-"})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("span",{className:`inline-block px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wider ${je.payment_status==="PAID"?"bg-emerald-500/20 text-emerald-500":"bg-yellow-500/20 text-yellow-500"}`,children:je.payment_status||"PENDING"})}),u.jsx("td",{className:"px-6 py-4 text-right",children:u.jsxs("p",{className:"font-bold text-base text-[var(--text-primary)]",children:["",bt.toLocaleString("en-IN",{maximumFractionDigits:2})]})})]},je.id||jt)}),le.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:"6",className:"px-6 py-10 text-center opacity-40 font-bold text-sm italic",children:"No orders found for this period."})})]})]})}),le.length>0&&u.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-between gap-4 border-t border-[var(--border-default)] pt-6",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--brand-primary)]",children:"Orders Report"}),u.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-40",children:["Showing ",(H-1)*ge+1," to"," ",Math.min(H*ge,le.length)," ","of ",le.length," orders"]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>ke(!de),className:"flex items-center gap-2 px-4 py-2 bg-[var(--surface-muted)] hover:bg-[var(--brand-primary)]/10 border border-[var(--brand-primary)] text-[var(--brand-primary)] rounded-xl text-xs font-bold transition-all shadow-sm",children:[u.jsxs("span",{children:[ge," Pages"]}),u.jsx(Gl,{className:`transition-transform duration-300 ${de?"rotate-180":""}`})]}),de&&u.jsx("div",{className:"absolute bottom-full mb-2 left-0 w-full min-w-[120px] bg-white dark:bg-slate-800 border border-[var(--border-default)] rounded-xl shadow-xl overflow-hidden z-50 animate-in slide-in-from-bottom-2 fade-in duration-200",children:[10,20,50,100].map(je=>u.jsxs("button",{onClick:()=>{ve(je),ae(1),ke(!1)},className:`w-full px-4 py-3 text-left text-xs font-bold hover:bg-[var(--brand-primary)] hover:text-[var(--text-inverse)] transition-colors flex items-center justify-between ${ge===je?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":"text-[var(--text-primary)]"}`,children:[je," Pages",ge===je&&u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[var(--brand-primary)]"})]},je))})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>ae(je=>Math.max(1,je-1)),disabled:H===1,className:"px-5 py-2.5 rounded-xl bg-[var(--surface-muted)] hover:bg-[var(--brand-primary)] hover:text-white disabled:opacity-20 disabled:cursor-not-allowed transition-all text-[10px] font-black uppercase tracking-widest shadow-sm",children:"Prev"}),[...Array(Math.ceil(le.length/ge))].slice(Math.max(0,H-3),Math.min(Math.ceil(le.length/ge),H+2)).map((je,jt,et)=>{const bt=Math.max(0,H-3)+jt+1;return u.jsx("button",{onClick:()=>ae(bt),className:`w-10 h-10 rounded-xl text-[10px] font-black transition-all ${H===bt?"bg-[var(--brand-primary)] text-white shadow-lg shadow-[var(--brand-primary)]/20 scale-110":"bg-[var(--surface-muted)] hover:bg-[var(--brand-primary)]/10 opacity-60 hover:opacity-100"}`,children:bt},bt)}),u.jsx("button",{onClick:()=>ae(je=>Math.min(Math.ceil(le.length/ge),je+1)),disabled:H===Math.ceil(le.length/ge),className:"px-5 py-2.5 rounded-xl bg-[var(--surface-muted)] hover:bg-[var(--brand-primary)] hover:text-white disabled:opacity-20 disabled:cursor-not-allowed transition-all text-[10px] font-black uppercase tracking-widest shadow-sm",children:"Next"})]})]})]})]})]}),i==="users"&&u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[u.jsx(Ze,{title:"User Demographics",children:u.jsx("div",{className:"h-[350px]",children:u.jsx(Qp,{width:"100%",height:"100%",children:u.jsxs(w_,{children:[u.jsxs(N5,{data:($==null?void 0:$.roles)||[],cx:"50%",cy:"50%",innerRadius:80,outerRadius:110,paddingAngle:10,dataKey:"value",label:({name:je,percent:jt})=>`${je} ${(jt*100).toFixed(0)}%`,stroke:"none",children:[u.jsx(uf,{fill:"#3b82f6"}),u.jsx(uf,{fill:"#f97316"})]}),u.jsx(om,{})]})})})}),u.jsx("div",{className:"space-y-10",children:u.jsxs("div",{className:"p-10 rounded-[2.5rem] bg-gradient-to-br from-[#FFF9C4] to-[#FDB813] text-black shadow-2xl relative overflow-hidden group border-4 border-white/20",children:[u.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 group-hover:rotate-12 transition-transform duration-500",children:u.jsx(vm,{size:120})}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("p",{className:"text-xs font-black uppercase tracking-[0.3em] mb-4 opacity-60",children:"System Users"}),u.jsx("h4",{className:"text-7xl font-black mb-10 tracking-tighter",children:($==null?void 0:$.total)||0}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[u.jsxs("div",{className:"px-6 py-2.5 bg-black/10 rounded-2xl text-xs font-black uppercase tracking-widest backdrop-blur-md",children:[($==null?void 0:$.active)||0," Active"]}),u.jsxs("div",{className:"px-6 py-2.5 bg-black/5 rounded-2xl text-xs font-black uppercase tracking-widest backdrop-blur-md opacity-60",children:[(($==null?void 0:$.total)||0)-(($==null?void 0:$.active)||0)," ","Inactive"]})]})]})]})})]}),i==="employees"&&u.jsxs(Ze,{title:"Employee",extra:u.jsx("div",{className:"flex gap-4",children:u.jsxs("button",{onClick:()=>at("Employee Performance",ne,[{header:"Emp ID",key:"employeeId",x:35},{header:"Name",key:"name",x:75},{header:"Orders",key:"ordersCount",x:130},{header:"UPI",key:"upiAmount",x:165},{header:"Guest",key:"guestAmount",x:210},{header:"Free",key:"freeAmount",x:255},{header:"Total Revenue",key:"revenue",x:285}]),className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-semibold px-6 py-2.5 sm:py-3 rounded-xl flex items-center justify-center gap-3 transition-all shadow-[0_4px_15px_rgba(0,0,0,0.2)] hover:scale-105 active:scale-95 text-xs sm:text-sm tracking-wider",children:[u.jsx(hd,{className:"text-lg"}),u.jsx("span",{children:"PDF"})]})}),children:[u.jsx("div",{className:"overflow-x-auto border border-[var(--border-default)] rounded-3xl overflow-hidden mb-6",children:u.jsxs("table",{className:"w-full border-separate border-spacing-0 min-w-[1200px]",children:[u.jsx("thead",{className:"bg-[var(--brand-primary)] text-[var(--text-inverse)] sticky top-0 z-10",children:u.jsxs("tr",{className:"text-[var(--text-inverse)]",children:[u.jsx("th",{className:"px-6 py-4 text-left text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"Employee"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"Unit"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"UPI Collection"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"GUEST Collection"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"FREE Collection"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"Orders"}),u.jsx("th",{className:"px-6 py-4 text-right text-base sm:text-lg font-bold tracking-wider",children:"Total Revenue"})]})}),u.jsxs("tbody",{className:"divide-y divide-[var(--border-default)]",children:[ne.slice((q-1)*Oe,q*Oe).map((je,jt)=>{var et;return u.jsxs("tr",{style:{animationDelay:`${jt*30}ms`},className:"hover:bg-[var(--surface-muted)]/30 transition-all animate-slide-up opacity-0",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-xs font-semibold text-[var(--text-secondary)] uppercase tracking-wider",children:je.employeeId}),u.jsx("span",{className:"font-bold text-base tracking-tight text-[var(--text-primary)]",children:je.name})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("span",{className:"inline-block px-2 py-0.5 bg-[var(--brand-primary)]/10 text-[var(--brand-primary)] rounded text-[10px] font-bold uppercase",children:je.unit_name||((et=je.unit)==null?void 0:et.name)||"-"})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-base font-bold text-blue-500",children:["",je.upiAmount.toLocaleString()]}),u.jsxs("span",{className:"text-xs font-medium opacity-60",children:[je.upiCount," Bills"]})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-base font-bold text-amber-500",children:["",je.guestAmount.toLocaleString()]}),u.jsxs("span",{className:"text-xs font-medium opacity-60",children:[je.guestCount," Bills"]})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-base font-bold text-purple-500",children:["",je.freeAmount.toLocaleString()]}),u.jsxs("span",{className:"text-xs font-medium opacity-60",children:[je.freeCount," Bills"]})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("span",{className:"inline-block px-3 py-1 bg-[var(--surface-muted)] rounded-lg text-sm font-bold text-[var(--text-primary)]",children:je.ordersCount})}),u.jsxs("td",{className:"px-6 py-4 text-right",children:[u.jsxs("p",{className:"font-bold text-base text-emerald-500",children:["",je.revenue.toLocaleString()]}),u.jsx("div",{className:"flex items-center justify-end gap-2 mt-1",children:u.jsx("div",{className:"w-16 bg-[var(--surface-muted)] h-1 rounded-full overflow-hidden",children:u.jsx("div",{className:"bg-gradient-to-r from-[var(--brand-primary)] to-amber-500 h-full",style:{width:`${Math.min(je.revenue/(Math.max(...Z.map(bt=>bt.revenue))||1)*100,100)}%`}})})})]})]},je.id)}),Z.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:"5",className:"px-6 py-10 text-center opacity-40 font-bold text-sm italic",children:"No employee data found for this period."})})]})]})}),Z.length>Oe&&u.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-between gap-4 border-t border-[var(--border-default)] pt-6",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--brand-primary)]",children:"Staff Performance Report"}),u.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-40",children:["Showing ",(q-1)*Oe+1," to"," ",Math.min(q*Oe,ne.length)," ","of ",ne.length," employees"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>te(je=>Math.max(1,je-1)),disabled:q===1,className:"px-5 py-2.5 rounded-xl bg-[var(--surface-muted)] hover:bg-[var(--brand-primary)] hover:text-white disabled:opacity-20 disabled:cursor-not-allowed transition-all text-[10px] font-black uppercase tracking-widest shadow-sm",children:"Prev"}),[...Array(Math.ceil(ne.length/Oe))].map((je,jt)=>u.jsx("button",{onClick:()=>te(jt+1),className:`w-10 h-10 rounded-xl text-[10px] font-black transition-all ${q===jt+1?"bg-[var(--brand-primary)] text-white shadow-lg shadow-[var(--brand-primary)]/20 scale-110":"bg-[var(--surface-muted)] hover:bg-[var(--brand-primary)]/10 opacity-60 hover:opacity-100"}`,children:jt+1},jt+1)),u.jsx("button",{onClick:()=>te(je=>Math.min(Math.ceil(ne.length/Oe),je+1)),disabled:q===Math.ceil(ne.length/Oe),className:"px-5 py-2.5 rounded-xl bg-[var(--surface-muted)] hover:bg-[var(--brand-primary)] hover:text-white disabled:opacity-20 disabled:cursor-not-allowed transition-all text-[10px] font-black uppercase tracking-widest shadow-sm",children:"Next"})]})]})]}),i==="reconciliation"&&u.jsxs("div",{className:"space-y-10",children:[u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[{id:"UPI",label:"UPI",color:"bg-blue-600",icon:cB},{id:"GUEST",label:"Guest",color:"bg-amber-600",icon:pf},{id:"FREE",label:"Free",color:"bg-purple-600",icon:nB}].map((je,jt)=>{var bt;const et=((bt=_==null?void 0:_.modes)==null?void 0:bt[je.id])||{total:0,count:0,totalQty:0};return u.jsxs("div",{style:{animationDelay:`${jt*100}ms`},className:"bg-[var(--surface-card)] border border-[var(--border-default)] p-8 rounded-[2.5rem] flex flex-col items-center justify-center group animate-slide-up opacity-0 shadow-2xl relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[var(--brand-primary)]/5 rounded-full blur-3xl -mr-16 -mt-16"}),u.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center text-white shadow-lg mb-6 ${je.color}`,children:u.jsx(je.icon,{size:28})}),u.jsxs("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-40 mb-2",children:[je.label," Collection"]}),u.jsxs("h4",{className:"text-4xl font-black text-[var(--text-primary)] mb-3 tracking-tighter",children:["",et.total.toLocaleString()]}),u.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[u.jsxs("div",{className:"px-6 py-2 rounded-xl bg-[var(--surface-main)] text-[10px] font-black  tracking-widest text-[var(--brand-primary)] border border-[var(--border-default)]/50 text-center",children:[et.count||0," Bills Issued"]}),u.jsxs("div",{className:"px-6 py-2 rounded-xl bg-[var(--brand-primary)]/10 text-[10px] font-black tracking-widest text-[var(--brand-primary)] border border-[var(--brand-primary)]/20 text-center font-bold",children:[et.totalQty||0," Items Sold"]})]})]},je.id)})}),u.jsx(Ze,{title:"Overall Payment Summary",extra:u.jsxs("button",{onClick:()=>{var tr;const je=new wr("l","mm","a4"),jt=je.internal.pageSize.getWidth();je.internal.pageSize.getHeight();const et=14,bt=jt-et*2;je.setFont("helvetica","bold"),je.setFontSize(22),je.setTextColor(30,41,59),je.text("PAYMENT SUMMARY REPORT",et,22),je.setDrawColor(226,232,240),je.line(et,28,jt-et,28),je.setFontSize(10),je.setTextColor(71,85,105),je.text(`Generated On: ${new Date().toLocaleString()}`,et,38),je.text(`Period: ${y.start_date} to ${y.end_date}`,et,43),je.setFontSize(14),je.setTextColor(0,0,0),je.text("OVERALL SUMMARY",et,55);let Ft=62;const Re=30,mt=35,pt=60,Ot=bt-Re-mt-pt,Dt=p.length>0?Ot/p.length:Ot;je.setFillColor(241,245,249),je.rect(et,Ft,bt,10,"F"),je.setFontSize(8),je.setFont("helvetica","bold"),je.setTextColor(30,41,59);let It=et+2;je.text("Mode",It,Ft+7),It+=Re,p.forEach(Xt=>{je.text(Xt.name.substring(0,15),It+Dt/2,Ft+7,{align:"center"}),It+=Dt}),je.text("Items Sold",It+pt/2,Ft+7,{align:"center"}),je.text("Total Amount",jt-et-2,Ft+7,{align:"right"}),Ft+=10,["UPI","GUEST","FREE"].forEach(Xt=>{var Vr,vt,Rn,Sr;const cr=((vt=(Vr=_==null?void 0:_.modes)==null?void 0:Vr[Xt])==null?void 0:vt.total)||0;(Sr=(Rn=_==null?void 0:_.modes)==null?void 0:Rn[Xt])!=null&&Sr.totalQty;const Nt=D.filter(On=>(On[`${Xt.toLowerCase()}Qty`]||0)>0).map(On=>`${On.name_en||On.name} (${On[`${Xt.toLowerCase()}Qty`]})`).join(", ");je.setFont("helvetica","normal"),je.setTextColor(0,0,0),je.setFontSize(8),It=et+2,je.text(Xt,It,Ft+7),It+=Re,p.forEach(On=>{const ts=V.find(Rr=>Rr.unit_id===On.id),Wr=ts&&ts[`${Xt.toLowerCase()}Total`]||0,Br=Wr>0?Wr.toLocaleString():"-";je.text(Br,It+Dt/2,Ft+7,{align:"center"}),It+=Dt});const mr=je.splitTextToSize(Nt||"-",pt-4);je.text(mr,It+2,Ft+7),je.text("INR "+cr.toLocaleString(),jt-et-2,Ft+7,{align:"right"});const Lr=Math.max(10,mr.length*4+2);je.setDrawColor(241,245,249),je.line(et,Ft+Lr,jt-et,Ft+Lr),Ft+=Lr+2}),je.setFont("helvetica","bold"),je.setFillColor(248,250,252),je.rect(et,Ft,bt,12,"F"),It=et+2,je.text("GRAND TOTAL",It,Ft+8),It+=Re,p.forEach(Xt=>{const cr=V.find(mr=>mr.unit_id===Xt.id),Nt=(cr==null?void 0:cr.revenue)||0;je.text(Nt>0?Nt.toLocaleString():"-",It+Dt/2,Ft+8,{align:"center"}),It+=Dt}),It+=pt,je.setTextColor(22,163,74),je.text("INR "+(((tr=_==null?void 0:_.overall)==null?void 0:tr.total)||0).toLocaleString(),jt-et-2,Ft+8,{align:"right"}),je.save(`reconciliation_report_${y.start_date}.pdf`)},className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-black px-8 py-3 rounded-2xl flex items-center justify-center gap-3 transition-all shadow-[0_4px_25px_rgba(0,0,0,0.2)] hover:scale-105 active:scale-95 text-[10px] uppercase tracking-[0.2em]",children:[u.jsx(hd,{className:"text-base"}),u.jsx("span",{children:"Export PDF"})]}),children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"bg-[var(--surface-main)]",children:u.jsxs("tr",{className:"border-b border-[var(--border-default)]",children:[u.jsx("th",{className:"py-4 px-4 sm:px-8 text-[10px] sm:text-xs font-black uppercase tracking-widest text-[var(--text-primary)] opacity-80",children:"Payment Mode"}),p.map(je=>u.jsx("th",{className:"py-4 px-4 text-center text-[10px] sm:text-xs font-black uppercase tracking-widest text-[var(--text-primary)] opacity-80 whitespace-nowrap",children:je.name},je.id)),u.jsx("th",{className:"py-4 px-4 text-center text-[10px] sm:text-xs font-black uppercase tracking-widest text-[var(--text-primary)] opacity-80",children:"Items Sold"}),u.jsx("th",{className:"py-4 px-4 sm:px-8 text-right text-[10px] sm:text-xs font-black uppercase tracking-widest text-[var(--text-primary)] opacity-80",children:"Total Amount"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]",children:["UPI","GUEST","FREE"].map(je=>{var Re,mt,pt,Ot;const jt={UPI:"text-blue-500",FREE:"text-purple-500",GUEST:"text-amber-500"},et=((mt=(Re=_==null?void 0:_.modes)==null?void 0:Re[je])==null?void 0:mt.total)||0,bt=((Ot=(pt=_==null?void 0:_.modes)==null?void 0:pt[je])==null?void 0:Ot.totalQty)||0,Ft=D.filter(Dt=>(Dt[`${je.toLowerCase()}Qty`]||0)>0);return u.jsxs("tr",{className:"group hover:bg-[var(--surface-main)] transition-colors",children:[u.jsx("td",{className:"py-4 px-4 sm:px-8 font-black uppercase tracking-tight text-sm sm:text-base",children:u.jsx("span",{className:jt[je],children:je})}),p.map(Dt=>{const It=V.find(Xt=>Xt.unit_id===Dt.id),tr=It&&It[`${je.toLowerCase()}Total`]||0;return u.jsx("td",{className:"py-4 px-4 text-center font-bold text-sm sm:text-base text-[var(--text-primary)]",children:tr>0?`${tr.toLocaleString()}`:"-"},Dt.id)}),u.jsx("td",{className:"py-6 px-4 max-w-[300px]",children:u.jsx("div",{className:"flex flex-wrap gap-1.5 justify-center",children:Ft.length>0?Ft.map(Dt=>u.jsxs("div",{className:"flex items-center gap-1.5 bg-white/5 py-1 px-2.5 rounded-lg border border-white/10 group-hover:border-[var(--brand-primary)]/20 transition-all",children:[u.jsx("span",{className:"text-[10px] font-bold text-[var(--text-primary)] whitespace-nowrap",children:Dt.name_en||Dt.name}),u.jsx("span",{className:`text-[9px] font-black px-1.5 py-0.5 rounded ${jt[je]} bg-black/20`,children:Dt[`${je.toLowerCase()}Qty`]})]},Dt.product_id)):u.jsx("span",{className:"text-[10px] italic opacity-30",children:"No items"})})}),u.jsx("td",{className:"py-4 px-4 sm:px-8 text-right font-black text-lg sm:text-xl",children:u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsxs("span",{children:["",et.toLocaleString()]}),u.jsxs("span",{className:"text-[10px] opacity-40 uppercase tracking-widest",children:[bt," items"]})]})})]},je)})}),u.jsx("tfoot",{className:"bg-[var(--surface-muted)]/50 border-t-2 border-[var(--border-default)]",children:u.jsxs("tr",{children:[u.jsx("td",{className:"py-5 px-4 sm:px-8 font-black uppercase tracking-widest text-sm sm:text-base text-[var(--text-primary)]",children:"GRAND TOTAL"}),p.map(je=>{var et,bt;const jt=V.find(Ft=>Ft.unit_id===je.id);return u.jsx("td",{className:"py-5 px-4 text-center align-top",children:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("span",{className:"font-black text-lg sm:text-xl text-[var(--text-primary)]",children:["",((jt==null?void 0:jt.revenue)||0).toLocaleString()]}),u.jsxs("div",{className:"flex flex-col gap-0.5 items-center",children:[(et=jt==null?void 0:jt.itemsList)==null?void 0:et.slice(0,3).map((Ft,Re)=>u.jsxs("span",{className:"text-[9px] font-bold opacity-30 whitespace-nowrap uppercase tracking-tighter",children:[Ft.name," (",Ft.quantity,")"]},Re)),((bt=jt==null?void 0:jt.itemsList)==null?void 0:bt.length)>3&&u.jsxs("span",{className:"text-[8px] font-black opacity-20 uppercase",children:["+",jt.itemsList.length-3," more"]})]})]})},je.id)}),u.jsx("td",{className:"py-5 px-4 text-center align-top",children:u.jsx("div",{className:"flex flex-wrap gap-1 justify-center max-w-[200px] mx-auto opacity-40",children:D.map(je=>u.jsxs("span",{className:"text-[8px] font-bold border border-white/10 px-1.5 rounded bg-black/5 whitespace-nowrap",children:[je.name_en||je.name," ",je.totalQty]},je.product_id))})}),u.jsx("td",{className:"py-5 px-4 sm:px-8 text-right align-top",children:u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsxs("span",{className:"font-black text-2xl sm:text-3xl text-[var(--brand-primary)]",children:["",(((ea=_==null?void 0:_.overall)==null?void 0:ea.total)||0).toLocaleString()]}),u.jsxs("span",{className:"text-[10px] font-bold opacity-60 uppercase tracking-widest mt-2",children:[((ya=_==null?void 0:_.overall)==null?void 0:ya.totalQty)||0," ITEMS TOTAL"]})]})})]})})]})})}),u.jsxs("div",{className:"bg-[var(--surface-card)] p-6 sm:p-8 rounded-2xl border border-[var(--border-default)] shadow-sm mb-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[u.jsx("div",{className:"w-1 h-6 bg-[#facc15] rounded-full shadow-[0_0_10px_rgba(250,204,21,0.4)]"}),u.jsx("h2",{className:"text-[26px] font-bold tracking-[0.2em] text-[#facc15] uppercase",children:"ITEMS"})]}),u.jsx("p",{className:"text-base font-bold text-white ml-4",children:"Top Items"})]}),u.jsx("button",{onClick:oe,className:"bg-gradient-to-r from-orange-500 to-amber-500 text-black font-bold px-6 py-2.5 rounded-lg shadow-lg hover:shadow-orange-500/20 transition-all flex items-center gap-2 whitespace-nowrap",children:"Download PDF"})]}),u.jsx("div",{className:"overflow-x-auto -mx-2 sm:mx-0 rounded-t-xl overflow-hidden shadow-sm",children:u.jsxs("table",{className:"w-full text-left min-w-[800px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-[#facc15] text-black text-sm font-bold tracking-wide",children:[u.jsx("th",{className:"py-4 px-6 text-left w-20",children:"S.No"}),u.jsx("th",{className:"py-4 px-6 text-left",children:"Item Name"}),u.jsx("th",{className:"py-4 px-6 text-center",children:"Qty"}),u.jsx("th",{className:"py-4 px-6 text-right",children:"Amount"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)] bg-[var(--surface-card)]",children:Array.isArray(D)&&D.map((je,jt)=>u.jsxs("tr",{className:"group hover:bg-[var(--surface-muted)] transition-colors text-sm",children:[u.jsx("td",{className:"py-4 px-6 text-[var(--text-primary)] opacity-70",children:jt+1}),u.jsx("td",{className:"py-4 px-6 text-[var(--text-primary)] font-medium",children:je.name_en||je.name||"Unknown"}),u.jsx("td",{className:"py-4 px-6 text-center text-[var(--text-primary)]",children:je.totalQty}),u.jsxs("td",{className:"py-4 px-6 text-right text-[var(--text-primary)]",children:["INR ",(je.totalAmount||0).toFixed(2)]})]},je.product_id))}),u.jsx("tfoot",{className:"bg-[var(--surface-main)]",children:u.jsxs("tr",{children:[u.jsx("td",{className:"py-5 px-6"}),u.jsx("td",{className:"py-5 px-6 text-right font-black text-lg text-[var(--text-primary)] uppercase tracking-tight",children:"Grand Total:"}),u.jsx("td",{className:"py-5 px-6 text-center font-black text-lg text-[var(--text-primary)]",children:D.reduce((je,jt)=>je+(jt.totalQty||0),0)}),u.jsxs("td",{className:"py-5 px-6 text-right font-black text-lg text-emerald-500",children:["INR ",D.reduce((je,jt)=>je+(jt.totalAmount||0),0).toFixed(2)]})]})})]})}),D.length===0&&u.jsx("div",{className:"py-20 text-center text-slate-500 border-2 border-dashed border-slate-800/50 rounded-2xl bg-black/10 mt-4",children:u.jsx("p",{className:"text-lg font-medium opacity-50",children:"No item sales data found."})})]})]}),i==="units"&&u.jsxs(u.Fragment,{children:[W&&u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[u.jsxs("div",{className:"bg-[var(--surface-card)] border border-[var(--border-default)] p-6 rounded-3xl shadow-sm transition-all duration-300 md:hover:-translate-y-1.5 md:hover:shadow-xl group relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[var(--brand-primary)]/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),u.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-50 mb-1 relative z-10",children:"Unit Revenue"}),u.jsxs("h4",{className:"text-2xl font-bold text-[var(--brand-primary)] relative z-10",children:["",((Xr=W.total_revenue)==null?void 0:Xr.toLocaleString())||0]})]}),u.jsxs("div",{className:"bg-[var(--surface-card)] border border-[var(--border-default)] p-6 rounded-3xl shadow-sm transition-all duration-300 md:hover:-translate-y-1.5 md:hover:shadow-xl group relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),u.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-50 mb-1 relative z-10",children:"Unit Orders"}),u.jsx("h4",{className:"text-2xl font-bold relative z-10",children:W.total_orders||0})]}),u.jsxs("div",{className:"bg-[var(--surface-card)] border border-[var(--border-default)] p-6 rounded-3xl shadow-sm transition-all duration-300 md:hover:-translate-y-1.5 md:hover:shadow-xl group relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),u.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-50 mb-1 relative z-10",children:"Unit Items"}),u.jsx("h4",{className:"text-2xl font-bold relative z-10",children:W.total_items||0})]}),u.jsxs("div",{className:"bg-[var(--surface-card)] border border-[var(--border-default)] p-6 rounded-3xl shadow-sm transition-all duration-300 md:hover:-translate-y-1.5 md:hover:shadow-xl group relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),u.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-50 mb-1 relative z-10",children:"Units Active"}),u.jsx("h4",{className:"text-2xl font-bold relative z-10",children:W.units_reporting||0})]})]}),u.jsx(Ze,{title:"Unit-wise",extra:u.jsxs("button",{onClick:()=>at("Unit Performance",tt,[{header:"Unit Name",key:"name",x:35},{header:"Orders",key:"orders",x:130},{header:"Revenue",key:"revenue",x:220}]),className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-semibold px-6 py-2.5 sm:py-3 rounded-xl flex items-center justify-center gap-3 transition-all shadow-[0_4px_15px_rgba(0,0,0,0.2)] hover:scale-105 active:scale-95 text-xs sm:text-sm tracking-wider",children:[u.jsx(hd,{className:"text-lg"}),u.jsx("span",{children:"PDF"})]}),children:u.jsx("div",{className:"overflow-x-auto border border-[var(--border-default)] rounded-3xl overflow-hidden mb-6",children:u.jsxs("table",{className:"w-full border-separate border-spacing-0 min-w-[1200px]",children:[u.jsx("thead",{className:"bg-[var(--brand-primary)] text-[var(--text-inverse)] sticky top-0 z-10",children:u.jsxs("tr",{className:"text-[var(--text-inverse)]",children:[u.jsx("th",{className:"px-6 py-4 text-left text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"Unit Name"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"UPI (Amt/Bills)"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"GUEST (Amt/Bills)"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"FREE (Amt/Bills)"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"Bills Done"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"Items Sold"}),u.jsx("th",{className:"px-6 py-4 text-right text-base sm:text-lg font-bold tracking-wider",children:"Revenue"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]",children:tt.map((je,jt)=>{var et,bt,Ft,Re;return u.jsxs("tr",{style:{animationDelay:`${jt*30}ms`},className:"hover:bg-[var(--surface-muted)]/30 transition-all animate-slide-up opacity-0",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-base tracking-tight text-[var(--text-primary)] uppercase",children:je.name}),u.jsx("p",{className:"text-xs font-medium text-[var(--text-secondary)] mt-1",children:"Terminal Active"})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-base font-bold text-emerald-500",children:["",(et=je.cashTotal)==null?void 0:et.toLocaleString()]}),u.jsxs("span",{className:"text-xs font-medium opacity-60",children:[je.cashCount," Bills"]})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-base font-bold text-blue-500",children:["",(bt=je.upiTotal)==null?void 0:bt.toLocaleString()]}),u.jsxs("span",{className:"text-xs font-medium opacity-60",children:[je.upiCount," Bills"]})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-base font-bold text-amber-500",children:["",(Ft=je.guestTotal)==null?void 0:Ft.toLocaleString()]}),u.jsxs("span",{className:"text-xs font-medium opacity-60",children:[je.guestCount," Bills"]})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-base font-bold text-purple-500",children:["",(Re=je.freeTotal)==null?void 0:Re.toLocaleString()]}),u.jsxs("span",{className:"text-xs font-medium opacity-60",children:[je.freeCount," Bills"]})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-base font-bold",children:je.orders}),u.jsx("span",{className:"text-[10px] font-bold uppercase opacity-40",children:"Orders"})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-base font-bold text-blue-500",children:je.items}),u.jsx("span",{className:"text-[10px] font-bold uppercase opacity-40",children:"Items"})]})}),u.jsxs("td",{className:"px-6 py-4 text-right",children:[u.jsxs("p",{className:"font-bold text-base text-emerald-500",children:["",je.revenue.toLocaleString()]}),u.jsxs("p",{className:"text-xs font-medium opacity-60",children:["Avg: ",(je.revenue/(je.orders||1)).toFixed(0)]})]})]},je.unit_id)})})]})})})]})]})]})})},id=e=>{const t=Da.c(9),{title:r,children:n,isDark:a}=e,i=`text-lg sm:text-xl font-semibold ${a?"text-amber-300":"text-amber-600"}`;let c;t[0]!==i||t[1]!==r?(c=u.jsx("h2",{className:i,children:r}),t[0]=i,t[1]=r,t[2]=c):c=t[2];const f=`text-sm sm:text-base leading-relaxed ${a?"text-slate-200":"text-slate-700"}`;let m;t[3]!==n||t[4]!==f?(m=u.jsx("div",{className:f,children:n}),t[3]=n,t[4]=f,t[5]=m):m=t[5];let p;return t[6]!==c||t[7]!==m?(p=u.jsxs("section",{className:"space-y-3",children:[c,m]}),t[6]=c,t[7]=m,t[8]=p):p=t[8],p},Nie=()=>{const e=Da.c(29),{isDark:t}=bi(),r=Wa(),n=`min-h-screen ${t?"bg-slate-950":"bg-slate-100"} pb-16`;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx("div",{className:"absolute inset-0 max-w-3xl bg-gradient-to-br from-amber-400/10 via-indigo-500/10 to-sky-500/10 blur-3xl pointer-events-none"}),e[0]=a):a=e[0];const i=`relative rounded-3xl border ${t?"border-slate-800 bg-slate-900/80":"border-gray-200 bg-white"} shadow-2xl shadow-amber-500/10 p-6 sm:p-10 space-y-8`;let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-amber-400",children:"Policy"}),u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold",children:"Terms & Conditions"})]}),e[1]=c):c=e[1];let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=u.jsx("div",{className:"text-xs sm:text-sm px-3 py-2 rounded-full border border-amber-300/40 text-amber-200 bg-amber-500/10",children:"Last updated on Dec 8, 2025"}),e[2]=f):f=e[2];let m;e[3]!==r?(m=()=>r("/login"),e[3]=r,e[4]=m):m=e[4];const p=`w-12 h-12 rounded-full flex items-center justify-center transition-all ${t?"bg-slate-800 hover:bg-slate-700 text-slate-300 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-900"}`;let x;e[5]===Symbol.for("react.memo_cache_sentinel")?(x=u.jsx(Jo,{size:28}),e[5]=x):x=e[5];let y;e[6]!==m||e[7]!==p?(y=u.jsxs("div",{className:"flex flex-wrap items-center gap-3 justify-between",children:[c,u.jsxs("div",{className:"flex items-center gap-3",children:[f,u.jsx("button",{onClick:m,className:p,"aria-label":"Close",children:x})]})]}),e[6]=m,e[7]=p,e[8]=y):y=e[8];const S=`text-sm sm:text-base max-w-3xl p-4 rounded-xl border-l-4 ${t?"bg-amber-500/10 border-amber-400 text-slate-200":"bg-amber-50 border-amber-500 text-slate-700"}`;let N;e[9]===Symbol.for("react.memo_cache_sentinel")?(N=u.jsx("p",{className:"leading-relaxed",children:"These terms govern your use of our canteen ordering app for tea, coffee, and light snacks. By browsing or placing an order, you agree to the terms below."}),e[9]=N):N=e[9];let j;e[10]!==S?(j=u.jsx("div",{className:S,children:N}),e[10]=S,e[11]=j):j=e[11];let _;e[12]!==j||e[13]!==y?(_=u.jsxs("header",{className:"space-y-2",children:[y,j]}),e[12]=j,e[13]=y,e[14]=_):_=e[14];let T;e[15]===Symbol.for("react.memo_cache_sentinel")?(T=u.jsx(id,{title:"Who we are",children:"The service is operated by PRITHVI INNER WEARS PRIVATE LIMITED from 5/178 D Mangalam Road, Sultanpettai Mangalam, Vamjipalayam, Tirupur, Coimbatore, Tamil Nadu 641603. References to we, us, or our refer to this operator. References to you or your refer to anyone using the app or placing an order."}),e[15]=T):T=e[15];let D;e[16]===Symbol.for("react.memo_cache_sentinel")?(D=u.jsx(id,{title:"Using the app",children:u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Content, menus, prices, and timings may change without notice."}),u.jsx("li",{children:"Allergens: beverages may contain milk, sugar, and flavorings; ask if unsure before ordering."}),u.jsx("li",{children:"You are responsible for ensuring the order meets your needs and dietary preferences."}),u.jsx("li",{children:"Unauthorized use, tampering, or misuse of the app is prohibited."})]})}),e[16]=D):D=e[16];let R;e[17]===Symbol.for("react.memo_cache_sentinel")?(R=u.jsx(id,{title:"Orders & payment",children:u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Orders are prepared shortly after confirmation; preparation starts once payment succeeds."}),u.jsx("li",{children:"Payment must be completed in the app using the available methods."}),u.jsx("li",{children:"Once preparation has started, orders generally cannot be modified."})]})}),e[17]=R):R=e[17];let z;e[18]===Symbol.for("react.memo_cache_sentinel")?(z=u.jsxs("div",{className:"grid gap-6",children:[T,D,R,u.jsx(id,{title:"Pickup & delivery",children:u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Pickup is at the designated canteen counter during operating hours."}),u.jsx("li",{children:"If on-premise delivery is offered, it is limited to the specified campus/office area and subject to staff availability."}),u.jsx("li",{children:"We are not liable for delays caused by events outside our control."})]})}),u.jsx(id,{title:"Cancellations & refunds",children:"Because beverages are prepared fresh, cancellation is only possible until preparation begins. Approved refunds will be issued to the original payment method per our Cancellation & Refund Policy."}),u.jsx(id,{title:"Intellectual property",children:"All branding, design, and content in the app are owned or licensed by us. Do not reproduce or reuse without written consent."}),u.jsx(id,{title:"Liability",children:"To the fullest extent permitted by law, we disclaim warranties regarding accuracy, availability, or fitness for a particular purpose. Our liability is limited to the amount you paid for the affected order."}),u.jsx(id,{title:"Disputes & contact",children:"These terms are governed by the laws of India. For questions or concerns, contact us at 8056672405 or customercare@prithvimail.com."})]}),e[18]=z):z=e[18];let G;e[19]===Symbol.for("react.memo_cache_sentinel")?(G=u.jsx(Ii,{to:"/policies/privacy",className:"px-4 py-3 rounded-xl bg-amber-400 text-slate-950 font-semibold shadow-lg shadow-amber-500/30 hover:translate-y-[-1px] transition-transform",children:"View Privacy Policy"}),e[19]=G):G=e[19];const $=`px-4 py-3 rounded-xl border ${t?"border-slate-700 text-slate-200 hover:border-amber-300":"border-gray-300 text-gray-800 hover:border-gray-500"} transition-all`;let X;e[20]!==$?(X=u.jsxs("div",{className:"flex flex-wrap gap-3",children:[G,u.jsx(Ii,{to:"/policies/refund",className:$,children:"Refund Policy"})]}),e[20]=$,e[21]=X):X=e[21];let V;e[22]!==_||e[23]!==X||e[24]!==i?(V=u.jsxs("div",{className:"relative max-w-5xl mx-auto px-4 sm:px-6 pt-10 sm:pt-14",children:[a,u.jsxs("div",{className:i,children:[_,z,X]})]}),e[22]=_,e[23]=X,e[24]=i,e[25]=V):V=e[25];let Y;return e[26]!==n||e[27]!==V?(Y=u.jsx(ko,{children:u.jsx("div",{className:n,children:V})}),e[26]=n,e[27]=V,e[28]=Y):Y=e[28],Y},sd=e=>{const t=Da.c(9),{title:r,children:n,isDark:a}=e,i=`text-lg sm:text-xl font-semibold ${a?"text-emerald-300":"text-emerald-600"}`;let c;t[0]!==i||t[1]!==r?(c=u.jsx("h2",{className:i,children:r}),t[0]=i,t[1]=r,t[2]=c):c=t[2];const f=`text-sm sm:text-base leading-relaxed ${a?"text-slate-200":"text-slate-700"}`;let m;t[3]!==n||t[4]!==f?(m=u.jsx("div",{className:f,children:n}),t[3]=n,t[4]=f,t[5]=m):m=t[5];let p;return t[6]!==c||t[7]!==m?(p=u.jsxs("section",{className:"space-y-3",children:[c,m]}),t[6]=c,t[7]=m,t[8]=p):p=t[8],p},Sie=()=>{const e=Da.c(31),{isDark:t}=bi(),r=Wa(),n=`min-h-screen ${t?"bg-slate-950":"bg-slate-100"} pb-16`;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx("div",{className:"absolute inset-0 max-w-3xl bg-gradient-to-br from-emerald-400/10 via-cyan-500/10 to-blue-500/10 blur-3xl pointer-events-none"}),e[0]=a):a=e[0];const i=`relative rounded-3xl border ${t?"border-slate-800 bg-slate-900/80":"border-gray-200 bg-white"} shadow-2xl shadow-emerald-500/10 p-6 sm:p-10 space-y-8`;let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-emerald-400",children:"Policy"}),u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold",children:"Privacy Policy"})]}),e[1]=c):c=e[1];let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=u.jsx("div",{className:"text-xs sm:text-sm px-3 py-2 rounded-full border border-emerald-300/40 text-emerald-200 bg-emerald-500/10",children:"Last updated on Dec 8, 2025"}),e[2]=f):f=e[2];let m;e[3]!==r?(m=()=>r("/login"),e[3]=r,e[4]=m):m=e[4];const p=`w-12 h-12 rounded-full flex items-center justify-center transition-all ${t?"bg-slate-800 hover:bg-slate-700 text-slate-300 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-900"}`;let x;e[5]===Symbol.for("react.memo_cache_sentinel")?(x=u.jsx(Jo,{size:28}),e[5]=x):x=e[5];let y;e[6]!==m||e[7]!==p?(y=u.jsxs("div",{className:"flex flex-wrap items-center gap-3 justify-between",children:[c,u.jsxs("div",{className:"flex items-center gap-3",children:[f,u.jsx("button",{onClick:m,className:p,"aria-label":"Close",children:x})]})]}),e[6]=m,e[7]=p,e[8]=y):y=e[8];const S=`text-sm sm:text-base max-w-3xl ${t?"text-slate-200":"text-slate-700"}`;let N;e[9]!==S?(N=u.jsx("p",{className:S,children:"This policy explains how we collect, use, and safeguard information when you use our canteen ordering app for tea, coffee, and related items."}),e[9]=S,e[10]=N):N=e[10];let j;e[11]!==N||e[12]!==y?(j=u.jsxs("header",{className:"space-y-2",children:[y,N]}),e[11]=N,e[12]=y,e[13]=j):j=e[13];let _;e[14]===Symbol.for("react.memo_cache_sentinel")?(_=u.jsx(sd,{title:"Information we collect",children:u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Account details: name, phone, email, and organization (if applicable)."}),u.jsx("li",{children:"Order details: items, preferences (e.g., sugar/milk choices), and transaction IDs."}),u.jsx("li",{children:"Usage data: device info, browser type, IP, and interaction logs for troubleshooting and improvements."}),u.jsx("li",{children:"Support interactions: messages and feedback shared with us."})]})}),e[14]=_):_=e[14];let T,D,R,z,G;e[15]===Symbol.for("react.memo_cache_sentinel")?(T=u.jsx(sd,{title:"How we use data",children:u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Process and fulfill orders, including payment confirmation and pickup/delivery updates."}),u.jsx("li",{children:"Improve menu, service speed, and app reliability."}),u.jsx("li",{children:"Send service-related notifications; occasional offers are sent only with your consent."}),u.jsx("li",{children:"Detect and prevent fraud or misuse."})]})}),D=u.jsx(sd,{title:"Sharing",children:"We do not sell your data. We share only with essential service providers (e.g., payment processors, analytics tools) under confidentiality obligations, or when required by law."}),R=u.jsx(sd,{title:"Cookies & tracking",children:"We use cookies or similar technologies to keep you signed in, remember preferences, and measure usage. You can adjust browser settings to limit cookies, but some features may not work as expected."}),z=u.jsx(sd,{title:"Data retention",children:"We retain order and account records for operational, accounting, and legal requirements. When data is no longer needed, we delete or anonymize it where feasible."}),G=u.jsx(sd,{title:"Security",children:"We use reasonable technical and organizational measures to protect information. No system is fully secure, so please use strong passwords and keep your device protected."}),e[15]=T,e[16]=D,e[17]=R,e[18]=z,e[19]=G):(T=e[15],D=e[16],R=e[17],z=e[18],G=e[19]);let $;e[20]===Symbol.for("react.memo_cache_sentinel")?($=u.jsxs("div",{className:"grid gap-6",children:[_,T,D,R,z,G,u.jsx(sd,{title:"Your choices",children:u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Update or correct your profile information within the app or by contacting support."}),u.jsx("li",{children:"Opt out of promotional messages via provided unsubscribe options."}),u.jsx("li",{children:"Request deletion of your account; some records may be retained as required by law."})]})}),u.jsx(sd,{title:"Contact",children:"For privacy questions or requests, reach us at customercare@prithvimail.com or 8056672405, or write to 5/178 D Mangalam Road, Sultanpettai Mangalam, Vamjipalayam, Tirupur, Coimbatore, Tamil Nadu 641603."})]}),e[20]=$):$=e[20];let X;e[21]===Symbol.for("react.memo_cache_sentinel")?(X=u.jsx(Ii,{to:"/policies/terms",className:"px-4 py-3 rounded-xl bg-emerald-400 text-slate-950 font-semibold shadow-lg shadow-emerald-500/30 hover:translate-y-[-1px] transition-transform",children:"Back to Terms"}),e[21]=X):X=e[21];const V=`px-4 py-3 rounded-xl border ${t?"border-slate-700 text-slate-200 hover:border-emerald-300":"border-gray-300 text-gray-800 hover:border-gray-500"} transition-all`;let Y;e[22]!==V?(Y=u.jsxs("div",{className:"flex flex-wrap gap-3",children:[X,u.jsx(Ii,{to:"/policies/refund",className:V,children:"Refund Policy"})]}),e[22]=V,e[23]=Y):Y=e[23];let W;e[24]!==j||e[25]!==i||e[26]!==Y?(W=u.jsxs("div",{className:"relative max-w-5xl mx-auto px-4 sm:px-6 pt-10 sm:pt-14",children:[a,u.jsxs("div",{className:i,children:[j,$,Y]})]}),e[24]=j,e[25]=i,e[26]=Y,e[27]=W):W=e[27];let Ne;return e[28]!==n||e[29]!==W?(Ne=u.jsx(ko,{children:u.jsx("div",{className:n,children:W})}),e[28]=n,e[29]=W,e[30]=Ne):Ne=e[30],Ne},V0=e=>{const t=Da.c(9),{title:r,children:n,isDark:a}=e,i=`text-lg sm:text-xl font-semibold ${a?"text-orange-300":"text-orange-600"}`;let c;t[0]!==i||t[1]!==r?(c=u.jsx("h2",{className:i,children:r}),t[0]=i,t[1]=r,t[2]=c):c=t[2];const f=`text-sm sm:text-base leading-relaxed ${a?"text-slate-200":"text-slate-700"}`;let m;t[3]!==n||t[4]!==f?(m=u.jsx("div",{className:f,children:n}),t[3]=n,t[4]=f,t[5]=m):m=t[5];let p;return t[6]!==c||t[7]!==m?(p=u.jsxs("section",{className:"space-y-3",children:[c,m]}),t[6]=c,t[7]=m,t[8]=p):p=t[8],p},Eie=()=>{const e=Da.c(25),{isDark:t}=bi(),r=Wa(),n=`min-h-screen ${t?"bg-slate-950":"bg-slate-100"} pb-16`;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx("div",{className:"absolute inset-0 max-w-3xl bg-gradient-to-br from-orange-400/15 via-amber-400/10 to-pink-400/10 blur-3xl pointer-events-none"}),e[0]=a):a=e[0];const i=`relative rounded-3xl border ${t?"border-slate-800 bg-slate-900/80":"border-gray-200 bg-white"} shadow-2xl shadow-orange-500/10 p-6 sm:p-10 space-y-8`;let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-orange-400",children:"Policy"}),u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold",children:"Cancellation & Refund Policy"})]}),e[1]=c):c=e[1];let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=u.jsx("div",{className:"text-xs sm:text-sm px-3 py-2 rounded-full border border-orange-300/40 text-orange-200 bg-orange-500/10",children:"Last updated on Dec 8, 2025"}),e[2]=f):f=e[2];let m;e[3]!==r?(m=()=>r("/login"),e[3]=r,e[4]=m):m=e[4];const p=`w-12 h-12 rounded-full flex items-center justify-center transition-all ${t?"bg-slate-800 hover:bg-slate-700 text-slate-300 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-900"}`;let x;e[5]===Symbol.for("react.memo_cache_sentinel")?(x=u.jsx(Jo,{size:28}),e[5]=x):x=e[5];let y;e[6]!==m||e[7]!==p?(y=u.jsxs("div",{className:"flex flex-wrap items-center gap-3 justify-between",children:[c,u.jsxs("div",{className:"flex items-center gap-3",children:[f,u.jsx("button",{onClick:m,className:p,"aria-label":"Close",children:x})]})]}),e[6]=m,e[7]=p,e[8]=y):y=e[8];const S=`text-sm sm:text-base max-w-3xl ${t?"text-slate-200":"text-slate-700"}`;let N;e[9]!==S?(N=u.jsx("p",{className:S,children:"Our beverages are made fresh. This policy explains when cancellations or refunds are possible."}),e[9]=S,e[10]=N):N=e[10];let j;e[11]!==N||e[12]!==y?(j=u.jsxs("header",{className:"space-y-2",children:[y,N]}),e[11]=N,e[12]=y,e[13]=j):j=e[13];let _;e[14]===Symbol.for("react.memo_cache_sentinel")?(_=u.jsxs("div",{className:"grid gap-6",children:[u.jsx(V0,{title:"Before preparation starts",children:"You may cancel an order before preparation begins. If cancellation is accepted, we will reverse the charge to your original payment method."}),u.jsx(V0,{title:"After preparation starts",children:"Once brewing or preparation starts, cancellation is generally not possible due to the perishable nature of tea and coffee."}),u.jsx(V0,{title:"Quality issues",children:"If you receive an incorrect item or find a quality issue, please report it to the counter team or contact us at 8056672405 or customercare@prithvimail.com within the same day. If verified, we can replace the item or issue a refund at our discretion."}),u.jsx(V0,{title:"Refund timelines",children:"Approved refunds are initiated within 1-2 business days. The time for the amount to reflect depends on your bank or payment provider."}),u.jsx(V0,{title:"Contact",children:"For any refund or cancellation queries, reach us at 8056672405 or customercare@prithvimail.com, or visit us at 5/178 D Mangalam Road, Sultanpettai Mangalam, Vamjipalayam, Tirupur, Coimbatore, Tamil Nadu 641603."})]}),e[14]=_):_=e[14];let T;e[15]===Symbol.for("react.memo_cache_sentinel")?(T=u.jsx(Ii,{to:"/policies/shipping",className:"px-4 py-3 rounded-xl bg-orange-400 text-slate-950 font-semibold shadow-lg shadow-orange-500/30 hover:translate-y-[-1px] transition-transform",children:"Delivery & Pickup"}),e[15]=T):T=e[15];const D=`px-4 py-3 rounded-xl border ${t?"border-slate-700 text-slate-200 hover:border-orange-300":"border-gray-300 text-gray-800 hover:border-gray-500"} transition-all`;let R;e[16]!==D?(R=u.jsxs("div",{className:"flex flex-wrap gap-3",children:[T,u.jsx(Ii,{to:"/policies/terms",className:D,children:"Terms & Conditions"})]}),e[16]=D,e[17]=R):R=e[17];let z;e[18]!==j||e[19]!==R||e[20]!==i?(z=u.jsxs("div",{className:"relative max-w-5xl mx-auto px-4 sm:px-6 pt-10 sm:pt-14",children:[a,u.jsxs("div",{className:i,children:[j,_,R]})]}),e[18]=j,e[19]=R,e[20]=i,e[21]=z):z=e[21];let G;return e[22]!==n||e[23]!==z?(G=u.jsx(ko,{children:u.jsx("div",{className:n,children:z})}),e[22]=n,e[23]=z,e[24]=G):G=e[24],G},W0=e=>{const t=Da.c(9),{title:r,children:n,isDark:a}=e,i=`text-lg sm:text-xl font-semibold ${a?"text-sky-300":"text-sky-600"}`;let c;t[0]!==i||t[1]!==r?(c=u.jsx("h2",{className:i,children:r}),t[0]=i,t[1]=r,t[2]=c):c=t[2];const f=`text-sm sm:text-base leading-relaxed ${a?"text-slate-200":"text-slate-700"}`;let m;t[3]!==n||t[4]!==f?(m=u.jsx("div",{className:f,children:n}),t[3]=n,t[4]=f,t[5]=m):m=t[5];let p;return t[6]!==c||t[7]!==m?(p=u.jsxs("section",{className:"space-y-3",children:[c,m]}),t[6]=c,t[7]=m,t[8]=p):p=t[8],p},Cie=()=>{const e=Da.c(28),{isDark:t}=bi(),r=Wa(),n=`min-h-screen ${t?"bg-slate-950":"bg-slate-100"} pb-16`;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx("div",{className:"absolute inset-0 max-w-3xl bg-gradient-to-br from-sky-400/15 via-blue-400/10 to-indigo-400/10 blur-3xl pointer-events-none"}),e[0]=a):a=e[0];const i=`relative rounded-3xl border ${t?"border-slate-800 bg-slate-900/80":"border-gray-200 bg-white"} shadow-2xl shadow-sky-500/10 p-6 sm:p-10 space-y-8`;let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-sky-300",children:"Policy"}),u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold",children:"Delivery & Pickup Policy"})]}),e[1]=c):c=e[1];let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=u.jsx("div",{className:"text-xs sm:text-sm px-3 py-2 rounded-full border border-sky-300/40 text-sky-200 bg-sky-500/10",children:"Last updated on Dec 8, 2025"}),e[2]=f):f=e[2];let m;e[3]!==r?(m=()=>r("/login"),e[3]=r,e[4]=m):m=e[4];const p=`w-12 h-12 rounded-full flex items-center justify-center transition-all ${t?"bg-slate-800 hover:bg-slate-700 text-slate-300 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-900"}`;let x;e[5]===Symbol.for("react.memo_cache_sentinel")?(x=u.jsx(Jo,{size:28}),e[5]=x):x=e[5];let y;e[6]!==m||e[7]!==p?(y=u.jsxs("div",{className:"flex flex-wrap items-center gap-3 justify-between",children:[c,u.jsxs("div",{className:"flex items-center gap-3",children:[f,u.jsx("button",{onClick:m,className:p,"aria-label":"Close",children:x})]})]}),e[6]=m,e[7]=p,e[8]=y):y=e[8];const S=`text-sm sm:text-base max-w-3xl ${t?"text-slate-200":"text-slate-700"}`;let N;e[9]!==S?(N=u.jsx("p",{className:S,children:"We primarily serve fresh tea and coffee within the campus/office premises. This policy explains how pickup and any on-premise delivery works."}),e[9]=S,e[10]=N):N=e[10];let j;e[11]!==N||e[12]!==y?(j=u.jsxs("header",{className:"space-y-2",children:[y,N]}),e[11]=N,e[12]=y,e[13]=j):j=e[13];let _;e[14]===Symbol.for("react.memo_cache_sentinel")?(_=u.jsx(W0,{title:"Service area",children:"Orders are prepared at our canteen and are available for pickup at the designated counter. If delivery is offered, it is limited to the approved campus/office area only."}),e[14]=_):_=e[14];let T;e[15]===Symbol.for("react.memo_cache_sentinel")?(T=u.jsx(W0,{title:"Timelines",children:u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Most beverage orders are ready within a few minutes during operating hours."}),u.jsx("li",{children:"Estimated ready times shown in the app are indicative and can vary with demand."}),u.jsx("li",{children:"Delays due to factors beyond our control (e.g., equipment issues) will be communicated where possible."})]})}),e[15]=T):T=e[15];let D;e[16]===Symbol.for("react.memo_cache_sentinel")?(D=u.jsx(W0,{title:"Pickup",children:u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Present your order ID or show the app screen at the counter to collect."}),u.jsx("li",{children:"Please collect promptly to enjoy the beverage at its best temperature and quality."})]})}),e[16]=D):D=e[16];let R;e[17]===Symbol.for("react.memo_cache_sentinel")?(R=u.jsxs("div",{className:"grid gap-6",children:[_,T,D,u.jsx(W0,{title:"Delivery (if enabled)",children:u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Delivery is subject to staff availability and may pause during peak times."}),u.jsx("li",{children:"Ensure accurate location instructions; we are not responsible for delays caused by incorrect details."}),u.jsx("li",{children:"Risk passes to you upon handover at the provided location."})]})}),u.jsx(W0,{title:"Contact",children:"For delivery or pickup questions, contact 8056672405 or customercare@prithvimail.com, or visit us at 5/178 D Mangalam Road, Sultanpettai Mangalam, Vamjipalayam, Tirupur, Coimbatore, Tamil Nadu 641603."})]}),e[17]=R):R=e[17];let z;e[18]===Symbol.for("react.memo_cache_sentinel")?(z=u.jsx(Ii,{to:"/policies/terms",className:"px-4 py-3 rounded-xl bg-sky-400 text-slate-950 font-semibold shadow-lg shadow-sky-500/30 hover:translate-y-[-1px] transition-transform",children:"Back to Terms"}),e[18]=z):z=e[18];const G=`px-4 py-3 rounded-xl border ${t?"border-slate-700 text-slate-200 hover:border-sky-300":"border-gray-300 text-gray-800 hover:border-gray-500"} transition-all`;let $;e[19]!==G?($=u.jsxs("div",{className:"flex flex-wrap gap-3",children:[z,u.jsx(Ii,{to:"/policies/refund",className:G,children:"Refund Policy"})]}),e[19]=G,e[20]=$):$=e[20];let X;e[21]!==j||e[22]!==$||e[23]!==i?(X=u.jsxs("div",{className:"relative max-w-5xl mx-auto px-4 sm:px-6 pt-10 sm:pt-14",children:[a,u.jsxs("div",{className:i,children:[j,R,$]})]}),e[21]=j,e[22]=$,e[23]=i,e[24]=X):X=e[24];let V;return e[25]!==n||e[26]!==X?(V=u.jsx(ko,{children:u.jsx("div",{className:n,children:X})}),e[25]=n,e[26]=X,e[27]=V):V=e[27],V},_ie=()=>{var N;const e=Wa(),{isDark:t}=bi(),[r,n]=I.useState({items:[],stats:{total_orders:0,total_items:0}}),[a,i]=I.useState(!0),[c,f]=I.useState(new Date),[m,p]=I.useState(null),x=I.useRef(new Date),y=async()=>{try{await qt.post("/auth/logout")}catch(j){console.error("Logout error:",j)}finally{localStorage.removeItem("kitchenToken"),localStorage.removeItem("kitchenUser"),e("/kitchen/login")}},S=I.useCallback(async(j=!1)=>{var _;try{j&&i(!0);const T=localStorage.getItem("kitchenUser"),D=T?JSON.parse(T):null;if(!D){e("/kitchen/login");return}p(D);const R=new URLSearchParams;R.append("limit","500");const z=await qt.get(`/kitchen/today?${R.toString()}`);z.data&&(n({items:z.data.items||[],stats:{total_orders:z.data.total_orders||0,total_items:z.data.total_items||0,last_updated:z.data.last_updated}}),x.current=new Date)}catch(T){console.error("Failed to fetch kitchen data:",T),((_=T.response)==null?void 0:_.status)===401&&e("/kitchen/login")}finally{j&&i(!1)}},[e]);return I.useEffect(()=>{if(!localStorage.getItem("kitchenToken")){e("/kitchen/login");return}S(!0);const _=setInterval(()=>S(!1),1e4),T=setInterval(()=>f(new Date),1e3);return()=>{clearInterval(_),clearInterval(T)}},[S,e]),a?u.jsx("div",{className:"min-h-screen bg-[var(--surface-main)] flex items-center justify-center",children:u.jsx(Vs,{})}):u.jsxs("div",{className:"kitchen-wrapper min-h-screen bg-[var(--surface-main)] text-[var(--text-primary)] p-4 sm:p-6 lg:p-8",children:[u.jsx("style",{children:`
                @media (max-height: 600px) and (orientation: landscape) {
                    .kitchen-wrapper {
                        padding: 0.75rem !important;
                    }
                    .kitchen-header {
                        margin-bottom: 1rem !important;
                        padding: 1rem !important;
                        flex-direction: row !important;
                        align-items: center !important;
                        gap: 1rem !important;
                    }
                    .kitchen-title {
                        font-size: 1.25rem !important;
                    }
                    .kitchen-clock {
                        font-size: 1.5rem !important;
                    }
                    .kitchen-grid {
                        grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
                        gap: 0.75rem !important;
                    }
                    .kitchen-footer {
                        position: relative !important;
                        padding-top: 0.5rem !important;
                        padding-bottom: 0.5rem !important;
                        backdrop-filter: none !important;
                        background: transparent !important;
                        border-top: 1px solid var(--border-default) !important;
                        margin-top: 2rem !important;
                    }
                    .kitchen-footer-spacer {
                        display: none !important;
                    }
                }
            `}),u.jsxs("div",{className:"max-w-[1600px] mx-auto",children:[u.jsxs("div",{className:"kitchen-header flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6 mb-10 bg-[var(--surface-card)] p-6 rounded-[2.5rem] border border-[var(--border-default)] shadow-xl relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[var(--brand-primary)]/5 rounded-full blur-3xl -mr-32 -mt-32"}),u.jsxs("div",{className:"flex items-center gap-5 relative z-10",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[var(--brand-primary)] to-[var(--brand-secondary)] rounded-2xl flex items-center justify-center text-white shadow-xl",children:u.jsx(bd,{size:32})}),u.jsxs("div",{children:[u.jsx("h1",{className:"kitchen-title text-3xl font-black uppercase tracking-tighter leading-none mb-1",children:"Kitchen Monitor"}),u.jsxs("p",{className:"text-xs font-black text-[var(--text-secondary)] uppercase tracking-[0.3em] opacity-60",children:[((N=m==null?void 0:m.unit)==null?void 0:N.name)||"Unit Access","  ",c.toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[u.jsxs("div",{className:"hidden md:flex items-center gap-8 px-8 border-r border-[var(--border-default)]",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[10px] font-black uppercase text-[var(--text-secondary)] opacity-40 mb-1",children:"Total Orders"}),u.jsx("p",{className:"text-3xl font-black text-[var(--text-primary)]",children:r.stats.total_orders})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[10px] font-black uppercase text-[var(--text-secondary)] opacity-40 mb-1",children:"Total Items"}),u.jsx("p",{className:"text-3xl font-black text-[var(--brand-primary)]",children:r.stats.total_items})]})]}),u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsx("div",{className:"kitchen-clock text-3xl font-black text-[var(--brand-primary)] tabular-nums leading-none tracking-tighter",children:c.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),u.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-[var(--text-secondary)] opacity-40",children:"Live Sync Active"})]})]})]})]}),u.jsx("div",{className:"space-y-4",children:r.items.length===0?u.jsxs("div",{className:"bg-[var(--surface-card)] rounded-[2.5rem] border-2 border-dashed border-[var(--border-default)] p-24 text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-[var(--surface-muted)] rounded-3xl flex items-center justify-center mx-auto mb-8",children:u.jsx(io,{size:40,className:"text-[var(--text-secondary)] opacity-20 animate-spin-slow"})}),u.jsx("h3",{className:"text-2xl font-black text-[var(--text-primary)] uppercase tracking-tight mb-2",children:"No Active Items"}),u.jsx("p",{className:"text-[var(--text-secondary)] font-medium max-w-sm mx-auto uppercase text-xs tracking-widest opacity-60",children:"All items have been processed for today or no orders have been placed yet."})]}):u.jsx("div",{className:"kitchen-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.items.map(j=>u.jsxs("div",{className:"group relative bg-[var(--surface-card)] rounded-[2rem] border border-[var(--border-default)] p-6 shadow-sm hover:shadow-xl transition-all duration-300 hover:scale-[1.02] flex flex-col justify-between overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-[var(--brand-primary)]/5 rounded-full blur-2xl -mr-8 -mt-8 transition-opacity group-hover:opacity-100"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"flex justify-between items-start mb-4",children:u.jsx("span",{className:"inline-block px-3 py-1 rounded-lg bg-[var(--surface-muted)] border border-[var(--border-default)] text-[10px] font-black uppercase tracking-widest text-[var(--text-secondary)]",children:j.category||"Food"})}),u.jsx("h3",{className:"text-2xl font-black text-[var(--text-primary)] mb-1 leading-tight line-clamp-2",children:j.name})]}),u.jsxs("div",{className:"mt-6 flex items-end justify-between relative z-10 border-t border-[var(--border-default)] pt-4",children:[u.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--text-secondary)] opacity-50",children:"Prepare"}),u.jsx("div",{className:"text-4xl font-black text-[var(--brand-primary)] tabular-nums leading-none",children:j.quantity})]})]},j.id))})}),u.jsx("div",{className:"kitchen-footer fixed bottom-0 left-0 right-0 bg-[var(--surface-card)]/95 backdrop-blur-xl border-t border-[var(--border-default)] px-6 py-4 z-50 transition-all duration-300",children:u.jsxs("div",{className:"max-w-[1600px] mx-auto flex flex-col md:flex-row items-center justify-between gap-4",children:[u.jsx("div",{className:"flex items-center w-full md:w-auto justify-center md:justify-start order-2 md:order-1",children:u.jsxs("button",{onClick:y,className:"group flex items-center gap-2 text-rose-500 hover:text-rose-600 transition-colors",children:[u.jsx("div",{className:"p-2 rounded-xl bg-rose-500/10 group-hover:bg-rose-500/20 transition-colors",children:u.jsx(Z5,{size:20})}),u.jsx("span",{className:"font-bold text-xs uppercase tracking-widest hidden sm:block",children:"Logout"})]})}),u.jsxs("div",{className:"flex items-center gap-3 order-3 md:order-2 opacity-80 hover:opacity-100 transition-opacity",children:[u.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-[var(--text-secondary)]",children:"Powered by"}),u.jsx("img",{src:t?K5:zg,alt:"XTOWN",className:"h-5 object-contain"})]}),u.jsxs("div",{className:"flex items-center gap-6 w-full md:w-auto justify-center md:justify-end order-1 md:order-3",children:[u.jsxs("div",{className:"hidden sm:flex items-center gap-4 text-[10px] font-bold uppercase tracking-widest text-[var(--text-secondary)]",children:[u.jsx(Ii,{to:"/policies/terms",className:"hover:text-[var(--brand-primary)] transition-colors",children:"Terms"}),u.jsx(Ii,{to:"/policies/privacy",className:"hover:text-[var(--brand-primary)] transition-colors",children:"Privacy"}),u.jsx(Ii,{to:"/policies/refund",className:"hover:text-[var(--brand-primary)] transition-colors",children:"Refund"}),u.jsx(Ii,{to:"/policies/shipping",className:"hover:text-[var(--brand-primary)] transition-colors",children:"Shipping"})]}),u.jsx("div",{className:"h-8 w-px bg-[var(--border-default)] hidden sm:block"}),u.jsx(Q5,{variant:"inline"})]})]})})]}),u.jsx("div",{className:"kitchen-footer-spacer h-24"})]})},jie="/assets/cb3f7d4d-4200-415d-b74f-4c917bca1a00-5dgGtofq.jpg",Oie=()=>{const e=Wa(),[t,r]=I.useState({username:"",password:""}),[n,a]=I.useState(!1),[i,c]=I.useState(!1),[f,m]=I.useState(""),p=y=>{r({...t,[y.target.name]:y.target.value}),m("")},x=async y=>{var S,N;y.preventDefault(),c(!0),m("");try{const j=await qt.post("/auth/login",t);(j.data.success||j.data.token)&&(localStorage.setItem("kitchenToken",j.data.token),localStorage.setItem("kitchenUser",JSON.stringify(j.data.user)),e("/kitchen"))}catch(j){m(((N=(S=j.response)==null?void 0:S.data)==null?void 0:N.message)||"Authentication Failed")}finally{c(!1)}};return u.jsxs("div",{className:"min-h-[100dvh] w-full flex flex-col items-center relative overflow-y-auto overflow-x-hidden font-sans selection:bg-orange-500/30 login-bg-container py-6 sm:py-10",children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:`
                .login-bg-container {
                    background-image: url(${jie});
                    background-size: cover;
                    background-position: 60% 10%;
                    background-repeat: no-repeat;
                    background-attachment: fixed;
                }
                @media (max-width: 768px), (max-height: 600px) and (orientation: landscape) {
                    .login-bg-container {
                        background-image: none !important;
                        background-color: #0f0f10; 
                        overflow: hidden !important; 
                        justify-content: center !important;
                    }
                    .login-card-wrapper {
                        margin: auto !important; 
                        align-self: center !important; 
                        margin-right: auto !important;
                    }
                    /* Wrapper - hide overflow to clip scrollbars */
                    .login-input-group .relative {
                        overflow: hidden !important;
                        border-radius: 1.5rem !important;
                    }
                    
                    /* Fix input scrollbars - Complete hiding */
                    .login-input-group input {
                        /* Overflow and scrollbar removal - COMPLETE */
                        overflow: hidden !important;
                        overflow-x: hidden !important;
                        overflow-y: hidden !important;
                        scrollbar-width: none !important;
                        -ms-overflow-style: none !important;
                        overscroll-behavior: none !important;
                        
                        /* Box model - REDUCED WIDTH to prevent scrollbar space */
                        box-sizing: border-box !important;
                        width: calc(100% - 2px) !important;
                        margin: 0 1px !important;
                        display: block !important;
                        
                        /* Dimensions - FIXED */
                        padding: 0.55rem 3rem 0.55rem 1rem !important;
                        height: 2.6rem !important;
                        min-height: 2.6rem !important;
                        max-height: 2.6rem !important;
                        
                        /* Clip edges with border radius */
                        border-radius: 1.5rem !important;
                        
                        /* Text handling - PRECISE */
                        font-size: 0.875rem !important;
                        line-height: 1.4 !important;
                        white-space: nowrap !important;
                        text-overflow: clip !important;
                        
                        /* Text color - VISIBLE */
                        color: #18181b !important;
                        font-weight: 600 !important;
                        
                        /* Appearance */
                        resize: none !important;
                        appearance: none !important;
                        -webkit-appearance: none !important;
                        -moz-appearance: none !important;
                        
                        /* Rendering - ISOLATION */
                        vertical-align: middle !important;
                        contain: strict !important;
                        isolation: isolate !important;
                        backface-visibility: hidden !important;
                        transform: translateZ(0) !important;
                        
                        /* Focus handling */
                        outline: none !important;
                        outline-offset: 0 !important;
                    }
                    
                    /* Placeholder text color */
                    .login-input-group input::placeholder {
                        color: #71717a !important;
                        opacity: 1 !important;
                        font-weight: 500 !important;
                    }
                    
                    /* Increase icon size for landscape */
                    .login-input-group .absolute svg,
                    .login-input-group button svg {
                        width: 24px !important;
                        height: 10px !important;
                    }
                    
                    /* Hide native browser icons */
                    .login-input-group input::-ms-reveal,
                    .login-input-group input::-ms-clear {
                        display: none !important;
                        width: 0 !important;
                        height: 0 !important;
                        opacity: 0 !important;
                        visibility: hidden !important;
                    }
                    
                    /* Hide ALL scrollbar pseudo-elements */
                    .login-input-group input::-webkit-scrollbar,
                    .login-input-group input::-webkit-scrollbar-track,
                    .login-input-group input::-webkit-scrollbar-thumb,
                    .login-input-group input::-webkit-scrollbar-corner,
                    .login-input-group input::-webkit-resizer {
                        display: none !important;
                        width: 0 !important;
                        height: 0 !important;
                        opacity: 0 !important;
                        visibility: hidden !important;
                        background: transparent !important;
                    }
                    
                    /* Reduce login button height */
                    .login-input-group button[type="submit"] {
                        padding-top: 0.3rem !important;
                        padding-bottom: 0.3rem !important;
                    }
                }
                /* Animation Keyframes */
                @keyframes letter-pop {
                    0% { opacity: 0; transform: translateY(10px) scale(0.5); filter: blur(10px); }
                    100% { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }
                }
                .animate-letter-pop {
                    animation: letter-pop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
                }
            `}}),u.jsx("div",{className:"fixed inset-0 bg-transparent pointer-events-none"}),u.jsx("div",{className:"fixed inset-0 bg-[radial-gradient(circle_at_50%_50%,transparent_0%,rgba(0,0,0,0.4)_100%)] pointer-events-none"}),u.jsx("div",{className:"relative my-auto sm:my-0 sm:mt-[35vh] sm:mb-auto w-full max-w-[400px] px-4 z-20 animate-in fade-in zoom-in duration-1000 login-card-wrapper sm:self-end sm:mr-[5%]",children:u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-orange-600/20 to-amber-600/20 rounded-[2.5rem] blur-2xl group-hover:blur-3xl transition-all duration-1000 opacity-50"}),u.jsxs("div",{className:"relative bg-[#080808]/90 backdrop-blur-3xl rounded-[2.5rem] shadow-[0_50px_100px_-20px_rgba(0,0,0,0.6)] border border-white/[0.08] p-6 sm:p-8 overflow-hidden login-card-inner",children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white/10 to-transparent"}),u.jsxs("div",{className:"text-center login-header-group mb-6",children:[u.jsx("div",{className:"flex justify-center mb-4 login-logo-container",children:u.jsx("div",{className:"p-1 rounded-2xl border border-white/20 shadow-[0_0_20px_rgba(255,255,255,0.05)] overflow-hidden",children:u.jsx("img",{src:Lm,alt:"Prithvi Logo",className:"w-24 h-auto object-contain login-logo-img"})})}),u.jsx("h1",{className:"text-lg sm:text-xl font-black text-white uppercase tracking-[0.15em] mb-1 flex justify-center flex-wrap gap-x-2",children:"Welcome To Kitchen".split(" ").map((y,S,N)=>{const j=N.slice(0,S).join(" ").length+(S>0?1:0);return u.jsx("span",{className:"inline-block whitespace-nowrap",children:y.split("").map((_,T)=>u.jsx("span",{className:"inline-block animate-letter-pop opacity-0",style:{animationDelay:`${(j+T)*40}ms`,animationFillMode:"forwards"},children:_},T))},S)})}),u.jsx("p",{className:"text-[11px] font-black text-zinc-500 uppercase tracking-[0.4em] animate-pulse",children:"Login"})]}),f&&u.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border-l-4 border-red-500 rounded-lg text-red-500 text-[10px] font-black uppercase tracking-wider animate-in fade-in",children:f}),u.jsxs("form",{onSubmit:x,className:"space-y-4 login-input-group",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"relative group/input",children:[u.jsx("input",{type:"text",name:"username",value:t.username,onChange:p,placeholder:"User Name",required:!0,className:"w-full px-14 py-3.5 rounded-2xl border border-zinc-200 bg-white text-zinc-900 focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500/50 transition-all duration-300 font-sans font-bold text-xs tracking-[0.1em] placeholder:text-zinc-600 placeholder:font-bold text-center shadow-lg shadow-zinc-950/5"}),u.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-14 flex items-center justify-center text-zinc-400 group-focus-within/input:text-orange-500 transition-all duration-300 pointer-events-none",children:u.jsx(pf,{size:20})})]}),u.jsxs("div",{className:"relative group/input",children:[u.jsx("input",{type:n?"text":"password",name:"password",value:t.password,onChange:p,placeholder:"...........",required:!0,className:"w-full px-14 py-3.5 rounded-2xl border border-zinc-200 bg-white text-zinc-900 focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500/50 transition-all duration-300 font-sans font-bold text-xs tracking-[0.1em] placeholder:text-zinc-600 placeholder:font-bold text-center shadow-lg shadow-zinc-950/5"}),u.jsx("button",{type:"button",onClick:()=>a(!n),className:"absolute top-0 right-0 bottom-0 w-14 flex items-center justify-center text-zinc-400 hover:text-orange-500 transition-colors duration-300 focus:outline-none",children:n?u.jsx(Bh,{size:20}):u.jsx(Fh,{size:20})})]})]}),u.jsx("button",{type:"submit",disabled:i,className:`group/btn relative w-full py-3.5 rounded-2xl flex items-center justify-center gap-3 transition-all duration-500 active:scale-[0.98] ${i?"bg-zinc-900 text-zinc-700 cursor-not-allowed border border-white/5":"bg-white text-black hover:bg-orange-500 hover:text-white overflow-hidden"}`,children:i?u.jsx("div",{className:"w-5 h-5 border-2 border-zinc-800 border-t-zinc-400 rounded-full animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"absolute inset-0 w-1/2 h-full bg-gradient-to-r from-transparent via-white/20 to-transparent -skew-x-12 -translate-x-full group-hover/btn:translate-x-[250%] transition-transform duration-1000 ease-in-out pointer-events-none"}),u.jsx("span",{className:"font-black uppercase tracking-[0.3em] text-[12px]",children:"LOGIN"}),u.jsx(Zl,{size:18,className:"translate-x-0 group-hover/btn:translate-x-1 transition-transform"})]})})]}),u.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 pt-4 border-t border-white/[0.03]",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),u.jsx("p",{className:"text-[9px] text-zinc-600 font-bold uppercase tracking-[0.4em]",children:"Terminal Active  v2.0"})]})]})]})}),u.jsx("div",{className:"absolute bottom-10 left-10 pointer-events-none opacity-20 hidden sm:block",children:u.jsx("p",{className:"text-[10px] text-white font-black uppercase tracking-[0.8em] vertical-text",children:"Kitchen Control Unit"})}),u.jsx("style",{dangerouslySetInnerHTML:{__html:`
                @keyframes letter-pop {
                    0% { opacity: 0; transform: translateY(10px) scale(0.5); filter: blur(10px); }
                    100% { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }
                }
                .animate-letter-pop {
                    animation: letter-pop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
                }
            `}})]})},Tie=()=>{const e=Da.c(10),[t,r]=I.useState(null),[n,a]=I.useState(!1);let i,c;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{if(window.matchMedia("(display-mode: standalone)").matches||localStorage.getItem("installPromptDismissed"))return;const _=T=>{T.preventDefault(),r(T),a(!0)};return window.addEventListener("beforeinstallprompt",_),()=>{window.removeEventListener("beforeinstallprompt",_)}},c=[],e[0]=i,e[1]=c):(i=e[0],c=e[1]),I.useEffect(i,c);let f;e[2]!==t?(f=async()=>{if(!t)return;t.prompt();const{outcome:_}=await t.userChoice;console.log(_==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),r(null),a(!1)},e[2]=t,e[3]=f):f=e[3];const m=f;let p;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{a(!1),localStorage.setItem("installPromptDismissed","true")},e[4]=p):p=e[4];const x=p;if(!n)return null;let y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y=u.jsx("div",{className:"w-12 h-12 rounded-xl bg-[var(--brand-primary)]/10 flex items-center justify-center shrink-0 text-[var(--brand-primary)]",children:u.jsx(qj,{size:24})}),e[5]=y):y=e[5];let S;e[6]===Symbol.for("react.memo_cache_sentinel")?(S=u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-bold text-[var(--text-primary)] text-sm",children:"Install App"}),u.jsx("p",{className:"text-xs text-[var(--text-secondary)] leading-tight mt-0.5",children:"Install CMS for a better experience."})]}),e[6]=S):S=e[6];let N;e[7]===Symbol.for("react.memo_cache_sentinel")?(N=u.jsx("button",{onClick:x,className:"p-2 text-[var(--text-secondary)] hover:bg-[var(--surface-muted)] rounded-lg transition-colors",children:u.jsx(Jo,{size:18})}),e[7]=N):N=e[7];let j;return e[8]!==m?(j=u.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-8 md:bottom-8 z-[9999] animate-in slide-in-from-bottom-5 fade-in duration-300",children:u.jsxs("div",{className:"bg-[var(--surface-card)] dark:bg-zinc-900 border-2 border-[var(--brand-primary)] rounded-2xl shadow-2xl p-4 flex items-center gap-4 max-w-sm w-full mx-auto backdrop-blur-md",children:[y,S,u.jsxs("div",{className:"flex items-center gap-2",children:[N,u.jsx("button",{onClick:m,className:"bg-[var(--brand-primary)] hover:bg-[#e6b533] text-black text-xs font-bold px-4 py-2 rounded-xl shadow-lg shadow-orange-500/20 transition-all active:scale-95",children:"Install"})]})]})}),e[8]=m,e[9]=j):j=e[9],j},kie=()=>{var q;const e=Da.c(30),{user:t}=Xi();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=u.jsx(Yn,{path:"/login",element:u.jsx(AB,{})}),e[0]=r):r=e[0];let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=u.jsx(Yn,{path:"/kiosk/products",element:u.jsx(Ti,{children:u.jsx(Bp,{children:u.jsx(NB,{})})})}),e[1]=n):n=e[1];let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx(Yn,{path:"/kiosk/calendar",element:u.jsx(Ti,{children:u.jsx(Bp,{children:u.jsx(SB,{})})})}),e[2]=a):a=e[2];let i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=u.jsx(Yn,{path:"/kiosk/payment",element:u.jsx(Ti,{children:u.jsx(Bp,{children:u.jsx(EB,{})})})}),e[3]=i):i=e[3];let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsx(Yn,{path:"/kiosk/success",element:u.jsx(Ti,{children:u.jsx(Bp,{children:u.jsx(_B,{})})})}),e[4]=c):c=e[4];let f;e[5]===Symbol.for("react.memo_cache_sentinel")?(f=u.jsx(Yn,{path:"/admin/dashboard",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(Eae,{})})}),e[5]=f):f=e[5];let m;e[6]===Symbol.for("react.memo_cache_sentinel")?(m=u.jsx(Yn,{path:"/policies/terms",element:u.jsx(Nie,{})}),e[6]=m):m=e[6];let p;e[7]===Symbol.for("react.memo_cache_sentinel")?(p=u.jsx(Yn,{path:"/policies/privacy",element:u.jsx(Sie,{})}),e[7]=p):p=e[7];let x;e[8]===Symbol.for("react.memo_cache_sentinel")?(x=u.jsx(Yn,{path:"/policies/refund",element:u.jsx(Eie,{})}),e[8]=x):x=e[8];let y;e[9]===Symbol.for("react.memo_cache_sentinel")?(y=u.jsx(Yn,{path:"/policies/shipping",element:u.jsx(Cie,{})}),e[9]=y):y=e[9];let S;e[10]===Symbol.for("react.memo_cache_sentinel")?(S=u.jsx(Yn,{path:"/kitchen/login",element:u.jsx(Oie,{})}),e[10]=S):S=e[10];let N;e[11]===Symbol.for("react.memo_cache_sentinel")?(N=u.jsx(Yn,{path:"/kitchen",element:u.jsx(_ie,{})}),e[11]=N):N=e[11];let j;e[12]===Symbol.for("react.memo_cache_sentinel")?(j=u.jsx(Yn,{path:"/admin/products",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(Cae,{})})}),e[12]=j):j=e[12];let _;e[13]===Symbol.for("react.memo_cache_sentinel")?(_=u.jsx(Yn,{path:"/admin/units",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(_ae,{})})}),e[13]=_):_=e[13];let T;e[14]===Symbol.for("react.memo_cache_sentinel")?(T=u.jsx(Yn,{path:"/admin/logs",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(jae,{})})}),e[14]=T):T=e[14];let D;e[15]===Symbol.for("react.memo_cache_sentinel")?(D=u.jsx(Yn,{path:"/admin/meal-scheduler",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(vie,{})})}),e[15]=D):D=e[15];let R;e[16]===Symbol.for("react.memo_cache_sentinel")?(R=u.jsx(Yn,{path:"/admin/users",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(Oae,{})})}),e[16]=R):R=e[16];let z;e[17]===Symbol.for("react.memo_cache_sentinel")?(z=u.jsx(Yn,{path:"/admin/AdminCheckout",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(xie,{})})}),e[17]=z):z=e[17];let G;e[18]===Symbol.for("react.memo_cache_sentinel")?(G=u.jsx(Yn,{path:"/admin/reports",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(Aie,{})})}),e[18]=G):G=e[18];let $;e[19]===Symbol.for("react.memo_cache_sentinel")?($=u.jsx(Yn,{path:"/admin/employees",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(yie,{})})}),e[19]=$):$=e[19];let X;e[20]===Symbol.for("react.memo_cache_sentinel")?(X=u.jsx(Yn,{path:"/admin/add-employee",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(bie,{})})}),e[20]=X):X=e[20];let V;e[21]===Symbol.for("react.memo_cache_sentinel")?(V=u.jsx(Yn,{path:"/admin/edit-employee/:id",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(wie,{})})}),e[21]=V):V=e[21];let Y;e[22]===Symbol.for("react.memo_cache_sentinel")?(Y=u.jsx(Yn,{path:"/kiosk/my-orders",element:u.jsx(Ti,{children:u.jsx(cS,{layout:ko})})}),e[22]=Y):Y=e[22];let W;e[23]===Symbol.for("react.memo_cache_sentinel")?(W=u.jsx(Yn,{path:"/kiosk/my-orders/:orderId",element:u.jsx(Ti,{children:u.jsx(uS,{layout:ko})})}),e[23]=W):W=e[23];let Ne;e[24]===Symbol.for("react.memo_cache_sentinel")?(Ne=u.jsx(Yn,{path:"/kiosk/meal-plan",element:u.jsx(Ti,{children:u.jsx(kB,{})})}),e[24]=Ne):Ne=e[24];let Z;e[25]===Symbol.for("react.memo_cache_sentinel")?(Z=u.jsx(Yn,{path:"/admin/my-orders",element:u.jsx(Ti,{children:u.jsx(cS,{layout:ui})})}),e[25]=Z):Z=e[25];let Q;e[26]===Symbol.for("react.memo_cache_sentinel")?(Q=u.jsx(Yn,{path:"/admin/my-orders/:orderId",element:u.jsx(Ti,{children:u.jsx(uS,{layout:ui})})}),e[26]=Q):Q=e[26];let ye;e[27]===Symbol.for("react.memo_cache_sentinel")?(ye=u.jsx(Yn,{path:"/admin/login",element:u.jsx(fd,{to:"/login",replace:!0})}),e[27]=ye):ye=e[27];let ie;return e[28]!==t?(ie=u.jsxs(VL,{children:[r,n,a,i,c,f,m,p,x,y,S,N,j,_,T,D,R,z,G,$,X,V,Y,W,Ne,Z,Q,ye,u.jsx(Yn,{path:"/",element:t?["admin","unit_admin"].includes((q=t.role)==null?void 0:q.toLowerCase())?u.jsx(fd,{to:"/admin/dashboard",replace:!0}):u.jsx(fd,{to:"/kiosk/products",replace:!0}):u.jsx(fd,{to:"/login",replace:!0})})]}),e[28]=t,e[29]=ie):ie=e[29],ie};function Iie(){const e=Da.c(4);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0],I.useEffect(Mie,t);let r,n;e[1]===Symbol.for("react.memo_cache_sentinel")?(r=u.jsx($R,{}),n=u.jsx(Tie,{}),e[1]=r,e[2]=n):(r=e[1],n=e[2]);let a;return e[3]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsxs(T9,{children:[r,n,u.jsx(ZL,{children:u.jsx(kie,{})})]}),e[3]=a):a=e[3],a}function Mie(){const e=Die;return document.addEventListener("contextmenu",e),()=>{document.removeEventListener("contextmenu",e)}}function Die(e){return e.preventDefault(),!1}KD.createRoot(document.getElementById("root")).render(u.jsx(I.StrictMode,{children:u.jsx(mB,{children:u.jsx(Iie,{})})}));export{Jn as _,Pp as c,Mc as g};
