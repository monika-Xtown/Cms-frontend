var qM=Object.defineProperty;var HM=(e,t,r)=>t in e?qM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var X2=(e,t,r)=>HM(e,typeof t!="symbol"?t+"":t,r);function F_(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Rp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var K2={exports:{}},O0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mN;function VM(){if(mN)return O0;mN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var c=null;if(i!==void 0&&(c=""+i),a.key!==void 0&&(c=""+a.key),"key"in a){i={};for(var f in a)f!=="key"&&(i[f]=a[f])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:c,ref:a!==void 0?a:null,props:i}}return O0.Fragment=t,O0.jsx=r,O0.jsxs=r,O0}var gN;function GM(){return gN||(gN=1,K2.exports=VM()),K2.exports}var u=GM(),Q2={exports:{}},Hr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xN;function WM(){if(xN)return Hr;xN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function N(ce){return ce===null||typeof ce!="object"?null:(ce=S&&ce[S]||ce["@@iterator"],typeof ce=="function"?ce:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,T={};function I(ce,U,H){this.props=ce,this.context=U,this.refs=T,this.updater=H||j}I.prototype.isReactComponent={},I.prototype.setState=function(ce,U){if(typeof ce!="object"&&typeof ce!="function"&&ce!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ce,U,"setState")},I.prototype.forceUpdate=function(ce){this.updater.enqueueForceUpdate(this,ce,"forceUpdate")};function R(){}R.prototype=I.prototype;function F(ce,U,H){this.props=ce,this.context=U,this.refs=T,this.updater=H||j}var G=F.prototype=new R;G.constructor=F,_(G,I.prototype),G.isPureReactComponent=!0;var Y=Array.isArray;function J(){}var V={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function W(ce,U,H){var se=H.ref;return{$$typeof:e,type:ce,key:U,ref:se!==void 0?se:null,props:H}}function Ne(ce,U){return W(ce.type,U,ce.props)}function Z(ce){return typeof ce=="object"&&ce!==null&&ce.$$typeof===e}function Q(ce){var U={"=":"=0",":":"=2"};return"$"+ce.replace(/[=:]/g,function(H){return U[H]})}var me=/\/+/g;function re(ce,U){return typeof ce=="object"&&ce!==null&&ce.key!=null?Q(""+ce.key):U.toString(36)}function q(ce){switch(ce.status){case"fulfilled":return ce.value;case"rejected":throw ce.reason;default:switch(typeof ce.status=="string"?ce.then(J,J):(ce.status="pending",ce.then(function(U){ce.status==="pending"&&(ce.status="fulfilled",ce.value=U)},function(U){ce.status==="pending"&&(ce.status="rejected",ce.reason=U)})),ce.status){case"fulfilled":return ce.value;case"rejected":throw ce.reason}}throw ce}function ie(ce,U,H,se,ve){var ne=typeof ce;(ne==="undefined"||ne==="boolean")&&(ce=null);var le=!1;if(ce===null)le=!0;else switch(ne){case"bigint":case"string":case"number":le=!0;break;case"object":switch(ce.$$typeof){case e:case t:le=!0;break;case x:return le=ce._init,ie(le(ce._payload),U,H,se,ve)}}if(le)return ve=ve(ce),le=se===""?"."+re(ce,0):se,Y(ve)?(H="",le!=null&&(H=le.replace(me,"$&/")+"/"),ie(ve,U,H,"",function(Te){return Te})):ve!=null&&(Z(ve)&&(ve=Ne(ve,H+(ve.key==null||ce&&ce.key===ve.key?"":(""+ve.key).replace(me,"$&/")+"/")+le)),U.push(ve)),1;le=0;var je=se===""?".":se+":";if(Y(ce))for(var pe=0;pe<ce.length;pe++)se=ce[pe],ne=je+re(se,pe),le+=ie(se,U,H,ne,ve);else if(pe=N(ce),typeof pe=="function")for(ce=pe.call(ce),pe=0;!(se=ce.next()).done;)se=se.value,ne=je+re(se,pe++),le+=ie(se,U,H,ne,ve);else if(ne==="object"){if(typeof ce.then=="function")return ie(q(ce),U,H,se,ve);throw U=String(ce),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(ce).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return le}function oe(ce,U,H){if(ce==null)return ce;var se=[],ve=0;return ie(ce,se,"","",function(ne){return U.call(H,ne,ve++)}),se}function de(ce){if(ce._status===-1){var U=ce._result;U=U(),U.then(function(H){(ce._status===0||ce._status===-1)&&(ce._status=1,ce._result=H)},function(H){(ce._status===0||ce._status===-1)&&(ce._status=2,ce._result=H)}),ce._status===-1&&(ce._status=0,ce._result=U)}if(ce._status===1)return ce._result.default;throw ce._result}var ee=typeof reportError=="function"?reportError:function(ce){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ce=="object"&&ce!==null&&typeof ce.message=="string"?String(ce.message):String(ce),error:ce});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ce);return}console.error(ce)},Ae={map:oe,forEach:function(ce,U,H){oe(ce,function(){U.apply(this,arguments)},H)},count:function(ce){var U=0;return oe(ce,function(){U++}),U},toArray:function(ce){return oe(ce,function(U){return U})||[]},only:function(ce){if(!Z(ce))throw Error("React.Children.only expected to receive a single React element child.");return ce}};return Hr.Activity=y,Hr.Children=Ae,Hr.Component=I,Hr.Fragment=r,Hr.Profiler=a,Hr.PureComponent=F,Hr.StrictMode=n,Hr.Suspense=m,Hr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Hr.__COMPILER_RUNTIME={__proto__:null,c:function(ce){return V.H.useMemoCache(ce)}},Hr.cache=function(ce){return function(){return ce.apply(null,arguments)}},Hr.cacheSignal=function(){return null},Hr.cloneElement=function(ce,U,H){if(ce==null)throw Error("The argument must be a React element, but you passed "+ce+".");var se=_({},ce.props),ve=ce.key;if(U!=null)for(ne in U.key!==void 0&&(ve=""+U.key),U)!$.call(U,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&U.ref===void 0||(se[ne]=U[ne]);var ne=arguments.length-2;if(ne===1)se.children=H;else if(1<ne){for(var le=Array(ne),je=0;je<ne;je++)le[je]=arguments[je+2];se.children=le}return W(ce.type,ve,se)},Hr.createContext=function(ce){return ce={$$typeof:c,_currentValue:ce,_currentValue2:ce,_threadCount:0,Provider:null,Consumer:null},ce.Provider=ce,ce.Consumer={$$typeof:i,_context:ce},ce},Hr.createElement=function(ce,U,H){var se,ve={},ne=null;if(U!=null)for(se in U.key!==void 0&&(ne=""+U.key),U)$.call(U,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ve[se]=U[se]);var le=arguments.length-2;if(le===1)ve.children=H;else if(1<le){for(var je=Array(le),pe=0;pe<le;pe++)je[pe]=arguments[pe+2];ve.children=je}if(ce&&ce.defaultProps)for(se in le=ce.defaultProps,le)ve[se]===void 0&&(ve[se]=le[se]);return W(ce,ne,ve)},Hr.createRef=function(){return{current:null}},Hr.forwardRef=function(ce){return{$$typeof:f,render:ce}},Hr.isValidElement=Z,Hr.lazy=function(ce){return{$$typeof:x,_payload:{_status:-1,_result:ce},_init:de}},Hr.memo=function(ce,U){return{$$typeof:p,type:ce,compare:U===void 0?null:U}},Hr.startTransition=function(ce){var U=V.T,H={};V.T=H;try{var se=ce(),ve=V.S;ve!==null&&ve(H,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(J,ee)}catch(ne){ee(ne)}finally{U!==null&&H.types!==null&&(U.types=H.types),V.T=U}},Hr.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Hr.use=function(ce){return V.H.use(ce)},Hr.useActionState=function(ce,U,H){return V.H.useActionState(ce,U,H)},Hr.useCallback=function(ce,U){return V.H.useCallback(ce,U)},Hr.useContext=function(ce){return V.H.useContext(ce)},Hr.useDebugValue=function(){},Hr.useDeferredValue=function(ce,U){return V.H.useDeferredValue(ce,U)},Hr.useEffect=function(ce,U){return V.H.useEffect(ce,U)},Hr.useEffectEvent=function(ce){return V.H.useEffectEvent(ce)},Hr.useId=function(){return V.H.useId()},Hr.useImperativeHandle=function(ce,U,H){return V.H.useImperativeHandle(ce,U,H)},Hr.useInsertionEffect=function(ce,U){return V.H.useInsertionEffect(ce,U)},Hr.useLayoutEffect=function(ce,U){return V.H.useLayoutEffect(ce,U)},Hr.useMemo=function(ce,U){return V.H.useMemo(ce,U)},Hr.useOptimistic=function(ce,U){return V.H.useOptimistic(ce,U)},Hr.useReducer=function(ce,U,H){return V.H.useReducer(ce,U,H)},Hr.useRef=function(ce){return V.H.useRef(ce)},Hr.useState=function(ce){return V.H.useState(ce)},Hr.useSyncExternalStore=function(ce,U,H){return V.H.useSyncExternalStore(ce,U,H)},Hr.useTransition=function(){return V.H.useTransition()},Hr.version="19.2.0",Hr}var vN;function Nf(){return vN||(vN=1,Q2.exports=WM()),Q2.exports}var M=Nf();const gd=Dc(M),z_=F_({__proto__:null,default:gd},[M]);var Z2={exports:{}},T0={},J2={exports:{}},ev={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yN;function YM(){return yN||(yN=1,function(e){function t(ie,oe){var de=ie.length;ie.push(oe);e:for(;0<de;){var ee=de-1>>>1,Ae=ie[ee];if(0<a(Ae,oe))ie[ee]=oe,ie[de]=Ae,de=ee;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var oe=ie[0],de=ie.pop();if(de!==oe){ie[0]=de;e:for(var ee=0,Ae=ie.length,ce=Ae>>>1;ee<ce;){var U=2*(ee+1)-1,H=ie[U],se=U+1,ve=ie[se];if(0>a(H,de))se<Ae&&0>a(ve,H)?(ie[ee]=ve,ie[se]=de,ee=se):(ie[ee]=H,ie[U]=de,ee=U);else if(se<Ae&&0>a(ve,de))ie[ee]=ve,ie[se]=de,ee=se;else break e}}return oe}function a(ie,oe){var de=ie.sortIndex-oe.sortIndex;return de!==0?de:ie.id-oe.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var m=[],p=[],x=1,y=null,S=3,N=!1,j=!1,_=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function G(ie){for(var oe=r(p);oe!==null;){if(oe.callback===null)n(p);else if(oe.startTime<=ie)n(p),oe.sortIndex=oe.expirationTime,t(m,oe);else break;oe=r(p)}}function Y(ie){if(_=!1,G(ie),!j)if(r(m)!==null)j=!0,J||(J=!0,Q());else{var oe=r(p);oe!==null&&q(Y,oe.startTime-ie)}}var J=!1,V=-1,$=5,W=-1;function Ne(){return T?!0:!(e.unstable_now()-W<$)}function Z(){if(T=!1,J){var ie=e.unstable_now();W=ie;var oe=!0;try{e:{j=!1,_&&(_=!1,R(V),V=-1),N=!0;var de=S;try{t:{for(G(ie),y=r(m);y!==null&&!(y.expirationTime>ie&&Ne());){var ee=y.callback;if(typeof ee=="function"){y.callback=null,S=y.priorityLevel;var Ae=ee(y.expirationTime<=ie);if(ie=e.unstable_now(),typeof Ae=="function"){y.callback=Ae,G(ie),oe=!0;break t}y===r(m)&&n(m),G(ie)}else n(m);y=r(m)}if(y!==null)oe=!0;else{var ce=r(p);ce!==null&&q(Y,ce.startTime-ie),oe=!1}}break e}finally{y=null,S=de,N=!1}oe=void 0}}finally{oe?Q():J=!1}}}var Q;if(typeof F=="function")Q=function(){F(Z)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,re=me.port2;me.port1.onmessage=Z,Q=function(){re.postMessage(null)}}else Q=function(){I(Z,0)};function q(ie,oe){V=I(function(){ie(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(ie){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var de=S;S=oe;try{return ie()}finally{S=de}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(ie,oe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var de=S;S=ie;try{return oe()}finally{S=de}},e.unstable_scheduleCallback=function(ie,oe,de){var ee=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ee+de:ee):de=ee,ie){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=de+Ae,ie={id:x++,callback:oe,priorityLevel:ie,startTime:de,expirationTime:Ae,sortIndex:-1},de>ee?(ie.sortIndex=de,t(p,ie),r(m)===null&&ie===r(p)&&(_?(R(V),V=-1):_=!0,q(Y,de-ee))):(ie.sortIndex=Ae,t(m,ie),j||N||(j=!0,J||(J=!0,Q()))),ie},e.unstable_shouldYield=Ne,e.unstable_wrapCallback=function(ie){var oe=S;return function(){var de=S;S=oe;try{return ie.apply(this,arguments)}finally{S=de}}}}(ev)),ev}var bN;function $M(){return bN||(bN=1,J2.exports=YM()),J2.exports}var tv={exports:{}},Is={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wN;function XM(){if(wN)return Is;wN=1;var e=Nf();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(m,p,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:m,containerInfo:p,implementation:x}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Is.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Is.createPortal=function(m,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return i(m,p,null,x)},Is.flushSync=function(m){var p=c.T,x=n.p;try{if(c.T=null,n.p=2,m)return m()}finally{c.T=p,n.p=x,n.d.f()}},Is.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(m,p))},Is.prefetchDNS=function(m){typeof m=="string"&&n.d.D(m)},Is.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var x=p.as,y=f(x,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?n.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:N}):x==="script"&&n.d.X(m,{crossOrigin:y,integrity:S,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Is.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=f(p.as,p.crossOrigin);n.d.M(m,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(m)},Is.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,y=f(x,p.crossOrigin);n.d.L(m,x,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Is.preloadModule=function(m,p){if(typeof m=="string")if(p){var x=f(p.as,p.crossOrigin);n.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(m)},Is.requestFormReset=function(m){n.d.r(m)},Is.unstable_batchedUpdates=function(m,p){return m(p)},Is.useFormState=function(m,p,x){return c.H.useFormState(m,p,x)},Is.useFormStatus=function(){return c.H.useHostTransitionStatus()},Is.version="19.2.0",Is}var AN;function U_(){if(AN)return tv.exports;AN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tv.exports=XM(),tv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NN;function KM(){if(NN)return T0;NN=1;var e=$M(),t=Nf(),r=U_();function n(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)l+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function i(s){var l=s,g=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,l.flags&4098&&(g=l.return),s=l.return;while(s)}return l.tag===3?g:null}function c(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function f(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function m(s){if(i(s)!==s)throw Error(n(188))}function p(s){var l=s.alternate;if(!l){if(l=i(s),l===null)throw Error(n(188));return l!==s?null:s}for(var g=s,w=l;;){var O=g.return;if(O===null)break;var L=O.alternate;if(L===null){if(w=O.return,w!==null){g=w;continue}break}if(O.child===L.child){for(L=O.child;L;){if(L===g)return m(O),s;if(L===w)return m(O),l;L=L.sibling}throw Error(n(188))}if(g.return!==w.return)g=O,w=L;else{for(var te=!1,Ee=O.child;Ee;){if(Ee===g){te=!0,g=O,w=L;break}if(Ee===w){te=!0,w=O,g=L;break}Ee=Ee.sibling}if(!te){for(Ee=L.child;Ee;){if(Ee===g){te=!0,g=L,w=O;break}if(Ee===w){te=!0,w=L,g=O;break}Ee=Ee.sibling}if(!te)throw Error(n(189))}}if(g.alternate!==w)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?s:l}function x(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=x(s),l!==null)return l;s=s.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),F=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function Q(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var me=Symbol.for("react.client.reference");function re(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===me?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case I:return"Profiler";case T:return"StrictMode";case Y:return"Suspense";case J:return"SuspenseList";case W:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case j:return"Portal";case F:return s.displayName||"Context";case R:return(s._context.displayName||"Context")+".Consumer";case G:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case V:return l=s.displayName||null,l!==null?l:re(s.type)||"Memo";case $:l=s._payload,s=s._init;try{return re(s(l))}catch{}}return null}var q=Array.isArray,ie=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ee=[],Ae=-1;function ce(s){return{current:s}}function U(s){0>Ae||(s.current=ee[Ae],ee[Ae]=null,Ae--)}function H(s,l){Ae++,ee[Ae]=s.current,s.current=l}var se=ce(null),ve=ce(null),ne=ce(null),le=ce(null);function je(s,l){switch(H(ne,l),H(ve,s),H(se,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?BA(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=BA(l),s=FA(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}U(se),H(se,s)}function pe(){U(se),U(ve),U(ne)}function Te(s){s.memoizedState!==null&&H(le,s);var l=se.current,g=FA(l,s.type);l!==g&&(H(ve,s),H(se,g))}function ke(s){ve.current===s&&(U(se),U(ve)),le.current===s&&(U(le),E0._currentValue=de)}var ue,Le;function $e(s){if(ue===void 0)try{throw Error()}catch(g){var l=g.stack.trim().match(/\n( *(at )?)/);ue=l&&l[1]||"",Le=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+s+Le}var Be=!1;function ae(s,l){if(!s||Be)return"";Be=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(l){var It=function(){throw Error()};if(Object.defineProperty(It.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(It,[])}catch(gt){var ft=gt}Reflect.construct(s,[],It)}else{try{It.call()}catch(gt){ft=gt}s.call(It.prototype)}}else{try{throw Error()}catch(gt){ft=gt}(It=s())&&typeof It.catch=="function"&&It.catch(function(){})}}catch(gt){if(gt&&ft&&typeof gt.stack=="string")return[gt.stack,ft.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=w.DetermineComponentFrameRoot(),te=L[0],Ee=L[1];if(te&&Ee){var Ue=te.split(`
`),lt=Ee.split(`
`);for(O=w=0;w<Ue.length&&!Ue[w].includes("DetermineComponentFrameRoot");)w++;for(;O<lt.length&&!lt[O].includes("DetermineComponentFrameRoot");)O++;if(w===Ue.length||O===lt.length)for(w=Ue.length-1,O=lt.length-1;1<=w&&0<=O&&Ue[w]!==lt[O];)O--;for(;1<=w&&0<=O;w--,O--)if(Ue[w]!==lt[O]){if(w!==1||O!==1)do if(w--,O--,0>O||Ue[w]!==lt[O]){var At=`
`+Ue[w].replace(" at new "," at ");return s.displayName&&At.includes("<anonymous>")&&(At=At.replace("<anonymous>",s.displayName)),At}while(1<=w&&0<=O);break}}}finally{Be=!1,Error.prepareStackTrace=g}return(g=s?s.displayName||s.name:"")?$e(g):""}function nt(s,l){switch(s.tag){case 26:case 27:case 5:return $e(s.type);case 16:return $e("Lazy");case 13:return s.child!==l&&l!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return ae(s.type,!1);case 11:return ae(s.type.render,!1);case 1:return ae(s.type,!0);case 31:return $e("Activity");default:return""}}function at(s){try{var l="",g=null;do l+=nt(s,g),g=s,s=s.return;while(s);return l}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}var Re=Object.prototype.hasOwnProperty,Qe=e.unstable_scheduleCallback,Fe=e.unstable_cancelCallback,et=e.unstable_shouldYield,St=e.unstable_requestPaint,qt=e.unstable_now,Wt=e.unstable_getCurrentPriorityLevel,tr=e.unstable_ImmediatePriority,Bt=e.unstable_UserBlockingPriority,lr=e.unstable_NormalPriority,Qt=e.unstable_LowPriority,Er=e.unstable_IdlePriority,zt=e.log,Mn=e.unstable_setDisableYieldValue,Ht=null,Ct=null;function rr(s){if(typeof zt=="function"&&Mn(s),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(Ht,s)}catch{}}var Jt=Math.clz32?Math.clz32:Ri,Kr=Math.log,Ur=Math.LN2;function Ri(s){return s>>>=0,s===0?32:31-(Kr(s)/Ur|0)|0}var pn=256,Ar=262144,sa=4194304;function sn(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function xr(s,l,g){var w=s.pendingLanes;if(w===0)return 0;var O=0,L=s.suspendedLanes,te=s.pingedLanes;s=s.warmLanes;var Ee=w&134217727;return Ee!==0?(w=Ee&~L,w!==0?O=sn(w):(te&=Ee,te!==0?O=sn(te):g||(g=Ee&~s,g!==0&&(O=sn(g))))):(Ee=w&~L,Ee!==0?O=sn(Ee):te!==0?O=sn(te):g||(g=w&~s,g!==0&&(O=sn(g)))),O===0?0:l!==0&&l!==O&&!(l&L)&&(L=O&-O,g=l&-l,L>=g||L===32&&(g&4194048)!==0)?l:O}function Nr(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Ji(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gr(){var s=sa;return sa<<=1,!(sa&62914560)&&(sa=4194304),s}function oa(s){for(var l=[],g=0;31>g;g++)l.push(s);return l}function la(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function or(s,l,g,w,O,L){var te=s.pendingLanes;s.pendingLanes=g,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=g,s.entangledLanes&=g,s.errorRecoveryDisabledLanes&=g,s.shellSuspendCounter=0;var Ee=s.entanglements,Ue=s.expirationTimes,lt=s.hiddenUpdates;for(g=te&~g;0<g;){var At=31-Jt(g),It=1<<At;Ee[At]=0,Ue[At]=-1;var ft=lt[At];if(ft!==null)for(lt[At]=null,At=0;At<ft.length;At++){var gt=ft[At];gt!==null&&(gt.lane&=-536870913)}g&=~It}w!==0&&Za(s,w,0),L!==0&&O===0&&s.tag!==0&&(s.suspendedLanes|=L&~(te&~l))}function Za(s,l,g){s.pendingLanes|=l,s.suspendedLanes&=~l;var w=31-Jt(l);s.entangledLanes|=l,s.entanglements[w]=s.entanglements[w]|1073741824|g&261930}function Jn(s,l){var g=s.entangledLanes|=l;for(s=s.entanglements;g;){var w=31-Jt(g),O=1<<w;O&l|s[w]&l&&(s[w]|=l),g&=~O}}function xa(s,l){var g=l&-l;return g=g&42?1:Wr(g),g&(s.suspendedLanes|l)?0:g}function Wr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function _e(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function Ot(){var s=oe.p;return s!==0?s:(s=window.event,s===void 0?32:lN(s.type))}function tt(s,l){var g=oe.p;try{return oe.p=s,l()}finally{oe.p=g}}var bt=Math.random().toString(36).slice(2),Ft="__reactFiber$"+bt,Pe="__reactProps$"+bt,mt="__reactContainer$"+bt,xt="__reactEvents$"+bt,Tt="__reactListeners$"+bt,ht="__reactHandles$"+bt,wt="__reactResources$"+bt,Yt="__reactMarker$"+bt;function Vt(s){delete s[Ft],delete s[Pe],delete s[xt],delete s[Tt],delete s[ht]}function Xt(s){var l=s[Ft];if(l)return l;for(var g=s.parentNode;g;){if(l=g[mt]||g[Ft]){if(g=l.alternate,l.child!==null||g!==null&&g.child!==null)for(s=WA(s);s!==null;){if(g=s[Ft])return g;s=WA(s)}return l}s=g,g=s.parentNode}return null}function er(s){if(s=s[Ft]||s[mt]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function Zr(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(n(33))}function _n(s){var l=s[wt];return l||(l=s[wt]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function cn(s){s[Yt]=!0}var Nt=new Set,ui={};function Rr(s,l){Hn(s,l),Hn(s+"Capture",l)}function Hn(s,l){for(ui[s]=l,s=0;s<l.length;s++)Nt.add(l[s])}var Lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qr={},Lr={};function Mr(s){return Re.call(Lr,s)?!0:Re.call(qr,s)?!1:Lo.test(s)?Lr[s]=!0:(qr[s]=!0,!1)}function Vs(s,l,g){if(Mr(l))if(g===null)s.removeAttribute(l);else{switch(typeof g){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var w=l.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+g)}}function Ln(s,l,g){if(g===null)s.removeAttribute(l);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+g)}}function Jr(s,l,g,w){if(w===null)s.removeAttribute(g);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(g);return}s.setAttributeNS(l,g,""+w)}}function Cr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Wa(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function va(s,l,g){var w=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var O=w.get,L=w.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return O.call(this)},set:function(te){g=""+te,L.call(this,te)}}),Object.defineProperty(s,l,{enumerable:w.enumerable}),{getValue:function(){return g},setValue:function(te){g=""+te},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function mn(s){if(!s._valueTracker){var l=Wa(s)?"checked":"value";s._valueTracker=va(s,l,""+s[l])}}function Vn(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var g=l.getValue(),w="";return s&&(w=Wa(s)?s.checked?"true":"false":s.value),s=w,s!==g?(l.setValue(s),!0):!1}function wi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Yr=/[\n"\\]/g;function _r(s){return s.replace(Yr,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function An(s,l,g,w,O,L,te,Ee){s.name="",te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?s.type=te:s.removeAttribute("type"),l!=null?te==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Cr(l)):s.value!==""+Cr(l)&&(s.value=""+Cr(l)):te!=="submit"&&te!=="reset"||s.removeAttribute("value"),l!=null?Oe(s,te,Cr(l)):g!=null?Oe(s,te,Cr(g)):w!=null&&s.removeAttribute("value"),O==null&&L!=null&&(s.defaultChecked=!!L),O!=null&&(s.checked=O&&typeof O!="function"&&typeof O!="symbol"),Ee!=null&&typeof Ee!="function"&&typeof Ee!="symbol"&&typeof Ee!="boolean"?s.name=""+Cr(Ee):s.removeAttribute("name")}function rt(s,l,g,w,O,L,te,Ee){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(s.type=L),l!=null||g!=null){if(!(L!=="submit"&&L!=="reset"||l!=null)){mn(s);return}g=g!=null?""+Cr(g):"",l=l!=null?""+Cr(l):g,Ee||l===s.value||(s.value=l),s.defaultValue=l}w=w??O,w=typeof w!="function"&&typeof w!="symbol"&&!!w,s.checked=Ee?s.checked:!!w,s.defaultChecked=!!w,te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"&&(s.name=te),mn(s)}function Oe(s,l,g){l==="number"&&wi(s.ownerDocument)===s||s.defaultValue===""+g||(s.defaultValue=""+g)}function sr(s,l,g,w){if(s=s.options,l){l={};for(var O=0;O<g.length;O++)l["$"+g[O]]=!0;for(g=0;g<s.length;g++)O=l.hasOwnProperty("$"+s[g].value),s[g].selected!==O&&(s[g].selected=O),O&&w&&(s[g].defaultSelected=!0)}else{for(g=""+Cr(g),l=null,O=0;O<s.length;O++){if(s[O].value===g){s[O].selected=!0,w&&(s[O].defaultSelected=!0);return}l!==null||s[O].disabled||(l=s[O])}l!==null&&(l.selected=!0)}}function Pn(s,l,g){if(l!=null&&(l=""+Cr(l),l!==s.value&&(s.value=l),g==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=g!=null?""+Cr(g):""}function Ja(s,l,g,w){if(l==null){if(w!=null){if(g!=null)throw Error(n(92));if(q(w)){if(1<w.length)throw Error(n(93));w=w[0]}g=w}g==null&&(g=""),l=g}g=Cr(l),s.defaultValue=g,w=s.textContent,w===g&&w!==""&&w!==null&&(s.value=w),mn(s)}function ps(s,l){if(l){var g=s.firstChild;if(g&&g===s.lastChild&&g.nodeType===3){g.nodeValue=l;return}}s.textContent=l}var tl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ei(s,l,g){var w=l.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?w?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":w?s.setProperty(l,g):typeof g!="number"||g===0||tl.has(l)?l==="float"?s.cssFloat=g:s[l]=(""+g).trim():s[l]=g+"px"}function pr(s,l,g){if(l!=null&&typeof l!="object")throw Error(n(62));if(s=s.style,g!=null){for(var w in g)!g.hasOwnProperty(w)||l!=null&&l.hasOwnProperty(w)||(w.indexOf("--")===0?s.setProperty(w,""):w==="float"?s.cssFloat="":s[w]="");for(var O in l)w=l[O],l.hasOwnProperty(O)&&g[O]!==w&&ei(s,O,w)}else for(var L in l)l.hasOwnProperty(L)&&ei(s,L,l[L])}function en(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var so=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Po=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ss(s){return Po.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Nn(){}var Rn=null;function tc(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ar=null,Es=null;function Gs(s){var l=er(s);if(l&&(s=l.stateNode)){var g=s[Pe]||null;e:switch(s=l.stateNode,l.type){case"input":if(An(s,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),l=g.name,g.type==="radio"&&l!=null){for(g=s;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+_r(""+l)+'"][type="radio"]'),l=0;l<g.length;l++){var w=g[l];if(w!==s&&w.form===s.form){var O=w[Pe]||null;if(!O)throw Error(n(90));An(w,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(l=0;l<g.length;l++)w=g[l],w.form===s.form&&Vn(w)}break e;case"textarea":Pn(s,g.value,g.defaultValue);break e;case"select":l=g.value,l!=null&&sr(s,!!g.multiple,l,!1)}}}var fr=!1;function Rc(s,l,g){if(fr)return s(l,g);fr=!0;try{var w=s(l);return w}finally{if(fr=!1,(ar!==null||Es!==null)&&(mp(),ar&&(l=ar,s=Es,Es=ar=null,Gs(l),s)))for(l=0;l<s.length;l++)Gs(s[l])}}function jr(s,l){var g=s.stateNode;if(g===null)return null;var w=g[Pe]||null;if(w===null)return null;g=w[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(s=s.type,w=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!w;break e;default:s=!1}if(s)return null;if(g&&typeof g!="function")throw Error(n(231,l,typeof g));return g}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nl=!1;if(Sn)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){Nl=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{Nl=!1}var Ws=null,Ys=null,rl=null;function Cs(){if(rl)return rl;var s,l=Ys,g=l.length,w,O="value"in Ws?Ws.value:Ws.textContent,L=O.length;for(s=0;s<g&&l[s]===O[s];s++);var te=g-s;for(w=1;w<=te&&l[g-w]===O[L-w];w++);return rl=O.slice(s,1<w?1-w:void 0)}function Bi(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function oo(){return!0}function Bo(){return!1}function ya(s){function l(g,w,O,L,te){this._reactName=g,this._targetInst=O,this.type=w,this.nativeEvent=L,this.target=te,this.currentTarget=null;for(var Ee in s)s.hasOwnProperty(Ee)&&(g=s[Ee],this[Ee]=g?g(L):L[Ee]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?oo:Bo,this.isPropagationStopped=Bo,this}return y(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),l}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=ya(Ai),Fo=y({},Ai,{view:0,detail:0}),Bc=ya(Fo),Sl,_s,ms,rc=y({},Fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ms&&(ms&&s.type==="mousemove"?(Sl=s.screenX-ms.screenX,_s=s.screenY-ms.screenY):_s=Sl=0,ms=s),Sl)},movementY:function(s){return"movementY"in s?s.movementY:_s}}),tn=ya(rc),js=y({},rc,{dataTransfer:0}),nl=ya(js),es=y({},Fo,{relatedTarget:0}),Fc=ya(es),ut=y({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Br=ya(ut),Sa=y({},Ai,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),al=ya(Sa),zc=y({},Ai,{data:0}),El=ya(zc),Uc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ea(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=nc[s])?!!l[s]:!1}function lo(){return Ea}var jn=y({},Fo,{key:function(s){if(s.key){var l=Uc[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Bi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?qc[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(s){return s.type==="keypress"?Bi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Bi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),il=ya(jn),ts=y({},rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gn=ya(ts),P=y({},Fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),xe=ya(P),Ie=y({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=ya(Ie),Ze=y({},rc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),yt=ya(Ze),Dt=y({},Ai,{newState:0,oldState:0}),Kt=ya(Dt),vr=[9,13,27,32],Or=Sn&&"CompositionEvent"in window,Sr=null;Sn&&"documentMode"in document&&(Sr=document.documentMode);var an=Sn&&"TextEvent"in window&&!Sr,ea=Sn&&(!Or||Sr&&8<Sr&&11>=Sr),On=" ",ca=!1;function di(s,l){switch(s){case"keyup":return vr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ni=!1;function Ma(s,l){switch(s){case"compositionend":return ua(l);case"keypress":return l.which!==32?null:(ca=!0,On);case"textInput":return s=l.data,s===On&&ca?null:s;default:return null}}function gs(s,l){if(Ni)return s==="compositionend"||!Or&&di(s,l)?(s=Cs(),rl=Ys=Ws=null,Ni=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ea&&l.locale!=="ko"?null:l.data;default:return null}}var Fi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cl(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Fi[s.type]:l==="textarea"}function zi(s,l,g,w){ar?Es?Es.push(w):Es=[w]:ar=w,l=Ap(l,"onChange"),0<l.length&&(g=new Da("onChange","change",null,g,w),s.push({event:g,listeners:l}))}var co=null,$s=null;function Hc(s){IA(s,0)}function uo(s){var l=Zr(s);if(Vn(l))return s}function Bn(s,l){if(s==="change")return l}var _l=!1;if(Sn){var fo;if(Sn){var Os="oninput"in document;if(!Os){var $r=document.createElement("div");$r.setAttribute("oninput","return;"),Os=typeof $r.oninput=="function"}fo=Os}else fo=!1;_l=fo&&(!document.documentMode||9<document.documentMode)}function ti(){co&&(co.detachEvent("onpropertychange",he),$s=co=null)}function he(s){if(s.propertyName==="value"&&uo($s)){var l=[];zi(l,$s,s,tc(s)),Rc(Hc,l)}}function o(s,l,g){s==="focusin"?(ti(),co=l,$s=g,co.attachEvent("onpropertychange",he)):s==="focusout"&&ti()}function d(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return uo($s)}function h(s,l){if(s==="click")return uo(l)}function v(s,l){if(s==="input"||s==="change")return uo(l)}function b(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var A=typeof Object.is=="function"?Object.is:b;function C(s,l){if(A(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var g=Object.keys(s),w=Object.keys(l);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var O=g[w];if(!Re.call(l,O)||!A(s[O],l[O]))return!1}return!0}function D(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function B(s,l){var g=D(s);s=0;for(var w;g;){if(g.nodeType===3){if(w=s+g.textContent.length,s<=l&&w>=l)return{node:g,offset:l-s};s=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=D(g)}}function K(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?K(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function fe(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=wi(s.document);l instanceof s.HTMLIFrameElement;){try{var g=typeof l.contentWindow.location.href=="string"}catch{g=!1}if(g)s=l.contentWindow;else break;l=wi(s.document)}return l}function we(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var De=Sn&&"documentMode"in document&&11>=document.documentMode,ze=null,He=null,Xe=null,dt=!1;function Lt(s,l,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;dt||ze==null||ze!==wi(w)||(w=ze,"selectionStart"in w&&we(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Xe&&C(Xe,w)||(Xe=w,w=Ap(He,"onSelect"),0<w.length&&(l=new Da("onSelect","select",null,l,g),s.push({event:l,listeners:w}),l.target=ze)))}function Pt(s,l){var g={};return g[s.toLowerCase()]=l.toLowerCase(),g["Webkit"+s]="webkit"+l,g["Moz"+s]="moz"+l,g}var Mt={animationend:Pt("Animation","AnimationEnd"),animationiteration:Pt("Animation","AnimationIteration"),animationstart:Pt("Animation","AnimationStart"),transitionrun:Pt("Transition","TransitionRun"),transitionstart:Pt("Transition","TransitionStart"),transitioncancel:Pt("Transition","TransitionCancel"),transitionend:Pt("Transition","TransitionEnd")},Fr={},Tr={};Sn&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete Mt.animationend.animation,delete Mt.animationiteration.animation,delete Mt.animationstart.animation),"TransitionEvent"in window||delete Mt.transitionend.transition);function Gn(s){if(Fr[s])return Fr[s];if(!Mt[s])return s;var l=Mt[s],g;for(g in l)if(l.hasOwnProperty(g)&&g in Tr)return Fr[s]=l[g];return s}var ri=Gn("animationend"),ba=Gn("animationiteration"),on=Gn("animationstart"),wa=Gn("transitionrun"),Ya=Gn("transitionstart"),xs=Gn("transitioncancel"),Xs=Gn("transitionend"),vs=new Map,rs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rs.push("scrollEnd");function ln(s,l){vs.set(s,l),Rr(l,[s])}var Fn=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},En=[],Aa=0,zo=0;function ac(){for(var s=Aa,l=zo=Aa=0;l<s;){var g=En[l];En[l++]=null;var w=En[l];En[l++]=null;var O=En[l];En[l++]=null;var L=En[l];if(En[l++]=null,w!==null&&O!==null){var te=w.pending;te===null?O.next=O:(O.next=te.next,te.next=O),w.pending=O}L!==0&&Md(g,O,L)}}function jl(s,l,g,w){En[Aa++]=s,En[Aa++]=l,En[Aa++]=g,En[Aa++]=w,zo|=w,s.lanes|=w,s=s.alternate,s!==null&&(s.lanes|=w)}function Iu(s,l,g,w){return jl(s,l,g,w),ns(s)}function Ol(s,l){return jl(s,null,null,l),ns(s)}function Md(s,l,g){s.lanes|=g;var w=s.alternate;w!==null&&(w.lanes|=g);for(var O=!1,L=s.return;L!==null;)L.childLanes|=g,w=L.alternate,w!==null&&(w.childLanes|=g),L.tag===22&&(s=L.stateNode,s===null||s._visibility&1||(O=!0)),s=L,L=L.return;return s.tag===3?(L=s.stateNode,O&&l!==null&&(O=31-Jt(g),s=L.hiddenUpdates,w=s[O],w===null?s[O]=[l]:w.push(l),l.lane=g|536870912),L):null}function ns(s){if(50<v0)throw v0=0,y2=null,Error(n(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Ui={};function jf(s,l,g,w){this.tag=s,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(s,l,g,w){return new jf(s,l,g,w)}function Of(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ho(s,l){var g=s.alternate;return g===null?(g=as(s.tag,l,s.key,s.mode),g.elementType=s.elementType,g.type=s.type,g.stateNode=s.stateNode,g.alternate=s,s.alternate=g):(g.pendingProps=l,g.type=s.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=s.flags&65011712,g.childLanes=s.childLanes,g.lanes=s.lanes,g.child=s.child,g.memoizedProps=s.memoizedProps,g.memoizedState=s.memoizedState,g.updateQueue=s.updateQueue,l=s.dependencies,g.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},g.sibling=s.sibling,g.index=s.index,g.ref=s.ref,g.refCleanup=s.refCleanup,g}function Ld(s,l){s.flags&=65011714;var g=s.alternate;return g===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=g.childLanes,s.lanes=g.lanes,s.child=g.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=g.memoizedProps,s.memoizedState=g.memoizedState,s.updateQueue=g.updateQueue,s.type=g.type,l=g.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Du(s,l,g,w,O,L){var te=0;if(w=s,typeof s=="function")Of(s)&&(te=1);else if(typeof s=="string")te=TM(s,g,se.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case W:return s=as(31,g,l,O),s.elementType=W,s.lanes=L,s;case _:return ic(g.children,O,L,l);case T:te=8,O|=24;break;case I:return s=as(12,g,l,O|2),s.elementType=I,s.lanes=L,s;case Y:return s=as(13,g,l,O),s.elementType=Y,s.lanes=L,s;case J:return s=as(19,g,l,O),s.elementType=J,s.lanes=L,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:te=10;break e;case R:te=9;break e;case G:te=11;break e;case V:te=14;break e;case $:te=16,w=null;break e}te=29,g=Error(n(130,s===null?"null":typeof s,"")),w=null}return l=as(te,g,l,O),l.elementType=s,l.type=w,l.lanes=L,l}function ic(s,l,g,w){return s=as(7,s,w,l),s.lanes=g,s}function Pd(s,l,g){return s=as(6,s,null,l),s.lanes=g,s}function Tf(s){var l=as(18,null,null,0);return l.stateNode=s,l}function Mu(s,l,g){return l=as(4,s.children!==null?s.children:[],s.key,l),l.lanes=g,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var kf=new WeakMap;function po(s,l){if(typeof s=="object"&&s!==null){var g=kf.get(s);return g!==void 0?g:(l={value:s,source:l,stack:at(l)},kf.set(s,l),l)}return{value:s,source:l,stack:at(l)}}var Lu=[],Vc=0,If=null,Rd=0,mo=[],go=0,sc=null,xo=1,vo="";function Ks(s,l){Lu[Vc++]=Rd,Lu[Vc++]=If,If=s,Rd=l}function $1(s,l,g){mo[go++]=xo,mo[go++]=vo,mo[go++]=sc,sc=s;var w=xo;s=vo;var O=32-Jt(w)-1;w&=~(1<<O),g+=1;var L=32-Jt(l)+O;if(30<L){var te=O-O%5;L=(w&(1<<te)-1).toString(32),w>>=te,O-=te,xo=1<<32-Jt(l)+O|g<<O|w,vo=L+s}else xo=1<<L|g<<O|w,vo=s}function Qh(s){s.return!==null&&(Ks(s,1),$1(s,1,0))}function Df(s){for(;s===If;)If=Lu[--Vc],Lu[Vc]=null,Rd=Lu[--Vc],Lu[Vc]=null;for(;s===sc;)sc=mo[--go],mo[go]=null,vo=mo[--go],mo[go]=null,xo=mo[--go],mo[go]=null}function X1(s,l){mo[go++]=xo,mo[go++]=vo,mo[go++]=sc,xo=l.id,vo=l.overflow,sc=s}var qi=null,da=null,un=!1,ys=null,La=!1,Uo=Error(n(519));function oc(s){var l=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pu(po(l,s)),Uo}function Zh(s){var l=s.stateNode,g=s.type,w=s.memoizedProps;switch(l[Ft]=s,l[Pe]=w,g){case"dialog":hn("cancel",l),hn("close",l);break;case"iframe":case"object":case"embed":hn("load",l);break;case"video":case"audio":for(g=0;g<b0.length;g++)hn(b0[g],l);break;case"source":hn("error",l);break;case"img":case"image":case"link":hn("error",l),hn("load",l);break;case"details":hn("toggle",l);break;case"input":hn("invalid",l),rt(l,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0);break;case"select":hn("invalid",l);break;case"textarea":hn("invalid",l),Ja(l,w.value,w.defaultValue,w.children)}g=w.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||l.textContent===""+g||w.suppressHydrationWarning===!0||PA(l.textContent,g)?(w.popover!=null&&(hn("beforetoggle",l),hn("toggle",l)),w.onScroll!=null&&hn("scroll",l),w.onScrollEnd!=null&&hn("scrollend",l),w.onClick!=null&&(l.onclick=Nn),l=!0):l=!1,l||oc(s,!0)}function Tl(s){for(qi=s.return;qi;)switch(qi.tag){case 5:case 31:case 13:La=!1;return;case 27:case 3:La=!0;return;default:qi=qi.return}}function Hi(s){if(s!==qi)return!1;if(!un)return Tl(s),un=!0,!1;var l=s.tag,g;if((g=l!==3&&l!==27)&&((g=l===5)&&(g=s.type,g=!(g!=="form"&&g!=="button")||M2(s.type,s.memoizedProps)),g=!g),g&&da&&oc(s),Tl(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));da=GA(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));da=GA(s)}else l===27?(l=da,Ku(s.type)?(s=F2,F2=null,da=s):da=l):da=qi?fl(s.stateNode.nextSibling):null;return!0}function Gc(){da=qi=null,un=!1}function Jh(){var s=ys;return s!==null&&(So===null?So=s:So.push.apply(So,s),ys=null),s}function Pu(s){ys===null?ys=[s]:ys.push(s)}var Mf=ce(null),lc=null,sl=null;function cc(s,l,g){H(Mf,l._currentValue),l._currentValue=g}function yo(s){s._currentValue=Mf.current,U(Mf)}function Ru(s,l,g){for(;s!==null;){var w=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,w!==null&&(w.childLanes|=l)):w!==null&&(w.childLanes&l)!==l&&(w.childLanes|=l),s===g)break;s=s.return}}function Wc(s,l,g,w){var O=s.child;for(O!==null&&(O.return=s);O!==null;){var L=O.dependencies;if(L!==null){var te=O.child;L=L.firstContext;e:for(;L!==null;){var Ee=L;L=O;for(var Ue=0;Ue<l.length;Ue++)if(Ee.context===l[Ue]){L.lanes|=g,Ee=L.alternate,Ee!==null&&(Ee.lanes|=g),Ru(L.return,g,s),w||(te=null);break e}L=Ee.next}}else if(O.tag===18){if(te=O.return,te===null)throw Error(n(341));te.lanes|=g,L=te.alternate,L!==null&&(L.lanes|=g),Ru(te,g,s),te=null}else te=O.child;if(te!==null)te.return=O;else for(te=O;te!==null;){if(te===s){te=null;break}if(O=te.sibling,O!==null){O.return=te.return,te=O;break}te=te.return}O=te}}function uc(s,l,g,w){s=null;for(var O=l,L=!1;O!==null;){if(!L){if(O.flags&524288)L=!0;else if(O.flags&262144)break}if(O.tag===10){var te=O.alternate;if(te===null)throw Error(n(387));if(te=te.memoizedProps,te!==null){var Ee=O.type;A(O.pendingProps.value,te.value)||(s!==null?s.push(Ee):s=[Ee])}}else if(O===le.current){if(te=O.alternate,te===null)throw Error(n(387));te.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(s!==null?s.push(E0):s=[E0])}O=O.return}s!==null&&Wc(l,s,g,w),l.flags|=262144}function Lf(s){for(s=s.firstContext;s!==null;){if(!A(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function dc(s){lc=s,sl=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Vi(s){return K1(lc,s)}function Pf(s,l){return lc===null&&dc(s),K1(s,l)}function K1(s,l){var g=l._currentValue;if(l={context:l,memoizedValue:g,next:null},sl===null){if(s===null)throw Error(n(308));sl=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else sl=sl.next=l;return g}var Bx=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(g,w){s.push(w)}};this.abort=function(){l.aborted=!0,s.forEach(function(g){return g()})}},Fx=e.unstable_scheduleCallback,zx=e.unstable_NormalPriority,$a={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bu(){return{controller:new Bx,data:new Map,refCount:0}}function Bd(s){s.refCount--,s.refCount===0&&Fx(zx,function(){s.controller.abort()})}var Fd=null,Rf=0,E=0,k=null;function z(s,l){if(Fd===null){var g=Fd=[];Rf=0,E=E2(),k={status:"pending",value:void 0,then:function(w){g.push(w)}}}return Rf++,l.then(X,X),l}function X(){if(--Rf===0&&Fd!==null){k!==null&&(k.status="fulfilled");var s=Fd;Fd=null,E=0,k=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function ge(s,l){var g=[],w={status:"pending",value:null,reason:null,then:function(O){g.push(O)}};return s.then(function(){w.status="fulfilled",w.value=l;for(var O=0;O<g.length;O++)(0,g[O])(l)},function(O){for(w.status="rejected",w.reason=O,O=0;O<g.length;O++)(0,g[O])(void 0)}),w}var ye=ie.S;ie.S=function(s,l){sA=qt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&z(s,l),ye!==null&&ye(s,l)};var be=ce(null);function Se(){var s=be.current;return s!==null?s:ha.pooledCache}function Ce(s,l){l===null?H(be,be.current):H(be,l.pool)}function Me(){var s=Se();return s===null?null:{parent:$a._currentValue,pool:s}}var Ve=Error(n(460)),st=Error(n(474)),it=Error(n(542)),Ke={then:function(){}};function kt(s){return s=s.status,s==="fulfilled"||s==="rejected"}function vt(s,l,g){switch(g=s[g],g===void 0?s.push(l):g!==l&&(l.then(Nn,Nn),l=g),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Rt(s),s;default:if(typeof l.status=="string")l.then(Nn,Nn);else{if(s=ha,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=l,s.status="pending",s.then(function(w){if(l.status==="pending"){var O=l;O.status="fulfilled",O.value=w}},function(w){if(l.status==="pending"){var O=l;O.status="rejected",O.reason=w}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Rt(s),s}throw Ye=l,Ve}}function Ge(s){try{var l=s._init;return l(s._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(Ye=g,Ve):g}}var Ye=null;function _t(){if(Ye===null)throw Error(n(459));var s=Ye;return Ye=null,s}function Rt(s){if(s===Ve||s===it)throw Error(n(483))}var Et=null,Zt=0;function Gt(s){var l=Zt;return Zt+=1,Et===null&&(Et=[]),vt(Et,s,l)}function yr(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function $t(s,l){throw l.$$typeof===S?Error(n(525)):(s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function Cn(s){function l(Je,We){if(s){var ot=Je.deletions;ot===null?(Je.deletions=[We],Je.flags|=16):ot.push(We)}}function g(Je,We){if(!s)return null;for(;We!==null;)l(Je,We),We=We.sibling;return null}function w(Je){for(var We=new Map;Je!==null;)Je.key!==null?We.set(Je.key,Je):We.set(Je.index,Je),Je=Je.sibling;return We}function O(Je,We){return Je=ho(Je,We),Je.index=0,Je.sibling=null,Je}function L(Je,We,ot){return Je.index=ot,s?(ot=Je.alternate,ot!==null?(ot=ot.index,ot<We?(Je.flags|=67108866,We):ot):(Je.flags|=67108866,We)):(Je.flags|=1048576,We)}function te(Je){return s&&Je.alternate===null&&(Je.flags|=67108866),Je}function Ee(Je,We,ot,jt){return We===null||We.tag!==6?(We=Pd(ot,Je.mode,jt),We.return=Je,We):(We=O(We,ot),We.return=Je,We)}function Ue(Je,We,ot,jt){var wr=ot.type;return wr===_?At(Je,We,ot.props.children,jt,ot.key):We!==null&&(We.elementType===wr||typeof wr=="object"&&wr!==null&&wr.$$typeof===$&&Ge(wr)===We.type)?(We=O(We,ot.props),yr(We,ot),We.return=Je,We):(We=Du(ot.type,ot.key,ot.props,null,Je.mode,jt),yr(We,ot),We.return=Je,We)}function lt(Je,We,ot,jt){return We===null||We.tag!==4||We.stateNode.containerInfo!==ot.containerInfo||We.stateNode.implementation!==ot.implementation?(We=Mu(ot,Je.mode,jt),We.return=Je,We):(We=O(We,ot.children||[]),We.return=Je,We)}function At(Je,We,ot,jt,wr){return We===null||We.tag!==7?(We=ic(ot,Je.mode,jt,wr),We.return=Je,We):(We=O(We,ot),We.return=Je,We)}function It(Je,We,ot){if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return We=Pd(""+We,Je.mode,ot),We.return=Je,We;if(typeof We=="object"&&We!==null){switch(We.$$typeof){case N:return ot=Du(We.type,We.key,We.props,null,Je.mode,ot),yr(ot,We),ot.return=Je,ot;case j:return We=Mu(We,Je.mode,ot),We.return=Je,We;case $:return We=Ge(We),It(Je,We,ot)}if(q(We)||Q(We))return We=ic(We,Je.mode,ot,null),We.return=Je,We;if(typeof We.then=="function")return It(Je,Gt(We),ot);if(We.$$typeof===F)return It(Je,Pf(Je,We),ot);$t(Je,We)}return null}function ft(Je,We,ot,jt){var wr=We!==null?We.key:null;if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return wr!==null?null:Ee(Je,We,""+ot,jt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case N:return ot.key===wr?Ue(Je,We,ot,jt):null;case j:return ot.key===wr?lt(Je,We,ot,jt):null;case $:return ot=Ge(ot),ft(Je,We,ot,jt)}if(q(ot)||Q(ot))return wr!==null?null:At(Je,We,ot,jt,null);if(typeof ot.then=="function")return ft(Je,We,Gt(ot),jt);if(ot.$$typeof===F)return ft(Je,We,Pf(Je,ot),jt);$t(Je,ot)}return null}function gt(Je,We,ot,jt,wr){if(typeof jt=="string"&&jt!==""||typeof jt=="number"||typeof jt=="bigint")return Je=Je.get(ot)||null,Ee(We,Je,""+jt,wr);if(typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case N:return Je=Je.get(jt.key===null?ot:jt.key)||null,Ue(We,Je,jt,wr);case j:return Je=Je.get(jt.key===null?ot:jt.key)||null,lt(We,Je,jt,wr);case $:return jt=Ge(jt),gt(Je,We,ot,jt,wr)}if(q(jt)||Q(jt))return Je=Je.get(ot)||null,At(We,Je,jt,wr,null);if(typeof jt.then=="function")return gt(Je,We,ot,Gt(jt),wr);if(jt.$$typeof===F)return gt(Je,We,ot,Pf(We,jt),wr);$t(We,jt)}return null}function dr(Je,We,ot,jt){for(var wr=null,kn=null,gr=We,Qr=We=0,yn=null;gr!==null&&Qr<ot.length;Qr++){gr.index>Qr?(yn=gr,gr=null):yn=gr.sibling;var In=ft(Je,gr,ot[Qr],jt);if(In===null){gr===null&&(gr=yn);break}s&&gr&&In.alternate===null&&l(Je,gr),We=L(In,We,Qr),kn===null?wr=In:kn.sibling=In,kn=In,gr=yn}if(Qr===ot.length)return g(Je,gr),un&&Ks(Je,Qr),wr;if(gr===null){for(;Qr<ot.length;Qr++)gr=It(Je,ot[Qr],jt),gr!==null&&(We=L(gr,We,Qr),kn===null?wr=gr:kn.sibling=gr,kn=gr);return un&&Ks(Je,Qr),wr}for(gr=w(gr);Qr<ot.length;Qr++)yn=gt(gr,Je,Qr,ot[Qr],jt),yn!==null&&(s&&yn.alternate!==null&&gr.delete(yn.key===null?Qr:yn.key),We=L(yn,We,Qr),kn===null?wr=yn:kn.sibling=yn,kn=yn);return s&&gr.forEach(function(td){return l(Je,td)}),un&&Ks(Je,Qr),wr}function Ir(Je,We,ot,jt){if(ot==null)throw Error(n(151));for(var wr=null,kn=null,gr=We,Qr=We=0,yn=null,In=ot.next();gr!==null&&!In.done;Qr++,In=ot.next()){gr.index>Qr?(yn=gr,gr=null):yn=gr.sibling;var td=ft(Je,gr,In.value,jt);if(td===null){gr===null&&(gr=yn);break}s&&gr&&td.alternate===null&&l(Je,gr),We=L(td,We,Qr),kn===null?wr=td:kn.sibling=td,kn=td,gr=yn}if(In.done)return g(Je,gr),un&&Ks(Je,Qr),wr;if(gr===null){for(;!In.done;Qr++,In=ot.next())In=It(Je,In.value,jt),In!==null&&(We=L(In,We,Qr),kn===null?wr=In:kn.sibling=In,kn=In);return un&&Ks(Je,Qr),wr}for(gr=w(gr);!In.done;Qr++,In=ot.next())In=gt(gr,Je,Qr,In.value,jt),In!==null&&(s&&In.alternate!==null&&gr.delete(In.key===null?Qr:In.key),We=L(In,We,Qr),kn===null?wr=In:kn.sibling=In,kn=In);return s&&gr.forEach(function(UM){return l(Je,UM)}),un&&Ks(Je,Qr),wr}function na(Je,We,ot,jt){if(typeof ot=="object"&&ot!==null&&ot.type===_&&ot.key===null&&(ot=ot.props.children),typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case N:e:{for(var wr=ot.key;We!==null;){if(We.key===wr){if(wr=ot.type,wr===_){if(We.tag===7){g(Je,We.sibling),jt=O(We,ot.props.children),jt.return=Je,Je=jt;break e}}else if(We.elementType===wr||typeof wr=="object"&&wr!==null&&wr.$$typeof===$&&Ge(wr)===We.type){g(Je,We.sibling),jt=O(We,ot.props),yr(jt,ot),jt.return=Je,Je=jt;break e}g(Je,We);break}else l(Je,We);We=We.sibling}ot.type===_?(jt=ic(ot.props.children,Je.mode,jt,ot.key),jt.return=Je,Je=jt):(jt=Du(ot.type,ot.key,ot.props,null,Je.mode,jt),yr(jt,ot),jt.return=Je,Je=jt)}return te(Je);case j:e:{for(wr=ot.key;We!==null;){if(We.key===wr)if(We.tag===4&&We.stateNode.containerInfo===ot.containerInfo&&We.stateNode.implementation===ot.implementation){g(Je,We.sibling),jt=O(We,ot.children||[]),jt.return=Je,Je=jt;break e}else{g(Je,We);break}else l(Je,We);We=We.sibling}jt=Mu(ot,Je.mode,jt),jt.return=Je,Je=jt}return te(Je);case $:return ot=Ge(ot),na(Je,We,ot,jt)}if(q(ot))return dr(Je,We,ot,jt);if(Q(ot)){if(wr=Q(ot),typeof wr!="function")throw Error(n(150));return ot=wr.call(ot),Ir(Je,We,ot,jt)}if(typeof ot.then=="function")return na(Je,We,Gt(ot),jt);if(ot.$$typeof===F)return na(Je,We,Pf(Je,ot),jt);$t(Je,ot)}return typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint"?(ot=""+ot,We!==null&&We.tag===6?(g(Je,We.sibling),jt=O(We,ot),jt.return=Je,Je=jt):(g(Je,We),jt=Pd(ot,Je.mode,jt),jt.return=Je,Je=jt),te(Je)):g(Je,We)}return function(Je,We,ot,jt){try{Zt=0;var wr=na(Je,We,ot,jt);return Et=null,wr}catch(gr){if(gr===Ve||gr===it)throw gr;var kn=as(29,gr,null,Je.mode);return kn.lanes=jt,kn.return=Je,kn}finally{}}}var dn=Cn(!0),xn=Cn(!1),zr=!1;function zn(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tn(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function kr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Yn(s,l,g){var w=s.updateQueue;if(w===null)return null;if(w=w.shared,Un&2){var O=w.pending;return O===null?l.next=l:(l.next=O.next,O.next=l),w.pending=l,l=ns(s),Md(s,null,g),l}return jl(s,w,l,g),ns(s)}function Si(s,l,g){if(l=l.updateQueue,l!==null&&(l=l.shared,(g&4194048)!==0)){var w=l.lanes;w&=s.pendingLanes,g|=w,l.lanes=g,Jn(s,g)}}function Pa(s,l){var g=s.updateQueue,w=s.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var O=null,L=null;if(g=g.firstBaseUpdate,g!==null){do{var te={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};L===null?O=L=te:L=L.next=te,g=g.next}while(g!==null);L===null?O=L=l:L=L.next=l}else O=L=l;g={baseState:w.baseState,firstBaseUpdate:O,lastBaseUpdate:L,shared:w.shared,callbacks:w.callbacks},s.updateQueue=g;return}s=g.lastBaseUpdate,s===null?g.firstBaseUpdate=l:s.next=l,g.lastBaseUpdate=l}var is=!1;function bn(){if(is){var s=k;if(s!==null)throw s}}function Gi(s,l,g,w){is=!1;var O=s.updateQueue;zr=!1;var L=O.firstBaseUpdate,te=O.lastBaseUpdate,Ee=O.shared.pending;if(Ee!==null){O.shared.pending=null;var Ue=Ee,lt=Ue.next;Ue.next=null,te===null?L=lt:te.next=lt,te=Ue;var At=s.alternate;At!==null&&(At=At.updateQueue,Ee=At.lastBaseUpdate,Ee!==te&&(Ee===null?At.firstBaseUpdate=lt:Ee.next=lt,At.lastBaseUpdate=Ue))}if(L!==null){var It=O.baseState;te=0,At=lt=Ue=null,Ee=L;do{var ft=Ee.lane&-536870913,gt=ft!==Ee.lane;if(gt?(vn&ft)===ft:(w&ft)===ft){ft!==0&&ft===E&&(is=!0),At!==null&&(At=At.next={lane:0,tag:Ee.tag,payload:Ee.payload,callback:null,next:null});e:{var dr=s,Ir=Ee;ft=l;var na=g;switch(Ir.tag){case 1:if(dr=Ir.payload,typeof dr=="function"){It=dr.call(na,It,ft);break e}It=dr;break e;case 3:dr.flags=dr.flags&-65537|128;case 0:if(dr=Ir.payload,ft=typeof dr=="function"?dr.call(na,It,ft):dr,ft==null)break e;It=y({},It,ft);break e;case 2:zr=!0}}ft=Ee.callback,ft!==null&&(s.flags|=64,gt&&(s.flags|=8192),gt=O.callbacks,gt===null?O.callbacks=[ft]:gt.push(ft))}else gt={lane:ft,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null},At===null?(lt=At=gt,Ue=It):At=At.next=gt,te|=ft;if(Ee=Ee.next,Ee===null){if(Ee=O.shared.pending,Ee===null)break;gt=Ee,Ee=gt.next,gt.next=null,O.lastBaseUpdate=gt,O.shared.pending=null}}while(!0);At===null&&(Ue=It),O.baseState=Ue,O.firstBaseUpdate=lt,O.lastBaseUpdate=At,L===null&&(O.shared.lanes=0),Gu|=te,s.lanes=te,s.memoizedState=It}}function Ts(s,l){if(typeof s!="function")throw Error(n(191,s));s.call(l)}function fi(s,l){var g=s.callbacks;if(g!==null)for(s.callbacks=null,s=0;s<g.length;s++)Ts(g[s],l)}var Ra=ce(null),Ei=ce(0);function Qs(s,l){s=au,H(Ei,s),H(Ra,l),au=s|l.baseLanes}function bo(){H(Ei,au),H(Ra,Ra.current)}function ni(){au=Ei.current,U(Ra),U(Ei)}var Xa=ce(null),Ci=null;function Zs(s){var l=s.alternate;H(Ba,Ba.current&1),H(Xa,s),Ci===null&&(l===null||Ra.current!==null||l.memoizedState!==null)&&(Ci=s)}function ol(s){H(Ba,Ba.current),H(Xa,s),Ci===null&&(Ci=s)}function Ca(s){s.tag===22?(H(Ba,Ba.current),H(Xa,s),Ci===null&&(Ci=s)):ll()}function ll(){H(Ba,Ba.current),H(Xa,Xa.current)}function ks(s){U(Xa),Ci===s&&(Ci=null),U(Ba)}var Ba=ce(0);function Yc(s){for(var l=s;l!==null;){if(l.tag===13){var g=l.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||R2(g)||B2(g)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Js=0,Pr=null,rn=null,fa=null,kl=!1,$c=!1,cl=!1,zd=0,fc=0,hc=null,Bf=0;function ta(){throw Error(n(321))}function e0(s,l){if(l===null)return!1;for(var g=0;g<l.length&&g<s.length;g++)if(!A(s[g],l[g]))return!1;return!0}function t0(s,l,g,w,O,L){return Js=L,Pr=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ie.H=s===null||s.memoizedState===null?x4:$x,cl=!1,L=g(w,O),cl=!1,$c&&(L=Il(l,g,w,O)),Ff(s),L}function Ff(s){ie.H=c0;var l=rn!==null&&rn.next!==null;if(Js=0,fa=rn=Pr=null,kl=!1,fc=0,hc=null,l)throw Error(n(300));s===null||ji||(s=s.dependencies,s!==null&&Lf(s)&&(ji=!0))}function Il(s,l,g,w){Pr=s;var O=0;do{if($c&&(hc=null),fc=0,$c=!1,25<=O)throw Error(n(301));if(O+=1,fa=rn=null,s.updateQueue!=null){var L=s.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}ie.H=v4,L=l(g,w)}while($c);return L}function Ux(){var s=ie.H,l=s.useState()[0];return l=typeof l.then=="function"?pc(l):l,s=s.useState()[0],(rn!==null?rn.memoizedState:null)!==s&&(Pr.flags|=1024),l}function r0(){var s=zd!==0;return zd=0,s}function n0(s,l,g){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~g}function zf(s){if(kl){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}kl=!1}Js=0,fa=rn=Pr=null,$c=!1,fc=zd=0,hc=null}function _i(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fa===null?Pr.memoizedState=fa=s:fa=fa.next=s,fa}function Fa(){if(rn===null){var s=Pr.alternate;s=s!==null?s.memoizedState:null}else s=rn.next;var l=fa===null?Pr.memoizedState:fa.next;if(l!==null)fa=l,rn=s;else{if(s===null)throw Pr.alternate===null?Error(n(467)):Error(n(310));rn=s,s={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},fa===null?Pr.memoizedState=fa=s:fa=fa.next=s}return fa}function Ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pc(s){var l=fc;return fc+=1,hc===null&&(hc=[]),s=vt(hc,s,l),l=Pr,(fa===null?l.memoizedState:fa.next)===null&&(l=l.alternate,ie.H=l===null||l.memoizedState===null?x4:$x),s}function Fu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return pc(s);if(s.$$typeof===F)return Vi(s)}throw Error(n(438,String(s)))}function Xc(s){var l=null,g=Pr.updateQueue;if(g!==null&&(l=g.memoCache),l==null){var w=Pr.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(l={data:w.data.map(function(O){return O.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),g===null&&(g=Ud(),Pr.updateQueue=g),g.memoCache=l,g=l.data[l.index],g===void 0)for(g=l.data[l.index]=Array(s),w=0;w<s;w++)g[w]=Ne;return l.index++,g}function ul(s,l){return typeof l=="function"?l(s):l}function Uf(s){var l=Fa();return zu(l,rn,s)}function zu(s,l,g){var w=s.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=g;var O=s.baseQueue,L=w.pending;if(L!==null){if(O!==null){var te=O.next;O.next=L.next,L.next=te}l.baseQueue=O=L,w.pending=null}if(L=s.baseState,O===null)s.memoizedState=L;else{l=O.next;var Ee=te=null,Ue=null,lt=l,At=!1;do{var It=lt.lane&-536870913;if(It!==lt.lane?(vn&It)===It:(Js&It)===It){var ft=lt.revertLane;if(ft===0)Ue!==null&&(Ue=Ue.next={lane:0,revertLane:0,gesture:null,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),It===E&&(At=!0);else if((Js&ft)===ft){lt=lt.next,ft===E&&(At=!0);continue}else It={lane:0,revertLane:lt.revertLane,gesture:null,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null},Ue===null?(Ee=Ue=It,te=L):Ue=Ue.next=It,Pr.lanes|=ft,Gu|=ft;It=lt.action,cl&&g(L,It),L=lt.hasEagerState?lt.eagerState:g(L,It)}else ft={lane:It,revertLane:lt.revertLane,gesture:lt.gesture,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null},Ue===null?(Ee=Ue=ft,te=L):Ue=Ue.next=ft,Pr.lanes|=It,Gu|=It;lt=lt.next}while(lt!==null&&lt!==l);if(Ue===null?te=L:Ue.next=Ee,!A(L,s.memoizedState)&&(ji=!0,At&&(g=k,g!==null)))throw g;s.memoizedState=L,s.baseState=te,s.baseQueue=Ue,w.lastRenderedState=L}return O===null&&(w.lanes=0),[s.memoizedState,w.dispatch]}function qf(s){var l=Fa(),g=l.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=s;var w=g.dispatch,O=g.pending,L=l.memoizedState;if(O!==null){g.pending=null;var te=O=O.next;do L=s(L,te.action),te=te.next;while(te!==O);A(L,l.memoizedState)||(ji=!0),l.memoizedState=L,l.baseQueue===null&&(l.baseState=L),g.lastRenderedState=L}return[L,w]}function Hf(s,l,g){var w=Pr,O=Fa(),L=un;if(L){if(g===void 0)throw Error(n(407));g=g()}else g=l();var te=!A((rn||O).memoizedState,g);if(te&&(O.memoizedState=g,ji=!0),O=O.queue,qx(i0.bind(null,w,O,s),[s]),O.getSnapshot!==l||te||fa!==null&&fa.memoizedState.tag&1){if(w.flags|=2048,Qc(9,{destroy:void 0},a0.bind(null,w,O,g,l),null),ha===null)throw Error(n(349));L||Js&127||Dl(w,l,g)}return g}function Dl(s,l,g){s.flags|=16384,s={getSnapshot:l,value:g},l=Pr.updateQueue,l===null?(l=Ud(),Pr.updateQueue=l,l.stores=[s]):(g=l.stores,g===null?l.stores=[s]:g.push(s))}function a0(s,l,g,w){l.value=g,l.getSnapshot=w,Q1(l)&&s0(s)}function i0(s,l,g){return g(function(){Q1(l)&&s0(s)})}function Q1(s){var l=s.getSnapshot;s=s.value;try{var g=l();return!A(s,g)}catch{return!0}}function s0(s){var l=Ol(s,2);l!==null&&Eo(l,s,2)}function mc(s){var l=_i();if(typeof s=="function"){var g=s;if(s=g(),cl){rr(!0);try{g()}finally{rr(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:s},l}function Z1(s,l,g,w){return s.baseState=g,zu(s,rn,typeof w=="function"?w:ul)}function J1(s,l,g,w,O){if(np(s))throw Error(n(485));if(s=l.action,s!==null){var L={payload:O,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(te){L.listeners.push(te)}};ie.T!==null?g(!0):L.isTransition=!1,w(L),g=l.pending,g===null?(L.next=l.pending=L,ep(l,L)):(L.next=g.next,l.pending=g.next=L)}}function ep(s,l){var g=l.action,w=l.payload,O=s.state;if(l.isTransition){var L=ie.T,te={};ie.T=te;try{var Ee=g(O,w),Ue=ie.S;Ue!==null&&Ue(te,Ee),o0(s,l,Ee)}catch(lt){Kc(s,l,lt)}finally{L!==null&&te.types!==null&&(L.types=te.types),ie.T=L}}else try{L=g(O,w),o0(s,l,L)}catch(lt){Kc(s,l,lt)}}function o0(s,l,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(w){tp(s,l,w)},function(w){return Kc(s,l,w)}):tp(s,l,g)}function tp(s,l,g){l.status="fulfilled",l.value=g,Vf(l),s.state=g,l=s.pending,l!==null&&(g=l.next,g===l?s.pending=null:(g=g.next,l.next=g,ep(s,g)))}function Kc(s,l,g){var w=s.pending;if(s.pending=null,w!==null){w=w.next;do l.status="rejected",l.reason=g,Vf(l),l=l.next;while(l!==w)}s.action=null}function Vf(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function qd(s,l){return l}function dl(s,l){if(un){var g=ha.formState;if(g!==null){e:{var w=Pr;if(un){if(da){t:{for(var O=da,L=La;O.nodeType!==8;){if(!L){O=null;break t}if(O=fl(O.nextSibling),O===null){O=null;break t}}L=O.data,O=L==="F!"||L==="F"?O:null}if(O){da=fl(O.nextSibling),w=O.data==="F!";break e}}oc(w)}w=!1}w&&(l=g[0])}}return g=_i(),g.memoizedState=g.baseState=l,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qd,lastRenderedState:l},g.queue=w,g=p4.bind(null,Pr,w),w.dispatch=g,w=mc(!1),L=Yx.bind(null,Pr,!1,w.queue),w=_i(),O={state:l,dispatch:null,action:s,pending:null},w.queue=O,g=J1.bind(null,Pr,O,L,g),O.dispatch=g,w.memoizedState=s,[l,g,!1]}function Ml(s){var l=Fa();return Ll(l,rn,s)}function Ll(s,l,g){if(l=zu(s,l,qd)[0],s=Uf(ul)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var w=pc(l)}catch(te){throw te===Ve?it:te}else w=l;l=Fa();var O=l.queue,L=O.dispatch;return g!==l.memoizedState&&(Pr.flags|=2048,Qc(9,{destroy:void 0},Gf.bind(null,O,g),null)),[w,L,s]}function Gf(s,l){s.action=l}function Wf(s){var l=Fa(),g=rn;if(g!==null)return Ll(l,g,s);Fa(),l=l.memoizedState,g=Fa();var w=g.queue.dispatch;return g.memoizedState=s,[l,w,!1]}function Qc(s,l,g,w){return s={tag:s,create:g,deps:w,inst:l,next:null},l=Pr.updateQueue,l===null&&(l=Ud(),Pr.updateQueue=l),g=l.lastEffect,g===null?l.lastEffect=s.next=s:(w=g.next,g.next=s,s.next=w,l.lastEffect=s),s}function rp(){return Fa().memoizedState}function Uu(s,l,g,w){var O=_i();Pr.flags|=s,O.memoizedState=Qc(1|l,{destroy:void 0},g,w===void 0?null:w)}function qu(s,l,g,w){var O=Fa();w=w===void 0?null:w;var L=O.memoizedState.inst;rn!==null&&w!==null&&e0(w,rn.memoizedState.deps)?O.memoizedState=Qc(l,L,g,w):(Pr.flags|=s,O.memoizedState=Qc(1|l,L,g,w))}function e4(s,l){Uu(8390656,8,s,l)}function qx(s,l){qu(2048,8,s,l)}function LD(s){Pr.flags|=4;var l=Pr.updateQueue;if(l===null)l=Ud(),Pr.updateQueue=l,l.events=[s];else{var g=l.events;g===null?l.events=[s]:g.push(s)}}function t4(s){var l=Fa().memoizedState;return LD({ref:l,nextImpl:s}),function(){if(Un&2)throw Error(n(440));return l.impl.apply(void 0,arguments)}}function r4(s,l){return qu(4,2,s,l)}function n4(s,l){return qu(4,4,s,l)}function a4(s,l){if(typeof l=="function"){s=s();var g=l(s);return function(){typeof g=="function"?g():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function i4(s,l,g){g=g!=null?g.concat([s]):null,qu(4,4,a4.bind(null,l,s),g)}function Hx(){}function s4(s,l){var g=Fa();l=l===void 0?null:l;var w=g.memoizedState;return l!==null&&e0(l,w[1])?w[0]:(g.memoizedState=[s,l],s)}function o4(s,l){var g=Fa();l=l===void 0?null:l;var w=g.memoizedState;if(l!==null&&e0(l,w[1]))return w[0];if(w=s(),cl){rr(!0);try{s()}finally{rr(!1)}}return g.memoizedState=[w,l],w}function Vx(s,l,g){return g===void 0||Js&1073741824&&!(vn&261930)?s.memoizedState=l:(s.memoizedState=g,s=lA(),Pr.lanes|=s,Gu|=s,g)}function l4(s,l,g,w){return A(g,l)?g:Ra.current!==null?(s=Vx(s,g,w),A(s,l)||(ji=!0),s):!(Js&42)||Js&1073741824&&!(vn&261930)?(ji=!0,s.memoizedState=g):(s=lA(),Pr.lanes|=s,Gu|=s,l)}function c4(s,l,g,w,O){var L=oe.p;oe.p=L!==0&&8>L?L:8;var te=ie.T,Ee={};ie.T=Ee,Yx(s,!1,l,g);try{var Ue=O(),lt=ie.S;if(lt!==null&&lt(Ee,Ue),Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"){var At=ge(Ue,w);l0(s,l,At,Vo(s))}else l0(s,l,w,Vo(s))}catch(It){l0(s,l,{then:function(){},status:"rejected",reason:It},Vo())}finally{oe.p=L,te!==null&&Ee.types!==null&&(te.types=Ee.types),ie.T=te}}function PD(){}function Gx(s,l,g,w){if(s.tag!==5)throw Error(n(476));var O=u4(s).queue;c4(s,O,l,de,g===null?PD:function(){return d4(s),g(w)})}function u4(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:de},next:null};var g={};return l.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:g},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function d4(s){var l=u4(s);l.next===null&&(l=s.alternate.memoizedState),l0(s,l.next.queue,{},Vo())}function Wx(){return Vi(E0)}function f4(){return Fa().memoizedState}function h4(){return Fa().memoizedState}function RD(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var g=Vo();s=kr(g);var w=Yn(l,s,g);w!==null&&(Eo(w,l,g),Si(w,l,g)),l={cache:Bu()},s.payload=l;return}l=l.return}}function BD(s,l,g){var w=Vo();g={lane:w,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},np(s)?m4(l,g):(g=Iu(s,l,g,w),g!==null&&(Eo(g,s,w),g4(g,l,w)))}function p4(s,l,g){var w=Vo();l0(s,l,g,w)}function l0(s,l,g,w){var O={lane:w,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(np(s))m4(l,O);else{var L=s.alternate;if(s.lanes===0&&(L===null||L.lanes===0)&&(L=l.lastRenderedReducer,L!==null))try{var te=l.lastRenderedState,Ee=L(te,g);if(O.hasEagerState=!0,O.eagerState=Ee,A(Ee,te))return jl(s,l,O,0),ha===null&&ac(),!1}catch{}finally{}if(g=Iu(s,l,O,w),g!==null)return Eo(g,s,w),g4(g,l,w),!0}return!1}function Yx(s,l,g,w){if(w={lane:2,revertLane:E2(),gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},np(s)){if(l)throw Error(n(479))}else l=Iu(s,g,w,2),l!==null&&Eo(l,s,2)}function np(s){var l=s.alternate;return s===Pr||l!==null&&l===Pr}function m4(s,l){$c=kl=!0;var g=s.pending;g===null?l.next=l:(l.next=g.next,g.next=l),s.pending=l}function g4(s,l,g){if(g&4194048){var w=l.lanes;w&=s.pendingLanes,g|=w,l.lanes=g,Jn(s,g)}}var c0={readContext:Vi,use:Fu,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useLayoutEffect:ta,useInsertionEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useSyncExternalStore:ta,useId:ta,useHostTransitionStatus:ta,useFormState:ta,useActionState:ta,useOptimistic:ta,useMemoCache:ta,useCacheRefresh:ta};c0.useEffectEvent=ta;var x4={readContext:Vi,use:Fu,useCallback:function(s,l){return _i().memoizedState=[s,l===void 0?null:l],s},useContext:Vi,useEffect:e4,useImperativeHandle:function(s,l,g){g=g!=null?g.concat([s]):null,Uu(4194308,4,a4.bind(null,l,s),g)},useLayoutEffect:function(s,l){return Uu(4194308,4,s,l)},useInsertionEffect:function(s,l){Uu(4,2,s,l)},useMemo:function(s,l){var g=_i();l=l===void 0?null:l;var w=s();if(cl){rr(!0);try{s()}finally{rr(!1)}}return g.memoizedState=[w,l],w},useReducer:function(s,l,g){var w=_i();if(g!==void 0){var O=g(l);if(cl){rr(!0);try{g(l)}finally{rr(!1)}}}else O=l;return w.memoizedState=w.baseState=O,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:O},w.queue=s,s=s.dispatch=BD.bind(null,Pr,s),[w.memoizedState,s]},useRef:function(s){var l=_i();return s={current:s},l.memoizedState=s},useState:function(s){s=mc(s);var l=s.queue,g=p4.bind(null,Pr,l);return l.dispatch=g,[s.memoizedState,g]},useDebugValue:Hx,useDeferredValue:function(s,l){var g=_i();return Vx(g,s,l)},useTransition:function(){var s=mc(!1);return s=c4.bind(null,Pr,s.queue,!0,!1),_i().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,g){var w=Pr,O=_i();if(un){if(g===void 0)throw Error(n(407));g=g()}else{if(g=l(),ha===null)throw Error(n(349));vn&127||Dl(w,l,g)}O.memoizedState=g;var L={value:g,getSnapshot:l};return O.queue=L,e4(i0.bind(null,w,L,s),[s]),w.flags|=2048,Qc(9,{destroy:void 0},a0.bind(null,w,L,g,l),null),g},useId:function(){var s=_i(),l=ha.identifierPrefix;if(un){var g=vo,w=xo;g=(w&~(1<<32-Jt(w)-1)).toString(32)+g,l="_"+l+"R_"+g,g=zd++,0<g&&(l+="H"+g.toString(32)),l+="_"}else g=Bf++,l="_"+l+"r_"+g.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:Wx,useFormState:dl,useActionState:dl,useOptimistic:function(s){var l=_i();l.memoizedState=l.baseState=s;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=g,l=Yx.bind(null,Pr,!0,g),g.dispatch=l,[s,l]},useMemoCache:Xc,useCacheRefresh:function(){return _i().memoizedState=RD.bind(null,Pr)},useEffectEvent:function(s){var l=_i(),g={impl:s};return l.memoizedState=g,function(){if(Un&2)throw Error(n(440));return g.impl.apply(void 0,arguments)}}},$x={readContext:Vi,use:Fu,useCallback:s4,useContext:Vi,useEffect:qx,useImperativeHandle:i4,useInsertionEffect:r4,useLayoutEffect:n4,useMemo:o4,useReducer:Uf,useRef:rp,useState:function(){return Uf(ul)},useDebugValue:Hx,useDeferredValue:function(s,l){var g=Fa();return l4(g,rn.memoizedState,s,l)},useTransition:function(){var s=Uf(ul)[0],l=Fa().memoizedState;return[typeof s=="boolean"?s:pc(s),l]},useSyncExternalStore:Hf,useId:f4,useHostTransitionStatus:Wx,useFormState:Ml,useActionState:Ml,useOptimistic:function(s,l){var g=Fa();return Z1(g,rn,s,l)},useMemoCache:Xc,useCacheRefresh:h4};$x.useEffectEvent=t4;var v4={readContext:Vi,use:Fu,useCallback:s4,useContext:Vi,useEffect:qx,useImperativeHandle:i4,useInsertionEffect:r4,useLayoutEffect:n4,useMemo:o4,useReducer:qf,useRef:rp,useState:function(){return qf(ul)},useDebugValue:Hx,useDeferredValue:function(s,l){var g=Fa();return rn===null?Vx(g,s,l):l4(g,rn.memoizedState,s,l)},useTransition:function(){var s=qf(ul)[0],l=Fa().memoizedState;return[typeof s=="boolean"?s:pc(s),l]},useSyncExternalStore:Hf,useId:f4,useHostTransitionStatus:Wx,useFormState:Wf,useActionState:Wf,useOptimistic:function(s,l){var g=Fa();return rn!==null?Z1(g,rn,s,l):(g.baseState=s,[s,g.queue.dispatch])},useMemoCache:Xc,useCacheRefresh:h4};v4.useEffectEvent=t4;function Xx(s,l,g,w){l=s.memoizedState,g=g(w,l),g=g==null?l:y({},l,g),s.memoizedState=g,s.lanes===0&&(s.updateQueue.baseState=g)}var Kx={enqueueSetState:function(s,l,g){s=s._reactInternals;var w=Vo(),O=kr(w);O.payload=l,g!=null&&(O.callback=g),l=Yn(s,O,w),l!==null&&(Eo(l,s,w),Si(l,s,w))},enqueueReplaceState:function(s,l,g){s=s._reactInternals;var w=Vo(),O=kr(w);O.tag=1,O.payload=l,g!=null&&(O.callback=g),l=Yn(s,O,w),l!==null&&(Eo(l,s,w),Si(l,s,w))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var g=Vo(),w=kr(g);w.tag=2,l!=null&&(w.callback=l),l=Yn(s,w,g),l!==null&&(Eo(l,s,g),Si(l,s,g))}};function y4(s,l,g,w,O,L,te){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(w,L,te):l.prototype&&l.prototype.isPureReactComponent?!C(g,w)||!C(O,L):!0}function b4(s,l,g,w){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(g,w),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(g,w),l.state!==s&&Kx.enqueueReplaceState(l,l.state,null)}function Hd(s,l){var g=l;if("ref"in l){g={};for(var w in l)w!=="ref"&&(g[w]=l[w])}if(s=s.defaultProps){g===l&&(g=y({},g));for(var O in s)g[O]===void 0&&(g[O]=s[O])}return g}function w4(s){Fn(s)}function A4(s){console.error(s)}function N4(s){Fn(s)}function ap(s,l){try{var g=s.onUncaughtError;g(l.value,{componentStack:l.stack})}catch(w){setTimeout(function(){throw w})}}function S4(s,l,g){try{var w=s.onCaughtError;w(g.value,{componentStack:g.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function Qx(s,l,g){return g=kr(g),g.tag=3,g.payload={element:null},g.callback=function(){ap(s,l)},g}function E4(s){return s=kr(s),s.tag=3,s}function C4(s,l,g,w){var O=g.type.getDerivedStateFromError;if(typeof O=="function"){var L=w.value;s.payload=function(){return O(L)},s.callback=function(){S4(l,g,w)}}var te=g.stateNode;te!==null&&typeof te.componentDidCatch=="function"&&(s.callback=function(){S4(l,g,w),typeof O!="function"&&(Wu===null?Wu=new Set([this]):Wu.add(this));var Ee=w.stack;this.componentDidCatch(w.value,{componentStack:Ee!==null?Ee:""})})}function FD(s,l,g,w,O){if(g.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(l=g.alternate,l!==null&&uc(l,g,O,!0),g=Xa.current,g!==null){switch(g.tag){case 31:case 13:return Ci===null?gp():g.alternate===null&&ai===0&&(ai=3),g.flags&=-257,g.flags|=65536,g.lanes=O,w===Ke?g.flags|=16384:(l=g.updateQueue,l===null?g.updateQueue=new Set([w]):l.add(w),A2(s,w,O)),!1;case 22:return g.flags|=65536,w===Ke?g.flags|=16384:(l=g.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([w])},g.updateQueue=l):(g=l.retryQueue,g===null?l.retryQueue=new Set([w]):g.add(w)),A2(s,w,O)),!1}throw Error(n(435,g.tag))}return A2(s,w,O),gp(),!1}if(un)return l=Xa.current,l!==null?(!(l.flags&65536)&&(l.flags|=256),l.flags|=65536,l.lanes=O,w!==Uo&&(s=Error(n(422),{cause:w}),Pu(po(s,g)))):(w!==Uo&&(l=Error(n(423),{cause:w}),Pu(po(l,g))),s=s.current.alternate,s.flags|=65536,O&=-O,s.lanes|=O,w=po(w,g),O=Qx(s.stateNode,w,O),Pa(s,O),ai!==4&&(ai=2)),!1;var L=Error(n(520),{cause:w});if(L=po(L,g),x0===null?x0=[L]:x0.push(L),ai!==4&&(ai=2),l===null)return!0;w=po(w,g),g=l;do{switch(g.tag){case 3:return g.flags|=65536,s=O&-O,g.lanes|=s,s=Qx(g.stateNode,w,s),Pa(g,s),!1;case 1:if(l=g.type,L=g.stateNode,(g.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Wu===null||!Wu.has(L))))return g.flags|=65536,O&=-O,g.lanes|=O,O=E4(O),C4(O,s,g,w),Pa(g,O),!1}g=g.return}while(g!==null);return!1}var Zx=Error(n(461)),ji=!1;function bs(s,l,g,w){l.child=s===null?xn(l,null,g,w):dn(l,s.child,g,w)}function _4(s,l,g,w,O){g=g.render;var L=l.ref;if("ref"in w){var te={};for(var Ee in w)Ee!=="ref"&&(te[Ee]=w[Ee])}else te=w;return dc(l),w=t0(s,l,g,te,L,O),Ee=r0(),s!==null&&!ji?(n0(s,l,O),Zc(s,l,O)):(un&&Ee&&Qh(l),l.flags|=1,bs(s,l,w,O),l.child)}function j4(s,l,g,w,O){if(s===null){var L=g.type;return typeof L=="function"&&!Of(L)&&L.defaultProps===void 0&&g.compare===null?(l.tag=15,l.type=L,O4(s,l,L,w,O)):(s=Du(g.type,null,w,l,l.mode,O),s.ref=l.ref,s.return=l,l.child=s)}if(L=s.child,!s2(s,O)){var te=L.memoizedProps;if(g=g.compare,g=g!==null?g:C,g(te,w)&&s.ref===l.ref)return Zc(s,l,O)}return l.flags|=1,s=ho(L,w),s.ref=l.ref,s.return=l,l.child=s}function O4(s,l,g,w,O){if(s!==null){var L=s.memoizedProps;if(C(L,w)&&s.ref===l.ref)if(ji=!1,l.pendingProps=w=L,s2(s,O))s.flags&131072&&(ji=!0);else return l.lanes=s.lanes,Zc(s,l,O)}return Jx(s,l,g,w,O)}function T4(s,l,g,w){var O=w.children,L=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),w.mode==="hidden"){if(l.flags&128){if(L=L!==null?L.baseLanes|g:g,s!==null){for(w=l.child=s.child,O=0;w!==null;)O=O|w.lanes|w.childLanes,w=w.sibling;w=O&~L}else w=0,l.child=null;return k4(s,l,L,g,w)}if(g&536870912)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ce(l,L!==null?L.cachePool:null),L!==null?Qs(l,L):bo(),Ca(l);else return w=l.lanes=536870912,k4(s,l,L!==null?L.baseLanes|g:g,g,w)}else L!==null?(Ce(l,L.cachePool),Qs(l,L),ll(),l.memoizedState=null):(s!==null&&Ce(l,null),bo(),ll());return bs(s,l,O,g),l.child}function u0(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function k4(s,l,g,w,O){var L=Se();return L=L===null?null:{parent:$a._currentValue,pool:L},l.memoizedState={baseLanes:g,cachePool:L},s!==null&&Ce(l,null),bo(),Ca(l),s!==null&&uc(s,l,w,!0),l.childLanes=O,null}function ip(s,l){return l=op({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function I4(s,l,g){return dn(l,s.child,null,g),s=ip(l,l.pendingProps),s.flags|=2,ks(l),l.memoizedState=null,s}function zD(s,l,g){var w=l.pendingProps,O=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(un){if(w.mode==="hidden")return s=ip(l,w),l.lanes=536870912,u0(null,s);if(ol(l),(s=da)?(s=VA(s,La),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:sc!==null?{id:xo,overflow:vo}:null,retryLane:536870912,hydrationErrors:null},g=Tf(s),g.return=l,l.child=g,qi=l,da=null)):s=null,s===null)throw oc(l);return l.lanes=536870912,null}return ip(l,w)}var L=s.memoizedState;if(L!==null){var te=L.dehydrated;if(ol(l),O)if(l.flags&256)l.flags&=-257,l=I4(s,l,g);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(n(558));else if(ji||uc(s,l,g,!1),O=(g&s.childLanes)!==0,ji||O){if(w=ha,w!==null&&(te=xa(w,g),te!==0&&te!==L.retryLane))throw L.retryLane=te,Ol(s,te),Eo(w,s,te),Zx;gp(),l=I4(s,l,g)}else s=L.treeContext,da=fl(te.nextSibling),qi=l,un=!0,ys=null,La=!1,s!==null&&X1(l,s),l=ip(l,w),l.flags|=4096;return l}return s=ho(s.child,{mode:w.mode,children:w.children}),s.ref=l.ref,l.child=s,s.return=l,s}function sp(s,l){var g=l.ref;if(g===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(n(284));(s===null||s.ref!==g)&&(l.flags|=4194816)}}function Jx(s,l,g,w,O){return dc(l),g=t0(s,l,g,w,void 0,O),w=r0(),s!==null&&!ji?(n0(s,l,O),Zc(s,l,O)):(un&&w&&Qh(l),l.flags|=1,bs(s,l,g,O),l.child)}function D4(s,l,g,w,O,L){return dc(l),l.updateQueue=null,g=Il(l,w,g,O),Ff(s),w=r0(),s!==null&&!ji?(n0(s,l,L),Zc(s,l,L)):(un&&w&&Qh(l),l.flags|=1,bs(s,l,g,L),l.child)}function M4(s,l,g,w,O){if(dc(l),l.stateNode===null){var L=Ui,te=g.contextType;typeof te=="object"&&te!==null&&(L=Vi(te)),L=new g(w,L),l.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=Kx,l.stateNode=L,L._reactInternals=l,L=l.stateNode,L.props=w,L.state=l.memoizedState,L.refs={},zn(l),te=g.contextType,L.context=typeof te=="object"&&te!==null?Vi(te):Ui,L.state=l.memoizedState,te=g.getDerivedStateFromProps,typeof te=="function"&&(Xx(l,g,te,w),L.state=l.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(te=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),te!==L.state&&Kx.enqueueReplaceState(L,L.state,null),Gi(l,w,L,O),bn(),L.state=l.memoizedState),typeof L.componentDidMount=="function"&&(l.flags|=4194308),w=!0}else if(s===null){L=l.stateNode;var Ee=l.memoizedProps,Ue=Hd(g,Ee);L.props=Ue;var lt=L.context,At=g.contextType;te=Ui,typeof At=="object"&&At!==null&&(te=Vi(At));var It=g.getDerivedStateFromProps;At=typeof It=="function"||typeof L.getSnapshotBeforeUpdate=="function",Ee=l.pendingProps!==Ee,At||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(Ee||lt!==te)&&b4(l,L,w,te),zr=!1;var ft=l.memoizedState;L.state=ft,Gi(l,w,L,O),bn(),lt=l.memoizedState,Ee||ft!==lt||zr?(typeof It=="function"&&(Xx(l,g,It,w),lt=l.memoizedState),(Ue=zr||y4(l,g,Ue,w,ft,lt,te))?(At||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(l.flags|=4194308)):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=w,l.memoizedState=lt),L.props=w,L.state=lt,L.context=te,w=Ue):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),w=!1)}else{L=l.stateNode,Tn(s,l),te=l.memoizedProps,At=Hd(g,te),L.props=At,It=l.pendingProps,ft=L.context,lt=g.contextType,Ue=Ui,typeof lt=="object"&&lt!==null&&(Ue=Vi(lt)),Ee=g.getDerivedStateFromProps,(lt=typeof Ee=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(te!==It||ft!==Ue)&&b4(l,L,w,Ue),zr=!1,ft=l.memoizedState,L.state=ft,Gi(l,w,L,O),bn();var gt=l.memoizedState;te!==It||ft!==gt||zr||s!==null&&s.dependencies!==null&&Lf(s.dependencies)?(typeof Ee=="function"&&(Xx(l,g,Ee,w),gt=l.memoizedState),(At=zr||y4(l,g,At,w,ft,gt,Ue)||s!==null&&s.dependencies!==null&&Lf(s.dependencies))?(lt||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(w,gt,Ue),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(w,gt,Ue)),typeof L.componentDidUpdate=="function"&&(l.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof L.componentDidUpdate!="function"||te===s.memoizedProps&&ft===s.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||te===s.memoizedProps&&ft===s.memoizedState||(l.flags|=1024),l.memoizedProps=w,l.memoizedState=gt),L.props=w,L.state=gt,L.context=Ue,w=At):(typeof L.componentDidUpdate!="function"||te===s.memoizedProps&&ft===s.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||te===s.memoizedProps&&ft===s.memoizedState||(l.flags|=1024),w=!1)}return L=w,sp(s,l),w=(l.flags&128)!==0,L||w?(L=l.stateNode,g=w&&typeof g.getDerivedStateFromError!="function"?null:L.render(),l.flags|=1,s!==null&&w?(l.child=dn(l,s.child,null,O),l.child=dn(l,null,g,O)):bs(s,l,g,O),l.memoizedState=L.state,s=l.child):s=Zc(s,l,O),s}function L4(s,l,g,w){return Gc(),l.flags|=256,bs(s,l,g,w),l.child}var e2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function t2(s){return{baseLanes:s,cachePool:Me()}}function r2(s,l,g){return s=s!==null?s.childLanes&~g:0,l&&(s|=Ho),s}function P4(s,l,g){var w=l.pendingProps,O=!1,L=(l.flags&128)!==0,te;if((te=L)||(te=s!==null&&s.memoizedState===null?!1:(Ba.current&2)!==0),te&&(O=!0,l.flags&=-129),te=(l.flags&32)!==0,l.flags&=-33,s===null){if(un){if(O?Zs(l):ll(),(s=da)?(s=VA(s,La),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:sc!==null?{id:xo,overflow:vo}:null,retryLane:536870912,hydrationErrors:null},g=Tf(s),g.return=l,l.child=g,qi=l,da=null)):s=null,s===null)throw oc(l);return B2(s)?l.lanes=32:l.lanes=536870912,null}var Ee=w.children;return w=w.fallback,O?(ll(),O=l.mode,Ee=op({mode:"hidden",children:Ee},O),w=ic(w,O,g,null),Ee.return=l,w.return=l,Ee.sibling=w,l.child=Ee,w=l.child,w.memoizedState=t2(g),w.childLanes=r2(s,te,g),l.memoizedState=e2,u0(null,w)):(Zs(l),n2(l,Ee))}var Ue=s.memoizedState;if(Ue!==null&&(Ee=Ue.dehydrated,Ee!==null)){if(L)l.flags&256?(Zs(l),l.flags&=-257,l=a2(s,l,g)):l.memoizedState!==null?(ll(),l.child=s.child,l.flags|=128,l=null):(ll(),Ee=w.fallback,O=l.mode,w=op({mode:"visible",children:w.children},O),Ee=ic(Ee,O,g,null),Ee.flags|=2,w.return=l,Ee.return=l,w.sibling=Ee,l.child=w,dn(l,s.child,null,g),w=l.child,w.memoizedState=t2(g),w.childLanes=r2(s,te,g),l.memoizedState=e2,l=u0(null,w));else if(Zs(l),B2(Ee)){if(te=Ee.nextSibling&&Ee.nextSibling.dataset,te)var lt=te.dgst;te=lt,w=Error(n(419)),w.stack="",w.digest=te,Pu({value:w,source:null,stack:null}),l=a2(s,l,g)}else if(ji||uc(s,l,g,!1),te=(g&s.childLanes)!==0,ji||te){if(te=ha,te!==null&&(w=xa(te,g),w!==0&&w!==Ue.retryLane))throw Ue.retryLane=w,Ol(s,w),Eo(te,s,w),Zx;R2(Ee)||gp(),l=a2(s,l,g)}else R2(Ee)?(l.flags|=192,l.child=s.child,l=null):(s=Ue.treeContext,da=fl(Ee.nextSibling),qi=l,un=!0,ys=null,La=!1,s!==null&&X1(l,s),l=n2(l,w.children),l.flags|=4096);return l}return O?(ll(),Ee=w.fallback,O=l.mode,Ue=s.child,lt=Ue.sibling,w=ho(Ue,{mode:"hidden",children:w.children}),w.subtreeFlags=Ue.subtreeFlags&65011712,lt!==null?Ee=ho(lt,Ee):(Ee=ic(Ee,O,g,null),Ee.flags|=2),Ee.return=l,w.return=l,w.sibling=Ee,l.child=w,u0(null,w),w=l.child,Ee=s.child.memoizedState,Ee===null?Ee=t2(g):(O=Ee.cachePool,O!==null?(Ue=$a._currentValue,O=O.parent!==Ue?{parent:Ue,pool:Ue}:O):O=Me(),Ee={baseLanes:Ee.baseLanes|g,cachePool:O}),w.memoizedState=Ee,w.childLanes=r2(s,te,g),l.memoizedState=e2,u0(s.child,w)):(Zs(l),g=s.child,s=g.sibling,g=ho(g,{mode:"visible",children:w.children}),g.return=l,g.sibling=null,s!==null&&(te=l.deletions,te===null?(l.deletions=[s],l.flags|=16):te.push(s)),l.child=g,l.memoizedState=null,g)}function n2(s,l){return l=op({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function op(s,l){return s=as(22,s,null,l),s.lanes=0,s}function a2(s,l,g){return dn(l,s.child,null,g),s=n2(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function R4(s,l,g){s.lanes|=l;var w=s.alternate;w!==null&&(w.lanes|=l),Ru(s.return,l,g)}function i2(s,l,g,w,O,L){var te=s.memoizedState;te===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:O,treeForkCount:L}:(te.isBackwards=l,te.rendering=null,te.renderingStartTime=0,te.last=w,te.tail=g,te.tailMode=O,te.treeForkCount=L)}function B4(s,l,g){var w=l.pendingProps,O=w.revealOrder,L=w.tail;w=w.children;var te=Ba.current,Ee=(te&2)!==0;if(Ee?(te=te&1|2,l.flags|=128):te&=1,H(Ba,te),bs(s,l,w,g),w=un?Rd:0,!Ee&&s!==null&&s.flags&128)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&R4(s,g,l);else if(s.tag===19)R4(s,g,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(O){case"forwards":for(g=l.child,O=null;g!==null;)s=g.alternate,s!==null&&Yc(s)===null&&(O=g),g=g.sibling;g=O,g===null?(O=l.child,l.child=null):(O=g.sibling,g.sibling=null),i2(l,!1,O,g,L,w);break;case"backwards":case"unstable_legacy-backwards":for(g=null,O=l.child,l.child=null;O!==null;){if(s=O.alternate,s!==null&&Yc(s)===null){l.child=O;break}s=O.sibling,O.sibling=g,g=O,O=s}i2(l,!0,g,null,L,w);break;case"together":i2(l,!1,null,null,void 0,w);break;default:l.memoizedState=null}return l.child}function Zc(s,l,g){if(s!==null&&(l.dependencies=s.dependencies),Gu|=l.lanes,!(g&l.childLanes))if(s!==null){if(uc(s,l,g,!1),(g&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,g=ho(s,s.pendingProps),l.child=g,g.return=l;s.sibling!==null;)s=s.sibling,g=g.sibling=ho(s,s.pendingProps),g.return=l;g.sibling=null}return l.child}function s2(s,l){return s.lanes&l?!0:(s=s.dependencies,!!(s!==null&&Lf(s)))}function UD(s,l,g){switch(l.tag){case 3:je(l,l.stateNode.containerInfo),cc(l,$a,s.memoizedState.cache),Gc();break;case 27:case 5:Te(l);break;case 4:je(l,l.stateNode.containerInfo);break;case 10:cc(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,ol(l),null;break;case 13:var w=l.memoizedState;if(w!==null)return w.dehydrated!==null?(Zs(l),l.flags|=128,null):g&l.child.childLanes?P4(s,l,g):(Zs(l),s=Zc(s,l,g),s!==null?s.sibling:null);Zs(l);break;case 19:var O=(s.flags&128)!==0;if(w=(g&l.childLanes)!==0,w||(uc(s,l,g,!1),w=(g&l.childLanes)!==0),O){if(w)return B4(s,l,g);l.flags|=128}if(O=l.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),H(Ba,Ba.current),w)break;return null;case 22:return l.lanes=0,T4(s,l,g,l.pendingProps);case 24:cc(l,$a,s.memoizedState.cache)}return Zc(s,l,g)}function F4(s,l,g){if(s!==null)if(s.memoizedProps!==l.pendingProps)ji=!0;else{if(!s2(s,g)&&!(l.flags&128))return ji=!1,UD(s,l,g);ji=!!(s.flags&131072)}else ji=!1,un&&l.flags&1048576&&$1(l,Rd,l.index);switch(l.lanes=0,l.tag){case 16:e:{var w=l.pendingProps;if(s=Ge(l.elementType),l.type=s,typeof s=="function")Of(s)?(w=Hd(s,w),l.tag=1,l=M4(null,l,s,w,g)):(l.tag=0,l=Jx(null,l,s,w,g));else{if(s!=null){var O=s.$$typeof;if(O===G){l.tag=11,l=_4(null,l,s,w,g);break e}else if(O===V){l.tag=14,l=j4(null,l,s,w,g);break e}}throw l=re(s)||s,Error(n(306,l,""))}}return l;case 0:return Jx(s,l,l.type,l.pendingProps,g);case 1:return w=l.type,O=Hd(w,l.pendingProps),M4(s,l,w,O,g);case 3:e:{if(je(l,l.stateNode.containerInfo),s===null)throw Error(n(387));w=l.pendingProps;var L=l.memoizedState;O=L.element,Tn(s,l),Gi(l,w,null,g);var te=l.memoizedState;if(w=te.cache,cc(l,$a,w),w!==L.cache&&Wc(l,[$a],g,!0),bn(),w=te.element,L.isDehydrated)if(L={element:w,isDehydrated:!1,cache:te.cache},l.updateQueue.baseState=L,l.memoizedState=L,l.flags&256){l=L4(s,l,w,g);break e}else if(w!==O){O=po(Error(n(424)),l),Pu(O),l=L4(s,l,w,g);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(da=fl(s.firstChild),qi=l,un=!0,ys=null,La=!0,g=xn(l,null,w,g),l.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Gc(),w===O){l=Zc(s,l,g);break e}bs(s,l,w,g)}l=l.child}return l;case 26:return sp(s,l),s===null?(g=KA(l.type,null,l.pendingProps,null))?l.memoizedState=g:un||(g=l.type,s=l.pendingProps,w=Np(ne.current).createElement(g),w[Ft]=l,w[Pe]=s,ws(w,g,s),cn(w),l.stateNode=w):l.memoizedState=KA(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Te(l),s===null&&un&&(w=l.stateNode=YA(l.type,l.pendingProps,ne.current),qi=l,La=!0,O=da,Ku(l.type)?(F2=O,da=fl(w.firstChild)):da=O),bs(s,l,l.pendingProps.children,g),sp(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&un&&((O=w=da)&&(w=xM(w,l.type,l.pendingProps,La),w!==null?(l.stateNode=w,qi=l,da=fl(w.firstChild),La=!1,O=!0):O=!1),O||oc(l)),Te(l),O=l.type,L=l.pendingProps,te=s!==null?s.memoizedProps:null,w=L.children,M2(O,L)?w=null:te!==null&&M2(O,te)&&(l.flags|=32),l.memoizedState!==null&&(O=t0(s,l,Ux,null,null,g),E0._currentValue=O),sp(s,l),bs(s,l,w,g),l.child;case 6:return s===null&&un&&((s=g=da)&&(g=vM(g,l.pendingProps,La),g!==null?(l.stateNode=g,qi=l,da=null,s=!0):s=!1),s||oc(l)),null;case 13:return P4(s,l,g);case 4:return je(l,l.stateNode.containerInfo),w=l.pendingProps,s===null?l.child=dn(l,null,w,g):bs(s,l,w,g),l.child;case 11:return _4(s,l,l.type,l.pendingProps,g);case 7:return bs(s,l,l.pendingProps,g),l.child;case 8:return bs(s,l,l.pendingProps.children,g),l.child;case 12:return bs(s,l,l.pendingProps.children,g),l.child;case 10:return w=l.pendingProps,cc(l,l.type,w.value),bs(s,l,w.children,g),l.child;case 9:return O=l.type._context,w=l.pendingProps.children,dc(l),O=Vi(O),w=w(O),l.flags|=1,bs(s,l,w,g),l.child;case 14:return j4(s,l,l.type,l.pendingProps,g);case 15:return O4(s,l,l.type,l.pendingProps,g);case 19:return B4(s,l,g);case 31:return zD(s,l,g);case 22:return T4(s,l,g,l.pendingProps);case 24:return dc(l),w=Vi($a),s===null?(O=Se(),O===null&&(O=ha,L=Bu(),O.pooledCache=L,L.refCount++,L!==null&&(O.pooledCacheLanes|=g),O=L),l.memoizedState={parent:w,cache:O},zn(l),cc(l,$a,O)):(s.lanes&g&&(Tn(s,l),Gi(l,null,null,g),bn()),O=s.memoizedState,L=l.memoizedState,O.parent!==w?(O={parent:w,cache:w},l.memoizedState=O,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=O),cc(l,$a,w)):(w=L.cache,cc(l,$a,w),w!==O.cache&&Wc(l,[$a],g,!0))),bs(s,l,l.pendingProps.children,g),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function Jc(s){s.flags|=4}function o2(s,l,g,w,O){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(O&335544128)===O)if(s.stateNode.complete)s.flags|=8192;else if(fA())s.flags|=8192;else throw Ye=Ke,st}else s.flags&=-16777217}function z4(s,l){if(l.type!=="stylesheet"||l.state.loading&4)s.flags&=-16777217;else if(s.flags|=16777216,!tN(l))if(fA())s.flags|=8192;else throw Ye=Ke,st}function lp(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Gr():536870912,s.lanes|=l,Kf|=l)}function d0(s,l){if(!un)switch(s.tailMode){case"hidden":l=s.tail;for(var g=null;l!==null;)l.alternate!==null&&(g=l),l=l.sibling;g===null?s.tail=null:g.sibling=null;break;case"collapsed":g=s.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:w.sibling=null}}function _a(s){var l=s.alternate!==null&&s.alternate.child===s.child,g=0,w=0;if(l)for(var O=s.child;O!==null;)g|=O.lanes|O.childLanes,w|=O.subtreeFlags&65011712,w|=O.flags&65011712,O.return=s,O=O.sibling;else for(O=s.child;O!==null;)g|=O.lanes|O.childLanes,w|=O.subtreeFlags,w|=O.flags,O.return=s,O=O.sibling;return s.subtreeFlags|=w,s.childLanes=g,l}function qD(s,l,g){var w=l.pendingProps;switch(Df(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _a(l),null;case 1:return _a(l),null;case 3:return g=l.stateNode,w=null,s!==null&&(w=s.memoizedState.cache),l.memoizedState.cache!==w&&(l.flags|=2048),yo($a),pe(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(Hi(l)?Jc(l):s===null||s.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Jh())),_a(l),null;case 26:var O=l.type,L=l.memoizedState;return s===null?(Jc(l),L!==null?(_a(l),z4(l,L)):(_a(l),o2(l,O,null,w,g))):L?L!==s.memoizedState?(Jc(l),_a(l),z4(l,L)):(_a(l),l.flags&=-16777217):(s=s.memoizedProps,s!==w&&Jc(l),_a(l),o2(l,O,s,w,g)),null;case 27:if(ke(l),g=ne.current,O=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==w&&Jc(l);else{if(!w){if(l.stateNode===null)throw Error(n(166));return _a(l),null}s=se.current,Hi(l)?Zh(l):(s=YA(O,w,g),l.stateNode=s,Jc(l))}return _a(l),null;case 5:if(ke(l),O=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==w&&Jc(l);else{if(!w){if(l.stateNode===null)throw Error(n(166));return _a(l),null}if(L=se.current,Hi(l))Zh(l);else{var te=Np(ne.current);switch(L){case 1:L=te.createElementNS("http://www.w3.org/2000/svg",O);break;case 2:L=te.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;default:switch(O){case"svg":L=te.createElementNS("http://www.w3.org/2000/svg",O);break;case"math":L=te.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;case"script":L=te.createElement("div"),L.innerHTML="<script><\/script>",L=L.removeChild(L.firstChild);break;case"select":L=typeof w.is=="string"?te.createElement("select",{is:w.is}):te.createElement("select"),w.multiple?L.multiple=!0:w.size&&(L.size=w.size);break;default:L=typeof w.is=="string"?te.createElement(O,{is:w.is}):te.createElement(O)}}L[Ft]=l,L[Pe]=w;e:for(te=l.child;te!==null;){if(te.tag===5||te.tag===6)L.appendChild(te.stateNode);else if(te.tag!==4&&te.tag!==27&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===l)break e;for(;te.sibling===null;){if(te.return===null||te.return===l)break e;te=te.return}te.sibling.return=te.return,te=te.sibling}l.stateNode=L;e:switch(ws(L,O,w),O){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}w&&Jc(l)}}return _a(l),o2(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,g),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==w&&Jc(l);else{if(typeof w!="string"&&l.stateNode===null)throw Error(n(166));if(s=ne.current,Hi(l)){if(s=l.stateNode,g=l.memoizedProps,w=null,O=qi,O!==null)switch(O.tag){case 27:case 5:w=O.memoizedProps}s[Ft]=l,s=!!(s.nodeValue===g||w!==null&&w.suppressHydrationWarning===!0||PA(s.nodeValue,g)),s||oc(l,!0)}else s=Np(s).createTextNode(w),s[Ft]=l,l.stateNode=s}return _a(l),null;case 31:if(g=l.memoizedState,s===null||s.memoizedState!==null){if(w=Hi(l),g!==null){if(s===null){if(!w)throw Error(n(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[Ft]=l}else Gc(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;_a(l),s=!1}else g=Jh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),s=!0;if(!s)return l.flags&256?(ks(l),l):(ks(l),null);if(l.flags&128)throw Error(n(558))}return _a(l),null;case 13:if(w=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(O=Hi(l),w!==null&&w.dehydrated!==null){if(s===null){if(!O)throw Error(n(318));if(O=l.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[Ft]=l}else Gc(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;_a(l),O=!1}else O=Jh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=O),O=!0;if(!O)return l.flags&256?(ks(l),l):(ks(l),null)}return ks(l),l.flags&128?(l.lanes=g,l):(g=w!==null,s=s!==null&&s.memoizedState!==null,g&&(w=l.child,O=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(O=w.alternate.memoizedState.cachePool.pool),L=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(L=w.memoizedState.cachePool.pool),L!==O&&(w.flags|=2048)),g!==s&&g&&(l.child.flags|=8192),lp(l,l.updateQueue),_a(l),null);case 4:return pe(),s===null&&O2(l.stateNode.containerInfo),_a(l),null;case 10:return yo(l.type),_a(l),null;case 19:if(U(Ba),w=l.memoizedState,w===null)return _a(l),null;if(O=(l.flags&128)!==0,L=w.rendering,L===null)if(O)d0(w,!1);else{if(ai!==0||s!==null&&s.flags&128)for(s=l.child;s!==null;){if(L=Yc(s),L!==null){for(l.flags|=128,d0(w,!1),s=L.updateQueue,l.updateQueue=s,lp(l,s),l.subtreeFlags=0,s=g,g=l.child;g!==null;)Ld(g,s),g=g.sibling;return H(Ba,Ba.current&1|2),un&&Ks(l,w.treeForkCount),l.child}s=s.sibling}w.tail!==null&&qt()>hp&&(l.flags|=128,O=!0,d0(w,!1),l.lanes=4194304)}else{if(!O)if(s=Yc(L),s!==null){if(l.flags|=128,O=!0,s=s.updateQueue,l.updateQueue=s,lp(l,s),d0(w,!0),w.tail===null&&w.tailMode==="hidden"&&!L.alternate&&!un)return _a(l),null}else 2*qt()-w.renderingStartTime>hp&&g!==536870912&&(l.flags|=128,O=!0,d0(w,!1),l.lanes=4194304);w.isBackwards?(L.sibling=l.child,l.child=L):(s=w.last,s!==null?s.sibling=L:l.child=L,w.last=L)}return w.tail!==null?(s=w.tail,w.rendering=s,w.tail=s.sibling,w.renderingStartTime=qt(),s.sibling=null,g=Ba.current,H(Ba,O?g&1|2:g&1),un&&Ks(l,w.treeForkCount),s):(_a(l),null);case 22:case 23:return ks(l),ni(),w=l.memoizedState!==null,s!==null?s.memoizedState!==null!==w&&(l.flags|=8192):w&&(l.flags|=8192),w?g&536870912&&!(l.flags&128)&&(_a(l),l.subtreeFlags&6&&(l.flags|=8192)):_a(l),g=l.updateQueue,g!==null&&lp(l,g.retryQueue),g=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),w=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(w=l.memoizedState.cachePool.pool),w!==g&&(l.flags|=2048),s!==null&&U(be),null;case 24:return g=null,s!==null&&(g=s.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),yo($a),_a(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function HD(s,l){switch(Df(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return yo($a),pe(),s=l.flags,s&65536&&!(s&128)?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return ke(l),null;case 31:if(l.memoizedState!==null){if(ks(l),l.alternate===null)throw Error(n(340));Gc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(ks(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Gc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return U(Ba),null;case 4:return pe(),null;case 10:return yo(l.type),null;case 22:case 23:return ks(l),ni(),s!==null&&U(be),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return yo($a),null;case 25:return null;default:return null}}function U4(s,l){switch(Df(l),l.tag){case 3:yo($a),pe();break;case 26:case 27:case 5:ke(l);break;case 4:pe();break;case 31:l.memoizedState!==null&&ks(l);break;case 13:ks(l);break;case 19:U(Ba);break;case 10:yo(l.type);break;case 22:case 23:ks(l),ni(),s!==null&&U(be);break;case 24:yo($a)}}function f0(s,l){try{var g=l.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var O=w.next;g=O;do{if((g.tag&s)===s){w=void 0;var L=g.create,te=g.inst;w=L(),te.destroy=w}g=g.next}while(g!==O)}}catch(Ee){Xn(l,l.return,Ee)}}function Hu(s,l,g){try{var w=l.updateQueue,O=w!==null?w.lastEffect:null;if(O!==null){var L=O.next;w=L;do{if((w.tag&s)===s){var te=w.inst,Ee=te.destroy;if(Ee!==void 0){te.destroy=void 0,O=l;var Ue=g,lt=Ee;try{lt()}catch(At){Xn(O,Ue,At)}}}w=w.next}while(w!==L)}}catch(At){Xn(l,l.return,At)}}function q4(s){var l=s.updateQueue;if(l!==null){var g=s.stateNode;try{fi(l,g)}catch(w){Xn(s,s.return,w)}}}function H4(s,l,g){g.props=Hd(s.type,s.memoizedProps),g.state=s.memoizedState;try{g.componentWillUnmount()}catch(w){Xn(s,l,w)}}function h0(s,l){try{var g=s.ref;if(g!==null){switch(s.tag){case 26:case 27:case 5:var w=s.stateNode;break;case 30:w=s.stateNode;break;default:w=s.stateNode}typeof g=="function"?s.refCleanup=g(w):g.current=w}}catch(O){Xn(s,l,O)}}function gc(s,l){var g=s.ref,w=s.refCleanup;if(g!==null)if(typeof w=="function")try{w()}catch(O){Xn(s,l,O)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(O){Xn(s,l,O)}else g.current=null}function V4(s){var l=s.type,g=s.memoizedProps,w=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":g.autoFocus&&w.focus();break e;case"img":g.src?w.src=g.src:g.srcSet&&(w.srcset=g.srcSet)}}catch(O){Xn(s,s.return,O)}}function l2(s,l,g){try{var w=s.stateNode;dM(w,s.type,g,l),w[Pe]=l}catch(O){Xn(s,s.return,O)}}function G4(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ku(s.type)||s.tag===4}function c2(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||G4(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ku(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function u2(s,l,g){var w=s.tag;if(w===5||w===6)s=s.stateNode,l?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(s,l):(l=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,l.appendChild(s),g=g._reactRootContainer,g!=null||l.onclick!==null||(l.onclick=Nn));else if(w!==4&&(w===27&&Ku(s.type)&&(g=s.stateNode,l=null),s=s.child,s!==null))for(u2(s,l,g),s=s.sibling;s!==null;)u2(s,l,g),s=s.sibling}function cp(s,l,g){var w=s.tag;if(w===5||w===6)s=s.stateNode,l?g.insertBefore(s,l):g.appendChild(s);else if(w!==4&&(w===27&&Ku(s.type)&&(g=s.stateNode),s=s.child,s!==null))for(cp(s,l,g),s=s.sibling;s!==null;)cp(s,l,g),s=s.sibling}function W4(s){var l=s.stateNode,g=s.memoizedProps;try{for(var w=s.type,O=l.attributes;O.length;)l.removeAttributeNode(O[0]);ws(l,w,g),l[Ft]=s,l[Pe]=g}catch(L){Xn(s,s.return,L)}}var eu=!1,Oi=!1,d2=!1,Y4=typeof WeakSet=="function"?WeakSet:Set,ss=null;function VD(s,l){if(s=s.containerInfo,I2=Tp,s=fe(s),we(s)){if("selectionStart"in s)var g={start:s.selectionStart,end:s.selectionEnd};else e:{g=(g=s.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var O=w.anchorOffset,L=w.focusNode;w=w.focusOffset;try{g.nodeType,L.nodeType}catch{g=null;break e}var te=0,Ee=-1,Ue=-1,lt=0,At=0,It=s,ft=null;t:for(;;){for(var gt;It!==g||O!==0&&It.nodeType!==3||(Ee=te+O),It!==L||w!==0&&It.nodeType!==3||(Ue=te+w),It.nodeType===3&&(te+=It.nodeValue.length),(gt=It.firstChild)!==null;)ft=It,It=gt;for(;;){if(It===s)break t;if(ft===g&&++lt===O&&(Ee=te),ft===L&&++At===w&&(Ue=te),(gt=It.nextSibling)!==null)break;It=ft,ft=It.parentNode}It=gt}g=Ee===-1||Ue===-1?null:{start:Ee,end:Ue}}else g=null}g=g||{start:0,end:0}}else g=null;for(D2={focusedElem:s,selectionRange:g},Tp=!1,ss=l;ss!==null;)if(l=ss,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,ss=s;else for(;ss!==null;){switch(l=ss,L=l.alternate,s=l.flags,l.tag){case 0:if(s&4&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(g=0;g<s.length;g++)O=s[g],O.ref.impl=O.nextImpl;break;case 11:case 15:break;case 1:if(s&1024&&L!==null){s=void 0,g=l,O=L.memoizedProps,L=L.memoizedState,w=g.stateNode;try{var dr=Hd(g.type,O);s=w.getSnapshotBeforeUpdate(dr,L),w.__reactInternalSnapshotBeforeUpdate=s}catch(Ir){Xn(g,g.return,Ir)}}break;case 3:if(s&1024){if(s=l.stateNode.containerInfo,g=s.nodeType,g===9)P2(s);else if(g===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":P2(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(n(163))}if(s=l.sibling,s!==null){s.return=l.return,ss=s;break}ss=l.return}}function $4(s,l,g){var w=g.flags;switch(g.tag){case 0:case 11:case 15:ru(s,g),w&4&&f0(5,g);break;case 1:if(ru(s,g),w&4)if(s=g.stateNode,l===null)try{s.componentDidMount()}catch(te){Xn(g,g.return,te)}else{var O=Hd(g.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(O,l,s.__reactInternalSnapshotBeforeUpdate)}catch(te){Xn(g,g.return,te)}}w&64&&q4(g),w&512&&h0(g,g.return);break;case 3:if(ru(s,g),w&64&&(s=g.updateQueue,s!==null)){if(l=null,g.child!==null)switch(g.child.tag){case 27:case 5:l=g.child.stateNode;break;case 1:l=g.child.stateNode}try{fi(s,l)}catch(te){Xn(g,g.return,te)}}break;case 27:l===null&&w&4&&W4(g);case 26:case 5:ru(s,g),l===null&&w&4&&V4(g),w&512&&h0(g,g.return);break;case 12:ru(s,g);break;case 31:ru(s,g),w&4&&Q4(s,g);break;case 13:ru(s,g),w&4&&Z4(s,g),w&64&&(s=g.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(g=JD.bind(null,g),yM(s,g))));break;case 22:if(w=g.memoizedState!==null||eu,!w){l=l!==null&&l.memoizedState!==null||Oi,O=eu;var L=Oi;eu=w,(Oi=l)&&!L?nu(s,g,(g.subtreeFlags&8772)!==0):ru(s,g),eu=O,Oi=L}break;case 30:break;default:ru(s,g)}}function X4(s){var l=s.alternate;l!==null&&(s.alternate=null,X4(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Vt(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var za=null,wo=!1;function tu(s,l,g){for(g=g.child;g!==null;)K4(s,l,g),g=g.sibling}function K4(s,l,g){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Ht,g)}catch{}switch(g.tag){case 26:Oi||gc(g,l),tu(s,l,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Oi||gc(g,l);var w=za,O=wo;Ku(g.type)&&(za=g.stateNode,wo=!1),tu(s,l,g),A0(g.stateNode),za=w,wo=O;break;case 5:Oi||gc(g,l);case 6:if(w=za,O=wo,za=null,tu(s,l,g),za=w,wo=O,za!==null)if(wo)try{(za.nodeType===9?za.body:za.nodeName==="HTML"?za.ownerDocument.body:za).removeChild(g.stateNode)}catch(L){Xn(g,l,L)}else try{za.removeChild(g.stateNode)}catch(L){Xn(g,l,L)}break;case 18:za!==null&&(wo?(s=za,qA(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,g.stateNode),ah(s)):qA(za,g.stateNode));break;case 4:w=za,O=wo,za=g.stateNode.containerInfo,wo=!0,tu(s,l,g),za=w,wo=O;break;case 0:case 11:case 14:case 15:Hu(2,g,l),Oi||Hu(4,g,l),tu(s,l,g);break;case 1:Oi||(gc(g,l),w=g.stateNode,typeof w.componentWillUnmount=="function"&&H4(g,l,w)),tu(s,l,g);break;case 21:tu(s,l,g);break;case 22:Oi=(w=Oi)||g.memoizedState!==null,tu(s,l,g),Oi=w;break;default:tu(s,l,g)}}function Q4(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ah(s)}catch(g){Xn(l,l.return,g)}}}function Z4(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ah(s)}catch(g){Xn(l,l.return,g)}}function GD(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new Y4),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new Y4),l;default:throw Error(n(435,s.tag))}}function up(s,l){var g=GD(s);l.forEach(function(w){if(!g.has(w)){g.add(w);var O=eM.bind(null,s,w);w.then(O,O)}})}function Ao(s,l){var g=l.deletions;if(g!==null)for(var w=0;w<g.length;w++){var O=g[w],L=s,te=l,Ee=te;e:for(;Ee!==null;){switch(Ee.tag){case 27:if(Ku(Ee.type)){za=Ee.stateNode,wo=!1;break e}break;case 5:za=Ee.stateNode,wo=!1;break e;case 3:case 4:za=Ee.stateNode.containerInfo,wo=!0;break e}Ee=Ee.return}if(za===null)throw Error(n(160));K4(L,te,O),za=null,wo=!1,L=O.alternate,L!==null&&(L.return=null),O.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)J4(l,s),l=l.sibling}var Pl=null;function J4(s,l){var g=s.alternate,w=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ao(l,s),No(s),w&4&&(Hu(3,s,s.return),f0(3,s),Hu(5,s,s.return));break;case 1:Ao(l,s),No(s),w&512&&(Oi||g===null||gc(g,g.return)),w&64&&eu&&(s=s.updateQueue,s!==null&&(w=s.callbacks,w!==null&&(g=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=g===null?w:g.concat(w))));break;case 26:var O=Pl;if(Ao(l,s),No(s),w&512&&(Oi||g===null||gc(g,g.return)),w&4){var L=g!==null?g.memoizedState:null;if(w=s.memoizedState,g===null)if(w===null)if(s.stateNode===null){e:{w=s.type,g=s.memoizedProps,O=O.ownerDocument||O;t:switch(w){case"title":L=O.getElementsByTagName("title")[0],(!L||L[Yt]||L[Ft]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=O.createElement(w),O.head.insertBefore(L,O.querySelector("head > title"))),ws(L,w,g),L[Ft]=s,cn(L),w=L;break e;case"link":var te=JA("link","href",O).get(w+(g.href||""));if(te){for(var Ee=0;Ee<te.length;Ee++)if(L=te[Ee],L.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&L.getAttribute("rel")===(g.rel==null?null:g.rel)&&L.getAttribute("title")===(g.title==null?null:g.title)&&L.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){te.splice(Ee,1);break t}}L=O.createElement(w),ws(L,w,g),O.head.appendChild(L);break;case"meta":if(te=JA("meta","content",O).get(w+(g.content||""))){for(Ee=0;Ee<te.length;Ee++)if(L=te[Ee],L.getAttribute("content")===(g.content==null?null:""+g.content)&&L.getAttribute("name")===(g.name==null?null:g.name)&&L.getAttribute("property")===(g.property==null?null:g.property)&&L.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&L.getAttribute("charset")===(g.charSet==null?null:g.charSet)){te.splice(Ee,1);break t}}L=O.createElement(w),ws(L,w,g),O.head.appendChild(L);break;default:throw Error(n(468,w))}L[Ft]=s,cn(L),w=L}s.stateNode=w}else eN(O,s.type,s.stateNode);else s.stateNode=ZA(O,w,s.memoizedProps);else L!==w?(L===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):L.count--,w===null?eN(O,s.type,s.stateNode):ZA(O,w,s.memoizedProps)):w===null&&s.stateNode!==null&&l2(s,s.memoizedProps,g.memoizedProps)}break;case 27:Ao(l,s),No(s),w&512&&(Oi||g===null||gc(g,g.return)),g!==null&&w&4&&l2(s,s.memoizedProps,g.memoizedProps);break;case 5:if(Ao(l,s),No(s),w&512&&(Oi||g===null||gc(g,g.return)),s.flags&32){O=s.stateNode;try{ps(O,"")}catch(dr){Xn(s,s.return,dr)}}w&4&&s.stateNode!=null&&(O=s.memoizedProps,l2(s,O,g!==null?g.memoizedProps:O)),w&1024&&(d2=!0);break;case 6:if(Ao(l,s),No(s),w&4){if(s.stateNode===null)throw Error(n(162));w=s.memoizedProps,g=s.stateNode;try{g.nodeValue=w}catch(dr){Xn(s,s.return,dr)}}break;case 3:if(Cp=null,O=Pl,Pl=Sp(l.containerInfo),Ao(l,s),Pl=O,No(s),w&4&&g!==null&&g.memoizedState.isDehydrated)try{ah(l.containerInfo)}catch(dr){Xn(s,s.return,dr)}d2&&(d2=!1,eA(s));break;case 4:w=Pl,Pl=Sp(s.stateNode.containerInfo),Ao(l,s),No(s),Pl=w;break;case 12:Ao(l,s),No(s);break;case 31:Ao(l,s),No(s),w&4&&(w=s.updateQueue,w!==null&&(s.updateQueue=null,up(s,w)));break;case 13:Ao(l,s),No(s),s.child.flags&8192&&s.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(fp=qt()),w&4&&(w=s.updateQueue,w!==null&&(s.updateQueue=null,up(s,w)));break;case 22:O=s.memoizedState!==null;var Ue=g!==null&&g.memoizedState!==null,lt=eu,At=Oi;if(eu=lt||O,Oi=At||Ue,Ao(l,s),Oi=At,eu=lt,No(s),w&8192)e:for(l=s.stateNode,l._visibility=O?l._visibility&-2:l._visibility|1,O&&(g===null||Ue||eu||Oi||Vd(s)),g=null,l=s;;){if(l.tag===5||l.tag===26){if(g===null){Ue=g=l;try{if(L=Ue.stateNode,O)te=L.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none";else{Ee=Ue.stateNode;var It=Ue.memoizedProps.style,ft=It!=null&&It.hasOwnProperty("display")?It.display:null;Ee.style.display=ft==null||typeof ft=="boolean"?"":(""+ft).trim()}}catch(dr){Xn(Ue,Ue.return,dr)}}}else if(l.tag===6){if(g===null){Ue=l;try{Ue.stateNode.nodeValue=O?"":Ue.memoizedProps}catch(dr){Xn(Ue,Ue.return,dr)}}}else if(l.tag===18){if(g===null){Ue=l;try{var gt=Ue.stateNode;O?HA(gt,!0):HA(Ue.stateNode,!1)}catch(dr){Xn(Ue,Ue.return,dr)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;g===l&&(g=null),l=l.return}g===l&&(g=null),l.sibling.return=l.return,l=l.sibling}w&4&&(w=s.updateQueue,w!==null&&(g=w.retryQueue,g!==null&&(w.retryQueue=null,up(s,g))));break;case 19:Ao(l,s),No(s),w&4&&(w=s.updateQueue,w!==null&&(s.updateQueue=null,up(s,w)));break;case 30:break;case 21:break;default:Ao(l,s),No(s)}}function No(s){var l=s.flags;if(l&2){try{for(var g,w=s.return;w!==null;){if(G4(w)){g=w;break}w=w.return}if(g==null)throw Error(n(160));switch(g.tag){case 27:var O=g.stateNode,L=c2(s);cp(s,L,O);break;case 5:var te=g.stateNode;g.flags&32&&(ps(te,""),g.flags&=-33);var Ee=c2(s);cp(s,Ee,te);break;case 3:case 4:var Ue=g.stateNode.containerInfo,lt=c2(s);u2(s,lt,Ue);break;default:throw Error(n(161))}}catch(At){Xn(s,s.return,At)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function eA(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;eA(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function ru(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)$4(s,l.alternate,l),l=l.sibling}function Vd(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Hu(4,l,l.return),Vd(l);break;case 1:gc(l,l.return);var g=l.stateNode;typeof g.componentWillUnmount=="function"&&H4(l,l.return,g),Vd(l);break;case 27:A0(l.stateNode);case 26:case 5:gc(l,l.return),Vd(l);break;case 22:l.memoizedState===null&&Vd(l);break;case 30:Vd(l);break;default:Vd(l)}s=s.sibling}}function nu(s,l,g){for(g=g&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var w=l.alternate,O=s,L=l,te=L.flags;switch(L.tag){case 0:case 11:case 15:nu(O,L,g),f0(4,L);break;case 1:if(nu(O,L,g),w=L,O=w.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(lt){Xn(w,w.return,lt)}if(w=L,O=w.updateQueue,O!==null){var Ee=w.stateNode;try{var Ue=O.shared.hiddenCallbacks;if(Ue!==null)for(O.shared.hiddenCallbacks=null,O=0;O<Ue.length;O++)Ts(Ue[O],Ee)}catch(lt){Xn(w,w.return,lt)}}g&&te&64&&q4(L),h0(L,L.return);break;case 27:W4(L);case 26:case 5:nu(O,L,g),g&&w===null&&te&4&&V4(L),h0(L,L.return);break;case 12:nu(O,L,g);break;case 31:nu(O,L,g),g&&te&4&&Q4(O,L);break;case 13:nu(O,L,g),g&&te&4&&Z4(O,L);break;case 22:L.memoizedState===null&&nu(O,L,g),h0(L,L.return);break;case 30:break;default:nu(O,L,g)}l=l.sibling}}function f2(s,l){var g=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==g&&(s!=null&&s.refCount++,g!=null&&Bd(g))}function h2(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Bd(s))}function Rl(s,l,g,w){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)tA(s,l,g,w),l=l.sibling}function tA(s,l,g,w){var O=l.flags;switch(l.tag){case 0:case 11:case 15:Rl(s,l,g,w),O&2048&&f0(9,l);break;case 1:Rl(s,l,g,w);break;case 3:Rl(s,l,g,w),O&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Bd(s)));break;case 12:if(O&2048){Rl(s,l,g,w),s=l.stateNode;try{var L=l.memoizedProps,te=L.id,Ee=L.onPostCommit;typeof Ee=="function"&&Ee(te,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Ue){Xn(l,l.return,Ue)}}else Rl(s,l,g,w);break;case 31:Rl(s,l,g,w);break;case 13:Rl(s,l,g,w);break;case 23:break;case 22:L=l.stateNode,te=l.alternate,l.memoizedState!==null?L._visibility&2?Rl(s,l,g,w):p0(s,l):L._visibility&2?Rl(s,l,g,w):(L._visibility|=2,Yf(s,l,g,w,(l.subtreeFlags&10256)!==0||!1)),O&2048&&f2(te,l);break;case 24:Rl(s,l,g,w),O&2048&&h2(l.alternate,l);break;default:Rl(s,l,g,w)}}function Yf(s,l,g,w,O){for(O=O&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var L=s,te=l,Ee=g,Ue=w,lt=te.flags;switch(te.tag){case 0:case 11:case 15:Yf(L,te,Ee,Ue,O),f0(8,te);break;case 23:break;case 22:var At=te.stateNode;te.memoizedState!==null?At._visibility&2?Yf(L,te,Ee,Ue,O):p0(L,te):(At._visibility|=2,Yf(L,te,Ee,Ue,O)),O&&lt&2048&&f2(te.alternate,te);break;case 24:Yf(L,te,Ee,Ue,O),O&&lt&2048&&h2(te.alternate,te);break;default:Yf(L,te,Ee,Ue,O)}l=l.sibling}}function p0(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var g=s,w=l,O=w.flags;switch(w.tag){case 22:p0(g,w),O&2048&&f2(w.alternate,w);break;case 24:p0(g,w),O&2048&&h2(w.alternate,w);break;default:p0(g,w)}l=l.sibling}}var m0=8192;function $f(s,l,g){if(s.subtreeFlags&m0)for(s=s.child;s!==null;)rA(s,l,g),s=s.sibling}function rA(s,l,g){switch(s.tag){case 26:$f(s,l,g),s.flags&m0&&s.memoizedState!==null&&kM(g,Pl,s.memoizedState,s.memoizedProps);break;case 5:$f(s,l,g);break;case 3:case 4:var w=Pl;Pl=Sp(s.stateNode.containerInfo),$f(s,l,g),Pl=w;break;case 22:s.memoizedState===null&&(w=s.alternate,w!==null&&w.memoizedState!==null?(w=m0,m0=16777216,$f(s,l,g),m0=w):$f(s,l,g));break;default:$f(s,l,g)}}function nA(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function g0(s){var l=s.deletions;if(s.flags&16){if(l!==null)for(var g=0;g<l.length;g++){var w=l[g];ss=w,iA(w,s)}nA(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)aA(s),s=s.sibling}function aA(s){switch(s.tag){case 0:case 11:case 15:g0(s),s.flags&2048&&Hu(9,s,s.return);break;case 3:g0(s);break;case 12:g0(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,dp(s)):g0(s);break;default:g0(s)}}function dp(s){var l=s.deletions;if(s.flags&16){if(l!==null)for(var g=0;g<l.length;g++){var w=l[g];ss=w,iA(w,s)}nA(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Hu(8,l,l.return),dp(l);break;case 22:g=l.stateNode,g._visibility&2&&(g._visibility&=-3,dp(l));break;default:dp(l)}s=s.sibling}}function iA(s,l){for(;ss!==null;){var g=ss;switch(g.tag){case 0:case 11:case 15:Hu(8,g,l);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var w=g.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:Bd(g.memoizedState.cache)}if(w=g.child,w!==null)w.return=g,ss=w;else e:for(g=s;ss!==null;){w=ss;var O=w.sibling,L=w.return;if(X4(w),w===g){ss=null;break e}if(O!==null){O.return=L,ss=O;break e}ss=L}}}var WD={getCacheForType:function(s){var l=Vi($a),g=l.data.get(s);return g===void 0&&(g=s(),l.data.set(s,g)),g},cacheSignal:function(){return Vi($a).controller.signal}},YD=typeof WeakMap=="function"?WeakMap:Map,Un=0,ha=null,fn=null,vn=0,$n=0,qo=null,Vu=!1,Xf=!1,p2=!1,au=0,ai=0,Gu=0,Gd=0,m2=0,Ho=0,Kf=0,x0=null,So=null,g2=!1,fp=0,sA=0,hp=1/0,pp=null,Wu=null,Wi=0,Yu=null,Qf=null,iu=0,x2=0,v2=null,oA=null,v0=0,y2=null;function Vo(){return Un&2&&vn!==0?vn&-vn:ie.T!==null?E2():Ot()}function lA(){if(Ho===0)if(!(vn&536870912)||un){var s=Ar;Ar<<=1,!(Ar&3932160)&&(Ar=262144),Ho=s}else Ho=536870912;return s=Xa.current,s!==null&&(s.flags|=32),Ho}function Eo(s,l,g){(s===ha&&($n===2||$n===9)||s.cancelPendingCommit!==null)&&(Zf(s,0),$u(s,vn,Ho,!1)),la(s,g),(!(Un&2)||s!==ha)&&(s===ha&&(!(Un&2)&&(Gd|=g),ai===4&&$u(s,vn,Ho,!1)),xc(s))}function cA(s,l,g){if(Un&6)throw Error(n(327));var w=!g&&(l&127)===0&&(l&s.expiredLanes)===0||Nr(s,l),O=w?KD(s,l):w2(s,l,!0),L=w;do{if(O===0){Xf&&!w&&$u(s,l,0,!1);break}else{if(g=s.current.alternate,L&&!$D(g)){O=w2(s,l,!1),L=!1;continue}if(O===2){if(L=l,s.errorRecoveryDisabledLanes&L)var te=0;else te=s.pendingLanes&-536870913,te=te!==0?te:te&536870912?536870912:0;if(te!==0){l=te;e:{var Ee=s;O=x0;var Ue=Ee.current.memoizedState.isDehydrated;if(Ue&&(Zf(Ee,te).flags|=256),te=w2(Ee,te,!1),te!==2){if(p2&&!Ue){Ee.errorRecoveryDisabledLanes|=L,Gd|=L,O=4;break e}L=So,So=O,L!==null&&(So===null?So=L:So.push.apply(So,L))}O=te}if(L=!1,O!==2)continue}}if(O===1){Zf(s,0),$u(s,l,0,!0);break}e:{switch(w=s,L=O,L){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:$u(w,l,Ho,!Vu);break e;case 2:So=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(O=fp+300-qt(),10<O)){if($u(w,l,Ho,!Vu),xr(w,0,!0)!==0)break e;iu=l,w.timeoutHandle=zA(uA.bind(null,w,g,So,pp,g2,l,Ho,Gd,Kf,Vu,L,"Throttled",-0,0),O);break e}uA(w,g,So,pp,g2,l,Ho,Gd,Kf,Vu,L,null,-0,0)}}break}while(!0);xc(s)}function uA(s,l,g,w,O,L,te,Ee,Ue,lt,At,It,ft,gt){if(s.timeoutHandle=-1,It=l.subtreeFlags,It&8192||(It&16785408)===16785408){It={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nn},rA(l,L,It);var dr=(L&62914560)===L?fp-qt():(L&4194048)===L?sA-qt():0;if(dr=IM(It,dr),dr!==null){iu=L,s.cancelPendingCommit=dr(vA.bind(null,s,l,L,g,w,O,te,Ee,Ue,At,It,null,ft,gt)),$u(s,L,te,!lt);return}}vA(s,l,L,g,w,O,te,Ee,Ue)}function $D(s){for(var l=s;;){var g=l.tag;if((g===0||g===11||g===15)&&l.flags&16384&&(g=l.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var w=0;w<g.length;w++){var O=g[w],L=O.getSnapshot;O=O.value;try{if(!A(L(),O))return!1}catch{return!1}}if(g=l.child,l.subtreeFlags&16384&&g!==null)g.return=l,l=g;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function $u(s,l,g,w){l&=~m2,l&=~Gd,s.suspendedLanes|=l,s.pingedLanes&=~l,w&&(s.warmLanes|=l),w=s.expirationTimes;for(var O=l;0<O;){var L=31-Jt(O),te=1<<L;w[L]=-1,O&=~te}g!==0&&Za(s,g,l)}function mp(){return Un&6?!0:(y0(0),!1)}function b2(){if(fn!==null){if($n===0)var s=fn.return;else s=fn,sl=lc=null,zf(s),Et=null,Zt=0,s=fn;for(;s!==null;)U4(s.alternate,s),s=s.return;fn=null}}function Zf(s,l){var g=s.timeoutHandle;g!==-1&&(s.timeoutHandle=-1,pM(g)),g=s.cancelPendingCommit,g!==null&&(s.cancelPendingCommit=null,g()),iu=0,b2(),ha=s,fn=g=ho(s.current,null),vn=l,$n=0,qo=null,Vu=!1,Xf=Nr(s,l),p2=!1,Kf=Ho=m2=Gd=Gu=ai=0,So=x0=null,g2=!1,l&8&&(l|=l&32);var w=s.entangledLanes;if(w!==0)for(s=s.entanglements,w&=l;0<w;){var O=31-Jt(w),L=1<<O;l|=s[O],w&=~L}return au=l,ac(),g}function dA(s,l){Pr=null,ie.H=c0,l===Ve||l===it?(l=_t(),$n=3):l===st?(l=_t(),$n=4):$n=l===Zx?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,qo=l,fn===null&&(ai=1,ap(s,po(l,s.current)))}function fA(){var s=Xa.current;return s===null?!0:(vn&4194048)===vn?Ci===null:(vn&62914560)===vn||vn&536870912?s===Ci:!1}function hA(){var s=ie.H;return ie.H=c0,s===null?c0:s}function pA(){var s=ie.A;return ie.A=WD,s}function gp(){ai=4,Vu||(vn&4194048)!==vn&&Xa.current!==null||(Xf=!0),!(Gu&134217727)&&!(Gd&134217727)||ha===null||$u(ha,vn,Ho,!1)}function w2(s,l,g){var w=Un;Un|=2;var O=hA(),L=pA();(ha!==s||vn!==l)&&(pp=null,Zf(s,l)),l=!1;var te=ai;e:do try{if($n!==0&&fn!==null){var Ee=fn,Ue=qo;switch($n){case 8:b2(),te=6;break e;case 3:case 2:case 9:case 6:Xa.current===null&&(l=!0);var lt=$n;if($n=0,qo=null,Jf(s,Ee,Ue,lt),g&&Xf){te=0;break e}break;default:lt=$n,$n=0,qo=null,Jf(s,Ee,Ue,lt)}}XD(),te=ai;break}catch(At){dA(s,At)}while(!0);return l&&s.shellSuspendCounter++,sl=lc=null,Un=w,ie.H=O,ie.A=L,fn===null&&(ha=null,vn=0,ac()),te}function XD(){for(;fn!==null;)mA(fn)}function KD(s,l){var g=Un;Un|=2;var w=hA(),O=pA();ha!==s||vn!==l?(pp=null,hp=qt()+500,Zf(s,l)):Xf=Nr(s,l);e:do try{if($n!==0&&fn!==null){l=fn;var L=qo;t:switch($n){case 1:$n=0,qo=null,Jf(s,l,L,1);break;case 2:case 9:if(kt(L)){$n=0,qo=null,gA(l);break}l=function(){$n!==2&&$n!==9||ha!==s||($n=7),xc(s)},L.then(l,l);break e;case 3:$n=7;break e;case 4:$n=5;break e;case 7:kt(L)?($n=0,qo=null,gA(l)):($n=0,qo=null,Jf(s,l,L,7));break;case 5:var te=null;switch(fn.tag){case 26:te=fn.memoizedState;case 5:case 27:var Ee=fn;if(te?tN(te):Ee.stateNode.complete){$n=0,qo=null;var Ue=Ee.sibling;if(Ue!==null)fn=Ue;else{var lt=Ee.return;lt!==null?(fn=lt,xp(lt)):fn=null}break t}}$n=0,qo=null,Jf(s,l,L,5);break;case 6:$n=0,qo=null,Jf(s,l,L,6);break;case 8:b2(),ai=6;break e;default:throw Error(n(462))}}QD();break}catch(At){dA(s,At)}while(!0);return sl=lc=null,ie.H=w,ie.A=O,Un=g,fn!==null?0:(ha=null,vn=0,ac(),ai)}function QD(){for(;fn!==null&&!et();)mA(fn)}function mA(s){var l=F4(s.alternate,s,au);s.memoizedProps=s.pendingProps,l===null?xp(s):fn=l}function gA(s){var l=s,g=l.alternate;switch(l.tag){case 15:case 0:l=D4(g,l,l.pendingProps,l.type,void 0,vn);break;case 11:l=D4(g,l,l.pendingProps,l.type.render,l.ref,vn);break;case 5:zf(l);default:U4(g,l),l=fn=Ld(l,au),l=F4(g,l,au)}s.memoizedProps=s.pendingProps,l===null?xp(s):fn=l}function Jf(s,l,g,w){sl=lc=null,zf(l),Et=null,Zt=0;var O=l.return;try{if(FD(s,O,l,g,vn)){ai=1,ap(s,po(g,s.current)),fn=null;return}}catch(L){if(O!==null)throw fn=O,L;ai=1,ap(s,po(g,s.current)),fn=null;return}l.flags&32768?(un||w===1?s=!0:Xf||vn&536870912?s=!1:(Vu=s=!0,(w===2||w===9||w===3||w===6)&&(w=Xa.current,w!==null&&w.tag===13&&(w.flags|=16384))),xA(l,s)):xp(l)}function xp(s){var l=s;do{if(l.flags&32768){xA(l,Vu);return}s=l.return;var g=qD(l.alternate,l,au);if(g!==null){fn=g;return}if(l=l.sibling,l!==null){fn=l;return}fn=l=s}while(l!==null);ai===0&&(ai=5)}function xA(s,l){do{var g=HD(s.alternate,s);if(g!==null){g.flags&=32767,fn=g;return}if(g=s.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!l&&(s=s.sibling,s!==null)){fn=s;return}fn=s=g}while(s!==null);ai=6,fn=null}function vA(s,l,g,w,O,L,te,Ee,Ue){s.cancelPendingCommit=null;do vp();while(Wi!==0);if(Un&6)throw Error(n(327));if(l!==null){if(l===s.current)throw Error(n(177));if(L=l.lanes|l.childLanes,L|=zo,or(s,g,L,te,Ee,Ue),s===ha&&(fn=ha=null,vn=0),Qf=l,Yu=s,iu=g,x2=L,v2=O,oA=w,l.subtreeFlags&10256||l.flags&10256?(s.callbackNode=null,s.callbackPriority=0,tM(lr,function(){return NA(),null})):(s.callbackNode=null,s.callbackPriority=0),w=(l.flags&13878)!==0,l.subtreeFlags&13878||w){w=ie.T,ie.T=null,O=oe.p,oe.p=2,te=Un,Un|=4;try{VD(s,l,g)}finally{Un=te,oe.p=O,ie.T=w}}Wi=1,yA(),bA(),wA()}}function yA(){if(Wi===1){Wi=0;var s=Yu,l=Qf,g=(l.flags&13878)!==0;if(l.subtreeFlags&13878||g){g=ie.T,ie.T=null;var w=oe.p;oe.p=2;var O=Un;Un|=4;try{J4(l,s);var L=D2,te=fe(s.containerInfo),Ee=L.focusedElem,Ue=L.selectionRange;if(te!==Ee&&Ee&&Ee.ownerDocument&&K(Ee.ownerDocument.documentElement,Ee)){if(Ue!==null&&we(Ee)){var lt=Ue.start,At=Ue.end;if(At===void 0&&(At=lt),"selectionStart"in Ee)Ee.selectionStart=lt,Ee.selectionEnd=Math.min(At,Ee.value.length);else{var It=Ee.ownerDocument||document,ft=It&&It.defaultView||window;if(ft.getSelection){var gt=ft.getSelection(),dr=Ee.textContent.length,Ir=Math.min(Ue.start,dr),na=Ue.end===void 0?Ir:Math.min(Ue.end,dr);!gt.extend&&Ir>na&&(te=na,na=Ir,Ir=te);var Je=B(Ee,Ir),We=B(Ee,na);if(Je&&We&&(gt.rangeCount!==1||gt.anchorNode!==Je.node||gt.anchorOffset!==Je.offset||gt.focusNode!==We.node||gt.focusOffset!==We.offset)){var ot=It.createRange();ot.setStart(Je.node,Je.offset),gt.removeAllRanges(),Ir>na?(gt.addRange(ot),gt.extend(We.node,We.offset)):(ot.setEnd(We.node,We.offset),gt.addRange(ot))}}}}for(It=[],gt=Ee;gt=gt.parentNode;)gt.nodeType===1&&It.push({element:gt,left:gt.scrollLeft,top:gt.scrollTop});for(typeof Ee.focus=="function"&&Ee.focus(),Ee=0;Ee<It.length;Ee++){var jt=It[Ee];jt.element.scrollLeft=jt.left,jt.element.scrollTop=jt.top}}Tp=!!I2,D2=I2=null}finally{Un=O,oe.p=w,ie.T=g}}s.current=l,Wi=2}}function bA(){if(Wi===2){Wi=0;var s=Yu,l=Qf,g=(l.flags&8772)!==0;if(l.subtreeFlags&8772||g){g=ie.T,ie.T=null;var w=oe.p;oe.p=2;var O=Un;Un|=4;try{$4(s,l.alternate,l)}finally{Un=O,oe.p=w,ie.T=g}}Wi=3}}function wA(){if(Wi===4||Wi===3){Wi=0,St();var s=Yu,l=Qf,g=iu,w=oA;l.subtreeFlags&10256||l.flags&10256?Wi=5:(Wi=0,Qf=Yu=null,AA(s,s.pendingLanes));var O=s.pendingLanes;if(O===0&&(Wu=null),_e(g),l=l.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Ht,l,void 0,(l.current.flags&128)===128)}catch{}if(w!==null){l=ie.T,O=oe.p,oe.p=2,ie.T=null;try{for(var L=s.onRecoverableError,te=0;te<w.length;te++){var Ee=w[te];L(Ee.value,{componentStack:Ee.stack})}}finally{ie.T=l,oe.p=O}}iu&3&&vp(),xc(s),O=s.pendingLanes,g&261930&&O&42?s===y2?v0++:(v0=0,y2=s):v0=0,y0(0)}}function AA(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Bd(l)))}function vp(){return yA(),bA(),wA(),NA()}function NA(){if(Wi!==5)return!1;var s=Yu,l=x2;x2=0;var g=_e(iu),w=ie.T,O=oe.p;try{oe.p=32>g?32:g,ie.T=null,g=v2,v2=null;var L=Yu,te=iu;if(Wi=0,Qf=Yu=null,iu=0,Un&6)throw Error(n(331));var Ee=Un;if(Un|=4,aA(L.current),tA(L,L.current,te,g),Un=Ee,y0(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Ht,L)}catch{}return!0}finally{oe.p=O,ie.T=w,AA(s,l)}}function SA(s,l,g){l=po(g,l),l=Qx(s.stateNode,l,2),s=Yn(s,l,2),s!==null&&(la(s,2),xc(s))}function Xn(s,l,g){if(s.tag===3)SA(s,s,g);else for(;l!==null;){if(l.tag===3){SA(l,s,g);break}else if(l.tag===1){var w=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Wu===null||!Wu.has(w))){s=po(g,s),g=E4(2),w=Yn(l,g,2),w!==null&&(C4(g,w,l,s),la(w,2),xc(w));break}}l=l.return}}function A2(s,l,g){var w=s.pingCache;if(w===null){w=s.pingCache=new YD;var O=new Set;w.set(l,O)}else O=w.get(l),O===void 0&&(O=new Set,w.set(l,O));O.has(g)||(p2=!0,O.add(g),s=ZD.bind(null,s,l,g),l.then(s,s))}function ZD(s,l,g){var w=s.pingCache;w!==null&&w.delete(l),s.pingedLanes|=s.suspendedLanes&g,s.warmLanes&=~g,ha===s&&(vn&g)===g&&(ai===4||ai===3&&(vn&62914560)===vn&&300>qt()-fp?!(Un&2)&&Zf(s,0):m2|=g,Kf===vn&&(Kf=0)),xc(s)}function EA(s,l){l===0&&(l=Gr()),s=Ol(s,l),s!==null&&(la(s,l),xc(s))}function JD(s){var l=s.memoizedState,g=0;l!==null&&(g=l.retryLane),EA(s,g)}function eM(s,l){var g=0;switch(s.tag){case 31:case 13:var w=s.stateNode,O=s.memoizedState;O!==null&&(g=O.retryLane);break;case 19:w=s.stateNode;break;case 22:w=s.stateNode._retryCache;break;default:throw Error(n(314))}w!==null&&w.delete(l),EA(s,g)}function tM(s,l){return Qe(s,l)}var yp=null,eh=null,N2=!1,bp=!1,S2=!1,Xu=0;function xc(s){s!==eh&&s.next===null&&(eh===null?yp=eh=s:eh=eh.next=s),bp=!0,N2||(N2=!0,nM())}function y0(s,l){if(!S2&&bp){S2=!0;do for(var g=!1,w=yp;w!==null;){if(s!==0){var O=w.pendingLanes;if(O===0)var L=0;else{var te=w.suspendedLanes,Ee=w.pingedLanes;L=(1<<31-Jt(42|s)+1)-1,L&=O&~(te&~Ee),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(g=!0,OA(w,L))}else L=vn,L=xr(w,w===ha?L:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),!(L&3)||Nr(w,L)||(g=!0,OA(w,L));w=w.next}while(g);S2=!1}}function rM(){CA()}function CA(){bp=N2=!1;var s=0;Xu!==0&&hM()&&(s=Xu);for(var l=qt(),g=null,w=yp;w!==null;){var O=w.next,L=_A(w,l);L===0?(w.next=null,g===null?yp=O:g.next=O,O===null&&(eh=g)):(g=w,(s!==0||L&3)&&(bp=!0)),w=O}Wi!==0&&Wi!==5||y0(s),Xu!==0&&(Xu=0)}function _A(s,l){for(var g=s.suspendedLanes,w=s.pingedLanes,O=s.expirationTimes,L=s.pendingLanes&-62914561;0<L;){var te=31-Jt(L),Ee=1<<te,Ue=O[te];Ue===-1?(!(Ee&g)||Ee&w)&&(O[te]=Ji(Ee,l)):Ue<=l&&(s.expiredLanes|=Ee),L&=~Ee}if(l=ha,g=vn,g=xr(s,s===l?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),w=s.callbackNode,g===0||s===l&&($n===2||$n===9)||s.cancelPendingCommit!==null)return w!==null&&w!==null&&Fe(w),s.callbackNode=null,s.callbackPriority=0;if(!(g&3)||Nr(s,g)){if(l=g&-g,l===s.callbackPriority)return l;switch(w!==null&&Fe(w),_e(g)){case 2:case 8:g=Bt;break;case 32:g=lr;break;case 268435456:g=Er;break;default:g=lr}return w=jA.bind(null,s),g=Qe(g,w),s.callbackPriority=l,s.callbackNode=g,l}return w!==null&&w!==null&&Fe(w),s.callbackPriority=2,s.callbackNode=null,2}function jA(s,l){if(Wi!==0&&Wi!==5)return s.callbackNode=null,s.callbackPriority=0,null;var g=s.callbackNode;if(vp()&&s.callbackNode!==g)return null;var w=vn;return w=xr(s,s===ha?w:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),w===0?null:(cA(s,w,l),_A(s,qt()),s.callbackNode!=null&&s.callbackNode===g?jA.bind(null,s):null)}function OA(s,l){if(vp())return null;cA(s,l,!0)}function nM(){mM(function(){Un&6?Qe(tr,rM):CA()})}function E2(){if(Xu===0){var s=E;s===0&&(s=pn,pn<<=1,!(pn&261888)&&(pn=256)),Xu=s}return Xu}function TA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ss(""+s)}function kA(s,l){var g=l.ownerDocument.createElement("input");return g.name=l.name,g.value=l.value,s.id&&g.setAttribute("form",s.id),l.parentNode.insertBefore(g,l),s=new FormData(s),g.parentNode.removeChild(g),s}function aM(s,l,g,w,O){if(l==="submit"&&g&&g.stateNode===O){var L=TA((O[Pe]||null).action),te=w.submitter;te&&(l=(l=te[Pe]||null)?TA(l.formAction):te.getAttribute("formAction"),l!==null&&(L=l,te=null));var Ee=new Da("action","action",null,w,O);s.push({event:Ee,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(Xu!==0){var Ue=te?kA(O,te):new FormData(O);Gx(g,{pending:!0,data:Ue,method:O.method,action:L},null,Ue)}}else typeof L=="function"&&(Ee.preventDefault(),Ue=te?kA(O,te):new FormData(O),Gx(g,{pending:!0,data:Ue,method:O.method,action:L},L,Ue))},currentTarget:O}]})}}for(var C2=0;C2<rs.length;C2++){var _2=rs[C2],iM=_2.toLowerCase(),sM=_2[0].toUpperCase()+_2.slice(1);ln(iM,"on"+sM)}ln(ri,"onAnimationEnd"),ln(ba,"onAnimationIteration"),ln(on,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(wa,"onTransitionRun"),ln(Ya,"onTransitionStart"),ln(xs,"onTransitionCancel"),ln(Xs,"onTransitionEnd"),Hn("onMouseEnter",["mouseout","mouseover"]),Hn("onMouseLeave",["mouseout","mouseover"]),Hn("onPointerEnter",["pointerout","pointerover"]),Hn("onPointerLeave",["pointerout","pointerover"]),Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var b0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(b0));function IA(s,l){l=(l&4)!==0;for(var g=0;g<s.length;g++){var w=s[g],O=w.event;w=w.listeners;e:{var L=void 0;if(l)for(var te=w.length-1;0<=te;te--){var Ee=w[te],Ue=Ee.instance,lt=Ee.currentTarget;if(Ee=Ee.listener,Ue!==L&&O.isPropagationStopped())break e;L=Ee,O.currentTarget=lt;try{L(O)}catch(At){Fn(At)}O.currentTarget=null,L=Ue}else for(te=0;te<w.length;te++){if(Ee=w[te],Ue=Ee.instance,lt=Ee.currentTarget,Ee=Ee.listener,Ue!==L&&O.isPropagationStopped())break e;L=Ee,O.currentTarget=lt;try{L(O)}catch(At){Fn(At)}O.currentTarget=null,L=Ue}}}}function hn(s,l){var g=l[xt];g===void 0&&(g=l[xt]=new Set);var w=s+"__bubble";g.has(w)||(DA(l,s,2,!1),g.add(w))}function j2(s,l,g){var w=0;l&&(w|=4),DA(g,s,w,l)}var wp="_reactListening"+Math.random().toString(36).slice(2);function O2(s){if(!s[wp]){s[wp]=!0,Nt.forEach(function(g){g!=="selectionchange"&&(oM.has(g)||j2(g,!1,s),j2(g,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[wp]||(l[wp]=!0,j2("selectionchange",!1,l))}}function DA(s,l,g,w){switch(lN(l)){case 2:var O=LM;break;case 8:O=PM;break;default:O=V2}g=O.bind(null,l,g,s),O=void 0,!Nl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(O=!0),w?O!==void 0?s.addEventListener(l,g,{capture:!0,passive:O}):s.addEventListener(l,g,!0):O!==void 0?s.addEventListener(l,g,{passive:O}):s.addEventListener(l,g,!1)}function T2(s,l,g,w,O){var L=w;if(!(l&1)&&!(l&2)&&w!==null)e:for(;;){if(w===null)return;var te=w.tag;if(te===3||te===4){var Ee=w.stateNode.containerInfo;if(Ee===O)break;if(te===4)for(te=w.return;te!==null;){var Ue=te.tag;if((Ue===3||Ue===4)&&te.stateNode.containerInfo===O)return;te=te.return}for(;Ee!==null;){if(te=Xt(Ee),te===null)return;if(Ue=te.tag,Ue===5||Ue===6||Ue===26||Ue===27){w=L=te;continue e}Ee=Ee.parentNode}}w=w.return}Rc(function(){var lt=L,At=tc(g),It=[];e:{var ft=vs.get(s);if(ft!==void 0){var gt=Da,dr=s;switch(s){case"keypress":if(Bi(g)===0)break e;case"keydown":case"keyup":gt=il;break;case"focusin":dr="focus",gt=Fc;break;case"focusout":dr="blur",gt=Fc;break;case"beforeblur":case"afterblur":gt=Fc;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gt=tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gt=nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gt=xe;break;case ri:case ba:case on:gt=Br;break;case Xs:gt=qe;break;case"scroll":case"scrollend":gt=Bc;break;case"wheel":gt=yt;break;case"copy":case"cut":case"paste":gt=al;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gt=gn;break;case"toggle":case"beforetoggle":gt=Kt}var Ir=(l&4)!==0,na=!Ir&&(s==="scroll"||s==="scrollend"),Je=Ir?ft!==null?ft+"Capture":null:ft;Ir=[];for(var We=lt,ot;We!==null;){var jt=We;if(ot=jt.stateNode,jt=jt.tag,jt!==5&&jt!==26&&jt!==27||ot===null||Je===null||(jt=jr(We,Je),jt!=null&&Ir.push(w0(We,jt,ot))),na)break;We=We.return}0<Ir.length&&(ft=new gt(ft,dr,null,g,At),It.push({event:ft,listeners:Ir}))}}if(!(l&7)){e:{if(ft=s==="mouseover"||s==="pointerover",gt=s==="mouseout"||s==="pointerout",ft&&g!==Rn&&(dr=g.relatedTarget||g.fromElement)&&(Xt(dr)||dr[mt]))break e;if((gt||ft)&&(ft=At.window===At?At:(ft=At.ownerDocument)?ft.defaultView||ft.parentWindow:window,gt?(dr=g.relatedTarget||g.toElement,gt=lt,dr=dr?Xt(dr):null,dr!==null&&(na=i(dr),Ir=dr.tag,dr!==na||Ir!==5&&Ir!==27&&Ir!==6)&&(dr=null)):(gt=null,dr=lt),gt!==dr)){if(Ir=tn,jt="onMouseLeave",Je="onMouseEnter",We="mouse",(s==="pointerout"||s==="pointerover")&&(Ir=gn,jt="onPointerLeave",Je="onPointerEnter",We="pointer"),na=gt==null?ft:Zr(gt),ot=dr==null?ft:Zr(dr),ft=new Ir(jt,We+"leave",gt,g,At),ft.target=na,ft.relatedTarget=ot,jt=null,Xt(At)===lt&&(Ir=new Ir(Je,We+"enter",dr,g,At),Ir.target=ot,Ir.relatedTarget=na,jt=Ir),na=jt,gt&&dr)t:{for(Ir=lM,Je=gt,We=dr,ot=0,jt=Je;jt;jt=Ir(jt))ot++;jt=0;for(var wr=We;wr;wr=Ir(wr))jt++;for(;0<ot-jt;)Je=Ir(Je),ot--;for(;0<jt-ot;)We=Ir(We),jt--;for(;ot--;){if(Je===We||We!==null&&Je===We.alternate){Ir=Je;break t}Je=Ir(Je),We=Ir(We)}Ir=null}else Ir=null;gt!==null&&MA(It,ft,gt,Ir,!1),dr!==null&&na!==null&&MA(It,na,dr,Ir,!0)}}e:{if(ft=lt?Zr(lt):window,gt=ft.nodeName&&ft.nodeName.toLowerCase(),gt==="select"||gt==="input"&&ft.type==="file")var kn=Bn;else if(Cl(ft))if(_l)kn=v;else{kn=d;var gr=o}else gt=ft.nodeName,!gt||gt.toLowerCase()!=="input"||ft.type!=="checkbox"&&ft.type!=="radio"?lt&&en(lt.elementType)&&(kn=Bn):kn=h;if(kn&&(kn=kn(s,lt))){zi(It,kn,g,At);break e}gr&&gr(s,ft,lt),s==="focusout"&&lt&&ft.type==="number"&&lt.memoizedProps.value!=null&&Oe(ft,"number",ft.value)}switch(gr=lt?Zr(lt):window,s){case"focusin":(Cl(gr)||gr.contentEditable==="true")&&(ze=gr,He=lt,Xe=null);break;case"focusout":Xe=He=ze=null;break;case"mousedown":dt=!0;break;case"contextmenu":case"mouseup":case"dragend":dt=!1,Lt(It,g,At);break;case"selectionchange":if(De)break;case"keydown":case"keyup":Lt(It,g,At)}var Qr;if(Or)e:{switch(s){case"compositionstart":var yn="onCompositionStart";break e;case"compositionend":yn="onCompositionEnd";break e;case"compositionupdate":yn="onCompositionUpdate";break e}yn=void 0}else Ni?di(s,g)&&(yn="onCompositionEnd"):s==="keydown"&&g.keyCode===229&&(yn="onCompositionStart");yn&&(ea&&g.locale!=="ko"&&(Ni||yn!=="onCompositionStart"?yn==="onCompositionEnd"&&Ni&&(Qr=Cs()):(Ws=At,Ys="value"in Ws?Ws.value:Ws.textContent,Ni=!0)),gr=Ap(lt,yn),0<gr.length&&(yn=new El(yn,s,null,g,At),It.push({event:yn,listeners:gr}),Qr?yn.data=Qr:(Qr=ua(g),Qr!==null&&(yn.data=Qr)))),(Qr=an?Ma(s,g):gs(s,g))&&(yn=Ap(lt,"onBeforeInput"),0<yn.length&&(gr=new El("onBeforeInput","beforeinput",null,g,At),It.push({event:gr,listeners:yn}),gr.data=Qr)),aM(It,s,lt,g,At)}IA(It,l)})}function w0(s,l,g){return{instance:s,listener:l,currentTarget:g}}function Ap(s,l){for(var g=l+"Capture",w=[];s!==null;){var O=s,L=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||L===null||(O=jr(s,g),O!=null&&w.unshift(w0(s,O,L)),O=jr(s,l),O!=null&&w.push(w0(s,O,L))),s.tag===3)return w;s=s.return}return[]}function lM(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function MA(s,l,g,w,O){for(var L=l._reactName,te=[];g!==null&&g!==w;){var Ee=g,Ue=Ee.alternate,lt=Ee.stateNode;if(Ee=Ee.tag,Ue!==null&&Ue===w)break;Ee!==5&&Ee!==26&&Ee!==27||lt===null||(Ue=lt,O?(lt=jr(g,L),lt!=null&&te.unshift(w0(g,lt,Ue))):O||(lt=jr(g,L),lt!=null&&te.push(w0(g,lt,Ue)))),g=g.return}te.length!==0&&s.push({event:l,listeners:te})}var cM=/\r\n?/g,uM=/\u0000|\uFFFD/g;function LA(s){return(typeof s=="string"?s:""+s).replace(cM,`
`).replace(uM,"")}function PA(s,l){return l=LA(l),LA(s)===l}function ra(s,l,g,w,O,L){switch(g){case"children":typeof w=="string"?l==="body"||l==="textarea"&&w===""||ps(s,w):(typeof w=="number"||typeof w=="bigint")&&l!=="body"&&ps(s,""+w);break;case"className":Ln(s,"class",w);break;case"tabIndex":Ln(s,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(s,g,w);break;case"style":pr(s,w,L);break;case"data":if(l!=="object"){Ln(s,"data",w);break}case"src":case"href":if(w===""&&(l!=="a"||g!=="href")){s.removeAttribute(g);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){s.removeAttribute(g);break}w=Ss(""+w),s.setAttribute(g,w);break;case"action":case"formAction":if(typeof w=="function"){s.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(g==="formAction"?(l!=="input"&&ra(s,l,"name",O.name,O,null),ra(s,l,"formEncType",O.formEncType,O,null),ra(s,l,"formMethod",O.formMethod,O,null),ra(s,l,"formTarget",O.formTarget,O,null)):(ra(s,l,"encType",O.encType,O,null),ra(s,l,"method",O.method,O,null),ra(s,l,"target",O.target,O,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){s.removeAttribute(g);break}w=Ss(""+w),s.setAttribute(g,w);break;case"onClick":w!=null&&(s.onclick=Nn);break;case"onScroll":w!=null&&hn("scroll",s);break;case"onScrollEnd":w!=null&&hn("scrollend",s);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(g=w.__html,g!=null){if(O.children!=null)throw Error(n(60));s.innerHTML=g}}break;case"multiple":s.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":s.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){s.removeAttribute("xlink:href");break}g=Ss(""+w),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?s.setAttribute(g,""+w):s.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?s.setAttribute(g,""):s.removeAttribute(g);break;case"capture":case"download":w===!0?s.setAttribute(g,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?s.setAttribute(g,w):s.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?s.setAttribute(g,w):s.removeAttribute(g);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?s.removeAttribute(g):s.setAttribute(g,w);break;case"popover":hn("beforetoggle",s),hn("toggle",s),Vs(s,"popover",w);break;case"xlinkActuate":Jr(s,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":Jr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":Jr(s,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":Jr(s,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":Jr(s,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":Jr(s,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":Jr(s,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":Jr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":Jr(s,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Vs(s,"is",w);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=so.get(g)||g,Vs(s,g,w))}}function k2(s,l,g,w,O,L){switch(g){case"style":pr(s,w,L);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(g=w.__html,g!=null){if(O.children!=null)throw Error(n(60));s.innerHTML=g}}break;case"children":typeof w=="string"?ps(s,w):(typeof w=="number"||typeof w=="bigint")&&ps(s,""+w);break;case"onScroll":w!=null&&hn("scroll",s);break;case"onScrollEnd":w!=null&&hn("scrollend",s);break;case"onClick":w!=null&&(s.onclick=Nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ui.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(O=g.endsWith("Capture"),l=g.slice(2,O?g.length-7:void 0),L=s[Pe]||null,L=L!=null?L[g]:null,typeof L=="function"&&s.removeEventListener(l,L,O),typeof w=="function")){typeof L!="function"&&L!==null&&(g in s?s[g]=null:s.hasAttribute(g)&&s.removeAttribute(g)),s.addEventListener(l,w,O);break e}g in s?s[g]=w:w===!0?s.setAttribute(g,""):Vs(s,g,w)}}}function ws(s,l,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":hn("error",s),hn("load",s);var w=!1,O=!1,L;for(L in g)if(g.hasOwnProperty(L)){var te=g[L];if(te!=null)switch(L){case"src":w=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:ra(s,l,L,te,g,null)}}O&&ra(s,l,"srcSet",g.srcSet,g,null),w&&ra(s,l,"src",g.src,g,null);return;case"input":hn("invalid",s);var Ee=L=te=O=null,Ue=null,lt=null;for(w in g)if(g.hasOwnProperty(w)){var At=g[w];if(At!=null)switch(w){case"name":O=At;break;case"type":te=At;break;case"checked":Ue=At;break;case"defaultChecked":lt=At;break;case"value":L=At;break;case"defaultValue":Ee=At;break;case"children":case"dangerouslySetInnerHTML":if(At!=null)throw Error(n(137,l));break;default:ra(s,l,w,At,g,null)}}rt(s,L,Ee,Ue,lt,te,O,!1);return;case"select":hn("invalid",s),w=te=L=null;for(O in g)if(g.hasOwnProperty(O)&&(Ee=g[O],Ee!=null))switch(O){case"value":L=Ee;break;case"defaultValue":te=Ee;break;case"multiple":w=Ee;default:ra(s,l,O,Ee,g,null)}l=L,g=te,s.multiple=!!w,l!=null?sr(s,!!w,l,!1):g!=null&&sr(s,!!w,g,!0);return;case"textarea":hn("invalid",s),L=O=w=null;for(te in g)if(g.hasOwnProperty(te)&&(Ee=g[te],Ee!=null))switch(te){case"value":w=Ee;break;case"defaultValue":O=Ee;break;case"children":L=Ee;break;case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(n(91));break;default:ra(s,l,te,Ee,g,null)}Ja(s,w,O,L);return;case"option":for(Ue in g)if(g.hasOwnProperty(Ue)&&(w=g[Ue],w!=null))switch(Ue){case"selected":s.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:ra(s,l,Ue,w,g,null)}return;case"dialog":hn("beforetoggle",s),hn("toggle",s),hn("cancel",s),hn("close",s);break;case"iframe":case"object":hn("load",s);break;case"video":case"audio":for(w=0;w<b0.length;w++)hn(b0[w],s);break;case"image":hn("error",s),hn("load",s);break;case"details":hn("toggle",s);break;case"embed":case"source":case"link":hn("error",s),hn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(lt in g)if(g.hasOwnProperty(lt)&&(w=g[lt],w!=null))switch(lt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:ra(s,l,lt,w,g,null)}return;default:if(en(l)){for(At in g)g.hasOwnProperty(At)&&(w=g[At],w!==void 0&&k2(s,l,At,w,g,void 0));return}}for(Ee in g)g.hasOwnProperty(Ee)&&(w=g[Ee],w!=null&&ra(s,l,Ee,w,g,null))}function dM(s,l,g,w){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,L=null,te=null,Ee=null,Ue=null,lt=null,At=null;for(gt in g){var It=g[gt];if(g.hasOwnProperty(gt)&&It!=null)switch(gt){case"checked":break;case"value":break;case"defaultValue":Ue=It;default:w.hasOwnProperty(gt)||ra(s,l,gt,null,w,It)}}for(var ft in w){var gt=w[ft];if(It=g[ft],w.hasOwnProperty(ft)&&(gt!=null||It!=null))switch(ft){case"type":L=gt;break;case"name":O=gt;break;case"checked":lt=gt;break;case"defaultChecked":At=gt;break;case"value":te=gt;break;case"defaultValue":Ee=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(n(137,l));break;default:gt!==It&&ra(s,l,ft,gt,w,It)}}An(s,te,Ee,Ue,lt,At,L,O);return;case"select":gt=te=Ee=ft=null;for(L in g)if(Ue=g[L],g.hasOwnProperty(L)&&Ue!=null)switch(L){case"value":break;case"multiple":gt=Ue;default:w.hasOwnProperty(L)||ra(s,l,L,null,w,Ue)}for(O in w)if(L=w[O],Ue=g[O],w.hasOwnProperty(O)&&(L!=null||Ue!=null))switch(O){case"value":ft=L;break;case"defaultValue":Ee=L;break;case"multiple":te=L;default:L!==Ue&&ra(s,l,O,L,w,Ue)}l=Ee,g=te,w=gt,ft!=null?sr(s,!!g,ft,!1):!!w!=!!g&&(l!=null?sr(s,!!g,l,!0):sr(s,!!g,g?[]:"",!1));return;case"textarea":gt=ft=null;for(Ee in g)if(O=g[Ee],g.hasOwnProperty(Ee)&&O!=null&&!w.hasOwnProperty(Ee))switch(Ee){case"value":break;case"children":break;default:ra(s,l,Ee,null,w,O)}for(te in w)if(O=w[te],L=g[te],w.hasOwnProperty(te)&&(O!=null||L!=null))switch(te){case"value":ft=O;break;case"defaultValue":gt=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(n(91));break;default:O!==L&&ra(s,l,te,O,w,L)}Pn(s,ft,gt);return;case"option":for(var dr in g)if(ft=g[dr],g.hasOwnProperty(dr)&&ft!=null&&!w.hasOwnProperty(dr))switch(dr){case"selected":s.selected=!1;break;default:ra(s,l,dr,null,w,ft)}for(Ue in w)if(ft=w[Ue],gt=g[Ue],w.hasOwnProperty(Ue)&&ft!==gt&&(ft!=null||gt!=null))switch(Ue){case"selected":s.selected=ft&&typeof ft!="function"&&typeof ft!="symbol";break;default:ra(s,l,Ue,ft,w,gt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ir in g)ft=g[Ir],g.hasOwnProperty(Ir)&&ft!=null&&!w.hasOwnProperty(Ir)&&ra(s,l,Ir,null,w,ft);for(lt in w)if(ft=w[lt],gt=g[lt],w.hasOwnProperty(lt)&&ft!==gt&&(ft!=null||gt!=null))switch(lt){case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(n(137,l));break;default:ra(s,l,lt,ft,w,gt)}return;default:if(en(l)){for(var na in g)ft=g[na],g.hasOwnProperty(na)&&ft!==void 0&&!w.hasOwnProperty(na)&&k2(s,l,na,void 0,w,ft);for(At in w)ft=w[At],gt=g[At],!w.hasOwnProperty(At)||ft===gt||ft===void 0&&gt===void 0||k2(s,l,At,ft,w,gt);return}}for(var Je in g)ft=g[Je],g.hasOwnProperty(Je)&&ft!=null&&!w.hasOwnProperty(Je)&&ra(s,l,Je,null,w,ft);for(It in w)ft=w[It],gt=g[It],!w.hasOwnProperty(It)||ft===gt||ft==null&&gt==null||ra(s,l,It,ft,w,gt)}function RA(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fM(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,g=performance.getEntriesByType("resource"),w=0;w<g.length;w++){var O=g[w],L=O.transferSize,te=O.initiatorType,Ee=O.duration;if(L&&Ee&&RA(te)){for(te=0,Ee=O.responseEnd,w+=1;w<g.length;w++){var Ue=g[w],lt=Ue.startTime;if(lt>Ee)break;var At=Ue.transferSize,It=Ue.initiatorType;At&&RA(It)&&(Ue=Ue.responseEnd,te+=At*(Ue<Ee?1:(Ee-lt)/(Ue-lt)))}if(--w,l+=8*(L+te)/(O.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var I2=null,D2=null;function Np(s){return s.nodeType===9?s:s.ownerDocument}function BA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function FA(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function M2(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var L2=null;function hM(){var s=window.event;return s&&s.type==="popstate"?s===L2?!1:(L2=s,!0):(L2=null,!1)}var zA=typeof setTimeout=="function"?setTimeout:void 0,pM=typeof clearTimeout=="function"?clearTimeout:void 0,UA=typeof Promise=="function"?Promise:void 0,mM=typeof queueMicrotask=="function"?queueMicrotask:typeof UA<"u"?function(s){return UA.resolve(null).then(s).catch(gM)}:zA;function gM(s){setTimeout(function(){throw s})}function Ku(s){return s==="head"}function qA(s,l){var g=l,w=0;do{var O=g.nextSibling;if(s.removeChild(g),O&&O.nodeType===8)if(g=O.data,g==="/$"||g==="/&"){if(w===0){s.removeChild(O),ah(l);return}w--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")w++;else if(g==="html")A0(s.ownerDocument.documentElement);else if(g==="head"){g=s.ownerDocument.head,A0(g);for(var L=g.firstChild;L;){var te=L.nextSibling,Ee=L.nodeName;L[Yt]||Ee==="SCRIPT"||Ee==="STYLE"||Ee==="LINK"&&L.rel.toLowerCase()==="stylesheet"||g.removeChild(L),L=te}}else g==="body"&&A0(s.ownerDocument.body);g=O}while(g);ah(l)}function HA(s,l){var g=s;s=0;do{var w=g.nextSibling;if(g.nodeType===1?l?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(l?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),w&&w.nodeType===8)if(g=w.data,g==="/$"){if(s===0)break;s--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||s++;g=w}while(g)}function P2(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var g=l;switch(l=l.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":P2(g),Vt(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}s.removeChild(g)}}function xM(s,l,g,w){for(;s.nodeType===1;){var O=g;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!w&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(w){if(!s[Yt])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(L=s.getAttribute("rel"),L==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(L!==O.rel||s.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||s.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||s.getAttribute("title")!==(O.title==null?null:O.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(L=s.getAttribute("src"),(L!==(O.src==null?null:O.src)||s.getAttribute("type")!==(O.type==null?null:O.type)||s.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&L&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var L=O.name==null?null:""+O.name;if(O.type==="hidden"&&s.getAttribute("name")===L)return s}else return s;if(s=fl(s.nextSibling),s===null)break}return null}function vM(s,l,g){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!g||(s=fl(s.nextSibling),s===null))return null;return s}function VA(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=fl(s.nextSibling),s===null))return null;return s}function R2(s){return s.data==="$?"||s.data==="$~"}function B2(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function yM(s,l){var g=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||g.readyState!=="loading")l();else{var w=function(){l(),g.removeEventListener("DOMContentLoaded",w)};g.addEventListener("DOMContentLoaded",w),s._reactRetry=w}}function fl(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var F2=null;function GA(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var g=s.data;if(g==="/$"||g==="/&"){if(l===0)return fl(s.nextSibling);l--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||l++}s=s.nextSibling}return null}function WA(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var g=s.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(l===0)return s;l--}else g!=="/$"&&g!=="/&"||l++}s=s.previousSibling}return null}function YA(s,l,g){switch(l=Np(g),s){case"html":if(s=l.documentElement,!s)throw Error(n(452));return s;case"head":if(s=l.head,!s)throw Error(n(453));return s;case"body":if(s=l.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function A0(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Vt(s)}var hl=new Map,$A=new Set;function Sp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var su=oe.d;oe.d={f:bM,r:wM,D:AM,C:NM,L:SM,m:EM,X:_M,S:CM,M:jM};function bM(){var s=su.f(),l=mp();return s||l}function wM(s){var l=er(s);l!==null&&l.tag===5&&l.type==="form"?d4(l):su.r(s)}var th=typeof document>"u"?null:document;function XA(s,l,g){var w=th;if(w&&typeof l=="string"&&l){var O=_r(l);O='link[rel="'+s+'"][href="'+O+'"]',typeof g=="string"&&(O+='[crossorigin="'+g+'"]'),$A.has(O)||($A.add(O),s={rel:s,crossOrigin:g,href:l},w.querySelector(O)===null&&(l=w.createElement("link"),ws(l,"link",s),cn(l),w.head.appendChild(l)))}}function AM(s){su.D(s),XA("dns-prefetch",s,null)}function NM(s,l){su.C(s,l),XA("preconnect",s,l)}function SM(s,l,g){su.L(s,l,g);var w=th;if(w&&s&&l){var O='link[rel="preload"][as="'+_r(l)+'"]';l==="image"&&g&&g.imageSrcSet?(O+='[imagesrcset="'+_r(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(O+='[imagesizes="'+_r(g.imageSizes)+'"]')):O+='[href="'+_r(s)+'"]';var L=O;switch(l){case"style":L=rh(s);break;case"script":L=nh(s)}hl.has(L)||(s=y({rel:"preload",href:l==="image"&&g&&g.imageSrcSet?void 0:s,as:l},g),hl.set(L,s),w.querySelector(O)!==null||l==="style"&&w.querySelector(N0(L))||l==="script"&&w.querySelector(S0(L))||(l=w.createElement("link"),ws(l,"link",s),cn(l),w.head.appendChild(l)))}}function EM(s,l){su.m(s,l);var g=th;if(g&&s){var w=l&&typeof l.as=="string"?l.as:"script",O='link[rel="modulepreload"][as="'+_r(w)+'"][href="'+_r(s)+'"]',L=O;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=nh(s)}if(!hl.has(L)&&(s=y({rel:"modulepreload",href:s},l),hl.set(L,s),g.querySelector(O)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(S0(L)))return}w=g.createElement("link"),ws(w,"link",s),cn(w),g.head.appendChild(w)}}}function CM(s,l,g){su.S(s,l,g);var w=th;if(w&&s){var O=_n(w).hoistableStyles,L=rh(s);l=l||"default";var te=O.get(L);if(!te){var Ee={loading:0,preload:null};if(te=w.querySelector(N0(L)))Ee.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":l},g),(g=hl.get(L))&&z2(s,g);var Ue=te=w.createElement("link");cn(Ue),ws(Ue,"link",s),Ue._p=new Promise(function(lt,At){Ue.onload=lt,Ue.onerror=At}),Ue.addEventListener("load",function(){Ee.loading|=1}),Ue.addEventListener("error",function(){Ee.loading|=2}),Ee.loading|=4,Ep(te,l,w)}te={type:"stylesheet",instance:te,count:1,state:Ee},O.set(L,te)}}}function _M(s,l){su.X(s,l);var g=th;if(g&&s){var w=_n(g).hoistableScripts,O=nh(s),L=w.get(O);L||(L=g.querySelector(S0(O)),L||(s=y({src:s,async:!0},l),(l=hl.get(O))&&U2(s,l),L=g.createElement("script"),cn(L),ws(L,"link",s),g.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},w.set(O,L))}}function jM(s,l){su.M(s,l);var g=th;if(g&&s){var w=_n(g).hoistableScripts,O=nh(s),L=w.get(O);L||(L=g.querySelector(S0(O)),L||(s=y({src:s,async:!0,type:"module"},l),(l=hl.get(O))&&U2(s,l),L=g.createElement("script"),cn(L),ws(L,"link",s),g.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},w.set(O,L))}}function KA(s,l,g,w){var O=(O=ne.current)?Sp(O):null;if(!O)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(l=rh(g.href),g=_n(O).hoistableStyles,w=g.get(l),w||(w={type:"style",instance:null,count:0,state:null},g.set(l,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){s=rh(g.href);var L=_n(O).hoistableStyles,te=L.get(s);if(te||(O=O.ownerDocument||O,te={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(s,te),(L=O.querySelector(N0(s)))&&!L._p&&(te.instance=L,te.state.loading=5),hl.has(s)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},hl.set(s,g),L||OM(O,s,g,te.state))),l&&w===null)throw Error(n(528,""));return te}if(l&&w!==null)throw Error(n(529,""));return null;case"script":return l=g.async,g=g.src,typeof g=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=nh(g),g=_n(O).hoistableScripts,w=g.get(l),w||(w={type:"script",instance:null,count:0,state:null},g.set(l,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function rh(s){return'href="'+_r(s)+'"'}function N0(s){return'link[rel="stylesheet"]['+s+"]"}function QA(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function OM(s,l,g,w){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?w.loading=1:(l=s.createElement("link"),w.preload=l,l.addEventListener("load",function(){return w.loading|=1}),l.addEventListener("error",function(){return w.loading|=2}),ws(l,"link",g),cn(l),s.head.appendChild(l))}function nh(s){return'[src="'+_r(s)+'"]'}function S0(s){return"script[async]"+s}function ZA(s,l,g){if(l.count++,l.instance===null)switch(l.type){case"style":var w=s.querySelector('style[data-href~="'+_r(g.href)+'"]');if(w)return l.instance=w,cn(w),w;var O=y({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return w=(s.ownerDocument||s).createElement("style"),cn(w),ws(w,"style",O),Ep(w,g.precedence,s),l.instance=w;case"stylesheet":O=rh(g.href);var L=s.querySelector(N0(O));if(L)return l.state.loading|=4,l.instance=L,cn(L),L;w=QA(g),(O=hl.get(O))&&z2(w,O),L=(s.ownerDocument||s).createElement("link"),cn(L);var te=L;return te._p=new Promise(function(Ee,Ue){te.onload=Ee,te.onerror=Ue}),ws(L,"link",w),l.state.loading|=4,Ep(L,g.precedence,s),l.instance=L;case"script":return L=nh(g.src),(O=s.querySelector(S0(L)))?(l.instance=O,cn(O),O):(w=g,(O=hl.get(L))&&(w=y({},g),U2(w,O)),s=s.ownerDocument||s,O=s.createElement("script"),cn(O),ws(O,"link",w),s.head.appendChild(O),l.instance=O);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&!(l.state.loading&4)&&(w=l.instance,l.state.loading|=4,Ep(w,g.precedence,s));return l.instance}function Ep(s,l,g){for(var w=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=w.length?w[w.length-1]:null,L=O,te=0;te<w.length;te++){var Ee=w[te];if(Ee.dataset.precedence===l)L=Ee;else if(L!==O)break}L?L.parentNode.insertBefore(s,L.nextSibling):(l=g.nodeType===9?g.head:g,l.insertBefore(s,l.firstChild))}function z2(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function U2(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Cp=null;function JA(s,l,g){if(Cp===null){var w=new Map,O=Cp=new Map;O.set(g,w)}else O=Cp,w=O.get(g),w||(w=new Map,O.set(g,w));if(w.has(s))return w;for(w.set(s,null),g=g.getElementsByTagName(s),O=0;O<g.length;O++){var L=g[O];if(!(L[Yt]||L[Ft]||s==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var te=L.getAttribute(l)||"";te=s+te;var Ee=w.get(te);Ee?Ee.push(L):w.set(te,[L])}}return w}function eN(s,l,g){s=s.ownerDocument||s,s.head.insertBefore(g,l==="title"?s.querySelector("head > title"):null)}function TM(s,l,g){if(g===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function tN(s){return!(s.type==="stylesheet"&&!(s.state.loading&3))}function kM(s,l,g,w){if(g.type==="stylesheet"&&(typeof w.media!="string"||matchMedia(w.media).matches!==!1)&&!(g.state.loading&4)){if(g.instance===null){var O=rh(w.href),L=l.querySelector(N0(O));if(L){l=L._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=_p.bind(s),l.then(s,s)),g.state.loading|=4,g.instance=L,cn(L);return}L=l.ownerDocument||l,w=QA(w),(O=hl.get(O))&&z2(w,O),L=L.createElement("link"),cn(L);var te=L;te._p=new Promise(function(Ee,Ue){te.onload=Ee,te.onerror=Ue}),ws(L,"link",w),g.instance=L}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(g,l),(l=g.state.preload)&&!(g.state.loading&3)&&(s.count++,g=_p.bind(s),l.addEventListener("load",g),l.addEventListener("error",g))}}var q2=0;function IM(s,l){return s.stylesheets&&s.count===0&&Op(s,s.stylesheets),0<s.count||0<s.imgCount?function(g){var w=setTimeout(function(){if(s.stylesheets&&Op(s,s.stylesheets),s.unsuspend){var L=s.unsuspend;s.unsuspend=null,L()}},6e4+l);0<s.imgBytes&&q2===0&&(q2=62500*fM());var O=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Op(s,s.stylesheets),s.unsuspend)){var L=s.unsuspend;s.unsuspend=null,L()}},(s.imgBytes>q2?50:800)+l);return s.unsuspend=g,function(){s.unsuspend=null,clearTimeout(w),clearTimeout(O)}}:null}function _p(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Op(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var jp=null;function Op(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,jp=new Map,l.forEach(DM,s),jp=null,_p.call(s))}function DM(s,l){if(!(l.state.loading&4)){var g=jp.get(s);if(g)var w=g.get(null);else{g=new Map,jp.set(s,g);for(var O=s.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<O.length;L++){var te=O[L];(te.nodeName==="LINK"||te.getAttribute("media")!=="not all")&&(g.set(te.dataset.precedence,te),w=te)}w&&g.set(null,w)}O=l.instance,te=O.getAttribute("data-precedence"),L=g.get(te)||w,L===w&&g.set(null,O),g.set(te,O),this.count++,w=_p.bind(this),O.addEventListener("load",w),O.addEventListener("error",w),L?L.parentNode.insertBefore(O,L.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(O,s.firstChild)),l.state.loading|=4}}var E0={$$typeof:F,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function MM(s,l,g,w,O,L,te,Ee,Ue){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oa(0),this.hiddenUpdates=oa(null),this.identifierPrefix=w,this.onUncaughtError=O,this.onCaughtError=L,this.onRecoverableError=te,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ue,this.incompleteTransitions=new Map}function rN(s,l,g,w,O,L,te,Ee,Ue,lt,At,It){return s=new MM(s,l,g,te,Ue,lt,At,It,Ee),l=1,L===!0&&(l|=24),L=as(3,null,null,l),s.current=L,L.stateNode=s,l=Bu(),l.refCount++,s.pooledCache=l,l.refCount++,L.memoizedState={element:w,isDehydrated:g,cache:l},zn(L),s}function nN(s){return s?(s=Ui,s):Ui}function aN(s,l,g,w,O,L){O=nN(O),w.context===null?w.context=O:w.pendingContext=O,w=kr(l),w.payload={element:g},L=L===void 0?null:L,L!==null&&(w.callback=L),g=Yn(s,w,l),g!==null&&(Eo(g,s,l),Si(g,s,l))}function iN(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var g=s.retryLane;s.retryLane=g!==0&&g<l?g:l}}function H2(s,l){iN(s,l),(s=s.alternate)&&iN(s,l)}function sN(s){if(s.tag===13||s.tag===31){var l=Ol(s,67108864);l!==null&&Eo(l,s,67108864),H2(s,67108864)}}function oN(s){if(s.tag===13||s.tag===31){var l=Vo();l=Wr(l);var g=Ol(s,l);g!==null&&Eo(g,s,l),H2(s,l)}}var Tp=!0;function LM(s,l,g,w){var O=ie.T;ie.T=null;var L=oe.p;try{oe.p=2,V2(s,l,g,w)}finally{oe.p=L,ie.T=O}}function PM(s,l,g,w){var O=ie.T;ie.T=null;var L=oe.p;try{oe.p=8,V2(s,l,g,w)}finally{oe.p=L,ie.T=O}}function V2(s,l,g,w){if(Tp){var O=G2(w);if(O===null)T2(s,l,w,kp,g),cN(s,w);else if(BM(O,s,l,g,w))w.stopPropagation();else if(cN(s,w),l&4&&-1<RM.indexOf(s)){for(;O!==null;){var L=er(O);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var te=sn(L.pendingLanes);if(te!==0){var Ee=L;for(Ee.pendingLanes|=2,Ee.entangledLanes|=2;te;){var Ue=1<<31-Jt(te);Ee.entanglements[1]|=Ue,te&=~Ue}xc(L),!(Un&6)&&(hp=qt()+500,y0(0))}}break;case 31:case 13:Ee=Ol(L,2),Ee!==null&&Eo(Ee,L,2),mp(),H2(L,2)}if(L=G2(w),L===null&&T2(s,l,w,kp,g),L===O)break;O=L}O!==null&&w.stopPropagation()}else T2(s,l,w,null,g)}}function G2(s){return s=tc(s),W2(s)}var kp=null;function W2(s){if(kp=null,s=Xt(s),s!==null){var l=i(s);if(l===null)s=null;else{var g=l.tag;if(g===13){if(s=c(l),s!==null)return s;s=null}else if(g===31){if(s=f(l),s!==null)return s;s=null}else if(g===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return kp=s,null}function lN(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wt()){case tr:return 2;case Bt:return 8;case lr:case Qt:return 32;case Er:return 268435456;default:return 32}default:return 32}}var Y2=!1,Qu=null,Zu=null,Ju=null,C0=new Map,_0=new Map,ed=[],RM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cN(s,l){switch(s){case"focusin":case"focusout":Qu=null;break;case"dragenter":case"dragleave":Zu=null;break;case"mouseover":case"mouseout":Ju=null;break;case"pointerover":case"pointerout":C0.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":_0.delete(l.pointerId)}}function j0(s,l,g,w,O,L){return s===null||s.nativeEvent!==L?(s={blockedOn:l,domEventName:g,eventSystemFlags:w,nativeEvent:L,targetContainers:[O]},l!==null&&(l=er(l),l!==null&&sN(l)),s):(s.eventSystemFlags|=w,l=s.targetContainers,O!==null&&l.indexOf(O)===-1&&l.push(O),s)}function BM(s,l,g,w,O){switch(l){case"focusin":return Qu=j0(Qu,s,l,g,w,O),!0;case"dragenter":return Zu=j0(Zu,s,l,g,w,O),!0;case"mouseover":return Ju=j0(Ju,s,l,g,w,O),!0;case"pointerover":var L=O.pointerId;return C0.set(L,j0(C0.get(L)||null,s,l,g,w,O)),!0;case"gotpointercapture":return L=O.pointerId,_0.set(L,j0(_0.get(L)||null,s,l,g,w,O)),!0}return!1}function uN(s){var l=Xt(s.target);if(l!==null){var g=i(l);if(g!==null){if(l=g.tag,l===13){if(l=c(g),l!==null){s.blockedOn=l,tt(s.priority,function(){oN(g)});return}}else if(l===31){if(l=f(g),l!==null){s.blockedOn=l,tt(s.priority,function(){oN(g)});return}}else if(l===3&&g.stateNode.current.memoizedState.isDehydrated){s.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ip(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var g=G2(s.nativeEvent);if(g===null){g=s.nativeEvent;var w=new g.constructor(g.type,g);Rn=w,g.target.dispatchEvent(w),Rn=null}else return l=er(g),l!==null&&sN(l),s.blockedOn=g,!1;l.shift()}return!0}function dN(s,l,g){Ip(s)&&g.delete(l)}function FM(){Y2=!1,Qu!==null&&Ip(Qu)&&(Qu=null),Zu!==null&&Ip(Zu)&&(Zu=null),Ju!==null&&Ip(Ju)&&(Ju=null),C0.forEach(dN),_0.forEach(dN)}function Dp(s,l){s.blockedOn===l&&(s.blockedOn=null,Y2||(Y2=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,FM)))}var Mp=null;function fN(s){Mp!==s&&(Mp=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Mp===s&&(Mp=null);for(var l=0;l<s.length;l+=3){var g=s[l],w=s[l+1],O=s[l+2];if(typeof w!="function"){if(W2(w||g)===null)continue;break}var L=er(g);L!==null&&(s.splice(l,3),l-=3,Gx(L,{pending:!0,data:O,method:g.method,action:w},w,O))}}))}function ah(s){function l(Ue){return Dp(Ue,s)}Qu!==null&&Dp(Qu,s),Zu!==null&&Dp(Zu,s),Ju!==null&&Dp(Ju,s),C0.forEach(l),_0.forEach(l);for(var g=0;g<ed.length;g++){var w=ed[g];w.blockedOn===s&&(w.blockedOn=null)}for(;0<ed.length&&(g=ed[0],g.blockedOn===null);)uN(g),g.blockedOn===null&&ed.shift();if(g=(s.ownerDocument||s).$$reactFormReplay,g!=null)for(w=0;w<g.length;w+=3){var O=g[w],L=g[w+1],te=O[Pe]||null;if(typeof L=="function")te||fN(g);else if(te){var Ee=null;if(L&&L.hasAttribute("formAction")){if(O=L,te=L[Pe]||null)Ee=te.formAction;else if(W2(O)!==null)continue}else Ee=te.action;typeof Ee=="function"?g[w+1]=Ee:(g.splice(w,3),w-=3),fN(g)}}}function hN(){function s(L){L.canIntercept&&L.info==="react-transition"&&L.intercept({handler:function(){return new Promise(function(te){return O=te})},focusReset:"manual",scroll:"manual"})}function l(){O!==null&&(O(),O=null),w||setTimeout(g,20)}function g(){if(!w&&!navigation.transition){var L=navigation.currentEntry;L&&L.url!=null&&navigation.navigate(L.url,{state:L.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var w=!1,O=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(g,100),function(){w=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),O!==null&&(O(),O=null)}}}function $2(s){this._internalRoot=s}Lp.prototype.render=$2.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));var g=l.current,w=Vo();aN(g,w,s,l,null,null)},Lp.prototype.unmount=$2.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;aN(s.current,2,null,s,null,null),mp(),l[mt]=null}};function Lp(s){this._internalRoot=s}Lp.prototype.unstable_scheduleHydration=function(s){if(s){var l=Ot();s={blockedOn:null,target:s,priority:l};for(var g=0;g<ed.length&&l!==0&&l<ed[g].priority;g++);ed.splice(g,0,s),g===0&&uN(s)}};var pN=t.version;if(pN!=="19.2.0")throw Error(n(527,pN,"19.2.0"));oe.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=p(l),s=s!==null?x(s):null,s=s===null?null:s.stateNode,s};var zM={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pp.isDisabled&&Pp.supportsFiber)try{Ht=Pp.inject(zM),Ct=Pp}catch{}}return T0.createRoot=function(s,l){if(!a(s))throw Error(n(299));var g=!1,w="",O=w4,L=A4,te=N4;return l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(w=l.identifierPrefix),l.onUncaughtError!==void 0&&(O=l.onUncaughtError),l.onCaughtError!==void 0&&(L=l.onCaughtError),l.onRecoverableError!==void 0&&(te=l.onRecoverableError)),l=rN(s,1,!1,null,null,g,w,null,O,L,te,hN),s[mt]=l.current,O2(s),new $2(l)},T0.hydrateRoot=function(s,l,g){if(!a(s))throw Error(n(299));var w=!1,O="",L=w4,te=A4,Ee=N4,Ue=null;return g!=null&&(g.unstable_strictMode===!0&&(w=!0),g.identifierPrefix!==void 0&&(O=g.identifierPrefix),g.onUncaughtError!==void 0&&(L=g.onUncaughtError),g.onCaughtError!==void 0&&(te=g.onCaughtError),g.onRecoverableError!==void 0&&(Ee=g.onRecoverableError),g.formState!==void 0&&(Ue=g.formState)),l=rN(s,1,!0,l,g??null,w,O,Ue,L,te,Ee,hN),l.context=nN(null),g=l.current,w=Vo(),w=Wr(w),O=kr(w),O.callback=null,Yn(g,O,w),g=w,l.current.lanes=g,la(l,g),xc(l),s[mt]=l.current,O2(s),new Lp(l)},T0.version="19.2.0",T0}var SN;function QM(){if(SN)return Z2.exports;SN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Z2.exports=KM(),Z2.exports}var ZM=QM(),rv={exports:{}},nv={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EN;function JM(){if(EN)return nv;EN=1;var e=Nf().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return nv.c=function(t){return e.H.useMemoCache(t)},nv}var CN;function eL(){return CN||(CN=1,rv.exports=JM()),rv.exports}var Ia=eL(),y1=U_();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e1.apply(this,arguments)}var dd;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(dd||(dd={}));const _N="popstate";function tL(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:c,hash:f}=n.location;return rb("",{pathname:i,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:jm(a)}return nL(t,r,null,e)}function xi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function P5(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rL(){return Math.random().toString(36).substr(2,8)}function jN(e,t){return{usr:e.state,key:e.key,idx:t}}function rb(e,t,r,n){return r===void 0&&(r=null),e1({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mh(t):t,{state:r,key:t&&t.key||n||rL()})}function jm(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Mh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function nL(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,c=a.history,f=dd.Pop,m=null,p=x();p==null&&(p=0,c.replaceState(e1({},c.state,{idx:p}),""));function x(){return(c.state||{idx:null}).idx}function y(){f=dd.Pop;let T=x(),I=T==null?null:T-p;p=T,m&&m({action:f,location:_.location,delta:I})}function S(T,I){f=dd.Push;let R=rb(_.location,T,I);p=x()+1;let F=jN(R,p),G=_.createHref(R);try{c.pushState(F,"",G)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;a.location.assign(G)}i&&m&&m({action:f,location:_.location,delta:1})}function N(T,I){f=dd.Replace;let R=rb(_.location,T,I);p=x();let F=jN(R,p),G=_.createHref(R);c.replaceState(F,"",G),i&&m&&m({action:f,location:_.location,delta:0})}function j(T){let I=a.location.origin!=="null"?a.location.origin:a.location.href,R=typeof T=="string"?T:jm(T);return R=R.replace(/ $/,"%20"),xi(I,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,I)}let _={get action(){return f},get location(){return e(a,c)},listen(T){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(_N,y),m=T,()=>{a.removeEventListener(_N,y),m=null}},createHref(T){return t(a,T)},createURL:j,encodeLocation(T){let I=j(T);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:S,replace:N,go(T){return c.go(T)}};return _}var ON;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ON||(ON={}));function aL(e,t,r){return r===void 0&&(r="/"),iL(e,t,r)}function iL(e,t,r,n){let a=typeof t=="string"?Mh(t):t,i=R5(a.pathname||"/",r);if(i==null)return null;let c=q_(e);sL(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=vL(i);f=mL(c[m],p)}return f}function q_(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,c,f)=>{let m={relativePath:f===void 0?i.path||"":f,caseSensitive:i.caseSensitive===!0,childrenIndex:c,route:i};m.relativePath.startsWith("/")&&(xi(m.relativePath.startsWith(n),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(n.length));let p=xd([n,m.relativePath]),x=r.concat(m);i.children&&i.children.length>0&&(xi(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),q_(i.children,t,x,p)),!(i.path==null&&!i.index)&&t.push({path:p,score:hL(p,i.index),routesMeta:x})};return e.forEach((i,c)=>{var f;if(i.path===""||!((f=i.path)!=null&&f.includes("?")))a(i,c);else for(let m of H_(i.path))a(i,c,m)}),t}function H_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let c=H_(n.join("/")),f=[];return f.push(...c.map(m=>m===""?i:[i,m].join("/"))),a&&f.push(...c),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function sL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:pL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const oL=/^:[\w-]+$/,lL=3,cL=2,uL=1,dL=10,fL=-2,TN=e=>e==="*";function hL(e,t){let r=e.split("/"),n=r.length;return r.some(TN)&&(n+=fL),t&&(n+=cL),r.filter(a=>!TN(a)).reduce((a,i)=>a+(oL.test(i)?lL:i===""?uL:dL),n)}function pL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function mL(e,t,r){let{routesMeta:n}=e,a={},i="/",c=[];for(let f=0;f<n.length;++f){let m=n[f],p=f===n.length-1,x=i==="/"?t:t.slice(i.length)||"/",y=gL({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},x),S=m.route;if(!y)return null;Object.assign(a,y.params),c.push({params:a,pathname:xd([i,y.pathname]),pathnameBase:NL(xd([i,y.pathnameBase])),route:S}),y.pathnameBase!=="/"&&(i=xd([i,y.pathnameBase]))}return c}function gL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=xL(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],c=i.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:n.reduce((p,x,y)=>{let{paramName:S,isOptional:N}=x;if(S==="*"){let _=f[y]||"";c=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const j=f[y];return N&&!j?p[S]=void 0:p[S]=(j||"").replace(/%2F/g,"/"),p},{}),pathname:i,pathnameBase:c,pattern:e}}function xL(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),P5(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(n.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function vL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return P5(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function R5(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const yL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bL=e=>yL.test(e);function wL(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Mh(e):e,i;if(r)if(bL(r))i=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),P5(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+r))}r.startsWith("/")?i=kN(r.substring(1),"/"):i=kN(r,t)}else i=t;return{pathname:i,search:SL(n),hash:EL(a)}}function kN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function av(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AL(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function B5(e,t){let r=AL(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function F5(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Mh(e):(a=e1({},e),xi(!a.pathname||!a.pathname.includes("?"),av("?","pathname","search",a)),xi(!a.pathname||!a.pathname.includes("#"),av("#","pathname","hash",a)),xi(!a.search||!a.search.includes("#"),av("#","search","hash",a)));let i=e===""||a.pathname==="",c=i?"/":a.pathname,f;if(c==null)f=r;else{let y=t.length-1;if(!n&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),y-=1;a.pathname=S.join("/")}f=y>=0?t[y]:"/"}let m=wL(a,f),p=c&&c!=="/"&&c.endsWith("/"),x=(i||c===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(p||x)&&(m.pathname+="/"),m}const xd=e=>e.join("/").replace(/\/\/+/g,"/"),NL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),SL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,EL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function CL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const V_=["post","put","patch","delete"];new Set(V_);const _L=["get",...V_];new Set(_L);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function t1(){return t1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t1.apply(this,arguments)}const z5=M.createContext(null),jL=M.createContext(null),Td=M.createContext(null),Ig=M.createContext(null),Nu=M.createContext({outlet:null,matches:[],isDataRoute:!1}),G_=M.createContext(null);function OL(e,t){let{relative:r}=t===void 0?{}:t;Lh()||xi(!1);let{basename:n,navigator:a}=M.useContext(Td),{hash:i,pathname:c,search:f}=$_(e,{relative:r}),m=c;return n!=="/"&&(m=c==="/"?n:xd([n,c])),a.createHref({pathname:m,search:f,hash:i})}function Lh(){return M.useContext(Ig)!=null}function kd(){return Lh()||xi(!1),M.useContext(Ig).location}function W_(e){M.useContext(Td).static||M.useLayoutEffect(e)}function Ha(){let{isDataRoute:e}=M.useContext(Nu);return e?qL():TL()}function TL(){Lh()||xi(!1);let e=M.useContext(z5),{basename:t,future:r,navigator:n}=M.useContext(Td),{matches:a}=M.useContext(Nu),{pathname:i}=kd(),c=JSON.stringify(B5(a,r.v7_relativeSplatPath)),f=M.useRef(!1);return W_(()=>{f.current=!0}),M.useCallback(function(p,x){if(x===void 0&&(x={}),!f.current)return;if(typeof p=="number"){n.go(p);return}let y=F5(p,JSON.parse(c),i,x.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:xd([t,y.pathname])),(x.replace?n.replace:n.push)(y,x.state,x)},[t,n,c,i,e])}function Y_(){let{matches:e}=M.useContext(Nu),t=e[e.length-1];return t?t.params:{}}function $_(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=M.useContext(Td),{matches:a}=M.useContext(Nu),{pathname:i}=kd(),c=JSON.stringify(B5(a,n.v7_relativeSplatPath));return M.useMemo(()=>F5(e,JSON.parse(c),i,r==="path"),[e,c,i,r])}function kL(e,t){return IL(e,t)}function IL(e,t,r,n){Lh()||xi(!1);let{navigator:a}=M.useContext(Td),{matches:i}=M.useContext(Nu),c=i[i.length-1],f=c?c.params:{};c&&c.pathname;let m=c?c.pathnameBase:"/";c&&c.route;let p=kd(),x;if(t){var y;let T=typeof t=="string"?Mh(t):t;m==="/"||(y=T.pathname)!=null&&y.startsWith(m)||xi(!1),x=T}else x=p;let S=x.pathname||"/",N=S;if(m!=="/"){let T=m.replace(/^\//,"").split("/");N="/"+S.replace(/^\//,"").split("/").slice(T.length).join("/")}let j=aL(e,{pathname:N}),_=RL(j&&j.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:xd([m,a.encodeLocation?a.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:xd([m,a.encodeLocation?a.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,r,n);return t&&_?M.createElement(Ig.Provider,{value:{location:t1({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:dd.Pop}},_):_}function DL(){let e=UL(),t=CL(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),r?M.createElement("pre",{style:a},r):null,null)}const ML=M.createElement(DL,null);class LL extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?M.createElement(Nu.Provider,{value:this.props.routeContext},M.createElement(G_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PL(e){let{routeContext:t,match:r,children:n}=e,a=M.useContext(z5);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),M.createElement(Nu.Provider,{value:t},n)}function RL(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,f=(a=r)==null?void 0:a.errors;if(f!=null){let x=c.findIndex(y=>y.route.id&&(f==null?void 0:f[y.route.id])!==void 0);x>=0||xi(!1),c=c.slice(0,Math.min(c.length,x+1))}let m=!1,p=-1;if(r&&n&&n.v7_partialHydration)for(let x=0;x<c.length;x++){let y=c[x];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=x),y.route.id){let{loaderData:S,errors:N}=r,j=y.route.loader&&S[y.route.id]===void 0&&(!N||N[y.route.id]===void 0);if(y.route.lazy||j){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((x,y,S)=>{let N,j=!1,_=null,T=null;r&&(N=f&&y.route.id?f[y.route.id]:void 0,_=y.route.errorElement||ML,m&&(p<0&&S===0?(HL("route-fallback"),j=!0,T=null):p===S&&(j=!0,T=y.route.hydrateFallbackElement||null)));let I=t.concat(c.slice(0,S+1)),R=()=>{let F;return N?F=_:j?F=T:y.route.Component?F=M.createElement(y.route.Component,null):y.route.element?F=y.route.element:F=x,M.createElement(PL,{match:y,routeContext:{outlet:x,matches:I,isDataRoute:r!=null},children:F})};return r&&(y.route.ErrorBoundary||y.route.errorElement||S===0)?M.createElement(LL,{location:r.location,revalidation:r.revalidation,component:_,error:N,children:R(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):R()},null)}var X_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(X_||{}),K_=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(K_||{});function BL(e){let t=M.useContext(z5);return t||xi(!1),t}function FL(e){let t=M.useContext(jL);return t||xi(!1),t}function zL(e){let t=M.useContext(Nu);return t||xi(!1),t}function Q_(e){let t=zL(),r=t.matches[t.matches.length-1];return r.route.id||xi(!1),r.route.id}function UL(){var e;let t=M.useContext(G_),r=FL(),n=Q_();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function qL(){let{router:e}=BL(X_.UseNavigateStable),t=Q_(K_.UseNavigateStable),r=M.useRef(!1);return W_(()=>{r.current=!0}),M.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,t1({fromRouteId:t},i)))},[e,t])}const IN={};function HL(e,t,r){IN[e]||(IN[e]=!0)}function VL(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function fd(e){let{to:t,replace:r,state:n,relative:a}=e;Lh()||xi(!1);let{future:i,static:c}=M.useContext(Td),{matches:f}=M.useContext(Nu),{pathname:m}=kd(),p=Ha(),x=F5(t,B5(f,i.v7_relativeSplatPath),m,a==="path"),y=JSON.stringify(x);return M.useEffect(()=>p(JSON.parse(y),{replace:r,state:n,relative:a}),[p,y,a,r,n]),null}function Wn(e){xi(!1)}function GL(e){let{basename:t="/",children:r=null,location:n,navigationType:a=dd.Pop,navigator:i,static:c=!1,future:f}=e;Lh()&&xi(!1);let m=t.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:m,navigator:i,static:c,future:t1({v7_relativeSplatPath:!1},f)}),[m,f,i,c]);typeof n=="string"&&(n=Mh(n));let{pathname:x="/",search:y="",hash:S="",state:N=null,key:j="default"}=n,_=M.useMemo(()=>{let T=R5(x,m);return T==null?null:{location:{pathname:T,search:y,hash:S,state:N,key:j},navigationType:a}},[m,x,y,S,N,j,a]);return _==null?null:M.createElement(Td.Provider,{value:p},M.createElement(Ig.Provider,{children:r,value:_}))}function WL(e){let{children:t,location:r}=e;return kL(nb(t),r)}new Promise(()=>{});function nb(e,t){t===void 0&&(t=[]);let r=[];return M.Children.forEach(e,(n,a)=>{if(!M.isValidElement(n))return;let i=[...t,a];if(n.type===M.Fragment){r.push.apply(r,nb(n.props.children,i));return}n.type!==Wn&&xi(!1),!n.props.index||!n.props.children||xi(!1);let c={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=nb(n.props.children,i)),r.push(c)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ab.apply(this,arguments)}function YL(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function $L(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XL(e,t){return e.button===0&&(!t||t==="_self")&&!$L(e)}const KL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QL="6";try{window.__reactRouterVersion=QL}catch{}const ZL="startTransition",DN=z_[ZL];function JL(e){let{basename:t,children:r,future:n,window:a}=e,i=M.useRef();i.current==null&&(i.current=tL({window:a,v5Compat:!0}));let c=i.current,[f,m]=M.useState({action:c.action,location:c.location}),{v7_startTransition:p}=n||{},x=M.useCallback(y=>{p&&DN?DN(()=>m(y)):m(y)},[m,p]);return M.useLayoutEffect(()=>c.listen(x),[c,x]),M.useEffect(()=>VL(n),[n]),M.createElement(GL,{basename:t,children:r,location:f.location,navigationType:f.action,navigator:c,future:n})}const eP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ii=M.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:c,state:f,target:m,to:p,preventScrollReset:x,viewTransition:y}=t,S=YL(t,KL),{basename:N}=M.useContext(Td),j,_=!1;if(typeof p=="string"&&tP.test(p)&&(j=p,eP))try{let F=new URL(window.location.href),G=p.startsWith("//")?new URL(F.protocol+p):new URL(p),Y=R5(G.pathname,N);G.origin===F.origin&&Y!=null?p=Y+G.search+G.hash:_=!0}catch{}let T=OL(p,{relative:a}),I=rP(p,{replace:c,state:f,target:m,preventScrollReset:x,relative:a,viewTransition:y});function R(F){n&&n(F),F.defaultPrevented||I(F)}return M.createElement("a",ab({},S,{href:j||T,onClick:_||i?n:R,ref:r,target:m}))});var MN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(MN||(MN={}));var LN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(LN||(LN={}));function rP(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:c,viewTransition:f}=t===void 0?{}:t,m=Ha(),p=kd(),x=$_(e,{relative:c});return M.useCallback(y=>{if(XL(y,r)){y.preventDefault();let S=n!==void 0?n:jm(p)===jm(x);m(e,{replace:S,state:a,preventScrollReset:i,relative:c,viewTransition:f})}},[p,m,x,n,a,r,e,i,c,f])}function Z_(e,t){return function(){return e.apply(t,arguments)}}const{toString:nP}=Object.prototype,{getPrototypeOf:U5}=Object,{iterator:Dg,toStringTag:J_}=Symbol,Mg=(e=>t=>{const r=nP.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Xl=e=>(e=e.toLowerCase(),t=>Mg(t)===e),Lg=e=>t=>typeof t===e,{isArray:Ph}=Array,Ch=Lg("undefined");function b1(e){return e!==null&&!Ch(e)&&e.constructor!==null&&!Ch(e.constructor)&&_o(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ej=Xl("ArrayBuffer");function aP(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ej(e.buffer),t}const iP=Lg("string"),_o=Lg("function"),tj=Lg("number"),w1=e=>e!==null&&typeof e=="object",sP=e=>e===!0||e===!1,dm=e=>{if(Mg(e)!=="object")return!1;const t=U5(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(J_ in e)&&!(Dg in e)},oP=e=>{if(!w1(e)||b1(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},lP=Xl("Date"),cP=Xl("File"),uP=Xl("Blob"),dP=Xl("FileList"),fP=e=>w1(e)&&_o(e.pipe),hP=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||_o(e.append)&&((t=Mg(e))==="formdata"||t==="object"&&_o(e.toString)&&e.toString()==="[object FormData]"))},pP=Xl("URLSearchParams"),[mP,gP,xP,vP]=["ReadableStream","Request","Response","Headers"].map(Xl),yP=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function A1(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Ph(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(b1(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),c=i.length;let f;for(n=0;n<c;n++)f=i[n],t.call(null,e[f],f,e)}}function rj(e,t){if(b1(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Jd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nj=e=>!Ch(e)&&e!==Jd;function ib(){const{caseless:e,skipUndefined:t}=nj(this)&&this||{},r={},n=(a,i)=>{const c=e&&rj(r,i)||i;dm(r[c])&&dm(a)?r[c]=ib(r[c],a):dm(a)?r[c]=ib({},a):Ph(a)?r[c]=a.slice():(!t||!Ch(a))&&(r[c]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&A1(arguments[a],n);return r}const bP=(e,t,r,{allOwnKeys:n}={})=>(A1(t,(a,i)=>{r&&_o(a)?e[i]=Z_(a,r):e[i]=a},{allOwnKeys:n}),e),wP=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),AP=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},NP=(e,t,r,n)=>{let a,i,c;const f={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)c=a[i],(!n||n(c,e,t))&&!f[c]&&(t[c]=e[c],f[c]=!0);e=r!==!1&&U5(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},SP=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},EP=e=>{if(!e)return null;if(Ph(e))return e;let t=e.length;if(!tj(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},CP=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&U5(Uint8Array)),_P=(e,t)=>{const n=(e&&e[Dg]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},jP=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},OP=Xl("HTMLFormElement"),TP=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),PN=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),kP=Xl("RegExp"),aj=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};A1(r,(a,i)=>{let c;(c=t(a,i,e))!==!1&&(n[i]=c||a)}),Object.defineProperties(e,n)},IP=e=>{aj(e,(t,r)=>{if(_o(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(_o(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},DP=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return Ph(e)?n(e):n(String(e).split(t)),r},MP=()=>{},LP=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function PP(e){return!!(e&&_o(e.append)&&e[J_]==="FormData"&&e[Dg])}const RP=e=>{const t=new Array(10),r=(n,a)=>{if(w1(n)){if(t.indexOf(n)>=0)return;if(b1(n))return n;if(!("toJSON"in n)){t[a]=n;const i=Ph(n)?[]:{};return A1(n,(c,f)=>{const m=r(c,a+1);!Ch(m)&&(i[f]=m)}),t[a]=void 0,i}}return n};return r(e,0)},BP=Xl("AsyncFunction"),FP=e=>e&&(w1(e)||_o(e))&&_o(e.then)&&_o(e.catch),ij=((e,t)=>e?setImmediate:t?((r,n)=>(Jd.addEventListener("message",({source:a,data:i})=>{a===Jd&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Jd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",_o(Jd.postMessage)),zP=typeof queueMicrotask<"u"?queueMicrotask.bind(Jd):typeof process<"u"&&process.nextTick||ij,UP=e=>e!=null&&_o(e[Dg]),pt={isArray:Ph,isArrayBuffer:ej,isBuffer:b1,isFormData:hP,isArrayBufferView:aP,isString:iP,isNumber:tj,isBoolean:sP,isObject:w1,isPlainObject:dm,isEmptyObject:oP,isReadableStream:mP,isRequest:gP,isResponse:xP,isHeaders:vP,isUndefined:Ch,isDate:lP,isFile:cP,isBlob:uP,isRegExp:kP,isFunction:_o,isStream:fP,isURLSearchParams:pP,isTypedArray:CP,isFileList:dP,forEach:A1,merge:ib,extend:bP,trim:yP,stripBOM:wP,inherits:AP,toFlatObject:NP,kindOf:Mg,kindOfTest:Xl,endsWith:SP,toArray:EP,forEachEntry:_P,matchAll:jP,isHTMLForm:OP,hasOwnProperty:PN,hasOwnProp:PN,reduceDescriptors:aj,freezeMethods:IP,toObjectSet:DP,toCamelCase:TP,noop:MP,toFiniteNumber:LP,findKey:rj,global:Jd,isContextDefined:nj,isSpecCompliantForm:PP,toJSONObject:RP,isAsyncFn:BP,isThenable:FP,setImmediate:ij,asap:zP,isIterable:UP};function Xr(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}pt.inherits(Xr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pt.toJSONObject(this.config),code:this.code,status:this.status}}});const sj=Xr.prototype,oj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{oj[e]={value:e}});Object.defineProperties(Xr,oj);Object.defineProperty(sj,"isAxiosError",{value:!0});Xr.from=(e,t,r,n,a,i)=>{const c=Object.create(sj);pt.toFlatObject(e,c,function(x){return x!==Error.prototype},p=>p!=="isAxiosError");const f=e&&e.message?e.message:"Error",m=t==null&&e?e.code:t;return Xr.call(c,f,m,r,n,a),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",i&&Object.assign(c,i),c};const qP=null;function sb(e){return pt.isPlainObject(e)||pt.isArray(e)}function lj(e){return pt.endsWith(e,"[]")?e.slice(0,-2):e}function RN(e,t,r){return e?e.concat(t).map(function(a,i){return a=lj(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function HP(e){return pt.isArray(e)&&!e.some(sb)}const VP=pt.toFlatObject(pt,{},null,function(t){return/^is[A-Z]/.test(t)});function Pg(e,t,r){if(!pt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=pt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,T){return!pt.isUndefined(T[_])});const n=r.metaTokens,a=r.visitor||x,i=r.dots,c=r.indexes,m=(r.Blob||typeof Blob<"u"&&Blob)&&pt.isSpecCompliantForm(t);if(!pt.isFunction(a))throw new TypeError("visitor must be a function");function p(j){if(j===null)return"";if(pt.isDate(j))return j.toISOString();if(pt.isBoolean(j))return j.toString();if(!m&&pt.isBlob(j))throw new Xr("Blob is not supported. Use a Buffer instead.");return pt.isArrayBuffer(j)||pt.isTypedArray(j)?m&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function x(j,_,T){let I=j;if(j&&!T&&typeof j=="object"){if(pt.endsWith(_,"{}"))_=n?_:_.slice(0,-2),j=JSON.stringify(j);else if(pt.isArray(j)&&HP(j)||(pt.isFileList(j)||pt.endsWith(_,"[]"))&&(I=pt.toArray(j)))return _=lj(_),I.forEach(function(F,G){!(pt.isUndefined(F)||F===null)&&t.append(c===!0?RN([_],G,i):c===null?_:_+"[]",p(F))}),!1}return sb(j)?!0:(t.append(RN(T,_,i),p(j)),!1)}const y=[],S=Object.assign(VP,{defaultVisitor:x,convertValue:p,isVisitable:sb});function N(j,_){if(!pt.isUndefined(j)){if(y.indexOf(j)!==-1)throw Error("Circular reference detected in "+_.join("."));y.push(j),pt.forEach(j,function(I,R){(!(pt.isUndefined(I)||I===null)&&a.call(t,I,pt.isString(R)?R.trim():R,_,S))===!0&&N(I,_?_.concat(R):[R])}),y.pop()}}if(!pt.isObject(e))throw new TypeError("data must be an object");return N(e),t}function BN(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function q5(e,t){this._pairs=[],e&&Pg(e,this,t)}const cj=q5.prototype;cj.append=function(t,r){this._pairs.push([t,r])};cj.toString=function(t){const r=t?function(n){return t.call(this,n,BN)}:BN;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function GP(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function uj(e,t,r){if(!t)return e;const n=r&&r.encode||GP;pt.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=pt.isURLSearchParams(t)?t.toString():new q5(t,r).toString(n),i){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class FN{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){pt.forEach(this.handlers,function(n){n!==null&&t(n)})}}const dj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},WP=typeof URLSearchParams<"u"?URLSearchParams:q5,YP=typeof FormData<"u"?FormData:null,$P=typeof Blob<"u"?Blob:null,XP={isBrowser:!0,classes:{URLSearchParams:WP,FormData:YP,Blob:$P},protocols:["http","https","file","blob","url","data"]},H5=typeof window<"u"&&typeof document<"u",ob=typeof navigator=="object"&&navigator||void 0,KP=H5&&(!ob||["ReactNative","NativeScript","NS"].indexOf(ob.product)<0),QP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZP=H5&&window.location.href||"http://localhost",JP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:H5,hasStandardBrowserEnv:KP,hasStandardBrowserWebWorkerEnv:QP,navigator:ob,origin:ZP},Symbol.toStringTag,{value:"Module"})),Fs={...JP,...XP};function e9(e,t){return Pg(e,new Fs.classes.URLSearchParams,{visitor:function(r,n,a,i){return Fs.isNode&&pt.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function t9(e){return pt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function r9(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function fj(e){function t(r,n,a,i){let c=r[i++];if(c==="__proto__")return!0;const f=Number.isFinite(+c),m=i>=r.length;return c=!c&&pt.isArray(a)?a.length:c,m?(pt.hasOwnProp(a,c)?a[c]=[a[c],n]:a[c]=n,!f):((!a[c]||!pt.isObject(a[c]))&&(a[c]=[]),t(r,n,a[c],i)&&pt.isArray(a[c])&&(a[c]=r9(a[c])),!f)}if(pt.isFormData(e)&&pt.isFunction(e.entries)){const r={};return pt.forEachEntry(e,(n,a)=>{t(t9(n),a,r,0)}),r}return null}function n9(e,t,r){if(pt.isString(e))try{return(t||JSON.parse)(e),pt.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const N1={transitional:dj,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=pt.isObject(t);if(i&&pt.isHTMLForm(t)&&(t=new FormData(t)),pt.isFormData(t))return a?JSON.stringify(fj(t)):t;if(pt.isArrayBuffer(t)||pt.isBuffer(t)||pt.isStream(t)||pt.isFile(t)||pt.isBlob(t)||pt.isReadableStream(t))return t;if(pt.isArrayBufferView(t))return t.buffer;if(pt.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let f;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return e9(t,this.formSerializer).toString();if((f=pt.isFileList(t))||n.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Pg(f?{"files[]":t}:t,m&&new m,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),n9(t)):t}],transformResponse:[function(t){const r=this.transitional||N1.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(pt.isResponse(t)||pt.isReadableStream(t))return t;if(t&&pt.isString(t)&&(n&&!this.responseType||a)){const c=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(f){if(c)throw f.name==="SyntaxError"?Xr.from(f,Xr.ERR_BAD_RESPONSE,this,null,this.response):f}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fs.classes.FormData,Blob:Fs.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pt.forEach(["delete","get","head","post","put","patch"],e=>{N1.headers[e]={}});const a9=pt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),i9=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(c){a=c.indexOf(":"),r=c.substring(0,a).trim().toLowerCase(),n=c.substring(a+1).trim(),!(!r||t[r]&&a9[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},zN=Symbol("internals");function k0(e){return e&&String(e).trim().toLowerCase()}function fm(e){return e===!1||e==null?e:pt.isArray(e)?e.map(fm):String(e)}function s9(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const o9=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function iv(e,t,r,n,a){if(pt.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!pt.isString(t)){if(pt.isString(n))return t.indexOf(n)!==-1;if(pt.isRegExp(n))return n.test(t)}}function l9(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function c9(e,t){const r=pt.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,c){return this[n].call(this,t,a,i,c)},configurable:!0})})}let jo=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(f,m,p){const x=k0(m);if(!x)throw new Error("header name must be a non-empty string");const y=pt.findKey(a,x);(!y||a[y]===void 0||p===!0||p===void 0&&a[y]!==!1)&&(a[y||m]=fm(f))}const c=(f,m)=>pt.forEach(f,(p,x)=>i(p,x,m));if(pt.isPlainObject(t)||t instanceof this.constructor)c(t,r);else if(pt.isString(t)&&(t=t.trim())&&!o9(t))c(i9(t),r);else if(pt.isObject(t)&&pt.isIterable(t)){let f={},m,p;for(const x of t){if(!pt.isArray(x))throw TypeError("Object iterator must return a key-value pair");f[p=x[0]]=(m=f[p])?pt.isArray(m)?[...m,x[1]]:[m,x[1]]:x[1]}c(f,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=k0(t),t){const n=pt.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return s9(a);if(pt.isFunction(r))return r.call(this,a,n);if(pt.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=k0(t),t){const n=pt.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||iv(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(c){if(c=k0(c),c){const f=pt.findKey(n,c);f&&(!r||iv(n,n[f],f,r))&&(delete n[f],a=!0)}}return pt.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||iv(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return pt.forEach(this,(a,i)=>{const c=pt.findKey(n,i);if(c){r[c]=fm(a),delete r[i];return}const f=t?l9(i):String(i).trim();f!==i&&delete r[i],r[f]=fm(a),n[f]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return pt.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&pt.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[zN]=this[zN]={accessors:{}}).accessors,a=this.prototype;function i(c){const f=k0(c);n[f]||(c9(a,c),n[f]=!0)}return pt.isArray(t)?t.forEach(i):i(t),this}};jo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pt.reduceDescriptors(jo.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});pt.freezeMethods(jo);function sv(e,t){const r=this||N1,n=t||r,a=jo.from(n.headers);let i=n.data;return pt.forEach(e,function(f){i=f.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function hj(e){return!!(e&&e.__CANCEL__)}function Rh(e,t,r){Xr.call(this,e??"canceled",Xr.ERR_CANCELED,t,r),this.name="CanceledError"}pt.inherits(Rh,Xr,{__CANCEL__:!0});function pj(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Xr("Request failed with status code "+r.status,[Xr.ERR_BAD_REQUEST,Xr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function u9(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function d9(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,c;return t=t!==void 0?t:1e3,function(m){const p=Date.now(),x=n[i];c||(c=p),r[a]=m,n[a]=p;let y=i,S=0;for(;y!==a;)S+=r[y++],y=y%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),p-c<t)return;const N=x&&p-x;return N?Math.round(S*1e3/N):void 0}}function f9(e,t){let r=0,n=1e3/t,a,i;const c=(p,x=Date.now())=>{r=x,a=null,i&&(clearTimeout(i),i=null),e(...p)};return[(...p)=>{const x=Date.now(),y=x-r;y>=n?c(p,x):(a=p,i||(i=setTimeout(()=>{i=null,c(a)},n-y)))},()=>a&&c(a)]}const Om=(e,t,r=3)=>{let n=0;const a=d9(50,250);return f9(i=>{const c=i.loaded,f=i.lengthComputable?i.total:void 0,m=c-n,p=a(m),x=c<=f;n=c;const y={loaded:c,total:f,progress:f?c/f:void 0,bytes:m,rate:p||void 0,estimated:p&&f&&x?(f-c)/p:void 0,event:i,lengthComputable:f!=null,[t?"download":"upload"]:!0};e(y)},r)},UN=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},qN=e=>(...t)=>pt.asap(()=>e(...t)),h9=Fs.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Fs.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Fs.origin),Fs.navigator&&/(msie|trident)/i.test(Fs.navigator.userAgent)):()=>!0,p9=Fs.hasStandardBrowserEnv?{write(e,t,r,n,a,i,c){if(typeof document>"u")return;const f=[`${e}=${encodeURIComponent(t)}`];pt.isNumber(r)&&f.push(`expires=${new Date(r).toUTCString()}`),pt.isString(n)&&f.push(`path=${n}`),pt.isString(a)&&f.push(`domain=${a}`),i===!0&&f.push("secure"),pt.isString(c)&&f.push(`SameSite=${c}`),document.cookie=f.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function m9(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function g9(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function mj(e,t,r){let n=!m9(t);return e&&(n||r==!1)?g9(e,t):t}const HN=e=>e instanceof jo?{...e}:e;function ff(e,t){t=t||{};const r={};function n(p,x,y,S){return pt.isPlainObject(p)&&pt.isPlainObject(x)?pt.merge.call({caseless:S},p,x):pt.isPlainObject(x)?pt.merge({},x):pt.isArray(x)?x.slice():x}function a(p,x,y,S){if(pt.isUndefined(x)){if(!pt.isUndefined(p))return n(void 0,p,y,S)}else return n(p,x,y,S)}function i(p,x){if(!pt.isUndefined(x))return n(void 0,x)}function c(p,x){if(pt.isUndefined(x)){if(!pt.isUndefined(p))return n(void 0,p)}else return n(void 0,x)}function f(p,x,y){if(y in t)return n(p,x);if(y in e)return n(void 0,p)}const m={url:i,method:i,data:i,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:f,headers:(p,x,y)=>a(HN(p),HN(x),y,!0)};return pt.forEach(Object.keys({...e,...t}),function(x){const y=m[x]||a,S=y(e[x],t[x],x);pt.isUndefined(S)&&y!==f||(r[x]=S)}),r}const gj=e=>{const t=ff({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:c,auth:f}=t;if(t.headers=c=jo.from(c),t.url=uj(mj(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),f&&c.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),pt.isFormData(r)){if(Fs.hasStandardBrowserEnv||Fs.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(pt.isFunction(r.getHeaders)){const m=r.getHeaders(),p=["content-type","content-length"];Object.entries(m).forEach(([x,y])=>{p.includes(x.toLowerCase())&&c.set(x,y)})}}if(Fs.hasStandardBrowserEnv&&(n&&pt.isFunction(n)&&(n=n(t)),n||n!==!1&&h9(t.url))){const m=a&&i&&p9.read(i);m&&c.set(a,m)}return t},x9=typeof XMLHttpRequest<"u",v9=x9&&function(e){return new Promise(function(r,n){const a=gj(e);let i=a.data;const c=jo.from(a.headers).normalize();let{responseType:f,onUploadProgress:m,onDownloadProgress:p}=a,x,y,S,N,j;function _(){N&&N(),j&&j(),a.cancelToken&&a.cancelToken.unsubscribe(x),a.signal&&a.signal.removeEventListener("abort",x)}let T=new XMLHttpRequest;T.open(a.method.toUpperCase(),a.url,!0),T.timeout=a.timeout;function I(){if(!T)return;const F=jo.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),Y={data:!f||f==="text"||f==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:F,config:e,request:T};pj(function(V){r(V),_()},function(V){n(V),_()},Y),T=null}"onloadend"in T?T.onloadend=I:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(I)},T.onabort=function(){T&&(n(new Xr("Request aborted",Xr.ECONNABORTED,e,T)),T=null)},T.onerror=function(G){const Y=G&&G.message?G.message:"Network Error",J=new Xr(Y,Xr.ERR_NETWORK,e,T);J.event=G||null,n(J),T=null},T.ontimeout=function(){let G=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const Y=a.transitional||dj;a.timeoutErrorMessage&&(G=a.timeoutErrorMessage),n(new Xr(G,Y.clarifyTimeoutError?Xr.ETIMEDOUT:Xr.ECONNABORTED,e,T)),T=null},i===void 0&&c.setContentType(null),"setRequestHeader"in T&&pt.forEach(c.toJSON(),function(G,Y){T.setRequestHeader(Y,G)}),pt.isUndefined(a.withCredentials)||(T.withCredentials=!!a.withCredentials),f&&f!=="json"&&(T.responseType=a.responseType),p&&([S,j]=Om(p,!0),T.addEventListener("progress",S)),m&&T.upload&&([y,N]=Om(m),T.upload.addEventListener("progress",y),T.upload.addEventListener("loadend",N)),(a.cancelToken||a.signal)&&(x=F=>{T&&(n(!F||F.type?new Rh(null,e,T):F),T.abort(),T=null)},a.cancelToken&&a.cancelToken.subscribe(x),a.signal&&(a.signal.aborted?x():a.signal.addEventListener("abort",x)));const R=u9(a.url);if(R&&Fs.protocols.indexOf(R)===-1){n(new Xr("Unsupported protocol "+R+":",Xr.ERR_BAD_REQUEST,e));return}T.send(i||null)})},y9=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(p){if(!a){a=!0,f();const x=p instanceof Error?p:this.reason;n.abort(x instanceof Xr?x:new Rh(x instanceof Error?x.message:x))}};let c=t&&setTimeout(()=>{c=null,i(new Xr(`timeout ${t} of ms exceeded`,Xr.ETIMEDOUT))},t);const f=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(i):p.removeEventListener("abort",i)}),e=null)};e.forEach(p=>p.addEventListener("abort",i));const{signal:m}=n;return m.unsubscribe=()=>pt.asap(f),m}},b9=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},w9=async function*(e,t){for await(const r of A9(e))yield*b9(r,t)},A9=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},VN=(e,t,r,n)=>{const a=w9(e,t);let i=0,c,f=m=>{c||(c=!0,n&&n(m))};return new ReadableStream({async pull(m){try{const{done:p,value:x}=await a.next();if(p){f(),m.close();return}let y=x.byteLength;if(r){let S=i+=y;r(S)}m.enqueue(new Uint8Array(x))}catch(p){throw f(p),p}},cancel(m){return f(m),a.return()}},{highWaterMark:2})},GN=64*1024,{isFunction:Bp}=pt,N9=(({Request:e,Response:t})=>({Request:e,Response:t}))(pt.global),{ReadableStream:WN,TextEncoder:YN}=pt.global,$N=(e,...t)=>{try{return!!e(...t)}catch{return!1}},S9=e=>{e=pt.merge.call({skipUndefined:!0},N9,e);const{fetch:t,Request:r,Response:n}=e,a=t?Bp(t):typeof fetch=="function",i=Bp(r),c=Bp(n);if(!a)return!1;const f=a&&Bp(WN),m=a&&(typeof YN=="function"?(j=>_=>j.encode(_))(new YN):async j=>new Uint8Array(await new r(j).arrayBuffer())),p=i&&f&&$N(()=>{let j=!1;const _=new r(Fs.origin,{body:new WN,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!_}),x=c&&f&&$N(()=>pt.isReadableStream(new n("").body)),y={stream:x&&(j=>j.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!y[j]&&(y[j]=(_,T)=>{let I=_&&_[j];if(I)return I.call(_);throw new Xr(`Response type '${j}' is not supported`,Xr.ERR_NOT_SUPPORT,T)})});const S=async j=>{if(j==null)return 0;if(pt.isBlob(j))return j.size;if(pt.isSpecCompliantForm(j))return(await new r(Fs.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(pt.isArrayBufferView(j)||pt.isArrayBuffer(j))return j.byteLength;if(pt.isURLSearchParams(j)&&(j=j+""),pt.isString(j))return(await m(j)).byteLength},N=async(j,_)=>{const T=pt.toFiniteNumber(j.getContentLength());return T??S(_)};return async j=>{let{url:_,method:T,data:I,signal:R,cancelToken:F,timeout:G,onDownloadProgress:Y,onUploadProgress:J,responseType:V,headers:$,withCredentials:W="same-origin",fetchOptions:Ne}=gj(j),Z=t||fetch;V=V?(V+"").toLowerCase():"text";let Q=y9([R,F&&F.toAbortSignal()],G),me=null;const re=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let q;try{if(J&&p&&T!=="get"&&T!=="head"&&(q=await N($,I))!==0){let ce=new r(_,{method:"POST",body:I,duplex:"half"}),U;if(pt.isFormData(I)&&(U=ce.headers.get("content-type"))&&$.setContentType(U),ce.body){const[H,se]=UN(q,Om(qN(J)));I=VN(ce.body,GN,H,se)}}pt.isString(W)||(W=W?"include":"omit");const ie=i&&"credentials"in r.prototype,oe={...Ne,signal:Q,method:T.toUpperCase(),headers:$.normalize().toJSON(),body:I,duplex:"half",credentials:ie?W:void 0};me=i&&new r(_,oe);let de=await(i?Z(me,Ne):Z(_,oe));const ee=x&&(V==="stream"||V==="response");if(x&&(Y||ee&&re)){const ce={};["status","statusText","headers"].forEach(ve=>{ce[ve]=de[ve]});const U=pt.toFiniteNumber(de.headers.get("content-length")),[H,se]=Y&&UN(U,Om(qN(Y),!0))||[];de=new n(VN(de.body,GN,H,()=>{se&&se(),re&&re()}),ce)}V=V||"text";let Ae=await y[pt.findKey(y,V)||"text"](de,j);return!ee&&re&&re(),await new Promise((ce,U)=>{pj(ce,U,{data:Ae,headers:jo.from(de.headers),status:de.status,statusText:de.statusText,config:j,request:me})})}catch(ie){throw re&&re(),ie&&ie.name==="TypeError"&&/Load failed|fetch/i.test(ie.message)?Object.assign(new Xr("Network Error",Xr.ERR_NETWORK,j,me),{cause:ie.cause||ie}):Xr.from(ie,ie&&ie.code,j,me)}}},E9=new Map,xj=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let c=i.length,f=c,m,p,x=E9;for(;f--;)m=i[f],p=x.get(m),p===void 0&&x.set(m,p=f?new Map:S9(t)),x=p;return p};xj();const V5={http:qP,xhr:v9,fetch:{get:xj}};pt.forEach(V5,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const XN=e=>`- ${e}`,C9=e=>pt.isFunction(e)||e===null||e===!1;function _9(e,t){e=pt.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let c=0;c<r;c++){n=e[c];let f;if(a=n,!C9(n)&&(a=V5[(f=String(n)).toLowerCase()],a===void 0))throw new Xr(`Unknown adapter '${f}'`);if(a&&(pt.isFunction(a)||(a=a.get(t))))break;i[f||"#"+c]=a}if(!a){const c=Object.entries(i).map(([m,p])=>`adapter ${m} `+(p===!1?"is not supported by the environment":"is not available in the build"));let f=r?c.length>1?`since :
`+c.map(XN).join(`
`):" "+XN(c[0]):"as no adapter specified";throw new Xr("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return a}const vj={getAdapter:_9,adapters:V5};function ov(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Rh(null,e)}function KN(e){return ov(e),e.headers=jo.from(e.headers),e.data=sv.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),vj.getAdapter(e.adapter||N1.adapter,e)(e).then(function(n){return ov(e),n.data=sv.call(e,e.transformResponse,n),n.headers=jo.from(n.headers),n},function(n){return hj(n)||(ov(e),n&&n.response&&(n.response.data=sv.call(e,e.transformResponse,n.response),n.response.headers=jo.from(n.response.headers))),Promise.reject(n)})}const yj="1.13.2",Rg={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Rg[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const QN={};Rg.transitional=function(t,r,n){function a(i,c){return"[Axios v"+yj+"] Transitional option '"+i+"'"+c+(n?". "+n:"")}return(i,c,f)=>{if(t===!1)throw new Xr(a(c," has been removed"+(r?" in "+r:"")),Xr.ERR_DEPRECATED);return r&&!QN[c]&&(QN[c]=!0,console.warn(a(c," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,c,f):!0}};Rg.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function j9(e,t,r){if(typeof e!="object")throw new Xr("options must be an object",Xr.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],c=t[i];if(c){const f=e[i],m=f===void 0||c(f,i,e);if(m!==!0)throw new Xr("option "+i+" must be "+m,Xr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Xr("Unknown option "+i,Xr.ERR_BAD_OPTION)}}const hm={assertOptions:j9,validators:Rg},vc=hm.validators;let af=class{constructor(t){this.defaults=t||{},this.interceptors={request:new FN,response:new FN}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ff(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&hm.assertOptions(n,{silentJSONParsing:vc.transitional(vc.boolean),forcedJSONParsing:vc.transitional(vc.boolean),clarifyTimeoutError:vc.transitional(vc.boolean)},!1),a!=null&&(pt.isFunction(a)?r.paramsSerializer={serialize:a}:hm.assertOptions(a,{encode:vc.function,serialize:vc.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),hm.assertOptions(r,{baseUrl:vc.spelling("baseURL"),withXsrfToken:vc.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=i&&pt.merge(i.common,i[r.method]);i&&pt.forEach(["delete","get","head","post","put","patch","common"],j=>{delete i[j]}),r.headers=jo.concat(c,i);const f=[];let m=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(m=m&&_.synchronous,f.unshift(_.fulfilled,_.rejected))});const p=[];this.interceptors.response.forEach(function(_){p.push(_.fulfilled,_.rejected)});let x,y=0,S;if(!m){const j=[KN.bind(this),void 0];for(j.unshift(...f),j.push(...p),S=j.length,x=Promise.resolve(r);y<S;)x=x.then(j[y++],j[y++]);return x}S=f.length;let N=r;for(;y<S;){const j=f[y++],_=f[y++];try{N=j(N)}catch(T){_.call(this,T);break}}try{x=KN.call(this,N)}catch(j){return Promise.reject(j)}for(y=0,S=p.length;y<S;)x=x.then(p[y++],p[y++]);return x}getUri(t){t=ff(this.defaults,t);const r=mj(t.baseURL,t.url,t.allowAbsoluteUrls);return uj(r,t.params,t.paramsSerializer)}};pt.forEach(["delete","get","head","options"],function(t){af.prototype[t]=function(r,n){return this.request(ff(n||{},{method:t,url:r,data:(n||{}).data}))}});pt.forEach(["post","put","patch"],function(t){function r(n){return function(i,c,f){return this.request(ff(f||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:c}))}}af.prototype[t]=r(),af.prototype[t+"Form"]=r(!0)});let O9=class bj{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const c=new Promise(f=>{n.subscribe(f),i=f}).then(a);return c.cancel=function(){n.unsubscribe(i)},c},t(function(i,c,f){n.reason||(n.reason=new Rh(i,c,f),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new bj(function(a){t=a}),cancel:t}}};function T9(e){return function(r){return e.apply(null,r)}}function k9(e){return pt.isObject(e)&&e.isAxiosError===!0}const lb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(lb).forEach(([e,t])=>{lb[t]=e});function wj(e){const t=new af(e),r=Z_(af.prototype.request,t);return pt.extend(r,af.prototype,t,{allOwnKeys:!0}),pt.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return wj(ff(e,a))},r}const vi=wj(N1);vi.Axios=af;vi.CanceledError=Rh;vi.CancelToken=O9;vi.isCancel=hj;vi.VERSION=yj;vi.toFormData=Pg;vi.AxiosError=Xr;vi.Cancel=vi.CanceledError;vi.all=function(t){return Promise.all(t)};vi.spread=T9;vi.isAxiosError=k9;vi.mergeConfig=ff;vi.AxiosHeaders=jo;vi.formToJSON=e=>fj(pt.isHTMLForm(e)?new FormData(e):e);vi.getAdapter=vj.getAdapter;vi.HttpStatusCode=lb;vi.default=vi;const{Axios:Rie,AxiosError:Bie,CanceledError:Fie,isCancel:zie,CancelToken:Uie,VERSION:qie,all:Hie,Cancel:Vie,isAxiosError:Gie,spread:Wie,toFormData:Yie,AxiosHeaders:$ie,HttpStatusCode:Xie,formToJSON:Kie,getAdapter:Qie,mergeConfig:Zie}=vi,Aj="https://api.prithviinnerwears.com/api",Oo=Aj.replace(/\/api\/?$/,""),Ut=vi.create({baseURL:Aj,withCredentials:!0,headers:{"Content-Type":"application/json"}});Ut.interceptors.request.use(e=>{const t=localStorage.getItem("appu_auth_token")||localStorage.getItem("kitchenToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Ut.interceptors.response.use(e=>e,e=>{var t,r;if(((t=e.response)==null?void 0:t.status)===401&&(((r=e.config)==null?void 0:r.url)||"").includes("/auth/login"))try{localStorage.removeItem("appu_auth_user"),localStorage.removeItem("appu_auth_token")}catch(a){console.error("Error clearing auth storage:",a)}return Promise.reject(e)});const Nj=M.createContext(),cb="appu_auth_user",I0="appu_auth_token",ZN=()=>{try{const e=localStorage.getItem(cb);if(e)return JSON.parse(e)}catch(e){console.error("Error loading user from localStorage:",e)}return null},D0=e=>{try{e?localStorage.setItem(cb,JSON.stringify(e)):localStorage.removeItem(cb)}catch(t){console.error("Error saving user to localStorage:",t)}},$i=()=>{const e=M.useContext(Nj);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},I9=({children:e})=>{const[t,r]=M.useState(()=>ZN()),[n,a]=M.useState(!0);M.useEffect(()=>{i()},[]);const i=async()=>{const p=ZN(),x=localStorage.getItem(I0);if(!p||!x){r(null),a(!1);return}r(p);try{let y;if(p.role==="employee")try{y=await Ut.get("/employees/me")}catch(N){if(N.response&&N.response.status===404&&p.id)try{y=await Ut.get(`/employees/${p.id}`)}catch(j){if(j.response&&(j.response.status===401||j.response.status===403))throw j;console.warn("Could not verify employee details, using stored session.",j),a(!1);return}else throw N}else y=await Ut.get("/auth/me");const S=y.data.user||y.data.employee;S&&(r(S),D0(S))}catch(y){if(console.warn("Auth check failed:",y),y.response&&(y.response.status===401||y.response.status===403)){try{localStorage.removeItem(I0),D0(null)}catch(S){console.error("Error clearing auth storage:",S)}r(null)}}finally{a(!1)}},c=async(p,x)=>{var y,S;try{const N=await Ut.post("/auth/login",{username:p,password:x}),{user:j,token:_}=N.data;return r(j),D0(j),_&&localStorage.setItem(I0,_),{success:!0,user:j}}catch(N){return{success:!1,error:((S=(y=N.response)==null?void 0:y.data)==null?void 0:S.error)||"Login failed"}}},f=async(p,x)=>{var y,S,N,j;try{const _=await Ut.post("/employees/login",{emp_code:p,password:x}),{employee:T,token:I}=_.data;return r(T),D0(T),I&&localStorage.setItem(I0,I),{success:!0,user:T}}catch(_){return{success:!1,error:((S=(y=_.response)==null?void 0:y.data)==null?void 0:S.message)||((j=(N=_.response)==null?void 0:N.data)==null?void 0:j.error)||"Employee login failed"}}},m=async()=>{try{await Ut.post("/auth/logout")}catch(p){console.error("Logout error:",p)}finally{r(null),D0(null);try{localStorage.removeItem(I0)}catch(p){console.error("Error clearing auth token:",p)}}};return u.jsx(Nj.Provider,{value:{user:t,loading:n,login:c,employeeLogin:f,logout:m,checkAuth:i},children:e})},Sj=M.createContext(),G5=()=>{const e=M.useContext(Sj);if(!e)throw new Error("useOrder must be used within OrderProvider");return e},Fp=e=>{const t=Ia.c(23),{children:r}=e,{user:n}=$i();let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],t[0]=a):a=t[0];const[i,c]=M.useState(a);let f;t[1]===Symbol.for("react.memo_cache_sentinel")?(f=[],t[1]=f):f=t[1];const[m,p]=M.useState(f),[x,y]=M.useState(null),S=(n==null?void 0:n.unit)||null;let N;t[2]===Symbol.for("react.memo_cache_sentinel")?(N=()=>{c([]),p([]),y(null)},t[2]=N):N=t[2];const j=N;let _;t[3]===Symbol.for("react.memo_cache_sentinel")?(_=(Z,Q,me)=>{c(re=>{const q=re.find(oe=>oe.id===Z.id&&(me?oe.variant_id===me:!0));if(!q&&Q>0)return[...re,{...Z,quantity:1,variant_id:me||Z.id,variant_price:Z.price||Z.base_price}];if(!q)return re;const ie=(q.quantity||1)+Q;return ie<=0?re.filter(oe=>!(oe.id===Z.id&&(!me||oe.variant_id===me))):re.map(oe=>oe.id===Z.id&&(!me||oe.variant_id===me)?{...oe,quantity:ie}:oe)})},t[3]=_):_=t[3];const T=_;let I;t[4]===Symbol.for("react.memo_cache_sentinel")?(I=(Z,Q)=>{const me=Math.max(0,Math.floor(Q||0));c(re=>{const q=re.find(ie=>ie.id===Z.id);return me===0?re.filter(ie=>ie.id!==Z.id):q?re.map(ie=>ie.id===Z.id?{...ie,quantity:me}:ie):[...re,{...Z,quantity:me}]})},t[4]=I):I=t[4];const R=I;let F;t[5]!==m?(F=Z=>{const Q=typeof Z=="string"?Z:(()=>{const me=Z,re=me.getFullYear(),q=String(me.getMonth()+1).padStart(2,"0"),ie=String(me.getDate()).padStart(2,"0");return`${re}-${q}-${ie}`})();m.includes(Q)?p(m.filter(me=>me!==Q)):p([...m,Q])},t[5]=m,t[6]=F):F=t[6];const G=F;let Y;t[7]!==i?(Y=()=>i.reduce(D9,0),t[7]=i,t[8]=Y):Y=t[8];const J=Y;let V;t[9]!==J||t[10]!==m?(V=()=>J()*m.length,t[9]=J,t[10]=m,t[11]=V):V=t[11];const $=V;let W;t[12]!==$||t[13]!==J||t[14]!==x||t[15]!==m||t[16]!==i||t[17]!==S||t[18]!==G?(W={selectedUnit:S,selectedProducts:i,setSelectedProducts:c,selectedDates:m,setSelectedDates:p,currentOrder:x,setCurrentOrder:y,adjustProductQuantity:T,setProductQuantity:R,toggleDate:G,resetOrder:j,calculatePerDayTotal:J,calculateGrandTotal:$},t[12]=$,t[13]=J,t[14]=x,t[15]=m,t[16]=i,t[17]=S,t[18]=G,t[19]=W):W=t[19];let Ne;return t[20]!==r||t[21]!==W?(Ne=u.jsx(Sj.Provider,{value:W,children:r}),t[20]=r,t[21]=W,t[22]=Ne):Ne=t[22],Ne};function D9(e,t){return e+(t.quantity||1)*parseFloat(t.variant_price||t.price||t.base_price)}const qs=e=>{const t=Ia.c(3),{size:r}=e,n=r===void 0?"large":r;let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={small:"w-8 h-8",medium:"w-12 h-12",large:"w-16 h-16"},t[0]=a):a=t[0];const c=`${a[n]} border-4 border-amber-200 border-t-orange-600 rounded-full animate-spin`;let f;return t[1]!==c?(f=u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx("div",{className:c})}),t[1]=c,t[2]=f):f=t[2],f},Ti=e=>{var x;const t=Ia.c(5),{children:r,requireAdmin:n,excludeRoles:a}=e,i=n===void 0?!1:n,c=a===void 0?[]:a,{user:f,loading:m}=$i();if(m){let y;return t[0]===Symbol.for("react.memo_cache_sentinel")?(y=u.jsx(qs,{}),t[0]=y):y=t[0],y}if(!f){let y;return t[1]===Symbol.for("react.memo_cache_sentinel")?(y=u.jsx(fd,{to:"/login",replace:!0}),t[1]=y):y=t[1],y}const p=(x=f.role)==null?void 0:x.toLowerCase();if(i&&!["admin","unit_admin","user"].includes(p)){let y;return t[2]===Symbol.for("react.memo_cache_sentinel")?(y=u.jsx(fd,{to:"/kiosk/products",replace:!0}),t[2]=y):y=t[2],y}if(c.length>0&&c.includes(f.role)){if(["admin","unit_admin","user"].includes(p)){let S;return t[3]===Symbol.for("react.memo_cache_sentinel")?(S=u.jsx(fd,{to:"/admin/dashboard",replace:!0}),t[3]=S):S=t[3],S}let y;return t[4]===Symbol.for("react.memo_cache_sentinel")?(y=u.jsx(fd,{to:"/kiosk/products",replace:!0}),t[4]=y):y=t[4],y}return r},jc=Object.create(null);jc.open="0";jc.close="1";jc.ping="2";jc.pong="3";jc.message="4";jc.upgrade="5";jc.noop="6";const pm=Object.create(null);Object.keys(jc).forEach(e=>{pm[jc[e]]=e});const ub={type:"error",data:"parser error"},Ej=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Cj=typeof ArrayBuffer=="function",_j=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,W5=({type:e,data:t},r,n)=>Ej&&t instanceof Blob?r?n(t):JN(t,n):Cj&&(t instanceof ArrayBuffer||_j(t))?r?n(t):JN(new Blob([t]),n):n(jc[e]+(t||"")),JN=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function eS(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let lv;function M9(e,t){if(Ej&&e.data instanceof Blob)return e.data.arrayBuffer().then(eS).then(t);if(Cj&&(e.data instanceof ArrayBuffer||_j(e.data)))return t(eS(e.data));W5(e,!1,r=>{lv||(lv=new TextEncoder),t(lv.encode(r))})}const tS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<tS.length;e++)Y0[tS.charCodeAt(e)]=e;const L9=e=>{let t=e.length*.75,r=e.length,n,a=0,i,c,f,m;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const p=new ArrayBuffer(t),x=new Uint8Array(p);for(n=0;n<r;n+=4)i=Y0[e.charCodeAt(n)],c=Y0[e.charCodeAt(n+1)],f=Y0[e.charCodeAt(n+2)],m=Y0[e.charCodeAt(n+3)],x[a++]=i<<2|c>>4,x[a++]=(c&15)<<4|f>>2,x[a++]=(f&3)<<6|m&63;return p},P9=typeof ArrayBuffer=="function",Y5=(e,t)=>{if(typeof e!="string")return{type:"message",data:jj(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:R9(e.substring(1),t)}:pm[r]?e.length>1?{type:pm[r],data:e.substring(1)}:{type:pm[r]}:ub},R9=(e,t)=>{if(P9){const r=L9(e);return jj(r,t)}else return{base64:!0,data:e}},jj=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Oj="",B9=(e,t)=>{const r=e.length,n=new Array(r);let a=0;e.forEach((i,c)=>{W5(i,!1,f=>{n[c]=f,++a===r&&t(n.join(Oj))})})},F9=(e,t)=>{const r=e.split(Oj),n=[];for(let a=0;a<r.length;a++){const i=Y5(r[a],t);if(n.push(i),i.type==="error")break}return n};function z9(){return new TransformStream({transform(e,t){M9(e,r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(r)})}})}let cv;function zp(e){return e.reduce((t,r)=>t+r.length,0)}function Up(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)r[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function U9(e,t){cv||(cv=new TextDecoder);const r=[];let n=0,a=-1,i=!1;return new TransformStream({transform(c,f){for(r.push(c);;){if(n===0){if(zp(r)<1)break;const m=Up(r,1);i=(m[0]&128)===128,a=m[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(zp(r)<2)break;const m=Up(r,2);a=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),n=3}else if(n===2){if(zp(r)<8)break;const m=Up(r,8),p=new DataView(m.buffer,m.byteOffset,m.length),x=p.getUint32(0);if(x>Math.pow(2,21)-1){f.enqueue(ub);break}a=x*Math.pow(2,32)+p.getUint32(4),n=3}else{if(zp(r)<a)break;const m=Up(r,a);f.enqueue(Y5(i?m:cv.decode(m),t)),n=0}if(a===0||a>e){f.enqueue(ub);break}}}})}const Tj=4;function Di(e){if(e)return q9(e)}function q9(e){for(var t in Di.prototype)e[t]=Di.prototype[t];return e}Di.prototype.on=Di.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Di.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Di.prototype.off=Di.prototype.removeListener=Di.prototype.removeAllListeners=Di.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===t||n.fn===t){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Di.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,t)}return this};Di.prototype.emitReserved=Di.prototype.emit;Di.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Di.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Bg=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),xl=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),H9="arraybuffer";function kj(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const V9=xl.setTimeout,G9=xl.clearTimeout;function Fg(e,t){t.useNativeTimers?(e.setTimeoutFn=V9.bind(xl),e.clearTimeoutFn=G9.bind(xl)):(e.setTimeoutFn=xl.setTimeout.bind(xl),e.clearTimeoutFn=xl.clearTimeout.bind(xl))}const W9=1.33;function Y9(e){return typeof e=="string"?$9(e):Math.ceil((e.byteLength||e.size)*W9)}function $9(e){let t=0,r=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function Ij(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function X9(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function K9(e){let t={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class Q9 extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class $5 extends Di{constructor(t){super(),this.writable=!1,Fg(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new Q9(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Y5(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=X9(t);return r.length?"?"+r:""}}class Z9 extends $5{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};F9(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,B9(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Ij()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let Dj=!1;try{Dj=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const J9=Dj;function eR(){}class tR extends Z9{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class Ec extends Di{constructor(t,r,n){super(),this.createRequest=t,Fg(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=kj(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=Ec.requestsCount++,Ec.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=eR,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ec.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ec.requestsCount=0;Ec.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",rS);else if(typeof addEventListener=="function"){const e="onpagehide"in xl?"pagehide":"unload";addEventListener(e,rS,!1)}}function rS(){for(let e in Ec.requests)Ec.requests.hasOwnProperty(e)&&Ec.requests[e].abort()}const rR=function(){const e=Mj({xdomain:!1});return e&&e.responseType!==null}();class nR extends tR{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=rR&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Ec(Mj,this.uri(),t)}}function Mj(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||J9))return new XMLHttpRequest}catch{}if(!t)try{return new xl[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Lj=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class aR extends $5{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=Lj?{}:kj(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;W5(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}a&&Bg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Ij()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const uv=xl.WebSocket||xl.MozWebSocket;class iR extends aR{createSocket(t,r,n){return Lj?new uv(t,r,n):r?new uv(t,r):new uv(t)}doWrite(t,r){this.ws.send(r)}}class sR extends $5{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=U9(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),a=z9();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const i=()=>{n.read().then(({done:f,value:m})=>{f||(this.onPacket(m),i())}).catch(f=>{})};i();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;this._writer.write(n).then(()=>{a&&Bg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const oR={websocket:iR,webtransport:sR,polling:nR},lR=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,cR=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function db(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=lR.exec(e||""),i={},c=14;for(;c--;)i[cR[c]]=a[c]||"";return r!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=uR(i,i.path),i.queryKey=dR(i,i.query),i}function uR(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function dR(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,i){a&&(r[a]=i)}),r}const fb=typeof addEventListener=="function"&&typeof removeEventListener=="function",mm=[];fb&&addEventListener("offline",()=>{mm.forEach(e=>e())},!1);class vd extends Di{constructor(t,r){if(super(),this.binaryType=H9,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=db(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=db(r.host).host);Fg(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=K9(this.opts.query)),fb&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},mm.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=Tj,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&vd.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",vd.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(r+=Y9(a)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Bg(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,a){if(typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(vd.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),fb&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=mm.indexOf(this._offlineEventListener);n!==-1&&mm.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}vd.protocol=Tj;class fR extends vd{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;vd.priorWebsocketSuccess=!1;const a=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",y=>{if(!n)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;vd.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(x(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const S=new Error("probe error");S.transport=r.name,this.emitReserved("upgradeError",S)}}))};function i(){n||(n=!0,x(),r.close(),r=null)}const c=y=>{const S=new Error("probe error: "+y);S.transport=r.name,i(),this.emitReserved("upgradeError",S)};function f(){c("transport closed")}function m(){c("socket closed")}function p(y){r&&y.name!==r.name&&i()}const x=()=>{r.removeListener("open",a),r.removeListener("error",c),r.removeListener("close",f),this.off("close",m),this.off("upgrading",p)};r.once("open",a),r.once("error",c),r.once("close",f),this.once("close",m),this.once("upgrading",p),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let hR=class extends fR{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>oR[a]).filter(a=>!!a)),super(t,n)}};function pR(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=db(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const mR=typeof ArrayBuffer=="function",gR=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Pj=Object.prototype.toString,xR=typeof Blob=="function"||typeof Blob<"u"&&Pj.call(Blob)==="[object BlobConstructor]",vR=typeof File=="function"||typeof File<"u"&&Pj.call(File)==="[object FileConstructor]";function X5(e){return mR&&(e instanceof ArrayBuffer||gR(e))||xR&&e instanceof Blob||vR&&e instanceof File}function gm(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(gm(e[r]))return!0;return!1}if(X5(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return gm(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&gm(e[r]))return!0;return!1}function yR(e){const t=[],r=e.data,n=e;return n.data=hb(r,t),n.attachments=t.length,{packet:n,buffers:t}}function hb(e,t){if(!e)return e;if(X5(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=hb(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=hb(e[n],t));return r}return e}function bR(e,t){return e.data=pb(e.data,t),delete e.attachments,e}function pb(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=pb(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=pb(e[r],t));return e}const Rj=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],wR=5;var nn;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(nn||(nn={}));class AR{constructor(t){this.replacer=t}encode(t){return(t.type===nn.EVENT||t.type===nn.ACK)&&gm(t)?this.encodeAsBinary({type:t.type===nn.EVENT?nn.BINARY_EVENT:nn.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===nn.BINARY_EVENT||t.type===nn.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=yR(t),n=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(n),a}}class K5 extends Di{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===nn.BINARY_EVENT;n||r.type===nn.BINARY_ACK?(r.type=n?nn.EVENT:nn.ACK,this.reconstructor=new NR(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(X5(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(nn[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===nn.BINARY_EVENT||n.type===nn.BINARY_ACK){const i=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const c=t.substring(i,r);if(c!=Number(c)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(c)}if(t.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(i,r)}else n.nsp="/";const a=t.charAt(r+1);if(a!==""&&Number(a)==a){const i=r+1;for(;++r;){const c=t.charAt(r);if(c==null||Number(c)!=c){--r;break}if(r===t.length)break}n.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){const i=this.tryParse(t.substr(r));if(K5.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case nn.CONNECT:return Tm(r);case nn.DISCONNECT:return r===void 0;case nn.CONNECT_ERROR:return typeof r=="string"||Tm(r);case nn.EVENT:case nn.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Rj.indexOf(r[0])===-1);case nn.ACK:case nn.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class NR{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=bR(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function SR(e){return typeof e=="string"}const ER=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function CR(e){return e===void 0||ER(e)}function Tm(e){return Object.prototype.toString.call(e)==="[object Object]"}function _R(e,t){switch(e){case nn.CONNECT:return t===void 0||Tm(t);case nn.DISCONNECT:return t===void 0;case nn.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Rj.indexOf(t[0])===-1);case nn.ACK:return Array.isArray(t);case nn.CONNECT_ERROR:return typeof t=="string"||Tm(t);default:return!1}}function jR(e){return SR(e.nsp)&&CR(e.id)&&_R(e.type,e.data)}const OR=Object.freeze(Object.defineProperty({__proto__:null,Decoder:K5,Encoder:AR,get PacketType(){return nn},isPacketValid:jR,protocol:wR},Symbol.toStringTag,{value:"Module"}));function Ul(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const TR=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Bj extends Di{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ul(t,"open",this.onopen.bind(this)),Ul(t,"packet",this.onpacket.bind(this)),Ul(t,"error",this.onerror.bind(this)),Ul(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,a,i;if(TR.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const c={type:nn.EVENT,data:r};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const x=this.ids++,y=r.pop();this._registerAckCallback(x,y),c.id=x}const f=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,m=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!f||(m?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(t,r){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[t]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===t&&this.sendBuffer.splice(f,1);r.call(this,new Error("operation has timed out"))},a),c=(...f)=>{this.io.clearTimeoutFn(i),r.apply(this,f)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...r){return new Promise((n,a)=>{const i=(c,f)=>c?a(c):n(f);i.withError=!0,r.push(i),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...i)=>(this._queue[0],a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:nn.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case nn.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case nn.EVENT:case nn.BINARY_EVENT:this.onevent(t);break;case nn.ACK:case nn.BINARY_ACK:this.onack(t);break;case nn.DISCONNECT:this.ondisconnect();break;case nn.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...a){n||(n=!0,r.packet({type:nn.ACK,id:t,data:a}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:nn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Bh(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Bh.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Bh.prototype.reset=function(){this.attempts=0};Bh.prototype.setMin=function(e){this.ms=e};Bh.prototype.setMax=function(e){this.max=e};Bh.prototype.setJitter=function(e){this.jitter=e};class mb extends Di{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Fg(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Bh({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const a=r.parser||OR;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new hR(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=Ul(r,"open",function(){n.onopen(),t&&t()}),i=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),t?t(f):this.maybeReconnectOnOpen()},c=Ul(r,"error",i);if(this._timeout!==!1){const f=this._timeout,m=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),r.close()},f);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(a),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ul(t,"ping",this.onping.bind(this)),Ul(t,"data",this.ondata.bind(this)),Ul(t,"error",this.onerror.bind(this)),Ul(t,"close",this.onclose.bind(this)),Ul(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Bg(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new Bj(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const M0={};function xm(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=pR(e,t.path||"/socket.io"),n=r.source,a=r.id,i=r.path,c=M0[a]&&i in M0[a].nsps,f=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let m;return f?m=new mb(n,t):(M0[a]||(M0[a]=new mb(n,t)),m=M0[a]),r.query&&!t.query&&(t.query=r.queryKey),m.socket(r.path,t)}Object.assign(xm,{Manager:mb,Socket:Bj,io:xm,connect:xm});var Fj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nS=gd.createContext&&gd.createContext(Fj),kR=["attr","size","title"];function IR(e,t){if(e==null)return{};var r=DR(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},km.apply(this,arguments)}function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Im(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){MR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MR(e,t,r){return t=LR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LR(e){var t=PR(e,"string");return typeof t=="symbol"?t:t+""}function PR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zj(e){return e&&e.map((t,r)=>gd.createElement(t.tag,Im({key:r},t.attr),zj(t.child)))}function nr(e){return t=>gd.createElement(RR,km({attr:Im({},e.attr)},t),zj(e.child))}function RR(e){var t=r=>{var{attr:n,size:a,title:i}=e,c=IR(e,kR),f=a||r.size||"1em",m;return r.className&&(m=r.className),e.className&&(m=(m?m+" ":"")+e.className),gd.createElement("svg",km({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,c,{className:m,style:Im(Im({color:e.color||r.color},r.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),i&&gd.createElement("title",null,i),e.children)};return nS!==void 0?gd.createElement(nS.Consumer,null,r=>t(r)):t(Fj)}function gb(e){return nr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function BR(e){return nr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function FR(e){return nr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function hd(e){return nr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function r1(e){return nr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Uj(e){return nr({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(e)}function zR(e){return nr({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(e)}function UR(e){return nr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function qR(e){return nr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function Dm(e){return nr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Oc(e){return nr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function HR(e){return nr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}function VR(e){return nr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"},child:[]}]})(e)}function GR(e){return nr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M149.333 56v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zm181.334 240v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm32-240v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24zm-32 80V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm-205.334 56H24c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm386.667-56H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm0 160H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zM181.333 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24z"},child:[]}]})(e)}function WR(e){return nr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function YR(e){return nr({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Mm(e){return nr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function $R(e){return nr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function XR(e){return nr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function KR(e){return nr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}const QR=()=>{const e=Ia.c(17),[t,r]=M.useState(null),n=M.useRef(null);let a,i;if(e[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>(n.current=xm("https://api.prithviinnerwears.com",{transports:["websocket"]}),n.current.on("qr-scan-result",N=>{r({status:N.success?"success":"error",message:N.message,orderId:N.order_id}),setTimeout(()=>r(null),5e3)}),()=>{var N;return(N=n.current)==null?void 0:N.disconnect()}),i=[],e[0]=a,e[1]=i):(a=e[0],i=e[1]),M.useEffect(a,i),!t)return null;const c=`p-2 rounded-full ${t.status==="success"?"bg-green-500":"bg-red-500"}`;let f;e[2]!==t.status?(f=t.status==="success"?u.jsx(BR,{size:24}):u.jsx(WR,{size:24}),e[2]=t.status,e[3]=f):f=e[3];let m;e[4]!==c||e[5]!==f?(m=u.jsx("div",{className:c,children:f}),e[4]=c,e[5]=f,e[6]=m):m=e[6];let p;e[7]!==t.message?(p=u.jsx("p",{className:"text-lg font-bold",children:t.message}),e[7]=t.message,e[8]=p):p=e[8];let x;e[9]!==t.orderId?(x=t.orderId&&u.jsxs("p",{className:"text-sm opacity-80 font-mono",children:["Order: #",t.orderId]}),e[9]=t.orderId,e[10]=x):x=e[10];let y;e[11]!==p||e[12]!==x?(y=u.jsxs("div",{children:[p,x]}),e[11]=p,e[12]=x,e[13]=y):y=e[13];let S;return e[14]!==m||e[15]!==y?(S=u.jsxs("div",{className:"fixed bottom-10 right-10 z-[9999] p-6 rounded-2xl shadow-2xl text-white flex items-center gap-4 min-w-[320px] bg-slate-900 border border-slate-700 animate-bounce-in",children:[m,y]}),e[14]=m,e[15]=y,e[16]=S):S=e[16],S},zg="/assets/Xtown-dark-logo-4O547BdS.png",Q5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKcAAABxCAYAAACwcbPeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAITgAACE4AUWWMWAAAAS8SURBVHhe7d3dVRNRFIZhJuFCFzd2ICXYgVqCFagd2IGUgpWoFWAHQgV6Hwh+G88sERKSzO8+e7/PWllDhpDMnPOSMEPQ5gjh3N7evrq+vv56fHz8oqxyRdt2qW172zTNZVm1EXEGEyVMQ5yBRArTEGcQ0cI0xBlAxDANcVYuapiGOCsWOUxDnJWKHqYhzgplCNMQZ2WyhGmIsyKZwjTEWYlsYRrirEDGMA1xOpc1TEOcjmUO0xCnU9nDNMTpkMI81eRfZA7TEKczJUx7xjwtq1wZOkzt77EWJ7o8v1txD3E6ki3MXRZliZklfMbc2V6zWq1+lo9DWSwWl7q802D+LqvcyhKm9rPR5Znu50TLE83PVfnURnbj2/JxODc3Nz+Wy6UNqttANfy8lG8R+mVdYb5SoF8VgMujXsJ8WvifOb0GSpi7pTgg8hYoYe4nzdG6l0AJc39p4jRzB0qYh2nW6/Xn8vGgFMEn7ajLAxFt2+RH8YR5uNF+Q6TJcP3GhSkDJcxuRv31JYESZh+j/249c6CE2c8kb/zIGChh9jfZu5IyBUqYw5gsTpMhUMIczqRxmsiBEuawJo/TRAyUMIc3S5wmUqCEOY7Z4jQRAiXM8cwap6k5UMIc1+xv/NDA/bAB1EAefAAyBYX51JtF3hBmAvYMulqtfmnpkib7QotHgWrdh7sbOGJ/F6aFy2+aamlACbQnwhyRBpZAOyLMCWiACfRAhDkhDTSB7okwZ6ABJ9AdCHNGGngC3YIwHdAEEOgDhOmIJoJAC8J0SBOSPlDCdEwTkzZQwqyAJihdoIRZEU1UmkAJs0KasPCBEmbFNHFhAyXMADSB4QIlzEA0kWECJcyANKHVB0qYgWliqw2UMP/XlGUomuCw/3BDJiHjNARav7BxGgKtW6p/E94bffPYN82mnz/P1uv1+3IV0dizpucDo20HP1p3dncDIdCANK/Vh9ki0EA0n2HCbBFoAJrHcGG2CLRimr+wYbYItEKat/Bhtgi0IpqvNGG2CLQCmqd0YbYI1DHNT9owWwTqkOYlfZgtAnVE80GYDxCoA5oHwtyCQGek8SfMHQh0Bhp3wtwTgU5I402YByLQCWicCbMjAh2RxpcweyLQEWhcCXMgBDogjSdhDqzWQJuydEHj6PoP0rRtG//LPm33C33uQp97FK0X2sYPi8XiS7laBTd/4FZrmMb+etI+Z7cpq9zRNp7zEt+BhVnjS/lDdptyW7cI9AAarxBhtuy2BBqAxilUmC37GgKtmMYnZJgt+1oCrZDGJXSYLbsPAu2uKcvJaDxOy2mX6o7Kuyj7a2chesc+Fm2jy9NMk55KujdRKcI0dl92n3bfZZU76U8zWZieX+KGeinfxu6bl3iHtN+pw2zZYxCoI9pfwrzHHotAHdB+EuYG9pgEOiPtH2E+wR6bQGeg/SLMPdg2EOiEtD+EeQDbFgLdrCnLQWg/XJ9wHuM85hC8j9tYFP35crn8WK4+MthJeMLsroYT9XMYJE7C7I9AH+sdJ2EOh0D/1ytOwhwegf7TOU7CHA+B/tUpTsIcH4FqDMryIIrzjS4vy1V3NLHfaw7zPnsi0OV1uRqK5uhKl2/lKgAAAAAAANDN0dEfkBJeOcr2sPsAAAAASUVORK5CYII=";function qj(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function Ug(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function ZR(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"7",y1:"7",x2:"17",y2:"17"},child:[]},{tag:"polyline",attr:{points:"17 7 17 17 7 17"},child:[]}]})(e)}function qg(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function iS(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"7",y1:"17",x2:"17",y2:"7"},child:[]},{tag:"polyline",attr:{points:"7 7 17 7 17 17"},child:[]}]})(e)}function JR(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(e)}function eB(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function sS(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function tB(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(e)}function rB(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function vm(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function hf(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function xb(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function Wl(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Kl(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function Ql(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function nB(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function aB(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8h1a4 4 0 0 1 0 8h-1"},child:[]},{tag:"path",attr:{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"},child:[]},{tag:"line",attr:{x1:"6",y1:"1",x2:"6",y2:"4"},child:[]},{tag:"line",attr:{x1:"10",y1:"1",x2:"10",y2:"4"},child:[]},{tag:"line",attr:{x1:"14",y1:"1",x2:"14",y2:"4"},child:[]}]})(e)}function Hj(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function Fh(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function zh(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function Ac(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function iB(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(e)}function sB(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(e)}function Vj(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function oS(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(e)}function oB(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function lB(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function Z5(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function vb(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function Gj(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(e)}function cB(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]}]})(e)}function bd(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function Wj(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(e)}function uB(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(e)}function od(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"},child:[]},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"},child:[]},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"},child:[]}]})(e)}function lS(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"polyline",attr:{points:"23 20 23 14 17 14"},child:[]},{tag:"path",attr:{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"},child:[]}]})(e)}function Zo(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function Yj(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function wd(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function dB(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function vh(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function fB(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(e)}function hB(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(e)}function $j(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(e)}function pB(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Xj(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(e)}function pf(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function $0(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function yb(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function To(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function mB(e){return nr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}const Kj=M.createContext(),gB=()=>{if(typeof window>"u")return"dark";const e=localStorage.getItem("theme");return["light","dark","professional","modern","executive","sunset","swiggy"].includes(e)?e:"dark"},xB=e=>{const t=Ia.c(10),{children:r}=e,[n,a]=M.useState(gB);let i,c;t[0]!==n?(i=()=>{if(typeof document>"u")return;const N=document.documentElement;N.dataset.theme=n,localStorage.setItem("theme",n)},c=[n],t[0]=n,t[1]=i,t[2]=c):(i=t[1],c=t[2]),M.useEffect(i,c);let f;t[3]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{a(vB)},t[3]=f):f=t[3];const m=f,p=n==="dark";let x;t[4]!==p||t[5]!==n?(x={theme:n,isDark:p,toggleTheme:m,setTheme:a},t[4]=p,t[5]=n,t[6]=x):x=t[6];const y=x;let S;return t[7]!==r||t[8]!==y?(S=u.jsx(Kj.Provider,{value:y,children:r}),t[7]=r,t[8]=y,t[9]=S):S=t[9],S},bi=()=>{const e=M.useContext(Kj);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e};function vB(e){return e==="dark"?"light":e==="light"?"professional":e==="professional"?"modern":e==="modern"?"executive":e==="executive"?"sunset":e==="sunset"?"swiggy":"dark"}const cS="flex items-center gap-2 rounded-full px-3 py-2 shadow-lg transition-all duration-200 border",J5=e=>{const t=Ia.c(16),{variant:r}=e,n=r===void 0?"floating":r,{theme:a,toggleTheme:i}=bi();let c;t[0]!==a?(c=(()=>{switch(a){case"light":return{icon:u.jsx($j,{}),label:"Light",classes:"bg-white/90 border-gray-200 text-gray-700 hover:border-slate-400 hover:text-slate-900"};case"professional":return{icon:u.jsx(JR,{}),label:"Pro",classes:"bg-black/90 border-amber-500/30 text-amber-500 hover:border-amber-500 hover:shadow-[0_0_15px_rgba(250,198,57,0.3)]"};case"modern":return{icon:u.jsx(mB,{}),label:"Modern",classes:"bg-indigo-950/90 border-indigo-500/30 text-indigo-400 hover:border-indigo-400 hover:shadow-[0_0_15px_rgba(99,102,241,0.3)] hover:text-indigo-300"};case"executive":return{icon:u.jsx(tB,{}),label:"Executive",classes:"bg-blue-50/90 border-blue-500/30 text-blue-700 hover:border-blue-600 hover:shadow-[0_0_15px_rgba(40,116,240,0.2)] hover:text-blue-800"};case"sunset":return{icon:u.jsx(hB,{}),label:"Nature",classes:"bg-amber-50/90 border-amber-500/30 text-amber-800 hover:border-amber-600 hover:shadow-[0_0_15px_rgba(245,158,11,0.3)] hover:text-amber-900"};default:return{icon:u.jsx(Gj,{}),label:"Dark",classes:"bg-slate-800/80 border-slate-700 text-amber-200 hover:border-amber-300 hover:text-white"}}})(),t[0]=a,t[1]=c):c=t[1];const{icon:f,label:m,classes:p}=c;if(n==="inline"){const N=`${cS} ${p} min-w-[90px] justify-center`;let j;t[2]!==m?(j=u.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:m}),t[2]=m,t[3]=j):j=t[3];let _;return t[4]!==f||t[5]!==N||t[6]!==j||t[7]!==i?(_=u.jsxs("button",{onClick:i,className:N,children:[f,j]}),t[4]=f,t[5]=N,t[6]=j,t[7]=i,t[8]=_):_=t[8],_}const x=`${cS} ${p} fixed bottom-28 md:bottom-5 right-5 z-40 backdrop-blur-sm min-w-[100px] justify-center active:scale-95 active:shadow-[0_0_20px_rgba(253,184,19,0.5)] active:text-white active:bg-[var(--brand-primary)] transition-all`;let y;t[9]!==m?(y=u.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:m}),t[9]=m,t[10]=y):y=t[10];let S;return t[11]!==f||t[12]!==x||t[13]!==y||t[14]!==i?(S=u.jsxs("button",{onClick:i,className:x,"aria-label":"Toggle theme",children:[f,y]}),t[11]=f,t[12]=x,t[13]=y,t[14]=i,t[15]=S):S=t[15],S},no=e=>{const t=Ia.c(17),{children:r,showFooter:n,showThemeToggle:a,showLogout:i,theme:c}=e,f=n===void 0?!0:n,m=a===void 0?!0:a,p=i===void 0?!0:i,{isDark:x}=bi(),y=c?c==="dark":x,{user:S,logout:N}=$i(),j=Ha();let _;t[0]!==N||t[1]!==j?(_=async()=>{await N(),j("/login")},t[0]=N,t[1]=j,t[2]=_):_=t[2];const T=_;let I;t[3]!==r?(I=u.jsx("main",{className:"flex-1 w-full",children:r}),t[3]=r,t[4]=I):I=t[4];let R;t[5]!==T||t[6]!==y||t[7]!==f||t[8]!==p||t[9]!==S?(R=f&&u.jsx("footer",{className:"border-t py-6 px-6 backdrop-blur-md supports-[backdrop-filter]:bg-opacity-80 transition-colors duration-300 bg-[var(--surface-card)]/90 border-[var(--border-default)]",children:u.jsx("div",{className:"max-w-7xl mx-auto w-full",children:u.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-3 items-center gap-6 lg:gap-4 min-h-[60px] py-2 lg:py-0",children:[u.jsx("div",{className:"flex justify-center md:justify-start lg:justify-start w-full md:w-auto lg:w-full order-2 md:order-2 lg:order-1",children:S&&p?u.jsx("button",{onClick:T,className:"flex items-center text-red-500 hover:opacity-80 transition-all duration-300 active:scale-95",title:"Logout",children:u.jsx(Z5,{size:28})}):u.jsx("div",{className:"hidden lg:block"})}),u.jsx("div",{className:"flex justify-center md:justify-end lg:justify-center w-full md:w-auto lg:w-full order-3 md:order-3 lg:order-2",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-widest text-[var(--text-secondary)]",children:"Powered by"}),u.jsx("img",{src:y?Q5:zg,alt:"XTOWN",className:`h-6 md:h-8 object-contain drop-shadow-md transition-all duration-300 hover:scale-110 ${y?"brightness-125":"brightness-100"}`})]})}),u.jsx("div",{className:"flex flex-wrap items-center justify-center lg:justify-end gap-x-6 gap-y-2 text-sm font-medium w-full lg:w-full order-1 md:order-1 lg:order-3 md:basis-full lg:basis-auto md:mb-4 lg:mb-0",children:[{to:"/policies/terms",label:"Terms"},{to:"/policies/privacy",label:"Privacy"},{to:"/policies/refund",label:"Refund"},{to:"/policies/shipping",label:"Shipping"}].map(yB)})]})})}),t[5]=T,t[6]=y,t[7]=f,t[8]=p,t[9]=S,t[10]=R):R=t[10];let F;t[11]!==m?(F=m&&u.jsx(J5,{}),t[11]=m,t[12]=F):F=t[12];let G;return t[13]!==I||t[14]!==R||t[15]!==F?(G=u.jsxs("div",{className:"min-h-screen flex flex-col transition-colors duration-300 bg-[var(--surface-main)] text-[var(--text-primary)]",children:[I,R,F]}),t[13]=I,t[14]=R,t[15]=F,t[16]=G):G=t[16],G};function yB(e){return u.jsx(Ii,{to:e.to,className:"transition-colors duration-200 text-[var(--text-secondary)] hover:text-[var(--brand-primary)]",children:e.label},e.to)}const Lm="/assets/prithvi-logo-FnUipjfh.jpg",bB=e=>{const t=Ia.c(48),{isOpen:r,setIsOpen:n}=e,{pathname:a}=kd(),{theme:i,isDark:c}=bi();let f,m,p,x,y,S;if(t[0]!==c||t[1]!==r||t[2]!==a||t[3]!==n||t[4]!==i){const J=[{path:"/admin/dashboard",icon:Vj,label:"Dashboard"},{path:"/admin/products",icon:bd,label:"Items"},{path:"/admin/AdminCheckout",icon:vh,label:"Orders"},{path:"/admin/meal-scheduler",icon:rB,label:"Meal Plan"},{path:"/admin/users",icon:Xj,label:"Users"},{path:"/admin/employees",icon:$0,label:"Employees"},{path:"/admin/units",icon:sB,label:"Units"},{path:"/admin/logs",icon:oB,label:"Logs"},{path:"/admin/reports",icon:Wj,label:"Reports"}],V=oe=>a===oe,$=()=>{window.innerWidth<=1280&&n(!1)};t[11]!==r||t[12]!==n?(S=r&&u.jsx("div",{className:"fixed inset-0 z-40 lg:hidden bg-black/60 backdrop-blur-sm transition-opacity duration-300",onClick:()=>n(!1)}),t[11]=r,t[12]=n,t[13]=S):S=t[13],p=`
          fixed z-50 transition-all duration-300 ease-in-out border-[var(--border-default)]
          ${i==="dark"?"bg-gradient-to-b from-[#1D265B] via-[#1D265B] to-[#FDB813]":i==="professional"?"bg-[var(--surface-card)]":i==="modern"?"bg-gradient-to-b from-[#0f172a] to-[#1e293b] border-r border-indigo-500/10":i==="executive"?"bg-gradient-to-b from-blue-50 to-white border-r border-blue-200":i==="sunset"?"bg-gradient-to-b from-amber-50 to-white border-r border-amber-200":i==="swiggy"?"bg-gradient-to-b from-orange-50 to-white border-r border-orange-200":"bg-[var(--surface-card)]"}
          
          /* Mobile: Dropdown Styling - responsive width and centering */
          top-[4.5rem] left-1/2 -translate-x-1/2 w-[calc(100%-2rem)] max-w-[400px] rounded-3xl shadow-2xl border
          ${r?"opacity-100 scale-100 translate-y-0 visible":"opacity-0 scale-95 -translate-y-4 invisible pointer-events-none"}
          
          /* Desktop/Tablet: Sidebar Styling (Overrides Mobile) */
          lg:visible lg:opacity-100 lg:scale-100 lg:translate-y-0 lg:translate-x-0 lg:pointer-events-auto
          lg:top-0 lg:left-0 lg:h-screen lg:rounded-none lg:shadow-[10px_0_30px_rgba(0,0,0,0.2)] 
          lg:border-r ${c?"lg:border-white/10":"lg:border-[var(--border-default)]"}
          lg:min-w-0
          ${r?"lg:w-64":"lg:w-20"}
        `;let W;t[14]===Symbol.for("react.memo_cache_sentinel")?(W=u.jsx("div",{className:"flex items-center justify-center flex-1",children:u.jsx("div",{className:"w-24 h-8 rounded-xl overflow-hidden",children:u.jsx("img",{src:Lm,alt:"Prithvi Logo",className:"w-full h-full object-contain object-center"})})}),t[14]=W):W=t[14];let Ne;t[15]!==n?(Ne=()=>n(!1),t[15]=n,t[16]=Ne):Ne=t[16];let Z;t[17]===Symbol.for("react.memo_cache_sentinel")?(Z=u.jsx(To,{size:20}),t[17]=Z):Z=t[17],t[18]!==Ne?(x=u.jsxs("div",{className:"xl:hidden flex items-center justify-between p-4 border-b border-white/10 bg-white/5",children:[W,u.jsx("button",{onClick:Ne,className:"p-2 rounded-xl bg-white/10 text-white hover:bg-white/20 transition-colors",children:Z})]}),t[18]=Ne,t[19]=x):x=t[19];const Q=`hidden lg:flex items-center justify-center transition-all duration-300 ${r?"px-4 pt-8 pb-2":"px-4 py-8"}`,me=`shrink-0 transition-all duration-500 hover:scale-105 active:scale-95 ${r?"w-full max-w-[110px] flex justify-center":"w-8 h-8 rounded-lg overflow-hidden border border-white/10 shadow-2xl"}`,re=`w-[110px] h-auto ${r?"object-contain":"object-cover"}`;let q;t[20]!==re?(q=u.jsx("img",{src:Lm,alt:"Prithvi Logo",className:re}),t[20]=re,t[21]=q):q=t[21];let ie;t[22]!==me||t[23]!==q?(ie=u.jsx("div",{className:me,children:q}),t[22]=me,t[23]=q,t[24]=ie):ie=t[24],t[25]!==Q||t[26]!==ie?(y=u.jsx("div",{className:Q,children:ie}),t[25]=Q,t[26]=ie,t[27]=y):y=t[27],f=`flex-1 overflow-y-auto overflow-x-hidden py-4 pt-2 max-h-[calc(100vh-16rem)] lg:max-h-full grid grid-cols-2 gap-2 lg:flex lg:flex-col lg:gap-1 lg:space-y-1 transition-all duration-300 custom-scrollbar ${r?"px-3":"lg:px-0 px-3"}`,m=J.map(oe=>{const de=V(oe.path);return u.jsxs(Ii,{to:oe.path,onClick:$,className:`flex flex-col lg:flex-row items-center justify-center ${r?"lg:justify-start lg:px-3":"lg:justify-center lg:px-2"} gap-2 lg:gap-3 px-3 py-3 lg:py-3 rounded-xl text-base lg:text-lg font-medium transition-all ${de?"bg-[var(--brand-primary)] text-[var(--text-inverse)] shadow-lg shadow-[var(--brand-primary)]/30 scale-[1.02]":i==="dark"?"text-white/60 hover:bg-white/10 hover:text-white":i==="professional"?"text-slate-400 hover:bg-white/5 hover:text-white":i==="modern"?"text-indigo-400/70 hover:bg-indigo-500/10 hover:text-indigo-300":i==="executive"?"text-blue-700/70 hover:bg-blue-50 hover:text-blue-900":i==="sunset"?"text-amber-800/70 hover:bg-amber-50 hover:text-amber-900":i==="swiggy"?"text-orange-900/70 hover:bg-orange-50 hover:text-orange-900":"text-[var(--text-secondary)] hover:bg-[var(--surface-muted)] hover:text-[var(--text-primary)]"}`,children:[u.jsx(oe.icon,{size:20,className:de?"text-[var(--text-inverse)]":"opacity-70"}),u.jsx("span",{className:`text-center md:text-left tracking-wide transition-all duration-300 ${r?"lg:opacity-100":"lg:opacity-0 lg:w-0 lg:overflow-hidden"}`,children:oe.label})]},oe.path)}),t[0]=c,t[1]=r,t[2]=a,t[3]=n,t[4]=i,t[5]=f,t[6]=m,t[7]=p,t[8]=x,t[9]=y,t[10]=S}else f=t[5],m=t[6],p=t[7],x=t[8],y=t[9],S=t[10];let N;t[28]!==f||t[29]!==m?(N=u.jsx("nav",{className:f,children:m}),t[28]=f,t[29]=m,t[30]=N):N=t[30];const j=`p-4 border-t transition-all duration-300 ${c?"border-white/10":"border-[var(--border-default)]"} ${!r&&"lg:hidden"}`,_=`text-[10px] font-semibold tracking-widest transition-opacity duration-300 ${c?"text-white/40":"text-[var(--text-secondary)]"} ${!r&&"lg:opacity-0"}`;let T;t[31]!==_?(T=u.jsx("span",{className:_,children:"Theme"}),t[31]=_,t[32]=T):T=t[32];let I;t[33]===Symbol.for("react.memo_cache_sentinel")?(I=u.jsx(J5,{variant:"inline"}),t[33]=I):I=t[33];let R;t[34]!==T?(R=u.jsxs("div",{className:"flex items-center justify-between px-2",children:[T,I]}),t[34]=T,t[35]=R):R=t[35];let F;t[36]!==R||t[37]!==j?(F=u.jsx("div",{className:j,children:R}),t[36]=R,t[37]=j,t[38]=F):F=t[38];let G;t[39]!==F||t[40]!==p||t[41]!==x||t[42]!==y||t[43]!==N?(G=u.jsxs("aside",{className:p,children:[x,y,N,F]}),t[39]=F,t[40]=p,t[41]=x,t[42]=y,t[43]=N,t[44]=G):G=t[44];let Y;return t[45]!==G||t[46]!==S?(Y=u.jsxs(u.Fragment,{children:[S,G]}),t[45]=G,t[46]=S,t[47]=Y):Y=t[47],Y},ci=e=>{const t=Ia.c(52),{children:r}=e,[n,a]=M.useState(wB),[i,c]=M.useState(!1),{theme:f,isDark:m}=bi(),{user:p,logout:x}=$i(),y=Ha();let S;t[0]!==x||t[1]!==y?(S=async()=>{await x(),y("/login")},t[0]=x,t[1]=y,t[2]=S):S=t[2];const N=S;let j;t[3]!==n?(j=u.jsx(bB,{isOpen:n,setIsOpen:a}),t[3]=n,t[4]=j):j=t[4];const _=`${n?"lg:ml-64":"lg:ml-20"} flex flex-col min-h-screen transition-all duration-300`,T=`h-16 px-4 sm:px-6 flex items-center justify-between sticky top-0 z-10 backdrop-blur-md border-b shadow-lg transition-all duration-300 ${f==="dark"?"bg-gradient-to-r from-[#1D265B] via-[#1D265B] to-[#FDB813] border-white/5":f==="modern"?"bg-gradient-to-r from-[#0f172a] to-[#1e293b] border-indigo-500/10":f==="executive"?"bg-gradient-to-r from-blue-50 to-white border-blue-200":f==="sunset"?"bg-gradient-to-r from-amber-50 to-white border-amber-200":f==="swiggy"?"bg-gradient-to-r from-orange-50 to-white border-orange-200":"bg-[var(--surface-card)] border-[var(--border-default)]"}`;let I;t[5]!==n?(I=()=>a(!n),t[5]=n,t[6]=I):I=t[6];const R=`p-2 rounded-lg transition-colors ${m?"hover:bg-white/10 text-white":"hover:bg-[var(--surface-muted)] text-[var(--text-primary)]"}`;let F;t[7]===Symbol.for("react.memo_cache_sentinel")?(F=u.jsx(vb,{size:24}),t[7]=F):F=t[7];let G;t[8]!==I||t[9]!==R?(G=u.jsx("div",{className:"flex items-center gap-3",children:u.jsx("button",{onClick:I,className:R,"aria-label":"Toggle sidebar",children:F})}),t[8]=I,t[9]=R,t[10]=G):G=t[10];let Y;t[11]!==i?(Y=()=>c(!i),t[11]=i,t[12]=Y):Y=t[12];const J=`flex items-center gap-2 p-2 rounded-lg transition-colors focus:outline-none ${m?"hover:bg-white/10 text-white":"hover:bg-[var(--surface-muted)] text-[var(--text-primary)]"}`,V=`w-8 h-8 rounded-full flex items-center justify-center border transition-all ${m?"bg-white/20 text-white border-white/30":"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)] border-[var(--brand-primary)]/30"}`;let $;t[13]===Symbol.for("react.memo_cache_sentinel")?($=u.jsx(pf,{size:18}),t[13]=$):$=t[13];let W;t[14]!==V?(W=u.jsx("div",{className:V,children:$}),t[14]=V,t[15]=W):W=t[15];const Ne=(p==null?void 0:p.username)||"Admin";let Z;t[16]!==Ne?(Z=u.jsx("span",{className:"hidden sm:block text-sm font-black uppercase tracking-wider",children:Ne}),t[16]=Ne,t[17]=Z):Z=t[17];let Q;t[18]!==J||t[19]!==W||t[20]!==Z||t[21]!==Y?(Q=u.jsxs("button",{onClick:Y,className:J,children:[W,Z]}),t[18]=J,t[19]=W,t[20]=Z,t[21]=Y,t[22]=Q):Q=t[22];let me;t[23]!==N||t[24]!==i||t[25]!==(p==null?void 0:p.role)||t[26]!==(p==null?void 0:p.username)?(me=i&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)}),u.jsxs("div",{className:"absolute right-0 mt-2 w-48 rounded-xl shadow-lg border border-[var(--border-default)] bg-[var(--surface-card)] py-1 z-20 animate-fade-in-down origin-top-right",children:[u.jsxs("div",{className:"px-4 py-3 border-b border-[var(--border-default)]",children:[u.jsx("p",{className:"text-sm font-semibold text-[var(--text-primary)] uppercase",children:(p==null?void 0:p.username)||"Admin"}),u.jsx("p",{className:"text-xs text-[var(--text-secondary)] capitalize",children:(p==null?void 0:p.role)||"user"})]}),u.jsxs("button",{onClick:N,className:"w-full text-left px-4 py-2 text-sm text-[var(--brand-danger)] hover:bg-[var(--brand-danger)]/5 flex items-center gap-2 transition-colors",children:[u.jsx(Z5,{size:16}),"Logout"]})]})]}),t[23]=N,t[24]=i,t[25]=p==null?void 0:p.role,t[26]=p==null?void 0:p.username,t[27]=me):me=t[27];let re;t[28]!==Q||t[29]!==me?(re=u.jsx("div",{className:"flex items-center gap-3 ml-auto",children:u.jsxs("div",{className:"relative",children:[Q,me]})}),t[28]=Q,t[29]=me,t[30]=re):re=t[30];let q;t[31]!==re||t[32]!==T||t[33]!==G?(q=u.jsxs("header",{className:T,children:[G,re]}),t[31]=re,t[32]=T,t[33]=G,t[34]=q):q=t[34];let ie;t[35]!==r?(ie=u.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 animate-fade-in",children:r}),t[35]=r,t[36]=ie):ie=t[36];let oe;t[37]===Symbol.for("react.memo_cache_sentinel")?(oe=u.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-40 group-hover:opacity-60 transition-opacity",children:"Powered by"}),t[37]=oe):oe=t[37];const de=m?Q5:zg,ee=`h-6 md:h-8 object-contain drop-shadow-md transition-all duration-300 hover:scale-110 ${m?"brightness-125":"brightness-100"}`;let Ae;t[38]!==de||t[39]!==ee?(Ae=u.jsxs("div",{className:"flex items-center gap-3 hover:scale-105 transition-all duration-300 group cursor-default",children:[oe,u.jsx("img",{src:de,alt:"XTOWN",className:ee})]}),t[38]=de,t[39]=ee,t[40]=Ae):Ae=t[40];let ce;t[41]===Symbol.for("react.memo_cache_sentinel")?(ce=u.jsx("div",{className:"absolute right-0 hidden sm:flex gap-4",children:[{to:"/policies/terms",label:"Terms"},{to:"/policies/privacy",label:"Privacy"},{to:"/policies/refund",label:"Refund"},{to:"/policies/shipping",label:"Shipping"}].map(AB)}),t[41]=ce):ce=t[41];let U;t[42]!==Ae?(U=u.jsx("footer",{className:"border-t py-4 px-6 border-[var(--border-default)] bg-[var(--surface-card)] shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]",children:u.jsxs("div",{className:"relative flex items-center justify-center text-sm",children:[Ae,ce]})}),t[42]=Ae,t[43]=U):U=t[43];let H;t[44]!==q||t[45]!==ie||t[46]!==U||t[47]!==_?(H=u.jsxs("div",{className:_,children:[q,ie,U]}),t[44]=q,t[45]=ie,t[46]=U,t[47]=_,t[48]=H):H=t[48];let se;return t[49]!==j||t[50]!==H?(se=u.jsxs("div",{className:"min-h-screen transition-colors duration-300 bg-[var(--surface-main)] text-[var(--text-primary)]",children:[j,H]}),t[49]=j,t[50]=H,t[51]=se):se=t[51],se};function wB(){return window.innerWidth>1280}function AB(e){return u.jsx(Ii,{to:e.to,className:"transition-colors hover:underline hover:text-[var(--brand-primary)] opacity-70 hover:opacity-100",children:e.label},e.to)}const NB="/assets/login_bg-Bt8-Vr8u.jpg",SB=()=>{const e=Ia.c(77),[t,r]=M.useState("Admin"),[n,a]=M.useState(""),[i,c]=M.useState(""),[f,m]=M.useState(!1),[p,x]=M.useState(""),[y,S]=M.useState(!1),{login:N,employeeLogin:j,user:_,loading:T}=$i(),I=Ha();let R,F;e[0]!==T||e[1]!==I||e[2]!==_?(R=()=>{var Bt;if(!T&&_){const lr=(Bt=_.role)==null?void 0:Bt.toLowerCase();["admin","unit_admin"].includes(lr)?I("/admin/dashboard"):I("/kiosk/products")}},F=[_,T,I],e[0]=T,e[1]=I,e[2]=_,e[3]=R,e[4]=F):(R=e[3],F=e[4]),M.useEffect(R,F);let G;e[5]===Symbol.for("react.memo_cache_sentinel")?(G=Bt=>{r(Bt),a(""),c(""),x(""),m(!1)},e[5]=G):G=e[5];const Y=G;let J;e[6]!==j||e[7]!==n||e[8]!==N||e[9]!==I||e[10]!==i||e[11]!==t?(J=async Bt=>{Bt.preventDefault(),x(""),S(!0),console.log("Login Attempt:",{role:t,identifier:n,passwordLength:i==null?void 0:i.length});let lr;if(t==="Admin"||t==="Unit Admin"||t==="Kiosk"){if(lr=await N(n,i),console.log("Auth API Result:",lr),lr.success&&t==="Kiosk"&&!lr.user.unit_id){x("You are not assigned to a unit. Please contact administrator."),S(!1);return}}else lr=await j(n,i),console.log("Employee Auth API Result:",lr);if(lr.success){const Qt=lr.user.role;["admin","unit_admin"].includes(Qt)?I("/admin/dashboard"):I("/kiosk/products")}else x(lr.error);S(!1)},e[6]=j,e[7]=n,e[8]=N,e[9]=I,e[10]=i,e[11]=t,e[12]=J):J=e[12];const V=J;let $;e[13]!==t?($=()=>{switch(t){case"Admin":return"Username";case"Unit Admin":return"Username";case"Kiosk":return"Username";case"Employee":return"Employee ID";default:return"Identifier"}},e[13]=t,e[14]=$):$=e[14];const W=$;let Ne;e[15]!==t?(Ne=()=>{switch(t){case"Admin":return"e.g. admin.user";case"Unit Admin":return"e.g. unit.admin";case"Kiosk":return"e.g. kiosk_101";case"Employee":return"e.g. 100123";default:return"Enter your ID"}},e[15]=t,e[16]=Ne):Ne=e[16];const Z=Ne;let Q;e[17]!==n||e[18]!==i?(Q=n.trim()!==""&&i.trim()!=="",e[17]=n,e[18]=i,e[19]=Q):Q=e[19];const me=Q;let re;e[20]===Symbol.for("react.memo_cache_sentinel")?(re=u.jsxs("div",{className:"fixed inset-0 z-0",children:[u.jsx("img",{src:NB,alt:"Background",className:"absolute inset-0 w-full h-full object-cover object-center animate-page-zoom-out opacity-60 md:opacity-80 lg:opacity-100"}),u.jsx("div",{className:"absolute inset-0 bg-black/30 md:bg-black/20 lg:bg-black/10"})]}),e[20]=re):re=e[20];let q,ie;e[21]===Symbol.for("react.memo_cache_sentinel")?(q=u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"w-40 h-auto rounded-xl overflow-hidden bg-transparent",children:u.jsx("img",{src:Lm,alt:"Logo",className:"w-full h-full object-contain mix-blend-multiply"})})}),ie=u.jsx("h1",{className:"text-2xl md:text-4xl font-black uppercase tracking-[0.1em] mb-1 drop-shadow-sm animate-venum-glow animate-venum-pulse",children:"Welcome to CMS"}),e[21]=q,e[22]=ie):(q=e[21],ie=e[22]);const oe=t==="Admin"?"Admin Access":t==="Unit Admin"?"Unit Admin Access":t==="Kiosk"?"Kiosk Login":"Employee Portal";let de;e[23]!==oe?(de=u.jsxs("div",{className:"mb-6 md:mb-8 text-center text-white lg:text-slate-900",children:[q,ie,u.jsx("p",{className:"text-sm md:text-lg font-bold tracking-tight leading-none opacity-80 drop-shadow-md lg:drop-shadow-none",children:oe})]}),e[23]=oe,e[24]=de):de=e[24];let ee;e[25]===Symbol.for("react.memo_cache_sentinel")?(ee=["Admin","Kiosk","Employee"],e[25]=ee):ee=e[25];let Ae;e[26]!==t?(Ae=u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-1.5 p-1.5 bg-black/20 md:bg-black/5 rounded-2xl mb-8 border border-white/10 lg:border-black/5 sticky top-0 z-30",children:ee.map(Bt=>{const lr=Bt==="Unit Admin"?"Unit":Bt==="Employee"?"Emp":Bt;return u.jsx("button",{type:"button",onClick:()=>Y(Bt),className:`w-full !p-0 !py-2.5 lg:!py-3.5 text-[10px] sm:text-[11px] lg:text-xs font-black tracking-tighter sm:tracking-widest rounded-xl whitespace-nowrap transition-all duration-300 relative overflow-hidden ${t===Bt?"bg-white text-orange-600 shadow-lg scale-[1.02]":"text-white lg:text-slate-700 hover:bg-white/10"}`,children:lr},Bt)})}),e[26]=t,e[27]=Ae):Ae=e[27];let ce;e[28]!==p?(ce=p&&u.jsx("div",{className:"bg-red-500/20 border border-red-500/30 text-white lg:text-red-900 px-4 py-3 rounded-2xl text-[11px] font-black animate-shake text-center uppercase tracking-wider",children:p}),e[28]=p,e[29]=ce):ce=e[29];const U=W();let H;e[30]!==U?(H=u.jsx("label",{className:"hidden sm:block text-[10px] font-black text-white/60 lg:text-slate-500 uppercase tracking-widest ml-4 mb-1",children:U}),e[30]=U,e[31]=H):H=e[31];const se=Z();let ve;e[32]===Symbol.for("react.memo_cache_sentinel")?(ve=Bt=>a(Bt.target.value),e[32]=ve):ve=e[32];let ne;e[33]!==n||e[34]!==se?(ne=u.jsx("input",{type:"text",placeholder:se,value:n,onChange:ve,className:"normal-case w-full px-6 py-4 rounded-2xl !bg-white/90 lg:!bg-white/80 border border-white/40 focus:!bg-white focus:border-orange-400 focus:ring-4 focus:ring-orange-400/20 !text-slate-900 placeholder:text-slate-400 transition-all outline-none font-bold text-base shadow-sm pr-14",required:!0}),e[33]=n,e[34]=se,e[35]=ne):ne=e[35];let le;e[36]===Symbol.for("react.memo_cache_sentinel")?(le=u.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 !w-[36px] !h-[36px] flex items-center justify-center bg-orange-100 rounded-xl text-orange-600",children:u.jsx(pf,{size:18})}),e[36]=le):le=e[36];let je;e[37]!==ne?(je=u.jsxs("div",{className:"relative",children:[ne,le]}),e[37]=ne,e[38]=je):je=e[38];let pe;e[39]!==H||e[40]!==je?(pe=u.jsxs("div",{className:"relative group",children:[H,je]}),e[39]=H,e[40]=je,e[41]=pe):pe=e[41];let Te;e[42]===Symbol.for("react.memo_cache_sentinel")?(Te=u.jsx("label",{className:"hidden sm:block text-[10px] font-black text-white/60 lg:text-slate-500 uppercase tracking-widest ml-4 mb-1",children:"Password"}),e[42]=Te):Te=e[42];const ke=f?"text":"password";let ue;e[43]===Symbol.for("react.memo_cache_sentinel")?(ue=Bt=>c(Bt.target.value),e[43]=ue):ue=e[43];let Le;e[44]!==i||e[45]!==ke?(Le=u.jsx("input",{type:ke,placeholder:"",value:i,onChange:ue,className:"w-full px-6 py-4 pr-16 rounded-2xl !bg-white/90 lg:!bg-white/80 border border-white/40 focus:!bg-white focus:border-orange-400 focus:ring-4 focus:ring-orange-400/20 !text-slate-900 placeholder:text-slate-400 transition-all outline-none font-bold text-base shadow-sm",required:!0}),e[44]=i,e[45]=ke,e[46]=Le):Le=e[46];let $e;e[47]!==f?($e=()=>m(!f),e[47]=f,e[48]=$e):$e=e[48];let Be;e[49]!==f?(Be=f?u.jsx(Fh,{size:18}):u.jsx(zh,{size:18}),e[49]=f,e[50]=Be):Be=e[50];let ae;e[51]!==$e||e[52]!==Be?(ae=u.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:u.jsx("button",{type:"button",onClick:$e,className:"!w-[36px] !h-[36px] !min-w-0 !min-h-0 !p-0 flex items-center justify-center bg-orange-100 rounded-xl text-orange-600 hover:bg-orange-200 transition-colors",children:Be})}),e[51]=$e,e[52]=Be,e[53]=ae):ae=e[53];let nt;e[54]!==Le||e[55]!==ae?(nt=u.jsxs("div",{className:"relative group",children:[Te,u.jsxs("div",{className:"relative w-full",children:[Le,ae]})]}),e[54]=Le,e[55]=ae,e[56]=nt):nt=e[56];const at=y||!me;let Re;e[57]!==y?(Re=y?u.jsx(Zo,{className:"animate-spin",size:18}):"Sign In",e[57]=y,e[58]=Re):Re=e[58];let Qe;e[59]!==at||e[60]!==Re?(Qe=u.jsx("button",{type:"submit",disabled:at,className:"w-full py-4.5 rounded-2xl bg-gradient-to-r from-orange-500 to-amber-500 text-white font-black uppercase tracking-[0.2em] text-[13px] shadow-xl shadow-orange-500/30 hover:shadow-orange-500/40 hover:scale-[1.02] active:scale-95 transition-all duration-300 disabled:opacity-60 mt-6 border-t border-white/20 flex items-center justify-center gap-3",children:Re}),e[59]=at,e[60]=Re,e[61]=Qe):Qe=e[61];let Fe;e[62]!==V||e[63]!==ce||e[64]!==pe||e[65]!==nt||e[66]!==Qe?(Fe=u.jsxs("form",{onSubmit:V,className:"space-y-4",children:[ce,pe,nt,Qe]}),e[62]=V,e[63]=ce,e[64]=pe,e[65]=nt,e[66]=Qe,e[67]=Fe):Fe=e[67];let et;e[68]!==de||e[69]!==Ae||e[70]!==Fe?(et=u.jsx("div",{className:"relative z-10 w-full sm:max-w-[440px] md:max-w-[480px] lg:max-w-[460px] xl:max-w-[500px] px-4 sm:px-6 mx-auto md:mx-0 md:w-1/2 flex justify-center md:justify-end xl:justify-center mt-auto sm:mt-0",children:u.jsxs("div",{className:"bg-white/20 backdrop-blur-3xl lg:bg-white/30 rounded-[2.5rem] p-8 sm:p-10 shadow-2xl border border-white/30 lg:border-white/40 animate-in fade-in slide-in-from-bottom-8 duration-700",children:[de,Ae,Fe]})}),e[68]=de,e[69]=Ae,e[70]=Fe,e[71]=et):et=e[71];let St;e[72]===Symbol.for("react.memo_cache_sentinel")?(St=u.jsx("div",{className:"font-bold text-white uppercase tracking-widest drop-shadow-md md:bg-black/10 md:backdrop-blur-sm md:p-2 md:rounded-lg mb-2",children:u.jsxs("div",{className:"flex flex-wrap justify-center md:justify-end items-center gap-x-8 gap-y-4 text-[10px] sm:text-xs text-center md:text-right",children:[u.jsx(Ii,{to:"/policies/shipping",className:"hover:text-orange-300 transition-all whitespace-nowrap hover:scale-105",children:"Shipping"}),u.jsx(Ii,{to:"/policies/terms",className:"hover:text-orange-300 transition-all whitespace-nowrap hover:scale-105",children:"Terms"}),u.jsx(Ii,{to:"/policies/privacy",className:"hover:text-orange-300 transition-all whitespace-nowrap hover:scale-105",children:"Privacy"}),u.jsx(Ii,{to:"/policies/refund",className:"hover:text-orange-300 transition-all whitespace-nowrap hover:scale-105",children:"Refund"}),u.jsx(Ii,{to:"/kitchen/login",className:"hover:text-orange-300 transition-all whitespace-nowrap hover:scale-105 font-black text-orange-500",children:"Kitchen Display"})]})}),e[72]=St):St=e[72];let qt;e[73]===Symbol.for("react.memo_cache_sentinel")?(qt=u.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-white/60",children:"Powered by"}),e[73]=qt):qt=e[73];let Wt;e[74]===Symbol.for("react.memo_cache_sentinel")?(Wt=u.jsxs("div",{className:"relative md:fixed bottom-0 md:bottom-10 left-0 right-0 md:left-auto md:right-10 z-20 flex flex-col items-center md:items-end gap-2 opacity-100 px-6 py-12 md:py-0 mt-12 sm:mt-8 md:mt-0",children:[St,u.jsxs("div",{className:"flex items-center gap-2 opacity-80 hover:opacity-100 transition-opacity",children:[qt,u.jsx("img",{src:zg,alt:"XTOWN",className:"h-6 object-contain invert brightness-0 saturate-100 filter drop-shadow-sm",style:{filter:"brightness(0) invert(1)"}})]})]}),e[74]=Wt):Wt=e[74];let tr;return e[75]!==et?(tr=u.jsx(no,{showFooter:!1,showThemeToggle:!1,theme:"light",children:u.jsxs("div",{className:"relative w-full min-h-screen overflow-y-auto flex flex-col items-center md:flex-row md:items-center bg-slate-900 py-10 sm:py-0",children:[re,et,Wt]})}),e[75]=et,e[76]=tr):tr=e[76],tr},eo="/assets/No_image-D4JWfVLz.png",EB=()=>{var Te,ke;const[e,t]=M.useState([]),[r,n]=M.useState(!0),[a,i]=M.useState(""),[c,f]=M.useState(0),[m,p]=M.useState(1),[x,y]=M.useState(1),[S,N]=M.useState(50),[j,_]=M.useState(0),[T,I]=M.useState(!1),[R,F]=M.useState(()=>localStorage.getItem("productViewMode")||"card"),[G,Y]=M.useState(null),[J,V]=M.useState(""),{selectedUnit:$,selectedProducts:W,adjustProductQuantity:Ne,calculatePerDayTotal:Z}=G5(),Q=Ha(),{isDark:me}=bi(),{user:re}=$i(),[q,ie]=M.useState(!1),[oe,de]=M.useState(!1),[ee,Ae]=M.useState(!1);M.useEffect(()=>{localStorage.setItem("productViewMode",R)},[R]);const ce=M.useCallback(async ue=>{var Le,$e,Be,ae,nt,at,Re;try{n(!0),i("");const Qe={page:ue,limit:S,search:J||void 0},Fe=await Ut.get("/items/",{params:Qe});console.log(" Kiosk Item Fetch success");const et=Array.isArray((Le=Fe.data)==null?void 0:Le.items)?Fe.data.items:Array.isArray(($e=Fe.data)==null?void 0:$e.products)?Fe.data.products:Array.isArray(Fe.data)?Fe.data:[];t(et),p(((Be=Fe.data)==null?void 0:Be.currentPage)||ue),y(((ae=Fe.data)==null?void 0:ae.totalPages)||1),_(((nt=Fe.data)==null?void 0:nt.totalItems)||((at=Fe.data)==null?void 0:at.totalProducts)||((Re=Fe.data)==null?void 0:Re.total)||et.length),et.length||i("No Items available.")}catch(Qe){console.error(" Fetch Items error:",Qe),i("Failed to load Items.")}finally{n(!1)}},[J]);M.useEffect(()=>{const ue=setTimeout(()=>{ce(m)},500);return()=>clearTimeout(ue)},[m,ce]);const[U,H]=M.useState([]),[se,ve]=M.useState(!1);M.useEffect(()=>{(async()=>{var Le;if(!(!(re!=null&&re.id)&&!(re!=null&&re.emp_code)&&!(re!=null&&re.username)))try{ve(!0);const $e=await Ut.get("/orders",{params:{limit:20}});let Be=((Le=$e.data)==null?void 0:Le.orders)||$e.data||[];if(Be=Be.filter(Qe=>re.id&&Qe.user_id?String(Qe.user_id)===String(re.id):re.emp_code&&Qe.emp_code?Qe.emp_code===re.emp_code:!0),Be.length===0)return;const ae={};Be.forEach(Qe=>{const Fe=Qe.items||Qe.order_items||[];Fe.length>0?Fe.forEach(et=>{const St=et.item_id||et.id||et.product_id;St&&(ae[St]=(ae[St]||0)+(et.quantity||1))}):Qe.item_ids&&Array.isArray(Qe.item_ids)&&Qe.item_ids.forEach(et=>{ae[et]=(ae[et]||0)+1})});const nt=Object.keys(ae).sort((Qe,Fe)=>ae[Fe]-ae[Qe]).slice(0,4);if(nt.length===0)return;const at=nt.map(Qe=>Ut.get(`/items/${Qe}`).then(Fe=>{var et,St;return((et=Fe.data)==null?void 0:et.item)||((St=Fe.data)==null?void 0:St.product)||Fe.data}).catch(()=>null)),Re=(await Promise.all(at)).filter(Boolean);H(Re)}catch($e){console.error("Failed to load recommendations",$e)}finally{ve(!1)}})()},[re]);const ne=ue=>W.filter(Le=>Le.id===ue).reduce((Le,$e)=>Le+($e.quantity||0),0),le=M.useMemo(()=>{const ue={};return W.forEach(Le=>{ue[Le.id]=(ue[Le.id]||0)+(Le.quantity||0)}),ue},[W]),je=M.useMemo(()=>W.reduce((ue,Le)=>ue+(Le.quantity||0),0),[W]),pe=()=>{if(!je){alert("Select at least one Item");return}Q("/kiosk/calendar")};return r?u.jsx(no,{children:u.jsx(qs,{})}):u.jsx(no,{children:u.jsx("div",{className:"min-h-screen transition-colors duration-300 bg-[var(--surface-main)] text-[var(--text-primary)]",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[u.jsx("div",{className:"pt-6 pb-2 space-y-4",children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-1.5 h-10 bg-[var(--brand-primary)] rounded-full shadow-[0_0_20px_rgba(250,198,57,0.3)] shadow-[var(--brand-primary)]/30"}),u.jsx("div",{children:u.jsxs("h1",{className:"text-xl sm:text-2xl font-medium leading-none capitalize text-[var(--text-primary)] animate-slide-up",children:["Order Our ",u.jsx("span",{className:"inline-flex flex-wrap gap-x-[1px] text-[var(--brand-primary)] lowercase",children:"best food".split("").map((ue,Le)=>u.jsx("span",{className:"animate-letter-pop",style:{animationDelay:`${300+Le*50}ms`},children:ue===" "?"":ue},Le))})]})})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-4 w-full sm:w-auto",children:[u.jsxs("div",{className:"sm:hidden flex items-center p-1.5 rounded-2xl bg-[var(--surface-muted)] border border-[var(--border-default)] w-full max-w-full",children:[u.jsx(wd,{className:"ml-3 flex-shrink-0 text-[var(--text-secondary)]",size:16}),u.jsx("input",{type:"text",placeholder:"Search...",value:J,onChange:ue=>V(ue.target.value),className:"flex-1 min-w-0 py-1.5 px-3 bg-transparent border-none outline-none text-sm font-medium text-[var(--text-primary)] placeholder-[var(--text-secondary)] text-center"})]}),u.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto justify-end",children:[u.jsx("div",{className:"hidden sm:flex items-center p-1.5 rounded-2xl bg-[var(--surface-muted)] border border-[var(--border-default)] flex-1 sm:flex-none shadow-sm",children:u.jsxs("div",{className:"flex items-center h-10 px-3 group bg-white/40 rounded-xl border border-transparent focus-within:border-[var(--brand-primary)]/50 focus-within:ring-2 focus-within:ring-[var(--brand-primary)]/10 transition-all w-full sm:w-auto",children:[u.jsx(wd,{className:"mr-2 flex-shrink-0 text-[var(--text-secondary)] group-focus-within:text-[var(--brand-primary)] transition-colors",size:16}),u.jsx("input",{type:"text",placeholder:"Search...",value:J,onChange:ue=>V(ue.target.value),className:"w-24 lg:w-48 h-full bg-transparent border-none outline-none text-sm font-medium text-[var(--text-primary)] placeholder-[var(--text-secondary)]"})]})}),u.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 hidden sm:flex",children:[u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>Ae(!ee),className:`relative z-[101] w-14 h-14 rounded-full flex items-center justify-center transition-all hover:scale-105 active:scale-95 border ${ee?"border-[var(--brand-primary)] text-[var(--brand-primary)] bg-[var(--brand-primary)]/10":"border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:u.jsx(pf,{size:26})}),ee&&u.jsx("div",{className:"absolute top-full right-0 mt-3 w-64 rounded-3xl shadow-xl border-2 border-[var(--border-default)] overflow-hidden z-[100] animate-in fade-in slide-in-from-top-2 duration-200 bg-[var(--surface-card)]",children:u.jsxs("div",{className:"p-5 border-b border-[var(--border-default)] bg-[var(--surface-muted)]",children:[u.jsx("p",{className:"text-xs font-black uppercase tracking-widest mb-1 text-[var(--text-secondary)]",children:"Current User"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-[var(--brand-primary)] flex items-center justify-center text-[var(--text-inverse)] font-black text-sm",children:((re==null?void 0:re.username)||(re==null?void 0:re.emp_code)||"U").charAt(0).toUpperCase()}),u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-sm leading-tight text-[var(--text-primary)]",children:(re==null?void 0:re.username)||(re==null?void 0:re.first_name)||"Guest User"}),u.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-wide opacity-60 bg-[var(--text-primary)]/10 px-2 py-0.5 rounded-full inline-block mt-1",children:[((Te=re==null?void 0:re.role)==null?void 0:Te.toLowerCase())==="employee"||re!=null&&re.emp_code?"Employee":re!=null&&re.role?re.role.charAt(0).toUpperCase()+re.role.slice(1).toLowerCase():"Kiosk","  ",(re==null?void 0:re.emp_code)||(re==null?void 0:re.code)||"ID: --"]})]})]})]})})]}),u.jsx("button",{onClick:()=>Q("/kiosk/meal-plan"),className:"w-14 h-14 rounded-full flex items-center justify-center transition-all hover:scale-105 active:scale-95 border border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-secondary)] hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)]/50 shadow-sm",title:"Meal Plan",children:u.jsx(vb,{size:26})}),u.jsx("button",{onClick:()=>Q("/kiosk/my-orders"),className:"w-14 h-14 rounded-full flex items-center justify-center transition-all hover:scale-105 active:scale-95 border border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-secondary)] hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)]/50 shadow-sm",title:"My Orders",children:u.jsx(bd,{size:26})})]}),u.jsxs("div",{className:"flex items-center gap-4 sm:hidden",children:[u.jsx("button",{onClick:()=>Ae(!ee),className:`relative z-[101] w-14 h-14 rounded-xl flex items-center justify-center transition-all border ${ee?"border-[var(--brand-primary)] text-[var(--brand-primary)] bg-[var(--brand-primary)]/10":"border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-secondary)]"}`,children:u.jsx(pf,{size:28})}),u.jsx("button",{onClick:()=>Q("/kiosk/meal-plan"),className:"w-14 h-14 rounded-xl flex items-center justify-center transition-all border border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-secondary)] shadow-sm",children:u.jsx(vb,{size:28})}),u.jsx("button",{onClick:()=>Q("/kiosk/my-orders"),className:"w-14 h-14 rounded-xl flex items-center justify-center transition-all border border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-secondary)] shadow-sm",children:u.jsx(bd,{size:28})})]}),ee&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-[90] bg-black/5 backdrop-blur-[1px]",onClick:()=>Ae(!1)}),u.jsx("div",{className:"sm:hidden absolute top-auto right-4 mt-16 w-64 rounded-3xl shadow-2xl border-2 border-[var(--border-default)] overflow-hidden z-[100] animate-in fade-in slide-in-from-top-2 duration-200 bg-[var(--surface-card)]",style:{top:"60px"},children:u.jsxs("div",{className:"p-5 border-b border-[var(--border-default)] bg-[var(--surface-muted)]",children:[u.jsx("p",{className:"text-xs font-black uppercase tracking-widest mb-1 text-[var(--text-secondary)]",children:"Current User"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-[var(--brand-primary)] flex items-center justify-center text-[var(--text-inverse)] font-black text-sm",children:((re==null?void 0:re.username)||(re==null?void 0:re.emp_code)||"U").charAt(0).toUpperCase()}),u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-sm leading-tight text-[var(--text-primary)]",children:(re==null?void 0:re.username)||(re==null?void 0:re.first_name)||"Guest User"}),u.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-wide opacity-60 bg-[var(--text-primary)]/10 px-2 py-0.5 rounded-full inline-block mt-1",children:[((ke=re==null?void 0:re.role)==null?void 0:ke.toLowerCase())==="employee"||re!=null&&re.emp_code?"Employee":(re==null?void 0:re.role)||"Kiosk","  ",(re==null?void 0:re.emp_code)||(re==null?void 0:re.code)||"ID: --"]})]})]})]})})]})]})]})]})}),(U.length>0||se)&&u.jsxs("div",{className:"mb-8 animate-slide-up",children:[u.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-[var(--text-primary)] mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-transparent bg-clip-text",children:"Recommended"}),u.jsx("span",{className:"text-[10px] sm:text-xs font-bold text-[var(--text-secondary)] bg-[var(--surface-muted)] px-3 py-1 rounded-full border border-[var(--border-default)] uppercase tracking-wider",children:"Based on your orders"})]}),se?u.jsx("div",{className:"flex gap-4 overflow-hidden",children:[1,2,3,4].map(ue=>u.jsx("div",{className:"w-40 h-56 rounded-2xl bg-[var(--surface-muted)] animate-pulse"},ue))}):u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4",children:U.map((ue,Le)=>{const $e=ne(ue.id);return u.jsxs("div",{className:"group relative flex flex-col overflow-hidden transition-all duration-300 bg-[var(--surface-card)] rounded-xl sm:rounded-2xl border border-[var(--border-default)] hover:border-[var(--brand-primary)]/50 hover:shadow-lg",children:[u.jsx("div",{className:"absolute top-2 left-2 z-10 bg-gradient-to-r from-amber-500 to-orange-500 text-white text-[9px] font-black uppercase tracking-wider px-2 py-1 rounded-md shadow-lg shadow-orange-500/20",children:"Top Pick"}),u.jsx("div",{className:"relative aspect-square overflow-hidden bg-[var(--surface-muted)]",children:u.jsx("img",{src:(()=>{var ae,nt;const Be=((nt=(ae=ue.images)==null?void 0:ae[0])==null?void 0:nt.url)||ue.image||ue.image_path;return Be?Be.startsWith("http")||Be.startsWith("blob:")?Be:`${Oo}${Be.startsWith("/")?"":"/"}${Be}`:eo})(),className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:Be=>Be.target.src=eo,alt:ue.name})}),u.jsxs("div",{className:"p-3 flex flex-col gap-1 flex-1",children:[u.jsx("div",{className:"font-semibold text-xs sm:text-sm capitalize leading-tight text-[var(--text-primary)] line-clamp-1",children:ue.name_en||ue.name}),u.jsxs("div",{className:"text-xs sm:text-sm font-bold text-[var(--brand-primary)] mb-2",children:["",parseFloat(ue.price||ue.base_price||0).toFixed(2)]}),u.jsx("div",{className:"mt-auto flex items-center justify-between gap-2",children:$e===0?u.jsx("button",{onClick:Be=>{Be.stopPropagation(),Ne(ue,1,ue.id)},className:"w-full py-2 rounded-lg bg-[var(--surface-muted)] text-[var(--text-primary)] text-xs font-bold hover:bg-[var(--brand-primary)] hover:text-white transition-all active:scale-95 border border-[var(--border-default)] uppercase tracking-wider",children:"ADD"}):u.jsxs("div",{className:"flex items-center justify-between w-full bg-[var(--brand-primary)]/10 rounded-lg p-1 border border-[var(--brand-primary)]/20",children:[u.jsx("button",{onClick:()=>Ne(ue,-1,ue.id),className:"w-7 h-7 flex items-center justify-center rounded-md bg-[var(--surface-card)] text-[var(--text-primary)] shadow-sm hover:scale-105 active:scale-90 transition-all",children:u.jsx(Dm,{size:10})}),u.jsx("span",{className:"font-bold text-xs",children:$e}),u.jsx("button",{onClick:()=>Ne(ue,1,ue.id),className:"w-7 h-7 flex items-center justify-center rounded-md bg-[var(--brand-primary)] text-white shadow-sm hover:scale-105 active:scale-90 transition-all shadow-[var(--brand-primary)]/30",children:u.jsx(Oc,{size:10})})]})})]})]},`rec-${ue.id}`)})})]}),u.jsx("div",{className:"relative z-30 mb-6",children:u.jsxs("div",{className:"flex items-center justify-between gap-4 py-4 flex-wrap",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-[var(--text-primary)]",children:"Select Items"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center bg-[var(--surface-muted)] rounded-xl p-1 border border-[var(--border-default)]",children:[u.jsxs("button",{onClick:()=>F("card"),className:`flex items-center gap-1.5 px-4 py-2 rounded-lg text-xs font-semibold transition-all ${R==="card"?"bg-[var(--brand-primary)] text-white shadow-md":"text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:[u.jsx(GR,{size:12})," Card"]}),u.jsxs("button",{onClick:()=>F("list"),className:`flex items-center gap-1.5 px-4 py-2 rounded-lg text-xs font-semibold transition-all ${R==="list"?"bg-[var(--brand-primary)] text-white shadow-md":"text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:[u.jsx(UR,{size:12})," List"]})]}),u.jsxs("button",{onClick:pe,disabled:je===0,className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-sm font-semibold transition-all shadow-lg ${je>0?"bg-[var(--brand-primary)] text-white hover:brightness-110 active:scale-95":"bg-[var(--surface-muted)] text-[var(--text-secondary)] cursor-not-allowed"}`,children:["Continue (",je,")"]})]})]})}),a&&u.jsxs("div",{className:"text-center text-[var(--brand-primary)] font-medium uppercase tracking-[0.2em] py-20 px-4 bg-[var(--surface-muted)] rounded-[2rem] border border-[var(--border-default)]",children:[u.jsx("div",{className:"text-6xl mb-4 opacity-20",children:"?!"}),a]}),R==="card"&&u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-2 sm:gap-3 md:gap-4 pb-24",children:e.map((ue,Le)=>{var Be;const $e=le[ue.id]||0;return u.jsxs("div",{style:{animationDelay:`${Math.min(Le*40,600)}ms`},className:"opacity-0 animate-slide-up flex flex-col h-full overflow-hidden transition-all duration-300 bg-[var(--surface-card)] rounded-xl sm:rounded-2xl border border-[var(--border-default)] hover:border-[var(--brand-primary)]/50 hover:shadow-lg",children:[u.jsx("div",{className:"relative aspect-square overflow-hidden bg-[var(--surface-muted)] rounded-t-xl sm:rounded-t-2xl",children:u.jsx("img",{src:(()=>{var nt,at;const ae=((at=(nt=ue.images)==null?void 0:nt[0])==null?void 0:at.url)||ue.image||ue.image_path;return ae?ae.startsWith("http")||ae.startsWith("blob:")?ae:`${Oo}${ae.startsWith("/")?"":"/"}${ae}`:eo})(),className:"w-full h-full object-cover",onError:ae=>ae.target.src=eo,alt:ue.name_en||ue.name})}),u.jsxs("div",{className:"p-2 sm:p-3 flex flex-col gap-0.5 flex-1",children:[u.jsxs("div",{className:"font-semibold text-[11px] sm:text-xs md:text-sm capitalize leading-tight text-[var(--text-primary)] line-clamp-2",children:[(Be=ue.name_en||ue.name)==null?void 0:Be.toLowerCase(),ue.name_ta&&u.jsxs("span",{className:"text-[var(--text-secondary)] font-normal",children:[" | ",ue.name_ta]})]}),u.jsxs("div",{className:"text-xs sm:text-sm md:text-base font-bold text-[var(--brand-primary)]",children:["",parseFloat(ue.price||ue.base_price||0).toFixed(2)]}),u.jsxs("div",{className:"flex items-center justify-between mt-auto pt-1.5 bg-[var(--surface-muted)] rounded-xl sm:rounded-2xl p-1 sm:p-1.5",children:[u.jsx("button",{onClick:ae=>{ae.stopPropagation(),$e>0&&Ne(ue,-1,ue.id)},disabled:$e===0,className:`w-16 h-16 sm:w-12 sm:h-12 md:w-14 md:h-14 flex items-center justify-center rounded-xl transition-all ${$e>0?"bg-white text-[var(--text-primary)] shadow-sm hover:bg-gray-100 active:scale-95":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:u.jsx(Dm,{className:"w-10 h-10 sm:w-5 sm:h-5 md:w-6 md:h-6"})}),u.jsx("span",{className:"min-w-[2rem] text-center text-2xl sm:text-xl md:text-2xl font-bold text-[var(--text-primary)]",children:$e}),u.jsx("button",{onClick:ae=>{ae.stopPropagation(),Ne(ue,1,ue.id)},className:"w-16 h-16 sm:w-12 sm:h-12 md:w-14 md:h-14 flex items-center justify-center rounded-xl bg-[var(--brand-primary)] text-white shadow-md hover:brightness-110 active:scale-95 transition-all",children:u.jsx(Oc,{className:"w-10 h-10 sm:w-5 sm:h-5 md:w-6 md:h-6"})})]})]})]},ue.id)})}),R==="list"&&u.jsx("div",{className:"space-y-2 pb-24",children:e.map((ue,Le)=>{var Be;const $e=le[ue.id]||0;return u.jsxs("div",{style:{animationDelay:`${Math.min(Le*40,600)}ms`},className:"opacity-0 animate-slide-up flex items-center gap-4 py-3 border-b border-[var(--border-default)] transition-all",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden shrink-0 bg-[var(--surface-muted)]",children:u.jsx("img",{src:(()=>{var nt,at;const ae=((at=(nt=ue.images)==null?void 0:nt[0])==null?void 0:at.url)||ue.image||ue.image_path;return ae?ae.startsWith("http")||ae.startsWith("blob:")?ae:`${Oo}${ae.startsWith("/")?"":"/"}${ae}`:eo})(),className:"w-full h-full object-cover",onError:ae=>ae.target.src=eo,alt:ue.name_en||ue.name})}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsxs("div",{className:"flex flex-wrap items-baseline gap-x-1",children:[u.jsx("span",{className:"font-semibold text-sm sm:text-base text-[var(--text-primary)] capitalize",children:(Be=ue.name_en||ue.name)==null?void 0:Be.toLowerCase()}),ue.name_ta&&u.jsxs("span",{className:"text-xs sm:text-sm text-[var(--text-secondary)]",children:["| ",ue.name_ta]}),u.jsx("span",{className:"text-xs sm:text-sm text-[var(--text-secondary)]",children:"|"}),u.jsxs("span",{className:"font-bold text-sm sm:text-base text-[var(--brand-primary)]",children:["",parseFloat(ue.price||ue.base_price||0).toFixed(2)]})]})}),u.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[u.jsx("button",{onClick:()=>{$e>0&&Ne(ue,-1,ue.id)},disabled:$e===0,className:`w-10 h-10 flex items-center justify-center rounded-lg text-lg font-bold transition-all ${$e>0?"bg-[var(--surface-muted)] text-[var(--text-primary)] hover:bg-gray-200 active:scale-95":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:""}),u.jsx("span",{className:"min-w-[2rem] text-center text-lg font-bold text-[var(--text-primary)]",children:$e}),u.jsx("button",{onClick:()=>Ne(ue,1,ue.id),className:"w-10 h-10 flex items-center justify-center rounded-lg bg-[var(--brand-primary)] text-white text-lg font-bold shadow-md hover:brightness-110 active:scale-95 transition-all",children:"+"})]})]},ue.id)})}),x>1&&u.jsxs("div",{className:"mt-8 flex flex-col md:flex-row items-center justify-between gap-6 border-t border-[var(--border-default)] pt-8",children:[u.jsxs("div",{className:"text-xs sm:text-sm font-medium text-[var(--text-secondary)]",children:["Showing ",u.jsxs("span",{className:"text-[var(--text-primary)]",children:[(m-1)*S+1,"",Math.min(m*S,j)]})," of ",u.jsx("span",{className:"text-[var(--brand-primary)] font-black",children:j})," records"]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 justify-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>p(Math.max(1,m-1)),disabled:m===1,className:"px-4 h-10 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-muted)] border border-[var(--border-default)] transition-all shadow-sm font-medium text-[10px] uppercase text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:[u.jsx(Kl,{size:16})," Back"]}),u.jsx("div",{className:"flex items-center gap-1.5",children:Array.from({length:x},(ue,Le)=>Le+1).map(ue=>{const Le=m===ue;return x>5&&ue>1&&ue<x&&Math.abs(ue-m)>1?ue===2||ue===x-1?u.jsx("span",{className:"px-1 text-[var(--text-secondary)]",children:"..."},ue):null:u.jsx("button",{onClick:()=>p(ue),className:`w-10 h-10 flex items-center justify-center rounded-xl text-xs font-black transition-all border
                            ${Le?"bg-[var(--brand-primary)] border-[var(--brand-primary)] text-[var(--text-inverse)] shadow-lg shadow-[var(--brand-primary)]/20 scale-105":"bg-[var(--surface-muted)] border-[var(--border-default)] text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:ue},ue)})}),u.jsxs("button",{onClick:()=>p(Math.min(x,m+1)),disabled:m===x,className:"px-4 h-10 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-muted)] border border-[var(--border-default)] transition-all shadow-sm font-medium text-[10px] uppercase text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:["Next ",u.jsx(Ql,{size:16})]})]}),u.jsxs("div",{className:"relative shrink-0",children:[u.jsxs("button",{onClick:ue=>{ue.stopPropagation(),I(!T)},className:`bg-[var(--surface-muted)] border border-[var(--border-default)] rounded-xl px-4 py-2.5 text-[11px] font-black uppercase tracking-widest text-[var(--brand-primary)] cursor-pointer outline-none transition-all shadow-sm flex items-center justify-center gap-2 min-w-[120px] hover:bg-[var(--surface-card)]
                      ${T?"border-[var(--brand-primary)]/50 bg-[var(--surface-card)]":""}`,children:[S," Pages",u.jsx(Wl,{size:14,className:`transition-transform duration-300 ${T?"rotate-180":""}`})]}),T&&u.jsx("div",{className:"absolute bottom-full left-0 mb-3 w-full bg-[var(--surface-card)] border border-[var(--border-default)] rounded-2xl shadow-2xl z-[100] py-1.5 overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-300",children:[10,20,50,100].map(ue=>u.jsxs("button",{onClick:()=>{N(ue),p(1),I(!1)},className:`w-full py-3 px-4 text-center text-[10px] font-black uppercase tracking-widest transition-all
                            ${S===ue?"bg-[var(--brand-primary)] text-[var(--text-inverse)]":"text-[var(--text-secondary)] hover:bg-[var(--surface-muted)] hover:text-[var(--text-primary)]"}`,children:[ue," Pages"]},ue))})]})]})]})]})})})},CB=()=>{const{selectedUnit:e,selectedProducts:t,calculatePerDayTotal:r,setCurrentOrder:n,setProductQuantity:a}=G5(),{user:i}=$i(),c=Ha(),{isDark:f}=bi(),m=ee=>{const Ae=ee.getFullYear(),ce=String(ee.getMonth()+1).padStart(2,"0"),U=String(ee.getDate()).padStart(2,"0");return`${Ae}-${ce}-${U}`},p=ee=>{const Ae=new Date;Ae.setHours(0,0,0,0);const ce=new Date(ee);if(ce.setHours(0,0,0,0),ce.getDay()===0||ce<Ae)return!0;if(ce.getTime()===Ae.getTime()){const U=new Date;if(U.getHours()>11||U.getHours()===11&&U.getMinutes()>=30)return!0}return!1};M.useEffect(()=>{console.log(" Current Cart in Summary:",t)},[t]);const[x,y]=M.useState(!1),[S,N]=M.useState(null),[j,_]=M.useState(!1),[T,I]=M.useState((i==null?void 0:i.emp_code)||""),[R,F]=M.useState({street:"",city:"",state:"",pincode:"",country:"India",phone:""}),[G,Y]=M.useState(!1),[J,V]=M.useState(!1),[$,W]=M.useState(()=>{const ee=new Date;return p(ee)?[]:[m(ee)]}),[Ne,Z]=M.useState(new Date),[Q,me]=M.useState(m(new Date)),re=async ee=>{if(!(!ee||ee.length<2))try{V(!0);const Ae=await Ut.get(`/employees/?search=${ee}&limit=1000`);let ce=[];Ae.data&&Array.isArray(Ae.data.employees)?ce=Ae.data.employees:Ae.data&&Ae.data.data&&(ce=Ae.data.data);const U=ce.find(H=>H.emp_code&&String(H.emp_code).toLowerCase()===String(ee).toLowerCase()||H.username&&String(H.username).toLowerCase()===String(ee).toLowerCase())||ce[0];U&&F({street:[U.address,U.address_line_2].filter(Boolean).join(", ")||U.work_location||U.base_location||"",city:U.city||U.district||"",state:U.perm_state||U.state||"",pincode:U.pincode||"",country:U.perm_country||U.country||"India",phone:U.mobile||U.phone||""})}catch(Ae){console.error("Error looking up employee:",Ae)}finally{V(!1)}};M.useEffect(()=>{const ee=setTimeout(()=>{T&&T.length>=2&&re(T)},1e3);return()=>clearTimeout(ee)},[T]),M.useEffect(()=>{if(window.Razorpay){_(!0);return}const ee=document.createElement("script");ee.src="https://checkout.razorpay.com/v1/checkout.js",ee.async=!0,ee.onload=()=>_(!0),ee.onerror=()=>alert("Failed to load payment gateway. Refresh the page."),document.head.appendChild(ee)},[]);const q=async ee=>{if(ee)try{await Ut.post(`/orders/${ee}/cancel`)}catch(Ae){console.error("Cancel order failed:",Ae)}},ie=async()=>{var ce,U,H,se,ve;if(t.length===0){alert("Please select at least one product"),c("/kiosk/products");return}if($.length===0){alert("Please select at least one date");return}const ee=T.trim()||`KIOSK-${Date.now()}`;if(!j){alert("Payment gateway is loading. Please wait...");return}y(!0);let Ae=null;try{const ne=t.flatMap(Bt=>Array(Bt.quantity||1).fill(Number(Bt.id))),le=R.street?`${R.street}, ${R.city}, ${R.state}, ${R.pincode}, ${R.country} - Phone: ${R.phone}`.trim().replace(/^, |, $/g,""):"Kiosk Pickup",pe=Number(r())*$.length,Te={item_ids:ne,payment_mode:"UPI",code:ee,total_amount:pe,emp_code:(i==null?void 0:i.emp_code)||"ADMIN01",unit_id:(e==null?void 0:e.id)||(i==null?void 0:i.unit_id)||((ce=t[0])==null?void 0:ce.unit_id)||1,delivery_address:le,phone:R.phone||"0000000000",customer_phone:R.phone||"0000000000",employeeCode:(i==null?void 0:i.emp_code)||"ADMIN01",deliveryAddress:le,orderDate:$[0],selectedDates:$},ue=(await Ut.post("/orders",Te)).data,Le=(ue==null?void 0:ue.order_id)||((U=ue==null?void 0:ue.order)==null?void 0:U.id)||((H=ue==null?void 0:ue.data)==null?void 0:H.id)||(ue==null?void 0:ue.id),$e=(ue==null?void 0:ue.order)||(ue==null?void 0:ue.data)||ue;if(!Le)throw console.error(" Order ID extraction failed:",ue),new Error("Failed to create order - ID missing");N(Le),Ae=$e,Ae&&(Ae.id||(Ae.id=Le),Ae.code||(Ae.code=ee),Ae.total_amount||(Ae.total_amount=Number(r())*$.length)),n(Ae);const Be=Math.round(Number(r())*$.length*100),ae=await Ut.post(`/orders/${Le}/create-razorpay-order`,{order_id:Le,amount:Be,order_code:ee});console.log("Razorpay Response Data:",ae.data);const{razorpay_order_id:nt,order_id:at,amount:Re,key:Qe,key_id:Fe,razorpay_key:et}=ae.data,St=Qe||Fe||et,qt=nt||at;if(!St)throw console.error(" Razorpay Key is missing from server response:",ae.data),new Error("Payment initialization failed: API Key missing");if(!qt)throw console.error(" Razorpay Order ID is missing from server response:",ae.data),new Error("Payment initialization failed: Order ID missing");const Wt=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.startsWith("192.168"),tr={key:St,amount:Re,currency:"INR",name:"CMS",image:"",description:`Order #${Le} - ${ee}`,order_id:qt,handler:async Bt=>{var lr,Qt,Er,zt,Mn;try{if(console.log(" Razorpay Handler Response:",Bt),console.log(" Payment ID:",Bt.razorpay_payment_id),console.log(" Order ID:",Bt.razorpay_order_id),console.log(" Signature:",Bt.razorpay_signature),!Bt.razorpay_payment_id||!Bt.razorpay_order_id||!Bt.razorpay_signature)throw console.error(" Missing required Razorpay response fields:",{payment_id:!!Bt.razorpay_payment_id,order_id:!!Bt.razorpay_order_id,signature:!!Bt.razorpay_signature}),new Error("Incomplete payment response from Razorpay");const Ht={razorpay_payment_id:Bt.razorpay_payment_id,razorpay_order_id:Bt.razorpay_order_id,razorpay_signature:Bt.razorpay_signature};console.log(" Sending verification payload:",Ht);const Ct=await Ut.post(`/orders/${Le}/verify-razorpay`,Ht);console.log(" Verification Response:",Ct.data);const rr=(lr=Ct.data)==null?void 0:lr.qrImage,Jt=Ct.data;y(!1),N(null),c("/kiosk/success",{state:{order:((Qt=Ct.data)==null?void 0:Qt.order)||{id:Le,code:ee,total_amount:Number(r())},qrImage:rr,paymentDetails:Jt}})}catch(Ht){console.error(" Payment verification failed:",((Er=Ht.response)==null?void 0:Er.data)||Ht),console.error(" Full error object:",Ht),y(!1),N(null),alert(`Payment verification failed: ${((Mn=(zt=Ht.response)==null?void 0:zt.data)==null?void 0:Mn.error)||Ht.message}`)}},prefill:{contact:"9999999999",email:"admin@cms.com",vpa:"success@razorpay"},display:{blocks:{upi:{name:"UPI",instruments:[{method:"upi",types:["qr"]}]},...Wt?{}:{googlepay:{name:"Google Pay",instruments:[{method:"googlepay"}]}},netbanking:{name:"Net Banking",instruments:[{method:"netbanking"}]}},sequence:Wt?["block.upi","block.netbanking"]:["block.upi","block.googlepay","block.netbanking"],preferences:{show_default_blocks:!0}},modal:{ondismiss:async()=>{await q(Le),y(!1),N(null)}},theme:{color:"#fac639"}};if(typeof window.Razorpay>"u")throw new Error("Razorpay script not loaded properly");new window.Razorpay(tr).open()}catch(ne){console.error("Payment Initiation Error:",ne),y(!1),N(null);const le=Ae||{};le.id&&await q(le.id),alert(((ve=(se=ne.response)==null?void 0:se.data)==null?void 0:ve.error)||"Payment failed")}},oe=r(),de=x;return x&&S?u.jsx(no,{children:u.jsx(qs,{})}):u.jsx(no,{children:u.jsx("div",{className:"min-h-screen flex items-start sm:items-center justify-center overflow-y-auto p-2 sm:p-6 bg-[var(--surface-main)] text-[var(--text-primary)]",children:u.jsxs("div",{className:"w-full max-w-lg md:max-w-4xl p-3 sm:p-6 md:p-10 rounded-3xl shadow-xl transition-all duration-300 bg-[var(--surface-card)] border border-[var(--border-default)] animate-scale-in",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-4 sm:mb-10",children:[u.jsx("button",{onClick:()=>c("/kiosk/products"),className:"p-2 rounded-xl transition-all active:scale-95 bg-[var(--surface-muted)] text-[var(--text-primary)] hover:bg-[var(--surface-main)]",children:u.jsx(qg,{size:24})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h1",{className:"text-xl sm:text-3xl md:text-4xl font-bold truncate text-[var(--text-primary)]",children:"Order Summary"}),u.jsx("p",{className:"text-[10px] sm:text-xs md:text-sm truncate text-[var(--text-secondary)]",children:"Review details and proceed to payment"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-start",children:[u.jsxs("div",{className:"bg-[var(--surface-main)] rounded-[2rem] p-6 border border-[var(--border-default)] shadow-sm transition-colors duration-200",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("button",{onClick:()=>Z(new Date(Ne.setMonth(Ne.getMonth()-1))),className:"w-10 h-10 flex items-center justify-center text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--surface-muted)] rounded-full transition-colors",children:u.jsx(Kl,{className:"text-xl"})}),u.jsx("span",{className:"text-xl font-bold text-[var(--text-primary)]",children:Ne.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),u.jsx("button",{onClick:()=>Z(new Date(Ne.setMonth(Ne.getMonth()+1))),className:"w-10 h-10 flex items-center justify-center text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--surface-muted)] rounded-full transition-colors",children:u.jsx(Ql,{className:"text-xl"})})]}),u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs("label",{className:"flex items-center gap-3 text-sm font-medium text-[var(--text-secondary)] cursor-pointer hover:text-[var(--brand-primary)] transition-colors",children:[u.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-300 text-[var(--brand-primary)] focus:ring-[var(--brand-primary)]",checked:(()=>{const ee=Ne.getFullYear(),Ae=Ne.getMonth(),ce=new Date(ee,Ae+1,0).getDate();let U=0,H=0;for(let se=1;se<=ce;se++){const ve=new Date(ee,Ae,se);if(!p(ve)){U++;const ne=m(ve);$.includes(ne)&&H++}}return U>0&&U===H})(),onChange:ee=>{const Ae=Ne.getFullYear(),ce=Ne.getMonth(),U=new Date(Ae,ce+1,0).getDate();if(ee.target.checked){const H=new Set($);for(let se=1;se<=U;se++){const ve=new Date(Ae,ce,se);p(ve)||H.add(m(ve))}W(Array.from(H))}else{const H=[];for(let se=1;se<=U;se++)H.push(m(new Date(Ae,ce,se)));W($.filter(se=>!H.includes(se)))}}}),u.jsx("span",{children:"Select all"})]})}),u.jsx("div",{className:"grid grid-cols-7 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(ee=>u.jsx("div",{className:"text-center text-sm font-bold text-[var(--text-secondary)] py-2",children:ee},ee))}),u.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-2",children:(()=>{const ee=Ne.getFullYear(),Ae=Ne.getMonth(),ce=new Date(ee,Ae,1).getDay(),U=new Date(ee,Ae+1,0).getDate(),H=[];for(let se=0;se<ce;se++)H.push(u.jsx("div",{className:"h-9 sm:h-12"},`empty-${se}`));for(let se=1;se<=U;se++){const ve=new Date(ee,Ae,se),ne=m(ve),le=p(ve),je=$.includes(ne),pe=ne===m(new Date);H.push(u.jsx("button",{disabled:le,onClick:()=>{le||W(je?$.filter(Te=>Te!==ne):[...$,ne])},className:`h-9 sm:h-12 rounded-xl sm:rounded-2xl text-sm sm:text-lg font-bold transition-all flex items-center justify-center ${je?"bg-[var(--brand-primary)] text-white shadow-lg shadow-[var(--brand-primary)]/30 scale-105":pe&&!le?"text-[var(--brand-primary)] bg-[var(--brand-primary)]/10":le?"text-[var(--text-secondary)] opacity-30 cursor-not-allowed bg-[var(--surface-muted)]/50":"text-[var(--text-primary)] hover:bg-[var(--surface-muted)]"}`,children:se},se))}return H})()}),u.jsx("div",{className:"mt-8 pt-6 border-t border-[var(--border-default)]",children:u.jsxs("p",{className:"text-lg font-bold text-[var(--text-primary)]",children:["Selected days: ",u.jsx("span",{className:"font-black text-[2rem] ml-2",children:$.length})]})})]}),u.jsxs("div",{className:"space-y-6",children:[t.length>0&&u.jsx("div",{className:"mb-6 space-y-3",children:t.map((ee,Ae)=>u.jsxs("div",{className:"flex justify-between items-center text-sm p-3 rounded-2xl bg-[var(--surface-card)] border border-[var(--border-default)] group",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>a(ee,0),className:"p-1.5 rounded-full bg-red-50 text-red-500 hover:bg-red-100 transition-colors","aria-label":"Remove item",children:u.jsx(To,{size:14})}),u.jsxs("div",{className:"font-bold text-[var(--text-primary)] break-words min-w-0",children:[ee.name_en||ee.name_ta||ee.name||"Item",u.jsxs("span",{className:"text-[var(--brand-primary)] ml-2 whitespace-nowrap",children:["x",ee.quantity]})]})]}),u.jsxs("div",{className:"font-bold whitespace-nowrap ml-2",children:["",(ee.price||ee.base_price)*ee.quantity]})]},Ae))}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-6 rounded-[2rem] bg-white border border-[var(--border-default)] flex flex-col items-center justify-center text-center shadow-sm",children:[u.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-[var(--text-secondary)] mb-2",children:"Per Day Total"}),u.jsxs("span",{className:"text-2xl font-black text-[var(--brand-primary)]",children:["",oe.toFixed(2)]})]}),u.jsxs("div",{className:"p-6 rounded-[2rem] bg-white border border-[var(--border-default)] flex flex-col items-center justify-center text-center shadow-sm",children:[u.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-[var(--text-secondary)] mb-2",children:"Selected Days"}),u.jsx("span",{className:"text-2xl font-black text-[var(--text-primary)]",children:$.length})]})]}),u.jsxs("div",{className:"p-6 sm:p-8 rounded-[2rem] flex flex-col items-center justify-center border-2 border-dashed bg-[var(--surface-muted)] border-[var(--border-default)]",children:[u.jsx("span",{className:"text-xs font-black opacity-50 mb-2 uppercase tracking-[0.3em] text-[var(--text-secondary)]",children:"Grand Total"}),u.jsxs("div",{className:"text-4xl sm:text-5xl md:text-6xl font-black text-[var(--text-primary)] tracking-tighter",children:["",(oe*$.length).toFixed(0)]})]}),u.jsx("button",{onClick:ie,disabled:de||$.length===0,className:"w-full py-5 text-lg font-bold rounded-xl shadow-xl transform transition-all active:scale-[0.98] bg-[var(--brand-primary)] text-[var(--text-inverse)] hover:brightness-110 shadow-[var(--brand-primary)]/30 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Processing...":`Continue (${$.length} days)`})]})]})]})})})},_B=()=>{const e=Ia.c(4),t=Ha();let r,n;e[0]!==t?(r=()=>{t("/kiosk/calendar",{replace:!0})},n=[t],e[0]=t,e[1]=r,e[2]=n):(r=e[1],n=e[2]),M.useEffect(r,n);let a;return e[3]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx(no,{children:u.jsx("div",{className:"min-h-screen p-4 sm:p-6 md:p-8",children:u.jsx("div",{className:"max-w-3xl mx-auto",children:u.jsx(qs,{})})})}),e[3]=a):a=e[3],a},Qj="/assets/success-Bo-zDMi7.gif",jB=()=>{const e=Ha(),t=kd(),{resetOrder:r}=G5(),{order:n,qrImage:a,printResults:i,printWarning:c,paymentDetails:f}=t.state||{},{isDark:m}=bi(),[p,x]=M.useState(30),[y,S]=M.useState(!1),[N,j]=M.useState(i||[]),[_,T]=M.useState(c||!1),I=me=>!me||typeof me!="string"||me.startsWith("data:")||me.startsWith("http")?me:`${Oo}${me.startsWith("/")?"":"/"}${me}`,[R,F]=M.useState(()=>I(a||(f==null?void 0:f.qrImage)||null)),[G,Y]=M.useState(!1),[J,V]=M.useState(!1),[$,W]=M.useState((n==null?void 0:n.dayBills)||(f==null?void 0:f.dayBills)||[]);M.useEffect(()=>{console.log(" Payment Success Page Loaded"),console.log(" Order Data:",n),console.log(" Day Bills:",$),console.log(" QR Image Available:",!!R),console.log(" Payment Details:",f)},[]);const Ne=async me=>{var q,ie,oe,de;const re=me||(n==null?void 0:n.id);if(re&&!J){Y(!0);try{const ee=await Ut.get(`/orders/${re}/qr`);(q=ee.data)!=null&&q.is_used?(V(!0),F(null)):((ie=ee.data)!=null&&ie.qrImage||(oe=ee.data)!=null&&oe.qr||(de=ee.data)!=null&&de.qr_code)&&F(I(ee.data.qrImage||ee.data.qr||ee.data.qr_code))}catch(ee){console.error("Error fetching QR Code:",ee)}finally{Y(!1)}}},Z=()=>{r(),e("/kiosk/products")},Q=async()=>{var me,re,q,ie;if(!(!n||y)){S(!0),j([]),T(!1);try{const oe=$||[],de=n.id;if(oe.length===0){console.warn("No dayBills found in order for auto-printing:",n),S(!1);return}const ee=[];for(const Ae of oe){if(!Ae||!Ae.id){console.warn("Skipping bill with missing identity:",Ae);continue}let ce=!1,U="";try{await Ut.post(`/orders/${de}/bills/${Ae.id}/print`),ce=!0}catch(H){console.warn(`Standard print failed for bill ${Ae.id}, trying V2...`,(me=H.response)==null?void 0:me.data);try{await Ut.post(`/orders/${de}/bills/${Ae.id}/print`),ce=!0}catch(se){console.error(`V2 print also failed for bill ${Ae.id}:`,(re=se.response)==null?void 0:re.data),U=((ie=(q=se.response)==null?void 0:q.data)==null?void 0:ie.error)||se.message}}ee.push({billId:Ae.id,success:ce,error:U})}j(ee),ee.some(Ae=>!Ae.success)&&T(!0)}catch(oe){console.error("Print process failed:",oe)}finally{S(!1)}}};return M.useEffect(()=>{if(n&&n.id){Q(),Ne(n.id);const me=setInterval(()=>{J||Ne(n.id)},4e3);return()=>clearInterval(me)}},[n==null?void 0:n.id,J]),M.useEffect(()=>{n&&n.id&&r();const me=setInterval(()=>{x(re=>re<=1?(clearInterval(me),Z(),0):re-1)},1e3);return()=>clearInterval(me)},[]),u.jsx(no,{children:u.jsx("div",{className:"min-h-screen flex items-start sm:items-center justify-center overflow-y-auto p-4 sm:p-6 md:p-8 bg-[var(--surface-main)] text-[var(--text-primary)]",children:u.jsxs("div",{className:"animate-scale-in rounded-2xl shadow-2xl p-6 sm:p-8 md:p-12 max-w-2xl w-full text-center border bg-[var(--surface-card)] border-[var(--border-default)]",children:[u.jsx("img",{src:Qj,alt:"Success",className:"h-24 sm:h-32 mx-auto mb-4 sm:mb-6 animate-scale-in"}),u.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-3 sm:mb-4 tracking-tight text-[var(--brand-primary)] animate-fade-in",children:"Payment Successful!"}),u.jsxs("div",{className:"mb-8 p-4 rounded-xl bg-emerald-500/5 border border-emerald-500/20 text-emerald-500 flex items-center justify-center gap-2 mx-auto w-fit animate-slide-up stagger-1 opacity-0",style:{animationDelay:"100ms",animationFillMode:"forwards"},children:[u.jsx(hf,{className:"text-xl"}),u.jsx("span",{className:"font-semibold uppercase tracking-wider text-sm",children:"Order Confirmed"})]}),_&&u.jsxs("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg bg-red-500/10 border border-red-400/40 text-red-600 animate-slide-up",children:[u.jsx("p",{className:"text-sm font-semibold",children:" Printing failed for some bills."}),u.jsx("p",{className:"text-xs mt-1 opacity-80",children:"The order is saved. Please contact the counter for manual bill."})]}),n&&u.jsxs("div",{className:"mb-8 p-6 rounded-2xl bg-[var(--surface-muted)]/30 border border-[var(--border-default)] space-y-4 text-left animate-slide-up stagger-2 opacity-0",style:{animationDelay:"200ms",animationFillMode:"forwards"},children:[u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsx("span",{className:"opacity-60 font-medium tracking-tight text-[var(--text-secondary)]",children:"Order Code:"}),u.jsx("span",{className:"font-black text-lg text-[var(--brand-primary)] uppercase font-mono tracking-widest",children:n.code||"N/A"})]}),$&&$.length>0&&u.jsxs("div",{className:"border-t border-b border-[var(--border-default)] py-4 space-y-3",children:[u.jsxs("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-40 mb-2",children:["Bills Generated (",$.length," days)"]}),$.map((me,re)=>u.jsxs("div",{className:"flex justify-between items-center text-xs bg-[var(--surface-card)] p-2 rounded-lg",children:[u.jsxs("div",{children:[u.jsxs("span",{className:"font-bold opacity-80",children:["Bill #",me.id]}),u.jsx("span",{className:"text-[10px] opacity-60 ml-2",children:me.bill_date})]}),u.jsxs("span",{className:"font-mono font-bold",children:["",parseFloat(me.amount||0).toFixed(2)]})]},me.id||re))]}),u.jsxs("div",{className:"border-t border-b border-[var(--border-default)] py-4 space-y-2",children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-40 mb-2",children:"Items Purchased"}),(n.v2Items||($==null?void 0:$.flatMap(me=>me.v2Items||[]))||[]).map((me,re)=>u.jsxs("div",{className:"flex justify-between items-center text-xs",children:[u.jsxs("span",{className:"font-bold opacity-80",children:[me.product_name||me.name||"Item"," x ",me.quantity||1]}),u.jsxs("span",{className:"font-mono",children:["",parseFloat(me.price||0).toFixed(2)]})]},re))]}),u.jsxs("div",{className:"flex justify-between items-center text-sm pt-2",children:[u.jsx("span",{className:"opacity-60 font-medium tracking-tight text-[var(--text-secondary)]",children:"Total Amount:"}),u.jsxs("span",{className:"font-black text-xl text-[var(--text-primary)]",children:["",n.total_amount?parseFloat(n.total_amount).toFixed(2):"0.00"]})]})]}),u.jsx("div",{className:"mb-8 flex flex-col items-center animate-slide-up stagger-3 opacity-0",style:{animationDelay:"300ms",animationFillMode:"forwards"},children:u.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-[2.5rem] shadow-2xl border border-slate-100 flex flex-col items-center group relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-[var(--brand-primary)]/5 rounded-full -mr-12 -mt-12 blur-2xl"}),u.jsx("p",{className:"text-[10px] font-black text-[var(--text-secondary)] uppercase tracking-[0.3em] mb-4 relative",children:"Digital Pick-up Receipt"}),G&&!R?u.jsxs("div",{className:"w-48 h-48 sm:w-60 sm:h-60 bg-slate-50 rounded-3xl flex flex-col items-center justify-center animate-pulse gap-3 border-2 border-dashed border-slate-100",children:[u.jsx(Zo,{className:"animate-spin text-amber-500",size:32}),u.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Checking QR..."})]}):J?u.jsxs("div",{className:"w-48 h-48 sm:w-60 sm:h-60 bg-rose-50 rounded-3xl flex flex-col items-center justify-center border-2 border-rose-100 p-6 text-center animate-in fade-in zoom-in duration-500",children:[u.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-full flex items-center justify-center mb-3 text-rose-500",children:u.jsx(hf,{size:24})}),u.jsx("p",{className:"text-xs font-black text-rose-600 uppercase tracking-widest",children:"QR already used"}),u.jsx("p",{className:"text-[9px] font-bold text-rose-400 mt-1",children:"Verified at counter"})]}):R?u.jsx("div",{className:"relative p-2 bg-white rounded-2xl border-2 border-slate-50 group-hover:border-amber-100 transition-all group-hover:scale-[1.02]",children:u.jsx("img",{src:R,alt:"Order QR",className:"w-48 h-48 sm:w-60 sm:h-60 object-contain rounded-xl"})}):u.jsx("div",{className:"w-48 h-48 sm:w-60 sm:h-60 bg-slate-50 rounded-3xl flex items-center justify-center border-2 border-dashed border-slate-200 text-center p-6",children:u.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"QR Preview Unavailable"})}),u.jsxs("div",{className:"mt-5 text-center",children:[u.jsx("p",{className:"text-[10px] font-black text-[var(--brand-primary)] uppercase tracking-widest",children:"Show this at the counter"}),u.jsx("div",{className:"h-1.5 w-12 bg-[var(--brand-primary)]/20 rounded-full mx-auto mt-2"})]})]})}),N.length>0&&u.jsxs("div",{className:"mb-10 p-5 rounded-2xl border border-[var(--border-default)] text-left bg-[var(--surface-muted)] animate-slide-up",children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-30 mb-4 pl-1",children:"Print Status Report"}),u.jsx("div",{className:"space-y-3",children:N.map((me,re)=>u.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(od,{className:me.success?"text-emerald-500":"text-gray-400"}),u.jsxs("span",{className:"font-medium opacity-80 uppercase tracking-tight",children:["Bill #",me.billId||"N/A"]})]}),u.jsx("span",{className:`font-black tracking-tighter ${me.success?"text-emerald-500":"text-rose-500"}`,children:me.success?" SUCCESS":" FAILED"})]},re))})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center animate-slide-up stagger-4 opacity-0",style:{animationDelay:"400ms",animationFillMode:"forwards"},children:[u.jsx("button",{onClick:Q,disabled:y||!n,className:`flex-1 px-8 py-5 text-lg font-bold rounded-2xl transition-all flex items-center justify-center gap-3 ${y?"bg-[var(--surface-muted)] text-[var(--text-secondary)] cursor-not-allowed":"bg-[var(--text-primary)] text-[var(--surface-main)] hover:scale-[1.02] shadow-2xl active:scale-95"}`,children:y?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Processing..."]}):u.jsxs(u.Fragment,{children:[u.jsx(od,{}),"Retry Print"]})}),u.jsxs("button",{onClick:Z,className:"px-8 py-5 text-lg font-bold rounded-2xl transition-all border-2 border-[var(--border-default)] hover:bg-[var(--surface-muted)] text-[var(--text-primary)] flex items-center justify-center gap-3 active:scale-95 group",children:[u.jsx(Vj,{className:"group-hover:rotate-12 transition-transform"}),"Done (",p,"s)"]})]})]})})})},OB=({order:e,isDark:t,onRemove:r})=>{const[n,a]=M.useState(null),[i,c]=M.useState(!1),[f,m]=M.useState(!1),[p,x]=M.useState(null);M.useEffect(()=>{let S=!0,N=!1;return(async()=>{const _=String(e.status||"").toUpperCase();if(["DELIVERED","COMPLETED","PICKED_UP"].includes(_))return S&&r(e.id),!0;if(!(e!=null&&e.id))return!0;S&&c(!0);try{let T;if(!N)try{T=await Ut.get(`/orders/${e.id}/qr`)}catch(R){if(R.response&&R.response.status===404)N=!0;else throw R}if(!T&&N){if(T=await Ut.get(`/orders/${e.id}/qr`,{validateStatus:R=>R<500}),T.status===404)return S&&a(null),!0;if(T.status!==200)throw new Error(`Request failed with status ${T.status}`)}if(!T)return!1;const I=T.data||{};if(S&&x(I),I.is_valid===!1)return S&&(m(!0),a(null)),!0;if(I.isUsed||I.is_used||I.delivery_status==="DELIVERED")return S&&r(e.id),!0;{if(S){let F=I.qrImage||I.qr_code||I.qr||(typeof I=="string"?I:null);F&&typeof F=="string"&&!F.startsWith("data:")&&!F.startsWith("http")&&(F=`${Oo}${F.startsWith("/")?"":"/"}${F}`),a(F),m(!1)}const R=String(I.status||e.status||"").toUpperCase();if(["DELIVERED","COMPLETED","PICKED_UP"].includes(R))return S&&r(e.id),!0}}catch(T){console.error("Failed to fetch QR",T)}finally{S&&c(!1)}return!1})(),()=>{S=!1}},[e.id]);const y=S=>{switch(String(S).toLowerCase()){case"paid":return"bg-emerald-50 text-emerald-600 border-emerald-100";case"pending":return"bg-amber-50 text-amber-600 border-amber-100";default:return"bg-slate-50 text-slate-600 border-slate-100"}};return u.jsxs("div",{className:"p-6 rounded-[2.5rem] border-2 transition-all bg-[var(--surface-card)] border-[var(--border-default)] shadow-sm",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black uppercase text-[var(--text-secondary)] tracking-[0.2em] mb-1",children:"Order ID"}),u.jsxs("p",{className:"font-black text-[var(--brand-primary)] text-base uppercase",children:["#",(p==null?void 0:p.order_id)||e.id]})]}),u.jsx("div",{className:`px-4 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${y(e.payment_status)}`,children:e.payment_status||"PENDING"})]}),u.jsx("div",{className:"mb-4 p-4 rounded-3xl flex flex-col items-center justify-center border-2 border-dashed min-h-[160px] bg-[var(--surface-muted)] border-[var(--border-default)]",children:i&&!n?u.jsx(Zo,{className:"animate-spin text-[var(--brand-primary)]",size:24}):n&&typeof n=="string"?u.jsx("div",{className:"bg-white p-2 rounded-xl",children:n.startsWith("data:image")||n.startsWith("http")?u.jsx("img",{src:n,alt:"Order QR",className:"w-28 h-28 object-contain"}):u.jsx("div",{className:"w-28 h-28 flex items-center justify-center bg-gray-100 text-[10px]",dangerouslySetInnerHTML:{__html:n}})}):f?u.jsxs("div",{className:"flex flex-col items-center opacity-60",children:[u.jsx(yb,{className:"text-red-500 mb-2",size:24}),u.jsx("p",{className:"text-[10px] font-black uppercase text-red-500",children:"QR Disabled"})]}):u.jsx("p",{className:"text-[10px] font-black uppercase opacity-40",children:"QR Unavailable"})}),u.jsx("div",{className:"mb-6 space-y-2.5 max-h-40 overflow-y-auto no-scrollbar border-y border-dashed border-[var(--border-default)] py-4",children:(()=>{const S=e.items&&e.items.length>0?e.items:p!=null&&p.ordered_items&&p.ordered_items.length>0?p.ordered_items:p!=null&&p.items&&p.items.length>0?p.items:e.ordered_items&&e.ordered_items.length>0?e.ordered_items:e.dayBills&&e.dayBills.length>0?e.dayBills.flatMap(N=>N.items||[]):e.Items&&e.Items.length>0?e.Items:[];return S.length>0?S.map((N,j)=>{var F,G,Y;const _=N.quantity||N.qty||1,T=N.name||N.product_name||((F=N.product)==null?void 0:F.name_en)||((G=N.product)==null?void 0:G.name)||"Product",I=N.price||((Y=N.product)==null?void 0:Y.price)||0,R=N.total_price||parseFloat(I)*_;return u.jsxs("div",{className:"flex justify-between items-start gap-4",children:[u.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[u.jsx("span",{className:"font-bold text-[var(--text-primary)] text-xs uppercase leading-tight truncate",children:T}),u.jsxs("span",{className:"text-[10px] font-bold text-[var(--text-secondary)] opacity-60",children:["Qty: ",_,"  ",parseFloat(I).toFixed(2)]})]}),u.jsxs("span",{className:"font-black text-[var(--text-primary)] text-xs shrink-0 pt-0.5",children:["",parseFloat(R).toFixed(2)]})]},j)}):u.jsx("div",{className:"text-center py-2 text-[10px] font-bold uppercase opacity-30 italic",children:"No items found"})})()}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"opacity-50 font-black uppercase tracking-widest text-[10px] text-[var(--text-secondary)]",children:"Subtotal:"}),u.jsxs("span",{className:"text-2xl font-black text-[var(--brand-primary)]",children:["",parseFloat(e.total_amount).toFixed(2)]})]})]})},uS=({layout:e})=>{const t=Ha(),{user:r}=$i(),{isDark:n}=bi(),[a,i]=M.useState([]),[c,f]=M.useState(!0),[m,p]=M.useState(null),[x,y]=M.useState(""),S=async()=>{var T;try{f(!0);const I=await Ut.get("/orders");(T=I.data)!=null&&T.orders&&i(I.data.orders)}catch(I){console.error("Error fetching orders:",I),p("Failed to load your orders")}finally{f(!1)}};M.useEffect(()=>{S()},[]);const N=T=>{i(I=>I.filter(R=>R.id!==T))},j=a.filter(T=>{if(r!=null&&r.id&&T.user_id&&String(T.user_id)!==String(r.id))return!1;const I=String(T.status||"").toUpperCase(),R=String(T.delivery_status||"").toUpperCase();if(["DELIVERED","COMPLETED","PICKED_UP"].includes(I)||["DELIVERED","COMPLETED"].includes(R))return!1;const F=x.toLowerCase();return String(T.code||"").toLowerCase().includes(F)||String(T.id).includes(F)}),_=u.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-xl transition-all bg-[var(--surface-muted)] hover:bg-[var(--surface-card)] text-[var(--text-primary)]",children:u.jsx(qg,{size:20})}),u.jsxs("h1",{className:"text-3xl font-black tracking-tight flex items-center gap-3 text-[var(--text-primary)]",children:[u.jsx(bd,{className:"text-[var(--brand-primary)]"})," My Orders"]})]}),u.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-6 py-3 bg-[var(--brand-primary)] text-[var(--text-inverse)] rounded-xl font-black text-sm shadow-lg hover:scale-[1.02] active:scale-95 transition-all",children:[u.jsx(Zo,{className:c?"animate-spin":""})," Refresh"]})]}),u.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:u.jsxs("div",{className:"relative w-full md:max-w-md group mx-auto md:mx-0",children:[u.jsx("input",{type:"text",placeholder:"Search by Order Code...",value:x,onChange:T=>y(T.target.value),className:`w-full px-10 sm:px-12 py-2.5 sm:py-3 text-center rounded-xl border transition-all outline-none font-bold text-xs sm:text-sm shadow-sm\r
                            bg-[var(--surface-card)] border-[var(--border-default)] text-[var(--text-primary)] focus:ring-2 focus:ring-[var(--brand-primary)]/20 focus:border-[var(--brand-primary)] hover:border-[var(--brand-primary)]/50`}),u.jsx(wd,{className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 transition-colors duration-300 text-[var(--text-secondary)] group-focus-within:text-[var(--brand-primary)]",size:18})]})}),c&&a.length===0?u.jsx(qs,{}):j.length===0?u.jsxs("div",{className:"text-center py-20 opacity-30",children:[u.jsx(vh,{size:64,className:"mx-auto mb-4"}),u.jsx("p",{className:"text-xl font-bold uppercase tracking-widest",children:"No matching orders found"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(T=>u.jsx(OB,{order:T,isDark:n,onRemove:N},T.id))})]});return e?u.jsx(e,{children:u.jsx("div",{className:"min-h-screen transition-colors duration-300 bg-[var(--surface-main)] text-[var(--text-primary)]",children:_})}):u.jsx("div",{className:"min-h-screen transition-colors duration-300 bg-[var(--surface-main)] text-[var(--text-primary)]",children:_})},dS=({layout:e})=>{const{orderId:t}=Y_(),r=Ha(),{isDark:n}=bi(),[a,i]=M.useState(null),[c,f]=M.useState(null),[m,p]=M.useState(null),[x,y]=M.useState(!1),[S,N]=M.useState(!0),[j,_]=M.useState(null),T=M.useRef(null),I=async(J=!1)=>{try{J||N(!0);const V=await Ut.get(`/orders/${t}`),$=V.data.order||V.data;i($);const W=["DELIVERED","COMPLETED","PICKED_UP"].includes(String($.status).toUpperCase())||$.delivery_status&&["DELIVERED","COMPLETED"].includes(String($.delivery_status).toUpperCase());!c&&!x&&R()}catch(V){console.error("Error fetching order:",V),J||_("Failed to load order details.")}finally{J||N(!1)}},R=async()=>{try{let J;try{J=await Ut.get(`/orders/${t}/qr`)}catch(W){if(W.response&&W.response.status===404){if(J=await Ut.get(`/orders/${t}/qr`,{validateStatus:Ne=>Ne<500}),J.status===404){f(null),y(!0);return}if(J.status!==200)throw new Error(`Request failed with status ${J.status}`)}else throw W}const V=J.data||{};p(V);let $=V.qrImage||V.qr_code||V.qr||(typeof V=="string"?V:null);$&&typeof $=="string"&&!$.startsWith("data:")&&!$.startsWith("http")&&($=`${Oo}${$.startsWith("/")?"":"/"}${$}`),f($)}catch(J){console.error("Error fetching QR:",J)}},F=J=>String(J||"");M.useEffect(()=>(I(),T.current=setInterval(()=>{I(!0)},5e3),()=>{T.current&&clearInterval(T.current)}),[t]);const G=a&&(["DELIVERED","COMPLETED","PICKED_UP"].includes(F(a.status).toUpperCase())||a.delivery_status&&["DELIVERED","COMPLETED"].includes(F(a.delivery_status).toUpperCase())),Y=e||no;return S&&!a?u.jsx(Y,{children:u.jsx(qs,{})}):j?u.jsx(Y,{children:u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-[var(--surface-main)] text-[var(--text-primary)]",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:j}),u.jsx("button",{onClick:()=>r("/kiosk/my-orders"),className:"px-6 py-2 bg-[var(--brand-primary)] text-[var(--text-inverse)] rounded-lg font-bold",children:"Go Back"})]})})}):a?u.jsx(Y,{children:u.jsx("div",{className:"min-h-screen transition-colors duration-300 bg-[var(--surface-main)] text-[var(--text-primary)]",children:u.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 py-8",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx("button",{onClick:()=>r("/kiosk/my-orders"),className:"w-10 h-10 rounded-xl flex items-center justify-center transition-all border bg-[var(--surface-card)] border-[var(--border-default)] hover:bg-[var(--surface-muted)]",children:u.jsx(Kl,{size:20})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold uppercase tracking-tight",children:["Order #",(m==null?void 0:m.order_id)||a.id]}),u.jsx("p",{className:"text-xs opacity-60 font-medium uppercase tracking-widest",children:new Date(a.created_at||a.createdAt).toLocaleString()})]}),u.jsx("div",{className:`px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wider border
                    ${G?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-amber-500/10 text-amber-500 border-amber-500/20"}`,children:G?"Delivered":a.status})]}),u.jsxs("div",{className:"rounded-[2rem] overflow-hidden border shadow-xl bg-[var(--surface-card)] border-[var(--border-default)]",children:[u.jsxs("div",{className:"bg-gradient-to-br from-[var(--brand-primary)] to-[var(--brand-accent)] p-8 sm:p-12 text-center relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-black/10"}),u.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6",children:[G?u.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-8 rounded-3xl shadow-2xl animate-in zoom-in duration-500",children:[u.jsx("div",{className:"w-24 h-24 bg-emerald-500 rounded-full flex items-center justify-center text-white text-4xl mb-4 mx-auto shadow-lg shadow-emerald-500/30",children:u.jsx(hf,{})}),u.jsx("h2",{className:"text-xl font-black uppercase tracking-tight text-emerald-600",children:"Order Delivered!"}),u.jsx("p",{className:"text-sm font-medium text-slate-600 mt-1",children:"Thank you for shopping with us."})]}):c&&typeof c=="string"?u.jsx("div",{className:"bg-white p-4 rounded-3xl shadow-2xl animate-in zoom-in duration-300",children:c.startsWith("data:image")||c.startsWith("http")?u.jsx("img",{src:c,alt:"Order QR",className:"w-48 h-48 sm:w-64 sm:h-64 object-contain"}):u.jsx("div",{className:"w-48 h-48 sm:w-64 sm:h-64 flex items-center justify-center bg-gray-100 rounded-xl overflow-hidden",dangerouslySetInnerHTML:{__html:c}})}):u.jsx("div",{className:"w-48 h-48 sm:w-64 sm:h-64 bg-white/20 backdrop-blur-md rounded-3xl flex items-center justify-center animate-pulse",children:u.jsx(VR,{className:"text-white/40 text-6xl"})}),!G&&u.jsx("p",{className:"text-black/70 font-bold uppercase tracking-widest text-sm bg-white/20 px-4 py-2 rounded-full backdrop-blur-md",children:"Show this QR to collect order"})]})]}),u.jsxs("div",{className:"p-6 sm:p-8 space-y-6",children:[u.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest opacity-60",children:"Order Summary"}),u.jsx("div",{className:"space-y-4",children:(a.items&&a.items.length>0?a.items:m!=null&&m.ordered_items&&m.ordered_items.length>0?m.ordered_items:m!=null&&m.items&&m.items.length>0?m.items:a.ordered_items&&a.ordered_items.length>0?a.ordered_items:a.dayBills&&a.dayBills.length>0?a.dayBills.flatMap(V=>V.items||[]):a.Items&&a.Items.length>0?a.Items:[]).map((V,$)=>{var q,ie,oe,de,ee,Ae;const W=V.quantity||V.qty||1,Ne=V.name||V.product_name||((q=V.product)==null?void 0:q.name_en)||((ie=V.product)==null?void 0:ie.name)||"Product",Z=V.price||((oe=V.product)==null?void 0:oe.price)||0,Q=V.total_price||parseFloat(Z)*W,me=V.product_image||V.image||((de=V.Product)==null?void 0:de.image)||((ee=V.product)==null?void 0:ee.image)||((Ae=V.product)==null?void 0:Ae.image_path),re=me?me.startsWith("http")?me:`${Oo}${me.startsWith("/")?"":"/"}${me}`:eo;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center shrink-0 border bg-[var(--surface-muted)] border-[var(--border-default)] overflow-hidden relative group",children:[u.jsx("img",{src:re,alt:Ne,className:"w-full h-full object-cover",onError:ce=>ce.target.src=eo}),u.jsxs("div",{className:"absolute bottom-0 right-0 bg-black/60 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-tl-lg backdrop-blur-sm",children:["x",W]})]}),u.jsx("div",{className:"flex-1",children:u.jsx("div",{className:"font-bold text-sm uppercase",children:Ne})}),u.jsxs("div",{className:"font-bold text-[var(--brand-primary)]",children:["",parseFloat(Q).toFixed(2)]})]},$)})}),u.jsx("div",{className:"h-px bg-current opacity-10 my-4"}),u.jsxs("div",{className:"flex justify-between items-center text-lg font-black uppercase tracking-tight",children:[u.jsx("span",{children:"Total Paid"}),u.jsxs("span",{className:"text-[var(--brand-primary)]",children:["",parseFloat(a.total_amount||a.amount||0).toFixed(2)]})]}),a.delivery_address&&u.jsxs("div",{className:"mt-8 pt-6 border-t border-dashed border-[var(--border-default)]",children:[u.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest opacity-60 mb-3",children:"Delivery Address"}),u.jsx("div",{className:"p-4 rounded-2xl bg-[var(--surface-muted)] border border-[var(--border-default)]",children:u.jsx("p",{className:"text-sm font-medium leading-relaxed",children:a.delivery_address})})]})]})]})]})})}):null},TB=()=>{const e=Ha(),[t,r]=M.useState([]),[n,a]=M.useState(!0),i=async()=>{try{a(!0);const f=new Date,m=f.getFullYear(),p=f.getMonth()+1,x=await Ut.get(`/menu/month?year=${m}&month=${p}`);let y=[];if(Array.isArray(x.data)?y=x.data:y=x.data.plans||x.data.plan||[],y.length>0||x.data&&x.data.success){const S=["January","February","March","April","May","June","July","August","September","October","November","December"],N=[],j=T=>T?T.startsWith("http")||T.startsWith("blob:")?T:`${Oo}${T.startsWith("/")?"":"/"}${T}`:null;if(y.some(T=>T.meal_type&&(T.item||T.item_id))){const T={};y.forEach(R=>{const F=R.date;F&&(T[F]||(T[F]={dateStr:F,items:[]}),T[F].items.push(R))}),Object.keys(T).sort().forEach(R=>{const F=T[R],G=new Date(F.dateStr);if(isNaN(G.getTime()))return;const Y=F.items,J=oe=>Y.filter(de=>(de.meal_type||"").toLowerCase()===oe.toLowerCase()),V=oe=>!oe||oe.length===0?"N/A":oe.map(de=>{var ee,Ae;return((ee=de.item)==null?void 0:ee.name_en)||((Ae=de.item)==null?void 0:Ae.name_ta)||"Unknown"}).join(", "),$=oe=>{var Ae,ce;const de=oe.find(U=>{var H,se;return((H=U.item)==null?void 0:H.image_path)||((se=U.item)==null?void 0:se.image)}),ee=((Ae=de==null?void 0:de.item)==null?void 0:Ae.image_path)||((ce=de==null?void 0:de.item)==null?void 0:ce.image);return j(ee)},W=J("Snack"),Ne=Y.filter(oe=>{const de=(oe.meal_type||"").toLowerCase();return de.includes("snack")&&de!=="snack"}),Z=[...W,...Ne];Z.sort((oe,de)=>oe.id-de.id);let Q=[],me=[];Z.length===1?Q=[Z[0]]:Z.length>=2&&(Q=[Z[0]],me=Z.slice(1));const re=J("Breakfast"),q=J("Lunch"),ie=J("Dinner");N.push({dayNum:G.getDate(),dateStr:`${G.getDate()} ${S[G.getMonth()]}`,dayName:G.toLocaleDateString("en-US",{weekday:"long"}).toUpperCase(),breakfast:V(re),snack1:V(Q),lunch:V(q),snack2:V(me),dinner:V(ie),images:{breakfast:$(re),snack1:$(Q),lunch:$(q),snack2:$(me),dinner:$(ie)}})})}else y.some(I=>I.Date||I.date)&&(y.sort((I,R)=>new Date(I.Date||I.date)-new Date(R.Date||R.date)),y.forEach(I=>{const R=new Date(I.Date||I.date);isNaN(R.getTime())||N.push({dayNum:R.getDate(),dateStr:`${R.getDate()} ${S[R.getMonth()]}`,dayName:(I.Day||I.day||R.toLocaleDateString("en-US",{weekday:"long"})).toUpperCase(),breakfast:I.Breakfast||I.breakfast||"N/A",snack1:I.Snack1||I.snack1||"N/A",lunch:I.Lunch||I.lunch||"N/A",snack2:I.Snack2||I.snack2||"N/A",dinner:I.Dinner||I.dinner||"N/A",images:{breakfast:j(I.Breakfast_Image||I.Breakfast_image||I.breakfast_image),snack1:j(I.Snack1_Image||I.Snack1_image||I.snack1_image),lunch:j(I.Lunch_Image||I.Lunch_image||I.lunch_image),snack2:j(I.Snack2_Image||I.Snack2_image||I.snack2_image),dinner:j(I.Dinner_Image||I.Dinner_image||I.dinner_image)}})}));r(N)}}catch(f){console.error("Error fetching meal plan:",f)}finally{a(!1)}};M.useEffect(()=>{i()},[]);const c=[{id:"breakfast",label:"Breakfast",color:"amber"},{id:"snack1",label:"Mid-Day Snack",color:"emerald"},{id:"lunch",label:"Lunch",color:"orange"},{id:"snack2",label:"Evening Snack",color:"blue"},{id:"dinner",label:"Dinner",color:"indigo"}];return u.jsx(no,{children:u.jsx("div",{className:"min-h-screen bg-[var(--surface-main)] flex flex-col",children:u.jsxs("div",{className:"max-w-7xl mx-auto w-full px-4 sm:px-8 py-6 space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between gap-4 border-b border-[var(--border-default)] pb-6 sticky top-0 bg-[var(--surface-main)]/80 backdrop-blur-md z-[100]",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:()=>e(-1),className:"w-14 h-14 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl bg-[var(--surface-card)] border border-[var(--border-default)] flex items-center justify-center text-[var(--text-primary)] hover:bg-[var(--brand-primary)] hover:text-white transition-all shadow-sm",children:u.jsx(Kl,{size:40})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-xl sm:text-3xl font-black text-[var(--text-primary)] uppercase tracking-tight flex items-center gap-2 sm:gap-3",children:[u.jsx("div",{className:"w-1 h-6 sm:w-1.5 sm:h-8 bg-[var(--brand-primary)] rounded-full shadow-[0_0_15px_rgba(250,198,57,0.3)]"}),"Meal Plan"]}),u.jsx("p",{className:"text-[9px] sm:text-xs font-bold text-[var(--text-secondary)] opacity-50 uppercase tracking-[0.2em] mt-0.5 ml-3 sm:ml-4",children:"30-Day Food Schedule"})]})]})}),n?u.jsx("div",{className:"h-[60vh] flex items-center justify-center",children:u.jsx("div",{className:"w-12 h-12 border-4 border-[var(--brand-primary)] border-t-transparent rounded-full animate-spin"})}):t.length===0?u.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center text-[var(--text-secondary)] gap-4 opacity-30",children:[u.jsx(bd,{size:64}),u.jsx("p",{className:"text-xl font-bold uppercase tracking-widest",children:"No meal plan published yet"})]}):u.jsxs("div",{className:"flex flex-col gap-8",children:[u.jsx("div",{className:"lg:hidden sticky top-[80px] z-[90] bg-[var(--surface-main)]/90 backdrop-blur-sm -mx-4 px-4 py-3 border-b border-[var(--border-default)]",children:u.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:t.map(f=>u.jsxs("button",{onClick:()=>{var m;return(m=document.getElementById(`day-${f.dayNum}`))==null?void 0:m.scrollIntoView({behavior:"smooth",block:"center"})},className:"flex-shrink-0 px-4 py-2 rounded-full border border-[var(--border-default)] bg-[var(--surface-card)] text-[10px] font-black uppercase tracking-widest text-[var(--text-secondary)] active:bg-[var(--brand-primary)] active:text-white active:border-[var(--brand-primary)] shadow-sm transition-all whitespace-nowrap",children:["Day ",f.dayNum]},f.dayNum))})}),u.jsx("div",{className:"hidden lg:block rounded-[2.5rem] border border-[var(--border-default)] overflow-hidden bg-[var(--surface-card)] shadow-2xl shadow-black/5",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left border-collapse min-w-[1200px]",children:[u.jsx("thead",{className:"sticky top-0 bg-[var(--surface-main)] backdrop-blur-xl z-20 border-b-2 border-[var(--brand-primary)]/20 shadow-sm",children:u.jsxs("tr",{children:[u.jsx("th",{className:"pl-10 pr-6 py-8 text-[11px] font-black uppercase tracking-widest text-[var(--brand-primary)]",children:"Schedule"}),c.map(f=>u.jsx("th",{className:"px-6 py-8 text-[11px] font-black uppercase tracking-widest text-[var(--text-primary)]",children:f.label},f.id)),u.jsx("th",{className:"pr-10 pl-6 py-8 text-[11px] font-black uppercase tracking-widest text-[var(--text-primary)]",children:"Gallery"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]/30",children:t.map((f,m)=>u.jsxs("tr",{className:"group hover:bg-[var(--brand-primary)]/[0.02] transition-all duration-300",children:[u.jsx("td",{className:"pl-10 pr-6 py-10",children:u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"w-14 h-14 rounded-2xl bg-[var(--surface-main)] border border-[var(--border-default)] flex items-center justify-center text-[var(--text-primary)] font-black text-lg group-hover:bg-[var(--brand-primary)] group-hover:text-white transition-all shadow-md group-hover:scale-105 shrink-0",children:f.dayNum}),u.jsxs("div",{className:"min-w-[120px]",children:[u.jsx("div",{className:"text-base font-black text-[var(--text-primary)] leading-tight",children:f.dateStr}),u.jsx("div",{className:"text-[10px] font-black text-[var(--text-secondary)] opacity-40 uppercase tracking-widest mt-0.5",children:f.dayName})]})]})}),c.map(p=>{var x;return u.jsx("td",{className:"px-6 py-10",children:u.jsxs("div",{className:"flex items-center gap-4",children:[(x=f.images)!=null&&x[p.id]?u.jsx("div",{className:"w-14 h-14 rounded-2xl overflow-hidden shadow-lg shrink-0 border border-[var(--border-default)] group-hover:scale-110 group-hover:rotate-3 transition-all duration-500",children:u.jsx("img",{src:f.images[p.id],className:"w-full h-full object-cover",alt:"Meal"})}):u.jsx("div",{className:"w-14 h-14 rounded-2xl bg-[var(--surface-main)] border border-[var(--border-default)] flex items-center justify-center shrink-0 opacity-20",children:u.jsx(oS,{size:24})}),u.jsxs("div",{className:"flex flex-col min-w-0",children:[u.jsx("span",{className:`text-[9px] font-black uppercase mb-1 tracking-tighter group-hover:opacity-100 opacity-40 transition-opacity text-${p.color}-500`,children:p.label}),u.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)] truncate max-w-[150px]",children:f[p.id]||"-"})]})]})},p.id)}),u.jsx("td",{className:"pr-10 pl-6 py-10",children:u.jsx("div",{className:"flex -space-x-4 isolate group-hover:-space-x-2 transition-all duration-500",children:c.filter(p=>{var x;return(x=f.images)==null?void 0:x[p.id]}).map((p,x)=>u.jsx("div",{className:"w-12 h-12 rounded-2xl border-4 border-[var(--surface-card)] overflow-hidden shadow-xl relative group/img transform hover:z-40 hover:-translate-y-2 hover:scale-150 transition-all cursor-zoom-in",children:u.jsx("img",{src:f.images[p.id],className:"w-full h-full object-cover",alt:"Meal"})},p.id))})})]},m))})]})})}),u.jsx("div",{className:"lg:hidden grid grid-cols-1 sm:grid-cols-2 gap-6 pb-20",children:t.map((f,m)=>u.jsxs("div",{id:`day-${f.dayNum}`,className:"bg-[var(--surface-card)] rounded-[2.5rem] border border-[var(--border-default)] p-6 space-y-6 shadow-xl shadow-black/[0.03] active:scale-[0.99] transition-all scroll-mt-32",children:[u.jsx("div",{className:"flex items-center justify-between border-b border-[var(--border-default)]/50 pb-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"w-14 h-14 rounded-2xl bg-[var(--brand-primary)] text-white flex items-center justify-center text-xl font-black shadow-[0_8px_20px_rgba(250,198,57,0.3)]",children:f.dayNum}),u.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-[var(--surface-main)] border border-[var(--border-default)] flex items-center justify-center",children:u.jsx(bd,{size:12,className:"text-[var(--brand-primary)]"})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-black text-[var(--text-primary)] text-lg tracking-tight uppercase leading-none mb-1",children:f.dateStr}),u.jsx("p",{className:"text-[11px] font-black text-[var(--text-secondary)] opacity-40 uppercase tracking-[0.2em]",children:f.dayName})]})]})}),u.jsx("div",{className:"space-y-3",children:c.map(p=>{var x;return u.jsxs("div",{className:"group relative flex items-center gap-4 bg-[var(--surface-main)] p-3 rounded-[1.5rem] border border-[var(--border-default)]/30 hover:border-[var(--brand-primary)]/40 transition-all overflow-hidden",children:[u.jsx("div",{className:`absolute inset-0 bg-${p.color}-500/5 opacity-0 group-hover:opacity-100 transition-opacity`}),(x=f.images)!=null&&x[p.id]?u.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden shrink-0 border border-[var(--border-default)]/50 shadow-lg group-hover:scale-105 transition-transform duration-500",children:u.jsx("img",{src:f.images[p.id],className:"w-full h-full object-cover",alt:p.label})}):u.jsx("div",{className:"w-16 h-16 rounded-xl bg-[var(--surface-card)] flex items-center justify-center shrink-0 border border-[var(--border-default)]/50",children:u.jsx(oS,{className:"text-[var(--text-secondary)] opacity-10",size:24})}),u.jsxs("div",{className:"flex-1 min-w-0 relative z-10",children:[u.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest text-${p.color}-500/80 mb-0.5 block`,children:p.label}),u.jsx("span",{className:"text-[14px] font-black text-[var(--text-primary)] leading-snug group-hover:text-[var(--brand-primary)] transition-colors line-clamp-2",children:f[p.id]||"Not Scheduled"})]})]},p.id)})})]},m))})]}),u.jsx("div",{className:"pt-10 pb-20 text-center border-t border-[var(--border-default)]",children:u.jsx("p",{className:"text-xs font-black text-[var(--text-secondary)] opacity-20 uppercase tracking-[0.5em]",children:"End of 30-Day Rotation Cycle"})})]})})})},kB="modulepreload",IB=function(e){return"/"+e},fS={},bb=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=Promise.allSettled(r.map(m=>{if(m=IB(m),m in fS)return;fS[m]=!0;const p=m.endsWith(".css"),x=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":kB,p||(y.as="script"),y.crossOrigin="",y.href=m,f&&y.setAttribute("nonce",f),document.head.appendChild(y),p)return new Promise((S,N)=>{y.addEventListener("load",S),y.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${m}`)))})}))}function i(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return a.then(c=>{for(const f of c||[])f.status==="rejected"&&i(f.reason);return t().catch(i)})};function Zn(e){"@babel/helpers - typeof";return Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zn(e)}var zs=Uint8Array,Ko=Uint16Array,ew=Int32Array,Hg=new zs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vg=new zs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),wb=new zs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Zj=function(e,t){for(var r=new Ko(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new ew(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},Jj=Zj(Hg,2),eO=Jj.b,Ab=Jj.r;eO[28]=258,Ab[258]=28;var tO=Zj(Vg,0),DB=tO.b,hS=tO.r,Nb=new Ko(32768);for(var ka=0;ka<32768;++ka){var rd=(ka&43690)>>1|(ka&21845)<<1;rd=(rd&52428)>>2|(rd&13107)<<2,rd=(rd&61680)>>4|(rd&3855)<<4,Nb[ka]=((rd&65280)>>8|(rd&255)<<8)>>1}var Cc=function(e,t,r){for(var n=e.length,a=0,i=new Ko(t);a<n;++a)e[a]&&++i[e[a]-1];var c=new Ko(t);for(a=1;a<t;++a)c[a]=c[a-1]+i[a-1]<<1;var f;if(r){f=new Ko(1<<t);var m=15-t;for(a=0;a<n;++a)if(e[a])for(var p=a<<4|e[a],x=t-e[a],y=c[e[a]-1]++<<x,S=y|(1<<x)-1;y<=S;++y)f[Nb[y]>>m]=p}else for(f=new Ko(n),a=0;a<n;++a)e[a]&&(f[a]=Nb[c[e[a]-1]++]>>15-e[a]);return f},Ad=new zs(288);for(var ka=0;ka<144;++ka)Ad[ka]=8;for(var ka=144;ka<256;++ka)Ad[ka]=9;for(var ka=256;ka<280;++ka)Ad[ka]=7;for(var ka=280;ka<288;++ka)Ad[ka]=8;var n1=new zs(32);for(var ka=0;ka<32;++ka)n1[ka]=5;var MB=Cc(Ad,9,0),LB=Cc(Ad,9,1),PB=Cc(n1,5,0),RB=Cc(n1,5,1),dv=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Bl=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},fv=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},tw=function(e){return(e+7)/8|0},rO=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new zs(e.subarray(t,r))},BB=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],zl=function(e,t,r){var n=new Error(t||BB[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,zl),!r)throw n;return n},FB=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new zs(0);var c=!r,f=c||t.i!=2,m=t.i;c&&(r=new zs(a*3));var p=function(ke){var ue=r.length;if(ke>ue){var Le=new zs(Math.max(ue*2,ke));Le.set(r),r=Le}},x=t.f||0,y=t.p||0,S=t.b||0,N=t.l,j=t.d,_=t.m,T=t.n,I=a*8;do{if(!N){x=Bl(e,y,1);var R=Bl(e,y+1,3);if(y+=3,R)if(R==1)N=LB,j=RB,_=9,T=5;else if(R==2){var J=Bl(e,y,31)+257,V=Bl(e,y+10,15)+4,$=J+Bl(e,y+5,31)+1;y+=14;for(var W=new zs($),Ne=new zs(19),Z=0;Z<V;++Z)Ne[wb[Z]]=Bl(e,y+Z*3,7);y+=V*3;for(var Q=dv(Ne),me=(1<<Q)-1,re=Cc(Ne,Q,1),Z=0;Z<$;){var q=re[Bl(e,y,me)];y+=q&15;var F=q>>4;if(F<16)W[Z++]=F;else{var ie=0,oe=0;for(F==16?(oe=3+Bl(e,y,3),y+=2,ie=W[Z-1]):F==17?(oe=3+Bl(e,y,7),y+=3):F==18&&(oe=11+Bl(e,y,127),y+=7);oe--;)W[Z++]=ie}}var de=W.subarray(0,J),ee=W.subarray(J);_=dv(de),T=dv(ee),N=Cc(de,_,1),j=Cc(ee,T,1)}else zl(1);else{var F=tw(y)+4,G=e[F-4]|e[F-3]<<8,Y=F+G;if(Y>a){m&&zl(0);break}f&&p(S+G),r.set(e.subarray(F,Y),S),t.b=S+=G,t.p=y=Y*8,t.f=x;continue}if(y>I){m&&zl(0);break}}f&&p(S+131072);for(var Ae=(1<<_)-1,ce=(1<<T)-1,U=y;;U=y){var ie=N[fv(e,y)&Ae],H=ie>>4;if(y+=ie&15,y>I){m&&zl(0);break}if(ie||zl(2),H<256)r[S++]=H;else if(H==256){U=y,N=null;break}else{var se=H-254;if(H>264){var Z=H-257,ve=Hg[Z];se=Bl(e,y,(1<<ve)-1)+eO[Z],y+=ve}var ne=j[fv(e,y)&ce],le=ne>>4;ne||zl(3),y+=ne&15;var ee=DB[le];if(le>3){var ve=Vg[le];ee+=fv(e,y)&(1<<ve)-1,y+=ve}if(y>I){m&&zl(0);break}f&&p(S+131072);var je=S+se;if(S<ee){var pe=i-ee,Te=Math.min(ee,je);for(pe+S<0&&zl(3);S<Te;++S)r[S]=n[pe+S]}for(;S<je;++S)r[S]=r[S-ee]}}t.l=N,t.p=U,t.b=S,t.f=x,N&&(x=1,t.m=_,t.d=j,t.n=T)}while(!x);return S!=r.length&&c?rO(r,0,S):r.subarray(0,S)},ou=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},L0=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},hv=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:aO,l:0};if(a==1){var c=new zs(r[0].s+1);return c[r[0].s]=1,{t:c,l:1}}r.sort(function(Y,J){return Y.f-J.f}),r.push({s:-1,f:25001});var f=r[0],m=r[1],p=0,x=1,y=2;for(r[0]={s:-1,f:f.f+m.f,l:f,r:m};x!=a-1;)f=r[r[p].f<r[y].f?p++:y++],m=r[p!=x&&r[p].f<r[y].f?p++:y++],r[x++]={s:-1,f:f.f+m.f,l:f,r:m};for(var S=i[0].s,n=1;n<a;++n)i[n].s>S&&(S=i[n].s);var N=new Ko(S+1),j=Sb(r[x-1],N,0);if(j>t){var n=0,_=0,T=j-t,I=1<<T;for(i.sort(function(J,V){return N[V.s]-N[J.s]||J.f-V.f});n<a;++n){var R=i[n].s;if(N[R]>t)_+=I-(1<<j-N[R]),N[R]=t;else break}for(_>>=T;_>0;){var F=i[n].s;N[F]<t?_-=1<<t-N[F]++-1:++n}for(;n>=0&&_;--n){var G=i[n].s;N[G]==t&&(--N[G],++_)}j=t}return{t:new zs(N),l:j}},Sb=function(e,t,r){return e.s==-1?Math.max(Sb(e.l,t,r+1),Sb(e.r,t,r+1)):t[e.s]=r},pS=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ko(++t),n=0,a=e[0],i=1,c=function(m){r[n++]=m},f=1;f<=t;++f)if(e[f]==a&&f!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)c(32754);i>2&&(c(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(c(a),--i;i>6;i-=6)c(8304);i>2&&(c(i-3<<5|8208),i=0)}for(;i--;)c(a);i=1,a=e[f]}return{c:r.subarray(0,n),n:t}},P0=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},nO=function(e,t,r){var n=r.length,a=tw(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},mS=function(e,t,r,n,a,i,c,f,m,p,x){ou(t,x++,r),++a[256];for(var y=hv(a,15),S=y.t,N=y.l,j=hv(i,15),_=j.t,T=j.l,I=pS(S),R=I.c,F=I.n,G=pS(_),Y=G.c,J=G.n,V=new Ko(19),$=0;$<R.length;++$)++V[R[$]&31];for(var $=0;$<Y.length;++$)++V[Y[$]&31];for(var W=hv(V,7),Ne=W.t,Z=W.l,Q=19;Q>4&&!Ne[wb[Q-1]];--Q);var me=p+5<<3,re=P0(a,Ad)+P0(i,n1)+c,q=P0(a,S)+P0(i,_)+c+14+3*Q+P0(V,Ne)+2*V[16]+3*V[17]+7*V[18];if(m>=0&&me<=re&&me<=q)return nO(t,x,e.subarray(m,m+p));var ie,oe,de,ee;if(ou(t,x,1+(q<re)),x+=2,q<re){ie=Cc(S,N,0),oe=S,de=Cc(_,T,0),ee=_;var Ae=Cc(Ne,Z,0);ou(t,x,F-257),ou(t,x+5,J-1),ou(t,x+10,Q-4),x+=14;for(var $=0;$<Q;++$)ou(t,x+3*$,Ne[wb[$]]);x+=3*Q;for(var ce=[R,Y],U=0;U<2;++U)for(var H=ce[U],$=0;$<H.length;++$){var se=H[$]&31;ou(t,x,Ae[se]),x+=Ne[se],se>15&&(ou(t,x,H[$]>>5&127),x+=H[$]>>12)}}else ie=MB,oe=Ad,de=PB,ee=n1;for(var $=0;$<f;++$){var ve=n[$];if(ve>255){var se=ve>>18&31;L0(t,x,ie[se+257]),x+=oe[se+257],se>7&&(ou(t,x,ve>>23&31),x+=Hg[se]);var ne=ve&31;L0(t,x,de[ne]),x+=ee[ne],ne>3&&(L0(t,x,ve>>5&8191),x+=Vg[ne])}else L0(t,x,ie[ve]),x+=oe[ve]}return L0(t,x,ie[256]),x+oe[256]},zB=new ew([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),aO=new zs(0),UB=function(e,t,r,n,a,i){var c=i.z||e.length,f=new zs(n+c+5*(1+Math.ceil(c/7e3))+a),m=f.subarray(n,f.length-a),p=i.l,x=(i.r||0)&7;if(t){x&&(m[0]=i.r>>3);for(var y=zB[t-1],S=y>>13,N=y&8191,j=(1<<r)-1,_=i.p||new Ko(32768),T=i.h||new Ko(j+1),I=Math.ceil(r/3),R=2*I,F=function($e){return(e[$e]^e[$e+1]<<I^e[$e+2]<<R)&j},G=new ew(25e3),Y=new Ko(288),J=new Ko(32),V=0,$=0,W=i.i||0,Ne=0,Z=i.w||0,Q=0;W+2<c;++W){var me=F(W),re=W&32767,q=T[me];if(_[re]=q,T[me]=re,Z<=W){var ie=c-W;if((V>7e3||Ne>24576)&&(ie>423||!p)){x=mS(e,m,0,G,Y,J,$,Ne,Q,W-Q,x),Ne=V=$=0,Q=W;for(var oe=0;oe<286;++oe)Y[oe]=0;for(var oe=0;oe<30;++oe)J[oe]=0}var de=2,ee=0,Ae=N,ce=re-q&32767;if(ie>2&&me==F(W-ce))for(var U=Math.min(S,ie)-1,H=Math.min(32767,W),se=Math.min(258,ie);ce<=H&&--Ae&&re!=q;){if(e[W+de]==e[W+de-ce]){for(var ve=0;ve<se&&e[W+ve]==e[W+ve-ce];++ve);if(ve>de){if(de=ve,ee=ce,ve>U)break;for(var ne=Math.min(ce,ve-2),le=0,oe=0;oe<ne;++oe){var je=W-ce+oe&32767,pe=_[je],Te=je-pe&32767;Te>le&&(le=Te,q=je)}}}re=q,q=_[re],ce+=re-q&32767}if(ee){G[Ne++]=268435456|Ab[de]<<18|hS[ee];var ke=Ab[de]&31,ue=hS[ee]&31;$+=Hg[ke]+Vg[ue],++Y[257+ke],++J[ue],Z=W+de,++V}else G[Ne++]=e[W],++Y[e[W]]}}for(W=Math.max(W,Z);W<c;++W)G[Ne++]=e[W],++Y[e[W]];x=mS(e,m,p,G,Y,J,$,Ne,Q,W-Q,x),p||(i.r=x&7|m[x/8|0]<<3,x-=7,i.h=T,i.p=_,i.i=W,i.w=Z)}else{for(var W=i.w||0;W<c+p;W+=65535){var Le=W+65535;Le>=c&&(m[x/8|0]=p,Le=c),x=nO(m,x+1,e.subarray(W,Le))}i.i=c}return rO(f,0,n+tw(x)+a)},iO=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,c=0;c!=i;){for(var f=Math.min(c+2655,i);c<f;++c)a+=n+=r[c];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},qB=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),c=new zs(i.length+e.length);c.set(i),c.set(e,i.length),e=c,a.w=i.length}return UB(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},sO=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},HB=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=iO();a.p(t.dictionary),sO(e,2,a.d())}},VB=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&zl(6,"invalid zlib data"),(e[1]>>5&1)==1&&zl(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Eb(e,t){t||(t={});var r=iO();r.p(e);var n=qB(e,t,t.dictionary?6:2,4);return HB(n,t),sO(n,n.length-4,r.d()),n}function GB(e,t){return FB(e.subarray(VB(e),-4),{i:2},t,t)}var WB=typeof TextDecoder<"u"&&new TextDecoder,YB=0;try{WB.decode(aO,{stream:!0}),YB=1}catch{}var Dr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function pv(){Dr.console&&typeof Dr.console.log=="function"&&Dr.console.log.apply(Dr.console,arguments)}var pa={log:pv,warn:function(e){Dr.console&&(typeof Dr.console.warn=="function"?Dr.console.warn.apply(Dr.console,arguments):pv.call(null,arguments))},error:function(e){Dr.console&&(typeof Dr.console.error=="function"?Dr.console.error.apply(Dr.console,arguments):pv(e))}};function mv(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){$d(n.response,t,r)},n.onerror=function(){pa.error("could not download file")},n.send()}function gS(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function qp(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Z0,Cb,$d=Dr.saveAs||((typeof window>"u"?"undefined":Zn(window))!=="object"||window!==Dr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Dr.URL||Dr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?gS(a.href)?mv(e,t,r):qp(a,a.target="_blank"):qp(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){qp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(gS(e))mv(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){qp(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Zn(i)!=="object"&&(pa.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return mv(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Dr.HTMLElement)||Dr.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&i)&&(typeof FileReader>"u"?"undefined":Zn(FileReader))==="object"){var f=new FileReader;f.onloadend=function(){var x=f.result;x=c?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=x:location=x,n=null},f.readAsDataURL(e)}else{var m=Dr.URL||Dr.webkitURL,p=m.createObjectURL(e);n?n.location=p:location.href=p,n=null,setTimeout(function(){m.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function oO(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(f){return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(f){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,c=a.exec(e);c&&(t=i(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var f=this.r.toString(16),m=this.g.toString(16),p=this.b.toString(16);return f.length==1&&(f="0"+f),m.length==1&&(m="0"+m),p.length==1&&(p="0"+p),"#"+f+m+p}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function gv(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Ds(r,n,a,i,t[0],7,-680876936),i=Ds(i,r,n,a,t[1],12,-389564586),a=Ds(a,i,r,n,t[2],17,606105819),n=Ds(n,a,i,r,t[3],22,-1044525330),r=Ds(r,n,a,i,t[4],7,-176418897),i=Ds(i,r,n,a,t[5],12,1200080426),a=Ds(a,i,r,n,t[6],17,-1473231341),n=Ds(n,a,i,r,t[7],22,-45705983),r=Ds(r,n,a,i,t[8],7,1770035416),i=Ds(i,r,n,a,t[9],12,-1958414417),a=Ds(a,i,r,n,t[10],17,-42063),n=Ds(n,a,i,r,t[11],22,-1990404162),r=Ds(r,n,a,i,t[12],7,1804603682),i=Ds(i,r,n,a,t[13],12,-40341101),a=Ds(a,i,r,n,t[14],17,-1502002290),r=Ms(r,n=Ds(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Ms(i,r,n,a,t[6],9,-1069501632),a=Ms(a,i,r,n,t[11],14,643717713),n=Ms(n,a,i,r,t[0],20,-373897302),r=Ms(r,n,a,i,t[5],5,-701558691),i=Ms(i,r,n,a,t[10],9,38016083),a=Ms(a,i,r,n,t[15],14,-660478335),n=Ms(n,a,i,r,t[4],20,-405537848),r=Ms(r,n,a,i,t[9],5,568446438),i=Ms(i,r,n,a,t[14],9,-1019803690),a=Ms(a,i,r,n,t[3],14,-187363961),n=Ms(n,a,i,r,t[8],20,1163531501),r=Ms(r,n,a,i,t[13],5,-1444681467),i=Ms(i,r,n,a,t[2],9,-51403784),a=Ms(a,i,r,n,t[7],14,1735328473),r=Ls(r,n=Ms(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Ls(i,r,n,a,t[8],11,-2022574463),a=Ls(a,i,r,n,t[11],16,1839030562),n=Ls(n,a,i,r,t[14],23,-35309556),r=Ls(r,n,a,i,t[1],4,-1530992060),i=Ls(i,r,n,a,t[4],11,1272893353),a=Ls(a,i,r,n,t[7],16,-155497632),n=Ls(n,a,i,r,t[10],23,-1094730640),r=Ls(r,n,a,i,t[13],4,681279174),i=Ls(i,r,n,a,t[0],11,-358537222),a=Ls(a,i,r,n,t[3],16,-722521979),n=Ls(n,a,i,r,t[6],23,76029189),r=Ls(r,n,a,i,t[9],4,-640364487),i=Ls(i,r,n,a,t[12],11,-421815835),a=Ls(a,i,r,n,t[15],16,530742520),r=Ps(r,n=Ls(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Ps(i,r,n,a,t[7],10,1126891415),a=Ps(a,i,r,n,t[14],15,-1416354905),n=Ps(n,a,i,r,t[5],21,-57434055),r=Ps(r,n,a,i,t[12],6,1700485571),i=Ps(i,r,n,a,t[3],10,-1894986606),a=Ps(a,i,r,n,t[10],15,-1051523),n=Ps(n,a,i,r,t[1],21,-2054922799),r=Ps(r,n,a,i,t[8],6,1873313359),i=Ps(i,r,n,a,t[15],10,-30611744),a=Ps(a,i,r,n,t[6],15,-1560198380),n=Ps(n,a,i,r,t[13],21,1309151649),r=Ps(r,n,a,i,t[4],6,-145523070),i=Ps(i,r,n,a,t[11],10,-1120210379),a=Ps(a,i,r,n,t[2],15,718787259),n=Ps(n,a,i,r,t[9],21,-343485551),e[0]=pd(r,e[0]),e[1]=pd(n,e[1]),e[2]=pd(a,e[2]),e[3]=pd(i,e[3])}function Gg(e,t,r,n,a,i){return t=pd(pd(t,e),pd(n,i)),pd(t<<a|t>>>32-a,r)}function Ds(e,t,r,n,a,i,c){return Gg(t&r|~t&n,e,t,a,i,c)}function Ms(e,t,r,n,a,i,c){return Gg(t&n|r&~n,e,t,a,i,c)}function Ls(e,t,r,n,a,i,c){return Gg(t^r^n,e,t,a,i,c)}function Ps(e,t,r,n,a,i,c){return Gg(r^(t|~n),e,t,a,i,c)}function lO(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)gv(n,$B(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(gv(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,gv(n,a),n}function $B(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Z0=Dr.atob.bind(Dr),Cb=Dr.btoa.bind(Dr);var xS="0123456789abcdef".split("");function XB(e){for(var t="",r=0;r<4;r++)t+=xS[e>>8*r+4&15]+xS[e>>8*r&15];return t}function KB(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function _b(e){return lO(e).map(KB).join("")}var QB=function(e){for(var t=0;t<e.length;t++)e[t]=XB(e[t]);return e.join("")}(lO("hello"))!="5d41402abc4b2a76b9719d911017c592";function pd(e,t){if(QB){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function jb(e,t){var r,n,a,i;if(e!==r){for(var c=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),f=[],m=0;m<256;m++)f[m]=m;var p=0;for(m=0;m<256;m++){var x=f[m];p=(p+x+c.charCodeAt(m))%256,f[m]=f[p],f[p]=x}r=e,n=f}else f=n;var y=t.length,S=0,N=0,j="";for(m=0;m<y;m++)N=(N+(x=f[S=(S+1)%256]))%256,f[S]=f[N],f[N]=x,c=f[(f[S]+f[N])%256],j+=String.fromCharCode(t.charCodeAt(m)^c);return j}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var vS={print:4,modify:8,copy:16,"annot-forms":32};function uh(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(f){if(vS.perm!==void 0)throw new Error("Invalid permission: "+f);a+=vS[f]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),c=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,c),this.P=-(1+(255^a)),this.encryptionKey=_b(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=jb(this.encryptionKey,this.padding)}function dh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function yS(e){if(Zn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var c=t[r][i];try{c[0].apply(e,n)}catch(f){Dr.console&&pa.error("jsPDF PubSub Error",f.message,f)}c[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Pm(e){if(!(this instanceof Pm))return new Pm(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function cO(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Zd(e,t,r,n,a){if(!(this instanceof Zd))return new Zd(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,cO.call(this,n,a)}function hh(e,t,r,n,a){if(!(this instanceof hh))return new hh(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,cO.call(this,n,a)}function br(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],c=[],f=1,m=16,p="S",x=null;Zn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(x=e.encryption||null)!==null&&(x.userPassword=x.userPassword||"",x.ownerPassword=x.ownerPassword||"",x.userPermissions=x.userPermissions||[]),f=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(m=e.floatPrecision),p=e.defaultPathOperation||"S"),c=e.filters||(i===!0?["FlateEncode"]:c),n=n||"mm",r=(""+(r||"P")).toLowerCase();var y=e.putOnlyUsedFonts||!1,S={},N={internal:{},__private__:{}};N.__private__.PubSub=yS;var j="1.3",_=N.__private__.getPdfVersion=function(){return j};N.__private__.setPdfVersion=function(P){j=P};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};N.__private__.getPageFormats=function(){return T};var I=N.__private__.getPageFormat=function(P){return T[P]};a=a||"a4";var R={COMPAT:"compat",ADVANCED:"advanced"},F=R.COMPAT;function G(){this.saveGraphicsState(),ae(new or(zt,0,0,-zt,0,ts()*zt).toString()+" cm"),this.setFontSize(this.getFontSize()/zt),p="n",F=R.ADVANCED}function Y(){this.restoreGraphicsState(),p="S",F=R.COMPAT}var J=N.__private__.combineFontStyleAndFontWeight=function(P,xe){if(P=="bold"&&xe=="normal"||P=="bold"&&xe==400||P=="normal"&&xe=="italic"||P=="bold"&&xe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return xe&&(P=xe==400||xe==="normal"?P==="italic"?"italic":"normal":xe!=700&&xe!=="bold"||P!=="normal"?(xe==700?"bold":xe)+""+P:"bold"),P};N.advancedAPI=function(P){var xe=F===R.COMPAT;return xe&&G.call(this),typeof P!="function"||(P(this),xe&&Y.call(this)),this},N.compatAPI=function(P){var xe=F===R.ADVANCED;return xe&&Y.call(this),typeof P!="function"||(P(this),xe&&G.call(this)),this},N.isAdvancedAPI=function(){return F===R.ADVANCED};var V,$=function(P){if(F!==R.ADVANCED)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},W=N.roundToPrecision=N.__private__.roundToPrecision=function(P,xe){var Ie=t||xe;if(isNaN(P)||isNaN(Ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(Ie).replace(/0+$/,"")};V=N.hpf=N.__private__.hpf=typeof m=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return W(P,m)}:m==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return W(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return W(P,16)};var Ne=N.f2=N.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return W(P,2)},Z=N.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return W(P,3)},Q=N.scale=N.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return F===R.COMPAT?P*zt:F===R.ADVANCED?P:void 0},me=function(P){return F===R.COMPAT?ts()-P:F===R.ADVANCED?P:void 0},re=function(P){return Q(me(P))};N.__private__.setPrecision=N.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(t=parseInt(P,10))};var q,ie="00000000000000000000000000000000",oe=N.__private__.getFileId=function(){return ie},de=N.__private__.setFileId=function(P){return ie=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),x!==null&&(Nn=new uh(x.userPermissions,x.userPassword,x.ownerPassword,ie)),ie};N.setFileId=function(P){return de(P),this},N.getFileId=function(){return oe()};var ee=N.__private__.convertDateToPDFDate=function(P){var xe=P.getTimezoneOffset(),Ie=xe<0?"+":"-",qe=Math.floor(Math.abs(xe/60)),Ze=Math.abs(xe%60),yt=[Ie,se(qe),"'",se(Ze),"'"].join("");return["D:",P.getFullYear(),se(P.getMonth()+1),se(P.getDate()),se(P.getHours()),se(P.getMinutes()),se(P.getSeconds()),yt].join("")},Ae=N.__private__.convertPDFDateToDate=function(P){var xe=parseInt(P.substr(2,4),10),Ie=parseInt(P.substr(6,2),10)-1,qe=parseInt(P.substr(8,2),10),Ze=parseInt(P.substr(10,2),10),yt=parseInt(P.substr(12,2),10),Dt=parseInt(P.substr(14,2),10);return new Date(xe,Ie,qe,Ze,yt,Dt,0)},ce=N.__private__.setCreationDate=function(P){var xe;if(P===void 0&&(P=new Date),P instanceof Date)xe=ee(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");xe=P}return q=xe},U=N.__private__.getCreationDate=function(P){var xe=q;return P==="jsDate"&&(xe=Ae(q)),xe};N.setCreationDate=function(P){return ce(P),this},N.getCreationDate=function(P){return U(P)};var H,se=N.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},ve=N.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},ne=0,le=[],je=[],pe=0,Te=[],ke=[],ue=!1,Le=je,$e=function(){ne=0,pe=0,je=[],le=[],Te=[],bt=_e(),Ft=_e()};N.__private__.setCustomOutputDestination=function(P){ue=!0,Le=P};var Be=function(P){ue||(Le=P)};N.__private__.resetCustomOutputDestination=function(){ue=!1,Le=je};var ae=N.__private__.out=function(P){return P=P.toString(),pe+=P.length+1,Le.push(P),Le},nt=N.__private__.write=function(P){return ae(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},at=N.__private__.getArrayBuffer=function(P){for(var xe=P.length,Ie=new ArrayBuffer(xe),qe=new Uint8Array(Ie);xe--;)qe[xe]=P.charCodeAt(xe);return Ie},Re=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];N.__private__.getStandardFonts=function(){return Re};var Qe=e.fontSize||16;N.__private__.setFontSize=N.setFontSize=function(P){return Qe=F===R.ADVANCED?P/zt:P,this};var Fe,et=N.__private__.getFontSize=N.getFontSize=function(){return F===R.COMPAT?Qe:Qe*zt},St=e.R2L||!1;N.__private__.setR2L=N.setR2L=function(P){return St=P,this},N.__private__.getR2L=N.getR2L=function(){return St};var qt,Wt=N.__private__.setZoomMode=function(P){var xe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))Fe=P;else if(isNaN(P)){if(xe.indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');Fe=P}else Fe=parseInt(P,10)};N.__private__.getZoomMode=function(){return Fe};var tr,Bt=N.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');qt=P};N.__private__.getPageMode=function(){return qt};var lr=N.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');tr=P};N.__private__.getLayoutMode=function(){return tr},N.__private__.setDisplayMode=N.setDisplayMode=function(P,xe,Ie){return Wt(P),lr(xe),Bt(Ie),this};var Qt={title:"",subject:"",author:"",keywords:"",creator:""};N.__private__.getDocumentProperty=function(P){if(Object.keys(Qt).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Qt[P]},N.__private__.getDocumentProperties=function(){return Qt},N.__private__.setDocumentProperties=N.setProperties=N.setDocumentProperties=function(P){for(var xe in Qt)Qt.hasOwnProperty(xe)&&P[xe]&&(Qt[xe]=P[xe]);return this},N.__private__.setDocumentProperty=function(P,xe){if(Object.keys(Qt).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Qt[P]=xe};var Er,zt,Mn,Ht,Ct,rr={},Jt={},Kr=[],Ur={},Ri={},pn={},Ar={},sa=null,sn=0,xr=[],Nr=new yS(N),Ji=e.hotfixes||[],Gr={},oa={},la=[],or=function P(xe,Ie,qe,Ze,yt,Dt){if(!(this instanceof P))return new P(xe,Ie,qe,Ze,yt,Dt);isNaN(xe)&&(xe=1),isNaN(Ie)&&(Ie=0),isNaN(qe)&&(qe=0),isNaN(Ze)&&(Ze=1),isNaN(yt)&&(yt=0),isNaN(Dt)&&(Dt=0),this._matrix=[xe,Ie,qe,Ze,yt,Dt]};Object.defineProperty(or.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(or.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(or.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(or.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(or.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(or.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(or.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(or.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(or.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(or.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(or.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(or.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(or.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(or.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(or.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(or.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),or.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(V).join(P)},or.prototype.multiply=function(P){var xe=P.sx*this.sx+P.shy*this.shx,Ie=P.sx*this.shy+P.shy*this.sy,qe=P.shx*this.sx+P.sy*this.shx,Ze=P.shx*this.shy+P.sy*this.sy,yt=P.tx*this.sx+P.ty*this.shx+this.tx,Dt=P.tx*this.shy+P.ty*this.sy+this.ty;return new or(xe,Ie,qe,Ze,yt,Dt)},or.prototype.decompose=function(){var P=this.sx,xe=this.shy,Ie=this.shx,qe=this.sy,Ze=this.tx,yt=this.ty,Dt=Math.sqrt(P*P+xe*xe),Kt=(P/=Dt)*Ie+(xe/=Dt)*qe;Ie-=P*Kt,qe-=xe*Kt;var vr=Math.sqrt(Ie*Ie+qe*qe);return Kt/=vr,P*(qe/=vr)<xe*(Ie/=vr)&&(P=-P,xe=-xe,Kt=-Kt,Dt=-Dt),{scale:new or(Dt,0,0,vr,0,0),translate:new or(1,0,0,1,Ze,yt),rotate:new or(P,xe,-xe,P,0,0),skew:new or(1,0,Kt,1,0,0)}},or.prototype.toString=function(P){return this.join(" ")},or.prototype.inversed=function(){var P=this.sx,xe=this.shy,Ie=this.shx,qe=this.sy,Ze=this.tx,yt=this.ty,Dt=1/(P*qe-xe*Ie),Kt=qe*Dt,vr=-xe*Dt,Or=-Ie*Dt,Sr=P*Dt;return new or(Kt,vr,Or,Sr,-Kt*Ze-Or*yt,-vr*Ze-Sr*yt)},or.prototype.applyToPoint=function(P){var xe=P.x*this.sx+P.y*this.shx+this.tx,Ie=P.x*this.shy+P.y*this.sy+this.ty;return new El(xe,Ie)},or.prototype.applyToRectangle=function(P){var xe=this.applyToPoint(P),Ie=this.applyToPoint(new El(P.x+P.w,P.y+P.h));return new Uc(xe.x,xe.y,Ie.x-xe.x,Ie.y-xe.y)},or.prototype.clone=function(){var P=this.sx,xe=this.shy,Ie=this.shx,qe=this.sy,Ze=this.tx,yt=this.ty;return new or(P,xe,Ie,qe,Ze,yt)},N.Matrix=or;var Za=N.matrixMult=function(P,xe){return xe.multiply(P)},Jn=new or(1,0,0,1,0,0);N.unitMatrix=N.identityMatrix=Jn;var xa=function(P,xe){if(!Ri[P]){var Ie=(xe instanceof Zd?"Sh":"P")+(Object.keys(Ur).length+1).toString(10);xe.id=Ie,Ri[P]=Ie,Ur[Ie]=xe,Nr.publish("addPattern",xe)}};N.ShadingPattern=Zd,N.TilingPattern=hh,N.addShadingPattern=function(P,xe){return $("addShadingPattern()"),xa(P,xe),this},N.beginTilingPattern=function(P){$("beginTilingPattern()"),nc(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},N.endTilingPattern=function(P,xe){$("endTilingPattern()"),xe.stream=ke[H].join(`
`),xa(P,xe),Nr.publish("endTilingPattern",xe),la.pop().restore()};var Wr=N.__private__.newObject=function(){var P=_e();return Ot(P,!0),P},_e=N.__private__.newObjectDeferred=function(){return ne++,le[ne]=function(){return pe},ne},Ot=function(P,xe){return xe=typeof xe=="boolean"&&xe,le[P]=pe,xe&&ae(P+" 0 obj"),P},tt=N.__private__.newAdditionalObject=function(){var P={objId:_e(),content:""};return Te.push(P),P},bt=_e(),Ft=_e(),Pe=N.__private__.decodeColorString=function(P){var xe=P.split(" ");if(xe.length!==2||xe[1]!=="g"&&xe[1]!=="G")xe.length===5&&(xe[4]==="k"||xe[4]==="K")&&(xe=[(1-xe[0])*(1-xe[3]),(1-xe[1])*(1-xe[3]),(1-xe[2])*(1-xe[3]),"r"]);else{var Ie=parseFloat(xe[0]);xe=[Ie,Ie,Ie,"r"]}for(var qe="#",Ze=0;Ze<3;Ze++)qe+=("0"+Math.floor(255*parseFloat(xe[Ze])).toString(16)).slice(-2);return qe},mt=N.__private__.encodeColorString=function(P){var xe;typeof P=="string"&&(P={ch1:P});var Ie=P.ch1,qe=P.ch2,Ze=P.ch3,yt=P.ch4,Dt=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ie=="string"&&Ie.charAt(0)!=="#"){var Kt=new oO(Ie);if(Kt.ok)Ie=Kt.toHex();else if(!/^\d*\.?\d*$/.test(Ie))throw new Error('Invalid color "'+Ie+'" passed to jsPDF.encodeColorString.')}if(typeof Ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ie)&&(Ie="#"+Ie[1]+Ie[1]+Ie[2]+Ie[2]+Ie[3]+Ie[3]),typeof Ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ie)){var vr=parseInt(Ie.substr(1),16);Ie=vr>>16&255,qe=vr>>8&255,Ze=255&vr}if(qe===void 0||yt===void 0&&Ie===qe&&qe===Ze)if(typeof Ie=="string")xe=Ie+" "+Dt[0];else switch(P.precision){case 2:xe=Ne(Ie/255)+" "+Dt[0];break;case 3:default:xe=Z(Ie/255)+" "+Dt[0]}else if(yt===void 0||Zn(yt)==="object"){if(yt&&!isNaN(yt.a)&&yt.a===0)return xe=["1.","1.","1.",Dt[1]].join(" ");if(typeof Ie=="string")xe=[Ie,qe,Ze,Dt[1]].join(" ");else switch(P.precision){case 2:xe=[Ne(Ie/255),Ne(qe/255),Ne(Ze/255),Dt[1]].join(" ");break;default:case 3:xe=[Z(Ie/255),Z(qe/255),Z(Ze/255),Dt[1]].join(" ")}}else if(typeof Ie=="string")xe=[Ie,qe,Ze,yt,Dt[2]].join(" ");else switch(P.precision){case 2:xe=[Ne(Ie),Ne(qe),Ne(Ze),Ne(yt),Dt[2]].join(" ");break;case 3:default:xe=[Z(Ie),Z(qe),Z(Ze),Z(yt),Dt[2]].join(" ")}return xe},xt=N.__private__.getFilters=function(){return c},Tt=N.__private__.putStream=function(P){var xe=(P=P||{}).data||"",Ie=P.filters||xt(),qe=P.alreadyAppliedFilters||[],Ze=P.addLength1||!1,yt=xe.length,Dt=P.objectId,Kt=function(di){return di};if(x!==null&&Dt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");x!==null&&(Kt=Nn.encryptor(Dt,0));var vr={};Ie===!0&&(Ie=["FlateEncode"]);var Or=P.additionalKeyValues||[],Sr=(vr=br.API.processDataByFilters!==void 0?br.API.processDataByFilters(xe,Ie):{data:xe,reverseChain:[]}).reverseChain+(Array.isArray(qe)?qe.join(" "):qe.toString());if(vr.data.length!==0&&(Or.push({key:"Length",value:vr.data.length}),Ze===!0&&Or.push({key:"Length1",value:yt})),Sr.length!=0)if(Sr.split("/").length-1==1)Or.push({key:"Filter",value:Sr});else{Or.push({key:"Filter",value:"["+Sr+"]"});for(var an=0;an<Or.length;an+=1)if(Or[an].key==="DecodeParms"){for(var ea=[],On=0;On<vr.reverseChain.split("/").length-1;On+=1)ea.push("null");ea.push(Or[an].value),Or[an].value="["+ea.join(" ")+"]"}}ae("<<");for(var ca=0;ca<Or.length;ca++)ae("/"+Or[ca].key+" "+Or[ca].value);ae(">>"),vr.data.length!==0&&(ae("stream"),ae(Kt(vr.data)),ae("endstream"))},ht=N.__private__.putPage=function(P){var xe=P.number,Ie=P.data,qe=P.objId,Ze=P.contentsObjId;Ot(qe,!0),ae("<</Type /Page"),ae("/Parent "+P.rootDictionaryObjId+" 0 R"),ae("/Resources "+P.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(V(P.mediaBox.bottomLeftX))+" "+parseFloat(V(P.mediaBox.bottomLeftY))+" "+V(P.mediaBox.topRightX)+" "+V(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&ae("/CropBox ["+V(P.cropBox.bottomLeftX)+" "+V(P.cropBox.bottomLeftY)+" "+V(P.cropBox.topRightX)+" "+V(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&ae("/BleedBox ["+V(P.bleedBox.bottomLeftX)+" "+V(P.bleedBox.bottomLeftY)+" "+V(P.bleedBox.topRightX)+" "+V(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&ae("/TrimBox ["+V(P.trimBox.bottomLeftX)+" "+V(P.trimBox.bottomLeftY)+" "+V(P.trimBox.topRightX)+" "+V(P.trimBox.topRightY)+"]"),P.artBox!==null&&ae("/ArtBox ["+V(P.artBox.bottomLeftX)+" "+V(P.artBox.bottomLeftY)+" "+V(P.artBox.topRightX)+" "+V(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&ae("/UserUnit "+P.userUnit),Nr.publish("putPage",{objId:qe,pageContext:xr[xe],pageNumber:xe,page:Ie}),ae("/Contents "+Ze+" 0 R"),ae(">>"),ae("endobj");var yt=Ie.join(`
`);return F===R.ADVANCED&&(yt+=`
Q`),Ot(Ze,!0),Tt({data:yt,filters:xt(),objectId:Ze}),ae("endobj"),qe},wt=N.__private__.putPages=function(){var P,xe,Ie=[];for(P=1;P<=sn;P++)xr[P].objId=_e(),xr[P].contentsObjId=_e();for(P=1;P<=sn;P++)Ie.push(ht({number:P,data:ke[P],objId:xr[P].objId,contentsObjId:xr[P].contentsObjId,mediaBox:xr[P].mediaBox,cropBox:xr[P].cropBox,bleedBox:xr[P].bleedBox,trimBox:xr[P].trimBox,artBox:xr[P].artBox,userUnit:xr[P].userUnit,rootDictionaryObjId:bt,resourceDictionaryObjId:Ft}));Ot(bt,!0),ae("<</Type /Pages");var qe="/Kids [";for(xe=0;xe<sn;xe++)qe+=Ie[xe]+" 0 R ";ae(qe+"]"),ae("/Count "+sn),ae(">>"),ae("endobj"),Nr.publish("postPutPages")},Yt=function(P){Nr.publish("putFont",{font:P,out:ae,newObject:Wr,putStream:Tt}),P.isAlreadyPutted!==!0&&(P.objectNumber=Wr(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+dh(P.postScriptName)),ae("/Subtype /Type1"),typeof P.encoding=="string"&&ae("/Encoding /"+P.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},Vt=function(){for(var P in rr)rr.hasOwnProperty(P)&&(y===!1||y===!0&&S.hasOwnProperty(P))&&Yt(rr[P])},Xt=function(P){P.objectNumber=Wr();var xe=[];xe.push({key:"Type",value:"/XObject"}),xe.push({key:"Subtype",value:"/Form"}),xe.push({key:"BBox",value:"["+[V(P.x),V(P.y),V(P.x+P.width),V(P.y+P.height)].join(" ")+"]"}),xe.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var Ie=P.pages[1].join(`
`);Tt({data:Ie,additionalKeyValues:xe,objectId:P.objectNumber}),ae("endobj")},er=function(){for(var P in Gr)Gr.hasOwnProperty(P)&&Xt(Gr[P])},Zr=function(P,xe){var Ie,qe=[],Ze=1/(xe-1);for(Ie=0;Ie<1;Ie+=Ze)qe.push(Ie);if(qe.push(1),P[0].offset!=0){var yt={offset:0,color:P[0].color};P.unshift(yt)}if(P[P.length-1].offset!=1){var Dt={offset:1,color:P[P.length-1].color};P.push(Dt)}for(var Kt="",vr=0,Or=0;Or<qe.length;Or++){for(Ie=qe[Or];Ie>P[vr+1].offset;)vr++;var Sr=P[vr].offset,an=(Ie-Sr)/(P[vr+1].offset-Sr),ea=P[vr].color,On=P[vr+1].color;Kt+=ve(Math.round((1-an)*ea[0]+an*On[0]).toString(16))+ve(Math.round((1-an)*ea[1]+an*On[1]).toString(16))+ve(Math.round((1-an)*ea[2]+an*On[2]).toString(16))}return Kt.trim()},_n=function(P,xe){xe||(xe=21);var Ie=Wr(),qe=Zr(P.colors,xe),Ze=[];Ze.push({key:"FunctionType",value:"0"}),Ze.push({key:"Domain",value:"[0.0 1.0]"}),Ze.push({key:"Size",value:"["+xe+"]"}),Ze.push({key:"BitsPerSample",value:"8"}),Ze.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ze.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Tt({data:qe,additionalKeyValues:Ze,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ie}),ae("endobj"),P.objectNumber=Wr(),ae("<< /ShadingType "+P.type),ae("/ColorSpace /DeviceRGB");var yt="/Coords ["+V(parseFloat(P.coords[0]))+" "+V(parseFloat(P.coords[1]))+" ";P.type===2?yt+=V(parseFloat(P.coords[2]))+" "+V(parseFloat(P.coords[3])):yt+=V(parseFloat(P.coords[2]))+" "+V(parseFloat(P.coords[3]))+" "+V(parseFloat(P.coords[4]))+" "+V(parseFloat(P.coords[5])),ae(yt+="]"),P.matrix&&ae("/Matrix ["+P.matrix.toString()+"]"),ae("/Function "+Ie+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},cn=function(P,xe){var Ie=_e(),qe=Wr();xe.push({resourcesOid:Ie,objectOid:qe}),P.objectNumber=qe;var Ze=[];Ze.push({key:"Type",value:"/Pattern"}),Ze.push({key:"PatternType",value:"1"}),Ze.push({key:"PaintType",value:"1"}),Ze.push({key:"TilingType",value:"1"}),Ze.push({key:"BBox",value:"["+P.boundingBox.map(V).join(" ")+"]"}),Ze.push({key:"XStep",value:V(P.xStep)}),Ze.push({key:"YStep",value:V(P.yStep)}),Ze.push({key:"Resources",value:Ie+" 0 R"}),P.matrix&&Ze.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Tt({data:P.stream,additionalKeyValues:Ze,objectId:P.objectNumber}),ae("endobj")},Nt=function(P){var xe;for(xe in Ur)Ur.hasOwnProperty(xe)&&(Ur[xe]instanceof Zd?_n(Ur[xe]):Ur[xe]instanceof hh&&cn(Ur[xe],P))},ui=function(P){for(var xe in P.objectNumber=Wr(),ae("<<"),P)switch(xe){case"opacity":ae("/ca "+Ne(P[xe]));break;case"stroke-opacity":ae("/CA "+Ne(P[xe]))}ae(">>"),ae("endobj")},Rr=function(){var P;for(P in pn)pn.hasOwnProperty(P)&&ui(pn[P])},Hn=function(){for(var P in ae("/XObject <<"),Gr)Gr.hasOwnProperty(P)&&Gr[P].objectNumber>=0&&ae("/"+P+" "+Gr[P].objectNumber+" 0 R");Nr.publish("putXobjectDict"),ae(">>")},Lo=function(){Nn.oid=Wr(),ae("<<"),ae("/Filter /Standard"),ae("/V "+Nn.v),ae("/R "+Nn.r),ae("/U <"+Nn.toHexString(Nn.U)+">"),ae("/O <"+Nn.toHexString(Nn.O)+">"),ae("/P "+Nn.P),ae(">>"),ae("endobj")},qr=function(){for(var P in ae("/Font <<"),rr)rr.hasOwnProperty(P)&&(y===!1||y===!0&&S.hasOwnProperty(P))&&ae("/"+P+" "+rr[P].objectNumber+" 0 R");ae(">>")},Lr=function(){if(Object.keys(Ur).length>0){for(var P in ae("/Shading <<"),Ur)Ur.hasOwnProperty(P)&&Ur[P]instanceof Zd&&Ur[P].objectNumber>=0&&ae("/"+P+" "+Ur[P].objectNumber+" 0 R");Nr.publish("putShadingPatternDict"),ae(">>")}},Mr=function(P){if(Object.keys(Ur).length>0){for(var xe in ae("/Pattern <<"),Ur)Ur.hasOwnProperty(xe)&&Ur[xe]instanceof N.TilingPattern&&Ur[xe].objectNumber>=0&&Ur[xe].objectNumber<P&&ae("/"+xe+" "+Ur[xe].objectNumber+" 0 R");Nr.publish("putTilingPatternDict"),ae(">>")}},Vs=function(){if(Object.keys(pn).length>0){var P;for(P in ae("/ExtGState <<"),pn)pn.hasOwnProperty(P)&&pn[P].objectNumber>=0&&ae("/"+P+" "+pn[P].objectNumber+" 0 R");Nr.publish("putGStateDict"),ae(">>")}},Ln=function(P){Ot(P.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),qr(),Lr(),Mr(P.objectOid),Vs(),Hn(),ae(">>"),ae("endobj")},Jr=function(){var P=[];Vt(),Rr(),er(),Nt(P),Nr.publish("putResources"),P.forEach(Ln),Ln({resourcesOid:Ft,objectOid:Number.MAX_SAFE_INTEGER}),Nr.publish("postPutResources")},Cr=function(){Nr.publish("putAdditionalObjects");for(var P=0;P<Te.length;P++){var xe=Te[P];Ot(xe.objId,!0),ae(xe.content),ae("endobj")}Nr.publish("postPutAdditionalObjects")},Wa=function(P){Jt[P.fontName]=Jt[P.fontName]||{},Jt[P.fontName][P.fontStyle]=P.id},va=function(P,xe,Ie,qe,Ze){var yt={id:"F"+(Object.keys(rr).length+1).toString(10),postScriptName:P,fontName:xe,fontStyle:Ie,encoding:qe,isStandardFont:Ze||!1,metadata:{}};return Nr.publish("addFont",{font:yt,instance:this}),rr[yt.id]=yt,Wa(yt),yt.id},mn=function(P){for(var xe=0,Ie=Re.length;xe<Ie;xe++){var qe=va.call(this,P[xe][0],P[xe][1],P[xe][2],Re[xe][3],!0);y===!1&&(S[qe]=!0);var Ze=P[xe][0].split("-");Wa({id:qe,fontName:Ze[0],fontStyle:Ze[1]||""})}Nr.publish("addFonts",{fonts:rr,dictionary:Jt})},Vn=function(P){return P.foo=function(){try{return P.apply(this,arguments)}catch(qe){var xe=qe.stack||"";~xe.indexOf(" at ")&&(xe=xe.split(" at ")[1]);var Ie="Error in function "+xe.split(`
`)[0].split("<")[0]+": "+qe.message;if(!Dr.console)throw new Error(Ie);Dr.console.error(Ie,qe),Dr.alert&&alert(Ie)}},P.foo.bar=P,P.foo},wi=function(P,xe){var Ie,qe,Ze,yt,Dt,Kt,vr,Or,Sr;if(Ze=(xe=xe||{}).sourceEncoding||"Unicode",Dt=xe.outputEncoding,(xe.autoencode||Dt)&&rr[Er].metadata&&rr[Er].metadata[Ze]&&rr[Er].metadata[Ze].encoding&&(yt=rr[Er].metadata[Ze].encoding,!Dt&&rr[Er].encoding&&(Dt=rr[Er].encoding),!Dt&&yt.codePages&&(Dt=yt.codePages[0]),typeof Dt=="string"&&(Dt=yt[Dt]),Dt)){for(vr=!1,Kt=[],Ie=0,qe=P.length;Ie<qe;Ie++)(Or=Dt[P.charCodeAt(Ie)])?Kt.push(String.fromCharCode(Or)):Kt.push(P[Ie]),Kt[Ie].charCodeAt(0)>>8&&(vr=!0);P=Kt.join("")}for(Ie=P.length;vr===void 0&&Ie!==0;)P.charCodeAt(Ie-1)>>8&&(vr=!0),Ie--;if(!vr)return P;for(Kt=xe.noBOM?[]:[254,255],Ie=0,qe=P.length;Ie<qe;Ie++){if((Sr=(Or=P.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+P+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Kt.push(Sr),Kt.push(Or-(Sr<<8))}return String.fromCharCode.apply(void 0,Kt)},Yr=N.__private__.pdfEscape=N.pdfEscape=function(P,xe){return wi(P,xe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_r=N.__private__.beginPage=function(P){ke[++sn]=[],xr[sn]={objId:0,contentsObjId:0,userUnit:Number(f),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},Oe(sn),Be(ke[H])},An=function(P,xe){var Ie,qe,Ze;switch(r=xe||r,typeof P=="string"&&(Ie=I(P.toLowerCase()),Array.isArray(Ie)&&(qe=Ie[0],Ze=Ie[1])),Array.isArray(P)&&(qe=P[0]*zt,Ze=P[1]*zt),isNaN(qe)&&(qe=a[0],Ze=a[1]),(qe>14400||Ze>14400)&&(pa.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),qe=Math.min(14400,qe),Ze=Math.min(14400,Ze)),a=[qe,Ze],r.substr(0,1)){case"l":Ze>qe&&(a=[Ze,qe]);break;case"p":qe>Ze&&(a=[Ze,qe])}_r(a),Da(ya),ae(js),Sa!==0&&ae(Sa+" J"),al!==0&&ae(al+" j"),Nr.publish("addPage",{pageNumber:sn})},rt=function(P){P>0&&P<=sn&&(ke.splice(P,1),xr.splice(P,1),sn--,H>sn&&(H=sn),this.setPage(H))},Oe=function(P){P>0&&P<=sn&&(H=P)},sr=N.__private__.getNumberOfPages=N.getNumberOfPages=function(){return ke.length-1},Pn=function(P,xe,Ie){var qe,Ze=void 0;return Ie=Ie||{},P=P!==void 0?P:rr[Er].fontName,xe=xe!==void 0?xe:rr[Er].fontStyle,qe=P.toLowerCase(),Jt[qe]!==void 0&&Jt[qe][xe]!==void 0?Ze=Jt[qe][xe]:Jt[P]!==void 0&&Jt[P][xe]!==void 0?Ze=Jt[P][xe]:Ie.disableWarning===!1&&pa.warn("Unable to look up font label for font '"+P+"', '"+xe+"'. Refer to getFontList() for available fonts."),Ze||Ie.noFallback||(Ze=Jt.times[xe])==null&&(Ze=Jt.times.normal),Ze},Ja=N.__private__.putInfo=function(){var P=Wr(),xe=function(qe){return qe};for(var Ie in x!==null&&(xe=Nn.encryptor(P,0)),ae("<<"),ae("/Producer ("+Yr(xe("jsPDF "+br.version))+")"),Qt)Qt.hasOwnProperty(Ie)&&Qt[Ie]&&ae("/"+Ie.substr(0,1).toUpperCase()+Ie.substr(1)+" ("+Yr(xe(Qt[Ie]))+")");ae("/CreationDate ("+Yr(xe(q))+")"),ae(">>"),ae("endobj")},ps=N.__private__.putCatalog=function(P){var xe=(P=P||{}).rootDictionaryObjId||bt;switch(Wr(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+xe+" 0 R"),Fe||(Fe="fullwidth"),Fe){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ie=""+Fe;Ie.substr(Ie.length-1)==="%"&&(Fe=parseInt(Fe)/100),typeof Fe=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+Ne(Fe)+"]")}switch(tr||(tr="continuous"),tr){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}qt&&ae("/PageMode /"+qt),Nr.publish("putCatalog"),ae(">>"),ae("endobj")},tl=N.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(ne+1)),ae("/Root "+ne+" 0 R"),ae("/Info "+(ne-1)+" 0 R"),x!==null&&ae("/Encrypt "+Nn.oid+" 0 R"),ae("/ID [ <"+ie+"> <"+ie+"> ]"),ae(">>")},ei=N.__private__.putHeader=function(){ae("%PDF-"+j),ae("%")},pr=N.__private__.putXRef=function(){var P="0000000000";ae("xref"),ae("0 "+(ne+1)),ae("0000000000 65535 f ");for(var xe=1;xe<=ne;xe++)typeof le[xe]=="function"?ae((P+le[xe]()).slice(-10)+" 00000 n "):le[xe]!==void 0?ae((P+le[xe]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},en=N.__private__.buildDocument=function(){$e(),Be(je),Nr.publish("buildDocument"),ei(),wt(),Cr(),Jr(),x!==null&&Lo(),Ja(),ps();var P=pe;return pr(),tl(),ae("startxref"),ae(""+P),ae("%%EOF"),Be(ke[H]),je.join(`
`)},so=N.__private__.getBlob=function(P){return new Blob([at(P)],{type:"application/pdf"})},Po=N.output=N.__private__.output=Vn(function(P,xe){switch(typeof(xe=xe||{})=="string"?xe={filename:xe}:xe.filename=xe.filename||"generated.pdf",P){case void 0:return en();case"save":N.save(xe.filename);break;case"arraybuffer":return at(en());case"blob":return so(en());case"bloburi":case"bloburl":if(Dr.URL!==void 0&&typeof Dr.URL.createObjectURL=="function")return Dr.URL&&Dr.URL.createObjectURL(so(en()))||void 0;pa.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ie="",qe=en();try{Ie=Cb(qe)}catch{Ie=Cb(unescape(encodeURIComponent(qe)))}return"data:application/pdf;filename="+xe.filename+";base64,"+Ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Dr)==="[object Window]"){var Ze="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",yt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';xe.pdfObjectUrl&&(Ze=xe.pdfObjectUrl,yt="");var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ze+'"'+yt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(xe)+");<\/script></body></html>",Kt=Dr.open();return Kt!==null&&Kt.document.write(Dt),Kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Dr)==="[object Window]"){var vr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(xe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+xe.filename+'" width="500px" height="400px" /></body></html>',Or=Dr.open();if(Or!==null){Or.document.write(vr);var Sr=this;Or.document.documentElement.querySelector("#pdfViewer").onload=function(){Or.document.title=xe.filename,Or.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Sr.output("bloburl"))}}return Or}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Dr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var an='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",xe)+'"></iframe></body></html>',ea=Dr.open();if(ea!==null&&(ea.document.write(an),ea.document.title=xe.filename),ea||typeof safari>"u")return ea;break;case"datauri":case"dataurl":return Dr.document.location.href=this.output("datauristring",xe);default:return null}}),Ss=function(P){return Array.isArray(Ji)===!0&&Ji.indexOf(P)>-1};switch(n){case"pt":zt=1;break;case"mm":zt=72/25.4;break;case"cm":zt=72/2.54;break;case"in":zt=72;break;case"px":zt=Ss("px_scaling")==1?.75:96/72;break;case"pc":case"em":zt=12;break;case"ex":zt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);zt=n}var Nn=null;ce(),de();var Rn=function(P){return x!==null?Nn.encryptor(P,0):function(xe){return xe}},tc=N.__private__.getPageInfo=N.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xr[P].objId,pageNumber:P,pageContext:xr[P]}},ar=N.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var xe in xr)if(xr[xe].objId===P)break;return tc(xe)},Es=N.__private__.getCurrentPageInfo=N.getCurrentPageInfo=function(){return{objId:xr[H].objId,pageNumber:H,pageContext:xr[H]}};N.addPage=function(){return An.apply(this,arguments),this},N.setPage=function(){return Oe.apply(this,arguments),Be.call(this,ke[H]),this},N.insertPage=function(P){return this.addPage(),this.movePage(H,P),this},N.movePage=function(P,xe){var Ie,qe;if(P>xe){Ie=ke[P],qe=xr[P];for(var Ze=P;Ze>xe;Ze--)ke[Ze]=ke[Ze-1],xr[Ze]=xr[Ze-1];ke[xe]=Ie,xr[xe]=qe,this.setPage(xe)}else if(P<xe){Ie=ke[P],qe=xr[P];for(var yt=P;yt<xe;yt++)ke[yt]=ke[yt+1],xr[yt]=xr[yt+1];ke[xe]=Ie,xr[xe]=qe,this.setPage(xe)}return this},N.deletePage=function(){return rt.apply(this,arguments),this},N.__private__.text=N.text=function(P,xe,Ie,qe,Ze){var yt,Dt,Kt,vr,Or,Sr,an,ea,On,ca=(qe=qe||{}).scope||this;if(typeof P=="number"&&typeof xe=="number"&&(typeof Ie=="string"||Array.isArray(Ie))){var di=Ie;Ie=xe,xe=P,P=di}if(arguments[3]instanceof or?($("The transform parameter of text() with a Matrix value"),On=Ze):(Kt=arguments[4],vr=arguments[5],Zn(an=arguments[3])==="object"&&an!==null||(typeof Kt=="string"&&(vr=Kt,Kt=null),typeof an=="string"&&(vr=an,an=null),typeof an=="number"&&(Kt=an,an=null),qe={flags:an,angle:Kt,align:vr})),isNaN(xe)||isNaN(Ie)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return ca;var ua="",Ni=!1,Ma=typeof qe.lineHeightFactor=="number"?qe.lineHeightFactor:Bo,gs=ca.internal.scaleFactor;function Fi(ln){return ln=ln.split("	").join(Array(qe.TabLen||9).join(" ")),Yr(ln,an)}function Cl(ln){for(var Fn,En=ln.concat(),Aa=[],zo=En.length;zo--;)typeof(Fn=En.shift())=="string"?Aa.push(Fn):Array.isArray(ln)&&(Fn.length===1||Fn[1]===void 0&&Fn[2]===void 0)?Aa.push(Fn[0]):Aa.push([Fn[0],Fn[1],Fn[2]]);return Aa}function zi(ln,Fn){var En;if(typeof ln=="string")En=Fn(ln)[0];else if(Array.isArray(ln)){for(var Aa,zo,ac=ln.concat(),jl=[],Iu=ac.length;Iu--;)typeof(Aa=ac.shift())=="string"?jl.push(Fn(Aa)[0]):Array.isArray(Aa)&&typeof Aa[0]=="string"&&(zo=Fn(Aa[0],Aa[1],Aa[2]),jl.push([zo[0],zo[1],zo[2]]));En=jl}return En}var co=!1,$s=!0;if(typeof P=="string")co=!0;else if(Array.isArray(P)){var Hc=P.concat();Dt=[];for(var uo,Bn=Hc.length;Bn--;)(typeof(uo=Hc.shift())!="string"||Array.isArray(uo)&&typeof uo[0]!="string")&&($s=!1);co=$s}if(co===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var _l=Qe/ca.internal.scaleFactor,fo=_l*(Ma-1);switch(qe.baseline){case"bottom":Ie-=fo;break;case"top":Ie+=_l-fo;break;case"hanging":Ie+=_l-2*fo;break;case"middle":Ie+=_l/2-fo}if((Sr=qe.maxWidth||0)>0&&(typeof P=="string"?P=ca.splitTextToSize(P,Sr):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(ln,Fn){return ln.concat(ca.splitTextToSize(Fn,Sr))},[]))),yt={text:P,x:xe,y:Ie,options:qe,mutex:{pdfEscape:Yr,activeFontKey:Er,fonts:rr,activeFontSize:Qe}},Nr.publish("preProcessText",yt),P=yt.text,Kt=(qe=yt.options).angle,!(On instanceof or)&&Kt&&typeof Kt=="number"){Kt*=Math.PI/180,qe.rotationDirection===0&&(Kt=-Kt),F===R.ADVANCED&&(Kt=-Kt);var Os=Math.cos(Kt),$r=Math.sin(Kt);On=new or(Os,$r,-$r,Os,0,0)}else Kt&&Kt instanceof or&&(On=Kt);F!==R.ADVANCED||On||(On=Jn),(Or=qe.charSpace||ut)!==void 0&&(ua+=V(Q(Or))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ea=qe.horizontalScale)!==void 0&&(ua+=V(100*ea)+` Tz
`),qe.lang;var ti=-1,he=qe.renderingMode!==void 0?qe.renderingMode:qe.stroke,o=ca.internal.getCurrentPageInfo().pageContext;switch(he){case 0:case!1:case"fill":ti=0;break;case 1:case!0:case"stroke":ti=1;break;case 2:case"fillThenStroke":ti=2;break;case 3:case"invisible":ti=3;break;case 4:case"fillAndAddForClipping":ti=4;break;case 5:case"strokeAndAddPathForClipping":ti=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ti=6;break;case 7:case"addToPathForClipping":ti=7}var d=o.usedRenderingMode!==void 0?o.usedRenderingMode:-1;ti!==-1?ua+=ti+` Tr
`:d!==-1&&(ua+=`0 Tr
`),ti!==-1&&(o.usedRenderingMode=ti),vr=qe.align||"left";var h,v=Qe*Ma,b=ca.internal.pageSize.getWidth(),A=rr[Er];Or=qe.charSpace||ut,Sr=qe.maxWidth||0,an=Object.assign({autoencode:!0,noBOM:!0},qe.flags);var C=[],D=function(ln){return ca.getStringUnitWidth(ln,{font:A,charSpace:Or,fontSize:Qe,doKerning:!1})*Qe/gs};if(Object.prototype.toString.call(P)==="[object Array]"){var B;Dt=Cl(P),vr!=="left"&&(h=Dt.map(D));var K,fe=0;if(vr==="right"){xe-=h[0],P=[],Bn=Dt.length;for(var we=0;we<Bn;we++)we===0?(K=_s(xe),B=ms(Ie)):(K=Q(fe-h[we]),B=-v),P.push([Dt[we],K,B]),fe=h[we]}else if(vr==="center"){xe-=h[0]/2,P=[],Bn=Dt.length;for(var De=0;De<Bn;De++)De===0?(K=_s(xe),B=ms(Ie)):(K=Q((fe-h[De])/2),B=-v),P.push([Dt[De],K,B]),fe=h[De]}else if(vr==="left"){P=[],Bn=Dt.length;for(var ze=0;ze<Bn;ze++)P.push(Dt[ze])}else if(vr==="justify"&&A.encoding==="Identity-H"){P=[],Bn=Dt.length,Sr=Sr!==0?Sr:b;for(var He=0,Xe=0;Xe<Bn;Xe++)if(B=Xe===0?ms(Ie):-v,K=Xe===0?_s(xe):He,Xe<Bn-1){var dt=Q((Sr-h[Xe])/(Dt[Xe].split(" ").length-1)),Lt=Dt[Xe].split(" ");P.push([Lt[0]+" ",K,B]),He=0;for(var Pt=1;Pt<Lt.length;Pt++){var Mt=(D(Lt[Pt-1]+" "+Lt[Pt])-D(Lt[Pt]))*gs+dt;Pt==Lt.length-1?P.push([Lt[Pt],Mt,0]):P.push([Lt[Pt]+" ",Mt,0]),He-=Mt}}else P.push([Dt[Xe],K,B]);P.push(["",He,0])}else{if(vr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],Bn=Dt.length,Sr=Sr!==0?Sr:b,Xe=0;Xe<Bn;Xe++)B=Xe===0?ms(Ie):-v,K=Xe===0?_s(xe):0,Xe<Bn-1?C.push(V(Q((Sr-h[Xe])/(Dt[Xe].split(" ").length-1)))):C.push(0),P.push([Dt[Xe],K,B])}}var Fr=typeof qe.R2L=="boolean"?qe.R2L:St;Fr===!0&&(P=zi(P,function(ln,Fn,En){return[ln.split("").reverse().join(""),Fn,En]})),yt={text:P,x:xe,y:Ie,options:qe,mutex:{pdfEscape:Yr,activeFontKey:Er,fonts:rr,activeFontSize:Qe}},Nr.publish("postProcessText",yt),P=yt.text,Ni=yt.mutex.isHex||!1;var Tr=rr[Er].encoding;Tr!=="WinAnsiEncoding"&&Tr!=="StandardEncoding"||(P=zi(P,function(ln,Fn,En){return[Fi(ln),Fn,En]})),Dt=Cl(P),P=[];for(var Gn,ri,ba,on=0,wa=1,Ya=Array.isArray(Dt[0])?wa:on,xs="",Xs=function(ln,Fn,En){var Aa="";return En instanceof or?(En=typeof qe.angle=="number"?Za(En,new or(1,0,0,1,ln,Fn)):Za(new or(1,0,0,1,ln,Fn),En),F===R.ADVANCED&&(En=Za(new or(1,0,0,-1,0,0),En)),Aa=En.join(" ")+` Tm
`):Aa=V(ln)+" "+V(Fn)+` Td
`,Aa},vs=0;vs<Dt.length;vs++){switch(xs="",Ya){case wa:ba=(Ni?"<":"(")+Dt[vs][0]+(Ni?">":")"),Gn=parseFloat(Dt[vs][1]),ri=parseFloat(Dt[vs][2]);break;case on:ba=(Ni?"<":"(")+Dt[vs]+(Ni?">":")"),Gn=_s(xe),ri=ms(Ie)}C!==void 0&&C[vs]!==void 0&&(xs=C[vs]+` Tw
`),vs===0?P.push(xs+Xs(Gn,ri,On)+ba):Ya===on?P.push(xs+ba):Ya===wa&&P.push(xs+Xs(Gn,ri,On)+ba)}P=Ya===on?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var rs=`BT
/`;return rs+=Er+" "+Qe+` Tf
`,rs+=V(Qe*Ma)+` TL
`,rs+=es+`
`,rs+=ua,rs+=P,ae(rs+="ET"),S[Er]=!0,ca};var Gs=N.__private__.clip=N.clip=function(P){return ae(P==="evenodd"?"W*":"W"),this};N.clipEvenOdd=function(){return Gs("evenodd")},N.__private__.discardPath=N.discardPath=function(){return ae("n"),this};var fr=N.__private__.isValidStyle=function(P){var xe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(xe=!0),xe};N.__private__.setDefaultPathOperation=N.setDefaultPathOperation=function(P){return fr(P)&&(p=P),this};var Rc=N.__private__.getStyle=N.getStyle=function(P){var xe=p;switch(P){case"D":case"S":xe="S";break;case"F":xe="f";break;case"FD":case"DF":xe="B";break;case"f":case"f*":case"B":case"B*":xe=P}return xe},jr=N.close=function(){return ae("h"),this};N.stroke=function(){return ae("S"),this},N.fill=function(P){return Sn("f",P),this},N.fillEvenOdd=function(P){return Sn("f*",P),this},N.fillStroke=function(P){return Sn("B",P),this},N.fillStrokeEvenOdd=function(P){return Sn("B*",P),this};var Sn=function(P,xe){Zn(xe)==="object"?Ws(xe,P):ae(P)},Nl=function(P){P===null||F===R.ADVANCED&&P===void 0||(P=Rc(P),ae(P))};function Ro(P,xe,Ie,qe,Ze){var yt=new hh(xe||this.boundingBox,Ie||this.xStep,qe||this.yStep,this.gState,Ze||this.matrix);yt.stream=this.stream;var Dt=P+"$$"+this.cloneIndex+++"$$";return xa(Dt,yt),yt}var Ws=function(P,xe){var Ie=Ri[P.key],qe=Ur[Ie];if(qe instanceof Zd)ae("q"),ae(Ys(xe)),qe.gState&&N.setGState(qe.gState),ae(P.matrix.toString()+" cm"),ae("/"+Ie+" sh"),ae("Q");else if(qe instanceof hh){var Ze=new or(1,0,0,-1,0,ts());P.matrix&&(Ze=Ze.multiply(P.matrix||Jn),Ie=Ro.call(qe,P.key,P.boundingBox,P.xStep,P.yStep,Ze).id),ae("q"),ae("/Pattern cs"),ae("/"+Ie+" scn"),qe.gState&&N.setGState(qe.gState),ae(xe),ae("Q")}},Ys=function(P){switch(P){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},rl=N.moveTo=function(P,xe){return ae(V(Q(P))+" "+V(re(xe))+" m"),this},Cs=N.lineTo=function(P,xe){return ae(V(Q(P))+" "+V(re(xe))+" l"),this},Bi=N.curveTo=function(P,xe,Ie,qe,Ze,yt){return ae([V(Q(P)),V(re(xe)),V(Q(Ie)),V(re(qe)),V(Q(Ze)),V(re(yt)),"c"].join(" ")),this};N.__private__.line=N.line=function(P,xe,Ie,qe,Ze){if(isNaN(P)||isNaN(xe)||isNaN(Ie)||isNaN(qe)||!fr(Ze))throw new Error("Invalid arguments passed to jsPDF.line");return F===R.COMPAT?this.lines([[Ie-P,qe-xe]],P,xe,[1,1],Ze||"S"):this.lines([[Ie-P,qe-xe]],P,xe,[1,1]).stroke()},N.__private__.lines=N.lines=function(P,xe,Ie,qe,Ze,yt){var Dt,Kt,vr,Or,Sr,an,ea,On,ca,di,ua,Ni;if(typeof P=="number"&&(Ni=Ie,Ie=xe,xe=P,P=Ni),qe=qe||[1,1],yt=yt||!1,isNaN(xe)||isNaN(Ie)||!Array.isArray(P)||!Array.isArray(qe)||!fr(Ze)||typeof yt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(rl(xe,Ie),Dt=qe[0],Kt=qe[1],Or=P.length,di=xe,ua=Ie,vr=0;vr<Or;vr++)(Sr=P[vr]).length===2?(di=Sr[0]*Dt+di,ua=Sr[1]*Kt+ua,Cs(di,ua)):(an=Sr[0]*Dt+di,ea=Sr[1]*Kt+ua,On=Sr[2]*Dt+di,ca=Sr[3]*Kt+ua,di=Sr[4]*Dt+di,ua=Sr[5]*Kt+ua,Bi(an,ea,On,ca,di,ua));return yt&&jr(),Nl(Ze),this},N.path=function(P){for(var xe=0;xe<P.length;xe++){var Ie=P[xe],qe=Ie.c;switch(Ie.op){case"m":rl(qe[0],qe[1]);break;case"l":Cs(qe[0],qe[1]);break;case"c":Bi.apply(this,qe);break;case"h":jr()}}return this},N.__private__.rect=N.rect=function(P,xe,Ie,qe,Ze){if(isNaN(P)||isNaN(xe)||isNaN(Ie)||isNaN(qe)||!fr(Ze))throw new Error("Invalid arguments passed to jsPDF.rect");return F===R.COMPAT&&(qe=-qe),ae([V(Q(P)),V(re(xe)),V(Q(Ie)),V(Q(qe)),"re"].join(" ")),Nl(Ze),this},N.__private__.triangle=N.triangle=function(P,xe,Ie,qe,Ze,yt,Dt){if(isNaN(P)||isNaN(xe)||isNaN(Ie)||isNaN(qe)||isNaN(Ze)||isNaN(yt)||!fr(Dt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ie-P,qe-xe],[Ze-Ie,yt-qe],[P-Ze,xe-yt]],P,xe,[1,1],Dt,!0),this},N.__private__.roundedRect=N.roundedRect=function(P,xe,Ie,qe,Ze,yt,Dt){if(isNaN(P)||isNaN(xe)||isNaN(Ie)||isNaN(qe)||isNaN(Ze)||isNaN(yt)||!fr(Dt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Kt=4/3*(Math.SQRT2-1);return Ze=Math.min(Ze,.5*Ie),yt=Math.min(yt,.5*qe),this.lines([[Ie-2*Ze,0],[Ze*Kt,0,Ze,yt-yt*Kt,Ze,yt],[0,qe-2*yt],[0,yt*Kt,-Ze*Kt,yt,-Ze,yt],[2*Ze-Ie,0],[-Ze*Kt,0,-Ze,-yt*Kt,-Ze,-yt],[0,2*yt-qe],[0,-yt*Kt,Ze*Kt,-yt,Ze,-yt]],P+Ze,xe,[1,1],Dt,!0),this},N.__private__.ellipse=N.ellipse=function(P,xe,Ie,qe,Ze){if(isNaN(P)||isNaN(xe)||isNaN(Ie)||isNaN(qe)||!fr(Ze))throw new Error("Invalid arguments passed to jsPDF.ellipse");var yt=4/3*(Math.SQRT2-1)*Ie,Dt=4/3*(Math.SQRT2-1)*qe;return rl(P+Ie,xe),Bi(P+Ie,xe-Dt,P+yt,xe-qe,P,xe-qe),Bi(P-yt,xe-qe,P-Ie,xe-Dt,P-Ie,xe),Bi(P-Ie,xe+Dt,P-yt,xe+qe,P,xe+qe),Bi(P+yt,xe+qe,P+Ie,xe+Dt,P+Ie,xe),Nl(Ze),this},N.__private__.circle=N.circle=function(P,xe,Ie,qe){if(isNaN(P)||isNaN(xe)||isNaN(Ie)||!fr(qe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,xe,Ie,Ie,qe)},N.setFont=function(P,xe,Ie){return Ie&&(xe=J(xe,Ie)),Er=Pn(P,xe,{disableWarning:!1}),this};var oo=N.__private__.getFont=N.getFont=function(){return rr[Pn.apply(N,arguments)]};N.__private__.getFontList=N.getFontList=function(){var P,xe,Ie={};for(P in Jt)if(Jt.hasOwnProperty(P))for(xe in Ie[P]=[],Jt[P])Jt[P].hasOwnProperty(xe)&&Ie[P].push(xe);return Ie},N.addFont=function(P,xe,Ie,qe,Ze){var yt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&yt.indexOf(arguments[3])!==-1?Ze=arguments[3]:arguments[3]&&yt.indexOf(arguments[3])==-1&&(Ie=J(Ie,qe)),Ze=Ze||"Identity-H",va.call(this,P,xe,Ie,Ze)};var Bo,ya=e.lineWidth||.200025,Ai=N.__private__.getLineWidth=N.getLineWidth=function(){return ya},Da=N.__private__.setLineWidth=N.setLineWidth=function(P){return ya=P,ae(V(Q(P))+" w"),this};N.__private__.setLineDash=br.API.setLineDash=br.API.setLineDashPattern=function(P,xe){if(P=P||[],xe=xe||0,isNaN(xe)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(Ie){return V(Q(Ie))}).join(" "),xe=V(Q(xe)),ae("["+P+"] "+xe+" d"),this};var Fo=N.__private__.getLineHeight=N.getLineHeight=function(){return Qe*Bo};N.__private__.getLineHeight=N.getLineHeight=function(){return Qe*Bo};var Bc=N.__private__.setLineHeightFactor=N.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(Bo=P),this},Sl=N.__private__.getLineHeightFactor=N.getLineHeightFactor=function(){return Bo};Bc(e.lineHeight);var _s=N.__private__.getHorizontalCoordinate=function(P){return Q(P)},ms=N.__private__.getVerticalCoordinate=function(P){return F===R.ADVANCED?P:xr[H].mediaBox.topRightY-xr[H].mediaBox.bottomLeftY-Q(P)},rc=N.__private__.getHorizontalCoordinateString=N.getHorizontalCoordinateString=function(P){return V(_s(P))},tn=N.__private__.getVerticalCoordinateString=N.getVerticalCoordinateString=function(P){return V(ms(P))},js=e.strokeColor||"0 G";N.__private__.getStrokeColor=N.getDrawColor=function(){return Pe(js)},N.__private__.setStrokeColor=N.setDrawColor=function(P,xe,Ie,qe){return js=mt({ch1:P,ch2:xe,ch3:Ie,ch4:qe,pdfColorType:"draw",precision:2}),ae(js),this};var nl=e.fillColor||"0 g";N.__private__.getFillColor=N.getFillColor=function(){return Pe(nl)},N.__private__.setFillColor=N.setFillColor=function(P,xe,Ie,qe){return nl=mt({ch1:P,ch2:xe,ch3:Ie,ch4:qe,pdfColorType:"fill",precision:2}),ae(nl),this};var es=e.textColor||"0 g",Fc=N.__private__.getTextColor=N.getTextColor=function(){return Pe(es)};N.__private__.setTextColor=N.setTextColor=function(P,xe,Ie,qe){return es=mt({ch1:P,ch2:xe,ch3:Ie,ch4:qe,pdfColorType:"text",precision:3}),this};var ut=e.charSpace,Br=N.__private__.getCharSpace=N.getCharSpace=function(){return parseFloat(ut||0)};N.__private__.setCharSpace=N.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ut=P,this};var Sa=0;N.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},N.__private__.setLineCap=N.setLineCap=function(P){var xe=N.CapJoinStyles[P];if(xe===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sa=xe,ae(xe+" J"),this};var al=0;N.__private__.setLineJoin=N.setLineJoin=function(P){var xe=N.CapJoinStyles[P];if(xe===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return al=xe,ae(xe+" j"),this},N.__private__.setLineMiterLimit=N.__private__.setMiterLimit=N.setLineMiterLimit=N.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(V(Q(P))+" M"),this},N.GState=Pm,N.setGState=function(P){(P=typeof P=="string"?pn[Ar[P]]:zc(null,P)).equals(sa)||(ae("/"+P.id+" gs"),sa=P)};var zc=function(P,xe){if(!P||!Ar[P]){var Ie=!1;for(var qe in pn)if(pn.hasOwnProperty(qe)&&pn[qe].equals(xe)){Ie=!0;break}if(Ie)xe=pn[qe];else{var Ze="GS"+(Object.keys(pn).length+1).toString(10);pn[Ze]=xe,xe.id=Ze}return P&&(Ar[P]=xe.id),Nr.publish("addGState",xe),xe}};N.addGState=function(P,xe){return zc(P,xe),this},N.saveGraphicsState=function(){return ae("q"),Kr.push({key:Er,size:Qe,color:es}),this},N.restoreGraphicsState=function(){ae("Q");var P=Kr.pop();return Er=P.key,Qe=P.size,es=P.color,sa=null,this},N.setCurrentTransformationMatrix=function(P){return ae(P.toString()+" cm"),this},N.comment=function(P){return ae("#"+P),this};var El=function(P,xe){var Ie=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ie},set:function(yt){isNaN(yt)||(Ie=parseFloat(yt))}});var qe=xe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return qe},set:function(yt){isNaN(yt)||(qe=parseFloat(yt))}});var Ze="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ze},set:function(yt){Ze=yt.toString()}}),this},Uc=function(P,xe,Ie,qe){El.call(this,P,xe),this.type="rect";var Ze=Ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ze},set:function(Dt){isNaN(Dt)||(Ze=parseFloat(Dt))}});var yt=qe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return yt},set:function(Dt){isNaN(Dt)||(yt=parseFloat(Dt))}}),this},qc=function(){this.page=sn,this.currentPage=H,this.pages=ke.slice(0),this.pagesContext=xr.slice(0),this.x=Mn,this.y=Ht,this.matrix=Ct,this.width=jn(H),this.height=ts(H),this.outputDestination=Le,this.id="",this.objectNumber=-1};qc.prototype.restore=function(){sn=this.page,H=this.currentPage,xr=this.pagesContext,ke=this.pages,Mn=this.x,Ht=this.y,Ct=this.matrix,il(H,this.width),gn(H,this.height),Le=this.outputDestination};var nc=function(P,xe,Ie,qe,Ze){la.push(new qc),sn=H=0,ke=[],Mn=P,Ht=xe,Ct=Ze,_r([Ie,qe])},Ea=function(P){if(oa[P])la.pop().restore();else{var xe=new qc,Ie="Xo"+(Object.keys(Gr).length+1).toString(10);xe.id=Ie,oa[P]=Ie,Gr[Ie]=xe,Nr.publish("addFormObject",xe),la.pop().restore()}};for(var lo in N.beginFormObject=function(P,xe,Ie,qe,Ze){return nc(P,xe,Ie,qe,Ze),this},N.endFormObject=function(P){return Ea(P),this},N.doFormObject=function(P,xe){var Ie=Gr[oa[P]];return ae("q"),ae(xe.toString()+" cm"),ae("/"+Ie.id+" Do"),ae("Q"),this},N.getFormObject=function(P){var xe=Gr[oa[P]];return{x:xe.x,y:xe.y,width:xe.width,height:xe.height,matrix:xe.matrix}},N.save=function(P,xe){return P=P||"generated.pdf",(xe=xe||{}).returnPromise=xe.returnPromise||!1,xe.returnPromise===!1?($d(so(en()),P),typeof $d.unload=="function"&&Dr.setTimeout&&setTimeout($d.unload,911),this):new Promise(function(Ie,qe){try{var Ze=$d(so(en()),P);typeof $d.unload=="function"&&Dr.setTimeout&&setTimeout($d.unload,911),Ie(Ze)}catch(yt){qe(yt.message)}})},br.API)br.API.hasOwnProperty(lo)&&(lo==="events"&&br.API.events.length?function(P,xe){var Ie,qe,Ze;for(Ze=xe.length-1;Ze!==-1;Ze--)Ie=xe[Ze][0],qe=xe[Ze][1],P.subscribe.apply(P,[Ie].concat(typeof qe=="function"?[qe]:qe))}(Nr,br.API.events):N[lo]=br.API[lo]);var jn=N.getPageWidth=function(P){return(xr[P=P||H].mediaBox.topRightX-xr[P].mediaBox.bottomLeftX)/zt},il=N.setPageWidth=function(P,xe){xr[P].mediaBox.topRightX=xe*zt+xr[P].mediaBox.bottomLeftX},ts=N.getPageHeight=function(P){return(xr[P=P||H].mediaBox.topRightY-xr[P].mediaBox.bottomLeftY)/zt},gn=N.setPageHeight=function(P,xe){xr[P].mediaBox.topRightY=xe*zt+xr[P].mediaBox.bottomLeftY};return N.internal={pdfEscape:Yr,getStyle:Rc,getFont:oo,getFontSize:et,getCharSpace:Br,getTextColor:Fc,getLineHeight:Fo,getLineHeightFactor:Sl,getLineWidth:Ai,write:nt,getHorizontalCoordinate:_s,getVerticalCoordinate:ms,getCoordinateString:rc,getVerticalCoordinateString:tn,collections:{},newObject:Wr,newAdditionalObject:tt,newObjectDeferred:_e,newObjectDeferredBegin:Ot,getFilters:xt,putStream:Tt,events:Nr,scaleFactor:zt,pageSize:{getWidth:function(){return jn(H)},setWidth:function(P){il(H,P)},getHeight:function(){return ts(H)},setHeight:function(P){gn(H,P)}},encryptionOptions:x,encryption:Nn,getEncryptor:Rn,output:Po,getNumberOfPages:sr,pages:ke,out:ae,f2:Ne,f3:Z,getPageInfo:tc,getPageInfoByObjId:ar,getCurrentPageInfo:Es,getPDFVersion:_,Point:El,Rectangle:Uc,Matrix:or,hasHotfix:Ss},Object.defineProperty(N.internal.pageSize,"width",{get:function(){return jn(H)},set:function(P){il(H,P)},enumerable:!0,configurable:!0}),Object.defineProperty(N.internal.pageSize,"height",{get:function(){return ts(H)},set:function(P){gn(H,P)},enumerable:!0,configurable:!0}),mn.call(N,Re),Er="F1",An(a,r),Nr.publish("initialized"),N}uh.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},uh.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},uh.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},uh.prototype.processOwnerPassword=function(e,t){return jb(_b(t).substr(0,5),e)},uh.prototype.encryptor=function(e,t){var r=_b(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return jb(r,n)}},Pm.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Zn(e)!==Zn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},br.API={events:[]},br.version="2.5.2";var ii=br.API,rw=1,Sf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ih=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Vr=function(e){return e.toFixed(2)},nd=function(e){return e.toFixed(5)};ii.__acroform__={};var Io=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},bS=function(e){return e*rw},bc=function(e){var t=new dO,r=hr.internal.getHeight(e)||0,n=hr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Vr(n)),Number(Vr(r))],t},ZB=ii.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},JB=ii.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},eF=ii.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},pi=ii.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eF(e,t-1)},mi=ii.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ZB(e,t-1)},gi=ii.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return JB(e,t-1)},tF=ii.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],c=e[2],f=e[3],m={};return m.lowerLeft_X=r(a)||0,m.lowerLeft_Y=n(i+f)||0,m.upperRight_X=r(a+c)||0,m.upperRight_Y=n(i)||0,[Number(Vr(m.lowerLeft_X)),Number(Vr(m.lowerLeft_Y)),Number(Vr(m.upperRight_X)),Number(Vr(m.upperRight_Y))]},rF=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Ob(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Vr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=bc(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Ob=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(Z){return Z.split(`
`)}):a.map(function(Z){return[Z]});var i=r,c=hr.internal.getHeight(e)||0;c=c<0?-c:c;var f=hr.internal.getWidth(e)||0;f=f<0?-f:f;var m=function(Z,Q,me){if(Z+1<a.length){var re=Q+" "+a[Z+1][0];return Hp(re,e,me).width<=f-4}return!1};i++;e:for(;i>0;){t="",i--;var p,x,y=Hp("3",e,i).height,S=e.multiline?c-i:(c-y)/2,N=S+=2,j=0,_=0,T=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Hp(t,e,i=12).width+", FieldWidth:"+f+`
`;break}for(var I="",R=0,F=0;F<a.length;F++)if(a.hasOwnProperty(F)){var G=!1;if(a[F].length!==1&&T!==a[F].length-1){if((y+2)*(R+2)+2>c)continue e;I+=a[F][T],G=!0,_=F,F--}else{I=(I+=a[F][T]+" ").substr(I.length-1)==" "?I.substr(0,I.length-1):I;var Y=parseInt(F),J=m(Y,I,i),V=F>=a.length-1;if(J&&!V){I+=" ",T=0;continue}if(J||V){if(V)_=Y;else if(e.multiline&&(y+2)*(R+2)+2>c)continue e}else{if(!e.multiline||(y+2)*(R+2)+2>c)continue e;_=Y}}for(var $="",W=j;W<=_;W++){var Ne=a[W];if(e.multiline){if(W===_){$+=Ne[T]+" ",T=(T+1)%Ne.length;continue}if(W===j){$+=Ne[Ne.length-1]+" ";continue}}$+=Ne[0]+" "}switch($=$.substr($.length-1)==" "?$.substr(0,$.length-1):$,x=Hp($,e,i).width,e.textAlign){case"right":p=f-x-2;break;case"center":p=(f-x)/2;break;case"left":default:p=2}t+=Vr(p)+" "+Vr(N)+` Td
`,t+="("+Sf($)+`) Tj
`,t+=-Vr(p)+` 0 Td
`,N=-(i+2),x=0,j=G?_:_+1,R++,I=""}break}return n.text=t,n.fontSize=i,n},Hp=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},nF={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},aF=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},iF=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),Zn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},sF=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Zl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(nF)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");rw=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new fO,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&aF(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var c in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(c)){var f=n[c],m=[],p=f.Rect;if(f.Rect&&(f.Rect=tF(f.Rect,a)),a.internal.newObjectDeferredBegin(f.objId,!0),f.DA=hr.createDefaultAppearanceStream(f),Zn(f)==="object"&&typeof f.getKeyValueListForStream=="function"&&(m=f.getKeyValueListForStream()),f.Rect=p,f.hasAppearanceStream&&!f.appearanceStreamContent){var x=rF(f);m.push({key:"AP",value:"<</N "+x+">>"}),a.internal.acroformPlugin.xForms.push(x)}if(f.appearanceStreamContent){var y="";for(var S in f.appearanceStreamContent)if(f.appearanceStreamContent.hasOwnProperty(S)){var N=f.appearanceStreamContent[S];if(y+="/"+S+" ",y+="<<",Object.keys(N).length>=1||Array.isArray(N)){for(var c in N)if(N.hasOwnProperty(c)){var j=N[c];typeof j=="function"&&(j=j.call(a,f)),y+="/"+c+" "+j+" ",a.internal.acroformPlugin.xForms.indexOf(j)>=0||a.internal.acroformPlugin.xForms.push(j)}}else typeof(j=N)=="function"&&(j=j.call(a,f)),y+="/"+c+" "+j,a.internal.acroformPlugin.xForms.indexOf(j)>=0||a.internal.acroformPlugin.xForms.push(j);y+=">>"}m.push({key:"AP",value:`<<
`+y+">>"})}a.internal.putStream({additionalKeyValues:m,objectId:f.objId}),a.internal.out("endobj")}i&&iF(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},uO=ii.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(c){return c};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Zn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Sf(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},xv=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Sf(n(e))+")"},Nc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Nc.prototype.toString=function(){return this.objId+" 0 R"},Nc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Nc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:uO(a,this.objId,this.scope)}):a instanceof Nc?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var dO=function(){Nc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Io(dO,Nc);var fO=function(){Nc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Sf(r(e))+")"}},set:function(r){e=r}})};Io(fO,Nc);var Zl=function e(){Nc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');t=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!pi(t,3)},set:function(I){I?this.F=mi(t,3):this.F=gi(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');r=I}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(I){n=I!==void 0?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(I){n[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(I){n[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(I){n[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(I){n[3]=I}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Rm)return;i="FieldObject"+e.FieldNum++}var I=function(R){return R};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+Sf(I(i))+")"},set:function(I){i=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(I){i=I}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(I){c=I}});var f="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return f},set:function(I){f=I}});var m=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return m},set:function(I){m=I}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/rw:p},set:function(I){p=I}});var x="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return x},set:function(I){x=I}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof Rm||this instanceof sf))return xv(y,this.objId,this.scope)},set:function(I){I=I.toString(),y=I}});var S=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof us?S:xv(S,this.objId,this.scope)},set:function(I){I=I.toString(),S=this instanceof us?I:I.substr(0,1)==="("?ih(I.substr(1,I.length-2)):ih(I)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof us?ih(S.substr(1,S.length-1)):S},set:function(I){I=I.toString(),S=this instanceof us?"/"+I:I}});var N=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(N)return N},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(N)return this instanceof us?N:xv(N,this.objId,this.scope)},set:function(I){I=I.toString(),N=this instanceof us?I:I.substr(0,1)==="("?ih(I.substr(1,I.length-2)):ih(I)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof us?ih(N.substr(1,N.length-1)):N},set:function(I){I=I.toString(),N=this instanceof us?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(I){I=!!I,_=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(I){j=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,1)},set:function(I){I?this.Ff=mi(this.Ff,1):this.Ff=gi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,2)},set:function(I){I?this.Ff=mi(this.Ff,2):this.Ff=gi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,3)},set:function(I){I?this.Ff=mi(this.Ff,3):this.Ff=gi(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(I){if([0,1,2].indexOf(I)===-1)throw new Error('Invalid value "'+I+'" for attribute Q supplied.');T=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(T){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:T=2;break;case"center":case 1:T=1;break;case"left":case 0:default:T=0}}})};Io(Zl,Nc);var yh=function(){Zl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return uO(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,c,f){f||(f=1);for(var m,p=[];m=c.exec(i);)p.push(m[f]);return p}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,18)},set:function(r){r?this.Ff=mi(this.Ff,18):this.Ff=gi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=mi(this.Ff,19):this.Ff=gi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,20)},set:function(r){r?(this.Ff=mi(this.Ff,20),t.sort()):this.Ff=gi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,22)},set:function(r){r?this.Ff=mi(this.Ff,22):this.Ff=gi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,23)},set:function(r){r?this.Ff=mi(this.Ff,23):this.Ff=gi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,27)},set:function(r){r?this.Ff=mi(this.Ff,27):this.Ff=gi(this.Ff,27)}}),this.hasAppearanceStream=!1};Io(yh,Zl);var bh=function(){yh.call(this),this.fontName="helvetica",this.combo=!1};Io(bh,yh);var wh=function(){bh.call(this),this.combo=!0};Io(wh,bh);var ym=function(){wh.call(this),this.edit=!0};Io(ym,wh);var us=function(){Zl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,15)},set:function(r){r?this.Ff=mi(this.Ff,15):this.Ff=gi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,16)},set:function(r){r?this.Ff=mi(this.Ff,16):this.Ff=gi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,17)},set:function(r){r?this.Ff=mi(this.Ff,17):this.Ff=gi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,26)},set:function(r){r?this.Ff=mi(this.Ff,26):this.Ff=gi(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Sf(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Zn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Io(us,Zl);var bm=function(){us.call(this),this.pushButton=!0};Io(bm,us);var Ah=function(){us.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Io(Ah,us);var Rm=function(){var e,t;Zl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(f){return f};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,c=[];for(i in c.push("<<"),n)c.push("/"+i+" ("+Sf(a(n[i]))+")");return c.push(">>"),c.join(`
`)},set:function(a){Zn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=hr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Io(Rm,Zl),Ah.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Ah.prototype.createOption=function(e){var t=new Rm;return t.Parent=this,t.optionName=e,this.Kids.push(t),oF.call(this.scope,t),t};var wm=function(){us.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=hr.CheckBox.createAppearanceStream()};Io(wm,us);var sf=function(){Zl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,13)},set:function(t){t?this.Ff=mi(this.Ff,13):this.Ff=gi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,21)},set:function(t){t?this.Ff=mi(this.Ff,21):this.Ff=gi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,23)},set:function(t){t?this.Ff=mi(this.Ff,23):this.Ff=gi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,24)},set:function(t){t?this.Ff=mi(this.Ff,24):this.Ff=gi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,25)},set:function(t){t?this.Ff=mi(this.Ff,25):this.Ff=gi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,26)},set:function(t){t?this.Ff=mi(this.Ff,26):this.Ff=gi(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Io(sf,Zl);var Am=function(){sf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,14)},set:function(e){e?this.Ff=mi(this.Ff,14):this.Ff=gi(this.Ff,14)}}),this.password=!0};Io(Am,sf);var hr={CheckBox:{createAppearanceStream:function(){return{N:{On:hr.CheckBox.YesNormal},D:{On:hr.CheckBox.YesPushDown,Off:hr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=bc(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=Ob(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Vr(hr.internal.getWidth(e))+" "+Vr(hr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Vr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=bc(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=hr.internal.getHeight(e),c=hr.internal.getWidth(e),f=Ob(e,e.caption);return a.push("1 g"),a.push("0 0 "+Vr(c)+" "+Vr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Vr(c-1)+" "+Vr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Vr(f.fontSize)+" Tf "+n),a.push(f.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=bc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vr(hr.internal.getWidth(e))+" "+Vr(hr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:hr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=hr.RadioButton.Circle.YesNormal,t.D[e]=hr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=bc(e);t.scope=e.scope;var r=[],n=hr.internal.getWidth(e)<=hr.internal.getHeight(e)?hr.internal.getWidth(e)/4:hr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=hr.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+nd(hr.internal.getWidth(e)/2)+" "+nd(hr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=bc(e);t.scope=e.scope;var r=[],n=hr.internal.getWidth(e)<=hr.internal.getHeight(e)?hr.internal.getWidth(e)/4:hr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*hr.internal.Bezier_C).toFixed(5)),c=Number((n*hr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+nd(hr.internal.getWidth(e)/2)+" "+nd(hr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+nd(hr.internal.getWidth(e)/2)+" "+nd(hr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+c+" "+c+" "+n+" 0 "+n+" c"),r.push("-"+c+" "+n+" -"+n+" "+c+" -"+n+" 0 c"),r.push("-"+n+" -"+c+" -"+c+" -"+n+" 0 -"+n+" c"),r.push(c+" -"+n+" "+n+" -"+c+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=bc(e);t.scope=e.scope;var r=[],n=hr.internal.getWidth(e)<=hr.internal.getHeight(e)?hr.internal.getWidth(e)/4:hr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*hr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+nd(hr.internal.getWidth(e)/2)+" "+nd(hr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:hr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=hr.RadioButton.Cross.YesNormal,t.D[e]=hr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=bc(e);t.scope=e.scope;var r=[],n=hr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Vr(hr.internal.getWidth(e)-2)+" "+Vr(hr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Vr(n.x1.x)+" "+Vr(n.x1.y)+" m"),r.push(Vr(n.x2.x)+" "+Vr(n.x2.y)+" l"),r.push(Vr(n.x4.x)+" "+Vr(n.x4.y)+" m"),r.push(Vr(n.x3.x)+" "+Vr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=bc(e);t.scope=e.scope;var r=hr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Vr(hr.internal.getWidth(e))+" "+Vr(hr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Vr(hr.internal.getWidth(e)-2)+" "+Vr(hr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Vr(r.x1.x)+" "+Vr(r.x1.y)+" m"),n.push(Vr(r.x2.x)+" "+Vr(r.x2.y)+" l"),n.push(Vr(r.x4.x)+" "+Vr(r.x4.y)+" m"),n.push(Vr(r.x3.x)+" "+Vr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=bc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vr(hr.internal.getWidth(e))+" "+Vr(hr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};hr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=hr.internal.getWidth(e),r=hr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},hr.internal.getWidth=function(e){var t=0;return Zn(e)==="object"&&(t=bS(e.Rect[2])),t},hr.internal.getHeight=function(e){var t=0;return Zn(e)==="object"&&(t=bS(e.Rect[3])),t};var oF=ii.addField=function(e){if(sF(this,e),!(e instanceof Zl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ii.AcroFormChoiceField=yh,ii.AcroFormListBox=bh,ii.AcroFormComboBox=wh,ii.AcroFormEditBox=ym,ii.AcroFormButton=us,ii.AcroFormPushButton=bm,ii.AcroFormRadioButton=Ah,ii.AcroFormCheckBox=wm,ii.AcroFormTextField=sf,ii.AcroFormPasswordField=Am,ii.AcroFormAppearance=hr,ii.AcroForm={ChoiceField:yh,ListBox:bh,ComboBox:wh,EditBox:ym,Button:us,PushButton:bm,RadioButton:Ah,CheckBox:wm,TextField:sf,PasswordField:Am,Appearance:hr},br.AcroForm={ChoiceField:yh,ListBox:bh,ComboBox:wh,EditBox:ym,Button:us,PushButton:bm,RadioButton:Ah,CheckBox:wm,TextField:sf,PasswordField:Am,Appearance:hr};br.AcroForm;function hO(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(Z,Q){var me,re,q,ie,oe,de=t;if((Q=Q||t)==="RGBA"||Z.data!==void 0&&Z.data instanceof Uint8ClampedArray&&"height"in Z&&"width"in Z)return"RGBA";if(J(Z))for(oe in r)for(q=r[oe],me=0;me<q.length;me+=1){for(ie=!0,re=0;re<q[me].length;re+=1)if(q[me][re]!==void 0&&q[me][re]!==Z[re]){ie=!1;break}if(ie===!0){de=oe;break}}else for(oe in r)for(q=r[oe],me=0;me<q.length;me+=1){for(ie=!0,re=0;re<q[me].length;re+=1)if(q[me][re]!==void 0&&q[me][re]!==Z.charCodeAt(re)){ie=!1;break}if(ie===!0){de=oe;break}}return de===t&&Q!==t&&(de=Q),de},a=function Z(Q){for(var me=this.internal.write,re=this.internal.putStream,q=(0,this.internal.getFilters)();q.indexOf("FlateEncode")!==-1;)q.splice(q.indexOf("FlateEncode"),1);Q.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:Q.width}),ie.push({key:"Height",value:Q.height}),Q.colorSpace===T.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Q.palette.length/3-1)+" "+("sMask"in Q&&Q.sMask!==void 0?Q.objectId+2:Q.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+Q.colorSpace}),Q.colorSpace===T.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:Q.bitsPerComponent}),"decodeParameters"in Q&&Q.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+Q.decodeParameters+">>"}),"transparency"in Q&&Array.isArray(Q.transparency)){for(var oe="",de=0,ee=Q.transparency.length;de<ee;de++)oe+=Q.transparency[de]+" "+Q.transparency[de]+" ";ie.push({key:"Mask",value:"["+oe+"]"})}Q.sMask!==void 0&&ie.push({key:"SMask",value:Q.objectId+1+" 0 R"});var Ae=Q.filter!==void 0?["/"+Q.filter]:void 0;if(re({data:Q.data,additionalKeyValues:ie,alreadyAppliedFilters:Ae,objectId:Q.objectId}),me("endobj"),"sMask"in Q&&Q.sMask!==void 0){var ce="/Predictor "+Q.predictor+" /Colors 1 /BitsPerComponent "+Q.bitsPerComponent+" /Columns "+Q.width,U={width:Q.width,height:Q.height,colorSpace:"DeviceGray",bitsPerComponent:Q.bitsPerComponent,decodeParameters:ce,data:Q.sMask};"filter"in Q&&(U.filter=Q.filter),Z.call(this,U)}if(Q.colorSpace===T.INDEXED){var H=this.internal.newObject();re({data:$(new Uint8Array(Q.palette)),objectId:H}),me("endobj")}},i=function(){var Z=this.internal.collections.addImage_images;for(var Q in Z)a.call(this,Z[Q])},c=function(){var Z,Q=this.internal.collections.addImage_images,me=this.internal.write;for(var re in Q)me("/I"+(Z=Q[re]).index,Z.objectId,"0","R")},f=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",c))},m=function(){var Z=this.internal.collections.addImage_images;return f.call(this),Z},p=function(){return Object.keys(this.internal.collections.addImage_images).length},x=function(Z){return typeof e["process"+Z.toUpperCase()]=="function"},y=function(Z){return Zn(Z)==="object"&&Z.nodeType===1},S=function(Z,Q){if(Z.nodeName==="IMG"&&Z.hasAttribute("src")){var me=""+Z.getAttribute("src");if(me.indexOf("data:image/")===0)return Z0(unescape(me).split("base64,").pop());var re=e.loadFile(me,!0);if(re!==void 0)return re}if(Z.nodeName==="CANVAS"){if(Z.width===0||Z.height===0)throw new Error("Given canvas must have data. Canvas width: "+Z.width+", height: "+Z.height);var q;switch(Q){case"PNG":q="image/png";break;case"WEBP":q="image/webp";break;case"JPEG":case"JPG":default:q="image/jpeg"}return Z0(Z.toDataURL(q,1).split("base64,").pop())}},N=function(Z){var Q=this.internal.collections.addImage_images;if(Q){for(var me in Q)if(Z===Q[me].alias)return Q[me]}},j=function(Z,Q,me){return Z||Q||(Z=-96,Q=-96),Z<0&&(Z=-1*me.width*72/Z/this.internal.scaleFactor),Q<0&&(Q=-1*me.height*72/Q/this.internal.scaleFactor),Z===0&&(Z=Q*me.width/me.height),Q===0&&(Q=Z*me.height/me.width),[Z,Q]},_=function(Z,Q,me,re,q,ie){var oe=j.call(this,me,re,q),de=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,Ae=m.call(this);if(me=oe[0],re=oe[1],Ae[q.index]=q,ie){ie*=Math.PI/180;var ce=Math.cos(ie),U=Math.sin(ie),H=function(ve){return ve.toFixed(4)},se=[H(ce),H(U),H(-1*U),H(ce),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,de(Z),ee(Q+re),"cm"].join(" ")),this.internal.write(se.join(" ")),this.internal.write([de(me),"0","0",de(re),"0","0","cm"].join(" "))):this.internal.write([de(me),"0","0",de(re),de(Z),ee(Q+re),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+q.index+" Do"),this.internal.write("Q")},T=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=e.__addimage__.sHashCode=function(Z){var Q,me,re=0;if(typeof Z=="string")for(me=Z.length,Q=0;Q<me;Q++)re=(re<<5)-re+Z.charCodeAt(Q),re|=0;else if(J(Z))for(me=Z.byteLength/2,Q=0;Q<me;Q++)re=(re<<5)-re+Z[Q],re|=0;return re},F=e.__addimage__.validateStringAsBase64=function(Z){(Z=Z||"").toString().trim();var Q=!0;return Z.length===0&&(Q=!1),Z.length%4!=0&&(Q=!1),/^[A-Za-z0-9+/]+$/.test(Z.substr(0,Z.length-2))===!1&&(Q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Z.substr(-2))===!1&&(Q=!1),Q},G=e.__addimage__.extractImageFromDataUrl=function(Z){var Q=(Z=Z||"").split("base64,"),me=null;if(Q.length===2){var re=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Q[0]);Array.isArray(re)&&(me={mimeType:re[1],charset:re[2],data:Q[1]})}return me},Y=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(Z){return Y()&&Z instanceof ArrayBuffer};var J=e.__addimage__.isArrayBufferView=function(Z){return Y()&&typeof Uint32Array<"u"&&(Z instanceof Int8Array||Z instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Z instanceof Uint8ClampedArray||Z instanceof Int16Array||Z instanceof Uint16Array||Z instanceof Int32Array||Z instanceof Uint32Array||Z instanceof Float32Array||Z instanceof Float64Array)},V=e.__addimage__.binaryStringToUint8Array=function(Z){for(var Q=Z.length,me=new Uint8Array(Q),re=0;re<Q;re++)me[re]=Z.charCodeAt(re);return me},$=e.__addimage__.arrayBufferToBinaryString=function(Z){for(var Q="",me=J(Z)?Z:new Uint8Array(Z),re=0;re<me.length;re+=8192)Q+=String.fromCharCode.apply(null,me.subarray(re,re+8192));return Q};e.addImage=function(){var Z,Q,me,re,q,ie,oe,de,ee;if(typeof arguments[1]=="number"?(Q=t,me=arguments[1],re=arguments[2],q=arguments[3],ie=arguments[4],oe=arguments[5],de=arguments[6],ee=arguments[7]):(Q=arguments[1],me=arguments[2],re=arguments[3],q=arguments[4],ie=arguments[5],oe=arguments[6],de=arguments[7],ee=arguments[8]),Zn(Z=arguments[0])==="object"&&!y(Z)&&"imageData"in Z){var Ae=Z;Z=Ae.imageData,Q=Ae.format||Q||t,me=Ae.x||me||0,re=Ae.y||re||0,q=Ae.w||Ae.width||q,ie=Ae.h||Ae.height||ie,oe=Ae.alias||oe,de=Ae.compression||de,ee=Ae.rotation||Ae.angle||ee}var ce=this.internal.getFilters();if(de===void 0&&ce.indexOf("FlateEncode")!==-1&&(de="SLOW"),isNaN(me)||isNaN(re))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var U=W.call(this,Z,Q,oe,de);return _.call(this,me,re,q,ie,U,ee),this};var W=function(Z,Q,me,re){var q,ie,oe;if(typeof Z=="string"&&n(Z)===t){Z=unescape(Z);var de=Ne(Z,!1);(de!==""||(de=e.loadFile(Z,!0))!==void 0)&&(Z=de)}if(y(Z)&&(Z=S(Z,Q)),Q=n(Z,Q),!x(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(((oe=me)==null||oe.length===0)&&(me=function(ee){return typeof ee=="string"||J(ee)?R(ee):J(ee.data)?R(ee.data):null}(Z)),(q=N.call(this,me))||(Y()&&(Z instanceof Uint8Array||Q==="RGBA"||(ie=Z,Z=V(Z))),q=this["process"+Q.toUpperCase()](Z,p.call(this),me,function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in e.image_compression?ee:I.NONE}(re),ie)),!q)throw new Error("An unknown error occurred whilst processing the image.");return q},Ne=e.__addimage__.convertBase64ToBinaryString=function(Z,Q){var me;Q=typeof Q!="boolean"||Q;var re,q="";if(typeof Z=="string"){re=(me=G(Z))!==null?me.data:Z;try{q=Z0(re)}catch(ie){if(Q)throw F(re)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};e.getImageProperties=function(Z){var Q,me,re="";if(y(Z)&&(Z=S(Z)),typeof Z=="string"&&n(Z)===t&&((re=Ne(Z,!1))===""&&(re=e.loadFile(Z)||""),Z=re),me=n(Z),!x(me))throw new Error("addImage does not support files of type '"+me+"', please ensure that a plugin for '"+me+"' support is added.");if(!Y()||Z instanceof Uint8Array||(Z=V(Z)),!(Q=this["process"+me.toUpperCase()](Z)))throw new Error("An unknown error occurred whilst processing the image");return Q.fileType=me,Q}})(br.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};br.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString,m=this.internal.getPageInfoByObjId(r.objId),p=r.pageContext.annotations,x=!1,y=0;y<p.length&&!x;y++)switch((n=p[y]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(x=!0);break;case"reference":case"text":case"freetext":x=!0}if(x!=0){this.internal.write("/Annots [");for(var S=0;S<p.length;S++){n=p[S];var N=this.internal.pdfEscape,j=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(_.objId),R=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(n.bounds.x)+" "+f(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w)+" "+f(n.bounds.y)+"] ")+"/Contents ("+N(I(n.contents))+")",i+=" /Popup "+T.objId+" 0 R",i+=" /P "+m.objId+" 0 R",i+=" /T ("+N(I(R))+") >>",_.content=i;var F=_.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(n.bounds.x+30)+" "+f(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w+30)+" "+f(n.bounds.y)+"] ")+" /Parent "+F,n.open&&(i+=" /Open true"),i+=" >>",T.content=i,this.internal.write(_.objId,"0 R",T.objId,"0 R");break;case"freetext":a="/Rect ["+c(n.bounds.x)+" "+f(n.bounds.y)+" "+c(n.bounds.x+n.bounds.w)+" "+f(n.bounds.y+n.bounds.h)+"] ";var G=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+N(j(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+G+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var Y=this.annotations._nameMap[n.options.name];n.options.pageNumber=Y.page,n.options.top=Y.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+N(j(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var J=f(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+J+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,c){var f=this.internal.getCurrentPageInfo(),m=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;f.pageContext.annotations.push({finalBounds:{x:m(r),y:p(n),w:m(r+a),h:p(n+i)},options:c,type:"link"})},e.textWithLink=function(r,n,a,i){var c,f,m=this.getTextWidth(r),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){f=i.maxWidth;var x=this.splitTextToSize(r,f).length;c=Math.ceil(p*x)}else f=m,c=p;return this.text(r,n,a,i),a+=.2*p,i.align==="center"&&(n-=m/2),i.align==="right"&&(n-=m),this.link(n,a-p,f,c,i),m},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(br.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(_){return t[_.charCodeAt(0)]!==void 0},c=e.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},f=e.__arabicParser__.isArabicEndLetter=function(_){return c(_)&&i(_)&&t[_.charCodeAt(0)].length<=2},m=e.__arabicParser__.isArabicAlfLetter=function(_){return c(_)&&a.indexOf(_.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return c(_)&&i(_)&&t[_.charCodeAt(0)].length>=1};var p=e.__arabicParser__.arabicLetterHasFinalForm=function(_){return c(_)&&i(_)&&t[_.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(_){return c(_)&&i(_)&&t[_.charCodeAt(0)].length>=3};var x=e.__arabicParser__.arabicLetterHasMedialForm=function(_){return c(_)&&i(_)&&t[_.charCodeAt(0)].length==4},y=e.__arabicParser__.resolveLigatures=function(_){var T=0,I=r,R="",F=0;for(T=0;T<_.length;T+=1)I[_.charCodeAt(T)]!==void 0?(F++,typeof(I=I[_.charCodeAt(T)])=="number"&&(R+=String.fromCharCode(I),I=r,F=0),T===_.length-1&&(I=r,R+=_.charAt(T-(F-1)),T-=F-1,F=0)):(I=r,R+=_.charAt(T-F),T-=F,F=0);return R};e.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&n[_.charCodeAt(0)]!==void 0};var S=e.__arabicParser__.getCorrectForm=function(_,T,I){return c(_)?i(_)===!1?-1:!p(_)||!c(T)&&!c(I)||!c(I)&&f(T)||f(_)&&!c(T)||f(_)&&m(T)||f(_)&&f(T)?0:x(_)&&c(T)&&!f(T)&&c(I)&&p(I)?3:f(_)||!c(I)?1:2:-1},N=function(_){var T=0,I=0,R=0,F="",G="",Y="",J=(_=_||"").split("\\s+"),V=[];for(T=0;T<J.length;T+=1){for(V.push(""),I=0;I<J[T].length;I+=1)F=J[T][I],G=J[T][I-1],Y=J[T][I+1],c(F)?(R=S(F,G,Y),V[T]+=R!==-1?String.fromCharCode(t[F.charCodeAt(0)][R]):F):V[T]+=F;V[T]=y(V[T])}return V.join(" ")},j=e.__arabicParser__.processArabic=e.processArabic=function(){var _,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,I=[];if(Array.isArray(T)){var R=0;for(I=[],R=0;R<T.length;R+=1)Array.isArray(T[R])?I.push([N(T[R][0]),T[R][1],T[R][2]]):I.push([N(T[R])]);_=I}else _=N(T);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};e.events.push(["preProcessText",j])}(br.API),br.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(f){r=f}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(f){n=isNaN(f)||Number.isInteger(f)===!1||f<0?150:f,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(f){a=isNaN(f)||Number.isInteger(f)===!1||f<0?300:f,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(f){i=f}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(f){c=f}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(br.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var m=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var x=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return x},set:function(_){x=_}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(_){y=_}});var S=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return S},set:function(_){S=_}});var N=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return N},set:function(_){N=_}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(_){j=_}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(m){return n.call(this),this.internal.__cell__.headerFunction=typeof m=="function"?m:void 0,this},e.getTextDimensions=function(m,p){n.call(this);var x=(p=p||{}).fontSize||this.getFontSize(),y=p.font||this.getFont(),S=p.scaleFactor||this.internal.scaleFactor,N=0,j=0,_=0,T=this;if(!Array.isArray(m)&&typeof m!="string"){if(typeof m!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");m=String(m)}var I=p.maxWidth;I>0?typeof m=="string"?m=this.splitTextToSize(m,I):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(F,G){return F.concat(T.splitTextToSize(G,I))},[])):m=Array.isArray(m)?m:[m];for(var R=0;R<m.length;R++)N<(_=this.getStringUnitWidth(m[R],{font:y})*x)&&(N=_);return N!==0&&(j=m.length),{w:N/=S,h:Math.max((j*x*this.getLineHeightFactor()-x*(this.getLineHeightFactor()-1))/S,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var m=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(m.left,m.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=e.cell=function(){var m;m=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var p=this.internal.__cell__.lastCell,x=this.internal.__cell__.padding,y=this.internal.__cell__.margins||t,S=this.internal.__cell__.tableHeaderRow,N=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===m.lineNumber?(m.x=(p.x||0)+(p.width||0),m.y=p.y||0):p.y+p.height+m.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),m.y=y.top,N&&S&&(this.printHeaderRow(m.lineNumber,!0),m.y+=S[0].height)):m.y=p.y+p.height||m.y),m.text[0]!==void 0&&(this.rect(m.x,m.y,m.width,m.height,r===!0?"FD":void 0),m.align==="right"?this.text(m.text,m.x+m.width-x,m.y+x,{align:"right",baseline:"top"}):m.align==="center"?this.text(m.text,m.x+m.width/2,m.y+x,{align:"center",baseline:"top",maxWidth:m.width-x-x}):this.text(m.text,m.x+x,m.y+x,{align:"left",baseline:"top",maxWidth:m.width-x-x})),this.internal.__cell__.lastCell=m,this};e.table=function(m,p,x,y,S){if(n.call(this),!x)throw new Error("No data for PDF table.");var N,j,_,T,I=[],R=[],F=[],G={},Y={},J=[],V=[],$=(S=S||{}).autoSize||!1,W=S.printHeaders!==!1,Ne=S.css&&S.css["font-size"]!==void 0?16*S.css["font-size"]:S.fontSize||12,Z=S.margins||Object.assign({width:this.getPageWidth()},t),Q=typeof S.padding=="number"?S.padding:3,me=S.headerBackgroundColor||"#c8c8c8",re=S.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=W,this.internal.__cell__.margins=Z,this.internal.__cell__.table_font_size=Ne,this.internal.__cell__.padding=Q,this.internal.__cell__.headerBackgroundColor=me,this.internal.__cell__.headerTextColor=re,this.setFontSize(Ne),y==null)R=I=Object.keys(x[0]),F=I.map(function(){return"left"});else if(Array.isArray(y)&&Zn(y[0])==="object")for(I=y.map(function(Ae){return Ae.name}),R=y.map(function(Ae){return Ae.prompt||Ae.name||""}),F=y.map(function(Ae){return Ae.align||"left"}),N=0;N<y.length;N+=1)Y[y[N].name]=y[N].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(R=I=y,F=I.map(function(){return"left"}));if($||Array.isArray(y)&&typeof y[0]=="string")for(N=0;N<I.length;N+=1){for(G[T=I[N]]=x.map(function(Ae){return Ae[T]}),this.setFont(void 0,"bold"),J.push(this.getTextDimensions(R[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=G[T],this.setFont(void 0,"normal"),_=0;_<j.length;_+=1)J.push(this.getTextDimensions(j[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Y[T]=Math.max.apply(null,J)+Q+Q,J=[]}if(W){var q={};for(N=0;N<I.length;N+=1)q[I[N]]={},q[I[N]].text=R[N],q[I[N]].align=F[N];var ie=f.call(this,q,Y);V=I.map(function(Ae){return new i(m,p,Y[Ae],ie,q[Ae].text,void 0,q[Ae].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var oe=y.reduce(function(Ae,ce){return Ae[ce.name]=ce.align,Ae},{});for(N=0;N<x.length;N+=1){"rowStart"in S&&S.rowStart instanceof Function&&S.rowStart({row:N,data:x[N]},this);var de=f.call(this,x[N],Y);for(_=0;_<I.length;_+=1){var ee=x[N][I[_]];"cellStart"in S&&S.cellStart instanceof Function&&S.cellStart({row:N,col:_,data:ee},this),c.call(this,new i(m,p,Y[I[_]],de,ee,N+2,oe[I[_]]))}}return this.internal.__cell__.table_x=m,this.internal.__cell__.table_y=p,this};var f=function(m,p){var x=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,S=this.internal.scaleFactor;return Object.keys(m).map(function(N){var j=m[N];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,p[N]-x-x)},this).map(function(N){return this.getLineHeightFactor()*N.length*y/S+x+x},this).reduce(function(N,j){return Math.max(N,j)},0)};e.setTableHeaderRow=function(m){n.call(this),this.internal.__cell__.tableHeaderRow=m},e.printHeaderRow=function(m,p){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var x;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var S=[],N=0;N<this.internal.__cell__.tableHeaderRow.length;N+=1){x=this.internal.__cell__.tableHeaderRow[N].clone(),p&&(x.y=this.internal.__cell__.margins.top||0,S.push(x)),x.lineNumber=m;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,x),this.setTextColor(j)}S.length>0&&this.setTableHeaderRow(S),this.setFont(void 0,"normal"),r=!1}}(br.API);var pO={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},mO=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Tb=hO(mO),gO=[100,200,300,400,500,600,700,800,900],lF=hO(gO);function kb(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return pO[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof Tb[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function wS(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var cF={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},AS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function NS(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function uF(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},cF,r.genericFontFamilies||{}),i=null,c=null,f=0;f<t.length;++f)if(a[(i=kb(t[f])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){c=e[i.family];break}if(!(c=c||e[n]))throw new Error("Could not find a font-family for the rule '"+NS(i)+"' and default family '"+n+"'.");if(c=function(m,p){if(p[m])return p[m];var x=Tb[m],y=x<=Tb.normal?-1:1,S=wS(p,mO,x,y);if(!S)throw new Error("Could not find a matching font-stretch value for "+m);return S}(i.stretch,c),c=function(m,p){if(p[m])return p[m];for(var x=pO[m],y=0;y<x.length;++y)if(p[x[y]])return p[x[y]];throw new Error("Could not find a matching font-style for "+m)}(i.style,c),!(c=function(m,p){if(p[m])return p[m];if(m===400&&p[500])return p[500];if(m===500&&p[400])return p[400];var x=lF[m],y=wS(p,gO,x,m<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+m);return y}(i.weight,c)))throw new Error("Failed to resolve a font for the rule '"+NS(i)+"'.");return c}function SS(e){return e.trimLeft()}function dF(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function fF(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Vp,ES,CS,vv=["times"];(function(e){var t,r,n,a,i,c,f,m,p,x=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new m,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new c,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new c,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new y(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,c=this.internal.Point,f=this.internal.Rectangle,m=this.internal.Matrix,p=new x}]);var y=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=U;Object.defineProperty(this,"pdf",{get:function(){return H}});var se=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return se},set:function(Be){se=!!Be}});var ve=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ve},set:function(Be){ve=!!Be}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(Be){isNaN(Be)||(ne=Be)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(Be){isNaN(Be)||(le=Be)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Be){var ae;typeof Be=="number"?ae=[Be,Be,Be,Be]:((ae=new Array(4))[0]=Be[0],ae[1]=Be.length>=2?Be[1]:ae[0],ae[2]=Be.length>=3?Be[2]:ae[0],ae[3]=Be.length>=4?Be[3]:ae[1]),p.margin=ae}});var je=!1;Object.defineProperty(this,"autoPaging",{get:function(){return je},set:function(Be){je=Be}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(Be){pe=Be}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(Be){Te=Be}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Be){Be instanceof x&&(p=Be)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Be){p.path=Be}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(Be){ke=Be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Be){var ae;ae=S(Be),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Be){var ae=S(Be);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Be){["butt","round","square"].indexOf(Be)!==-1&&(this.ctx.lineCap=Be,this.pdf.setLineCap(Be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Be){isNaN(Be)||(this.ctx.lineWidth=Be,this.pdf.setLineWidth(Be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Be){["bevel","round","miter"].indexOf(Be)!==-1&&(this.ctx.lineJoin=Be,this.pdf.setLineJoin(Be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Be){isNaN(Be)||(this.ctx.miterLimit=Be,this.pdf.setMiterLimit(Be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Be){this.ctx.textBaseline=Be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Be){["right","end","center","left","start"].indexOf(Be)!==-1&&(this.ctx.textAlign=Be)}});var ue=null;function Le(Be,ae){if(ue===null){var nt=function(at){var Re=[];return Object.keys(at).forEach(function(Qe){at[Qe].forEach(function(Fe){var et=null;switch(Fe){case"bold":et={family:Qe,weight:"bold"};break;case"italic":et={family:Qe,style:"italic"};break;case"bolditalic":et={family:Qe,weight:"bold",style:"italic"};break;case"":case"normal":et={family:Qe}}et!==null&&(et.ref={name:Qe,style:Fe},Re.push(et))})}),Re}(Be.getFontList());ue=function(at){for(var Re={},Qe=0;Qe<at.length;++Qe){var Fe=kb(at[Qe]),et=Fe.family,St=Fe.stretch,qt=Fe.style,Wt=Fe.weight;Re[et]=Re[et]||{},Re[et][St]=Re[et][St]||{},Re[et][St][qt]=Re[et][St][qt]||{},Re[et][St][qt][Wt]=Fe}return Re}(nt.concat(ae))}return ue}var $e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(Be){ue=null,$e=Be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Be){var ae;if(this.ctx.font=Be,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Be))!==null){var nt=ae[1],at=(ae[2],ae[3]),Re=ae[4],Qe=(ae[5],ae[6]),Fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Re)[2];Re=Math.floor(Fe==="px"?parseFloat(Re)*this.pdf.internal.scaleFactor:Fe==="em"?parseFloat(Re)*this.pdf.getFontSize():parseFloat(Re)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Re);var et=function(Qt){var Er,zt,Mn=[],Ht=Qt.trim();if(Ht==="")return vv;if(Ht in AS)return[AS[Ht]];for(;Ht!=="";){switch(zt=null,Er=(Ht=SS(Ht)).charAt(0)){case'"':case"'":zt=dF(Ht.substring(1),Er);break;default:zt=fF(Ht)}if(zt===null||(Mn.push(zt[0]),(Ht=SS(zt[1]))!==""&&Ht.charAt(0)!==","))return vv;Ht=Ht.replace(/^,/,"")}return Mn}(Qe);if(this.fontFaces){var St=uF(Le(this.pdf,this.fontFaces),et.map(function(Qt){return{family:Qt,stretch:"normal",weight:at,style:nt}}));this.pdf.setFont(St.ref.name,St.ref.style)}else{var qt="";(at==="bold"||parseInt(at,10)>=700||nt==="bold")&&(qt="bold"),nt==="italic"&&(qt+="italic"),qt.length===0&&(qt="normal");for(var Wt="",tr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Bt=0;Bt<et.length;Bt++){if(this.pdf.internal.getFont(et[Bt],qt,{noFallback:!0,disableWarning:!0})!==void 0){Wt=et[Bt];break}if(qt==="bolditalic"&&this.pdf.internal.getFont(et[Bt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Wt=et[Bt],qt="bold";else if(this.pdf.internal.getFont(et[Bt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Wt=et[Bt],qt="normal";break}}if(Wt===""){for(var lr=0;lr<et.length;lr++)if(tr[et[lr]]){Wt=tr[et[lr]];break}}Wt=Wt===""?"Times":Wt,this.pdf.setFont(Wt,qt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Be){this.ctx.globalCompositeOperation=Be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Be){this.ctx.globalAlpha=Be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Be){this.ctx.lineDashOffset=Be,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Be){this.ctx.lineDash=Be,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Be){this.ctx.ignoreClearRect=!!Be}})};y.prototype.setLineDash=function(U){this.lineDash=U},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){G.call(this,"fill",!1)},y.prototype.stroke=function(){G.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(U,H){if(isNaN(U)||isNaN(H))throw pa.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var se=this.ctx.transform.applyToPoint(new c(U,H));this.path.push({type:"mt",x:se.x,y:se.y}),this.ctx.lastPoint=new c(U,H)},y.prototype.closePath=function(){var U=new c(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Zn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){U=new c(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(U.x,U.y)},y.prototype.lineTo=function(U,H){if(isNaN(U)||isNaN(H))throw pa.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var se=this.ctx.transform.applyToPoint(new c(U,H));this.path.push({type:"lt",x:se.x,y:se.y}),this.ctx.lastPoint=new c(se.x,se.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),G.call(this,null,!0)},y.prototype.quadraticCurveTo=function(U,H,se,ve){if(isNaN(se)||isNaN(ve)||isNaN(U)||isNaN(H))throw pa.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new c(se,ve)),le=this.ctx.transform.applyToPoint(new c(U,H));this.path.push({type:"qct",x1:le.x,y1:le.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new c(ne.x,ne.y)},y.prototype.bezierCurveTo=function(U,H,se,ve,ne,le){if(isNaN(ne)||isNaN(le)||isNaN(U)||isNaN(H)||isNaN(se)||isNaN(ve))throw pa.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var je=this.ctx.transform.applyToPoint(new c(ne,le)),pe=this.ctx.transform.applyToPoint(new c(U,H)),Te=this.ctx.transform.applyToPoint(new c(se,ve));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:Te.x,y2:Te.y,x:je.x,y:je.y}),this.ctx.lastPoint=new c(je.x,je.y)},y.prototype.arc=function(U,H,se,ve,ne,le){if(isNaN(U)||isNaN(H)||isNaN(se)||isNaN(ve)||isNaN(ne))throw pa.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var je=this.ctx.transform.applyToPoint(new c(U,H));U=je.x,H=je.y;var pe=this.ctx.transform.applyToPoint(new c(0,se)),Te=this.ctx.transform.applyToPoint(new c(0,0));se=Math.sqrt(Math.pow(pe.x-Te.x,2)+Math.pow(pe.y-Te.y,2))}Math.abs(ne-ve)>=2*Math.PI&&(ve=0,ne=2*Math.PI),this.path.push({type:"arc",x:U,y:H,radius:se,startAngle:ve,endAngle:ne,counterclockwise:le})},y.prototype.arcTo=function(U,H,se,ve,ne){throw new Error("arcTo not implemented.")},y.prototype.rect=function(U,H,se,ve){if(isNaN(U)||isNaN(H)||isNaN(se)||isNaN(ve))throw pa.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,H),this.lineTo(U+se,H),this.lineTo(U+se,H+ve),this.lineTo(U,H+ve),this.lineTo(U,H),this.lineTo(U+se,H),this.lineTo(U,H)},y.prototype.fillRect=function(U,H,se,ve){if(isNaN(U)||isNaN(H)||isNaN(se)||isNaN(ve))throw pa.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!N.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,H,se,ve),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},y.prototype.strokeRect=function(U,H,se,ve){if(isNaN(U)||isNaN(H)||isNaN(se)||isNaN(ve))throw pa.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(U,H,se,ve),this.stroke())},y.prototype.clearRect=function(U,H,se,ve){if(isNaN(U)||isNaN(H)||isNaN(se)||isNaN(ve))throw pa.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,H,se,ve))},y.prototype.save=function(U){U=typeof U!="boolean"||U;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var ve=new x(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ve}},y.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("Q");this.pdf.setPage(H),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var S=function(U){var H,se,ve,ne;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))H=0,se=0,ve=0,ne=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(le!==null)H=parseInt(le[1]),se=parseInt(le[2]),ve=parseInt(le[3]),ne=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)H=parseInt(le[1]),se=parseInt(le[2]),ve=parseInt(le[3]),ne=parseFloat(le[4]);else{if(ne=1,typeof U=="string"&&U.charAt(0)!=="#"){var je=new oO(U);U=je.ok?je.toHex():"#000000"}U.length===4?(H=U.substring(1,2),H+=H,se=U.substring(2,3),se+=se,ve=U.substring(3,4),ve+=ve):(H=U.substring(1,3),se=U.substring(3,5),ve=U.substring(5,7)),H=parseInt(H,16),se=parseInt(se,16),ve=parseInt(ve,16)}}return{r:H,g:se,b:ve,a:ne,style:U}},N=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(U,H,se,ve){if(isNaN(H)||isNaN(se)||typeof U!="string")throw pa.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ve=isNaN(ve)?void 0:ve,!N.call(this)){var ne=de(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;Q.call(this,{text:U,x:H,y:se,scale:le,angle:ne,align:this.textAlign,maxWidth:ve})}},y.prototype.strokeText=function(U,H,se,ve){if(isNaN(H)||isNaN(se)||typeof U!="string")throw pa.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){ve=isNaN(ve)?void 0:ve;var ne=de(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;Q.call(this,{text:U,x:H,y:se,scale:le,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:ve})}},y.prototype.measureText=function(U){if(typeof U!="string")throw pa.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,se=this.pdf.internal.scaleFactor,ve=H.internal.getFontSize(),ne=H.getStringUnitWidth(U)*ve/H.internal.scaleFactor,le=function(je){var pe=(je=je||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this};return new le({width:ne*=Math.round(96*se/72*1e4)/1e4})},y.prototype.scale=function(U,H){if(isNaN(U)||isNaN(H))throw pa.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var se=new m(U,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(se)},y.prototype.rotate=function(U){if(isNaN(U))throw pa.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new m(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},y.prototype.translate=function(U,H){if(isNaN(U)||isNaN(H))throw pa.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var se=new m(1,0,0,1,U,H);this.ctx.transform=this.ctx.transform.multiply(se)},y.prototype.transform=function(U,H,se,ve,ne,le){if(isNaN(U)||isNaN(H)||isNaN(se)||isNaN(ve)||isNaN(ne)||isNaN(le))throw pa.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var je=new m(U,H,se,ve,ne,le);this.ctx.transform=this.ctx.transform.multiply(je)},y.prototype.setTransform=function(U,H,se,ve,ne,le){U=isNaN(U)?1:U,H=isNaN(H)?0:H,se=isNaN(se)?0:se,ve=isNaN(ve)?1:ve,ne=isNaN(ne)?0:ne,le=isNaN(le)?0:le,this.ctx.transform=new m(U,H,se,ve,ne,le)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(U,H,se,ve,ne,le,je,pe,Te){var ke=this.pdf.getImageProperties(U),ue=1,Le=1,$e=1,Be=1;ve!==void 0&&pe!==void 0&&($e=pe/ve,Be=Te/ne,ue=ke.width/ve*pe/ve,Le=ke.height/ne*Te/ne),le===void 0&&(le=H,je=se,H=0,se=0),ve!==void 0&&pe===void 0&&(pe=ve,Te=ne),ve===void 0&&pe===void 0&&(pe=ke.width,Te=ke.height);for(var ae,nt=this.ctx.transform.decompose(),at=de(nt.rotate.shx),Re=new m,Qe=(Re=(Re=(Re=Re.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale)).applyToRectangle(new f(le-H*$e,je-se*Be,ve*ue,ne*Le)),Fe=T.call(this,Qe),et=[],St=0;St<Fe.length;St+=1)et.indexOf(Fe[St])===-1&&et.push(Fe[St]);if(F(et),this.autoPaging)for(var qt=et[0],Wt=et[et.length-1],tr=qt;tr<Wt+1;tr++){this.pdf.setPage(tr);var Bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],lr=tr===1?this.posY+this.margin[0]:this.margin[0],Qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Er=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],zt=tr===1?0:Qt+(tr-2)*Er;if(this.ctx.clip_path.length!==0){var Mn=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(ae,this.posX+this.margin[3],-zt+lr+this.ctx.prevPageLastElemOffset),Y.call(this,"fill",!0),this.path=Mn}var Ht=JSON.parse(JSON.stringify(Qe));Ht=R([Ht],this.posX+this.margin[3],-zt+lr+this.ctx.prevPageLastElemOffset)[0];var Ct=(tr>qt||tr<Wt)&&_.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bt,Er,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",Ht.x,Ht.y,Ht.w,Ht.h,null,null,at),Ct&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,at)};var T=function(U,H,se){var ve=[];H=H||this.pdf.internal.pageSize.width,se=se||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":ve.push(Math.floor((U.y+ne)/se)+1);break;case"arc":ve.push(Math.floor((U.y+ne-U.radius)/se)+1),ve.push(Math.floor((U.y+ne+U.radius)/se)+1);break;case"qct":var le=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);ve.push(Math.floor((le.y+ne)/se)+1),ve.push(Math.floor((le.y+le.h+ne)/se)+1);break;case"bct":var je=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);ve.push(Math.floor((je.y+ne)/se)+1),ve.push(Math.floor((je.y+je.h+ne)/se)+1);break;case"rect":ve.push(Math.floor((U.y+ne)/se)+1),ve.push(Math.floor((U.y+U.h+ne)/se)+1)}for(var pe=0;pe<ve.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<ve[pe];)I.call(this);return ve},I=function(){var U=this.fillStyle,H=this.strokeStyle,se=this.font,ve=this.lineCap,ne=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=H,this.font=se,this.lineCap=ve,this.lineWidth=ne,this.lineJoin=le},R=function(U,H,se){for(var ve=0;ve<U.length;ve++)switch(U[ve].type){case"bct":U[ve].x2+=H,U[ve].y2+=se;case"qct":U[ve].x1+=H,U[ve].y1+=se;case"mt":case"lt":case"arc":default:U[ve].x+=H,U[ve].y+=se}return U},F=function(U){return U.sort(function(H,se){return H-se})},G=function(U,H){for(var se,ve,ne=this.fillStyle,le=this.strokeStyle,je=this.lineCap,pe=this.lineWidth,Te=Math.abs(pe*this.ctx.transform.scaleX),ke=this.lineJoin,ue=JSON.parse(JSON.stringify(this.path)),Le=JSON.parse(JSON.stringify(this.path)),$e=[],Be=0;Be<Le.length;Be++)if(Le[Be].x!==void 0)for(var ae=T.call(this,Le[Be]),nt=0;nt<ae.length;nt+=1)$e.indexOf(ae[nt])===-1&&$e.push(ae[nt]);for(var at=0;at<$e.length;at++)for(;this.pdf.internal.getNumberOfPages()<$e[at];)I.call(this);if(F($e),this.autoPaging)for(var Re=$e[0],Qe=$e[$e.length-1],Fe=Re;Fe<Qe+1;Fe++){this.pdf.setPage(Fe),this.fillStyle=ne,this.strokeStyle=le,this.lineCap=je,this.lineWidth=Te,this.lineJoin=ke;var et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=Fe===1?this.posY+this.margin[0]:this.margin[0],qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tr=Fe===1?0:qt+(Fe-2)*Wt;if(this.ctx.clip_path.length!==0){var Bt=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(se,this.posX+this.margin[3],-tr+St+this.ctx.prevPageLastElemOffset),Y.call(this,U,!0),this.path=Bt}if(ve=JSON.parse(JSON.stringify(ue)),this.path=R(ve,this.posX+this.margin[3],-tr+St+this.ctx.prevPageLastElemOffset),H===!1||Fe===0){var lr=(Fe>Re||Fe<Qe)&&_.call(this);lr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,Wt,null).clip().discardPath()),Y.call(this,U,H),lr&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=Te,Y.call(this,U,H),this.lineWidth=pe;this.path=ue},Y=function(U,H){if((U!=="stroke"||H||!j.call(this))&&(U==="stroke"||H||!N.call(this))){for(var se,ve,ne=[],le=this.path,je=0;je<le.length;je++){var pe=le[je];switch(pe.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:pe,deltas:[],abs:[]});break;case"lt":var Te=ne.length;if(le[je-1]&&!isNaN(le[je-1].x)&&(se=[pe.x-le[je-1].x,pe.y-le[je-1].y],Te>0)){for(;Te>=0;Te--)if(ne[Te-1].close!==!0&&ne[Te-1].begin!==!0){ne[Te-1].deltas.push(se),ne[Te-1].abs.push(pe);break}}break;case"bct":se=[pe.x1-le[je-1].x,pe.y1-le[je-1].y,pe.x2-le[je-1].x,pe.y2-le[je-1].y,pe.x-le[je-1].x,pe.y-le[je-1].y],ne[ne.length-1].deltas.push(se);break;case"qct":var ke=le[je-1].x+2/3*(pe.x1-le[je-1].x),ue=le[je-1].y+2/3*(pe.y1-le[je-1].y),Le=pe.x+2/3*(pe.x1-pe.x),$e=pe.y+2/3*(pe.y1-pe.y),Be=pe.x,ae=pe.y;se=[ke-le[je-1].x,ue-le[je-1].y,Le-le[je-1].x,$e-le[je-1].y,Be-le[je-1].x,ae-le[je-1].y],ne[ne.length-1].deltas.push(se);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(pe)}}ve=H?null:U==="stroke"?"stroke":"fill";for(var nt=!1,at=0;at<ne.length;at++)if(ne[at].arc)for(var Re=ne[at].abs,Qe=0;Qe<Re.length;Qe++){var Fe=Re[Qe];Fe.type==="arc"?$.call(this,Fe.x,Fe.y,Fe.radius,Fe.startAngle,Fe.endAngle,Fe.counterclockwise,void 0,H,!nt):me.call(this,Fe.x,Fe.y),nt=!0}else if(ne[at].close===!0)this.pdf.internal.out("h"),nt=!1;else if(ne[at].begin!==!0){var et=ne[at].start.x,St=ne[at].start.y;re.call(this,ne[at].deltas,et,St),nt=!0}ve&&W.call(this,ve),H&&Ne.call(this)}},J=function(U){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,se=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-se;case"top":return U+H-se;case"hanging":return U+H-2*se;case"middle":return U+H/2-se;case"ideographic":return U;case"alphabetic":default:return U}},V=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(H,se){this.colorStops.push([H,se])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var $=function(U,H,se,ve,ne,le,je,pe,Te){for(var ke=ie.call(this,se,ve,ne,le),ue=0;ue<ke.length;ue++){var Le=ke[ue];ue===0&&(Te?Z.call(this,Le.x1+U,Le.y1+H):me.call(this,Le.x1+U,Le.y1+H)),q.call(this,U,H,Le.x2,Le.y2,Le.x3,Le.y3,Le.x4,Le.y4)}pe?Ne.call(this):W.call(this,je)},W=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Ne=function(){this.pdf.clip(),this.pdf.discardPath()},Z=function(U,H){this.pdf.internal.out(r(U)+" "+n(H)+" m")},Q=function(U){var H;switch(U.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var se=this.pdf.getTextDimensions(U.text),ve=J.call(this,U.y),ne=V.call(this,ve)-se.h,le=this.ctx.transform.applyToPoint(new c(U.x,ve)),je=this.ctx.transform.decompose(),pe=new m;pe=(pe=(pe=pe.multiply(je.translate)).multiply(je.skew)).multiply(je.scale);for(var Te,ke,ue,Le=this.ctx.transform.applyToRectangle(new f(U.x,ve,se.w,se.h)),$e=pe.applyToRectangle(new f(U.x,ne,se.w,se.h)),Be=T.call(this,$e),ae=[],nt=0;nt<Be.length;nt+=1)ae.indexOf(Be[nt])===-1&&ae.push(Be[nt]);if(F(ae),this.autoPaging)for(var at=ae[0],Re=ae[ae.length-1],Qe=at;Qe<Re+1;Qe++){this.pdf.setPage(Qe);var Fe=Qe===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[2],qt=St-this.margin[0],Wt=this.pdf.internal.pageSize.width-this.margin[1],tr=Wt-this.margin[3],Bt=Qe===1?0:et+(Qe-2)*qt;if(this.ctx.clip_path.length!==0){var lr=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Te,this.posX+this.margin[3],-1*Bt+Fe),Y.call(this,"fill",!0),this.path=lr}var Qt=R([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-Bt+Fe+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*U.scale),ue=this.lineWidth,this.lineWidth=ue*U.scale);var Er=this.autoPaging!=="text";if(Er||Qt.y+Qt.h<=St){if(Er||Qt.y>=Fe&&Qt.x<=Wt){var zt=Er?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||Wt-Qt.x)[0],Mn=R([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-Bt+Fe+this.ctx.prevPageLastElemOffset)[0],Ht=Er&&(Qe>at||Qe<Re)&&_.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tr,qt,null).clip().discardPath()),this.pdf.text(zt,Mn.x,Mn.y,{angle:U.angle,align:H,renderingMode:U.renderingMode}),Ht&&this.pdf.restoreGraphicsState()}}else Qt.y<St&&(this.ctx.prevPageLastElemOffset+=St-Qt.y);U.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=ue)}else U.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*U.scale),ue=this.lineWidth,this.lineWidth=ue*U.scale),this.pdf.text(U.text,le.x+this.posX,le.y+this.posY,{angle:U.angle,align:H,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=ue)},me=function(U,H,se,ve){se=se||0,ve=ve||0,this.pdf.internal.out(r(U+se)+" "+n(H+ve)+" l")},re=function(U,H,se){return this.pdf.lines(U,H,se,null,null)},q=function(U,H,se,ve,ne,le,je,pe){this.pdf.internal.out([t(a(se+U)),t(i(ve+H)),t(a(ne+U)),t(i(le+H)),t(a(je+U)),t(i(pe+H)),"c"].join(" "))},ie=function(U,H,se,ve){for(var ne=2*Math.PI,le=Math.PI/2;H>se;)H-=ne;var je=Math.abs(se-H);je<ne&&ve&&(je=ne-je);for(var pe=[],Te=ve?-1:1,ke=H;je>1e-5;){var ue=ke+Te*Math.min(je,le);pe.push(oe.call(this,U,ke,ue)),je-=Math.abs(ue-ke),ke=ue}return pe},oe=function(U,H,se){var ve=(se-H)/2,ne=U*Math.cos(ve),le=U*Math.sin(ve),je=ne,pe=-le,Te=je*je+pe*pe,ke=Te+je*ne+pe*le,ue=4/3*(Math.sqrt(2*Te*ke)-ke)/(je*le-pe*ne),Le=je-ue*pe,$e=pe+ue*je,Be=Le,ae=-$e,nt=ve+H,at=Math.cos(nt),Re=Math.sin(nt);return{x1:U*Math.cos(H),y1:U*Math.sin(H),x2:Le*at-$e*Re,y2:Le*Re+$e*at,x3:Be*at-ae*Re,y3:Be*Re+ae*at,x4:U*Math.cos(se),y4:U*Math.sin(se)}},de=function(U){return 180*U/Math.PI},ee=function(U,H,se,ve,ne,le){var je=U+.5*(se-U),pe=H+.5*(ve-H),Te=ne+.5*(se-ne),ke=le+.5*(ve-le),ue=Math.min(U,ne,je,Te),Le=Math.max(U,ne,je,Te),$e=Math.min(H,le,pe,ke),Be=Math.max(H,le,pe,ke);return new f(ue,$e,Le-ue,Be-$e)},Ae=function(U,H,se,ve,ne,le,je,pe){var Te,ke,ue,Le,$e,Be,ae,nt,at,Re,Qe,Fe,et,St,qt=se-U,Wt=ve-H,tr=ne-se,Bt=le-ve,lr=je-ne,Qt=pe-le;for(ke=0;ke<41;ke++)at=(ae=(ue=U+(Te=ke/40)*qt)+Te*(($e=se+Te*tr)-ue))+Te*($e+Te*(ne+Te*lr-$e)-ae),Re=(nt=(Le=H+Te*Wt)+Te*((Be=ve+Te*Bt)-Le))+Te*(Be+Te*(le+Te*Qt-Be)-nt),ke==0?(Qe=at,Fe=Re,et=at,St=Re):(Qe=Math.min(Qe,at),Fe=Math.min(Fe,Re),et=Math.max(et,at),St=Math.max(St,Re));return new f(Math.round(Qe),Math.round(Fe),Math.round(et-Qe),Math.round(St-Fe))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,H,se=(U=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:H}));this.prevLineDash!==se&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=se)}}})(br.API),function(e){var t=function(i){var c,f,m,p,x,y,S,N,j,_;for(f=[],m=0,p=(i+=c="\0\0\0\0".slice(i.length%4||4)).length;p>m;m+=4)(x=(i.charCodeAt(m)<<24)+(i.charCodeAt(m+1)<<16)+(i.charCodeAt(m+2)<<8)+i.charCodeAt(m+3))!==0?(y=(x=((x=((x=((x=(x-(_=x%85))/85)-(j=x%85))/85)-(N=x%85))/85)-(S=x%85))/85)%85,f.push(y+33,S+33,N+33,j+33,_+33)):f.push(122);return function(T,I){for(var R=I;R>0;R--)T.pop()}(f,c.length),String.fromCharCode.apply(String,f)+"~>"},r=function(i){var c,f,m,p,x,y=String,S="length",N=255,j="charCodeAt",_="slice",T="replace";for(i[_](-2),i=i[_](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),m=[],p=0,x=(i+=c="uuuuu"[_](i[S]%5||5))[S];x>p;p+=5)f=52200625*(i[j](p)-33)+614125*(i[j](p+1)-33)+7225*(i[j](p+2)-33)+85*(i[j](p+3)-33)+(i[j](p+4)-33),m.push(N&f>>24,N&f>>16,N&f>>8,N&f);return function(I,R){for(var F=R;F>0;F--)I.pop()}(m,c[S]),y.fromCharCode.apply(y,m)},n=function(i){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),c.test(i)===!1)return"";for(var f="",m=0;m<i.length;m+=2)f+=String.fromCharCode("0x"+(i[m]+i[m+1]));return f},a=function(i){for(var c=new Uint8Array(i.length),f=i.length;f--;)c[f]=i.charCodeAt(f);return i=(c=Eb(c)).reduce(function(m,p){return m+String.fromCharCode(p)},"")};e.processDataByFilters=function(i,c){var f=0,m=i||"",p=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":m=r(m),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=t(m),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=n(m),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=m.split("").map(function(x){return("0"+x.charCodeAt().toString(16)).slice(-2)}).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=a(m),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:m,reverseChain:p.reverse().join(" ")}}}(br.API),function(e){e.loadFile=function(t,r,n){return function(a,i,c){i=i!==!1,c=typeof c=="function"?c:function(){};var f=void 0;try{f=function(m,p,x){var y=new XMLHttpRequest,S=0,N=function(j){var _=j.length,T=[],I=String.fromCharCode;for(S=0;S<_;S+=1)T.push(I(255&j.charCodeAt(S)));return T.join("")};if(y.open("GET",m,!p),y.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(y.onload=function(){y.status===200?x(N(this.responseText)):x(void 0)}),y.send(null),p&&y.status===200)return N(y.responseText)}(a,i,c)}catch{}return f}(t,r,n)},e.loadImageFile=e.loadFile}(br.API),function(e){function t(){return(Dr.html2canvas?Promise.resolve(Dr.html2canvas):bb(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function r(){return(Dr.DOMPurify?Promise.resolve(Dr.DOMPurify):bb(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var n=function(c){var f=Zn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var m=document.createElement(c);for(var p in f.className&&(m.className=f.className),f.innerHTML&&f.dompurify&&(m.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)m.style[p]=f.style[p];return m},i=function c(f){var m=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),p=c.convert(Promise.resolve(),m);return p=(p=p.setProgress(1,c,1,[c])).set(f)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(c,f){return c.__proto__=f||i.prototype,c},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(c,f){return this.then(function(){switch(f=f||function(m){switch(n(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(c)){case"string":return this.then(r).then(function(m){return this.set({src:a("div",{innerHTML:c,dompurify:m})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},i.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=function m(p,x){for(var y=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),S=p.firstChild;S;S=S.nextSibling)x!==!0&&S.nodeType===1&&S.nodeName==="SCRIPT"||y.appendChild(m(S,x));return p.nodeType===1&&(p.nodeName==="CANVAS"?(y.width=p.width,y.height=p.height,y.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(y.value=p.value),y.addEventListener("load",function(){y.scrollTop=p.scrollTop,y.scrollLeft=p.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(f){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,f(this.prop.container,m)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(f){var m=this.opt.jsPDF,p=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=p,p)for(var S=0;S<p.length;++S){var N=p[S],j=N.src.find(function(_){return _.format==="truetype"});j&&m.addFont(j.url,N.ref.name,N.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,m.context2d.save(!0),f(this.prop.container,y)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(c,f,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},i.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},i.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},i.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(c){if(n(c)!=="object")return this;var f=Object.keys(c||{}).map(function(m){if(m in i.template.prop)return function(){this.prop[m]=c[m]};switch(m){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[m]=c[m]}}},this);return this.then(function(){return this.thenList(f)})},i.prototype.get=function(c,f){return this.then(function(){var m=c in i.template.prop?this.prop[c]:this.opt[c];return f?f(m):m})},i.prototype.setMargin=function(c){return this.then(function(){switch(n(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},i.prototype.setPageSize=function(c){function f(m,p){return Math.floor(m*p/72*96)}return this.then(function(){(c=c||br.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},i.prototype.setProgress=function(c,f,m,p){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),m!=null&&(this.progress.n=m),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(c,f,m,p){return this.setProgress(c?this.progress.val+c:null,f||null,m?this.progress.n+m:null,p?this.progress.stack.concat(p):null)},i.prototype.then=function(c,f){var m=this;return this.thenCore(c,f,function(p,x){return m.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(y){return m.updateProgress(null,p),y}).then(p,x).then(function(y){return m.updateProgress(1),y})})},i.prototype.thenCore=function(c,f,m){m=m||Promise.prototype.then,c&&(c=c.bind(this)),f&&(f=f.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),x=m.call(p,c,f);return i.convert(x,this.__proto__)},i.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},i.prototype.thenList=function(c){var f=this;return c.forEach(function(m){f=f.thenCore(m)}),f},i.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return i.convert(f,this)},i.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},i.prototype.error=function(c){return this.then(function(){throw new Error(c)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,br.getPageSize=function(c,f,m){if(Zn(c)==="object"){var p=c;c=p.orientation,f=p.unit||f,m=p.format||m}f=f||"mm",m=m||"a4",c=(""+(c||"P")).toLowerCase();var x,y=(""+m).toLowerCase(),S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+f}var N,j=0,_=0;if(S.hasOwnProperty(y))j=S[y][1]/x,_=S[y][0]/x;else try{j=m[1],_=m[0]}catch{throw new Error("Invalid format: "+m)}if(c==="p"||c==="portrait")c="p",_>j&&(N=_,_=j,j=N);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",j>_&&(N=_,_=j,j=N)}return{width:_,height:j,unit:f,k:x,orientation:c}},e.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(kb):null;var m=new i(f);return f.worker?m:m.from(c).doCallback()}}(br.API),br.API.addJS=function(e){return CS=e,this.internal.events.subscribe("postPutResources",function(){Vp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Vp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ES=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+CS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Vp!==void 0&&ES!==void 0&&this.internal.out("/Names <</JavaScript "+Vp+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var c=a[i],f=n.exec(c);if(f!=null){var m=f[1];r.internal.newObjectDeferredBegin(m,!1)}r.internal.write(c)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,x=[];for(i=0;i<p;i++){var y=r.internal.newObject();x.push(y);var S=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+S.objId+" 0 R /XYZ null null null]>> endobj")}var N=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<x.length;i++)r.internal.write("(page_"+(i+1)+")"+x[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+N+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var c={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(c),c},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var c=n.children[i];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var f=this.count=this.count_r({count:0},c);if(f>0&&this.line("/Count "+f),c.options&&c.options.pageNumber){var m=r.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+m.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var p=0;p<n.children.length;p++)this.renderItems(n.children[p])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(br.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,c,f){var m,p=this.decode.DCT_DECODE,x=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=c||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(m=function(y){for(var S,N=256*y.charCodeAt(4)+y.charCodeAt(5),j=y.length,_={width:0,height:0,numcomponents:1},T=4;T<j;T+=2){if(T+=N,t.indexOf(y.charCodeAt(T+1))!==-1){S=256*y.charCodeAt(T+5)+y.charCodeAt(T+6),_={width:256*y.charCodeAt(T+7)+y.charCodeAt(T+8),height:S,numcomponents:y.charCodeAt(T+9)};break}N=256*y.charCodeAt(T+2)+y.charCodeAt(T+3)}return _}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:f=this.color_spaces.DEVICE_GRAY;break;case 4:f=this.color_spaces.DEVICE_CMYK;break;case 3:f=this.color_spaces.DEVICE_RGB}x={data:r,width:m.width,height:m.height,colorSpace:f,bitsPerComponent:8,filter:p,index:n,alias:a}}return x}}(br.API);var sh,Gp,_S,jS,OS,hF=function(){var e,t,r;function n(i){var c,f,m,p,x,y,S,N,j,_,T,I,R,F;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(c=this.readUInt32(),j=(function(){var G,Y;for(Y=[],G=0;G<4;++G)Y.push(String.fromCharCode(this.data[this.pos++]));return Y}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(c);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},x=this.readUInt16(),p=this.readUInt16()||100,y.delay=1e3*x/p,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(j==="fdAT"&&(this.pos+=4,c-=4),i=(y!=null?y.data:void 0)||this.imgData,I=0;0<=c?I<c:I>c;0<=c?++I:--I)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(m=this.palette.length/3,this.transparency.indexed=this.read(c),this.transparency.indexed.length>m)throw new Error("More transparent colors than palette size");if((_=m-this.transparency.indexed.length)>0)for(R=0;0<=_?R<_:R>_;0<=_?++R:--R)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;case"tEXt":S=(T=this.read(c)).indexOf(0),N=String.fromCharCode.apply(String,T.slice(0,S)),this.text[N]=String.fromCharCode.apply(String,T.slice(S+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(F=this.colorType)===4||F===6,f=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*f,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=c}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var c,f;for(f=[],c=0;0<=i?c<i:c>i;0<=i?++c:--c)f.push(this.data[this.pos++]);return f},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var c=this.pixelBitlength/8,f=new Uint8Array(this.width*this.height*c),m=0,p=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function x(y,S,N,j){var _,T,I,R,F,G,Y,J,V,$,W,Ne,Z,Q,me,re,q,ie,oe,de,ee,Ae=Math.ceil((p.width-y)/N),ce=Math.ceil((p.height-S)/j),U=p.width==Ae&&p.height==ce;for(Q=c*Ae,Ne=U?f:new Uint8Array(Q*ce),G=i.length,Z=0,T=0;Z<ce&&m<G;){switch(i[m++]){case 0:for(R=q=0;q<Q;R=q+=1)Ne[T++]=i[m++];break;case 1:for(R=ie=0;ie<Q;R=ie+=1)_=i[m++],F=R<c?0:Ne[T-c],Ne[T++]=(_+F)%256;break;case 2:for(R=oe=0;oe<Q;R=oe+=1)_=i[m++],I=(R-R%c)/c,me=Z&&Ne[(Z-1)*Q+I*c+R%c],Ne[T++]=(me+_)%256;break;case 3:for(R=de=0;de<Q;R=de+=1)_=i[m++],I=(R-R%c)/c,F=R<c?0:Ne[T-c],me=Z&&Ne[(Z-1)*Q+I*c+R%c],Ne[T++]=(_+Math.floor((F+me)/2))%256;break;case 4:for(R=ee=0;ee<Q;R=ee+=1)_=i[m++],I=(R-R%c)/c,F=R<c?0:Ne[T-c],Z===0?me=re=0:(me=Ne[(Z-1)*Q+I*c+R%c],re=I&&Ne[(Z-1)*Q+(I-1)*c+R%c]),Y=F+me-re,J=Math.abs(Y-F),$=Math.abs(Y-me),W=Math.abs(Y-re),V=J<=$&&J<=W?F:$<=W?me:re,Ne[T++]=(_+V)%256;break;default:throw new Error("Invalid filter algorithm: "+i[m-1])}if(!U){var H=((S+Z*j)*p.width+y)*c,se=Z*Q;for(R=0;R<Ae;R+=1){for(var ve=0;ve<c;ve+=1)f[H++]=Ne[se++];H+=(N-1)*c}}Z++}}return i=GB(i),p.interlaceMethod==1?(x(0,0,8,8),x(4,0,8,8),x(0,4,4,8),x(2,0,4,4),x(0,2,2,4),x(1,0,2,2),x(0,1,1,2)):x(0,0,1,1),f},n.prototype.decodePalette=function(){var i,c,f,m,p,x,y,S,N;for(f=this.palette,x=this.transparency.indexed||[],p=new Uint8Array((x.length||0)+f.length),m=0,i=0,c=y=0,S=f.length;y<S;c=y+=3)p[m++]=f[c],p[m++]=f[c+1],p[m++]=f[c+2],p[m++]=(N=x[i++])!=null?N:255;return p},n.prototype.copyToImageData=function(i,c){var f,m,p,x,y,S,N,j,_,T,I;if(m=this.colors,_=null,f=this.hasAlphaChannel,this.palette.length&&(_=(I=this._decodedPalette)!=null?I:this._decodedPalette=this.decodePalette(),m=4,f=!0),j=(p=i.data||i).length,y=_||c,x=S=0,m===1)for(;x<j;)N=_?4*c[x/4]:S,T=y[N++],p[x++]=T,p[x++]=T,p[x++]=T,p[x++]=f?y[N++]:255,S=N;else for(;x<j;)N=_?4*c[x/4]:S,p[x++]=y[N++],p[x++]=y[N++],p[x++]=y[N++],p[x++]=f?y[N++]:255,S=N},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Dr)==="[object Window]"){try{t=Dr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var c;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(c=new Image).src=t.toDataURL(),c;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var c,f,m,p,x,y,S,N;if(this.animation){for(N=[],f=x=0,y=(S=this.animation.frames).length;x<y;f=++x)c=S[f],m=i.createImageData(c.width,c.height),p=this.decodePixels(new Uint8Array(c.data)),this.copyToImageData(m,p),c.imageData=m,N.push(c.image=e(m));return N}},n.prototype.renderFrame=function(i,c){var f,m,p;return f=(m=this.animation.frames)[c],p=m[c-1],c===0&&i.clearRect(0,0,this.width,this.height),(p!=null?p.disposeOp:void 0)===1?i.clearRect(p.xOffset,p.yOffset,p.width,p.height):(p!=null?p.disposeOp:void 0)===2&&i.putImageData(p.imageData,p.xOffset,p.yOffset),f.blendOp===0&&i.clearRect(f.xOffset,f.yOffset,f.width,f.height),i.drawImage(f.image,f.xOffset,f.yOffset)},n.prototype.animate=function(i){var c,f,m,p,x,y,S=this;return f=0,y=this.animation,p=y.numFrames,m=y.frames,x=y.numPlays,(c=function(){var N,j;if(N=f++%p,j=m[N],S.renderFrame(i,N),p>1&&f/p<x)return S.animation._timeout=setTimeout(c,j.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var c,f;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,c=i.getContext("2d"),this.animation?(this.decodeFrames(c),this.animate(c)):(f=c.createImageData(this.width,this.height),this.copyToImageData(f,this.decodePixels()),c.putImageData(f,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function pF(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,c=1<<(7&a)+1;e[t++],e[t++];var f=null,m=null;i&&(f=t,m=c,t+=3*c);var p=!0,x=[],y=0,S=null,N=0,j=null;for(this.width=r,this.height=n;p&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,j=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((Z=e[t++])>=0))throw Error("Invalid block size");if(Z===0)break;t+=Z}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var _=e[t++];y=e[t++]|e[t++]<<8,S=e[t++],!(1&_)&&(S=null),N=_>>2&7,t++;break;case 254:for(;;){if(!((Z=e[t++])>=0))throw Error("Invalid block size");if(Z===0)break;t+=Z}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var T=e[t++]|e[t++]<<8,I=e[t++]|e[t++]<<8,R=e[t++]|e[t++]<<8,F=e[t++]|e[t++]<<8,G=e[t++],Y=G>>6&1,J=1<<(7&G)+1,V=f,$=m,W=!1;G>>7&&(W=!0,V=t,$=J,t+=3*J);var Ne=t;for(t++;;){var Z;if(!((Z=e[t++])>=0))throw Error("Invalid block size");if(Z===0)break;t+=Z}x.push({x:T,y:I,width:R,height:F,has_local_palette:W,palette_offset:V,palette_size:$,data_offset:Ne,data_length:t-Ne,transparent_index:S,interlaced:!!Y,delay:y,disposal:N});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return x.length},this.loopCount=function(){return j},this.frameInfo=function(Q){if(Q<0||Q>=x.length)throw new Error("Frame index out of range.");return x[Q]},this.decodeAndBlitFrameBGRA=function(Q,me){var re=this.frameInfo(Q),q=re.width*re.height,ie=new Uint8Array(q);TS(e,re.data_offset,ie,q);var oe=re.palette_offset,de=re.transparent_index;de===null&&(de=256);var ee=re.width,Ae=r-ee,ce=ee,U=4*(re.y*r+re.x),H=4*((re.y+re.height)*r+re.x),se=U,ve=4*Ae;re.interlaced===!0&&(ve+=4*r*7);for(var ne=8,le=0,je=ie.length;le<je;++le){var pe=ie[le];if(ce===0&&(ce=ee,(se+=ve)>=H&&(ve=4*Ae+4*r*(ne-1),se=U+(ee+Ae)*(ne<<1),ne>>=1)),pe===de)se+=4;else{var Te=e[oe+3*pe],ke=e[oe+3*pe+1],ue=e[oe+3*pe+2];me[se++]=ue,me[se++]=ke,me[se++]=Te,me[se++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(Q,me){var re=this.frameInfo(Q),q=re.width*re.height,ie=new Uint8Array(q);TS(e,re.data_offset,ie,q);var oe=re.palette_offset,de=re.transparent_index;de===null&&(de=256);var ee=re.width,Ae=r-ee,ce=ee,U=4*(re.y*r+re.x),H=4*((re.y+re.height)*r+re.x),se=U,ve=4*Ae;re.interlaced===!0&&(ve+=4*r*7);for(var ne=8,le=0,je=ie.length;le<je;++le){var pe=ie[le];if(ce===0&&(ce=ee,(se+=ve)>=H&&(ve=4*Ae+4*r*(ne-1),se=U+(ee+Ae)*(ne<<1),ne>>=1)),pe===de)se+=4;else{var Te=e[oe+3*pe],ke=e[oe+3*pe+1],ue=e[oe+3*pe+2];me[se++]=Te,me[se++]=ke,me[se++]=ue,me[se++]=255}--ce}}}function TS(e,t,r,n){for(var a=e[t++],i=1<<a,c=i+1,f=c+1,m=a+1,p=(1<<m)-1,x=0,y=0,S=0,N=e[t++],j=new Int32Array(4096),_=null;;){for(;x<16&&N!==0;)y|=e[t++]<<x,x+=8,N===1?N=e[t++]:--N;if(x<m)break;var T=y&p;if(y>>=m,x-=m,T!==i){if(T===c)break;for(var I=T<f?T:_,R=0,F=I;F>i;)F=j[F]>>8,++R;var G=F;if(S+R+(I!==T?1:0)>n)return void pa.log("Warning, gif stream longer than expected.");r[S++]=G;var Y=S+=R;for(I!==T&&(r[S++]=G),F=I;R--;)F=j[F],r[--Y]=255&F,F>>=8;_!==null&&f<4096&&(j[f++]=_<<8|G,f>=p+1&&m<12&&(++m,p=p<<1|1)),_=T}else f=c+1,p=(1<<(m=a+1))-1,_=null}return S!==n&&pa.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function yv(e){var t,r,n,a,i,c=Math.floor,f=new Array(64),m=new Array(64),p=new Array(64),x=new Array(64),y=new Array(65535),S=new Array(65535),N=new Array(64),j=new Array(64),_=[],T=0,I=7,R=new Array(64),F=new Array(64),G=new Array(64),Y=new Array(256),J=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],$=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],Ne=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],me=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(U,H){for(var se=0,ve=0,ne=new Array,le=1;le<=16;le++){for(var je=1;je<=U[le];je++)ne[H[ve]]=[],ne[H[ve]][0]=se,ne[H[ve]][1]=le,ve++,se++;se*=2}return ne}function oe(U){for(var H=U[0],se=U[1]-1;se>=0;)H&1<<se&&(T|=1<<I),se--,--I<0&&(T==255?(de(255),de(0)):de(T),I=7,T=0)}function de(U){_.push(U)}function ee(U){de(U>>8&255),de(255&U)}function Ae(U,H,se,ve,ne){for(var le,je=ne[0],pe=ne[240],Te=function(Re,Qe){var Fe,et,St,qt,Wt,tr,Bt,lr,Qt,Er,zt=0;for(Qt=0;Qt<8;++Qt){Fe=Re[zt],et=Re[zt+1],St=Re[zt+2],qt=Re[zt+3],Wt=Re[zt+4],tr=Re[zt+5],Bt=Re[zt+6];var Mn=Fe+(lr=Re[zt+7]),Ht=Fe-lr,Ct=et+Bt,rr=et-Bt,Jt=St+tr,Kr=St-tr,Ur=qt+Wt,Ri=qt-Wt,pn=Mn+Ur,Ar=Mn-Ur,sa=Ct+Jt,sn=Ct-Jt;Re[zt]=pn+sa,Re[zt+4]=pn-sa;var xr=.707106781*(sn+Ar);Re[zt+2]=Ar+xr,Re[zt+6]=Ar-xr;var Nr=.382683433*((pn=Ri+Kr)-(sn=rr+Ht)),Ji=.5411961*pn+Nr,Gr=1.306562965*sn+Nr,oa=.707106781*(sa=Kr+rr),la=Ht+oa,or=Ht-oa;Re[zt+5]=or+Ji,Re[zt+3]=or-Ji,Re[zt+1]=la+Gr,Re[zt+7]=la-Gr,zt+=8}for(zt=0,Qt=0;Qt<8;++Qt){Fe=Re[zt],et=Re[zt+8],St=Re[zt+16],qt=Re[zt+24],Wt=Re[zt+32],tr=Re[zt+40],Bt=Re[zt+48];var Za=Fe+(lr=Re[zt+56]),Jn=Fe-lr,xa=et+Bt,Wr=et-Bt,_e=St+tr,Ot=St-tr,tt=qt+Wt,bt=qt-Wt,Ft=Za+tt,Pe=Za-tt,mt=xa+_e,xt=xa-_e;Re[zt]=Ft+mt,Re[zt+32]=Ft-mt;var Tt=.707106781*(xt+Pe);Re[zt+16]=Pe+Tt,Re[zt+48]=Pe-Tt;var ht=.382683433*((Ft=bt+Ot)-(xt=Wr+Jn)),wt=.5411961*Ft+ht,Yt=1.306562965*xt+ht,Vt=.707106781*(mt=Ot+Wr),Xt=Jn+Vt,er=Jn-Vt;Re[zt+40]=er+wt,Re[zt+24]=er-wt,Re[zt+8]=Xt+Yt,Re[zt+56]=Xt-Yt,zt++}for(Qt=0;Qt<64;++Qt)Er=Re[Qt]*Qe[Qt],N[Qt]=Er>0?Er+.5|0:Er-.5|0;return N}(U,H),ke=0;ke<64;++ke)j[V[ke]]=Te[ke];var ue=j[0]-se;se=j[0],ue==0?oe(ve[0]):(oe(ve[S[le=32767+ue]]),oe(y[le]));for(var Le=63;Le>0&&j[Le]==0;)Le--;if(Le==0)return oe(je),se;for(var $e,Be=1;Be<=Le;){for(var ae=Be;j[Be]==0&&Be<=Le;)++Be;var nt=Be-ae;if(nt>=16){$e=nt>>4;for(var at=1;at<=$e;++at)oe(pe);nt&=15}le=32767+j[Be],oe(ne[(nt<<4)+S[le]]),oe(y[le]),Be++}return Le!=63&&oe(je),se}function ce(U){U=Math.min(Math.max(U,1),100),i!=U&&(function(H){for(var se=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ve=0;ve<64;ve++){var ne=c((se[ve]*H+50)/100);ne=Math.min(Math.max(ne,1),255),f[V[ve]]=ne}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],je=0;je<64;je++){var pe=c((le[je]*H+50)/100);pe=Math.min(Math.max(pe,1),255),m[V[je]]=pe}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,ue=0;ue<8;ue++)for(var Le=0;Le<8;Le++)p[ke]=1/(f[V[ke]]*Te[ue]*Te[Le]*8),x[ke]=1/(m[V[ke]]*Te[ue]*Te[Le]*8),ke++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),i=U)}this.encode=function(U,H){H&&ce(H),_=new Array,T=0,I=7,ee(65496),ee(65504),ee(16),de(74),de(70),de(73),de(70),de(0),de(1),de(1),de(0),ee(1),ee(1),de(0),de(0),function(){ee(65499),ee(132),de(0);for(var et=0;et<64;et++)de(f[et]);de(1);for(var St=0;St<64;St++)de(m[St])}(),function(et,St){ee(65472),ee(17),de(8),ee(St),ee(et),de(3),de(1),de(17),de(0),de(2),de(17),de(1),de(3),de(17),de(1)}(U.width,U.height),function(){ee(65476),ee(418),de(0);for(var et=0;et<16;et++)de($[et+1]);for(var St=0;St<=11;St++)de(W[St]);de(16);for(var qt=0;qt<16;qt++)de(Ne[qt+1]);for(var Wt=0;Wt<=161;Wt++)de(Z[Wt]);de(1);for(var tr=0;tr<16;tr++)de(Q[tr+1]);for(var Bt=0;Bt<=11;Bt++)de(me[Bt]);de(17);for(var lr=0;lr<16;lr++)de(re[lr+1]);for(var Qt=0;Qt<=161;Qt++)de(q[Qt])}(),ee(65498),ee(12),de(3),de(1),de(0),de(2),de(17),de(3),de(17),de(0),de(63),de(0);var se=0,ve=0,ne=0;T=0,I=7,this.encode.displayName="_encode_";for(var le,je,pe,Te,ke,ue,Le,$e,Be,ae=U.data,nt=U.width,at=U.height,Re=4*nt,Qe=0;Qe<at;){for(le=0;le<Re;){for(ke=Re*Qe+le,Le=-1,$e=0,Be=0;Be<64;Be++)ue=ke+($e=Be>>3)*Re+(Le=4*(7&Be)),Qe+$e>=at&&(ue-=Re*(Qe+1+$e-at)),le+Le>=Re&&(ue-=le+Le-Re+4),je=ae[ue++],pe=ae[ue++],Te=ae[ue++],R[Be]=(J[je]+J[pe+256>>0]+J[Te+512>>0]>>16)-128,F[Be]=(J[je+768>>0]+J[pe+1024>>0]+J[Te+1280>>0]>>16)-128,G[Be]=(J[je+1280>>0]+J[pe+1536>>0]+J[Te+1792>>0]>>16)-128;se=Ae(R,p,se,t,n),ve=Ae(F,x,ve,r,a),ne=Ae(G,x,ne,r,a),le+=32}Qe+=8}if(I>=0){var Fe=[];Fe[1]=I+1,Fe[0]=(1<<I+1)-1,oe(Fe)}return ee(65497),new Uint8Array(_)},e=e||50,function(){for(var U=String.fromCharCode,H=0;H<256;H++)Y[H]=U(H)}(),t=ie($,W),r=ie(Q,me),n=ie(Ne,Z),a=ie(re,q),function(){for(var U=1,H=2,se=1;se<=15;se++){for(var ve=U;ve<H;ve++)S[32767+ve]=se,y[32767+ve]=[],y[32767+ve][1]=se,y[32767+ve][0]=ve;for(var ne=-(H-1);ne<=-U;ne++)S[32767+ne]=se,y[32767+ne]=[],y[32767+ne][1]=se,y[32767+ne][0]=H-1+ne;U<<=1,H<<=1}}(),function(){for(var U=0;U<256;U++)J[U]=19595*U,J[U+256>>0]=38470*U,J[U+512>>0]=7471*U+32768,J[U+768>>0]=-11059*U,J[U+1024>>0]=-21709*U,J[U+1280>>0]=32768*U+8421375,J[U+1536>>0]=-27439*U,J[U+1792>>0]=-5329*U}(),ce(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function kS(e){function t($){if(!$)throw Error("assert :P")}function r($,W,Ne){for(var Z=0;4>Z;Z++)if($[W+Z]!=Ne.charCodeAt(Z))return!0;return!1}function n($,W,Ne,Z,Q){for(var me=0;me<Q;me++)$[W+me]=Ne[Z+me]}function a($,W,Ne,Z){for(var Q=0;Q<Z;Q++)$[W+Q]=Ne}function i($){return new Int32Array($)}function c($,W){for(var Ne=[],Z=0;Z<$;Z++)Ne.push(new W);return Ne}function f($,W){var Ne=[];return function Z(Q,me,re){for(var q=re[me],ie=0;ie<q&&(Q.push(re.length>me+1?[]:new W),!(re.length<me+1));ie++)Z(Q[ie],me+1,re)}(Ne,0,$),Ne}var m=function(){var $=this;function W(E,k){for(var z=1<<k-1>>>0;E&z;)z>>>=1;return z?(E&z-1)+z:E}function Ne(E,k,z,X,ge){t(!(X%z));do E[k+(X-=z)]=ge;while(0<X)}function Z(E,k,z,X,ge){if(t(2328>=ge),512>=ge)var ye=i(512);else if((ye=i(ge))==null)return 0;return function(be,Se,Ce,Me,Ve,st){var it,Ke,kt=Se,vt=1<<Ce,Ge=i(16),Ye=i(16);for(t(Ve!=0),t(Me!=null),t(be!=null),t(0<Ce),Ke=0;Ke<Ve;++Ke){if(15<Me[Ke])return 0;++Ge[Me[Ke]]}if(Ge[0]==Ve)return 0;for(Ye[1]=0,it=1;15>it;++it){if(Ge[it]>1<<it)return 0;Ye[it+1]=Ye[it]+Ge[it]}for(Ke=0;Ke<Ve;++Ke)it=Me[Ke],0<Me[Ke]&&(st[Ye[it]++]=Ke);if(Ye[15]==1)return(Me=new Q).g=0,Me.value=st[0],Ne(be,kt,1,vt,Me),vt;var _t,Rt=-1,Et=vt-1,Zt=0,Gt=1,yr=1,$t=1<<Ce;for(Ke=0,it=1,Ve=2;it<=Ce;++it,Ve<<=1){if(Gt+=yr<<=1,0>(yr-=Ge[it]))return 0;for(;0<Ge[it];--Ge[it])(Me=new Q).g=it,Me.value=st[Ke++],Ne(be,kt+Zt,Ve,$t,Me),Zt=W(Zt,it)}for(it=Ce+1,Ve=2;15>=it;++it,Ve<<=1){if(Gt+=yr<<=1,0>(yr-=Ge[it]))return 0;for(;0<Ge[it];--Ge[it]){if(Me=new Q,(Zt&Et)!=Rt){for(kt+=$t,_t=1<<(Rt=it)-Ce;15>Rt&&!(0>=(_t-=Ge[Rt]));)++Rt,_t<<=1;vt+=$t=1<<(_t=Rt-Ce),be[Se+(Rt=Zt&Et)].g=_t+Ce,be[Se+Rt].value=kt-Se-Rt}Me.g=it-Ce,Me.value=st[Ke++],Ne(be,kt+(Zt>>Ce),Ve,$t,Me),Zt=W(Zt,it)}}return Gt!=2*Ye[15]-1?0:vt}(E,k,z,X,ge,ye)}function Q(){this.value=this.g=0}function me(){this.value=this.g=0}function re(){this.G=c(5,Q),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Bn,me)}function q(E,k,z,X){t(E!=null),t(k!=null),t(2147483648>X),E.Ca=254,E.I=0,E.b=-8,E.Ka=0,E.oa=k,E.pa=z,E.Jd=k,E.Yc=z+X,E.Zc=4<=X?z+X-4+1:z,le(E)}function ie(E,k){for(var z=0;0<k--;)z|=pe(E,128)<<k;return z}function oe(E,k){var z=ie(E,k);return je(E)?-z:z}function de(E,k,z,X){var ge,ye=0;for(t(E!=null),t(k!=null),t(4294967288>X),E.Sb=X,E.Ra=0,E.u=0,E.h=0,4<X&&(X=4),ge=0;ge<X;++ge)ye+=k[z+ge]<<8*ge;E.Ra=ye,E.bb=X,E.oa=k,E.pa=z}function ee(E){for(;8<=E.u&&E.bb<E.Sb;)E.Ra>>>=8,E.Ra+=E.oa[E.pa+E.bb]<<Os-8>>>0,++E.bb,E.u-=8;se(E)&&(E.h=1,E.u=0)}function Ae(E,k){if(t(0<=k),!E.h&&k<=fo){var z=H(E)&_l[k];return E.u+=k,ee(E),z}return E.h=1,E.u=0}function ce(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(E){return E.Ra>>>(E.u&Os-1)>>>0}function se(E){return t(E.bb<=E.Sb),E.h||E.bb==E.Sb&&E.u>Os}function ve(E,k){E.u=k,E.h=se(E)}function ne(E){E.u>=$r&&(t(E.u>=$r),ee(E))}function le(E){t(E!=null&&E.oa!=null),E.pa<E.Zc?(E.I=(E.oa[E.pa++]|E.I<<8)>>>0,E.b+=8):(t(E!=null&&E.oa!=null),E.pa<E.Yc?(E.b+=8,E.I=E.oa[E.pa++]|E.I<<8):E.Ka?E.b=0:(E.I<<=8,E.b+=8,E.Ka=1))}function je(E){return ie(E,1)}function pe(E,k){var z=E.Ca;0>E.b&&le(E);var X=E.b,ge=z*k>>>8,ye=(E.I>>>X>ge)+0;for(ye?(z-=ge,E.I-=ge+1<<X>>>0):z=ge+1,X=z,ge=0;256<=X;)ge+=8,X>>=8;return X=7^ge+ti[X],E.b-=X,E.Ca=(z<<X)-1,ye}function Te(E,k,z){E[k+0]=z>>24&255,E[k+1]=z>>16&255,E[k+2]=z>>8&255,E[k+3]=z>>0&255}function ke(E,k){return E[k+0]<<0|E[k+1]<<8}function ue(E,k){return ke(E,k)|E[k+2]<<16}function Le(E,k){return ke(E,k)|ke(E,k+2)<<16}function $e(E,k){var z=1<<k;return t(E!=null),t(0<k),E.X=i(z),E.X==null?0:(E.Mb=32-k,E.Xa=k,1)}function Be(E,k){t(E!=null),t(k!=null),t(E.Xa==k.Xa),n(k.X,0,E.X,0,1<<k.Xa)}function ae(){this.X=[],this.Xa=this.Mb=0}function nt(E,k,z,X){t(z!=null),t(X!=null);var ge=z[0],ye=X[0];return ge==0&&(ge=(E*ye+k/2)/k),ye==0&&(ye=(k*ge+E/2)/E),0>=ge||0>=ye?0:(z[0]=ge,X[0]=ye,1)}function at(E,k){return E+(1<<k)-1>>>k}function Re(E,k){return((4278255360&E)+(4278255360&k)>>>0&4278255360)+((16711935&E)+(16711935&k)>>>0&16711935)>>>0}function Qe(E,k){$[k]=function(z,X,ge,ye,be,Se,Ce){var Me;for(Me=0;Me<be;++Me){var Ve=$[E](Se[Ce+Me-1],ge,ye+Me);Se[Ce+Me]=Re(z[X+Me],Ve)}}}function Fe(){this.ud=this.hd=this.jd=0}function et(E,k){return((4278124286&(E^k))>>>1)+(E&k)>>>0}function St(E){return 0<=E&&256>E?E:0>E?0:255<E?255:void 0}function qt(E,k){return St(E+(E-k+.5>>1))}function Wt(E,k,z){return Math.abs(k-z)-Math.abs(E-z)}function tr(E,k,z,X,ge,ye,be){for(X=ye[be-1],z=0;z<ge;++z)ye[be+z]=X=Re(E[k+z],X)}function Bt(E,k,z,X,ge){var ye;for(ye=0;ye<z;++ye){var be=E[k+ye],Se=be>>8&255,Ce=16711935&(Ce=(Ce=16711935&be)+((Se<<16)+Se));X[ge+ye]=(4278255360&be)+Ce>>>0}}function lr(E,k){k.jd=E>>0&255,k.hd=E>>8&255,k.ud=E>>16&255}function Qt(E,k,z,X,ge,ye){var be;for(be=0;be<X;++be){var Se=k[z+be],Ce=Se>>>8,Me=Se,Ve=255&(Ve=(Ve=Se>>>16)+((E.jd<<24>>24)*(Ce<<24>>24)>>>5));Me=255&(Me=(Me=Me+((E.hd<<24>>24)*(Ce<<24>>24)>>>5))+((E.ud<<24>>24)*(Ve<<24>>24)>>>5)),ge[ye+be]=(4278255360&Se)+(Ve<<16)+Me}}function Er(E,k,z,X,ge){$[k]=function(ye,be,Se,Ce,Me,Ve,st,it,Ke){for(Ce=st;Ce<it;++Ce)for(st=0;st<Ke;++st)Me[Ve++]=ge(Se[X(ye[be++])])},$[E]=function(ye,be,Se,Ce,Me,Ve,st){var it=8>>ye.b,Ke=ye.Ea,kt=ye.K[0],vt=ye.w;if(8>it)for(ye=(1<<ye.b)-1,vt=(1<<it)-1;be<Se;++be){var Ge,Ye=0;for(Ge=0;Ge<Ke;++Ge)Ge&ye||(Ye=X(Ce[Me++])),Ve[st++]=ge(kt[Ye&vt]),Ye>>=it}else $["VP8LMapColor"+z](Ce,Me,kt,vt,Ve,st,be,Se,Ke)}}function zt(E,k,z,X,ge){for(z=k+z;k<z;){var ye=E[k++];X[ge++]=ye>>16&255,X[ge++]=ye>>8&255,X[ge++]=ye>>0&255}}function Mn(E,k,z,X,ge){for(z=k+z;k<z;){var ye=E[k++];X[ge++]=ye>>16&255,X[ge++]=ye>>8&255,X[ge++]=ye>>0&255,X[ge++]=ye>>24&255}}function Ht(E,k,z,X,ge){for(z=k+z;k<z;){var ye=(be=E[k++])>>16&240|be>>12&15,be=be>>0&240|be>>28&15;X[ge++]=ye,X[ge++]=be}}function Ct(E,k,z,X,ge){for(z=k+z;k<z;){var ye=(be=E[k++])>>16&248|be>>13&7,be=be>>5&224|be>>3&31;X[ge++]=ye,X[ge++]=be}}function rr(E,k,z,X,ge){for(z=k+z;k<z;){var ye=E[k++];X[ge++]=ye>>0&255,X[ge++]=ye>>8&255,X[ge++]=ye>>16&255}}function Jt(E,k,z,X,ge,ye){if(ye==0)for(z=k+z;k<z;)Te(X,((ye=E[k++])[0]>>24|ye[1]>>8&65280|ye[2]<<8&16711680|ye[3]<<24)>>>0),ge+=32;else n(X,ge,E,k,z)}function Kr(E,k){$[k][0]=$[E+"0"],$[k][1]=$[E+"1"],$[k][2]=$[E+"2"],$[k][3]=$[E+"3"],$[k][4]=$[E+"4"],$[k][5]=$[E+"5"],$[k][6]=$[E+"6"],$[k][7]=$[E+"7"],$[k][8]=$[E+"8"],$[k][9]=$[E+"9"],$[k][10]=$[E+"10"],$[k][11]=$[E+"11"],$[k][12]=$[E+"12"],$[k][13]=$[E+"13"],$[k][14]=$[E+"0"],$[k][15]=$[E+"0"]}function Ur(E){return E==Pd||E==Tf||E==Mu||E==kf}function Ri(){this.eb=[],this.size=this.A=this.fb=0}function pn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ar(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ri,this.f.kb=new pn,this.sd=null}function sa(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function sn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xr(E){return alert("todo:WebPSamplerProcessPlane"),E.T}function Nr(E,k){var z=E.T,X=k.ba.f.RGBA,ge=X.eb,ye=X.fb+E.ka*X.A,be=Hi[k.ba.S],Se=E.y,Ce=E.O,Me=E.f,Ve=E.N,st=E.ea,it=E.W,Ke=k.cc,kt=k.dc,vt=k.Mc,Ge=k.Nc,Ye=E.ka,_t=E.ka+E.T,Rt=E.U,Et=Rt+1>>1;for(Ye==0?be(Se,Ce,null,null,Me,Ve,st,it,Me,Ve,st,it,ge,ye,null,null,Rt):(be(k.ec,k.fc,Se,Ce,Ke,kt,vt,Ge,Me,Ve,st,it,ge,ye-X.A,ge,ye,Rt),++z);Ye+2<_t;Ye+=2)Ke=Me,kt=Ve,vt=st,Ge=it,Ve+=E.Rc,it+=E.Rc,ye+=2*X.A,be(Se,(Ce+=2*E.fa)-E.fa,Se,Ce,Ke,kt,vt,Ge,Me,Ve,st,it,ge,ye-X.A,ge,ye,Rt);return Ce+=E.fa,E.j+_t<E.o?(n(k.ec,k.fc,Se,Ce,Rt),n(k.cc,k.dc,Me,Ve,Et),n(k.Mc,k.Nc,st,it,Et),z--):1&_t||be(Se,Ce,null,null,Me,Ve,st,it,Me,Ve,st,it,ge,ye+X.A,null,null,Rt),z}function Ji(E,k,z){var X=E.F,ge=[E.J];if(X!=null){var ye=E.U,be=k.ba.S,Se=be==Ld||be==Mu;k=k.ba.f.RGBA;var Ce=[0],Me=E.ka;Ce[0]=E.T,E.Kb&&(Me==0?--Ce[0]:(--Me,ge[0]-=E.width),E.j+E.ka+E.T==E.o&&(Ce[0]=E.o-E.j-Me));var Ve=k.eb;Me=k.fb+Me*k.A,E=Fn(X,ge[0],E.width,ye,Ce,Ve,Me+(Se?0:3),k.A),t(z==Ce),E&&Ur(be)&&rs(Ve,Me,Se,ye,Ce,k.A)}return 0}function Gr(E){var k=E.ma,z=k.ba.S,X=11>z,ge=z==as||z==ho||z==Ld||z==Du||z==12||Ur(z);if(k.memory=null,k.Ib=null,k.Jb=null,k.Nd=null,!$s(k.Oa,E,ge?11:12))return 0;if(ge&&Ur(z)&&Dt(),E.da)alert("todo:use_scaling");else{if(X){if(k.Ib=xr,E.Kb){if(z=E.U+1>>1,k.memory=i(E.U+2*z),k.memory==null)return 0;k.ec=k.memory,k.fc=0,k.cc=k.ec,k.dc=k.fc+E.U,k.Mc=k.cc,k.Nc=k.dc+z,k.Ib=Nr,Dt()}}else alert("todo:EmitYUV");ge&&(k.Jb=Ji,X&&Ze())}if(X&&!dc){for(E=0;256>E;++E)Vi[E]=89858*(E-128)+Ru>>yo,Bx[E]=-22014*(E-128)+Ru,K1[E]=-45773*(E-128),Pf[E]=113618*(E-128)+Ru>>yo;for(E=Wc;E<uc;++E)k=76283*(E-16)+Ru>>yo,Fx[E-Wc]=Ma(k,255),zx[E-Wc]=Ma(k+8>>4,15);dc=1}return 1}function oa(E){var k=E.ma,z=E.U,X=E.T;return t(!(1&E.ka)),0>=z||0>=X?0:(z=k.Ib(E,k),k.Jb!=null&&k.Jb(E,k,z),k.Dc+=z,1)}function la(E){E.ma.memory=null}function or(E,k,z,X){return Ae(E,8)!=47?0:(k[0]=Ae(E,14)+1,z[0]=Ae(E,14)+1,X[0]=Ae(E,1),Ae(E,3)!=0?0:!E.h)}function Za(E,k){if(4>E)return E+1;var z=E-2>>1;return(2+(1&E)<<z)+Ae(k,z)+1}function Jn(E,k){return 120<k?k-120:1<=(z=((z=mo[k-1])>>4)*E+(8-(15&z)))?z:1;var z}function xa(E,k,z){var X=H(z),ge=E[k+=255&X].g-8;return 0<ge&&(ve(z,z.u+8),X=H(z),k+=E[k].value,k+=X&(1<<ge)-1),ve(z,z.u+E[k].g),E[k].value}function Wr(E,k,z){return z.g+=E.g,z.value+=E.value<<k>>>0,t(8>=z.g),E.g}function _e(E,k,z){var X=E.xc;return t((k=X==0?0:E.vc[E.md*(z>>X)+(k>>X)])<E.Wb),E.Ya[k]}function Ot(E,k,z,X){var ge=E.ab,ye=E.c*k,be=E.C;k=be+k;var Se=z,Ce=X;for(X=E.Ta,z=E.Ua;0<ge--;){var Me=E.gc[ge],Ve=be,st=k,it=Se,Ke=Ce,kt=(Ce=X,Se=z,Me.Ea);switch(t(Ve<st),t(st<=Me.nc),Me.hc){case 2:d(it,Ke,(st-Ve)*kt,Ce,Se);break;case 0:var vt=Ve,Ge=st,Ye=Ce,_t=Se,Rt=($t=Me).Ea;vt==0&&(he(it,Ke,null,null,1,Ye,_t),tr(it,Ke+1,0,0,Rt-1,Ye,_t+1),Ke+=Rt,_t+=Rt,++vt);for(var Et=1<<$t.b,Zt=Et-1,Gt=at(Rt,$t.b),yr=$t.K,$t=$t.w+(vt>>$t.b)*Gt;vt<Ge;){var Cn=yr,dn=$t,xn=1;for(o(it,Ke,Ye,_t-Rt,1,Ye,_t);xn<Rt;){var zr=(xn&~Zt)+Et;zr>Rt&&(zr=Rt),(0,C[Cn[dn++]>>8&15])(it,Ke+ +xn,Ye,_t+xn-Rt,zr-xn,Ye,_t+xn),xn=zr}Ke+=Rt,_t+=Rt,++vt&Zt||($t+=Gt)}st!=Me.nc&&n(Ce,Se-kt,Ce,Se+(st-Ve-1)*kt,kt);break;case 1:for(kt=it,Ge=Ke,Rt=(it=Me.Ea)-(_t=it&~(Ye=(Ke=1<<Me.b)-1)),vt=at(it,Me.b),Et=Me.K,Me=Me.w+(Ve>>Me.b)*vt;Ve<st;){for(Zt=Et,Gt=Me,yr=new Fe,$t=Ge+_t,Cn=Ge+it;Ge<$t;)lr(Zt[Gt++],yr),D(yr,kt,Ge,Ke,Ce,Se),Ge+=Ke,Se+=Ke;Ge<Cn&&(lr(Zt[Gt++],yr),D(yr,kt,Ge,Rt,Ce,Se),Ge+=Rt,Se+=Rt),++Ve&Ye||(Me+=vt)}break;case 3:if(it==Ce&&Ke==Se&&0<Me.b){for(Ge=Ce,it=kt=Se+(st-Ve)*kt-(_t=(st-Ve)*at(Me.Ea,Me.b)),Ke=Ce,Ye=Se,vt=[],_t=(Rt=_t)-1;0<=_t;--_t)vt[_t]=Ke[Ye+_t];for(_t=Rt-1;0<=_t;--_t)Ge[it+_t]=vt[_t];h(Me,Ve,st,Ce,kt,Ce,Se)}else h(Me,Ve,st,it,Ke,Ce,Se)}Se=X,Ce=z}Ce!=z&&n(X,z,Se,Ce,ye)}function tt(E,k){var z=E.V,X=E.Ba+E.c*E.C,ge=k-E.C;if(t(k<=E.l.o),t(16>=ge),0<ge){var ye=E.l,be=E.Ta,Se=E.Ua,Ce=ye.width;if(Ot(E,ge,z,X),ge=Se=[Se],t((z=E.C)<(X=k)),t(ye.v<ye.va),X>ye.o&&(X=ye.o),z<ye.j){var Me=ye.j-z;z=ye.j,ge[0]+=Me*Ce}if(z>=X?z=0:(ge[0]+=4*ye.v,ye.ka=z-ye.j,ye.U=ye.va-ye.v,ye.T=X-z,z=1),z){if(Se=Se[0],11>(z=E.ca).S){var Ve=z.f.RGBA,st=(X=z.S,ge=ye.U,ye=ye.T,Me=Ve.eb,Ve.A),it=ye;for(Ve=Ve.fb+E.Ma*Ve.A;0<it--;){var Ke=be,kt=Se,vt=ge,Ge=Me,Ye=Ve;switch(X){case jf:B(Ke,kt,vt,Ge,Ye);break;case as:K(Ke,kt,vt,Ge,Ye);break;case Pd:K(Ke,kt,vt,Ge,Ye),rs(Ge,Ye,0,vt,1,0);break;case Of:De(Ke,kt,vt,Ge,Ye);break;case ho:Jt(Ke,kt,vt,Ge,Ye,1);break;case Tf:Jt(Ke,kt,vt,Ge,Ye,1),rs(Ge,Ye,0,vt,1,0);break;case Ld:Jt(Ke,kt,vt,Ge,Ye,0);break;case Mu:Jt(Ke,kt,vt,Ge,Ye,0),rs(Ge,Ye,1,vt,1,0);break;case Du:fe(Ke,kt,vt,Ge,Ye);break;case kf:fe(Ke,kt,vt,Ge,Ye),ln(Ge,Ye,vt,1,0);break;case ic:we(Ke,kt,vt,Ge,Ye);break;default:t(0)}Se+=Ce,Ve+=st}E.Ma+=ye}else alert("todo:EmitRescaledRowsYUVA");t(E.Ma<=z.height)}}E.C=k,t(E.C<=E.i)}function bt(E){var k;if(0<E.ua)return 0;for(k=0;k<E.Wb;++k){var z=E.Ya[k].G,X=E.Ya[k].H;if(0<z[1][X[1]+0].g||0<z[2][X[2]+0].g||0<z[3][X[3]+0].g)return 0}return 1}function Ft(E,k,z,X,ge,ye){if(E.Z!=0){var be=E.qd,Se=E.rd;for(t(Tl[E.Z]!=null);k<z;++k)Tl[E.Z](be,Se,X,ge,X,ge,ye),be=X,Se=ge,ge+=ye;E.qd=be,E.rd=Se}}function Pe(E,k){var z=E.l.ma,X=z.Z==0||z.Z==1?E.l.j:E.C;if(X=E.C<X?X:E.C,t(k<=E.l.o),k>X){var ge=E.l.width,ye=z.ca,be=z.tb+ge*X,Se=E.V,Ce=E.Ba+E.c*X,Me=E.gc;t(E.ab==1),t(Me[0].hc==3),b(Me[0],X,k,Se,Ce,ye,be),Ft(z,X,k,ye,be,ge)}E.C=E.Ma=k}function mt(E,k,z,X,ge,ye,be){var Se=E.$/X,Ce=E.$%X,Me=E.m,Ve=E.s,st=z+E.$,it=st;ge=z+X*ge;var Ke=z+X*ye,kt=280+Ve.ua,vt=E.Pb?Se:16777216,Ge=0<Ve.ua?Ve.Wa:null,Ye=Ve.wc,_t=st<Ke?_e(Ve,Ce,Se):null;t(E.C<ye),t(Ke<=ge);var Rt=!1;e:for(;;){for(;Rt||st<Ke;){var Et=0;if(Se>=vt){var Zt=st-z;t((vt=E).Pb),vt.wd=vt.m,vt.xd=Zt,0<vt.s.ua&&Be(vt.s.Wa,vt.s.vb),vt=Se+sc}if(Ce&Ye||(_t=_e(Ve,Ce,Se)),t(_t!=null),_t.Qb&&(k[st]=_t.qb,Rt=!0),!Rt)if(ne(Me),_t.jc){Et=Me,Zt=k;var Gt=st,yr=_t.pd[H(Et)&Bn-1];t(_t.jc),256>yr.g?(ve(Et,Et.u+yr.g),Zt[Gt]=yr.value,Et=0):(ve(Et,Et.u+yr.g-256),t(256<=yr.value),Et=yr.value),Et==0&&(Rt=!0)}else Et=xa(_t.G[0],_t.H[0],Me);if(Me.h)break;if(Rt||256>Et){if(!Rt)if(_t.nd)k[st]=(_t.qb|Et<<8)>>>0;else{if(ne(Me),Rt=xa(_t.G[1],_t.H[1],Me),ne(Me),Zt=xa(_t.G[2],_t.H[2],Me),Gt=xa(_t.G[3],_t.H[3],Me),Me.h)break;k[st]=(Gt<<24|Rt<<16|Et<<8|Zt)>>>0}if(Rt=!1,++st,++Ce>=X&&(Ce=0,++Se,be!=null&&Se<=ye&&!(Se%16)&&be(E,Se),Ge!=null))for(;it<st;)Et=k[it++],Ge.X[(506832829*Et&4294967295)>>>Ge.Mb]=Et}else if(280>Et){if(Et=Za(Et-256,Me),Zt=xa(_t.G[4],_t.H[4],Me),ne(Me),Zt=Jn(X,Zt=Za(Zt,Me)),Me.h)break;if(st-z<Zt||ge-st<Et)break e;for(Gt=0;Gt<Et;++Gt)k[st+Gt]=k[st+Gt-Zt];for(st+=Et,Ce+=Et;Ce>=X;)Ce-=X,++Se,be!=null&&Se<=ye&&!(Se%16)&&be(E,Se);if(t(st<=ge),Ce&Ye&&(_t=_e(Ve,Ce,Se)),Ge!=null)for(;it<st;)Et=k[it++],Ge.X[(506832829*Et&4294967295)>>>Ge.Mb]=Et}else{if(!(Et<kt))break e;for(Rt=Et-280,t(Ge!=null);it<st;)Et=k[it++],Ge.X[(506832829*Et&4294967295)>>>Ge.Mb]=Et;Et=st,t(!(Rt>>>(Zt=Ge).Xa)),k[Et]=Zt.X[Rt],Rt=!0}Rt||t(Me.h==se(Me))}if(E.Pb&&Me.h&&st<ge)t(E.m.h),E.a=5,E.m=E.wd,E.$=E.xd,0<E.s.ua&&Be(E.s.vb,E.s.Wa);else{if(Me.h)break e;be!=null&&be(E,Se>ye?ye:Se),E.a=0,E.$=st-z}return 1}return E.a=3,0}function xt(E){t(E!=null),E.vc=null,E.yc=null,E.Ya=null;var k=E.Wa;k!=null&&(k.X=null),E.vb=null,t(E!=null)}function Tt(){var E=new Ea;return E==null?null:(E.a=0,E.xb=Zh,Kr("Predictor","VP8LPredictors"),Kr("Predictor","VP8LPredictors_C"),Kr("PredictorAdd","VP8LPredictorsAdd"),Kr("PredictorAdd","VP8LPredictorsAdd_C"),d=Bt,D=Qt,B=zt,K=Mn,fe=Ht,we=Ct,De=rr,$.VP8LMapColor32b=v,$.VP8LMapColor8b=A,E)}function ht(E,k,z,X,ge){var ye=1,be=[E],Se=[k],Ce=X.m,Me=X.s,Ve=null,st=0;e:for(;;){if(z)for(;ye&&Ae(Ce,1);){var it=be,Ke=Se,kt=X,vt=1,Ge=kt.m,Ye=kt.gc[kt.ab],_t=Ae(Ge,2);if(kt.Oc&1<<_t)ye=0;else{switch(kt.Oc|=1<<_t,Ye.hc=_t,Ye.Ea=it[0],Ye.nc=Ke[0],Ye.K=[null],++kt.ab,t(4>=kt.ab),_t){case 0:case 1:Ye.b=Ae(Ge,3)+2,vt=ht(at(Ye.Ea,Ye.b),at(Ye.nc,Ye.b),0,kt,Ye.K),Ye.K=Ye.K[0];break;case 3:var Rt,Et=Ae(Ge,8)+1,Zt=16<Et?0:4<Et?1:2<Et?2:3;if(it[0]=at(Ye.Ea,Zt),Ye.b=Zt,Rt=vt=ht(Et,1,0,kt,Ye.K)){var Gt,yr=Et,$t=Ye,Cn=1<<(8>>$t.b),dn=i(Cn);if(dn==null)Rt=0;else{var xn=$t.K[0],zr=$t.w;for(dn[0]=$t.K[0][0],Gt=1;Gt<1*yr;++Gt)dn[Gt]=Re(xn[zr+Gt],dn[Gt-1]);for(;Gt<4*Cn;++Gt)dn[Gt]=0;$t.K[0]=null,$t.K[0]=dn,Rt=1}}vt=Rt;break;case 2:break;default:t(0)}ye=vt}}if(be=be[0],Se=Se[0],ye&&Ae(Ce,1)&&!(ye=1<=(st=Ae(Ce,4))&&11>=st)){X.a=3;break e}var zn;if(zn=ye)t:{var Tn,kr,Yn,Si=X,Pa=be,is=Se,bn=st,Gi=z,Ts=Si.m,fi=Si.s,Ra=[null],Ei=1,Qs=0,bo=go[bn];r:for(;;){if(Gi&&Ae(Ts,1)){var ni=Ae(Ts,3)+2,Xa=at(Pa,ni),Ci=at(is,ni),Zs=Xa*Ci;if(!ht(Xa,Ci,0,Si,Ra))break r;for(Ra=Ra[0],fi.xc=ni,Tn=0;Tn<Zs;++Tn){var ol=Ra[Tn]>>8&65535;Ra[Tn]=ol,ol>=Ei&&(Ei=ol+1)}}if(Ts.h)break r;for(kr=0;5>kr;++kr){var Ca=Vc[kr];!kr&&0<bn&&(Ca+=1<<bn),Qs<Ca&&(Qs=Ca)}var ll=c(Ei*bo,Q),ks=Ei,Ba=c(ks,re);if(Ba==null)var Yc=null;else t(65536>=ks),Yc=Ba;var Js=i(Qs);if(Yc==null||Js==null||ll==null){Si.a=1;break r}var Pr=ll;for(Tn=Yn=0;Tn<Ei;++Tn){var rn=Yc[Tn],fa=rn.G,kl=rn.H,$c=0,cl=1,zd=0;for(kr=0;5>kr;++kr){Ca=Vc[kr],fa[kr]=Pr,kl[kr]=Yn,!kr&&0<bn&&(Ca+=1<<bn);a:{var fc,hc=Ca,Bf=Si,ta=Js,e0=Pr,t0=Yn,Ff=0,Il=Bf.m,Ux=Ae(Il,1);if(a(ta,0,0,hc),Ux){var r0=Ae(Il,1)+1,n0=Ae(Il,1),zf=Ae(Il,n0==0?1:8);ta[zf]=1,r0==2&&(ta[zf=Ae(Il,8)]=1);var _i=1}else{var Fa=i(19),Ud=Ae(Il,4)+4;if(19<Ud){Bf.a=3;var pc=0;break a}for(fc=0;fc<Ud;++fc)Fa[Rd[fc]]=Ae(Il,3);var Fu=void 0,Xc=void 0,ul=Bf,Uf=Fa,zu=hc,qf=ta,Hf=0,Dl=ul.m,a0=8,i0=c(128,Q);n:for(;Z(i0,0,7,Uf,19);){if(Ae(Dl,1)){var Q1=2+2*Ae(Dl,3);if((Fu=2+Ae(Dl,Q1))>zu)break n}else Fu=zu;for(Xc=0;Xc<zu&&Fu--;){ne(Dl);var s0=i0[0+(127&H(Dl))];ve(Dl,Dl.u+s0.g);var mc=s0.value;if(16>mc)qf[Xc++]=mc,mc!=0&&(a0=mc);else{var Z1=mc==16,J1=mc-16,ep=Lu[J1],o0=Ae(Dl,po[J1])+ep;if(Xc+o0>zu)break n;for(var tp=Z1?a0:0;0<o0--;)qf[Xc++]=tp}}Hf=1;break n}Hf||(ul.a=3),_i=Hf}(_i=_i&&!Il.h)&&(Ff=Z(e0,t0,8,ta,hc)),_i&&Ff!=0?pc=Ff:(Bf.a=3,pc=0)}if(pc==0)break r;if(cl&&If[kr]==1&&(cl=Pr[Yn].g==0),$c+=Pr[Yn].g,Yn+=pc,3>=kr){var Kc,Vf=Js[0];for(Kc=1;Kc<Ca;++Kc)Js[Kc]>Vf&&(Vf=Js[Kc]);zd+=Vf}}if(rn.nd=cl,rn.Qb=0,cl&&(rn.qb=(fa[3][kl[3]+0].value<<24|fa[1][kl[1]+0].value<<16|fa[2][kl[2]+0].value)>>>0,$c==0&&256>fa[0][kl[0]+0].value&&(rn.Qb=1,rn.qb+=fa[0][kl[0]+0].value<<8)),rn.jc=!rn.Qb&&6>zd,rn.jc){var qd,dl=rn;for(qd=0;qd<Bn;++qd){var Ml=qd,Ll=dl.pd[Ml],Gf=dl.G[0][dl.H[0]+Ml];256<=Gf.value?(Ll.g=Gf.g+256,Ll.value=Gf.value):(Ll.g=0,Ll.value=0,Ml>>=Wr(Gf,8,Ll),Ml>>=Wr(dl.G[1][dl.H[1]+Ml],16,Ll),Ml>>=Wr(dl.G[2][dl.H[2]+Ml],0,Ll),Wr(dl.G[3][dl.H[3]+Ml],24,Ll))}}}fi.vc=Ra,fi.Wb=Ei,fi.Ya=Yc,fi.yc=ll,zn=1;break t}zn=0}if(!(ye=zn)){X.a=3;break e}if(0<st){if(Me.ua=1<<st,!$e(Me.Wa,st)){X.a=1,ye=0;break e}}else Me.ua=0;var Wf=X,Qc=be,rp=Se,Uu=Wf.s,qu=Uu.xc;if(Wf.c=Qc,Wf.i=rp,Uu.md=at(Qc,qu),Uu.wc=qu==0?-1:(1<<qu)-1,z){X.xb=oc;break e}if((Ve=i(be*Se))==null){X.a=1,ye=0;break e}ye=(ye=mt(X,Ve,0,be,Se,Se,null))&&!Ce.h;break e}return ye?(ge!=null?ge[0]=Ve:(t(Ve==null),t(z)),X.$=0,z||xt(Me)):xt(Me),ye}function wt(E,k){var z=E.c*E.i,X=z+k+16*k;return t(E.c<=k),E.V=i(X),E.V==null?(E.Ta=null,E.Ua=0,E.a=1,0):(E.Ta=E.V,E.Ua=E.Ba+z+k,1)}function Yt(E,k){var z=E.C,X=k-z,ge=E.V,ye=E.Ba+E.c*z;for(t(k<=E.l.o);0<X;){var be=16<X?16:X,Se=E.l.ma,Ce=E.l.width,Me=Ce*be,Ve=Se.ca,st=Se.tb+Ce*z,it=E.Ta,Ke=E.Ua;Ot(E,be,ge,ye),En(it,Ke,Ve,st,Me),Ft(Se,z,z+be,Ve,st,Ce),X-=be,ge+=be*E.c,z+=be}t(z==k),E.C=E.Ma=k}function Vt(){this.ub=this.yd=this.td=this.Rb=0}function Xt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function er(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Zr(){this.Yb=function(){var E=[];return function k(z,X,ge){for(var ye=ge[X],be=0;be<ye&&(z.push(ge.length>X+1?[]:0),!(ge.length<X+1));be++)k(z[be],X+1,ge)}(E,0,[3,11]),E}()}function _n(){this.jb=i(3),this.Wc=f([4,8],Zr),this.Xc=f([4,17],Zr)}function cn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Nt(){this.ld=this.La=this.dd=this.tc=0}function ui(){this.Na=this.la=0}function Rr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Hn(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Lo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Nt),this.Y=0,this.ya=Array(new Hn),this.aa=0,this.l=new Mr}function qr(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Lr(){this.cb=this.a=0,this.sc="",this.m=new ce,this.Od=new Vt,this.Kc=new Xt,this.ed=new cn,this.Qa=new er,this.Ic=this.$c=this.Aa=0,this.D=new Lo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,ce),this.ia=0,this.pb=c(4,Rr),this.Pa=new _n,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qr),this.Hd=0,this.rb=Array(new ui),this.sb=0,this.wa=Array(new Nt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Hn),this.L=this.aa=0,this.gd=f([4,2],Nt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Mr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Vs(){var E=new Lr;return E!=null&&(E.a=0,E.sc="OK",E.cb=0,E.Xb=0,Ks||(Ks=Wa)),E}function Ln(E,k,z){return E.a==0&&(E.a=k,E.sc=z,E.cb=0),0}function Jr(E,k,z){return 3<=z&&E[k+0]==157&&E[k+1]==1&&E[k+2]==42}function Cr(E,k){if(E==null)return 0;if(E.a=0,E.sc="OK",k==null)return Ln(E,2,"null VP8Io passed to VP8GetHeaders()");var z=k.data,X=k.w,ge=k.ha;if(4>ge)return Ln(E,7,"Truncated header.");var ye=z[X+0]|z[X+1]<<8|z[X+2]<<16,be=E.Od;if(be.Rb=!(1&ye),be.td=ye>>1&7,be.yd=ye>>4&1,be.ub=ye>>5,3<be.td)return Ln(E,3,"Incorrect keyframe parameters.");if(!be.yd)return Ln(E,4,"Frame not displayable.");X+=3,ge-=3;var Se=E.Kc;if(be.Rb){if(7>ge)return Ln(E,7,"cannot parse picture header");if(!Jr(z,X,ge))return Ln(E,3,"Bad code word");Se.c=16383&(z[X+4]<<8|z[X+3]),Se.Td=z[X+4]>>6,Se.i=16383&(z[X+6]<<8|z[X+5]),Se.Ud=z[X+6]>>6,X+=7,ge-=7,E.za=Se.c+15>>4,E.Ub=Se.i+15>>4,k.width=Se.c,k.height=Se.i,k.Da=0,k.j=0,k.v=0,k.va=k.width,k.o=k.height,k.da=0,k.ib=k.width,k.hb=k.height,k.U=k.width,k.T=k.height,a((ye=E.Pa).jb,0,255,ye.jb.length),t((ye=E.Qa)!=null),ye.Cb=0,ye.Bb=0,ye.Fb=1,a(ye.Zb,0,0,ye.Zb.length),a(ye.Lb,0,0,ye.Lb)}if(be.ub>ge)return Ln(E,7,"bad partition length");q(ye=E.m,z,X,be.ub),X+=be.ub,ge-=be.ub,be.Rb&&(Se.Ld=je(ye),Se.Kd=je(ye)),Se=E.Qa;var Ce,Me=E.Pa;if(t(ye!=null),t(Se!=null),Se.Cb=je(ye),Se.Cb){if(Se.Bb=je(ye),je(ye)){for(Se.Fb=je(ye),Ce=0;4>Ce;++Ce)Se.Zb[Ce]=je(ye)?oe(ye,7):0;for(Ce=0;4>Ce;++Ce)Se.Lb[Ce]=je(ye)?oe(ye,6):0}if(Se.Bb)for(Ce=0;3>Ce;++Ce)Me.jb[Ce]=je(ye)?ie(ye,8):255}else Se.Bb=0;if(ye.Ka)return Ln(E,3,"cannot parse segment header");if((Se=E.ed).zd=je(ye),Se.Tb=ie(ye,6),Se.wb=ie(ye,3),Se.Pc=je(ye),Se.Pc&&je(ye)){for(Me=0;4>Me;++Me)je(ye)&&(Se.vd[Me]=oe(ye,6));for(Me=0;4>Me;++Me)je(ye)&&(Se.od[Me]=oe(ye,6))}if(E.L=Se.Tb==0?0:Se.zd?1:2,ye.Ka)return Ln(E,3,"cannot parse filter header");var Ve=ge;if(ge=Ce=X,X=Ce+Ve,Se=Ve,E.Xb=(1<<ie(E.m,2))-1,Ve<3*(Me=E.Xb))z=7;else{for(Ce+=3*Me,Se-=3*Me,Ve=0;Ve<Me;++Ve){var st=z[ge+0]|z[ge+1]<<8|z[ge+2]<<16;st>Se&&(st=Se),q(E.Jc[+Ve],z,Ce,st),Ce+=st,Se-=st,ge+=3}q(E.Jc[+Me],z,Ce,Se),z=Ce<X?0:5}if(z!=0)return Ln(E,z,"cannot parse partitions");for(z=ie(Ce=E.m,7),ge=je(Ce)?oe(Ce,4):0,X=je(Ce)?oe(Ce,4):0,Se=je(Ce)?oe(Ce,4):0,Me=je(Ce)?oe(Ce,4):0,Ce=je(Ce)?oe(Ce,4):0,Ve=E.Qa,st=0;4>st;++st){if(Ve.Cb){var it=Ve.Zb[st];Ve.Fb||(it+=z)}else{if(0<st){E.pb[st]=E.pb[0];continue}it=z}var Ke=E.pb[st];Ke.Sc[0]=xo[Ma(it+ge,127)],Ke.Sc[1]=vo[Ma(it+0,127)],Ke.Eb[0]=2*xo[Ma(it+X,127)],Ke.Eb[1]=101581*vo[Ma(it+Se,127)]>>16,8>Ke.Eb[1]&&(Ke.Eb[1]=8),Ke.Qc[0]=xo[Ma(it+Me,117)],Ke.Qc[1]=vo[Ma(it+Ce,127)],Ke.lc=it+Ce}if(!be.Rb)return Ln(E,4,"Not a key frame.");for(je(ye),be=E.Pa,z=0;4>z;++z){for(ge=0;8>ge;++ge)for(X=0;3>X;++X)for(Se=0;11>Se;++Se)Me=pe(ye,da[z][ge][X][Se])?ie(ye,8):X1[z][ge][X][Se],be.Wc[z][ge].Yb[X][Se]=Me;for(ge=0;17>ge;++ge)be.Xc[z][ge]=be.Wc[z][un[ge]]}return E.kc=je(ye),E.kc&&(E.Bd=ie(ye,8)),E.cb=1}function Wa(E,k,z,X,ge,ye,be){var Se=k[ge].Yb[z];for(z=0;16>ge;++ge){if(!pe(E,Se[z+0]))return ge;for(;!pe(E,Se[z+1]);)if(Se=k[++ge].Yb[0],z=0,ge==16)return 16;var Ce=k[ge+1].Yb;if(pe(E,Se[z+2])){var Me=E,Ve=0;if(pe(Me,(it=Se)[(st=z)+3]))if(pe(Me,it[st+6])){for(Se=0,st=2*(Ve=pe(Me,it[st+8]))+(it=pe(Me,it[st+9+Ve])),Ve=0,it=$1[st];it[Se];++Se)Ve+=Ve+pe(Me,it[Se]);Ve+=3+(8<<st)}else pe(Me,it[st+7])?(Ve=7+2*pe(Me,165),Ve+=pe(Me,145)):Ve=5+pe(Me,159);else Ve=pe(Me,it[st+4])?3+pe(Me,it[st+5]):2;Se=Ce[2]}else Ve=1,Se=Ce[1];Ce=be+Qh[ge],0>(Me=E).b&&le(Me);var st,it=Me.b,Ke=(st=Me.Ca>>1)-(Me.I>>it)>>31;--Me.b,Me.Ca+=Ke,Me.Ca|=1,Me.I-=(st+1&Ke)<<it,ye[Ce]=((Ve^Ke)-Ke)*X[(0<ge)+0]}return 16}function va(E){var k=E.rb[E.sb-1];k.la=0,k.Na=0,a(E.zc,0,0,E.zc.length),E.ja=0}function mn(E,k){if(E==null)return 0;if(k==null)return Ln(E,2,"NULL VP8Io parameter in VP8Decode().");if(!E.cb&&!Cr(E,k))return 0;if(t(E.cb),k.ac==null||k.ac(k)){k.ob&&(E.L=0);var z=Bu[E.L];if(E.L==2?(E.yb=0,E.zb=0):(E.yb=k.v-z>>4,E.zb=k.j-z>>4,0>E.yb&&(E.yb=0),0>E.zb&&(E.zb=0)),E.Va=k.o+15+z>>4,E.Hb=k.va+15+z>>4,E.Hb>E.za&&(E.Hb=E.za),E.Va>E.Ub&&(E.Va=E.Ub),0<E.L){var X=E.ed;for(z=0;4>z;++z){var ge;if(E.Qa.Cb){var ye=E.Qa.Lb[z];E.Qa.Fb||(ye+=X.Tb)}else ye=X.Tb;for(ge=0;1>=ge;++ge){var be=E.gd[z][ge],Se=ye;if(X.Pc&&(Se+=X.vd[0],ge&&(Se+=X.od[0])),0<(Se=0>Se?0:63<Se?63:Se)){var Ce=Se;0<X.wb&&(Ce=4<X.wb?Ce>>2:Ce>>1)>9-X.wb&&(Ce=9-X.wb),1>Ce&&(Ce=1),be.dd=Ce,be.tc=2*Se+Ce,be.ld=40<=Se?2:15<=Se?1:0}else be.tc=0;be.La=ge}}}z=0}else Ln(E,6,"Frame setup failed"),z=E.a;if(z=z==0){if(z){E.$c=0,0<E.Aa||(E.Ic=Fd);e:{z=E.Ic,X=4*(Ce=E.za);var Me=32*Ce,Ve=Ce+1,st=0<E.L?Ce*(0<E.Aa?2:1):0,it=(E.Aa==2?2:1)*Ce;if((be=X+832+(ge=3*(16*z+Bu[E.L])/2*Me)+(ye=E.Fa!=null&&0<E.Fa.length?E.Kc.c*E.Kc.i:0))!=be)z=0;else{if(be>E.Vb){if(E.Vb=0,E.Ec=i(be),E.Fc=0,E.Ec==null){z=Ln(E,1,"no memory during frame initialization.");break e}E.Vb=be}be=E.Ec,Se=E.Fc,E.Ac=be,E.Bc=Se,Se+=X,E.Gd=c(Me,qr),E.Hd=0,E.rb=c(Ve+1,ui),E.sb=1,E.wa=st?c(st,Nt):null,E.Y=0,E.D.Nb=0,E.D.wa=E.wa,E.D.Y=E.Y,0<E.Aa&&(E.D.Y+=Ce),t(!0),E.oc=be,E.pc=Se,Se+=832,E.ya=c(it,Hn),E.aa=0,E.D.ya=E.ya,E.D.aa=E.aa,E.Aa==2&&(E.D.aa+=Ce),E.R=16*Ce,E.B=8*Ce,Ce=(Me=Bu[E.L])*E.R,Me=Me/2*E.B,E.sa=be,E.ta=Se+Ce,E.qa=E.sa,E.ra=E.ta+16*z*E.R+Me,E.Ha=E.qa,E.Ia=E.ra+8*z*E.B+Me,E.$c=0,Se+=ge,E.mb=ye?be:null,E.nb=ye?Se:null,t(Se+ye<=E.Fc+E.Vb),va(E),a(E.Ac,E.Bc,0,X),z=1}}if(z){if(k.ka=0,k.y=E.sa,k.O=E.ta,k.f=E.qa,k.N=E.ra,k.ea=E.Ha,k.Vd=E.Ia,k.fa=E.R,k.Rc=E.B,k.F=null,k.J=0,!Iu){for(z=-255;255>=z;++z)Aa[255+z]=0>z?-z:z;for(z=-1020;1020>=z;++z)zo[1020+z]=-128>z?-128:127<z?127:z;for(z=-112;112>=z;++z)ac[112+z]=-16>z?-16:15<z?15:z;for(z=-255;510>=z;++z)jl[255+z]=0>z?0:255<z?255:z;Iu=1}ze=Ja,He=rt,dt=Oe,Lt=sr,Pt=Pn,Xe=An,Mt=nl,Fr=es,Tr=Br,Gn=Sa,ri=Fc,ba=ut,on=al,wa=zc,Ya=Sl,xs=_s,Xs=ms,vs=rc,La[0]=fr,La[1]=tl,La[2]=Es,La[3]=Gs,La[4]=Rc,La[5]=Sn,La[6]=jr,La[7]=Nl,La[8]=Ws,La[9]=Ro,ys[0]=Ss,ys[1]=pr,ys[2]=en,ys[3]=so,ys[4]=Nn,ys[5]=Rn,ys[6]=tc,Uo[0]=Bi,Uo[1]=ei,Uo[2]=Ys,Uo[3]=rl,Uo[4]=Bo,Uo[5]=oo,Uo[6]=ya,z=1}else z=0}z&&(z=function(Ke,kt){for(Ke.M=0;Ke.M<Ke.Va;++Ke.M){var vt,Ge=Ke.Jc[Ke.M&Ke.Xb],Ye=Ke.m,_t=Ke;for(vt=0;vt<_t.za;++vt){var Rt=Ye,Et=_t,Zt=Et.Ac,Gt=Et.Bc+4*vt,yr=Et.zc,$t=Et.ya[Et.aa+vt];if(Et.Qa.Bb?$t.$b=pe(Rt,Et.Pa.jb[0])?2+pe(Rt,Et.Pa.jb[2]):pe(Rt,Et.Pa.jb[1]):$t.$b=0,Et.kc&&($t.Ad=pe(Rt,Et.Bd)),$t.Za=!pe(Rt,145)+0,$t.Za){var Cn=$t.Ob,dn=0;for(Et=0;4>Et;++Et){var xn,zr=yr[0+Et];for(xn=0;4>xn;++xn){zr=qi[Zt[Gt+xn]][zr];for(var zn=Df[pe(Rt,zr[0])];0<zn;)zn=Df[2*zn+pe(Rt,zr[zn])];zr=-zn,Zt[Gt+xn]=zr}n(Cn,dn,Zt,Gt,4),dn+=4,yr[0+Et]=zr}}else zr=pe(Rt,156)?pe(Rt,128)?1:3:pe(Rt,163)?2:0,$t.Ob[0]=zr,a(Zt,Gt,zr,4),a(yr,0,zr,4);$t.Dd=pe(Rt,142)?pe(Rt,114)?pe(Rt,183)?1:3:2:0}if(_t.m.Ka)return Ln(Ke,7,"Premature end-of-partition0 encountered.");for(;Ke.ja<Ke.za;++Ke.ja){if(_t=Ge,Rt=(Ye=Ke).rb[Ye.sb-1],Zt=Ye.rb[Ye.sb+Ye.ja],vt=Ye.ya[Ye.aa+Ye.ja],Gt=Ye.kc?vt.Ad:0)Rt.la=Zt.la=0,vt.Za||(Rt.Na=Zt.Na=0),vt.Hc=0,vt.Gc=0,vt.ia=0;else{var Tn,kr;if(Rt=Zt,Zt=_t,Gt=Ye.Pa.Xc,yr=Ye.ya[Ye.aa+Ye.ja],$t=Ye.pb[yr.$b],Et=yr.ad,Cn=0,dn=Ye.rb[Ye.sb-1],zr=xn=0,a(Et,Cn,0,384),yr.Za)var Yn=0,Si=Gt[3];else{zn=i(16);var Pa=Rt.Na+dn.Na;if(Pa=Ks(Zt,Gt[1],Pa,$t.Eb,0,zn,0),Rt.Na=dn.Na=(0<Pa)+0,1<Pa)ze(zn,0,Et,Cn);else{var is=zn[0]+3>>3;for(zn=0;256>zn;zn+=16)Et[Cn+zn]=is}Yn=1,Si=Gt[0]}var bn=15&Rt.la,Gi=15&dn.la;for(zn=0;4>zn;++zn){var Ts=1&Gi;for(is=kr=0;4>is;++is)bn=bn>>1|(Ts=(Pa=Ks(Zt,Si,Pa=Ts+(1&bn),$t.Sc,Yn,Et,Cn))>Yn)<<7,kr=kr<<2|(3<Pa?3:1<Pa?2:Et[Cn+0]!=0),Cn+=16;bn>>=4,Gi=Gi>>1|Ts<<7,xn=(xn<<8|kr)>>>0}for(Si=bn,Yn=Gi>>4,Tn=0;4>Tn;Tn+=2){for(kr=0,bn=Rt.la>>4+Tn,Gi=dn.la>>4+Tn,zn=0;2>zn;++zn){for(Ts=1&Gi,is=0;2>is;++is)Pa=Ts+(1&bn),bn=bn>>1|(Ts=0<(Pa=Ks(Zt,Gt[2],Pa,$t.Qc,0,Et,Cn)))<<3,kr=kr<<2|(3<Pa?3:1<Pa?2:Et[Cn+0]!=0),Cn+=16;bn>>=2,Gi=Gi>>1|Ts<<5}zr|=kr<<4*Tn,Si|=bn<<4<<Tn,Yn|=(240&Gi)<<Tn}Rt.la=Si,dn.la=Yn,yr.Hc=xn,yr.Gc=zr,yr.ia=43690&zr?0:$t.ia,Gt=!(xn|zr)}if(0<Ye.L&&(Ye.wa[Ye.Y+Ye.ja]=Ye.gd[vt.$b][vt.Za],Ye.wa[Ye.Y+Ye.ja].La|=!Gt),_t.Ka)return Ln(Ke,7,"Premature end-of-file encountered.")}if(va(Ke),Ye=kt,_t=1,vt=(Ge=Ke).D,Rt=0<Ge.L&&Ge.M>=Ge.zb&&Ge.M<=Ge.Va,Ge.Aa==0)e:{if(vt.M=Ge.M,vt.uc=Rt,zi(Ge,vt),_t=1,vt=(kr=Ge.D).Nb,Rt=(zr=Bu[Ge.L])*Ge.R,Zt=zr/2*Ge.B,zn=16*vt*Ge.R,is=8*vt*Ge.B,Gt=Ge.sa,yr=Ge.ta-Rt+zn,$t=Ge.qa,Et=Ge.ra-Zt+is,Cn=Ge.Ha,dn=Ge.Ia-Zt+is,Gi=(bn=kr.M)==0,xn=bn>=Ge.Va-1,Ge.Aa==2&&zi(Ge,kr),kr.uc)for(Ts=(Pa=Ge).D.M,t(Pa.D.uc),kr=Pa.yb;kr<Pa.Hb;++kr){Yn=kr,Si=Ts;var fi=(Ra=(Ca=Pa).D).Nb;Tn=Ca.R;var Ra=Ra.wa[Ra.Y+Yn],Ei=Ca.sa,Qs=Ca.ta+16*fi*Tn+16*Yn,bo=Ra.dd,ni=Ra.tc;if(ni!=0)if(t(3<=ni),Ca.L==1)0<Yn&&xs(Ei,Qs,Tn,ni+4),Ra.La&&vs(Ei,Qs,Tn,ni),0<Si&&Ya(Ei,Qs,Tn,ni+4),Ra.La&&Xs(Ei,Qs,Tn,ni);else{var Xa=Ca.B,Ci=Ca.qa,Zs=Ca.ra+8*fi*Xa+8*Yn,ol=Ca.Ha,Ca=Ca.Ia+8*fi*Xa+8*Yn;fi=Ra.ld,0<Yn&&(Fr(Ei,Qs,Tn,ni+4,bo,fi),Gn(Ci,Zs,ol,Ca,Xa,ni+4,bo,fi)),Ra.La&&(ba(Ei,Qs,Tn,ni,bo,fi),wa(Ci,Zs,ol,Ca,Xa,ni,bo,fi)),0<Si&&(Mt(Ei,Qs,Tn,ni+4,bo,fi),Tr(Ci,Zs,ol,Ca,Xa,ni+4,bo,fi)),Ra.La&&(ri(Ei,Qs,Tn,ni,bo,fi),on(Ci,Zs,ol,Ca,Xa,ni,bo,fi))}}if(Ge.ia&&alert("todo:DitherRow"),Ye.put!=null){if(kr=16*bn,bn=16*(bn+1),Gi?(Ye.y=Ge.sa,Ye.O=Ge.ta+zn,Ye.f=Ge.qa,Ye.N=Ge.ra+is,Ye.ea=Ge.Ha,Ye.W=Ge.Ia+is):(kr-=zr,Ye.y=Gt,Ye.O=yr,Ye.f=$t,Ye.N=Et,Ye.ea=Cn,Ye.W=dn),xn||(bn-=zr),bn>Ye.o&&(bn=Ye.o),Ye.F=null,Ye.J=null,Ge.Fa!=null&&0<Ge.Fa.length&&kr<bn&&(Ye.J=gn(Ge,Ye,kr,bn-kr),Ye.F=Ge.mb,Ye.F==null&&Ye.F.length==0)){_t=Ln(Ge,3,"Could not decode alpha data.");break e}kr<Ye.j&&(zr=Ye.j-kr,kr=Ye.j,t(!(1&zr)),Ye.O+=Ge.R*zr,Ye.N+=Ge.B*(zr>>1),Ye.W+=Ge.B*(zr>>1),Ye.F!=null&&(Ye.J+=Ye.width*zr)),kr<bn&&(Ye.O+=Ye.v,Ye.N+=Ye.v>>1,Ye.W+=Ye.v>>1,Ye.F!=null&&(Ye.J+=Ye.v),Ye.ka=kr-Ye.j,Ye.U=Ye.va-Ye.v,Ye.T=bn-kr,_t=Ye.put(Ye))}vt+1!=Ge.Ic||xn||(n(Ge.sa,Ge.ta-Rt,Gt,yr+16*Ge.R,Rt),n(Ge.qa,Ge.ra-Zt,$t,Et+8*Ge.B,Zt),n(Ge.Ha,Ge.Ia-Zt,Cn,dn+8*Ge.B,Zt))}if(!_t)return Ln(Ke,6,"Output aborted.")}return 1}(E,k)),k.bc!=null&&k.bc(k),z&=1}return z?(E.cb=0,z):0}function Vn(E,k,z,X,ge){ge=E[k+z+32*X]+(ge>>3),E[k+z+32*X]=-256&ge?0>ge?0:255:ge}function wi(E,k,z,X,ge,ye){Vn(E,k,0,z,X+ge),Vn(E,k,1,z,X+ye),Vn(E,k,2,z,X-ye),Vn(E,k,3,z,X-ge)}function Yr(E){return(20091*E>>16)+E}function _r(E,k,z,X){var ge,ye=0,be=i(16);for(ge=0;4>ge;++ge){var Se=E[k+0]+E[k+8],Ce=E[k+0]-E[k+8],Me=(35468*E[k+4]>>16)-Yr(E[k+12]),Ve=Yr(E[k+4])+(35468*E[k+12]>>16);be[ye+0]=Se+Ve,be[ye+1]=Ce+Me,be[ye+2]=Ce-Me,be[ye+3]=Se-Ve,ye+=4,k++}for(ge=ye=0;4>ge;++ge)Se=(E=be[ye+0]+4)+be[ye+8],Ce=E-be[ye+8],Me=(35468*be[ye+4]>>16)-Yr(be[ye+12]),Vn(z,X,0,0,Se+(Ve=Yr(be[ye+4])+(35468*be[ye+12]>>16))),Vn(z,X,1,0,Ce+Me),Vn(z,X,2,0,Ce-Me),Vn(z,X,3,0,Se-Ve),ye++,X+=32}function An(E,k,z,X){var ge=E[k+0]+4,ye=35468*E[k+4]>>16,be=Yr(E[k+4]),Se=35468*E[k+1]>>16;wi(z,X,0,ge+be,E=Yr(E[k+1]),Se),wi(z,X,1,ge+ye,E,Se),wi(z,X,2,ge-ye,E,Se),wi(z,X,3,ge-be,E,Se)}function rt(E,k,z,X,ge){_r(E,k,z,X),ge&&_r(E,k+16,z,X+4)}function Oe(E,k,z,X){He(E,k+0,z,X,1),He(E,k+32,z,X+128,1)}function sr(E,k,z,X){var ge;for(E=E[k+0]+4,ge=0;4>ge;++ge)for(k=0;4>k;++k)Vn(z,X,k,ge,E)}function Pn(E,k,z,X){E[k+0]&&Lt(E,k+0,z,X),E[k+16]&&Lt(E,k+16,z,X+4),E[k+32]&&Lt(E,k+32,z,X+128),E[k+48]&&Lt(E,k+48,z,X+128+4)}function Ja(E,k,z,X){var ge,ye=i(16);for(ge=0;4>ge;++ge){var be=E[k+0+ge]+E[k+12+ge],Se=E[k+4+ge]+E[k+8+ge],Ce=E[k+4+ge]-E[k+8+ge],Me=E[k+0+ge]-E[k+12+ge];ye[0+ge]=be+Se,ye[8+ge]=be-Se,ye[4+ge]=Me+Ce,ye[12+ge]=Me-Ce}for(ge=0;4>ge;++ge)be=(E=ye[0+4*ge]+3)+ye[3+4*ge],Se=ye[1+4*ge]+ye[2+4*ge],Ce=ye[1+4*ge]-ye[2+4*ge],Me=E-ye[3+4*ge],z[X+0]=be+Se>>3,z[X+16]=Me+Ce>>3,z[X+32]=be-Se>>3,z[X+48]=Me-Ce>>3,X+=64}function ps(E,k,z){var X,ge=k-32,ye=ns,be=255-E[ge-1];for(X=0;X<z;++X){var Se,Ce=ye,Me=be+E[k-1];for(Se=0;Se<z;++Se)E[k+Se]=Ce[Me+E[ge+Se]];k+=32}}function tl(E,k){ps(E,k,4)}function ei(E,k){ps(E,k,8)}function pr(E,k){ps(E,k,16)}function en(E,k){var z;for(z=0;16>z;++z)n(E,k+32*z,E,k-32,16)}function so(E,k){var z;for(z=16;0<z;--z)a(E,k,E[k-1],16),k+=32}function Po(E,k,z){var X;for(X=0;16>X;++X)a(k,z+32*X,E,16)}function Ss(E,k){var z,X=16;for(z=0;16>z;++z)X+=E[k-1+32*z]+E[k+z-32];Po(X>>5,E,k)}function Nn(E,k){var z,X=8;for(z=0;16>z;++z)X+=E[k-1+32*z];Po(X>>4,E,k)}function Rn(E,k){var z,X=8;for(z=0;16>z;++z)X+=E[k+z-32];Po(X>>4,E,k)}function tc(E,k){Po(128,E,k)}function ar(E,k,z){return E+2*k+z+2>>2}function Es(E,k){var z,X=k-32;for(X=new Uint8Array([ar(E[X-1],E[X+0],E[X+1]),ar(E[X+0],E[X+1],E[X+2]),ar(E[X+1],E[X+2],E[X+3]),ar(E[X+2],E[X+3],E[X+4])]),z=0;4>z;++z)n(E,k+32*z,X,0,X.length)}function Gs(E,k){var z=E[k-1],X=E[k-1+32],ge=E[k-1+64],ye=E[k-1+96];Te(E,k+0,16843009*ar(E[k-1-32],z,X)),Te(E,k+32,16843009*ar(z,X,ge)),Te(E,k+64,16843009*ar(X,ge,ye)),Te(E,k+96,16843009*ar(ge,ye,ye))}function fr(E,k){var z,X=4;for(z=0;4>z;++z)X+=E[k+z-32]+E[k-1+32*z];for(X>>=3,z=0;4>z;++z)a(E,k+32*z,X,4)}function Rc(E,k){var z=E[k-1+0],X=E[k-1+32],ge=E[k-1+64],ye=E[k-1-32],be=E[k+0-32],Se=E[k+1-32],Ce=E[k+2-32],Me=E[k+3-32];E[k+0+96]=ar(X,ge,E[k-1+96]),E[k+1+96]=E[k+0+64]=ar(z,X,ge),E[k+2+96]=E[k+1+64]=E[k+0+32]=ar(ye,z,X),E[k+3+96]=E[k+2+64]=E[k+1+32]=E[k+0+0]=ar(be,ye,z),E[k+3+64]=E[k+2+32]=E[k+1+0]=ar(Se,be,ye),E[k+3+32]=E[k+2+0]=ar(Ce,Se,be),E[k+3+0]=ar(Me,Ce,Se)}function jr(E,k){var z=E[k+1-32],X=E[k+2-32],ge=E[k+3-32],ye=E[k+4-32],be=E[k+5-32],Se=E[k+6-32],Ce=E[k+7-32];E[k+0+0]=ar(E[k+0-32],z,X),E[k+1+0]=E[k+0+32]=ar(z,X,ge),E[k+2+0]=E[k+1+32]=E[k+0+64]=ar(X,ge,ye),E[k+3+0]=E[k+2+32]=E[k+1+64]=E[k+0+96]=ar(ge,ye,be),E[k+3+32]=E[k+2+64]=E[k+1+96]=ar(ye,be,Se),E[k+3+64]=E[k+2+96]=ar(be,Se,Ce),E[k+3+96]=ar(Se,Ce,Ce)}function Sn(E,k){var z=E[k-1+0],X=E[k-1+32],ge=E[k-1+64],ye=E[k-1-32],be=E[k+0-32],Se=E[k+1-32],Ce=E[k+2-32],Me=E[k+3-32];E[k+0+0]=E[k+1+64]=ye+be+1>>1,E[k+1+0]=E[k+2+64]=be+Se+1>>1,E[k+2+0]=E[k+3+64]=Se+Ce+1>>1,E[k+3+0]=Ce+Me+1>>1,E[k+0+96]=ar(ge,X,z),E[k+0+64]=ar(X,z,ye),E[k+0+32]=E[k+1+96]=ar(z,ye,be),E[k+1+32]=E[k+2+96]=ar(ye,be,Se),E[k+2+32]=E[k+3+96]=ar(be,Se,Ce),E[k+3+32]=ar(Se,Ce,Me)}function Nl(E,k){var z=E[k+0-32],X=E[k+1-32],ge=E[k+2-32],ye=E[k+3-32],be=E[k+4-32],Se=E[k+5-32],Ce=E[k+6-32],Me=E[k+7-32];E[k+0+0]=z+X+1>>1,E[k+1+0]=E[k+0+64]=X+ge+1>>1,E[k+2+0]=E[k+1+64]=ge+ye+1>>1,E[k+3+0]=E[k+2+64]=ye+be+1>>1,E[k+0+32]=ar(z,X,ge),E[k+1+32]=E[k+0+96]=ar(X,ge,ye),E[k+2+32]=E[k+1+96]=ar(ge,ye,be),E[k+3+32]=E[k+2+96]=ar(ye,be,Se),E[k+3+64]=ar(be,Se,Ce),E[k+3+96]=ar(Se,Ce,Me)}function Ro(E,k){var z=E[k-1+0],X=E[k-1+32],ge=E[k-1+64],ye=E[k-1+96];E[k+0+0]=z+X+1>>1,E[k+2+0]=E[k+0+32]=X+ge+1>>1,E[k+2+32]=E[k+0+64]=ge+ye+1>>1,E[k+1+0]=ar(z,X,ge),E[k+3+0]=E[k+1+32]=ar(X,ge,ye),E[k+3+32]=E[k+1+64]=ar(ge,ye,ye),E[k+3+64]=E[k+2+64]=E[k+0+96]=E[k+1+96]=E[k+2+96]=E[k+3+96]=ye}function Ws(E,k){var z=E[k-1+0],X=E[k-1+32],ge=E[k-1+64],ye=E[k-1+96],be=E[k-1-32],Se=E[k+0-32],Ce=E[k+1-32],Me=E[k+2-32];E[k+0+0]=E[k+2+32]=z+be+1>>1,E[k+0+32]=E[k+2+64]=X+z+1>>1,E[k+0+64]=E[k+2+96]=ge+X+1>>1,E[k+0+96]=ye+ge+1>>1,E[k+3+0]=ar(Se,Ce,Me),E[k+2+0]=ar(be,Se,Ce),E[k+1+0]=E[k+3+32]=ar(z,be,Se),E[k+1+32]=E[k+3+64]=ar(X,z,be),E[k+1+64]=E[k+3+96]=ar(ge,X,z),E[k+1+96]=ar(ye,ge,X)}function Ys(E,k){var z;for(z=0;8>z;++z)n(E,k+32*z,E,k-32,8)}function rl(E,k){var z;for(z=0;8>z;++z)a(E,k,E[k-1],8),k+=32}function Cs(E,k,z){var X;for(X=0;8>X;++X)a(k,z+32*X,E,8)}function Bi(E,k){var z,X=8;for(z=0;8>z;++z)X+=E[k+z-32]+E[k-1+32*z];Cs(X>>4,E,k)}function oo(E,k){var z,X=4;for(z=0;8>z;++z)X+=E[k+z-32];Cs(X>>3,E,k)}function Bo(E,k){var z,X=4;for(z=0;8>z;++z)X+=E[k-1+32*z];Cs(X>>3,E,k)}function ya(E,k){Cs(128,E,k)}function Ai(E,k,z){var X=E[k-z],ge=E[k+0],ye=3*(ge-X)+Ol[1020+E[k-2*z]-E[k+z]],be=Md[112+(ye+4>>3)];E[k-z]=ns[255+X+Md[112+(ye+3>>3)]],E[k+0]=ns[255+ge-be]}function Da(E,k,z,X){var ge=E[k+0],ye=E[k+z];return Ui[255+E[k-2*z]-E[k-z]]>X||Ui[255+ye-ge]>X}function Fo(E,k,z,X){return 4*Ui[255+E[k-z]-E[k+0]]+Ui[255+E[k-2*z]-E[k+z]]<=X}function Bc(E,k,z,X,ge){var ye=E[k-3*z],be=E[k-2*z],Se=E[k-z],Ce=E[k+0],Me=E[k+z],Ve=E[k+2*z],st=E[k+3*z];return 4*Ui[255+Se-Ce]+Ui[255+be-Me]>X?0:Ui[255+E[k-4*z]-ye]<=ge&&Ui[255+ye-be]<=ge&&Ui[255+be-Se]<=ge&&Ui[255+st-Ve]<=ge&&Ui[255+Ve-Me]<=ge&&Ui[255+Me-Ce]<=ge}function Sl(E,k,z,X){var ge=2*X+1;for(X=0;16>X;++X)Fo(E,k+X,z,ge)&&Ai(E,k+X,z)}function _s(E,k,z,X){var ge=2*X+1;for(X=0;16>X;++X)Fo(E,k+X*z,1,ge)&&Ai(E,k+X*z,1)}function ms(E,k,z,X){var ge;for(ge=3;0<ge;--ge)Sl(E,k+=4*z,z,X)}function rc(E,k,z,X){var ge;for(ge=3;0<ge;--ge)_s(E,k+=4,z,X)}function tn(E,k,z,X,ge,ye,be,Se){for(ye=2*ye+1;0<ge--;){if(Bc(E,k,z,ye,be))if(Da(E,k,z,Se))Ai(E,k,z);else{var Ce=E,Me=k,Ve=z,st=Ce[Me-2*Ve],it=Ce[Me-Ve],Ke=Ce[Me+0],kt=Ce[Me+Ve],vt=Ce[Me+2*Ve],Ge=27*(_t=Ol[1020+3*(Ke-it)+Ol[1020+st-kt]])+63>>7,Ye=18*_t+63>>7,_t=9*_t+63>>7;Ce[Me-3*Ve]=ns[255+Ce[Me-3*Ve]+_t],Ce[Me-2*Ve]=ns[255+st+Ye],Ce[Me-Ve]=ns[255+it+Ge],Ce[Me+0]=ns[255+Ke-Ge],Ce[Me+Ve]=ns[255+kt-Ye],Ce[Me+2*Ve]=ns[255+vt-_t]}k+=X}}function js(E,k,z,X,ge,ye,be,Se){for(ye=2*ye+1;0<ge--;){if(Bc(E,k,z,ye,be))if(Da(E,k,z,Se))Ai(E,k,z);else{var Ce=E,Me=k,Ve=z,st=Ce[Me-Ve],it=Ce[Me+0],Ke=Ce[Me+Ve],kt=Md[112+((vt=3*(it-st))+4>>3)],vt=Md[112+(vt+3>>3)],Ge=kt+1>>1;Ce[Me-2*Ve]=ns[255+Ce[Me-2*Ve]+Ge],Ce[Me-Ve]=ns[255+st+vt],Ce[Me+0]=ns[255+it-kt],Ce[Me+Ve]=ns[255+Ke-Ge]}k+=X}}function nl(E,k,z,X,ge,ye){tn(E,k,z,1,16,X,ge,ye)}function es(E,k,z,X,ge,ye){tn(E,k,1,z,16,X,ge,ye)}function Fc(E,k,z,X,ge,ye){var be;for(be=3;0<be;--be)js(E,k+=4*z,z,1,16,X,ge,ye)}function ut(E,k,z,X,ge,ye){var be;for(be=3;0<be;--be)js(E,k+=4,1,z,16,X,ge,ye)}function Br(E,k,z,X,ge,ye,be,Se){tn(E,k,ge,1,8,ye,be,Se),tn(z,X,ge,1,8,ye,be,Se)}function Sa(E,k,z,X,ge,ye,be,Se){tn(E,k,1,ge,8,ye,be,Se),tn(z,X,1,ge,8,ye,be,Se)}function al(E,k,z,X,ge,ye,be,Se){js(E,k+4*ge,ge,1,8,ye,be,Se),js(z,X+4*ge,ge,1,8,ye,be,Se)}function zc(E,k,z,X,ge,ye,be,Se){js(E,k+4,1,ge,8,ye,be,Se),js(z,X+4,1,ge,8,ye,be,Se)}function El(){this.ba=new Ar,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new sn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Uc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function qc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nc(){this.ua=0,this.Wa=new ae,this.vb=new ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new Q}function Ea(){this.xb=this.a=0,this.l=new Mr,this.ca=new Ar,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nc,this.ab=0,this.gc=c(4,qc),this.Oc=0}function lo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Mr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function jn(E,k,z,X,ge,ye,be){for(E=E==null?0:E[k+0],k=0;k<be;++k)ge[ye+k]=E+z[X+k]&255,E=ge[ye+k]}function il(E,k,z,X,ge,ye,be){var Se;if(E==null)jn(null,null,z,X,ge,ye,be);else for(Se=0;Se<be;++Se)ge[ye+Se]=E[k+Se]+z[X+Se]&255}function ts(E,k,z,X,ge,ye,be){if(E==null)jn(null,null,z,X,ge,ye,be);else{var Se,Ce=E[k+0],Me=Ce,Ve=Ce;for(Se=0;Se<be;++Se)Me=Ve+(Ce=E[k+Se])-Me,Ve=z[X+Se]+(-256&Me?0>Me?0:255:Me)&255,Me=Ce,ge[ye+Se]=Ve}}function gn(E,k,z,X){var ge=k.width,ye=k.o;if(t(E!=null&&k!=null),0>z||0>=X||z+X>ye)return null;if(!E.Cc){if(E.ga==null){var be;if(E.ga=new lo,(be=E.ga==null)||(be=k.width*k.o,t(E.Gb.length==0),E.Gb=i(be),E.Uc=0,E.Gb==null?be=0:(E.mb=E.Gb,E.nb=E.Uc,E.rc=null,be=1),be=!be),!be){be=E.ga;var Se=E.Fa,Ce=E.P,Me=E.qc,Ve=E.mb,st=E.nb,it=Ce+1,Ke=Me-1,kt=be.l;if(t(Se!=null&&Ve!=null&&k!=null),Tl[0]=null,Tl[1]=jn,Tl[2]=il,Tl[3]=ts,be.ca=Ve,be.tb=st,be.c=k.width,be.i=k.height,t(0<be.c&&0<be.i),1>=Me)k=0;else if(be.$a=Se[Ce+0]>>0&3,be.Z=Se[Ce+0]>>2&3,be.Lc=Se[Ce+0]>>4&3,Ce=Se[Ce+0]>>6&3,0>be.$a||1<be.$a||4<=be.Z||1<be.Lc||Ce)k=0;else if(kt.put=oa,kt.ac=Gr,kt.bc=la,kt.ma=be,kt.width=k.width,kt.height=k.height,kt.Da=k.Da,kt.v=k.v,kt.va=k.va,kt.j=k.j,kt.o=k.o,be.$a)e:{t(be.$a==1),k=Tt();t:for(;;){if(k==null){k=0;break e}if(t(be!=null),be.mc=k,k.c=be.c,k.i=be.i,k.l=be.l,k.l.ma=be,k.l.width=be.c,k.l.height=be.i,k.a=0,de(k.m,Se,it,Ke),!ht(be.c,be.i,1,k,null)||(k.ab==1&&k.gc[0].hc==3&&bt(k.s)?(be.ic=1,Se=k.c*k.i,k.Ta=null,k.Ua=0,k.V=i(Se),k.Ba=0,k.V==null?(k.a=1,k=0):k=1):(be.ic=0,k=wt(k,be.c)),!k))break t;k=1;break e}be.mc=null,k=0}else k=Ke>=be.c*be.i;be=!k}if(be)return null;E.ga.Lc!=1?E.Ga=0:X=ye-z}t(E.ga!=null),t(z+X<=ye);e:{if(k=(Se=E.ga).c,ye=Se.l.o,Se.$a==0){if(it=E.rc,Ke=E.Vc,kt=E.Fa,Ce=E.P+1+z*k,Me=E.mb,Ve=E.nb+z*k,t(Ce<=E.P+E.qc),Se.Z!=0)for(t(Tl[Se.Z]!=null),be=0;be<X;++be)Tl[Se.Z](it,Ke,kt,Ce,Me,Ve,k),it=Me,Ke=Ve,Ve+=k,Ce+=k;else for(be=0;be<X;++be)n(Me,Ve,kt,Ce,k),it=Me,Ke=Ve,Ve+=k,Ce+=k;E.rc=it,E.Vc=Ke}else{if(t(Se.mc!=null),k=z+X,t((be=Se.mc)!=null),t(k<=be.i),be.C>=k)k=1;else if(Se.ic||Ze(),Se.ic){Se=be.V,it=be.Ba,Ke=be.c;var vt=be.i,Ge=(kt=1,Ce=be.$/Ke,Me=be.$%Ke,Ve=be.m,st=be.s,be.$),Ye=Ke*vt,_t=Ke*k,Rt=st.wc,Et=Ge<_t?_e(st,Me,Ce):null;t(Ge<=Ye),t(k<=vt),t(bt(st));t:for(;;){for(;!Ve.h&&Ge<_t;){if(Me&Rt||(Et=_e(st,Me,Ce)),t(Et!=null),ne(Ve),256>(vt=xa(Et.G[0],Et.H[0],Ve)))Se[it+Ge]=vt,++Ge,++Me>=Ke&&(Me=0,++Ce<=k&&!(Ce%16)&&Pe(be,Ce));else{if(!(280>vt)){kt=0;break t}vt=Za(vt-256,Ve);var Zt,Gt=xa(Et.G[4],Et.H[4],Ve);if(ne(Ve),!(Ge>=(Gt=Jn(Ke,Gt=Za(Gt,Ve)))&&Ye-Ge>=vt)){kt=0;break t}for(Zt=0;Zt<vt;++Zt)Se[it+Ge+Zt]=Se[it+Ge+Zt-Gt];for(Ge+=vt,Me+=vt;Me>=Ke;)Me-=Ke,++Ce<=k&&!(Ce%16)&&Pe(be,Ce);Ge<_t&&Me&Rt&&(Et=_e(st,Me,Ce))}t(Ve.h==se(Ve))}Pe(be,Ce>k?k:Ce);break t}!kt||Ve.h&&Ge<Ye?(kt=0,be.a=Ve.h?5:3):be.$=Ge,k=kt}else k=mt(be,be.V,be.Ba,be.c,be.i,k,Yt);if(!k){X=0;break e}}z+X>=ye&&(E.Cc=1),X=1}if(!X)return null;if(E.Cc&&((X=E.ga)!=null&&(X.mc=null),E.ga=null,0<E.Ga))return alert("todo:WebPDequantizeLevels"),null}return E.nb+z*ge}function P(E,k,z,X,ge,ye){for(;0<ge--;){var be,Se=E,Ce=k+(z?1:0),Me=E,Ve=k+(z?0:3);for(be=0;be<X;++be){var st=Me[Ve+4*be];st!=255&&(st*=32897,Se[Ce+4*be+0]=Se[Ce+4*be+0]*st>>23,Se[Ce+4*be+1]=Se[Ce+4*be+1]*st>>23,Se[Ce+4*be+2]=Se[Ce+4*be+2]*st>>23)}k+=ye}}function xe(E,k,z,X,ge){for(;0<X--;){var ye;for(ye=0;ye<z;++ye){var be=E[k+2*ye+0],Se=15&(Me=E[k+2*ye+1]),Ce=4369*Se,Me=(240&Me|Me>>4)*Ce>>16;E[k+2*ye+0]=(240&be|be>>4)*Ce>>16&240|(15&be|be<<4)*Ce>>16>>4&15,E[k+2*ye+1]=240&Me|Se}k+=ge}}function Ie(E,k,z,X,ge,ye,be,Se){var Ce,Me,Ve=255;for(Me=0;Me<ge;++Me){for(Ce=0;Ce<X;++Ce){var st=E[k+Ce];ye[be+4*Ce]=st,Ve&=st}k+=z,be+=Se}return Ve!=255}function qe(E,k,z,X,ge){var ye;for(ye=0;ye<ge;++ye)z[X+ye]=E[k+ye]>>8}function Ze(){rs=P,ln=xe,Fn=Ie,En=qe}function yt(E,k,z){$[E]=function(X,ge,ye,be,Se,Ce,Me,Ve,st,it,Ke,kt,vt,Ge,Ye,_t,Rt){var Et,Zt=Rt-1>>1,Gt=Se[Ce+0]|Me[Ve+0]<<16,yr=st[it+0]|Ke[kt+0]<<16;t(X!=null);var $t=3*Gt+yr+131074>>2;for(k(X[ge+0],255&$t,$t>>16,vt,Ge),ye!=null&&($t=3*yr+Gt+131074>>2,k(ye[be+0],255&$t,$t>>16,Ye,_t)),Et=1;Et<=Zt;++Et){var Cn=Se[Ce+Et]|Me[Ve+Et]<<16,dn=st[it+Et]|Ke[kt+Et]<<16,xn=Gt+Cn+yr+dn+524296,zr=xn+2*(Cn+yr)>>3;$t=zr+Gt>>1,Gt=(xn=xn+2*(Gt+dn)>>3)+Cn>>1,k(X[ge+2*Et-1],255&$t,$t>>16,vt,Ge+(2*Et-1)*z),k(X[ge+2*Et-0],255&Gt,Gt>>16,vt,Ge+(2*Et-0)*z),ye!=null&&($t=xn+yr>>1,Gt=zr+dn>>1,k(ye[be+2*Et-1],255&$t,$t>>16,Ye,_t+(2*Et-1)*z),k(ye[be+2*Et+0],255&Gt,Gt>>16,Ye,_t+(2*Et+0)*z)),Gt=Cn,yr=dn}1&Rt||($t=3*Gt+yr+131074>>2,k(X[ge+Rt-1],255&$t,$t>>16,vt,Ge+(Rt-1)*z),ye!=null&&($t=3*yr+Gt+131074>>2,k(ye[be+Rt-1],255&$t,$t>>16,Ye,_t+(Rt-1)*z)))}}function Dt(){Hi[jf]=Gc,Hi[as]=Pu,Hi[Of]=Jh,Hi[ho]=Mf,Hi[Ld]=lc,Hi[Du]=sl,Hi[ic]=cc,Hi[Pd]=Pu,Hi[Tf]=Mf,Hi[Mu]=lc,Hi[kf]=sl}function Kt(E){return E&-16384?0>E?0:255:E>>Lf}function vr(E,k){return Kt((19077*E>>8)+(26149*k>>8)-14234)}function Or(E,k,z){return Kt((19077*E>>8)-(6419*k>>8)-(13320*z>>8)+8708)}function Sr(E,k){return Kt((19077*E>>8)+(33050*k>>8)-17685)}function an(E,k,z,X,ge){X[ge+0]=vr(E,z),X[ge+1]=Or(E,k,z),X[ge+2]=Sr(E,k)}function ea(E,k,z,X,ge){X[ge+0]=Sr(E,k),X[ge+1]=Or(E,k,z),X[ge+2]=vr(E,z)}function On(E,k,z,X,ge){var ye=Or(E,k,z);k=ye<<3&224|Sr(E,k)>>3,X[ge+0]=248&vr(E,z)|ye>>5,X[ge+1]=k}function ca(E,k,z,X,ge){var ye=240&Sr(E,k)|15;X[ge+0]=240&vr(E,z)|Or(E,k,z)>>4,X[ge+1]=ye}function di(E,k,z,X,ge){X[ge+0]=255,an(E,k,z,X,ge+1)}function ua(E,k,z,X,ge){ea(E,k,z,X,ge),X[ge+3]=255}function Ni(E,k,z,X,ge){an(E,k,z,X,ge),X[ge+3]=255}function Ma(E,k){return 0>E?0:E>k?k:E}function gs(E,k,z){$[E]=function(X,ge,ye,be,Se,Ce,Me,Ve,st){for(var it=Ve+(-2&st)*z;Ve!=it;)k(X[ge+0],ye[be+0],Se[Ce+0],Me,Ve),k(X[ge+1],ye[be+0],Se[Ce+0],Me,Ve+z),ge+=2,++be,++Ce,Ve+=2*z;1&st&&k(X[ge+0],ye[be+0],Se[Ce+0],Me,Ve)}}function Fi(E,k,z){return z==0?E==0?k==0?6:5:k==0?4:0:z}function Cl(E,k,z,X,ge){switch(E>>>30){case 3:He(k,z,X,ge,0);break;case 2:Xe(k,z,X,ge);break;case 1:Lt(k,z,X,ge)}}function zi(E,k){var z,X,ge=k.M,ye=k.Nb,be=E.oc,Se=E.pc+40,Ce=E.oc,Me=E.pc+584,Ve=E.oc,st=E.pc+600;for(z=0;16>z;++z)be[Se+32*z-1]=129;for(z=0;8>z;++z)Ce[Me+32*z-1]=129,Ve[st+32*z-1]=129;for(0<ge?be[Se-1-32]=Ce[Me-1-32]=Ve[st-1-32]=129:(a(be,Se-32-1,127,21),a(Ce,Me-32-1,127,9),a(Ve,st-32-1,127,9)),X=0;X<E.za;++X){var it=k.ya[k.aa+X];if(0<X){for(z=-1;16>z;++z)n(be,Se+32*z-4,be,Se+32*z+12,4);for(z=-1;8>z;++z)n(Ce,Me+32*z-4,Ce,Me+32*z+4,4),n(Ve,st+32*z-4,Ve,st+32*z+4,4)}var Ke=E.Gd,kt=E.Hd+X,vt=it.ad,Ge=it.Hc;if(0<ge&&(n(be,Se-32,Ke[kt].y,0,16),n(Ce,Me-32,Ke[kt].f,0,8),n(Ve,st-32,Ke[kt].ea,0,8)),it.Za){var Ye=be,_t=Se-32+16;for(0<ge&&(X>=E.za-1?a(Ye,_t,Ke[kt].y[15],4):n(Ye,_t,Ke[kt+1].y,0,4)),z=0;4>z;z++)Ye[_t+128+z]=Ye[_t+256+z]=Ye[_t+384+z]=Ye[_t+0+z];for(z=0;16>z;++z,Ge<<=2)Ye=be,_t=Se+$a[z],La[it.Ob[z]](Ye,_t),Cl(Ge,vt,16*+z,Ye,_t)}else if(Ye=Fi(X,ge,it.Ob[0]),ys[Ye](be,Se),Ge!=0)for(z=0;16>z;++z,Ge<<=2)Cl(Ge,vt,16*+z,be,Se+$a[z]);for(z=it.Gc,Ye=Fi(X,ge,it.Dd),Uo[Ye](Ce,Me),Uo[Ye](Ve,st),Ge=vt,Ye=Ce,_t=Me,255&(it=z>>0)&&(170&it?dt(Ge,256,Ye,_t):Pt(Ge,256,Ye,_t)),it=Ve,Ge=st,255&(z>>=8)&&(170&z?dt(vt,320,it,Ge):Pt(vt,320,it,Ge)),ge<E.Ub-1&&(n(Ke[kt].y,0,be,Se+480,16),n(Ke[kt].f,0,Ce,Me+224,8),n(Ke[kt].ea,0,Ve,st+224,8)),z=8*ye*E.B,Ke=E.sa,kt=E.ta+16*X+16*ye*E.R,vt=E.qa,it=E.ra+8*X+z,Ge=E.Ha,Ye=E.Ia+8*X+z,z=0;16>z;++z)n(Ke,kt+z*E.R,be,Se+32*z,16);for(z=0;8>z;++z)n(vt,it+z*E.B,Ce,Me+32*z,8),n(Ge,Ye+z*E.B,Ve,st+32*z,8)}}function co(E,k,z,X,ge,ye,be,Se,Ce){var Me=[0],Ve=[0],st=0,it=Ce!=null?Ce.kd:0,Ke=Ce??new Uc;if(E==null||12>z)return 7;Ke.data=E,Ke.w=k,Ke.ha=z,k=[k],z=[z],Ke.gb=[Ke.gb];e:{var kt=k,vt=z,Ge=Ke.gb;if(t(E!=null),t(vt!=null),t(Ge!=null),Ge[0]=0,12<=vt[0]&&!r(E,kt[0],"RIFF")){if(r(E,kt[0]+8,"WEBP")){Ge=3;break e}var Ye=Le(E,kt[0]+4);if(12>Ye||4294967286<Ye){Ge=3;break e}if(it&&Ye>vt[0]-8){Ge=7;break e}Ge[0]=Ye,kt[0]+=12,vt[0]-=12}Ge=0}if(Ge!=0)return Ge;for(Ye=0<Ke.gb[0],z=z[0];;){e:{var _t=E;vt=k,Ge=z;var Rt=Me,Et=Ve,Zt=kt=[0];if(($t=st=[st])[0]=0,8>Ge[0])Ge=7;else{if(!r(_t,vt[0],"VP8X")){if(Le(_t,vt[0]+4)!=10){Ge=3;break e}if(18>Ge[0]){Ge=7;break e}var Gt=Le(_t,vt[0]+8),yr=1+ue(_t,vt[0]+12);if(2147483648<=yr*(_t=1+ue(_t,vt[0]+15))){Ge=3;break e}Zt!=null&&(Zt[0]=Gt),Rt!=null&&(Rt[0]=yr),Et!=null&&(Et[0]=_t),vt[0]+=18,Ge[0]-=18,$t[0]=1}Ge=0}}if(st=st[0],kt=kt[0],Ge!=0)return Ge;if(vt=!!(2&kt),!Ye&&st)return 3;if(ye!=null&&(ye[0]=!!(16&kt)),be!=null&&(be[0]=vt),Se!=null&&(Se[0]=0),be=Me[0],kt=Ve[0],st&&vt&&Ce==null){Ge=0;break}if(4>z){Ge=7;break}if(Ye&&st||!Ye&&!st&&!r(E,k[0],"ALPH")){z=[z],Ke.na=[Ke.na],Ke.P=[Ke.P],Ke.Sa=[Ke.Sa];e:{Gt=E,Ge=k,Ye=z;var $t=Ke.gb;Rt=Ke.na,Et=Ke.P,Zt=Ke.Sa,yr=22,t(Gt!=null),t(Ye!=null),_t=Ge[0];var Cn=Ye[0];for(t(Rt!=null),t(Zt!=null),Rt[0]=null,Et[0]=null,Zt[0]=0;;){if(Ge[0]=_t,Ye[0]=Cn,8>Cn){Ge=7;break e}var dn=Le(Gt,_t+4);if(4294967286<dn){Ge=3;break e}var xn=8+dn+1&-2;if(yr+=xn,0<$t&&yr>$t){Ge=3;break e}if(!r(Gt,_t,"VP8 ")||!r(Gt,_t,"VP8L")){Ge=0;break e}if(Cn[0]<xn){Ge=7;break e}r(Gt,_t,"ALPH")||(Rt[0]=Gt,Et[0]=_t+8,Zt[0]=dn),_t+=xn,Cn-=xn}}if(z=z[0],Ke.na=Ke.na[0],Ke.P=Ke.P[0],Ke.Sa=Ke.Sa[0],Ge!=0)break}z=[z],Ke.Ja=[Ke.Ja],Ke.xa=[Ke.xa];e:if($t=E,Ge=k,Ye=z,Rt=Ke.gb[0],Et=Ke.Ja,Zt=Ke.xa,Gt=Ge[0],_t=!r($t,Gt,"VP8 "),yr=!r($t,Gt,"VP8L"),t($t!=null),t(Ye!=null),t(Et!=null),t(Zt!=null),8>Ye[0])Ge=7;else{if(_t||yr){if($t=Le($t,Gt+4),12<=Rt&&$t>Rt-12){Ge=3;break e}if(it&&$t>Ye[0]-8){Ge=7;break e}Et[0]=$t,Ge[0]+=8,Ye[0]-=8,Zt[0]=yr}else Zt[0]=5<=Ye[0]&&$t[Gt+0]==47&&!($t[Gt+4]>>5),Et[0]=Ye[0];Ge=0}if(z=z[0],Ke.Ja=Ke.Ja[0],Ke.xa=Ke.xa[0],k=k[0],Ge!=0)break;if(4294967286<Ke.Ja)return 3;if(Se==null||vt||(Se[0]=Ke.xa?2:1),be=[be],kt=[kt],Ke.xa){if(5>z){Ge=7;break}Se=be,it=kt,vt=ye,E==null||5>z?E=0:5<=z&&E[k+0]==47&&!(E[k+4]>>5)?(Ye=[0],$t=[0],Rt=[0],de(Et=new U,E,k,z),or(Et,Ye,$t,Rt)?(Se!=null&&(Se[0]=Ye[0]),it!=null&&(it[0]=$t[0]),vt!=null&&(vt[0]=Rt[0]),E=1):E=0):E=0}else{if(10>z){Ge=7;break}Se=kt,E==null||10>z||!Jr(E,k+3,z-3)?E=0:(it=E[k+0]|E[k+1]<<8|E[k+2]<<16,vt=16383&(E[k+7]<<8|E[k+6]),E=16383&(E[k+9]<<8|E[k+8]),1&it||3<(it>>1&7)||!(it>>4&1)||it>>5>=Ke.Ja||!vt||!E?E=0:(be&&(be[0]=vt),Se&&(Se[0]=E),E=1))}if(!E||(be=be[0],kt=kt[0],st&&(Me[0]!=be||Ve[0]!=kt)))return 3;Ce!=null&&(Ce[0]=Ke,Ce.offset=k-Ce.w,t(4294967286>k-Ce.w),t(Ce.offset==Ce.ha-z));break}return Ge==0||Ge==7&&st&&Ce==null?(ye!=null&&(ye[0]|=Ke.na!=null&&0<Ke.na.length),X!=null&&(X[0]=be),ge!=null&&(ge[0]=kt),0):Ge}function $s(E,k,z){var X=k.width,ge=k.height,ye=0,be=0,Se=X,Ce=ge;if(k.Da=E!=null&&0<E.Da,k.Da&&(Se=E.cd,Ce=E.bd,ye=E.v,be=E.j,11>z||(ye&=-2,be&=-2),0>ye||0>be||0>=Se||0>=Ce||ye+Se>X||be+Ce>ge))return 0;if(k.v=ye,k.j=be,k.va=ye+Se,k.o=be+Ce,k.U=Se,k.T=Ce,k.da=E!=null&&0<E.da,k.da){if(!nt(Se,Ce,z=[E.ib],ye=[E.hb]))return 0;k.ib=z[0],k.hb=ye[0]}return k.ob=E!=null&&E.ob,k.Kb=E==null||!E.Sd,k.da&&(k.ob=k.ib<3*X/4&&k.hb<3*ge/4,k.Kb=0),1}function Hc(E){if(E==null)return 2;if(11>E.S){var k=E.f.RGBA;k.fb+=(E.height-1)*k.A,k.A=-k.A}else k=E.f.kb,E=E.height,k.O+=(E-1)*k.fa,k.fa=-k.fa,k.N+=(E-1>>1)*k.Ab,k.Ab=-k.Ab,k.W+=(E-1>>1)*k.Db,k.Db=-k.Db,k.F!=null&&(k.J+=(E-1)*k.lb,k.lb=-k.lb);return 0}function uo(E,k,z,X){if(X==null||0>=E||0>=k)return 2;if(z!=null){if(z.Da){var ge=z.cd,ye=z.bd,be=-2&z.v,Se=-2&z.j;if(0>be||0>Se||0>=ge||0>=ye||be+ge>E||Se+ye>k)return 2;E=ge,k=ye}if(z.da){if(!nt(E,k,ge=[z.ib],ye=[z.hb]))return 2;E=ge[0],k=ye[0]}}X.width=E,X.height=k;e:{var Ce=X.width,Me=X.height;if(E=X.S,0>=Ce||0>=Me||!(E>=jf&&13>E))E=2;else{if(0>=X.Rd&&X.sd==null){be=ye=ge=k=0;var Ve=(Se=Ce*Rf[E])*Me;if(11>E||(ye=(Me+1)/2*(k=(Ce+1)/2),E==12&&(be=(ge=Ce)*Me)),(Me=i(Ve+2*ye+be))==null){E=1;break e}X.sd=Me,11>E?((Ce=X.f.RGBA).eb=Me,Ce.fb=0,Ce.A=Se,Ce.size=Ve):((Ce=X.f.kb).y=Me,Ce.O=0,Ce.fa=Se,Ce.Fd=Ve,Ce.f=Me,Ce.N=0+Ve,Ce.Ab=k,Ce.Cd=ye,Ce.ea=Me,Ce.W=0+Ve+ye,Ce.Db=k,Ce.Ed=ye,E==12&&(Ce.F=Me,Ce.J=0+Ve+2*ye),Ce.Tc=be,Ce.lb=ge)}if(k=1,ge=X.S,ye=X.width,be=X.height,ge>=jf&&13>ge)if(11>ge)E=X.f.RGBA,k&=(Se=Math.abs(E.A))*(be-1)+ye<=E.size,k&=Se>=ye*Rf[ge],k&=E.eb!=null;else{E=X.f.kb,Se=(ye+1)/2,Ve=(be+1)/2,Ce=Math.abs(E.fa),Me=Math.abs(E.Ab);var st=Math.abs(E.Db),it=Math.abs(E.lb),Ke=it*(be-1)+ye;k&=Ce*(be-1)+ye<=E.Fd,k&=Me*(Ve-1)+Se<=E.Cd,k=(k&=st*(Ve-1)+Se<=E.Ed)&Ce>=ye&Me>=Se&st>=Se,k&=E.y!=null,k&=E.f!=null,k&=E.ea!=null,ge==12&&(k&=it>=ye,k&=Ke<=E.Tc,k&=E.F!=null)}else k=0;E=k?0:2}}return E!=0||z!=null&&z.fd&&(E=Hc(X)),E}var Bn=64,_l=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],fo=24,Os=32,$r=8,ti=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qe("Predictor0","PredictorAdd0"),$.Predictor0=function(){return 4278190080},$.Predictor1=function(E){return E},$.Predictor2=function(E,k,z){return k[z+0]},$.Predictor3=function(E,k,z){return k[z+1]},$.Predictor4=function(E,k,z){return k[z-1]},$.Predictor5=function(E,k,z){return et(et(E,k[z+1]),k[z+0])},$.Predictor6=function(E,k,z){return et(E,k[z-1])},$.Predictor7=function(E,k,z){return et(E,k[z+0])},$.Predictor8=function(E,k,z){return et(k[z-1],k[z+0])},$.Predictor9=function(E,k,z){return et(k[z+0],k[z+1])},$.Predictor10=function(E,k,z){return et(et(E,k[z-1]),et(k[z+0],k[z+1]))},$.Predictor11=function(E,k,z){var X=k[z+0];return 0>=Wt(X>>24&255,E>>24&255,(k=k[z-1])>>24&255)+Wt(X>>16&255,E>>16&255,k>>16&255)+Wt(X>>8&255,E>>8&255,k>>8&255)+Wt(255&X,255&E,255&k)?X:E},$.Predictor12=function(E,k,z){var X=k[z+0];return(St((E>>24&255)+(X>>24&255)-((k=k[z-1])>>24&255))<<24|St((E>>16&255)+(X>>16&255)-(k>>16&255))<<16|St((E>>8&255)+(X>>8&255)-(k>>8&255))<<8|St((255&E)+(255&X)-(255&k)))>>>0},$.Predictor13=function(E,k,z){var X=k[z-1];return(qt((E=et(E,k[z+0]))>>24&255,X>>24&255)<<24|qt(E>>16&255,X>>16&255)<<16|qt(E>>8&255,X>>8&255)<<8|qt(E>>0&255,X>>0&255))>>>0};var he=$.PredictorAdd0;$.PredictorAdd1=tr,Qe("Predictor2","PredictorAdd2"),Qe("Predictor3","PredictorAdd3"),Qe("Predictor4","PredictorAdd4"),Qe("Predictor5","PredictorAdd5"),Qe("Predictor6","PredictorAdd6"),Qe("Predictor7","PredictorAdd7"),Qe("Predictor8","PredictorAdd8"),Qe("Predictor9","PredictorAdd9"),Qe("Predictor10","PredictorAdd10"),Qe("Predictor11","PredictorAdd11"),Qe("Predictor12","PredictorAdd12"),Qe("Predictor13","PredictorAdd13");var o=$.PredictorAdd2;Er("ColorIndexInverseTransform","MapARGB","32b",function(E){return E>>8&255},function(E){return E}),Er("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(E){return E},function(E){return E>>8&255});var d,h=$.ColorIndexInverseTransform,v=$.MapARGB,b=$.VP8LColorIndexInverseTransformAlpha,A=$.MapAlpha,C=$.VP8LPredictorsAdd=[];C.length=16,($.VP8LPredictors=[]).length=16,($.VP8LPredictorsAdd_C=[]).length=16,($.VP8LPredictors_C=[]).length=16;var D,B,K,fe,we,De,ze,He,Xe,dt,Lt,Pt,Mt,Fr,Tr,Gn,ri,ba,on,wa,Ya,xs,Xs,vs,rs,ln,Fn,En,Aa=i(511),zo=i(2041),ac=i(225),jl=i(767),Iu=0,Ol=zo,Md=ac,ns=jl,Ui=Aa,jf=0,as=1,Of=2,ho=3,Ld=4,Du=5,ic=6,Pd=7,Tf=8,Mu=9,kf=10,po=[2,3,7],Lu=[3,3,11],Vc=[280,256,256,256,40],If=[0,1,1,1,0],Rd=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],mo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],go=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],sc=8,xo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],vo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ks=null,$1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Qh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Df=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],X1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],qi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],da=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],un=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ys=[],La=[],Uo=[],oc=1,Zh=2,Tl=[],Hi=[];yt("UpsampleRgbLinePair",an,3),yt("UpsampleBgrLinePair",ea,3),yt("UpsampleRgbaLinePair",Ni,4),yt("UpsampleBgraLinePair",ua,4),yt("UpsampleArgbLinePair",di,4),yt("UpsampleRgba4444LinePair",ca,2),yt("UpsampleRgb565LinePair",On,2);var Gc=$.UpsampleRgbLinePair,Jh=$.UpsampleBgrLinePair,Pu=$.UpsampleRgbaLinePair,Mf=$.UpsampleBgraLinePair,lc=$.UpsampleArgbLinePair,sl=$.UpsampleRgba4444LinePair,cc=$.UpsampleRgb565LinePair,yo=16,Ru=1<<yo-1,Wc=-227,uc=482,Lf=6,dc=0,Vi=i(256),Pf=i(256),K1=i(256),Bx=i(256),Fx=i(uc-Wc),zx=i(uc-Wc);gs("YuvToRgbRow",an,3),gs("YuvToBgrRow",ea,3),gs("YuvToRgbaRow",Ni,4),gs("YuvToBgraRow",ua,4),gs("YuvToArgbRow",di,4),gs("YuvToRgba4444Row",ca,2),gs("YuvToRgb565Row",On,2);var $a=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bu=[0,2,8],Bd=[8,7,6,4,4,2,2,2,1,1,1,1],Fd=1;this.WebPDecodeRGBA=function(E,k,z,X,ge){var ye=as,be=new El,Se=new Ar;be.ba=Se,Se.S=ye,Se.width=[Se.width],Se.height=[Se.height];var Ce=Se.width,Me=Se.height,Ve=new sa;if(Ve==null||E==null)var st=2;else t(Ve!=null),st=co(E,k,z,Ve.width,Ve.height,Ve.Pd,Ve.Qd,Ve.format,null);if(st!=0?Ce=0:(Ce!=null&&(Ce[0]=Ve.width[0]),Me!=null&&(Me[0]=Ve.height[0]),Ce=1),Ce){Se.width=Se.width[0],Se.height=Se.height[0],X!=null&&(X[0]=Se.width),ge!=null&&(ge[0]=Se.height);e:{if(X=new Mr,(ge=new Uc).data=E,ge.w=k,ge.ha=z,ge.kd=1,k=[0],t(ge!=null),((E=co(ge.data,ge.w,ge.ha,null,null,null,k,null,ge))==0||E==7)&&k[0]&&(E=4),(k=E)==0){if(t(be!=null),X.data=ge.data,X.w=ge.w+ge.offset,X.ha=ge.ha-ge.offset,X.put=oa,X.ac=Gr,X.bc=la,X.ma=be,ge.xa){if((E=Tt())==null){be=1;break e}if(function(it,Ke){var kt=[0],vt=[0],Ge=[0];t:for(;;){if(it==null)return 0;if(Ke==null)return it.a=2,0;if(it.l=Ke,it.a=0,de(it.m,Ke.data,Ke.w,Ke.ha),!or(it.m,kt,vt,Ge)){it.a=3;break t}if(it.xb=Zh,Ke.width=kt[0],Ke.height=vt[0],!ht(kt[0],vt[0],1,it,null))break t;return 1}return t(it.a!=0),0}(E,X)){if(X=(k=uo(X.width,X.height,be.Oa,be.ba))==0){t:{X=E;r:for(;;){if(X==null){X=0;break t}if(t(X.s.yc!=null),t(X.s.Ya!=null),t(0<X.s.Wb),t((z=X.l)!=null),t((ge=z.ma)!=null),X.xb!=0){if(X.ca=ge.ba,X.tb=ge.tb,t(X.ca!=null),!$s(ge.Oa,z,ho)){X.a=2;break r}if(!wt(X,z.width)||z.da)break r;if((z.da||Ur(X.ca.S))&&Ze(),11>X.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),X.ca.f.kb.F!=null&&Ze()),X.Pb&&0<X.s.ua&&X.s.vb.X==null&&!$e(X.s.vb,X.s.Wa.Xa)){X.a=1;break r}X.xb=0}if(!mt(X,X.V,X.Ba,X.c,X.i,z.o,tt))break r;ge.Dc=X.Ma,X=1;break t}t(X.a!=0),X=0}X=!X}X&&(k=E.a)}else k=E.a}else{if((E=new Vs)==null){be=1;break e}if(E.Fa=ge.na,E.P=ge.P,E.qc=ge.Sa,Cr(E,X)){if((k=uo(X.width,X.height,be.Oa,be.ba))==0){if(E.Aa=0,z=be.Oa,t((ge=E)!=null),z!=null){if(0<(Ce=0>(Ce=z.Md)?0:100<Ce?255:255*Ce/100)){for(Me=Ve=0;4>Me;++Me)12>(st=ge.pb[Me]).lc&&(st.ia=Ce*Bd[0>st.lc?0:st.lc]>>3),Ve|=st.ia;Ve&&(alert("todo:VP8InitRandom"),ge.ia=1)}ge.Ga=z.Id,100<ge.Ga?ge.Ga=100:0>ge.Ga&&(ge.Ga=0)}mn(E,X)||(k=E.a)}}else k=E.a}k==0&&be.Oa!=null&&be.Oa.fd&&(k=Hc(be.ba))}be=k}ye=be!=0?null:11>ye?Se.f.RGBA.eb:Se.f.kb.y}else ye=null;return ye};var Rf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p($,W){for(var Ne="",Z=0;Z<4;Z++)Ne+=String.fromCharCode($[W++]);return Ne}function x($,W){return($[W+0]<<0|$[W+1]<<8|$[W+2]<<16)>>>0}function y($,W){return($[W+0]<<0|$[W+1]<<8|$[W+2]<<16|$[W+3]<<24)>>>0}new m;var S=[0],N=[0],j=[],_=new m,T=e,I=function($,W){var Ne={},Z=0,Q=!1,me=0,re=0;if(Ne.frames=[],!function(H,se,ve,ne){for(var le=0;le<ne;le++)if(H[se+le]!=ve.charCodeAt(le))return!0;return!1}($,W,"RIFF",4)){var q,ie;for(y($,W+=4),W+=8;W<$.length;){var oe=p($,W),de=y($,W+=4);W+=4;var ee=de+(1&de);switch(oe){case"VP8 ":case"VP8L":Ne.frames[Z]===void 0&&(Ne.frames[Z]={}),(U=Ne.frames[Z]).src_off=Q?re:W-8,U.src_size=me+de+8,Z++,Q&&(Q=!1,me=0,re=0);break;case"VP8X":(U=Ne.header={}).feature_flags=$[W];var Ae=W+4;U.canvas_width=1+x($,Ae),Ae+=3,U.canvas_height=1+x($,Ae),Ae+=3;break;case"ALPH":Q=!0,me=ee+8,re=W-8;break;case"ANIM":(U=Ne.header).bgcolor=y($,W),Ae=W+4,U.loop_count=(q=$)[(ie=Ae)+0]<<0|q[ie+1]<<8,Ae+=2;break;case"ANMF":var ce,U;(U=Ne.frames[Z]={}).offset_x=2*x($,W),W+=3,U.offset_y=2*x($,W),W+=3,U.width=1+x($,W),W+=3,U.height=1+x($,W),W+=3,U.duration=x($,W),W+=3,ce=$[W++],U.dispose=1&ce,U.blend=ce>>1&1}oe!="ANMF"&&(W+=ee)}return Ne}}(T,0);I.response=T,I.rgbaoutput=!0,I.dataurl=!1;var R=I.header?I.header:null,F=I.frames?I.frames:null;if(R){R.loop_counter=R.loop_count,S=[R.canvas_height],N=[R.canvas_width];for(var G=0;G<F.length&&F[G].blend!=0;G++);}var Y=F[0],J=_.WebPDecodeRGBA(T,Y.src_off,Y.src_size,N,S);Y.rgba=J,Y.imgwidth=N[0],Y.imgheight=S[0];for(var V=0;V<N[0]*S[0]*4;V++)j[V]=J[V];return this.width=N,this.height=S,this.data=j,this}(function(e){var t=function(){return typeof Eb=="function"},r=function(S,N,j,_){var T=4,I=c;switch(_){case e.image_compression.FAST:T=1,I=i;break;case e.image_compression.MEDIUM:T=6,I=f;break;case e.image_compression.SLOW:T=9,I=m}S=n(S,N,j,I);var R=Eb(S,{level:T});return e.__addimage__.arrayBufferToBinaryString(R)},n=function(S,N,j,_){for(var T,I,R,F=S.length/N,G=new Uint8Array(S.length+F),Y=x(),J=0;J<F;J+=1){if(R=J*N,T=S.subarray(R,R+N),_)G.set(_(T,j,I),R+J);else{for(var V,$=Y.length,W=[];V<$;V+=1)W[V]=Y[V](T,j,I);var Ne=y(W.concat());G.set(W[Ne],R+J)}I=T}return G},a=function(S){var N=Array.apply([],S);return N.unshift(0),N},i=function(S,N){var j,_=[],T=S.length;_[0]=1;for(var I=0;I<T;I+=1)j=S[I-N]||0,_[I+1]=S[I]-j+256&255;return _},c=function(S,N,j){var _,T=[],I=S.length;T[0]=2;for(var R=0;R<I;R+=1)_=j&&j[R]||0,T[R+1]=S[R]-_+256&255;return T},f=function(S,N,j){var _,T,I=[],R=S.length;I[0]=3;for(var F=0;F<R;F+=1)_=S[F-N]||0,T=j&&j[F]||0,I[F+1]=S[F]+256-(_+T>>>1)&255;return I},m=function(S,N,j){var _,T,I,R,F=[],G=S.length;F[0]=4;for(var Y=0;Y<G;Y+=1)_=S[Y-N]||0,T=j&&j[Y]||0,I=j&&j[Y-N]||0,R=p(_,T,I),F[Y+1]=S[Y]-R+256&255;return F},p=function(S,N,j){if(S===N&&N===j)return S;var _=Math.abs(N-j),T=Math.abs(S-j),I=Math.abs(S+N-j-j);return _<=T&&_<=I?S:T<=I?N:j},x=function(){return[a,i,c,f,m]},y=function(S){var N=S.map(function(j){return j.reduce(function(_,T){return _+Math.abs(T)},0)});return N.indexOf(Math.min.apply(null,N))};e.processPNG=function(S,N,j,_){var T,I,R,F,G,Y,J,V,$,W,Ne,Z,Q,me,re,q=this.decode.FLATE_DECODE,ie="";if(this.__addimage__.isArrayBuffer(S)&&(S=new Uint8Array(S)),this.__addimage__.isArrayBufferView(S)){if(S=(R=new hF(S)).imgData,I=R.bits,T=R.colorSpace,G=R.colors,[4,6].indexOf(R.colorType)!==-1){if(R.bits===8){$=(V=R.pixelBitlength==32?new Uint32Array(R.decodePixels().buffer):R.pixelBitlength==16?new Uint16Array(R.decodePixels().buffer):new Uint8Array(R.decodePixels().buffer)).length,Ne=new Uint8Array($*R.colors),W=new Uint8Array($);var oe,de=R.pixelBitlength-R.bits;for(me=0,re=0;me<$;me++){for(Q=V[me],oe=0;oe<de;)Ne[re++]=Q>>>oe&255,oe+=R.bits;W[me]=Q>>>oe&255}}if(R.bits===16){$=(V=new Uint32Array(R.decodePixels().buffer)).length,Ne=new Uint8Array($*(32/R.pixelBitlength)*R.colors),W=new Uint8Array($*(32/R.pixelBitlength)),Z=R.colors>1,me=0,re=0;for(var ee=0;me<$;)Q=V[me++],Ne[re++]=Q>>>0&255,Z&&(Ne[re++]=Q>>>16&255,Q=V[me++],Ne[re++]=Q>>>0&255),W[ee++]=Q>>>16&255;I=8}_!==e.image_compression.NONE&&t()?(S=r(Ne,R.width*R.colors,R.colors,_),J=r(W,R.width,1,_)):(S=Ne,J=W,q=void 0)}if(R.colorType===3&&(T=this.color_spaces.INDEXED,Y=R.palette,R.transparency.indexed)){var Ae=R.transparency.indexed,ce=0;for(me=0,$=Ae.length;me<$;++me)ce+=Ae[me];if((ce/=255)===$-1&&Ae.indexOf(0)!==-1)F=[Ae.indexOf(0)];else if(ce!==$){for(V=R.decodePixels(),W=new Uint8Array(V.length),me=0,$=V.length;me<$;me++)W[me]=Ae[V[me]];J=r(W,R.width,1)}}var U=function(H){var se;switch(H){case e.image_compression.FAST:se=11;break;case e.image_compression.MEDIUM:se=13;break;case e.image_compression.SLOW:se=14;break;default:se=12}return se}(_);return q===this.decode.FLATE_DECODE&&(ie="/Predictor "+U+" "),ie+="/Colors "+G+" /BitsPerComponent "+I+" /Columns "+R.width,(this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),(J&&this.__addimage__.isArrayBuffer(J)||this.__addimage__.isArrayBufferView(J))&&(J=this.__addimage__.arrayBufferToBinaryString(J)),{alias:j,data:S,index:N,filter:q,decodeParameters:ie,transparency:F,palette:Y,sMask:J,predictor:U,width:R.width,height:R.height,bitsPerComponent:I,colorSpace:T}}}})(br.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new pF(t),c=i.width,f=i.height,m=[];i.decodeAndBlitFrameRGBA(0,m);var p={data:m,width:c,height:f},x=new yv(100).encode(p,100);return e.processJPEG.call(this,x,r,n,a)},e.processGIF87A=e.processGIF89A}(br.API),Fl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){pa.log("bit decode error:"+r)}},Fl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+8*a*4,f=0;f<8&&8*a+f<this.width;f++){var m=this.palette[i>>7-f&1];this.data[c+4*f]=m.blue,this.data[c+4*f+1]=m.green,this.data[c+4*f+2]=m.red,this.data[c+4*f+3]=255}r!==0&&(this.pos+=4-r)}},Fl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+2*a*4,f=i>>4,m=15&i,p=this.palette[f];if(this.data[c]=p.blue,this.data[c+1]=p.green,this.data[c+2]=p.red,this.data[c+3]=255,2*a+1>=this.width)break;p=this.palette[m],this.data[c+4]=p.blue,this.data[c+4+1]=p.green,this.data[c+4+2]=p.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},Fl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var c=this.palette[a];this.data[i]=c.red,this.data[i+1]=c.green,this.data[i+2]=c.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Fl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(i&t)/t*255|0,f=(i>>5&t)/t*255|0,m=(i>>10&t)/t*255|0,p=i>>15?255:0,x=n*this.width*4+4*a;this.data[x]=m,this.data[x+1]=f,this.data[x+2]=c,this.data[x+3]=p}this.pos+=e}},Fl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(c&t)/t*255|0,m=(c>>5&r)/r*255|0,p=(c>>11)/t*255|0,x=a*this.width*4+4*i;this.data[x]=p,this.data[x+1]=m,this.data[x+2]=f,this.data[x+3]=255}this.pos+=e}},Fl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*r;this.data[c]=i,this.data[c+1]=a,this.data[c+2]=n,this.data[c+3]=255}this.pos+=this.width%4}},Fl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),f=t*this.width*4+4*r;this.data[f]=i,this.data[f+1]=a,this.data[f+2]=n,this.data[f+3]=c}},Fl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Fl(t,!1),c=i.width,f=i.height,m={data:i.getData(),width:c,height:f},p=new yv(100).encode(m,100);return e.processJPEG.call(this,p,r,n,a)}}(br.API),kS.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new kS(t),c=i.width,f=i.height,m={data:i.getData(),width:c,height:f},p=new yv(100).encode(m,100);return e.processJPEG.call(this,p,r,n,a)}}(br.API),br.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),c=new Uint8Array(a/4),f=0,m=0,p=0;p<a;p+=4){var x=n[p],y=n[p+1],S=n[p+2],N=n[p+3];i[f++]=x,i[f++]=y,i[f++]=S,c[m++]=N}var j=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:j,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},br.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},sh=br.API,Gp=sh.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),f=t.widths?t.widths:a.metadata.Unicode.widths,m=f.fof?f.fof:1,p=t.kerning?t.kerning:a.metadata.Unicode.kerning,x=p.fof?p.fof:1,y=t.doKerning!==!1,S=0,N=e.length,j=0,_=f[0]||m,T=[];for(r=0;r<N;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?T.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+c*(1e3/i)||0)/1e3):(S=y&&Zn(p[n])==="object"&&!isNaN(parseInt(p[n][j],10))?p[n][j]/x:0,T.push((f[n]||_)/m+S)),j=n;return T},_S=sh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return sh.processArabic&&(e=sh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Gp.apply(this,arguments).reduce(function(i,c){return i+c},0)},jS=function(e,t,r,n){for(var a=[],i=0,c=e.length,f=0;i!==c&&f+t[i]<r;)f+=t[i],i++;a.push(e.slice(0,i));var m=i;for(f=0;i!==c;)f+t[i]>n&&(a.push(e.slice(m,i)),f=0,m=i),f+=t[i],i++;return m!==i&&a.push(e.slice(m,i)),a},OS=function(e,t,r){r||(r={});var n,a,i,c,f,m,p,x=[],y=[x],S=r.textIndent||0,N=0,j=0,_=e.split(" "),T=Gp.apply(this,[" ",r])[0];if(m=r.lineIndent===-1?_[0].length+2:r.lineIndent||0){var I=Array(m).join(" "),R=[];_.map(function(G){(G=G.split(/\s*\n/)).length>1?R=R.concat(G.map(function(Y,J){return(J&&Y.length?`
`:"")+Y})):R.push(G[0])}),_=R,m=_S.apply(this,[I,r])}for(i=0,c=_.length;i<c;i++){var F=0;if(n=_[i],m&&n[0]==`
`&&(n=n.substr(1),F=1),S+N+(j=(a=Gp.apply(this,[n,r])).reduce(function(G,Y){return G+Y},0))>t||F){if(j>t){for(f=jS.apply(this,[n,a,t-(S+N),t]),x.push(f.shift()),x=[f.pop()];f.length;)y.push([f.shift()]);j=a.slice(n.length-(x[0]?x[0].length:0)).reduce(function(G,Y){return G+Y},0)}else x=[n];y.push(x),S=j+m,N=T}else x.push(n),S+=N+j,N=T}return p=m?function(G,Y){return(Y?I:"")+G.join(" ")}:function(G){return G.join(" ")},y.map(p)},sh.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(x){if(x.widths&&x.kerning)return{widths:x.widths,kerning:x.kerning};var y=this.internal.getFont(x.fontName,x.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var f,m,p=[];for(f=0,m=n.length;f<m;f++)p=p.concat(OS.apply(this,[n[f],c,i]));return p},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(y){return"0x"+parseInt(y,10).toString(16)},c=e.__fontmetrics__.compress=function(y){var S,N,j,_,T=["{"];for(var I in y){if(S=y[I],isNaN(parseInt(I,10))?N="'"+I+"'":(I=parseInt(I,10),N=(N=i(I).slice(2)).slice(0,-1)+n[N.slice(-1)]),typeof S=="number")S<0?(j=i(S).slice(3),_="-"):(j=i(S).slice(2),_=""),j=_+j.slice(0,-1)+n[j.slice(-1)];else{if(Zn(S)!=="object")throw new Error("Don't know what to do with value type "+Zn(S)+".");j=c(S)}T.push(N+j)}return T.push("}"),T.join("")},f=e.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var S,N,j,_,T={},I=1,R=T,F=[],G="",Y="",J=y.length-1,V=1;V<J;V+=1)(_=y[V])=="'"?S?(j=S.join(""),S=void 0):S=[]:S?S.push(_):_=="{"?(F.push([R,j]),R={},j=void 0):_=="}"?((N=F.pop())[0][N[1]]=R,j=void 0,R=N[0]):_=="-"?I=-1:j===void 0?r.hasOwnProperty(_)?(G+=r[_],j=parseInt(G,16)*I,I=1,G=""):G+=_:r.hasOwnProperty(_)?(Y+=r[_],R[j]=parseInt(Y,16)*I,I=1,j=void 0,Y=""):Y+=_;return T},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},x={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(y){var S=y.font,N=x.Unicode[S.postScriptName];N&&(S.metadata.Unicode={},S.metadata.Unicode.widths=N.widths,S.metadata.Unicode.kerning=N.kerning);var j=p.Unicode[S.postScriptName];j&&(S.metadata.Unicode.encoding=j,S.encoding=j.codePages[0])}])}(br.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,f){f=/^\x00\x01\x00\x00/.test(f)?t(f):t(Z0(f)),c.metadata=e.API.TTFFont.open(f),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,n)}}])}(br),function(e){function t(){return(Dr.canvg?Promise.resolve(Dr.canvg):bb(()=>import("./index.es-DpOPrdzH.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}br.API.addSvgAsImage=function(r,n,a,i,c,f,m,p){if(isNaN(n)||isNaN(a))throw pa.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(c))throw pa.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var x=document.createElement("canvas");x.width=i,x.height=c;var y=x.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,x.width,x.height);var S={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},N=this;return t().then(function(j){return j.fromString(y,r,S)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(j){return j.render(S)}).then(function(){N.addImage(x.toDataURL("image/jpeg",1),n,a,i,c,m,p)})}}(),br.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},br.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},f=Object.keys(c),m=[],p=0,x=0,y=0;function S(j,_){var T,I=!1;for(T=0;T<j.length;T+=1)j[T]===_&&(I=!0);return I}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var N=f.length;for(y=0;y<N;y+=1)r[f[y]].value=r[f[y]].defaultValue,r[f[y]].explicitSet=!1}if(Zn(e)==="object"){for(a in e)if(i=e[a],S(f,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&S(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(p=0;p<i.length;p+=1)if(n=!0,i[p].length===1&&typeof i[p][0]=="number")m.push(String(i[p]-1));else if(i[p].length>1){for(x=0;x<i[p].length;x+=1)typeof i[p][x]!="number"&&(n=!1);n===!0&&m.push([i[p][0]-1,i[p][1]-1].join(" "))}r[a].value="["+m.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,_=[];for(j in r)r[j].explicitSet===!0&&(r[j].type==="name"?_.push("/"+j+" /"+r[j].value):_.push("/"+j+" "+r[j].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),f=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),m=unescape(encodeURIComponent("</x:xmpmeta>")),p=i.length+c.length+f.length+a.length+m.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(a+i+c+f+m),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(br.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,c){for(var f,m=c.metadata.Unicode.widths,p=["","0","00","000","0000"],x=[""],y=0,S=i.length;y<S;++y){if(f=c.metadata.characterToGlyph(i.charCodeAt(y)),c.metadata.glyIdsUsed.push(f),c.metadata.toUnicode[f]=i.charCodeAt(y),m.indexOf(f)==-1&&(m.push(f),m.push([parseInt(c.metadata.widthOfGlyph(f),10)])),f=="0")return x.join("");f=f.toString(16),x.push(p[4-f.length],f)}return x.join("")},n=function(i){var c,f,m,p,x,y,S;for(x=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,m=[],y=0,S=(f=Object.keys(i).sort(function(N,j){return N-j})).length;y<S;y++)c=f[y],m.length>=100&&(x+=`
`+m.length+` beginbfchar
`+m.join(`
`)+`
endbfchar`,m=[]),i[c]!==void 0&&i[c]!==null&&typeof i[c].toString=="function"&&(p=("0000"+i[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),m.push("<"+c+"><"+p+">"));return m.length&&(x+=`
`+m.length+` beginbfchar
`+m.join(`
`)+`
endbfchar
`),x+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(c){var f=c.font,m=c.out,p=c.newObject,x=c.putStream;if(f.metadata instanceof e.API.TTFFont&&f.encoding==="Identity-H"){for(var y=f.metadata.Unicode.widths,S=f.metadata.subset.encode(f.metadata.glyIdsUsed,1),N="",j=0;j<S.length;j++)N+=String.fromCharCode(S[j]);var _=p();x({data:N,addLength1:!0,objectId:_}),m("endobj");var T=p();x({data:n(f.metadata.toUnicode),addLength1:!0,objectId:T}),m("endobj");var I=p();m("<<"),m("/Type /FontDescriptor"),m("/FontName /"+dh(f.fontName)),m("/FontFile2 "+_+" 0 R"),m("/FontBBox "+e.API.PDFObject.convert(f.metadata.bbox)),m("/Flags "+f.metadata.flags),m("/StemV "+f.metadata.stemV),m("/ItalicAngle "+f.metadata.italicAngle),m("/Ascent "+f.metadata.ascender),m("/Descent "+f.metadata.decender),m("/CapHeight "+f.metadata.capHeight),m(">>"),m("endobj");var R=p();m("<<"),m("/Type /Font"),m("/BaseFont /"+dh(f.fontName)),m("/FontDescriptor "+I+" 0 R"),m("/W "+e.API.PDFObject.convert(y)),m("/CIDToGIDMap /Identity"),m("/DW 1000"),m("/Subtype /CIDFontType2"),m("/CIDSystemInfo"),m("<<"),m("/Supplement 0"),m("/Registry (Adobe)"),m("/Ordering ("+f.encoding+")"),m(">>"),m(">>"),m("endobj"),f.objectNumber=p(),m("<<"),m("/Type /Font"),m("/Subtype /Type0"),m("/ToUnicode "+T+" 0 R"),m("/BaseFont /"+dh(f.fontName)),m("/Encoding /"+f.encoding),m("/DescendantFonts ["+R+" 0 R]"),m(">>"),m("endobj"),f.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(c){var f=c.font,m=c.out,p=c.newObject,x=c.putStream;if(f.metadata instanceof e.API.TTFFont&&f.encoding==="WinAnsiEncoding"){for(var y=f.metadata.rawData,S="",N=0;N<y.length;N++)S+=String.fromCharCode(y[N]);var j=p();x({data:S,addLength1:!0,objectId:j}),m("endobj");var _=p();x({data:n(f.metadata.toUnicode),addLength1:!0,objectId:_}),m("endobj");var T=p();m("<<"),m("/Descent "+f.metadata.decender),m("/CapHeight "+f.metadata.capHeight),m("/StemV "+f.metadata.stemV),m("/Type /FontDescriptor"),m("/FontFile2 "+j+" 0 R"),m("/Flags 96"),m("/FontBBox "+e.API.PDFObject.convert(f.metadata.bbox)),m("/FontName /"+dh(f.fontName)),m("/ItalicAngle "+f.metadata.italicAngle),m("/Ascent "+f.metadata.ascender),m(">>"),m("endobj"),f.objectNumber=p();for(var I=0;I<f.metadata.hmtx.widths.length;I++)f.metadata.hmtx.widths[I]=parseInt(f.metadata.hmtx.widths[I]*(1e3/f.metadata.head.unitsPerEm));m("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+dh(f.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+f.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(f.metadata.hmtx.widths)+">>"),m("endobj"),f.isAlreadyPutted=!0}})(i)}]);var a=function(i){var c,f=i.text||"",m=i.x,p=i.y,x=i.options||{},y=i.mutex||{},S=y.pdfEscape,N=y.activeFontKey,j=y.fonts,_=N,T="",I=0,R="",F=j[_].encoding;if(j[_].encoding!=="Identity-H")return{text:f,x:m,y:p,options:x,mutex:y};for(R=f,_=N,Array.isArray(f)&&(R=f[0]),I=0;I<R.length;I+=1)j[_].metadata.hasOwnProperty("cmap")&&(c=j[_].metadata.cmap.unicode.codeMap[R[I].charCodeAt(0)]),c||R[I].charCodeAt(0)<256&&j[_].metadata.hasOwnProperty("Unicode")?T+=R[I]:T+="";var G="";return parseInt(_.slice(1))<14||F==="WinAnsiEncoding"?G=S(T,_).split("").map(function(Y){return Y.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(G=r(T,j[_])),y.isHex=!0,{text:G,x:m,y:p,options:x,mutex:y}};t.events.push(["postProcessText",function(i){var c=i.text||"",f=[],m={text:c,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(c)){var p=0;for(p=0;p<c.length;p+=1)Array.isArray(c[p])&&c[p].length===3?f.push([a(Object.assign({},m,{text:c[p][0]})).text,c[p][1],c[p][2]]):f.push(a(Object.assign({},m,{text:c[p]})).text);i.text=f}else i.text=a(Object.assign({},m,{text:c})).text}])}(br),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(br.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,c,f,m,p,x,y=t,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],N=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,F=0;this.__bidiEngine__={};var G=function(Z){var Q=Z.charCodeAt(),me=Q>>8,re=_[me];return re!==void 0?y[256*re+(255&Q)]:me===252||me===253?"AL":I.test(me)?"L":me===8?"R":"N"},Y=function(Z){for(var Q,me=0;me<Z.length;me++){if((Q=G(Z.charAt(me)))==="L")return!1;if(Q==="R")return!0}return!1},J=function(Z,Q,me,re){var q,ie,oe,de,ee=Q[re];switch(ee){case"L":case"R":R=!1;break;case"N":case"AN":break;case"EN":R&&(ee="AN");break;case"AL":R=!0,ee="R";break;case"WS":ee="N";break;case"CS":re<1||re+1>=Q.length||(q=me[re-1])!=="EN"&&q!=="AN"||(ie=Q[re+1])!=="EN"&&ie!=="AN"?ee="N":R&&(ie="AN"),ee=ie===q?ie:"N";break;case"ES":ee=(q=re>0?me[re-1]:"B")==="EN"&&re+1<Q.length&&Q[re+1]==="EN"?"EN":"N";break;case"ET":if(re>0&&me[re-1]==="EN"){ee="EN";break}if(R){ee="N";break}for(oe=re+1,de=Q.length;oe<de&&Q[oe]==="ET";)oe++;ee=oe<de&&Q[oe]==="EN"?"EN":"N";break;case"NSM":if(c&&!f){for(de=Q.length,oe=re+1;oe<de&&Q[oe]==="NSM";)oe++;if(oe<de){var Ae=Z[re],ce=Ae>=1425&&Ae<=2303||Ae===64286;if(q=Q[oe],ce&&(q==="R"||q==="AL")){ee="R";break}}}ee=re<1||(q=Q[re-1])==="B"?"N":me[re-1];break;case"B":R=!1,a=!0,ee=F;break;case"S":i=!0,ee="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"BN":ee="N"}return ee},V=function(Z,Q,me){var re=Z.split("");return me&&$(re,me,{hiLevel:F}),re.reverse(),Q&&Q.reverse(),re.join("")},$=function(Z,Q,me){var re,q,ie,oe,de,ee=-1,Ae=Z.length,ce=0,U=[],H=F?N:S,se=[];for(R=!1,a=!1,i=!1,q=0;q<Ae;q++)se[q]=G(Z[q]);for(ie=0;ie<Ae;ie++){if(de=ce,U[ie]=J(Z,se,U,ie),re=240&(ce=H[de][j[U[ie]]]),ce&=15,Q[ie]=oe=H[ce][5],re>0)if(re===16){for(q=ee;q<ie;q++)Q[q]=1;ee=-1}else ee=-1;if(H[ce][6])ee===-1&&(ee=ie);else if(ee>-1){for(q=ee;q<ie;q++)Q[q]=oe;ee=-1}se[ie]==="B"&&(Q[ie]=0),me.hiLevel|=oe}i&&function(ve,ne,le){for(var je=0;je<le;je++)if(ve[je]==="S"){ne[je]=F;for(var pe=je-1;pe>=0&&ve[pe]==="WS";pe--)ne[pe]=F}}(se,Q,Ae)},W=function(Z,Q,me,re,q){if(!(q.hiLevel<Z)){if(Z===1&&F===1&&!a)return Q.reverse(),void(me&&me.reverse());for(var ie,oe,de,ee,Ae=Q.length,ce=0;ce<Ae;){if(re[ce]>=Z){for(de=ce+1;de<Ae&&re[de]>=Z;)de++;for(ee=ce,oe=de-1;ee<oe;ee++,oe--)ie=Q[ee],Q[ee]=Q[oe],Q[oe]=ie,me&&(ie=me[ee],me[ee]=me[oe],me[oe]=ie);ce=de}ce++}}},Ne=function(Z,Q,me){var re=Z.split(""),q={hiLevel:F};return me||(me=[]),$(re,me,q),function(ie,oe,de){if(de.hiLevel!==0&&x)for(var ee,Ae=0;Ae<ie.length;Ae++)oe[Ae]===1&&(ee=T.indexOf(ie[Ae]))>=0&&(ie[Ae]=T[ee+1])}(re,me,q),W(2,re,Q,me,q),W(1,re,Q,me,q),re.join("")};return this.__bidiEngine__.doBidiReorder=function(Z,Q,me){if(function(q,ie){if(ie)for(var oe=0;oe<q.length;oe++)ie[oe]=oe;f===void 0&&(f=Y(q)),p===void 0&&(p=Y(q))}(Z,Q),c||!m||p)if(c&&m&&f^p)F=f?1:0,Z=V(Z,Q,me);else if(!c&&m&&p)F=f?1:0,Z=Ne(Z,Q,me),Z=V(Z,Q);else if(!c||f||m||p){if(c&&!m&&f^p)Z=V(Z,Q),f?(F=0,Z=Ne(Z,Q,me)):(F=1,Z=Ne(Z,Q,me),Z=V(Z,Q));else if(c&&f&&!m&&p)F=1,Z=Ne(Z,Q,me),Z=V(Z,Q);else if(!c&&!m&&f^p){var re=x;f?(F=1,Z=Ne(Z,Q,me),F=0,x=!1,Z=Ne(Z,Q,me),x=re):(F=0,Z=Ne(Z,Q,me),Z=V(Z,Q),F=1,x=!1,Z=Ne(Z,Q,me),x=re,Z=V(Z,Q))}}else F=0,Z=Ne(Z,Q,me);else F=f?1:0,Z=Ne(Z,Q,me);return Z},this.__bidiEngine__.setOptions=function(Z){Z&&(c=Z.isInputVisual,m=Z.isOutputVisual,f=Z.isInputRtl,p=Z.isOutputRtl,x=Z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),c=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var f=0;for(c=[],f=0;f<a.length;f+=1)Object.prototype.toString.call(a[f])==="[object Array]"?c.push([r.doBidiReorder(a[f][0]),a[f][1],a[f][2]]):c.push([r.doBidiReorder(a[f])]);n.text=c}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(br),br.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Nd(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new OF(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new mF(this.contents),this.head=new xF(this),this.name=new AF(this),this.cmap=new xO(this),this.toUnicode={},this.hhea=new vF(this),this.maxp=new NF(this),this.hmtx=new SF(this),this.post=new bF(this),this.os2=new yF(this),this.loca=new jF(this),this.glyf=new EF(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,f,m,p;for(p=[],c=0,f=(m=this.bbox).length;c<f;c++)t=m[c],p.push(Math.round(t*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,c,f;for(c=0,i=0,f=(t=""+t).length;0<=f?i<f:i>f;i=0<=f?++i:--i)a=t.charCodeAt(i),c+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return c*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Jl,Nd=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,c,f,m;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),c=this.readByte(),f=this.readByte(),m=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^c)+256*(255^f)+(255^m)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*c+256*f+m},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),mF=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,c,f,m,p,x,y,S,N,j,_;for(_ in N=Object.keys(r).length,m=Math.log(2),y=16*Math.floor(Math.log(N)/m),c=Math.floor(y/m),x=16*N-y,(a=new Nd).writeInt(this.scalarType),a.writeShort(N),a.writeShort(y),a.writeShort(c),a.writeShort(x),i=16*N,p=a.pos+i,f=null,j=[],r)for(S=r[_],a.writeString(_),a.writeInt(e(S)),a.writeInt(p),a.writeInt(S.length),j=j.concat(S),_==="head"&&(f=p),p+=S.length;p%4;)j.push(0),p++;return a.write(j),n=2981146554-e(a.data),a.pos=f+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,c;for(r=vO.call(r);r.length%4;)r.push(0);for(i=new Nd(r),a=0,n=0,c=r.length;n<c;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),gF={}.hasOwnProperty,Mc=function(e,t){for(var r in t)gF.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Jl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var xF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mc(t,Jl),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Nd).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),IS=function(){function e(t,r){var n,a,i,c,f,m,p,x,y,S,N,j,_,T,I,R,F;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),y=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(m=0;m<256;++m)this.codeMap[m]=t.readByte();break;case 4:for(N=t.readUInt16(),S=N/2,t.pos+=6,i=function(){var G,Y;for(Y=[],m=G=0;0<=S?G<S:G>S;m=0<=S?++G:--G)Y.push(t.readUInt16());return Y}(),t.pos+=2,_=function(){var G,Y;for(Y=[],m=G=0;0<=S?G<S:G>S;m=0<=S?++G:--G)Y.push(t.readUInt16());return Y}(),p=function(){var G,Y;for(Y=[],m=G=0;0<=S?G<S:G>S;m=0<=S?++G:--G)Y.push(t.readUInt16());return Y}(),x=function(){var G,Y;for(Y=[],m=G=0;0<=S?G<S:G>S;m=0<=S?++G:--G)Y.push(t.readUInt16());return Y}(),a=(this.length-t.pos+this.offset)/2,f=function(){var G,Y;for(Y=[],m=G=0;0<=a?G<a:G>a;m=0<=a?++G:--G)Y.push(t.readUInt16());return Y}(),m=I=0,F=i.length;I<F;m=++I)for(T=i[m],n=R=j=_[m];j<=T?R<=T:R>=T;n=j<=T?++R:--R)x[m]===0?c=n+p[m]:(c=f[x[m]/2+(n-j)-(S-m)]||0)!==0&&(c+=p[m]),this.codeMap[n]=65535&c}t.pos=y}return e.encode=function(t,r){var n,a,i,c,f,m,p,x,y,S,N,j,_,T,I,R,F,G,Y,J,V,$,W,Ne,Z,Q,me,re,q,ie,oe,de,ee,Ae,ce,U,H,se,ve,ne,le,je,pe,Te,ke,ue;switch(re=new Nd,c=Object.keys(t).sort(function(Le,$e){return Le-$e}),r){case"macroman":for(_=0,T=function(){var Le=[];for(j=0;j<256;++j)Le.push(0);return Le}(),R={0:0},i={},q=0,ee=c.length;q<ee;q++)R[pe=t[a=c[q]]]==null&&(R[pe]=++_),i[a]={old:t[a],new:R[t[a]]},T[a]=R[t[a]];return re.writeUInt16(1),re.writeUInt16(0),re.writeUInt32(12),re.writeUInt16(0),re.writeUInt16(262),re.writeUInt16(0),re.write(T),{charMap:i,subtable:re.data,maxGlyphID:_+1};case"unicode":for(Q=[],y=[],F=0,R={},n={},I=p=null,ie=0,Ae=c.length;ie<Ae;ie++)R[Y=t[a=c[ie]]]==null&&(R[Y]=++F),n[a]={old:Y,new:R[Y]},f=R[Y]-a,I!=null&&f===p||(I&&y.push(I),Q.push(a),p=f),I=a;for(I&&y.push(I),y.push(65535),Q.push(65535),Ne=2*(W=Q.length),$=2*Math.pow(Math.log(W)/Math.LN2,2),S=Math.log($/2)/Math.LN2,V=2*W-$,m=[],J=[],N=[],j=oe=0,ce=Q.length;oe<ce;j=++oe){if(Z=Q[j],x=y[j],Z===65535){m.push(0),J.push(0);break}if(Z-(me=n[Z].new)>=32768)for(m.push(0),J.push(2*(N.length+W-j)),a=de=Z;Z<=x?de<=x:de>=x;a=Z<=x?++de:--de)N.push(n[a].new);else m.push(me-Z),J.push(0)}for(re.writeUInt16(3),re.writeUInt16(1),re.writeUInt32(12),re.writeUInt16(4),re.writeUInt16(16+8*W+2*N.length),re.writeUInt16(0),re.writeUInt16(Ne),re.writeUInt16($),re.writeUInt16(S),re.writeUInt16(V),le=0,U=y.length;le<U;le++)a=y[le],re.writeUInt16(a);for(re.writeUInt16(0),je=0,H=Q.length;je<H;je++)a=Q[je],re.writeUInt16(a);for(Te=0,se=m.length;Te<se;Te++)f=m[Te],re.writeUInt16(f);for(ke=0,ve=J.length;ke<ve;ke++)G=J[ke],re.writeUInt16(G);for(ue=0,ne=N.length;ue<ne;ue++)_=N[ue],re.writeUInt16(_);return{charMap:n,subtable:re.data,maxGlyphID:F+1}}},e}(),xO=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mc(t,Jl),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new IS(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=IS.encode(r,n),(i=new Nd).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),vF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mc(t,Jl),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),yF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mc(t,Jl),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),bF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mc(t,Jl),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var c;for(a=r.readUInt16(),this.glyphNameIndex=[],c=0;0<=a?c<a:c>a;c=0<=a?++c:--c)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var f,m,p;for(p=[],c=f=0,m=this.file.maxp.numGlyphs;0<=m?f<m:f>m;c=0<=m?++f:--f)p.push(r.readUInt32());return p}).call(this)}},t}(),wF=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},AF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mc(t,Jl),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,c,f,m,p,x,y,S,N;for(r.pos=this.offset,r.readShort(),n=r.readShort(),m=r.readShort(),a=[],c=0;0<=n?c<n:c>n;c=0<=n?++c:--c)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+m+r.readShort()});for(p={},c=y=0,S=a.length;y<S;c=++y)i=a[c],r.pos=i.offset,x=r.readString(i.length),f=new wF(x,i),p[N=i.nameID]==null&&(p[N]=[]),p[i.nameID].push(f);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},t}(),NF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mc(t,Jl),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),SF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mc(t,Jl),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,c,f,m,p;for(r.pos=this.offset,this.metrics=[],n=0,m=this.file.hhea.numberOfMetrics;0<=m?n<m:n>m;n=0<=m?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var x,y;for(y=[],n=x=0;0<=i?x<i:x>i;n=0<=i?++x:--x)y.push(r.readInt16());return y}(),this.widths=(function(){var x,y,S,N;for(N=[],x=0,y=(S=this.metrics).length;x<y;x++)c=S[x],N.push(c.advance);return N}).call(this),a=this.widths[this.widths.length-1],p=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)p.push(this.widths.push(a));return p},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),vO=[].slice,EF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mc(t,Jl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,c,f,m,p,x,y,S;return r in this.cache?this.cache[r]:(c=this.file.loca,n=this.file.contents,a=c.indexOf(r),(i=c.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,f=(m=new Nd(n.read(i))).readShort(),x=m.readShort(),S=m.readShort(),p=m.readShort(),y=m.readShort(),this.cache[r]=f===-1?new _F(m,x,S,p,y):new CF(m,f,x,S,p,y),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,c,f,m,p;for(f=[],c=[],m=0,p=n.length;m<p;m++)i=r[n[m]],c.push(f.length),i&&(f=f.concat(i.encode(a)));return c.push(f.length),{table:f,offsets:c}},t}(),CF=function(){function e(t,r,n,a,i,c){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=c,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),_F=function(){function e(t,r,n,a,i){var c,f;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;f=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&f;)c.pos+=1&f?4:2,128&f?c.pos+=8:64&f?c.pos+=4:8&f&&(c.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Nd(vO.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),jF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mc(t,Jl),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,c;for(c=[],a=0,i=this.length;a<i;a+=2)c.push(2*r.readUInt16());return c}).call(this):(function(){var i,c;for(c=[],a=0,i=this.length;a<i;a+=4)c.push(r.readUInt32());return c}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,c=0,f=0;f<a.length;++f)if(a[f]=i,c<n.length&&n[c]==f){++c,a[f]=i;var m=this.offsets[f],p=this.offsets[f+1]-m;p>0&&(i+=p)}for(var x=new Array(4*a.length),y=0;y<a.length;++y)x[4*y+3]=255&a[y],x[4*y+2]=(65280&a[y])>>8,x[4*y+1]=(16711680&a[y])>>16,x[4*y]=(4278190080&a[y])>>24;return x},t}(),OF=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,c,f,m;for(a={},c=0,f=t.length;c<f;c++)a[i=t[c]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in m=this.glyphsFor(r))n=m[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,c,f,m,p,x,y,S,N,j,_,T,I;for(a in n=xO.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),N={0:0},I=n.charMap)N[(m=I[a]).old]=m.new;for(j in S=n.maxGlyphID,c)j in N||(N[j]=S++);return x=function(R){var F,G;for(F in G={},R)G[R[F]]=F;return G}(N),y=Object.keys(x).sort(function(R,F){return R-F}),_=function(){var R,F,G;for(G=[],R=0,F=y.length;R<F;R++)f=y[R],G.push(x[f]);return G}(),i=this.font.glyf.encode(c,_,N),p=this.font.loca.encode(i.offsets,_),T={cmap:this.font.cmap.raw(),glyf:i.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},e}();br.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,c;if(Array.isArray(r))return"["+function(){var f,m,p;for(p=[],f=0,m=r.length;f<m;f++)n=r[f],p.push(t.convert(n));return p}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)c=r[a],i.push("/"+a+" "+t.convert(c));return i.push(">>"),i.join(`
`)}return""+r},t}();function yO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=yO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qn(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=yO(e))&&(n&&(n+=" "),n+=t);return n}var TF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function nw(e){if(typeof e!="string")return!1;var t=TF;return t.includes(e)}var kF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],IF=new Set(kF);function bO(e){return typeof e!="string"?!1:IF.has(e)}function wO(e){return typeof e=="string"&&e.startsWith("data-")}function ko(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(bO(r)||wO(r))&&(t[r]=e[r]);return t}function mf(e){if(e==null)return null;if(M.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ko(t)}return typeof e=="object"&&!Array.isArray(e)?ko(e):null}function ao(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(bO(r)||wO(r)||nw(r))&&(t[r]=e[r]);return t}function DF(e){return e==null?null:M.isValidElement(e)?ao(e.props):typeof e=="object"&&!Array.isArray(e)?ao(e):null}var MF=["children","width","height","viewBox","className","style","title","desc"];function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ib.apply(null,arguments)}function LF(e,t){if(e==null)return{};var r,n,a=PF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AO=M.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:c,style:f,title:m,desc:p}=e,x=LF(e,MF),y=i||{width:n,height:a,x:0,y:0},S=qn("recharts-surface",c);return M.createElement("svg",Ib({},ao(x),{className:S,width:n,height:a,style:f,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height),ref:t}),M.createElement("title",null,m),M.createElement("desc",null,p),r)}),RF=["children","className"];function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Db.apply(null,arguments)}function BF(e,t){if(e==null)return{};var r,n,a=FF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function FF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yi=M.forwardRef((e,t)=>{var{children:r,className:n}=e,a=BF(e,RF),i=qn("recharts-layer",n);return M.createElement("g",Db({className:i},ao(a),{ref:t}),r)}),zF=M.createContext(null);function Na(e){return function(){return e}}const NO=Math.cos,Bm=Math.sin,ec=Math.sqrt,Fm=Math.PI,Wg=2*Fm,Mb=Math.PI,Lb=2*Mb,Xd=1e-6,UF=Lb-Xd;function SO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function qF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return SO;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class HF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?SO:qF(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,c){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+c}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let c=this._x1,f=this._y1,m=n-t,p=a-r,x=c-t,y=f-r,S=x*x+y*y;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(S>Xd)if(!(Math.abs(y*m-p*x)>Xd)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let N=n-c,j=a-f,_=m*m+p*p,T=N*N+j*j,I=Math.sqrt(_),R=Math.sqrt(S),F=i*Math.tan((Mb-Math.acos((_+S-T)/(2*I*R)))/2),G=F/R,Y=F/I;Math.abs(G-1)>Xd&&this._append`L${t+G*x},${r+G*y}`,this._append`A${i},${i},0,0,${+(y*N>x*j)},${this._x1=t+Y*m},${this._y1=r+Y*p}`}}arc(t,r,n,a,i,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let f=n*Math.cos(a),m=n*Math.sin(a),p=t+f,x=r+m,y=1^c,S=c?a-i:i-a;this._x1===null?this._append`M${p},${x}`:(Math.abs(this._x1-p)>Xd||Math.abs(this._y1-x)>Xd)&&this._append`L${p},${x}`,n&&(S<0&&(S=S%Lb+Lb),S>UF?this._append`A${n},${n},0,1,${y},${t-f},${r-m}A${n},${n},0,1,${y},${this._x1=p},${this._y1=x}`:S>Xd&&this._append`A${n},${n},0,${+(S>=Mb)},${y},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function aw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new HF(t)}function iw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function EO(e){this._context=e}EO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Yg(e){return new EO(e)}function CO(e){return e[0]}function _O(e){return e[1]}function jO(e,t){var r=Na(!0),n=null,a=Yg,i=null,c=aw(f);e=typeof e=="function"?e:e===void 0?CO:Na(e),t=typeof t=="function"?t:t===void 0?_O:Na(t);function f(m){var p,x=(m=iw(m)).length,y,S=!1,N;for(n==null&&(i=a(N=c())),p=0;p<=x;++p)!(p<x&&r(y=m[p],p,m))===S&&((S=!S)?i.lineStart():i.lineEnd()),S&&i.point(+e(y,p,m),+t(y,p,m));if(N)return i=null,N+""||null}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:Na(+m),f):e},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:Na(+m),f):t},f.defined=function(m){return arguments.length?(r=typeof m=="function"?m:Na(!!m),f):r},f.curve=function(m){return arguments.length?(a=m,n!=null&&(i=a(n)),f):a},f.context=function(m){return arguments.length?(m==null?n=i=null:i=a(n=m),f):n},f}function Wp(e,t,r){var n=null,a=Na(!0),i=null,c=Yg,f=null,m=aw(p);e=typeof e=="function"?e:e===void 0?CO:Na(+e),t=typeof t=="function"?t:Na(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?_O:Na(+r);function p(y){var S,N,j,_=(y=iw(y)).length,T,I=!1,R,F=new Array(_),G=new Array(_);for(i==null&&(f=c(R=m())),S=0;S<=_;++S){if(!(S<_&&a(T=y[S],S,y))===I)if(I=!I)N=S,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),j=S-1;j>=N;--j)f.point(F[j],G[j]);f.lineEnd(),f.areaEnd()}I&&(F[S]=+e(T,S,y),G[S]=+t(T,S,y),f.point(n?+n(T,S,y):F[S],r?+r(T,S,y):G[S]))}if(R)return f=null,R+""||null}function x(){return jO().defined(a).curve(c).context(i)}return p.x=function(y){return arguments.length?(e=typeof y=="function"?y:Na(+y),n=null,p):e},p.x0=function(y){return arguments.length?(e=typeof y=="function"?y:Na(+y),p):e},p.x1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:Na(+y),p):n},p.y=function(y){return arguments.length?(t=typeof y=="function"?y:Na(+y),r=null,p):t},p.y0=function(y){return arguments.length?(t=typeof y=="function"?y:Na(+y),p):t},p.y1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:Na(+y),p):r},p.lineX0=p.lineY0=function(){return x().x(e).y(t)},p.lineY1=function(){return x().x(e).y(r)},p.lineX1=function(){return x().x(n).y(t)},p.defined=function(y){return arguments.length?(a=typeof y=="function"?y:Na(!!y),p):a},p.curve=function(y){return arguments.length?(c=y,i!=null&&(f=c(i)),p):c},p.context=function(y){return arguments.length?(y==null?i=f=null:f=c(i=y),p):i},p}class OO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function VF(e){return new OO(e,!0)}function GF(e){return new OO(e,!1)}const sw={draw(e,t){const r=ec(t/Fm);e.moveTo(r,0),e.arc(0,0,r,0,Wg)}},WF={draw(e,t){const r=ec(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},TO=ec(1/3),YF=TO*2,$F={draw(e,t){const r=ec(t/YF),n=r*TO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},XF={draw(e,t){const r=ec(t),n=-r/2;e.rect(n,n,r,r)}},KF=.8908130915292852,kO=Bm(Fm/10)/Bm(7*Fm/10),QF=Bm(Wg/10)*kO,ZF=-NO(Wg/10)*kO,JF={draw(e,t){const r=ec(t*KF),n=QF*r,a=ZF*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const c=Wg*i/5,f=NO(c),m=Bm(c);e.lineTo(m*r,-f*r),e.lineTo(f*n-m*a,m*n+f*a)}e.closePath()}},bv=ec(3),ez={draw(e,t){const r=-ec(t/(bv*3));e.moveTo(0,r*2),e.lineTo(-bv*r,-r),e.lineTo(bv*r,-r),e.closePath()}},pl=-.5,ml=ec(3)/2,Pb=1/ec(12),tz=(Pb/2+1)*3,rz={draw(e,t){const r=ec(t/tz),n=r/2,a=r*Pb,i=n,c=r*Pb+r,f=-i,m=c;e.moveTo(n,a),e.lineTo(i,c),e.lineTo(f,m),e.lineTo(pl*n-ml*a,ml*n+pl*a),e.lineTo(pl*i-ml*c,ml*i+pl*c),e.lineTo(pl*f-ml*m,ml*f+pl*m),e.lineTo(pl*n+ml*a,pl*a-ml*n),e.lineTo(pl*i+ml*c,pl*c-ml*i),e.lineTo(pl*f+ml*m,pl*m-ml*f),e.closePath()}};function nz(e,t){let r=null,n=aw(a);e=typeof e=="function"?e:Na(e||sw),t=typeof t=="function"?t:Na(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Na(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Na(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function zm(){}function Um(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function IO(e){this._context=e}IO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Um(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function az(e){return new IO(e)}function DO(e){this._context=e}DO.prototype={areaStart:zm,areaEnd:zm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iz(e){return new DO(e)}function MO(e){this._context=e}MO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sz(e){return new MO(e)}function LO(e){this._context=e}LO.prototype={areaStart:zm,areaEnd:zm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function oz(e){return new LO(e)}function DS(e){return e<0?-1:1}function MS(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),c=(r-e._y1)/(a||n<0&&-0),f=(i*a+c*n)/(n+a);return(DS(i)+DS(c))*Math.min(Math.abs(i),Math.abs(c),.5*Math.abs(f))||0}function LS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function wv(e,t,r){var n=e._x0,a=e._y0,i=e._x1,c=e._y1,f=(i-n)/3;e._context.bezierCurveTo(n+f,a+f*t,i-f,c-f*r,i,c)}function qm(e){this._context=e}qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wv(this,this._t0,LS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,wv(this,LS(this,r=MS(this,e,t)),r);break;default:wv(this,this._t0,r=MS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function PO(e){this._context=new RO(e)}(PO.prototype=Object.create(qm.prototype)).point=function(e,t){qm.prototype.point.call(this,t,e)};function RO(e){this._context=e}RO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function lz(e){return new qm(e)}function cz(e){return new PO(e)}function BO(e){this._context=e}BO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=PS(e),a=PS(t),i=0,c=1;c<r;++i,++c)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function PS(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),c=new Array(r);for(a[0]=0,i[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,c[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,c[t]-=n*c[t-1];for(a[r-1]=c[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(c[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function uz(e){return new BO(e)}function $g(e,t){this._context=e,this._t=t}$g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function dz(e){return new $g(e,.5)}function fz(e){return new $g(e,0)}function hz(e){return new $g(e,1)}function gf(e,t){if((c=e.length)>1)for(var r=1,n,a,i=e[t[0]],c,f=i.length;r<c;++r)for(a=i,i=e[t[r]],n=0;n<f;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Rb(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function pz(e,t){return e[t]}function mz(e){const t=[];return t.key=e,t}function gz(){var e=Na([]),t=Rb,r=gf,n=pz;function a(i){var c=Array.from(e.apply(this,arguments),mz),f,m=c.length,p=-1,x;for(const y of i)for(f=0,++p;f<m;++f)(c[f][p]=[0,+n(y,c[f].key,p,i)]).data=y;for(f=0,x=iw(t(c));f<m;++f)c[x[f]].index=f;return r(c,x),c}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Na(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Na(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Rb:typeof i=="function"?i:Na(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??gf,a):r},a}function xz(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,c;a<i;++a){for(c=r=0;r<n;++r)c+=e[r][a][1]||0;if(c)for(r=0;r<n;++r)e[r][a][1]/=c}gf(e,t)}}function vz(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var c=0,f=0;c<a;++c)f+=e[c][r][1]||0;n[r][1]+=n[r][0]=-f/2}gf(e,t)}}function yz(e,t){if(!(!((c=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,c;n<i;++n){for(var f=0,m=0,p=0;f<c;++f){for(var x=e[t[f]],y=x[n][1]||0,S=x[n-1][1]||0,N=(y-S)/2,j=0;j<f;++j){var _=e[t[j]],T=_[n][1]||0,I=_[n-1][1]||0;N+=T-I}m+=y,p+=N*y}a[n-1][1]+=a[n-1][0]=r,m&&(r-=p/m)}a[n-1][1]+=a[n-1][0]=r,gf(e,t)}}var Av={},Nv={},RS;function bz(){return RS||(RS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t}(Nv)),Nv}var Sv={},BS;function FO(){return BS||(BS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t}(Sv)),Sv}var Ev={},FS;function ow(){return FS||(FS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t}(Ev)),Ev}var Cv={},_v={},zS;function wz(){return zS||(zS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t}(_v)),_v}var US;function lw(){return US||(US=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wz(),r=ow();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],c=a.length;if(c===0)return i;let f=0,m="",p="",x=!1;for(a.charCodeAt(0)===46&&(i.push(""),f++);f<c;){const y=a[f];p?y==="\\"&&f+1<c?(f++,m+=a[f]):y===p?p="":m+=y:x?y==='"'||y==="'"?p=y:y==="]"?(x=!1,i.push(m),m=""):m+=y:y==="["?(x=!0,m&&(i.push(m),m="")):y==="."?m&&(i.push(m),m=""):m+=y,f++}return m&&i.push(m),i}e.toPath=n}(Cv)),Cv}var qS;function cw(){return qS||(qS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bz(),r=FO(),n=ow(),a=lw();function i(f,m,p){if(f==null)return p;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return p;const x=f[m];return x===void 0?r.isDeepKey(m)?i(f,a.toPath(m),p):p:x}case"number":case"symbol":{typeof m=="number"&&(m=n.toKey(m));const x=f[m];return x===void 0?p:x}default:{if(Array.isArray(m))return c(f,m,p);if(Object.is(m==null?void 0:m.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return p;const x=f[m];return x===void 0?p:x}}}function c(f,m,p){if(m.length===0)return p;let x=f;for(let y=0;y<m.length;y++){if(x==null||t.isUnsafeProperty(m[y]))return p;x=x[m[y]]}return x===void 0?p:x}e.get=i}(Av)),Av}var jv,HS;function Az(){return HS||(HS=1,jv=cw().get),jv}var Nz=Az();const xf=Dc(Nz);var Sz=4;function md(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sz,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function oi(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,c)=>{var f=r[c-1];return typeof f=="string"?a+f+i:f!==void 0?a+md(f)+i:a+i},"")}var ds=e=>e===0?0:e>0?1:-1,yl=e=>typeof e=="number"&&e!=+e,gu=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ir=e=>(typeof e=="number"||e instanceof Number)&&!yl(e),Tc=e=>ir(e)||typeof e=="string",Ez=0,a1=e=>{var t=++Ez;return"".concat(e||"").concat(t)},Us=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ir(t)&&typeof t!="string")return n;var i;if(gu(t)){if(r==null)return n;var c=t.indexOf("%");i=r*parseFloat(t.slice(0,c))/100}else i=+t;return yl(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},zO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Ta(e,t,r){return ir(e)&&ir(t)?md(e+r*(t-e)):t}function UO(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):xf(n,t))===r)}var Ka=e=>e===null||typeof e>"u",S1=e=>Ka(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Cz(e){return e!=null}function E1(){}var _z=["type","size","sizeType"];function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(null,arguments)}function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){jz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jz(e,t,r){return(t=Oz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oz(e){var t=Tz(e,"string");return typeof t=="symbol"?t:t+""}function Tz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kz(e,t){if(e==null)return{};var r,n,a=Iz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Iz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qO={symbolCircle:sw,symbolCross:WF,symbolDiamond:$F,symbolSquare:XF,symbolStar:JF,symbolTriangle:ez,symbolWye:rz},Dz=Math.PI/180,Mz=e=>{var t="symbol".concat(S1(e));return qO[t]||sw},Lz=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Dz;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Pz=(e,t)=>{qO["symbol".concat(S1(e))]=t},HO=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=kz(e,_z),i=GS(GS({},a),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var f=()=>{var S=Mz(c),N=nz().type(S).size(Lz(r,n,c)),j=N();if(j!==null)return j},{className:m,cx:p,cy:x}=i,y=ao(i);return ir(p)&&ir(x)&&ir(r)?M.createElement("path",Bb({},y,{className:qn("recharts-symbols",m),transform:"translate(".concat(p,", ").concat(x,")"),d:f()})):null};HO.registerSymbol=Pz;var VO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,uw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(M.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{nw(a)&&(n[a]=i=>r[a](r,i))}),n},Rz=(e,t,r)=>n=>(e(t,r,n),null),Xg=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];nw(a)&&typeof i=="function"&&(n||(n={}),n[a]=Rz(i,t,r))}),n};function WS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WS(Object(r),!0).forEach(function(n){Fz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fz(e,t,r){return(t=zz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zz(e){var t=Uz(e,"string");return typeof t=="symbol"?t:t+""}function Uz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fs(e,t){var r=Bz({},e),n=t,a=Object.keys(t),i=a.reduce((c,f)=>(c[f]===void 0&&n[f]!==void 0&&(c[f]=n[f]),c),r);return i}var Ov={},Tv={},YS;function qz(){return YS||(YS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const c=r[i],f=n(c);a.has(f)||a.set(f,c)}return Array.from(a.values())}e.uniqBy=t}(Tv)),Tv}var kv={},$S;function GO(){return $S||($S=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t}(kv)),kv}var Iv={},Dv={},Mv={},XS;function Hz(){return XS||(XS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t}(Mv)),Mv}var KS;function dw(){return KS||(KS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hz();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r}(Dv)),Dv}var Lv={},QS;function Vz(){return QS||(QS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t}(Lv)),Lv}var ZS;function Gz(){return ZS||(ZS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dw(),r=Vz();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n}(Iv)),Iv}var Pv={},Rv={},JS;function Wz(){return JS||(JS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cw();function r(n){return function(a){return t.get(a,n)}}e.property=r}(Rv)),Rv}var Bv={},Fv={},zv={},Uv={},e6;function WO(){return e6||(e6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t}(Uv)),Uv}var qv={},t6;function YO(){return t6||(t6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t}(qv)),qv}var Hv={},r6;function $O(){return r6||(r6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t}(Hv)),Hv}var n6;function Yz(){return n6||(n6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WO(),r=YO(),n=$O();function a(x,y,S){return typeof S!="function"?a(x,y,()=>{}):i(x,y,function N(j,_,T,I,R,F){const G=S(j,_,T,I,R,F);return G!==void 0?!!G:i(j,_,N,F)},new Map)}function i(x,y,S,N){if(y===x)return!0;switch(typeof y){case"object":return c(x,y,S,N);case"function":return Object.keys(y).length>0?i(x,{...y},S,N):n.eq(x,y);default:return t.isObject(x)?typeof y=="string"?y==="":!0:n.eq(x,y)}}function c(x,y,S,N){if(y==null)return!0;if(Array.isArray(y))return m(x,y,S,N);if(y instanceof Map)return f(x,y,S,N);if(y instanceof Set)return p(x,y,S,N);const j=Object.keys(y);if(x==null||r.isPrimitive(x))return j.length===0;if(j.length===0)return!0;if(N!=null&&N.has(y))return N.get(y)===x;N==null||N.set(y,x);try{for(let _=0;_<j.length;_++){const T=j[_];if(!r.isPrimitive(x)&&!(T in x)||y[T]===void 0&&x[T]!==void 0||y[T]===null&&x[T]!==null||!S(x[T],y[T],T,x,y,N))return!1}return!0}finally{N==null||N.delete(y)}}function f(x,y,S,N){if(y.size===0)return!0;if(!(x instanceof Map))return!1;for(const[j,_]of y.entries()){const T=x.get(j);if(S(T,_,j,x,y,N)===!1)return!1}return!0}function m(x,y,S,N){if(y.length===0)return!0;if(!Array.isArray(x))return!1;const j=new Set;for(let _=0;_<y.length;_++){const T=y[_];let I=!1;for(let R=0;R<x.length;R++){if(j.has(R))continue;const F=x[R];let G=!1;if(S(F,T,_,x,y,N)&&(G=!0),G){j.add(R),I=!0;break}}if(!I)return!1}return!0}function p(x,y,S,N){return y.size===0?!0:x instanceof Set?m([...x],[...y],S,N):!1}e.isMatchWith=a,e.isSetMatch=p}(zv)),zv}var a6;function XO(){return a6||(a6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yz();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(Fv)),Fv}var Vv={},Gv={},Wv={},i6;function $z(){return i6||(i6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t}(Wv)),Wv}var Yv={},s6;function KO(){return s6||(s6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t}(Yv)),Yv}var $v={},o6;function QO(){return o6||(o6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",c="[object Symbol]",f="[object Date]",m="[object Map]",p="[object Set]",x="[object Array]",y="[object Function]",S="[object ArrayBuffer]",N="[object Object]",j="[object Error]",_="[object DataView]",T="[object Uint8Array]",I="[object Uint8ClampedArray]",R="[object Uint16Array]",F="[object Uint32Array]",G="[object BigUint64Array]",Y="[object Int8Array]",J="[object Int16Array]",V="[object Int32Array]",$="[object BigInt64Array]",W="[object Float32Array]",Ne="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=S,e.arrayTag=x,e.bigInt64ArrayTag=$,e.bigUint64ArrayTag=G,e.booleanTag=a,e.dataViewTag=_,e.dateTag=f,e.errorTag=j,e.float32ArrayTag=W,e.float64ArrayTag=Ne,e.functionTag=y,e.int16ArrayTag=J,e.int32ArrayTag=V,e.int8ArrayTag=Y,e.mapTag=m,e.numberTag=n,e.objectTag=N,e.regexpTag=t,e.setTag=p,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=R,e.uint32ArrayTag=F,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=I}($v)),$v}var Xv={},l6;function Xz(){return l6||(l6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t}(Xv)),Xv}var c6;function ZO(){return c6||(c6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$z(),r=KO(),n=QO(),a=YO(),i=Xz();function c(x,y){return f(x,void 0,x,new Map,y)}function f(x,y,S,N=new Map,j=void 0){const _=j==null?void 0:j(x,y,S,N);if(_!==void 0)return _;if(a.isPrimitive(x))return x;if(N.has(x))return N.get(x);if(Array.isArray(x)){const T=new Array(x.length);N.set(x,T);for(let I=0;I<x.length;I++)T[I]=f(x[I],I,S,N,j);return Object.hasOwn(x,"index")&&(T.index=x.index),Object.hasOwn(x,"input")&&(T.input=x.input),T}if(x instanceof Date)return new Date(x.getTime());if(x instanceof RegExp){const T=new RegExp(x.source,x.flags);return T.lastIndex=x.lastIndex,T}if(x instanceof Map){const T=new Map;N.set(x,T);for(const[I,R]of x)T.set(I,f(R,I,S,N,j));return T}if(x instanceof Set){const T=new Set;N.set(x,T);for(const I of x)T.add(f(I,void 0,S,N,j));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(x))return x.subarray();if(i.isTypedArray(x)){const T=new(Object.getPrototypeOf(x)).constructor(x.length);N.set(x,T);for(let I=0;I<x.length;I++)T[I]=f(x[I],I,S,N,j);return T}if(x instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&x instanceof SharedArrayBuffer)return x.slice(0);if(x instanceof DataView){const T=new DataView(x.buffer.slice(0),x.byteOffset,x.byteLength);return N.set(x,T),m(T,x,S,N,j),T}if(typeof File<"u"&&x instanceof File){const T=new File([x],x.name,{type:x.type});return N.set(x,T),m(T,x,S,N,j),T}if(typeof Blob<"u"&&x instanceof Blob){const T=new Blob([x],{type:x.type});return N.set(x,T),m(T,x,S,N,j),T}if(x instanceof Error){const T=new x.constructor;return N.set(x,T),T.message=x.message,T.name=x.name,T.stack=x.stack,T.cause=x.cause,m(T,x,S,N,j),T}if(x instanceof Boolean){const T=new Boolean(x.valueOf());return N.set(x,T),m(T,x,S,N,j),T}if(x instanceof Number){const T=new Number(x.valueOf());return N.set(x,T),m(T,x,S,N,j),T}if(x instanceof String){const T=new String(x.valueOf());return N.set(x,T),m(T,x,S,N,j),T}if(typeof x=="object"&&p(x)){const T=Object.create(Object.getPrototypeOf(x));return N.set(x,T),m(T,x,S,N,j),T}return x}function m(x,y,S=x,N,j){const _=[...Object.keys(y),...t.getSymbols(y)];for(let T=0;T<_.length;T++){const I=_[T],R=Object.getOwnPropertyDescriptor(x,I);(R==null||R.writable)&&(x[I]=f(y[I],I,S,N,j))}}function p(x){switch(r.getTag(x)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=f,e.copyProperties=m}(Gv)),Gv}var u6;function Kz(){return u6||(u6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZO();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r}(Vv)),Vv}var d6;function Qz(){return d6||(d6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XO(),r=Kz();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n}(Bv)),Bv}var Kv={},Qv={},Zv={},f6;function Zz(){return f6||(f6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZO(),r=QO();function n(a,i){return t.cloneDeepWith(a,(c,f,m,p)=>{const x=i==null?void 0:i(c,f,m,p);if(x!==void 0)return x;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const y=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(y,a),y}case r.argumentsTag:{const y={};return t.copyProperties(y,a),y.length=a.length,y[Symbol.iterator]=a[Symbol.iterator],y}default:return}})}e.cloneDeepWith=n}(Zv)),Zv}var h6;function Jz(){return h6||(h6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zz();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r}(Qv)),Qv}var Jv={},ey={},p6;function JO(){return p6||(p6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r}(ey)),ey}var ty={},m6;function eU(){return m6||(m6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KO();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r}(ty)),ty}var g6;function tU(){return g6||(g6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FO(),r=JO(),n=eU(),a=lw();function i(c,f){let m;if(Array.isArray(f)?m=f:typeof f=="string"&&t.isDeepKey(f)&&(c==null?void 0:c[f])==null?m=a.toPath(f):m=[f],m.length===0)return!1;let p=c;for(let x=0;x<m.length;x++){const y=m[x];if((p==null||!Object.hasOwn(p,y))&&!((Array.isArray(p)||n.isArguments(p))&&r.isIndex(y)&&y<p.length))return!1;p=p[y]}return!0}e.has=i}(Jv)),Jv}var x6;function rU(){return x6||(x6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XO(),r=ow(),n=Jz(),a=cw(),i=tU();function c(f,m){switch(typeof f){case"object":{Object.is(f==null?void 0:f.valueOf(),-0)&&(f="-0");break}case"number":{f=r.toKey(f);break}}return m=n.cloneDeep(m),function(p){const x=a.get(p,f);return x===void 0?i.has(p,f):m===void 0?x===void 0:t.isMatch(x,m)}}e.matchesProperty=c}(Kv)),Kv}var v6;function nU(){return v6||(v6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GO(),r=Wz(),n=Qz(),a=rU();function i(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=i}(Pv)),Pv}var y6;function aU(){return y6||(y6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qz(),r=GO(),n=Gz(),a=nU();function i(c,f=r.identity){return n.isArrayLikeObject(c)?t.uniqBy(Array.from(c),a.iteratee(f)):[]}e.uniqBy=i}(Ov)),Ov}var ry,b6;function iU(){return b6||(b6=1,ry=aU().uniqBy),ry}var sU=iU();const w6=Dc(sU);function oU(e,t,r){return t===!0?w6(e,r):typeof t=="function"?w6(e,t):e}var ny={exports:{}},ay={},iy={exports:{}},sy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A6;function lU(){if(A6)return sy;A6=1;var e=Nf();function t(y,S){return y===S&&(y!==0||1/y===1/S)||y!==y&&S!==S}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,c=e.useDebugValue;function f(y,S){var N=S(),j=n({inst:{value:N,getSnapshot:S}}),_=j[0].inst,T=j[1];return i(function(){_.value=N,_.getSnapshot=S,m(_)&&T({inst:_})},[y,N,S]),a(function(){return m(_)&&T({inst:_}),y(function(){m(_)&&T({inst:_})})},[y]),c(N),N}function m(y){var S=y.getSnapshot;y=y.value;try{var N=S();return!r(y,N)}catch{return!0}}function p(y,S){return S()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return sy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:x,sy}var N6;function cU(){return N6||(N6=1,iy.exports=lU()),iy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S6;function uU(){if(S6)return ay;S6=1;var e=Nf(),t=cU();function r(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,c=e.useEffect,f=e.useMemo,m=e.useDebugValue;return ay.useSyncExternalStoreWithSelector=function(p,x,y,S,N){var j=i(null);if(j.current===null){var _={hasValue:!1,value:null};j.current=_}else _=j.current;j=f(function(){function I(J){if(!R){if(R=!0,F=J,J=S(J),N!==void 0&&_.hasValue){var V=_.value;if(N(V,J))return G=V}return G=J}if(V=G,n(F,J))return V;var $=S(J);return N!==void 0&&N(V,$)?(F=J,V):(F=J,G=$)}var R=!1,F,G,Y=y===void 0?null:y;return[function(){return I(x())},Y===null?void 0:function(){return I(Y())}]},[x,y,S,N]);var T=a(p,j[0],j[1]);return c(function(){_.hasValue=!0,_.value=T},[T]),m(T),T},ay}var E6;function dU(){return E6||(E6=1,ny.exports=uU()),ny.exports}var fU=dU(),fw=M.createContext(null),hU=e=>e,Va=()=>{var e=M.useContext(fw);return e?e.store.dispatch:hU},Nm=()=>{},pU=()=>Nm,mU=(e,t)=>e===t;function mr(e){var t=M.useContext(fw);return fU.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:pU,t?t.store.getState:Nm,t?t.store.getState:Nm,t?e:Nm,mU)}function gU(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function xU(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function vU(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var C6=e=>Array.isArray(e)?e:[e];function yU(e){const t=Array.isArray(e[0])?e[0]:e;return vU(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function bU(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var wU=class{constructor(e){this.value=e}deref(){return this.value}},AU=typeof WeakRef<"u"?WeakRef:wU,NU=0,_6=1;function Yp(){return{s:NU,v:void 0,o:null,p:null}}function e7(e,t={}){let r=Yp();const{resultEqualityCheck:n}=t;let a,i=0;function c(){var y;let f=r;const{length:m}=arguments;for(let S=0,N=m;S<N;S++){const j=arguments[S];if(typeof j=="function"||typeof j=="object"&&j!==null){let _=f.o;_===null&&(f.o=_=new WeakMap);const T=_.get(j);T===void 0?(f=Yp(),_.set(j,f)):f=T}else{let _=f.p;_===null&&(f.p=_=new Map);const T=_.get(j);T===void 0?(f=Yp(),_.set(j,f)):f=T}}const p=f;let x;if(f.s===_6)x=f.v;else if(x=e.apply(null,arguments),i++,n){const S=((y=a==null?void 0:a.deref)==null?void 0:y.call(a))??a;S!=null&&n(S,x)&&(x=S,i!==0&&i--),a=typeof x=="object"&&x!==null||typeof x=="function"?new AU(x):x}return p.s=_6,p.v=x,x}return c.clearCache=()=>{r=Yp(),c.resetResultsCount()},c.resultsCount=()=>i,c.resetResultsCount=()=>{i=0},c}function SU(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,c=0,f,m={},p=a.pop();typeof p=="object"&&(m=p,p=a.pop()),gU(p,`createSelector expects an output function after the inputs, but received: [${typeof p}]`);const x={...r,...m},{memoize:y,memoizeOptions:S=[],argsMemoize:N=e7,argsMemoizeOptions:j=[]}=x,_=C6(S),T=C6(j),I=yU(a),R=y(function(){return i++,p.apply(null,arguments)},..._),F=N(function(){c++;const Y=bU(I,arguments);return f=R.apply(null,Y),f},...T);return Object.assign(F,{resultFunc:p,memoizedResultFunc:R,dependencies:I,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>f,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:y,argsMemoize:N})};return Object.assign(n,{withTypes:()=>n}),n}var ct=SU(e7),EU=Object.assign((e,t=ct)=>{xU(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((c,f,m)=>(c[r[m]]=f,c),{}))},{withTypes:()=>EU}),oy={},ly={},cy={},j6;function CU(){return j6||(j6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const c=t(n),f=t(a);if(c===f&&c===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?f-c:c-f}return 0};e.compareValues=r}(cy)),cy}var uy={},dy={},O6;function t7(){return O6||(O6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t}(dy)),dy}var T6;function _U(){return T6||(T6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t7(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,c){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||c!=null&&Object.hasOwn(c,i)}e.isKey=a}(uy)),uy}var k6;function jU(){return k6||(k6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CU(),r=_U(),n=lw();function a(i,c,f,m){if(i==null)return[];f=m?void 0:f,Array.isArray(i)||(i=Object.values(i)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(f)||(f=f==null?[]:[f]),f=f.map(N=>String(N));const p=(N,j)=>{let _=N;for(let T=0;T<j.length&&_!=null;++T)_=_[j[T]];return _},x=(N,j)=>j==null||N==null?j:typeof N=="object"&&"key"in N?Object.hasOwn(j,N.key)?j[N.key]:p(j,N.path):typeof N=="function"?N(j):Array.isArray(N)?p(j,N):typeof j=="object"?j[N]:j,y=c.map(N=>(Array.isArray(N)&&N.length===1&&(N=N[0]),N==null||typeof N=="function"||Array.isArray(N)||r.isKey(N)?N:{key:N,path:n.toPath(N)}));return i.map(N=>({original:N,criteria:y.map(j=>x(j,N))})).slice().sort((N,j)=>{for(let _=0;_<y.length;_++){const T=t.compareValues(N.criteria[_],j.criteria[_],f[_]);if(T!==0)return T}return 0}).map(N=>N.original)}e.orderBy=a}(ly)),ly}var fy={},I6;function OU(){return I6||(I6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),c=(f,m)=>{for(let p=0;p<f.length;p++){const x=f[p];Array.isArray(x)&&m<i?c(x,m+1):a.push(x)}};return c(r,0),a}e.flatten=t}(fy)),fy}var hy={},D6;function r7(){return D6||(D6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JO(),r=dw(),n=WO(),a=$O();function i(c,f,m){return n.isObject(m)&&(typeof f=="number"&&r.isArrayLike(m)&&t.isIndex(f)&&f<m.length||typeof f=="string"&&f in m)?a.eq(m[f],c):!1}e.isIterateeCall=i}(hy)),hy}var M6;function TU(){return M6||(M6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jU(),r=OU(),n=r7();function a(i,...c){const f=c.length;return f>1&&n.isIterateeCall(i,c[0],c[1])?c=[]:f>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(i,r.flatten(c),["asc"])}e.sortBy=a}(oy)),oy}var py,L6;function kU(){return L6||(L6=1,py=TU().sortBy),py}var IU=kU();const Kg=Dc(IU);var n7=e=>e.legend.settings,DU=e=>e.legend.size,MU=e=>e.legend.payload;ct([MU,n7],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Kg(n,r):n});var $p=1;function LU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=M.useState({height:0,left:0,top:0,width:0}),n=M.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),c={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(c.height-t.height)>$p||Math.abs(c.left-t.left)>$p||Math.abs(c.top-t.top)>$p||Math.abs(c.width-t.width)>$p)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function As(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var PU=typeof Symbol=="function"&&Symbol.observable||"@@observable",P6=PU,my=()=>Math.random().toString(36).substring(7).split("").join("."),RU={INIT:`@@redux/INIT${my()}`,REPLACE:`@@redux/REPLACE${my()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${my()}`},Hm=RU;function hw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function a7(e,t,r){if(typeof e!="function")throw new Error(As(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(As(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(As(1));return r(a7)(e,t)}let n=e,a=t,i=new Map,c=i,f=0,m=!1;function p(){c===i&&(c=new Map,i.forEach((T,I)=>{c.set(I,T)}))}function x(){if(m)throw new Error(As(3));return a}function y(T){if(typeof T!="function")throw new Error(As(4));if(m)throw new Error(As(5));let I=!0;p();const R=f++;return c.set(R,T),function(){if(I){if(m)throw new Error(As(6));I=!1,p(),c.delete(R),i=null}}}function S(T){if(!hw(T))throw new Error(As(7));if(typeof T.type>"u")throw new Error(As(8));if(typeof T.type!="string")throw new Error(As(17));if(m)throw new Error(As(9));try{m=!0,a=n(a,T)}finally{m=!1}return(i=c).forEach(R=>{R()}),T}function N(T){if(typeof T!="function")throw new Error(As(10));n=T,S({type:Hm.REPLACE})}function j(){const T=y;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(As(11));function R(){const G=I;G.next&&G.next(x())}return R(),{unsubscribe:T(R)}},[P6](){return this}}}return S({type:Hm.INIT}),{dispatch:S,subscribe:y,getState:x,replaceReducer:N,[P6]:j}}function BU(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Hm.INIT})>"u")throw new Error(As(12));if(typeof r(void 0,{type:Hm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(As(13))})}function i7(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const c=t[i];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let a;try{BU(r)}catch(i){a=i}return function(c={},f){if(a)throw a;let m=!1;const p={};for(let x=0;x<n.length;x++){const y=n[x],S=r[y],N=c[y],j=S(N,f);if(typeof j>"u")throw f&&f.type,new Error(As(14));p[y]=j,m=m||j!==N}return m=m||n.length!==Object.keys(c).length,m?p:c}}function Vm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function FU(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(As(15))};const c={getState:a.getState,dispatch:(m,...p)=>i(m,...p)},f=e.map(m=>m(c));return i=Vm(...f)(a.dispatch),{...a,dispatch:i}}}function s7(e){return hw(e)&&"type"in e&&typeof e.type=="string"}var o7=Symbol.for("immer-nothing"),R6=Symbol.for("immer-draftable"),io=Symbol.for("immer-state");function Hl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Qo=Object,_h=Qo.getPrototypeOf,Gm="constructor",Qg="prototype",Fb="configurable",Wm="enumerable",Sm="writable",i1="value",xu=e=>!!e&&!!e[io];function $l(e){var t;return e?l7(e)||Zg(e)||!!e[R6]||!!((t=e[Gm])!=null&&t[R6])||Jg(e)||ex(e):!1}var zU=Qo[Qg][Gm].toString(),B6=new WeakMap;function l7(e){if(!e||!pw(e))return!1;const t=_h(e);if(t===null||t===Qo[Qg])return!0;const r=Qo.hasOwnProperty.call(t,Gm)&&t[Gm];if(r===Object)return!0;if(!fh(r))return!1;let n=B6.get(r);return n===void 0&&(n=Function.toString.call(r),B6.set(r,n)),n===zU}function C1(e,t,r=!0){_1(e)===0?(r?Reflect.ownKeys(e):Qo.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function _1(e){const t=e[io];return t?t.type_:Zg(e)?1:Jg(e)?2:ex(e)?3:0}var F6=(e,t,r=_1(e))=>r===2?e.has(t):Qo[Qg].hasOwnProperty.call(e,t),zb=(e,t,r=_1(e))=>r===2?e.get(t):e[t],Ym=(e,t,r,n=_1(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function UU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Zg=Array.isArray,Jg=e=>e instanceof Map,ex=e=>e instanceof Set,pw=e=>typeof e=="object",fh=e=>typeof e=="function",gy=e=>typeof e=="boolean",lu=e=>e.copy_||e.base_,mw=e=>e.modified_?e.copy_:e.base_;function Ub(e,t){if(Jg(e))return new Map(e);if(ex(e))return new Set(e);if(Zg(e))return Array[Qg].slice.call(e);const r=l7(e);if(t===!0||t==="class_only"&&!r){const n=Qo.getOwnPropertyDescriptors(e);delete n[io];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const c=a[i],f=n[c];f[Sm]===!1&&(f[Sm]=!0,f[Fb]=!0),(f.get||f.set)&&(n[c]={[Fb]:!0,[Sm]:!0,[Wm]:f[Wm],[i1]:e[c]})}return Qo.create(_h(e),n)}else{const n=_h(e);if(n!==null&&r)return{...e};const a=Qo.create(n);return Qo.assign(a,e)}}function gw(e,t=!1){return tx(e)||xu(e)||!$l(e)||(_1(e)>1&&Qo.defineProperties(e,{set:Xp,add:Xp,clear:Xp,delete:Xp}),Qo.freeze(e),t&&C1(e,(r,n)=>{gw(n,!0)},!1)),e}function qU(){Hl(2)}var Xp={[i1]:qU};function tx(e){return e===null||!pw(e)?!0:Qo.isFrozen(e)}var $m="MapSet",qb="Patches",c7={};function jh(e){const t=c7[e];return t||Hl(0,e),t}var HU=e=>!!c7[e],s1,u7=()=>s1,VU=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:HU($m)?jh($m):void 0});function z6(e,t){t&&(e.patchPlugin_=jh(qb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Hb(e){Vb(e),e.drafts_.forEach(GU),e.drafts_=null}function Vb(e){e===s1&&(s1=e.parent_)}var U6=e=>s1=VU(s1,e);function GU(e){const t=e[io];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function q6(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[io].modified_&&(Hb(t),Hl(4)),$l(e)&&(e=H6(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[io].base_,e,t)}else e=H6(t,r);return WU(t,e,!0),Hb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==o7?e:void 0}function H6(e,t){if(tx(t))return t;const r=t[io];if(!r)return xw(t,e.handledSet_,e);if(!rx(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);h7(r,e)}return r.copy_}function WU(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&gw(t,r)}function d7(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var rx=(e,t)=>e.scope_===t,YU=[];function f7(e,t,r,n){const a=lu(e),i=e.type_;if(n!==void 0&&zb(a,n,i)===t){Ym(a,n,r,i);return}if(!e.draftLocations_){const f=e.draftLocations_=new Map;C1(a,(m,p)=>{if(xu(p)){const x=f.get(p)||[];x.push(m),f.set(p,x)}})}const c=e.draftLocations_.get(t)??YU;for(const f of c)Ym(a,f,r,i)}function $U(e,t,r){e.callbacks_.push(function(a){var f;const i=t;if(!i||!rx(i,a))return;(f=a.mapSetPlugin_)==null||f.fixSetContents(i);const c=mw(i);f7(e,i.draft_??i,c,r),h7(i,a)})}function h7(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}d7(e)}}function XU(e,t,r){const{scope_:n}=e;if(xu(r)){const a=r[io];rx(a,n)&&a.callbacks_.push(function(){Em(e);const c=mw(a);f7(e,r,c,t)})}else $l(r)&&e.callbacks_.push(function(){const i=lu(e);zb(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&xw(zb(e.copy_,t,e.type_),n.handledSet_,n)})}function xw(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||xu(e)||t.has(e)||!$l(e)||tx(e)||(t.add(e),C1(e,(n,a)=>{if(xu(a)){const i=a[io];if(rx(i,r)){const c=mw(i);Ym(e,n,c,e.type_),d7(i)}}else $l(a)&&xw(a,t,r)})),e}function KU(e,t){const r=Zg(e),n={type_:r?1:0,scope_:t?t.scope_:u7(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=vw;r&&(a=[n],i=o1);const{revoke:c,proxy:f}=Proxy.revocable(a,i);return n.draft_=f,n.revoke_=c,[f,n]}var vw={get(e,t){if(t===io)return e;const r=lu(e);if(!F6(r,t,e.type_))return QU(e,r,t);const n=r[t];if(e.finalized_||!$l(n))return n;if(n===xy(e.base_,t)){Em(e);const a=e.type_===1?+t:t,i=Wb(e.scope_,n,e,a);return e.copy_[a]=i}return n},has(e,t){return t in lu(e)},ownKeys(e){return Reflect.ownKeys(lu(e))},set(e,t,r){const n=p7(lu(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=xy(lu(e),t),i=a==null?void 0:a[io];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(UU(r,a)&&(r!==void 0||F6(e.base_,t,e.type_)))return!0;Em(e),Gb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),XU(e,t,r)),!0},deleteProperty(e,t){return Em(e),xy(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Gb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=lu(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Sm]:!0,[Fb]:e.type_!==1||t!=="length",[Wm]:n[Wm],[i1]:r[t]}},defineProperty(){Hl(11)},getPrototypeOf(e){return _h(e.base_)},setPrototypeOf(){Hl(12)}},o1={};C1(vw,(e,t)=>{o1[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});o1.deleteProperty=function(e,t){return o1.set.call(this,e,t,void 0)};o1.set=function(e,t,r){return vw.set.call(this,e[0],t,r,e[0])};function xy(e,t){const r=e[io];return(r?lu(r):e)[t]}function QU(e,t,r){var a;const n=p7(t,r);return n?i1 in n?n[i1]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function p7(e,t){if(!(t in e))return;let r=_h(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=_h(r)}}function Gb(e){e.modified_||(e.modified_=!0,e.parent_&&Gb(e.parent_))}function Em(e){e.copy_||(e.assigned_=new Map,e.copy_=Ub(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ZU=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(fh(r)&&!fh(n)){const c=n;n=r;const f=this;return function(p=c,...x){return f.produce(p,y=>n.call(this,y,...x))}}fh(n)||Hl(6),a!==void 0&&!fh(a)&&Hl(7);let i;if($l(r)){const c=U6(this),f=Wb(c,r,void 0);let m=!0;try{i=n(f),m=!1}finally{m?Hb(c):Vb(c)}return z6(c,a),q6(i,c)}else if(!r||!pw(r)){if(i=n(r),i===void 0&&(i=r),i===o7&&(i=void 0),this.autoFreeze_&&gw(i,!0),a){const c=[],f=[];jh(qb).generateReplacementPatches_(r,i,{patches_:c,inversePatches_:f}),a(c,f)}return i}else Hl(1,r)},this.produceWithPatches=(r,n)=>{if(fh(r))return(f,...m)=>this.produceWithPatches(f,p=>r(p,...m));let a,i;return[this.produce(r,n,(f,m)=>{a=f,i=m}),a,i]},gy(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),gy(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),gy(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){$l(t)||Hl(8),xu(t)&&(t=Yl(t));const r=U6(this),n=Wb(r,t,void 0);return n[io].isManual_=!0,Vb(r),n}finishDraft(t,r){const n=t&&t[io];(!n||!n.isManual_)&&Hl(9);const{scope_:a}=n;return z6(a,r),q6(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=jh(qb).applyPatches_;return xu(t)?a(t,r):this.produce(t,i=>a(i,r))}};function Wb(e,t,r,n){const[a,i]=Jg(t)?jh($m).proxyMap_(t,r):ex(t)?jh($m).proxySet_(t,r):KU(t,r);return((r==null?void 0:r.scope_)??u7()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?$U(r,i,n):i.callbacks_.push(function(m){var x;(x=m.mapSetPlugin_)==null||x.fixSetContents(i);const{patchPlugin_:p}=m;i.modified_&&p&&p.generatePatches_(i,[],m)}),a}function Yl(e){return xu(e)||Hl(10,e),m7(e)}function m7(e){if(!$l(e)||tx(e))return e;const t=e[io];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ub(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Ub(e,!0);return C1(r,(a,i)=>{Ym(r,a,m7(i))},n),t&&(t.finalized_=!1),r}var JU=new ZU,g7=JU.produce;function x7(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var eq=x7(),tq=x7,rq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vm:Vm.apply(null,arguments)};function bl(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Jo(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>s7(n)&&n.type===e,r}var v7=class X0 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,X0.prototype)}static get[Symbol.species](){return X0}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new X0(...t[0].concat(this)):new X0(...t.concat(this))}};function V6(e){return $l(e)?g7(e,()=>{}):e}function Kp(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function nq(e){return typeof e=="boolean"}var aq=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let c=new v7;return r&&(nq(r)?c.push(eq):c.push(tq(r.extraArgument))),c},y7="RTK_autoBatch",Ua=()=>e=>({payload:e,meta:{[y7]:!0}}),G6=e=>t=>{setTimeout(t,e)},b7=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,c=!1;const f=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:G6(10):e.type==="callback"?e.queueNotification:G6(e.timeout),p=()=>{c=!1,i&&(i=!1,f.forEach(x=>x()))};return Object.assign({},n,{subscribe(x){const y=()=>a&&x(),S=n.subscribe(y);return f.add(x),()=>{S(),f.delete(x)}},dispatch(x){var y;try{return a=!((y=x==null?void 0:x.meta)!=null&&y[y7]),i=!a,i&&(c||(c=!0,m(p))),n.dispatch(x)}finally{a=!0}}})},iq=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new v7(e);return n&&a.push(b7(typeof n=="object"?n:void 0)),a};function sq(e){const t=aq(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:c=void 0}=e||{};let f;if(typeof r=="function")f=r;else if(hw(r))f=i7(r);else throw new Error(Jo(1));let m;typeof n=="function"?m=n(t):m=t();let p=Vm;a&&(p=rq({trace:!1,...typeof a=="object"&&a}));const x=FU(...m),y=iq(x);let S=typeof c=="function"?c(y):y();const N=p(...S);return a7(f,i,N)}function w7(e){const t={},r=[];let n;const a={addCase(i,c){const f=typeof i=="string"?i:i.type;if(!f)throw new Error(Jo(28));if(f in t)throw new Error(Jo(29));return t[f]=c,a},addAsyncThunk(i,c){return c.pending&&(t[i.pending.type]=c.pending),c.rejected&&(t[i.rejected.type]=c.rejected),c.fulfilled&&(t[i.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:i.settled,reducer:c.settled}),a},addMatcher(i,c){return r.push({matcher:i,reducer:c}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function oq(e){return typeof e=="function"}function lq(e,t){let[r,n,a]=w7(t),i;if(oq(e))i=()=>V6(e());else{const f=V6(e);i=()=>f}function c(f=i(),m){let p=[r[m.type],...n.filter(({matcher:x})=>x(m)).map(({reducer:x})=>x)];return p.filter(x=>!!x).length===0&&(p=[a]),p.reduce((x,y)=>{if(y)if(xu(x)){const N=y(x,m);return N===void 0?x:N}else{if($l(x))return g7(x,S=>y(S,m));{const S=y(x,m);if(S===void 0){if(x===null)return x;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return x},f)}return c.getInitialState=i,c}var cq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",uq=(e=21)=>{let t="",r=e;for(;r--;)t+=cq[Math.random()*64|0];return t},dq=Symbol.for("rtk-slice-createasyncthunk");function fq(e,t){return`${e}/${t}`}function hq({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[dq];return function(a){const{name:i,reducerPath:c=i}=a;if(!i)throw new Error(Jo(11));const f=(typeof a.reducers=="function"?a.reducers(mq()):a.reducers)||{},m=Object.keys(f),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},x={addCase(G,Y){const J=typeof G=="string"?G:G.type;if(!J)throw new Error(Jo(12));if(J in p.sliceCaseReducersByType)throw new Error(Jo(13));return p.sliceCaseReducersByType[J]=Y,x},addMatcher(G,Y){return p.sliceMatchers.push({matcher:G,reducer:Y}),x},exposeAction(G,Y){return p.actionCreators[G]=Y,x},exposeCaseReducer(G,Y){return p.sliceCaseReducersByName[G]=Y,x}};m.forEach(G=>{const Y=f[G],J={reducerName:G,type:fq(i,G),createNotation:typeof a.reducers=="function"};xq(Y)?yq(J,Y,x,t):gq(J,Y,x)});function y(){const[G={},Y=[],J=void 0]=typeof a.extraReducers=="function"?w7(a.extraReducers):[a.extraReducers],V={...G,...p.sliceCaseReducersByType};return lq(a.initialState,$=>{for(let W in V)$.addCase(W,V[W]);for(let W of p.sliceMatchers)$.addMatcher(W.matcher,W.reducer);for(let W of Y)$.addMatcher(W.matcher,W.reducer);J&&$.addDefaultCase(J)})}const S=G=>G,N=new Map,j=new WeakMap;let _;function T(G,Y){return _||(_=y()),_(G,Y)}function I(){return _||(_=y()),_.getInitialState()}function R(G,Y=!1){function J($){let W=$[G];return typeof W>"u"&&Y&&(W=Kp(j,J,I)),W}function V($=S){const W=Kp(N,Y,()=>new WeakMap);return Kp(W,$,()=>{const Ne={};for(const[Z,Q]of Object.entries(a.selectors??{}))Ne[Z]=pq(Q,$,()=>Kp(j,$,I),Y);return Ne})}return{reducerPath:G,getSelectors:V,get selectors(){return V(J)},selectSlice:J}}const F={name:i,reducer:T,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:I,...R(c),injectInto(G,{reducerPath:Y,...J}={}){const V=Y??c;return G.inject({reducerPath:V,reducer:T},J),{...F,...R(V,!0)}}};return F}}function pq(e,t,r,n){function a(i,...c){let f=t(i);return typeof f>"u"&&n&&(f=r()),e(f,...c)}return a.unwrapped=e,a}var Do=hq();function mq(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function gq({type:e,reducerName:t,createNotation:r},n,a){let i,c;if("reducer"in n){if(r&&!vq(n))throw new Error(Jo(17));i=n.reducer,c=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,c?bl(e,c):bl(e))}function xq(e){return e._reducerDefinitionType==="asyncThunk"}function vq(e){return e._reducerDefinitionType==="reducerWithPrepare"}function yq({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Jo(18));const{payloadCreator:i,fulfilled:c,pending:f,rejected:m,settled:p,options:x}=r,y=a(e,i,x);n.exposeAction(t,y),c&&n.addCase(y.fulfilled,c),f&&n.addCase(y.pending,f),m&&n.addCase(y.rejected,m),p&&n.addMatcher(y.settled,p),n.exposeCaseReducer(t,{fulfilled:c||Qp,pending:f||Qp,rejected:m||Qp,settled:p||Qp})}function Qp(){}var bq="task",A7="listener",N7="completed",yw="cancelled",wq=`task-${yw}`,Aq=`task-${N7}`,Yb=`${A7}-${yw}`,Nq=`${A7}-${N7}`,nx=class{constructor(e){X2(this,"name","TaskAbortError");X2(this,"message");this.code=e,this.message=`${bq} ${yw} (reason: ${e})`}},bw=(e,t)=>{if(typeof e!="function")throw new TypeError(Jo(32))},Xm=()=>{},S7=(e,t=Xm)=>(e.catch(t),e),E7=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),of=e=>{if(e.aborted)throw new nx(e.reason)};function C7(e,t){let r=Xm;return new Promise((n,a)=>{const i=()=>a(new nx(e.reason));if(e.aborted){i();return}r=E7(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Xm})}var Sq=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof nx?"cancelled":"rejected",error:r}}finally{t==null||t()}},Km=e=>t=>S7(C7(e,t).then(r=>(of(e),r))),_7=e=>{const t=Km(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Nh}=Object,W6={},ax="listenerMiddleware",Eq=(e,t)=>{const r=n=>E7(e,()=>n.abort(e.reason));return(n,a)=>{bw(n);const i=new AbortController;r(i);const c=Sq(async()=>{of(e),of(i.signal);const f=await n({pause:Km(i.signal),delay:_7(i.signal),signal:i.signal});return of(i.signal),f},()=>i.abort(Aq));return a!=null&&a.autoJoin&&t.push(c.catch(Xm)),{result:Km(e)(c),cancel(){i.abort(wq)}}}},Cq=(e,t)=>{const r=async(n,a)=>{of(t);let i=()=>{};const f=[new Promise((m,p)=>{let x=e({predicate:n,effect:(y,S)=>{S.unsubscribe(),m([y,S.getState(),S.getOriginalState()])}});i=()=>{x(),p()}})];a!=null&&f.push(new Promise(m=>setTimeout(m,a,null)));try{const m=await C7(t,Promise.race(f));return of(t),m}finally{i()}};return(n,a)=>S7(r(n,a))},j7=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=bl(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Jo(21));return bw(i),{predicate:a,type:t,effect:i}},O7=Nh(e=>{const{type:t,predicate:r,effect:n}=j7(e);return{id:uq(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Jo(22))}}},{withTypes:()=>O7}),Y6=(e,t)=>{const{type:r,effect:n,predicate:a}=j7(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},$b=e=>{e.pending.forEach(t=>{t.abort(Yb)})},_q=(e,t)=>()=>{for(const r of t.keys())$b(r);e.clear()},$6=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},T7=Nh(bl(`${ax}/add`),{withTypes:()=>T7}),jq=bl(`${ax}/removeAll`),k7=Nh(bl(`${ax}/remove`),{withTypes:()=>k7}),Oq=(...e)=>{console.error(`${ax}/error`,...e)},j1=(e={})=>{const t=new Map,r=new Map,n=N=>{const j=r.get(N)??0;r.set(N,j+1)},a=N=>{const j=r.get(N)??1;j===1?r.delete(N):r.set(N,j-1)},{extra:i,onError:c=Oq}=e;bw(c);const f=N=>(N.unsubscribe=()=>t.delete(N.id),t.set(N.id,N),j=>{N.unsubscribe(),j!=null&&j.cancelActive&&$b(N)}),m=N=>{const j=Y6(t,N)??O7(N);return f(j)};Nh(m,{withTypes:()=>m});const p=N=>{const j=Y6(t,N);return j&&(j.unsubscribe(),N.cancelActive&&$b(j)),!!j};Nh(p,{withTypes:()=>p});const x=async(N,j,_,T)=>{const I=new AbortController,R=Cq(m,I.signal),F=[];try{N.pending.add(I),n(N),await Promise.resolve(N.effect(j,Nh({},_,{getOriginalState:T,condition:(G,Y)=>R(G,Y).then(Boolean),take:R,delay:_7(I.signal),pause:Km(I.signal),extra:i,signal:I.signal,fork:Eq(I.signal,F),unsubscribe:N.unsubscribe,subscribe:()=>{t.set(N.id,N)},cancelActiveListeners:()=>{N.pending.forEach((G,Y,J)=>{G!==I&&(G.abort(Yb),J.delete(G))})},cancel:()=>{I.abort(Yb),N.pending.delete(I)},throwIfCancelled:()=>{of(I.signal)}})))}catch(G){G instanceof nx||$6(c,G,{raisedBy:"effect"})}finally{await Promise.all(F),I.abort(Nq),a(N),N.pending.delete(I)}},y=_q(t,r);return{middleware:N=>j=>_=>{if(!s7(_))return j(_);if(T7.match(_))return m(_.payload);if(jq.match(_)){y();return}if(k7.match(_))return p(_.payload);let T=N.getState();const I=()=>{if(T===W6)throw new Error(Jo(23));return T};let R;try{if(R=j(_),t.size>0){const F=N.getState(),G=Array.from(t.values());for(const Y of G){let J=!1;try{J=Y.predicate(_,F,T)}catch(V){J=!1,$6(c,V,{raisedBy:"predicate"})}J&&x(Y,_,N,I)}}}finally{T=W6}return R},startListening:m,stopListening:p,clearListeners:y}};function Jo(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Tq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},I7=Do({name:"chartLayout",initialState:Tq,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:kq,setLayout:Iq,setChartSize:Dq,setScale:Mq}=I7.actions,Lq=I7.reducer;function D7(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ga(e){return Number.isFinite(e)}function kc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function X6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X6(Object(r),!0).forEach(function(n){Pq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pq(e,t,r){return(t=Rq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rq(e){var t=Bq(e,"string");return typeof t=="symbol"?t:t+""}function Bq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ia(e,t,r){return Ka(e)||Ka(t)?r:Tc(t)?xf(e,t,r):typeof t=="function"?t(e):r}var Fq=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:c,layout:f}=t;if((f==="vertical"||f==="horizontal"&&c==="middle")&&i!=="center"&&ir(e[i]))return ph(ph({},e),{},{[i]:e[i]+(n||0)});if((f==="horizontal"||f==="vertical"&&i==="center")&&c!=="middle"&&ir(e[c]))return ph(ph({},e),{},{[c]:e[c]+(a||0)})}return e},Su=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",M7=(e,t,r,n)=>{if(n)return e.map(f=>f.coordinate);var a,i,c=e.map(f=>(f.coordinate===t&&(a=!0),f.coordinate===r&&(i=!0),f.coordinate));return a||c.push(t),i||c.push(r),c},L7=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:c,realScaleType:f,isCategorical:m,categoricalDomain:p,tickCount:x,ticks:y,niceTicks:S,axisType:N}=e;if(!c)return null;var j=f==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,_=a==="category"&&c.bandwidth?c.bandwidth()/j:0;if(_=N==="angleAxis"&&i&&i.length>=2?ds(i[0]-i[1])*2*_:_,y||S){var T=(y||S||[]).map((I,R)=>{var F=n?n.indexOf(I):I;return{coordinate:c(F)+_,value:I,offset:_,index:R}});return T.filter(I=>!yl(I.coordinate))}return m&&p?p.map((I,R)=>({coordinate:c(I)+_,value:I,index:R,offset:_})):c.ticks&&x!=null?c.ticks(x).map((I,R)=>({coordinate:c(I)+_,value:I,offset:_,index:R})):c.domain().map((I,R)=>({coordinate:c(I)+_,value:n?n[I]:I,index:R,offset:_}))},K6=1e-4,zq=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-K6,i=Math.max(n[0],n[1])+K6,c=e(t[0]),f=e(t[r-1]);(c<a||c>i||f<a||f>i)&&e.domain([t[0],t[r-1]])}},Uq=(e,t)=>{if(!t||t.length!==2||!ir(t[0])||!ir(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ir(e[0])||e[0]<r)&&(a[0]=r),(!ir(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},qq=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,c=0,f=0;f<r;++f){var m=e[f],p=m==null?void 0:m[a];if(p!=null){var x=p[1],y=p[0],S=yl(x)?y:x;S>=0?(p[0]=i,p[1]=i+S,i=x):(p[0]=c,p[1]=c+S,c=x)}}}},Hq=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,c=0;c<r;++c){var f=e[c],m=f==null?void 0:f[a];if(m!=null){var p=yl(m[1])?m[0]:m[1];p>=0?(m[0]=i,m[1]=i+p,i=m[1]):(m[0]=0,m[1]=0)}}}},Vq={sign:qq,expand:xz,none:gf,silhouette:vz,wiggle:yz,positive:Hq},Gq=(e,t,r)=>{var n,a=(n=Vq[r])!==null&&n!==void 0?n:gf,i=gz().keys(t).value((f,m)=>Number(ia(f,m,0))).order(Rb).offset(a),c=i(e);return c.forEach((f,m)=>{f.forEach((p,x)=>{var y=ia(e[x],t[m],0);Array.isArray(y)&&y.length===2&&ir(y[0])&&ir(y[1])&&(p[0]=y[0],p[1]=y[1])})}),c};function P7(e){return e==null?void 0:String(e)}function Q6(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ka(a[t.dataKey])){var f=UO(r,"value",a[t.dataKey]);if(f)return f.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var m=ia(a,Ka(c)?t.dataKey:c);return Ka(m)?null:t.scale(m)}var Z6=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+n:null;var f=ia(i,t.dataKey,t.scale.domain()[c]);return Ka(f)?null:t.scale(f)-a/2+n},Wq=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Yq=e=>{var t=e.flat(2).filter(ir);return[Math.min(...t),Math.max(...t)]},$q=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Xq=(e,t,r)=>{if(e!=null)return $q(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:c}=i,f=c.reduce((m,p)=>{var x=D7(p,t,r),y=Yq(x);return!ga(y[0])||!ga(y[1])?m:[Math.min(m[0],y[0]),Math.max(m[1],y[1])]},[1/0,-1/0]);return[Math.min(f[0],n[0]),Math.max(f[1],n[1])]},[1/0,-1/0]))},J6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,e8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Oh=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Kg(t,x=>x.coordinate),i=1/0,c=1,f=a.length;c<f;c++){var m=a[c],p=a[c-1];i=Math.min(((m==null?void 0:m.coordinate)||0)-((p==null?void 0:p.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function t8(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return ph(ph({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Uh(e,t){if(e)return String(e);if(typeof t=="string")return t}var Kq=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Qq=(e,t)=>t==="centric"?e.angle:e.radius,Eu=e=>e.layout.width,Cu=e=>e.layout.height,Zq=e=>e.layout.scale,R7=e=>e.layout.margin,ix=ct(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),sx=ct(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),B7="data-recharts-item-index",F7="data-recharts-item-id",O1=60;function r8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r8(Object(r),!0).forEach(function(n){Jq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jq(e,t,r){return(t=eH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eH(e){var t=tH(e,"string");return typeof t=="symbol"?t:t+""}function tH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rH=e=>e.brush.height;function nH(e){var t=sx(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:O1;return r+a}return r},0)}function aH(e){var t=sx(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:O1;return r+a}return r},0)}function iH(e){var t=ix(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function sH(e){var t=ix(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Xi=ct([Eu,Cu,R7,rH,nH,aH,iH,sH,n7,DU],(e,t,r,n,a,i,c,f,m,p)=>{var x={left:(r.left||0)+a,right:(r.right||0)+i},y={top:(r.top||0)+c,bottom:(r.bottom||0)+f},S=Zp(Zp({},y),x),N=S.bottom;S.bottom+=n,S=Fq(S,m,p);var j=e-S.left-S.right,_=t-S.top-S.bottom;return Zp(Zp({brushBottom:N},S),{},{width:Math.max(j,0),height:Math.max(_,0)})}),oH=ct(Xi,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),ww=ct(Eu,Cu,(e,t)=>({x:0,y:0,width:e,height:t})),lH=M.createContext(null),Hs=()=>M.useContext(lH)!=null,ox=e=>e.brush,lx=ct([ox,Xi,R7],(e,t,r)=>({height:e.height,x:ir(e.x)?e.x:t.left,y:ir(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ir(e.width)?e.width:t.width})),vy={},yy={},by={},n8;function cH(){return n8||(n8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let c,f=null;const m=i!=null&&i.includes("leading"),p=i==null||i.includes("trailing"),x=()=>{f!==null&&(r.apply(c,f),c=void 0,f=null)},y=()=>{p&&x(),_()};let S=null;const N=()=>{S!=null&&clearTimeout(S),S=setTimeout(()=>{S=null,y()},n)},j=()=>{S!==null&&(clearTimeout(S),S=null)},_=()=>{j(),c=void 0,f=null},T=()=>{x()},I=function(...R){if(a!=null&&a.aborted)return;c=this,f=R;const F=S==null;N(),m&&F&&x()};return I.schedule=N,I.cancel=_,I.flush=T,a==null||a.addEventListener("abort",_,{once:!0}),I}e.debounce=t}(by)),by}var a8;function uH(){return a8||(a8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cH();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:c=!1,trailing:f=!0,maxWait:m}=i,p=Array(2);c&&(p[0]="leading"),f&&(p[1]="trailing");let x,y=null;const S=t.debounce(function(..._){x=n.apply(this,_),y=null},a,{edges:p}),N=function(..._){return m!=null&&(y===null&&(y=Date.now()),Date.now()-y>=m)?(x=n.apply(this,_),y=Date.now(),S.cancel(),S.schedule(),x):(S.apply(this,_),x)},j=()=>(S.flush(),x);return N.cancel=S.cancel,N.flush=j,N}e.debounce=r}(yy)),yy}var i8;function dH(){return i8||(i8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uH();function r(n,a=0,i={}){const{leading:c=!0,trailing:f=!0}=i;return t.debounce(n,a,{leading:c,maxWait:a,trailing:f})}e.throttle=r}(vy)),vy}var wy,s8;function fH(){return s8||(s8=1,wy=dH().throttle),wy}var hH=fH();const pH=Dc(hH);var Qm=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>a[c++]))}},z7=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:c}=r,f=gu(n)?e:Number(n),m=gu(a)?t:Number(a);return i&&i>0&&(f?m=f/i:m&&(f=m*i),c&&m!=null&&m>c&&(m=c)),{calculatedWidth:f,calculatedHeight:m}},mH={width:0,height:0,overflow:"visible"},gH={width:0,overflowX:"visible"},xH={height:0,overflowY:"visible"},vH={},yH=e=>{var{width:t,height:r}=e,n=gu(t),a=gu(r);return n&&a?mH:n?gH:a?xH:vH};function bH(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xb.apply(null,arguments)}function o8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o8(Object(r),!0).forEach(function(n){wH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wH(e,t,r){return(t=AH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AH(e){var t=NH(e,"string");return typeof t=="symbol"?t:t+""}function NH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U7=M.createContext({width:-1,height:-1});function SH(e){return kc(e.width)&&kc(e.height)}function q7(e){var{children:t,width:r,height:n}=e,a=M.useMemo(()=>({width:r,height:n}),[r,n]);return SH(a)?M.createElement(U7.Provider,{value:a},t):null}var Aw=()=>M.useContext(U7),EH=M.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:c=0,minHeight:f,maxHeight:m,children:p,debounce:x=0,id:y,className:S,onResize:N,style:j={}}=e,_=M.useRef(null),T=M.useRef();T.current=N,M.useImperativeHandle(t,()=>_.current);var[I,R]=M.useState({containerWidth:n.width,containerHeight:n.height}),F=M.useCallback(($,W)=>{R(Ne=>{var Z=Math.round($),Q=Math.round(W);return Ne.containerWidth===Z&&Ne.containerHeight===Q?Ne:{containerWidth:Z,containerHeight:Q}})},[]);M.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return E1;var $=Q=>{var me,{width:re,height:q}=Q[0].contentRect;F(re,q),(me=T.current)===null||me===void 0||me.call(T,re,q)};x>0&&($=pH($,x,{trailing:!0,leading:!1}));var W=new ResizeObserver($),{width:Ne,height:Z}=_.current.getBoundingClientRect();return F(Ne,Z),W.observe(_.current),()=>{W.disconnect()}},[F,x]);var{containerWidth:G,containerHeight:Y}=I;Qm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:J,calculatedHeight:V}=z7(G,Y,{width:a,height:i,aspect:r,maxHeight:m});return Qm(J!=null&&J>0||V!=null&&V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,V,a,i,c,f,r),M.createElement("div",{id:y?"".concat(y):void 0,className:qn("recharts-responsive-container",S),style:l8(l8({},j),{},{width:a,height:i,minWidth:c,minHeight:f,maxHeight:m}),ref:_},M.createElement("div",{style:yH({width:a,height:i})},M.createElement(q7,{width:J,height:V},p)))}),Jp=M.forwardRef((e,t)=>{var r=Aw();if(kc(r.width)&&kc(r.height))return e.children;var{width:n,height:a}=bH({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:c}=z7(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return ir(i)&&ir(c)?M.createElement(q7,{width:i,height:c},e.children):M.createElement(EH,Xb({},e,{width:n,height:a,ref:t}))});function H7(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var cx=()=>{var e,t=Hs(),r=mr(oH),n=mr(lx),a=(e=mr(ox))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},CH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},V7=()=>{var e;return(e=mr(Xi))!==null&&e!==void 0?e:CH},G7=()=>mr(Eu),W7=()=>mr(Cu),wn=e=>e.layout.layoutType,Ef=()=>mr(wn),_H=()=>{var e=Ef();if(e==="horizontal"||e==="vertical")return e},jH=()=>{var e=Ef();return e!==void 0},ux=e=>{var t=Va(),r=Hs(),{width:n,height:a}=e,i=Aw(),c=n,f=a;return i&&(c=i.width>0?i.width:n,f=i.height>0?i.height:a),M.useEffect(()=>{!r&&kc(c)&&kc(f)&&t(Dq({width:c,height:f}))},[t,r,c,f]),null},Y7=Symbol.for("immer-nothing"),c8=Symbol.for("immer-draftable"),el=Symbol.for("immer-state");function Vl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var l1=Object.getPrototypeOf;function Th(e){return!!e&&!!e[el]}function vf(e){var t;return e?$7(e)||Array.isArray(e)||!!e[c8]||!!((t=e.constructor)!=null&&t[c8])||T1(e)||fx(e):!1}var OH=Object.prototype.constructor.toString(),u8=new WeakMap;function $7(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=u8.get(r);return n===void 0&&(n=Function.toString.call(r),u8.set(r,n)),n===OH}function Zm(e,t,r=!0){dx(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function dx(e){const t=e[el];return t?t.type_:Array.isArray(e)?1:T1(e)?2:fx(e)?3:0}function Kb(e,t){return dx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function X7(e,t,r){const n=dx(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function TH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function T1(e){return e instanceof Map}function fx(e){return e instanceof Set}function Kd(e){return e.copy_||e.base_}function Qb(e,t){if(T1(e))return new Map(e);if(fx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=$7(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[el];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const c=a[i],f=n[c];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(n[c]={configurable:!0,writable:!0,enumerable:f.enumerable,value:e[c]})}return Object.create(l1(e),n)}else{const n=l1(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Nw(e,t=!1){return hx(e)||Th(e)||!vf(e)||(dx(e)>1&&Object.defineProperties(e,{set:em,add:em,clear:em,delete:em}),Object.freeze(e),t&&Object.values(e).forEach(r=>Nw(r,!0))),e}function kH(){Vl(2)}var em={value:kH};function hx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var IH={};function yf(e){const t=IH[e];return t||Vl(0,e),t}var c1;function K7(){return c1}function DH(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function d8(e,t){t&&(yf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Zb(e){Jb(e),e.drafts_.forEach(MH),e.drafts_=null}function Jb(e){e===c1&&(c1=e.parent_)}function f8(e){return c1=DH(c1,e)}function MH(e){const t=e[el];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function h8(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[el].modified_&&(Zb(t),Vl(4)),vf(e)&&(e=Jm(t,e),t.parent_||eg(t,e)),t.patches_&&yf("Patches").generateReplacementPatches_(r[el].base_,e,t.patches_,t.inversePatches_)):e=Jm(t,r,[]),Zb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Y7?e:void 0}function Jm(e,t,r){if(hx(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[el];if(!a)return Zm(t,(i,c)=>p8(e,a,t,i,c,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return eg(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let c=i,f=!1;a.type_===3&&(c=new Set(i),i.clear(),f=!0),Zm(c,(m,p)=>p8(e,a,i,m,p,r,f),n),eg(e,i,!1),r&&e.patches_&&yf("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function p8(e,t,r,n,a,i,c){if(a==null||typeof a!="object"&&!c)return;const f=hx(a);if(!(f&&!c)){if(Th(a)){const m=i&&t&&t.type_!==3&&!Kb(t.assigned_,n)?i.concat(n):void 0,p=Jm(e,a,m);if(X7(r,n,p),Th(p))e.canAutoFreeze_=!1;else return}else c&&r.add(a);if(vf(a)&&!f){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&f)return;Jm(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(T1(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&eg(e,a)}}}function eg(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Nw(t,r)}function LH(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:K7(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Sw;r&&(a=[n],i=u1);const{revoke:c,proxy:f}=Proxy.revocable(a,i);return n.draft_=f,n.revoke_=c,f}var Sw={get(e,t){if(t===el)return e;const r=Kd(e);if(!Kb(r,t))return PH(e,r,t);const n=r[t];return e.finalized_||!vf(n)?n:n===Ay(e.base_,t)?(Ny(e),e.copy_[t]=t5(n,e)):n},has(e,t){return t in Kd(e)},ownKeys(e){return Reflect.ownKeys(Kd(e))},set(e,t,r){const n=Q7(Kd(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Ay(Kd(e),t),i=a==null?void 0:a[el];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(TH(r,a)&&(r!==void 0||Kb(e.base_,t)))return!0;Ny(e),e5(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ay(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ny(e),e5(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Kd(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Vl(11)},getPrototypeOf(e){return l1(e.base_)},setPrototypeOf(){Vl(12)}},u1={};Zm(Sw,(e,t)=>{u1[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});u1.deleteProperty=function(e,t){return u1.set.call(this,e,t,void 0)};u1.set=function(e,t,r){return Sw.set.call(this,e[0],t,r,e[0])};function Ay(e,t){const r=e[el];return(r?Kd(r):e)[t]}function PH(e,t,r){var a;const n=Q7(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function Q7(e,t){if(!(t in e))return;let r=l1(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=l1(r)}}function e5(e){e.modified_||(e.modified_=!0,e.parent_&&e5(e.parent_))}function Ny(e){e.copy_||(e.copy_=Qb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var RH=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const c=this;return function(m=i,...p){return c.produce(m,x=>r.call(this,x,...p))}}typeof r!="function"&&Vl(6),n!==void 0&&typeof n!="function"&&Vl(7);let a;if(vf(t)){const i=f8(this),c=t5(t,void 0);let f=!0;try{a=r(c),f=!1}finally{f?Zb(i):Jb(i)}return d8(i,n),h8(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===Y7&&(a=void 0),this.autoFreeze_&&Nw(a,!0),n){const i=[],c=[];yf("Patches").generateReplacementPatches_(t,a,i,c),n(i,c)}return a}else Vl(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...f)=>this.produceWithPatches(c,m=>t(m,...f));let n,a;return[this.produce(t,r,(c,f)=>{n=c,a=f}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){vf(e)||Vl(8),Th(e)&&(e=BH(e));const t=f8(this),r=t5(e,void 0);return r[el].isManual_=!0,Jb(t),r}finishDraft(e,t){const r=e&&e[el];(!r||!r.isManual_)&&Vl(9);const{scope_:n}=r;return d8(n,t),h8(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=yf("Patches").applyPatches_;return Th(e)?n(e,t):this.produce(e,a=>n(a,t))}};function t5(e,t){const r=T1(e)?yf("MapSet").proxyMap_(e,t):fx(e)?yf("MapSet").proxySet_(e,t):LH(e,t);return(t?t.scope_:K7()).drafts_.push(r),r}function BH(e){return Th(e)||Vl(10,e),Z7(e)}function Z7(e){if(!vf(e)||hx(e))return e;const t=e[el];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Qb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Qb(e,!0);return Zm(r,(a,i)=>{X7(r,a,Z7(i))},n),t&&(t.finalized_=!1),r}var FH=new RH;FH.produce;var zH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},J7=Do({name:"legend",initialState:zH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ua()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Yl(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Ua()},removeLegendPayload:{reducer(e,t){var r=Yl(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ua()}}}),{setLegendSize:tse,setLegendSettings:rse,addLegendPayload:eT,replaceLegendPayload:tT,removeLegendPayload:rT}=J7.actions,UH=J7.reducer;function r5(){return r5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r5.apply(null,arguments)}function m8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(r),!0).forEach(function(n){qH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qH(e,t,r){return(t=HH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HH(e){var t=VH(e,"string");return typeof t=="symbol"?t:t+""}function VH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GH(e){return Array.isArray(e)&&Tc(e[0])&&Tc(e[1])?e.join(" ~ "):e}var WH=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:c,itemSorter:f,wrapperClassName:m,labelClassName:p,label:x,labelFormatter:y,accessibilityLayer:S=!1}=e,N=()=>{if(i&&i.length){var Y={padding:0,margin:0},J=(f?Kg(i,f):i).map((V,$)=>{if(V.type==="none")return null;var W=V.formatter||c||GH,{value:Ne,name:Z}=V,Q=Ne,me=Z;if(W){var re=W(Ne,Z,V,$,i);if(Array.isArray(re))[Q,me]=re;else if(re!=null)Q=re;else return null}var q=Sy({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},n);return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:q},Tc(me)?M.createElement("span",{className:"recharts-tooltip-item-name"},me):null,Tc(me)?M.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,M.createElement("span",{className:"recharts-tooltip-item-value"},Q),M.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:Y},J)}return null},j=Sy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),_=Sy({margin:0},a),T=!Ka(x),I=T?x:"",R=qn("recharts-default-tooltip",m),F=qn("recharts-tooltip-label",p);T&&y&&i!==void 0&&i!==null&&(I=y(x,i));var G=S?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",r5({className:R,style:j},G),M.createElement("p",{className:F,style:_},M.isValidElement(I)?I:"".concat(I)),N())},R0="recharts-tooltip-wrapper",YH={visibility:"hidden"};function $H(e){var{coordinate:t,translateX:r,translateY:n}=e;return qn(R0,{["".concat(R0,"-right")]:ir(r)&&t&&ir(t.x)&&r>=t.x,["".concat(R0,"-left")]:ir(r)&&t&&ir(t.x)&&r<t.x,["".concat(R0,"-bottom")]:ir(n)&&t&&ir(t.y)&&n>=t.y,["".concat(R0,"-top")]:ir(n)&&t&&ir(t.y)&&n<t.y})}function g8(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:c,tooltipDimension:f,viewBox:m,viewBoxDimension:p}=e;if(i&&ir(i[n]))return i[n];var x=r[n]-f-(a>0?a:0),y=r[n]+a;if(t[n])return c[n]?x:y;var S=m[n];if(S==null)return 0;if(c[n]){var N=x,j=S;return N<j?Math.max(y,S):Math.max(x,S)}if(p==null)return 0;var _=y+f,T=S+p;return _>T?Math.max(x,S):Math.max(y,S)}function XH(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function KH(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:c,useTranslate3d:f,viewBox:m}=e,p,x,y;return c.height>0&&c.width>0&&r?(x=g8({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:c.width,viewBox:m,viewBoxDimension:m.width}),y=g8({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:c.height,viewBox:m,viewBoxDimension:m.height}),p=XH({translateX:x,translateY:y,useTranslate3d:f})):p=YH,{cssProperties:p,cssClasses:$H({translateX:x,translateY:y,coordinate:r})}}function x8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x8(Object(r),!0).forEach(function(n){n5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n5(e,t,r){return(t=QH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QH(e){var t=ZH(e,"string");return typeof t=="symbol"?t:t+""}function ZH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class JH extends M.PureComponent{constructor(){super(...arguments),n5(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),n5(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:c,hasPayload:f,isAnimationActive:m,offset:p,position:x,reverseDirection:y,useTranslate3d:S,viewBox:N,wrapperStyle:j,lastBoundingBox:_,innerRef:T,hasPortalFromProps:I}=this.props,{cssClasses:R,cssProperties:F}=KH({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:p,position:x,reverseDirection:y,tooltipBox:{height:_.height,width:_.width},useTranslate3d:S,viewBox:N}),G=I?{}:tm(tm({transition:m&&t?"transform ".concat(n,"ms ").concat(a):void 0},F),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&f?"visible":"hidden",position:"absolute",top:0,left:0}),Y=tm(tm({},G),{},{visibility:!this.state.dismissed&&t&&f?"visible":"hidden"},j);return M.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:Y,ref:T},i)}}var nT=()=>{var e;return(e=mr(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function a5(){return a5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a5.apply(null,arguments)}function v8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v8(Object(r),!0).forEach(function(n){eV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eV(e,t,r){return(t=tV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tV(e){var t=rV(e,"string");return typeof t=="symbol"?t:t+""}function rV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b8={curveBasisClosed:iz,curveBasisOpen:sz,curveBasis:az,curveBumpX:VF,curveBumpY:GF,curveLinearClosed:oz,curveLinear:Yg,curveMonotoneX:lz,curveMonotoneY:cz,curveNatural:uz,curveStep:dz,curveStepAfter:hz,curveStepBefore:fz},tg=e=>ga(e.x)&&ga(e.y),w8=e=>e.base!=null&&tg(e.base)&&tg(e),B0=e=>e.x,F0=e=>e.y,nV=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(S1(e));return(r==="curveMonotone"||r==="curveBump")&&t?b8["".concat(r).concat(t==="vertical"?"Y":"X")]:b8[r]||Yg},aV=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,c=nV(t,a),f=i?r.filter(tg):r,m;if(Array.isArray(n)){var p=r.map((N,j)=>y8(y8({},N),{},{base:n[j]}));a==="vertical"?m=Wp().y(F0).x1(B0).x0(N=>N.base.x):m=Wp().x(B0).y1(F0).y0(N=>N.base.y);var x=m.defined(w8).curve(c),y=i?p.filter(w8):p;return x(y)}a==="vertical"&&ir(n)?m=Wp().y(F0).x1(B0).x0(n):ir(n)?m=Wp().x(B0).y1(F0).y0(n):m=jO().x(B0).y(F0);var S=m.defined(tg).curve(c);return S(f)},Sh=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=Ef();if((!r||!r.length)&&!n)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},f=r&&r.length?aV(c):n;return M.createElement("path",a5({},ko(e),uw(e),{className:qn("recharts-curve",t),d:f===null?void 0:f,ref:a}))},iV=["x","y","top","left","width","height","className"];function i5(){return i5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i5.apply(null,arguments)}function A8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(r),!0).forEach(function(n){oV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oV(e,t,r){return(t=lV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lV(e){var t=cV(e,"string");return typeof t=="symbol"?t:t+""}function cV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uV(e,t){if(e==null)return{};var r,n,a=dV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fV=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),hV=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:c=0,className:f}=e,m=uV(e,iV),p=sV({x:t,y:r,top:n,left:a,width:i,height:c},m);return!ir(t)||!ir(r)||!ir(i)||!ir(c)||!ir(n)||!ir(a)?null:M.createElement("path",i5({},ao(p),{className:qn("recharts-cross",f),d:fV(t,r,i,c,n,a)}))};function pV(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function N8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(r),!0).forEach(function(n){mV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mV(e,t,r){return(t=gV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gV(e){var t=xV(e,"string");return typeof t=="symbol"?t:t+""}function xV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vV=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),aT=(e,t,r)=>e.map(n=>"".concat(vV(n)," ").concat(t,"ms ").concat(r)).join(","),yV=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),d1=(e,t)=>Object.keys(t).reduce((r,n)=>S8(S8({},r),{},{[n]:e(n,t[n])}),{});function E8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E8(Object(r),!0).forEach(function(n){bV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bV(e,t,r){return(t=wV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wV(e){var t=AV(e,"string");return typeof t=="symbol"?t:t+""}function AV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rg=(e,t,r)=>e+(t-e)*r,s5=e=>{var{from:t,to:r}=e;return t!==r},iT=(e,t,r)=>{var n=d1((a,i)=>{if(s5(i)){var[c,f]=e(i.from,i.to,i.velocity);return Yi(Yi({},i),{},{from:c,velocity:f})}return i},t);return r<1?d1((a,i)=>s5(i)&&n[a]!=null?Yi(Yi({},i),{},{velocity:rg(i.velocity,n[a].velocity,r),from:rg(i.from,n[a].from,r)}):i,t):iT(e,n,r-1)};function NV(e,t,r,n,a,i){var c,f=n.reduce((S,N)=>Yi(Yi({},S),{},{[N]:{from:e[N],velocity:0,to:t[N]}}),{}),m=()=>d1((S,N)=>N.from,f),p=()=>!Object.values(f).filter(s5).length,x=null,y=S=>{c||(c=S);var N=S-c,j=N/r.dt;f=iT(r,f,j),a(Yi(Yi(Yi({},e),t),m())),c=S,p()||(x=i.setTimeout(y))};return()=>(x=i.setTimeout(y),()=>{var S;(S=x)===null||S===void 0||S()})}function SV(e,t,r,n,a,i,c){var f=null,m=a.reduce((y,S)=>{var N=e[S],j=t[S];return N==null||j==null?y:Yi(Yi({},y),{},{[S]:[N,j]})},{}),p,x=y=>{p||(p=y);var S=(y-p)/n,N=d1((_,T)=>rg(...T,r(S)),m);if(i(Yi(Yi(Yi({},e),t),N)),S<1)f=c.setTimeout(x);else{var j=d1((_,T)=>rg(...T,r(1)),m);i(Yi(Yi(Yi({},e),t),j))}};return()=>(f=c.setTimeout(x),()=>{var y;(y=f)===null||y===void 0||y()})}const EV=(e,t,r,n,a,i)=>{var c=yV(e,t);return r==null?()=>(a(Yi(Yi({},e),t)),()=>{}):r.isStepper===!0?NV(e,t,r,c,a,i):SV(e,t,r,n,c,a,i)};var ng=1e-4,sT=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],oT=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),C8=(e,t)=>r=>{var n=sT(e,t);return oT(n,r)},CV=(e,t)=>r=>{var n=sT(e,t),a=[...n.map((i,c)=>i*c).slice(1),0];return oT(a,r)},_V=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},jV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=_V(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},OV=(e,t,r,n)=>{var a=C8(e,r),i=C8(t,n),c=CV(e,r),f=p=>p>1?1:p<0?0:p,m=p=>{for(var x=p>1?1:p,y=x,S=0;S<8;++S){var N=a(y)-x,j=c(y);if(Math.abs(N-x)<ng||j<ng)return i(y);y=f(y-N/j)}return i(y)};return m.isStepper=!1,m},_8=function(){return OV(...jV(...arguments))},TV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(c,f,m)=>{var p=-(c-f)*r,x=m*n,y=m+(p-x)*a/1e3,S=m*a/1e3+c;return Math.abs(S-f)<ng&&Math.abs(y)<ng?[f,0]:[S,y]};return i.isStepper=!0,i.dt=a,i},kV=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _8(e);case"spring":return TV();default:if(e.split("(")[0]==="cubic-bezier")return _8(e)}return typeof e=="function"?e:null};function IV(e){var t,r=()=>null,n=!1,a=null,i=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var f=c,[m,...p]=f;if(typeof m=="number"){a=e.setTimeout(i.bind(null,p),m);return}i(m),a=e.setTimeout(i.bind(null,p));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,a&&(a(),a=null),i(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class DV{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function MV(){return IV(new DV)}var LV=M.createContext(MV);function PV(e,t){var r=M.useContext(LV);return M.useMemo(()=>t??r(e),[e,t,r])}var RV=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),k1={isSsr:RV()},BV={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},j8={t:0},Ey={t:1};function I1(e){var t=fs(e,BV),{isActive:r,canBegin:n,duration:a,easing:i,begin:c,onAnimationEnd:f,onAnimationStart:m,children:p}=t,x=r==="auto"?!k1.isSsr:r,y=PV(t.animationId,t.animationManager),[S,N]=M.useState(x?j8:Ey),j=M.useRef(null);return M.useEffect(()=>{x||N(Ey)},[x]),M.useEffect(()=>{if(!x||!n)return E1;var _=EV(j8,Ey,kV(i),a,N,y.getTimeoutController()),T=()=>{j.current=_()};return y.start([m,c,T,a,f]),()=>{y.stop(),j.current&&j.current(),f()}},[x,n,a,i,c,m,f,y]),p(S.t)}function D1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=M.useRef(a1(t)),n=M.useRef(e);return n.current!==e&&(r.current=a1(t),n.current=e),r.current}var FV=["radius"],zV=["radius"],O8,T8,k8,I8,D8,M8,L8,P8,R8,B8;function F8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(r),!0).forEach(function(n){UV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UV(e,t,r){return(t=qV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qV(e){var t=HV(e,"string");return typeof t=="symbol"?t:t+""}function HV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(null,arguments)}function U8(e,t){if(e==null)return{};var r,n,a=VV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var q8=(e,t,r,n,a)=>{var i=md(r),c=md(n),f=Math.min(Math.abs(i)/2,Math.abs(c)/2),m=c>=0?1:-1,p=i>=0?1:-1,x=c>=0&&i>=0||c<0&&i<0?1:0,y;if(f>0&&a instanceof Array){for(var S=[0,0,0,0],N=0,j=4;N<j;N++)S[N]=a[N]>f?f:a[N];y=oi(O8||(O8=yc(["M",",",""])),e,t+m*S[0]),S[0]>0&&(y+=oi(T8||(T8=yc(["A ",",",",0,0,",",",",",""])),S[0],S[0],x,e+p*S[0],t)),y+=oi(k8||(k8=yc(["L ",",",""])),e+r-p*S[1],t),S[1]>0&&(y+=oi(I8||(I8=yc(["A ",",",",0,0,",`,
        `,",",""])),S[1],S[1],x,e+r,t+m*S[1])),y+=oi(D8||(D8=yc(["L ",",",""])),e+r,t+n-m*S[2]),S[2]>0&&(y+=oi(M8||(M8=yc(["A ",",",",0,0,",`,
        `,",",""])),S[2],S[2],x,e+r-p*S[2],t+n)),y+=oi(L8||(L8=yc(["L ",",",""])),e+p*S[3],t+n),S[3]>0&&(y+=oi(P8||(P8=yc(["A ",",",",0,0,",`,
        `,",",""])),S[3],S[3],x,e,t+n-m*S[3])),y+="Z"}else if(f>0&&a===+a&&a>0){var _=Math.min(f,a);y=oi(R8||(R8=yc(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+m*_,_,_,x,e+p*_,t,e+r-p*_,t,_,_,x,e+r,t+m*_,e+r,t+n-m*_,_,_,x,e+r-p*_,t+n,e+p*_,t+n,_,_,x,e,t+n-m*_)}else y=oi(B8||(B8=yc(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return y},H8={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lT=e=>{var t=fs(e,H8),r=M.useRef(null),[n,a]=M.useState(-1);M.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var oe=r.current.getTotalLength();oe&&a(oe)}catch{}},[]);var{x:i,y:c,width:f,height:m,radius:p,className:x}=t,{animationEasing:y,animationDuration:S,animationBegin:N,isAnimationActive:j,isUpdateAnimationActive:_}=t,T=M.useRef(f),I=M.useRef(m),R=M.useRef(i),F=M.useRef(c),G=M.useMemo(()=>({x:i,y:c,width:f,height:m,radius:p}),[i,c,f,m,p]),Y=D1(G,"rectangle-");if(i!==+i||c!==+c||f!==+f||m!==+m||f===0||m===0)return null;var J=qn("recharts-rectangle",x);if(!_){var V=ao(t),{radius:$}=V,W=U8(V,FV);return M.createElement("path",ag({},W,{x:md(i),y:md(c),width:md(f),height:md(m),radius:typeof p=="number"?p:void 0,className:J,d:q8(i,c,f,m,p)}))}var Ne=T.current,Z=I.current,Q=R.current,me=F.current,re="0px ".concat(n===-1?1:n,"px"),q="".concat(n,"px 0px"),ie=aT(["strokeDasharray"],S,typeof y=="string"?y:H8.animationEasing);return M.createElement(I1,{animationId:Y,key:Y,canBegin:n>0,duration:S,easing:y,isActive:_,begin:N},oe=>{var de=Ta(Ne,f,oe),ee=Ta(Z,m,oe),Ae=Ta(Q,i,oe),ce=Ta(me,c,oe);r.current&&(T.current=de,I.current=ee,R.current=Ae,F.current=ce);var U;j?oe>0?U={transition:ie,strokeDasharray:q}:U={strokeDasharray:re}:U={strokeDasharray:q};var H=ao(t),{radius:se}=H,ve=U8(H,zV);return M.createElement("path",ag({},ve,{radius:typeof p=="number"?p:void 0,className:J,d:q8(Ae,ce,de,ee,p),ref:r,style:z8(z8({},U),t.style)}))})};function V8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function G8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V8(Object(r),!0).forEach(function(n){GV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GV(e,t,r){return(t=WV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WV(e){var t=YV(e,"string");return typeof t=="symbol"?t:t+""}function YV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ig=Math.PI/180,$V=e=>e*180/Math.PI,Mi=(e,t,r,n)=>({x:e+Math.cos(-ig*n)*r,y:t+Math.sin(-ig*n)*r}),cT=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},XV=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},KV=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,c=XV({x:r,y:n},{x:a,y:i});if(c<=0)return{radius:c,angle:0};var f=(r-a)/c,m=Math.acos(f);return n>i&&(m=2*Math.PI-m),{radius:c,angle:$V(m),angleInRadian:m}},QV=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},ZV=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),c=Math.min(a,i);return e+c*360},JV=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=KV({x:r,y:n},t),{innerRadius:c,outerRadius:f}=t;if(a<c||a>f||a===0)return null;var{startAngle:m,endAngle:p}=QV(t),x=i,y;if(m<=p){for(;x>p;)x-=360;for(;x<m;)x+=360;y=x>=m&&x<=p}else{for(;x>m;)x-=360;for(;x<p;)x+=360;y=x>=p&&x<=m}return y?G8(G8({},t),{},{radius:a,angle:ZV(x,t)}):null};function uT(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,c=Mi(t,r,n,a),f=Mi(t,r,n,i);return{points:[c,f],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var W8,Y8,$8,X8,K8,Q8,Z8;function o5(){return o5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o5.apply(null,arguments)}function ef(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var eG=(e,t)=>{var r=ds(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},rm=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:c,cornerRadius:f,cornerIsExternal:m}=e,p=f*(c?1:-1)+n,x=Math.asin(f/p)/ig,y=m?a:a+i*x,S=Mi(t,r,p,y),N=Mi(t,r,n,y),j=m?a-i*x:a,_=Mi(t,r,p*Math.cos(x*ig),j);return{center:S,circleTangency:N,lineTangency:_,theta:x}},dT=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:c}=e,f=eG(i,c),m=i+f,p=Mi(t,r,a,i),x=Mi(t,r,a,m),y=oi(W8||(W8=ef(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),p.x,p.y,a,a,+(Math.abs(f)>180),+(i>m),x.x,x.y);if(n>0){var S=Mi(t,r,n,i),N=Mi(t,r,n,m);y+=oi(Y8||(Y8=ef(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),N.x,N.y,n,n,+(Math.abs(f)>180),+(i<=m),S.x,S.y)}else y+=oi($8||($8=ef(["L ",","," Z"])),t,r);return y},tG=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:c,cornerIsExternal:f,startAngle:m,endAngle:p}=e,x=ds(p-m),{circleTangency:y,lineTangency:S,theta:N}=rm({cx:t,cy:r,radius:a,angle:m,sign:x,cornerRadius:i,cornerIsExternal:f}),{circleTangency:j,lineTangency:_,theta:T}=rm({cx:t,cy:r,radius:a,angle:p,sign:-x,cornerRadius:i,cornerIsExternal:f}),I=f?Math.abs(m-p):Math.abs(m-p)-N-T;if(I<0)return c?oi(X8||(X8=ef(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),S.x,S.y,i,i,i*2,i,i,-i*2):dT({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:m,endAngle:p});var R=oi(K8||(K8=ef(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),S.x,S.y,i,i,+(x<0),y.x,y.y,a,a,+(I>180),+(x<0),j.x,j.y,i,i,+(x<0),_.x,_.y);if(n>0){var{circleTangency:F,lineTangency:G,theta:Y}=rm({cx:t,cy:r,radius:n,angle:m,sign:x,isExternal:!0,cornerRadius:i,cornerIsExternal:f}),{circleTangency:J,lineTangency:V,theta:$}=rm({cx:t,cy:r,radius:n,angle:p,sign:-x,isExternal:!0,cornerRadius:i,cornerIsExternal:f}),W=f?Math.abs(m-p):Math.abs(m-p)-Y-$;if(W<0&&i===0)return"".concat(R,"L").concat(t,",").concat(r,"Z");R+=oi(Q8||(Q8=ef(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),V.x,V.y,i,i,+(x<0),J.x,J.y,n,n,+(W>180),+(x>0),F.x,F.y,i,i,+(x<0),G.x,G.y)}else R+=oi(Z8||(Z8=ef(["L",",","Z"])),t,r);return R},rG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fT=e=>{var t=fs(e,rG),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:c,forceCornerRadius:f,cornerIsExternal:m,startAngle:p,endAngle:x,className:y}=t;if(i<a||p===x)return null;var S=qn("recharts-sector",y),N=i-a,j=Us(c,N,0,!0),_;return j>0&&Math.abs(p-x)<360?_=tG({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(j,N/2),forceCornerRadius:f,cornerIsExternal:m,startAngle:p,endAngle:x}):_=dT({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:p,endAngle:x}),M.createElement("path",o5({},ao(t),{className:S,d:_}))};function nG(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(VO(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:c,angle:f}=t,m=Mi(n,a,i,f),p=Mi(n,a,c,f);return[{x:m.x,y:m.y},{x:p.x,y:p.y}]}return uT(t)}}var Cy={},_y={},jy={},J8;function aG(){return J8||(J8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t7();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r}(jy)),jy}var eE;function iG(){return eE||(eE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aG();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r}(_y)),_y}var tE;function sG(){return tE||(tE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r7(),r=iG();function n(a,i,c){c&&typeof c!="number"&&t.isIterateeCall(a,i,c)&&(i=c=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),c=c===void 0?a<i?1:-1:r.toFinite(c);const f=Math.max(Math.ceil((i-a)/(c||1)),0),m=new Array(f);for(let p=0;p<f;p++)m[p]=a,a+=c;return m}e.range=n}(Cy)),Cy}var Oy,rE;function oG(){return rE||(rE=1,Oy=sG().range),Oy}var lG=oG();const hT=Dc(lG);function yd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cG(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ew(e){let t,r,n;e.length!==2?(t=yd,r=(f,m)=>yd(e(f),m),n=(f,m)=>e(f)-m):(t=e===yd||e===cG?e:uG,r=e,n=e);function a(f,m,p=0,x=f.length){if(p<x){if(t(m,m)!==0)return x;do{const y=p+x>>>1;r(f[y],m)<0?p=y+1:x=y}while(p<x)}return p}function i(f,m,p=0,x=f.length){if(p<x){if(t(m,m)!==0)return x;do{const y=p+x>>>1;r(f[y],m)<=0?p=y+1:x=y}while(p<x)}return p}function c(f,m,p=0,x=f.length){const y=a(f,m,p,x-1);return y>p&&n(f[y-1],m)>-n(f[y],m)?y-1:y}return{left:a,center:c,right:i}}function uG(){return 0}function pT(e){return e===null?NaN:+e}function*dG(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const fG=Ew(yd),M1=fG.right;Ew(pT).center;class nE extends Map{constructor(t,r=mG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(aE(this,t))}has(t){return super.has(aE(this,t))}set(t,r){return super.set(hG(this,t),r)}delete(t){return super.delete(pG(this,t))}}function aE({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function hG({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function pG({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function mG(e){return e!==null&&typeof e=="object"?e.valueOf():e}function gG(e=yd){if(e===yd)return mT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function mT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xG=Math.sqrt(50),vG=Math.sqrt(10),yG=Math.sqrt(2);function sg(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),c=i>=xG?10:i>=vG?5:i>=yG?2:1;let f,m,p;return a<0?(p=Math.pow(10,-a)/c,f=Math.round(e*p),m=Math.round(t*p),f/p<e&&++f,m/p>t&&--m,p=-p):(p=Math.pow(10,a)*c,f=Math.round(e/p),m=Math.round(t/p),f*p<e&&++f,m*p>t&&--m),m<f&&.5<=r&&r<2?sg(e,t,r*2):[f,m,p]}function l5(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,c]=n?sg(t,e,r):sg(e,t,r);if(!(i>=a))return[];const f=i-a+1,m=new Array(f);if(n)if(c<0)for(let p=0;p<f;++p)m[p]=(i-p)/-c;else for(let p=0;p<f;++p)m[p]=(i-p)*c;else if(c<0)for(let p=0;p<f;++p)m[p]=(a+p)/-c;else for(let p=0;p<f;++p)m[p]=(a+p)*c;return m}function c5(e,t,r){return t=+t,e=+e,r=+r,sg(e,t,r)[2]}function u5(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?c5(t,e,r):c5(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function iE(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function sE(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function gT(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?mT:gG(a);n>r;){if(n-r>600){const m=n-r+1,p=t-r+1,x=Math.log(m),y=.5*Math.exp(2*x/3),S=.5*Math.sqrt(x*y*(m-y)/m)*(p-m/2<0?-1:1),N=Math.max(r,Math.floor(t-p*y/m+S)),j=Math.min(n,Math.floor(t+(m-p)*y/m+S));gT(e,t,N,j,a)}const i=e[t];let c=r,f=n;for(z0(e,r,t),a(e[n],i)>0&&z0(e,r,n);c<f;){for(z0(e,c,f),++c,--f;a(e[c],i)<0;)++c;for(;a(e[f],i)>0;)--f}a(e[r],i)===0?z0(e,r,f):(++f,z0(e,f,n)),f<=t&&(r=f+1),t<=f&&(n=f-1)}return e}function z0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function bG(e,t,r){if(e=Float64Array.from(dG(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return sE(e);if(t>=1)return iE(e);var n,a=(n-1)*t,i=Math.floor(a),c=iE(gT(e,i).subarray(0,i+1)),f=sE(e.subarray(i+1));return c+(f-c)*(a-i)}}function wG(e,t,r=pT){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),c=+r(e[i],i,e),f=+r(e[i+1],i+1,e);return c+(f-c)*(a-i)}}function AG(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Al(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _u(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const d5=Symbol("implicit");function Cw(){var e=new nE,t=[],r=[],n=d5;function a(i){let c=e.get(i);if(c===void 0){if(n!==d5)return n;e.set(i,c=t.push(i)-1)}return r[c%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new nE;for(const c of i)e.has(c)||e.set(c,t.push(c)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Cw(t,r).unknown(n)},Al.apply(a,arguments),a}function _w(){var e=Cw().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,c,f=!1,m=0,p=0,x=.5;delete e.unknown;function y(){var S=t().length,N=a<n,j=N?a:n,_=N?n:a;i=(_-j)/Math.max(1,S-m+p*2),f&&(i=Math.floor(i)),j+=(_-j-i*(S-m))*x,c=i*(1-m),f&&(j=Math.round(j),c=Math.round(c));var T=AG(S).map(function(I){return j+i*I});return r(N?T.reverse():T)}return e.domain=function(S){return arguments.length?(t(S),y()):t()},e.range=function(S){return arguments.length?([n,a]=S,n=+n,a=+a,y()):[n,a]},e.rangeRound=function(S){return[n,a]=S,n=+n,a=+a,f=!0,y()},e.bandwidth=function(){return c},e.step=function(){return i},e.round=function(S){return arguments.length?(f=!!S,y()):f},e.padding=function(S){return arguments.length?(m=Math.min(1,p=+S),y()):m},e.paddingInner=function(S){return arguments.length?(m=Math.min(1,S),y()):m},e.paddingOuter=function(S){return arguments.length?(p=+S,y()):p},e.align=function(S){return arguments.length?(x=Math.max(0,Math.min(1,S)),y()):x},e.copy=function(){return _w(t(),[n,a]).round(f).paddingInner(m).paddingOuter(p).align(x)},Al.apply(y(),arguments)}function xT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xT(t())},e}function NG(){return xT(_w.apply(null,arguments).paddingInner(1))}function jw(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function vT(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function L1(){}var f1=.7,og=1/f1,Eh="\\s*([+-]?\\d+)\\s*",h1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SG=/^#([0-9a-f]{3,8})$/,EG=new RegExp(`^rgb\\(${Eh},${Eh},${Eh}\\)$`),CG=new RegExp(`^rgb\\(${_c},${_c},${_c}\\)$`),_G=new RegExp(`^rgba\\(${Eh},${Eh},${Eh},${h1}\\)$`),jG=new RegExp(`^rgba\\(${_c},${_c},${_c},${h1}\\)$`),OG=new RegExp(`^hsl\\(${h1},${_c},${_c}\\)$`),TG=new RegExp(`^hsla\\(${h1},${_c},${_c},${h1}\\)$`),oE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jw(L1,p1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lE,formatHex:lE,formatHex8:kG,formatHsl:IG,formatRgb:cE,toString:cE});function lE(){return this.rgb().formatHex()}function kG(){return this.rgb().formatHex8()}function IG(){return yT(this).formatHsl()}function cE(){return this.rgb().formatRgb()}function p1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=SG.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?uE(t):r===3?new Co(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?nm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?nm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=EG.exec(e))?new Co(t[1],t[2],t[3],1):(t=CG.exec(e))?new Co(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_G.exec(e))?nm(t[1],t[2],t[3],t[4]):(t=jG.exec(e))?nm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=OG.exec(e))?hE(t[1],t[2]/100,t[3]/100,1):(t=TG.exec(e))?hE(t[1],t[2]/100,t[3]/100,t[4]):oE.hasOwnProperty(e)?uE(oE[e]):e==="transparent"?new Co(NaN,NaN,NaN,0):null}function uE(e){return new Co(e>>16&255,e>>8&255,e&255,1)}function nm(e,t,r,n){return n<=0&&(e=t=r=NaN),new Co(e,t,r,n)}function DG(e){return e instanceof L1||(e=p1(e)),e?(e=e.rgb(),new Co(e.r,e.g,e.b,e.opacity)):new Co}function f5(e,t,r,n){return arguments.length===1?DG(e):new Co(e,t,r,n??1)}function Co(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}jw(Co,f5,vT(L1,{brighter(e){return e=e==null?og:Math.pow(og,e),new Co(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?f1:Math.pow(f1,e),new Co(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Co(lf(this.r),lf(this.g),lf(this.b),lg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dE,formatHex:dE,formatHex8:MG,formatRgb:fE,toString:fE}));function dE(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}`}function MG(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}${tf((isNaN(this.opacity)?1:this.opacity)*255)}`}function fE(){const e=lg(this.opacity);return`${e===1?"rgb(":"rgba("}${lf(this.r)}, ${lf(this.g)}, ${lf(this.b)}${e===1?")":`, ${e})`}`}function lg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function lf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tf(e){return e=lf(e),(e<16?"0":"")+e.toString(16)}function hE(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Gl(e,t,r,n)}function yT(e){if(e instanceof Gl)return new Gl(e.h,e.s,e.l,e.opacity);if(e instanceof L1||(e=p1(e)),!e)return new Gl;if(e instanceof Gl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),c=NaN,f=i-a,m=(i+a)/2;return f?(t===i?c=(r-n)/f+(r<n)*6:r===i?c=(n-t)/f+2:c=(t-r)/f+4,f/=m<.5?i+a:2-i-a,c*=60):f=m>0&&m<1?0:c,new Gl(c,f,m,e.opacity)}function LG(e,t,r,n){return arguments.length===1?yT(e):new Gl(e,t,r,n??1)}function Gl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}jw(Gl,LG,vT(L1,{brighter(e){return e=e==null?og:Math.pow(og,e),new Gl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?f1:Math.pow(f1,e),new Gl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Co(Ty(e>=240?e-240:e+120,a,n),Ty(e,a,n),Ty(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Gl(pE(this.h),am(this.s),am(this.l),lg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lg(this.opacity);return`${e===1?"hsl(":"hsla("}${pE(this.h)}, ${am(this.s)*100}%, ${am(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pE(e){return e=(e||0)%360,e<0?e+360:e}function am(e){return Math.max(0,Math.min(1,e||0))}function Ty(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ow=e=>()=>e;function PG(e,t){return function(r){return e+r*t}}function RG(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function BG(e){return(e=+e)==1?bT:function(t,r){return r-t?RG(t,r,e):Ow(isNaN(t)?r:t)}}function bT(e,t){var r=t-e;return r?PG(e,r):Ow(isNaN(e)?t:e)}const mE=function e(t){var r=BG(t);function n(a,i){var c=r((a=f5(a)).r,(i=f5(i)).r),f=r(a.g,i.g),m=r(a.b,i.b),p=bT(a.opacity,i.opacity);return function(x){return a.r=c(x),a.g=f(x),a.b=m(x),a.opacity=p(x),a+""}}return n.gamma=e,n}(1);function FG(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function zG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function UG(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),c;for(c=0;c<n;++c)a[c]=qh(e[c],t[c]);for(;c<r;++c)i[c]=t[c];return function(f){for(c=0;c<n;++c)i[c]=a[c](f);return i}}function qG(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function cg(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function HG(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=qh(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var h5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ky=new RegExp(h5.source,"g");function VG(e){return function(){return e}}function GG(e){return function(t){return e(t)+""}}function WG(e,t){var r=h5.lastIndex=ky.lastIndex=0,n,a,i,c=-1,f=[],m=[];for(e=e+"",t=t+"";(n=h5.exec(e))&&(a=ky.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),f[c]?f[c]+=i:f[++c]=i),(n=n[0])===(a=a[0])?f[c]?f[c]+=a:f[++c]=a:(f[++c]=null,m.push({i:c,x:cg(n,a)})),r=ky.lastIndex;return r<t.length&&(i=t.slice(r),f[c]?f[c]+=i:f[++c]=i),f.length<2?m[0]?GG(m[0].x):VG(t):(t=m.length,function(p){for(var x=0,y;x<t;++x)f[(y=m[x]).i]=y.x(p);return f.join("")})}function qh(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ow(t):(r==="number"?cg:r==="string"?(n=p1(t))?(t=n,mE):WG:t instanceof p1?mE:t instanceof Date?qG:zG(t)?FG:Array.isArray(t)?UG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?HG:cg)(e,t)}function Tw(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function YG(e,t){t===void 0&&(t=e,e=qh);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(c){var f=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return i[f](c-f)}}function $G(e){return function(){return e}}function ug(e){return+e}var gE=[0,1];function ro(e){return e}function p5(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:$G(isNaN(t)?NaN:.5)}function XG(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function KG(e,t,r){var n=e[0],a=e[1],i=t[0],c=t[1];return a<n?(n=p5(a,n),i=r(c,i)):(n=p5(n,a),i=r(i,c)),function(f){return i(n(f))}}function QG(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)a[c]=p5(e[c],e[c+1]),i[c]=r(t[c],t[c+1]);return function(f){var m=M1(e,f,1,n)-1;return i[m](a[m](f))}}function P1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function px(){var e=gE,t=gE,r=qh,n,a,i,c=ro,f,m,p;function x(){var S=Math.min(e.length,t.length);return c!==ro&&(c=XG(e[0],e[S-1])),f=S>2?QG:KG,m=p=null,y}function y(S){return S==null||isNaN(S=+S)?i:(m||(m=f(e.map(n),t,r)))(n(c(S)))}return y.invert=function(S){return c(a((p||(p=f(t,e.map(n),cg)))(S)))},y.domain=function(S){return arguments.length?(e=Array.from(S,ug),x()):e.slice()},y.range=function(S){return arguments.length?(t=Array.from(S),x()):t.slice()},y.rangeRound=function(S){return t=Array.from(S),r=Tw,x()},y.clamp=function(S){return arguments.length?(c=S?!0:ro,x()):c!==ro},y.interpolate=function(S){return arguments.length?(r=S,x()):r},y.unknown=function(S){return arguments.length?(i=S,y):i},function(S,N){return n=S,a=N,x()}}function kw(){return px()(ro,ro)}function ZG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function kh(e){return e=dg(Math.abs(e)),e?e[1]:NaN}function JG(e,t){return function(r,n){for(var a=r.length,i=[],c=0,f=e[0],m=0;a>0&&f>0&&(m+f+1>n&&(f=Math.max(1,n-m)),i.push(r.substring(a-=f,a+f)),!((m+=f+1)>n));)f=e[c=(c+1)%e.length];return i.reverse().join(t)}}function eW(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var tW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function m1(e){if(!(t=tW.exec(e)))throw new Error("invalid format: "+e);var t;return new Iw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}m1.prototype=Iw.prototype;function Iw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Iw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rW(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var wT;function nW(e,t){var r=dg(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(wT=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=n.length;return i===c?n:i>c?n+new Array(i-c+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+dg(e,Math.max(0,t+i-1))[0]}function xE(e,t){var r=dg(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const vE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ZG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xE(e*100,t),r:xE,s:nW,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yE(e){return e}var bE=Array.prototype.map,wE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aW(e){var t=e.grouping===void 0||e.thousands===void 0?yE:JG(bE.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?yE:eW(bE.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function p(y){y=m1(y);var S=y.fill,N=y.align,j=y.sign,_=y.symbol,T=y.zero,I=y.width,R=y.comma,F=y.precision,G=y.trim,Y=y.type;Y==="n"?(R=!0,Y="g"):vE[Y]||(F===void 0&&(F=12),G=!0,Y="g"),(T||S==="0"&&N==="=")&&(T=!0,S="0",N="=");var J=_==="$"?r:_==="#"&&/[boxX]/.test(Y)?"0"+Y.toLowerCase():"",V=_==="$"?n:/[%p]/.test(Y)?c:"",$=vE[Y],W=/[defgprs%]/.test(Y);F=F===void 0?6:/[gprs]/.test(Y)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function Ne(Z){var Q=J,me=V,re,q,ie;if(Y==="c")me=$(Z)+me,Z="";else{Z=+Z;var oe=Z<0||1/Z<0;if(Z=isNaN(Z)?m:$(Math.abs(Z),F),G&&(Z=rW(Z)),oe&&+Z==0&&j!=="+"&&(oe=!1),Q=(oe?j==="("?j:f:j==="-"||j==="("?"":j)+Q,me=(Y==="s"?wE[8+wT/3]:"")+me+(oe&&j==="("?")":""),W){for(re=-1,q=Z.length;++re<q;)if(ie=Z.charCodeAt(re),48>ie||ie>57){me=(ie===46?a+Z.slice(re+1):Z.slice(re))+me,Z=Z.slice(0,re);break}}}R&&!T&&(Z=t(Z,1/0));var de=Q.length+Z.length+me.length,ee=de<I?new Array(I-de+1).join(S):"";switch(R&&T&&(Z=t(ee+Z,ee.length?I-me.length:1/0),ee=""),N){case"<":Z=Q+Z+me+ee;break;case"=":Z=Q+ee+Z+me;break;case"^":Z=ee.slice(0,de=ee.length>>1)+Q+Z+me+ee.slice(de);break;default:Z=ee+Q+Z+me;break}return i(Z)}return Ne.toString=function(){return y+""},Ne}function x(y,S){var N=p((y=m1(y),y.type="f",y)),j=Math.max(-8,Math.min(8,Math.floor(kh(S)/3)))*3,_=Math.pow(10,-j),T=wE[8+j/3];return function(I){return N(_*I)+T}}return{format:p,formatPrefix:x}}var im,Dw,AT;iW({thousands:",",grouping:[3],currency:["$",""]});function iW(e){return im=aW(e),Dw=im.format,AT=im.formatPrefix,im}function sW(e){return Math.max(0,-kh(Math.abs(e)))}function oW(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kh(t)/3)))*3-kh(Math.abs(e)))}function lW(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,kh(t)-kh(e))+1}function NT(e,t,r,n){var a=u5(e,t,r),i;switch(n=m1(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=oW(a,c))&&(n.precision=i),AT(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=lW(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=sW(a))&&(n.precision=i-(n.type==="%")*2);break}}return Dw(n)}function Id(e){var t=e.domain;return e.ticks=function(r){var n=t();return l5(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return NT(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,c=n[a],f=n[i],m,p,x=10;for(f<c&&(p=c,c=f,f=p,p=a,a=i,i=p);x-- >0;){if(p=c5(c,f,r),p===m)return n[a]=c,n[i]=f,t(n);if(p>0)c=Math.floor(c/p)*p,f=Math.ceil(f/p)*p;else if(p<0)c=Math.ceil(c*p)/p,f=Math.floor(f*p)/p;else break;m=p}return e},e}function ST(){var e=kw();return e.copy=function(){return P1(e,ST())},Al.apply(e,arguments),Id(e)}function ET(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ug),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return ET(e).unknown(t)},e=arguments.length?Array.from(e,ug):[0,1],Id(r)}function CT(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],c;return i<a&&(c=r,r=n,n=c,c=a,a=i,i=c),e[r]=t.floor(a),e[n]=t.ceil(i),e}function AE(e){return Math.log(e)}function NE(e){return Math.exp(e)}function cW(e){return-Math.log(-e)}function uW(e){return-Math.exp(-e)}function dW(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fW(e){return e===10?dW:e===Math.E?Math.exp:t=>Math.pow(e,t)}function hW(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function SE(e){return(t,r)=>-e(-t,r)}function Mw(e){const t=e(AE,NE),r=t.domain;let n=10,a,i;function c(){return a=hW(n),i=fW(n),r()[0]<0?(a=SE(a),i=SE(i),e(cW,uW)):e(AE,NE),t}return t.base=function(f){return arguments.length?(n=+f,c()):n},t.domain=function(f){return arguments.length?(r(f),c()):r()},t.ticks=f=>{const m=r();let p=m[0],x=m[m.length-1];const y=x<p;y&&([p,x]=[x,p]);let S=a(p),N=a(x),j,_;const T=f==null?10:+f;let I=[];if(!(n%1)&&N-S<T){if(S=Math.floor(S),N=Math.ceil(N),p>0){for(;S<=N;++S)for(j=1;j<n;++j)if(_=S<0?j/i(-S):j*i(S),!(_<p)){if(_>x)break;I.push(_)}}else for(;S<=N;++S)for(j=n-1;j>=1;--j)if(_=S>0?j/i(-S):j*i(S),!(_<p)){if(_>x)break;I.push(_)}I.length*2<T&&(I=l5(p,x,T))}else I=l5(S,N,Math.min(N-S,T)).map(i);return y?I.reverse():I},t.tickFormat=(f,m)=>{if(f==null&&(f=10),m==null&&(m=n===10?"s":","),typeof m!="function"&&(!(n%1)&&(m=m1(m)).precision==null&&(m.trim=!0),m=Dw(m)),f===1/0)return m;const p=Math.max(1,n*f/t.ticks().length);return x=>{let y=x/i(Math.round(a(x)));return y*n<n-.5&&(y*=n),y<=p?m(x):""}},t.nice=()=>r(CT(r(),{floor:f=>i(Math.floor(a(f))),ceil:f=>i(Math.ceil(a(f)))})),t}function _T(){const e=Mw(px()).domain([1,10]);return e.copy=()=>P1(e,_T()).base(e.base()),Al.apply(e,arguments),e}function EE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function CE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Lw(e){var t=1,r=e(EE(t),CE(t));return r.constant=function(n){return arguments.length?e(EE(t=+n),CE(t)):t},Id(r)}function jT(){var e=Lw(px());return e.copy=function(){return P1(e,jT()).constant(e.constant())},Al.apply(e,arguments)}function _E(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function pW(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function mW(e){return e<0?-e*e:e*e}function Pw(e){var t=e(ro,ro),r=1;function n(){return r===1?e(ro,ro):r===.5?e(pW,mW):e(_E(r),_E(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Id(t)}function Rw(){var e=Pw(px());return e.copy=function(){return P1(e,Rw()).exponent(e.exponent())},Al.apply(e,arguments),e}function gW(){return Rw.apply(null,arguments).exponent(.5)}function jE(e){return Math.sign(e)*e*e}function xW(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function OT(){var e=kw(),t=[0,1],r=!1,n;function a(i){var c=xW(e(i));return isNaN(c)?n:r?Math.round(c):c}return a.invert=function(i){return e.invert(jE(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ug)).map(jE)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return OT(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Al.apply(a,arguments),Id(a)}function TT(){var e=[],t=[],r=[],n;function a(){var c=0,f=Math.max(1,t.length);for(r=new Array(f-1);++c<f;)r[c-1]=wG(e,c/f);return i}function i(c){return c==null||isNaN(c=+c)?n:t[M1(r,c)]}return i.invertExtent=function(c){var f=t.indexOf(c);return f<0?[NaN,NaN]:[f>0?r[f-1]:e[0],f<r.length?r[f]:e[e.length-1]]},i.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let f of c)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(yd),a()},i.range=function(c){return arguments.length?(t=Array.from(c),a()):t.slice()},i.unknown=function(c){return arguments.length?(n=c,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return TT().domain(e).range(t).unknown(n)},Al.apply(i,arguments)}function kT(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function c(m){return m!=null&&m<=m?a[M1(n,m,0,r)]:i}function f(){var m=-1;for(n=new Array(r);++m<r;)n[m]=((m+1)*t-(m-r)*e)/(r+1);return c}return c.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,f()):[e,t]},c.range=function(m){return arguments.length?(r=(a=Array.from(m)).length-1,f()):a.slice()},c.invertExtent=function(m){var p=a.indexOf(m);return p<0?[NaN,NaN]:p<1?[e,n[0]]:p>=r?[n[r-1],t]:[n[p-1],n[p]]},c.unknown=function(m){return arguments.length&&(i=m),c},c.thresholds=function(){return n.slice()},c.copy=function(){return kT().domain([e,t]).range(a).unknown(i)},Al.apply(Id(c),arguments)}function IT(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[M1(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var c=t.indexOf(i);return[e[c-1],e[c]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return IT().domain(e).range(t).unknown(r)},Al.apply(a,arguments)}const Iy=new Date,Dy=new Date;function Ki(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const c=a(i),f=a.ceil(i);return i-c<f-i?c:f},a.offset=(i,c)=>(t(i=new Date(+i),c==null?1:Math.floor(c)),i),a.range=(i,c,f)=>{const m=[];if(i=a.ceil(i),f=f==null?1:Math.floor(f),!(i<c)||!(f>0))return m;let p;do m.push(p=new Date(+i)),t(i,f),e(i);while(p<i&&i<c);return m},a.filter=i=>Ki(c=>{if(c>=c)for(;e(c),!i(c);)c.setTime(c-1)},(c,f)=>{if(c>=c)if(f<0)for(;++f<=0;)for(;t(c,-1),!i(c););else for(;--f>=0;)for(;t(c,1),!i(c););}),r&&(a.count=(i,c)=>(Iy.setTime(+i),Dy.setTime(+c),e(Iy),e(Dy),Math.floor(r(Iy,Dy))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?c=>n(c)%i===0:c=>a.count(0,c)%i===0):a)),a}const fg=Ki(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ki(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):fg);fg.range;const du=1e3,vl=du*60,fu=vl*60,vu=fu*24,Bw=vu*7,OE=vu*30,My=vu*365,rf=Ki(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*du)},(e,t)=>(t-e)/du,e=>e.getUTCSeconds());rf.range;const Fw=Ki(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*du)},(e,t)=>{e.setTime(+e+t*vl)},(e,t)=>(t-e)/vl,e=>e.getMinutes());Fw.range;const zw=Ki(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*vl)},(e,t)=>(t-e)/vl,e=>e.getUTCMinutes());zw.range;const Uw=Ki(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*du-e.getMinutes()*vl)},(e,t)=>{e.setTime(+e+t*fu)},(e,t)=>(t-e)/fu,e=>e.getHours());Uw.range;const qw=Ki(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*fu)},(e,t)=>(t-e)/fu,e=>e.getUTCHours());qw.range;const R1=Ki(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*vl)/vu,e=>e.getDate()-1);R1.range;const mx=Ki(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vu,e=>e.getUTCDate()-1);mx.range;const DT=Ki(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vu,e=>Math.floor(e/vu));DT.range;function Cf(e){return Ki(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*vl)/Bw)}const gx=Cf(0),hg=Cf(1),vW=Cf(2),yW=Cf(3),Ih=Cf(4),bW=Cf(5),wW=Cf(6);gx.range;hg.range;vW.range;yW.range;Ih.range;bW.range;wW.range;function _f(e){return Ki(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Bw)}const xx=_f(0),pg=_f(1),AW=_f(2),NW=_f(3),Dh=_f(4),SW=_f(5),EW=_f(6);xx.range;pg.range;AW.range;NW.range;Dh.range;SW.range;EW.range;const Hw=Ki(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Hw.range;const Vw=Ki(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Vw.range;const yu=Ki(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ki(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});yu.range;const bu=Ki(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ki(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});bu.range;function MT(e,t,r,n,a,i){const c=[[rf,1,du],[rf,5,5*du],[rf,15,15*du],[rf,30,30*du],[i,1,vl],[i,5,5*vl],[i,15,15*vl],[i,30,30*vl],[a,1,fu],[a,3,3*fu],[a,6,6*fu],[a,12,12*fu],[n,1,vu],[n,2,2*vu],[r,1,Bw],[t,1,OE],[t,3,3*OE],[e,1,My]];function f(p,x,y){const S=x<p;S&&([p,x]=[x,p]);const N=y&&typeof y.range=="function"?y:m(p,x,y),j=N?N.range(p,+x+1):[];return S?j.reverse():j}function m(p,x,y){const S=Math.abs(x-p)/y,N=Ew(([,,T])=>T).right(c,S);if(N===c.length)return e.every(u5(p/My,x/My,y));if(N===0)return fg.every(Math.max(u5(p,x,y),1));const[j,_]=c[S/c[N-1][2]<c[N][2]/S?N-1:N];return j.every(_)}return[f,m]}const[CW,_W]=MT(bu,Vw,xx,DT,qw,zw),[jW,OW]=MT(yu,Hw,gx,R1,Uw,Fw);function Ly(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Py(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function U0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function TW(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,c=e.shortDays,f=e.months,m=e.shortMonths,p=q0(a),x=H0(a),y=q0(i),S=H0(i),N=q0(c),j=H0(c),_=q0(f),T=H0(f),I=q0(m),R=H0(m),F={a:oe,A:de,b:ee,B:Ae,c:null,d:LE,e:LE,f:JW,g:cY,G:dY,H:KW,I:QW,j:ZW,L:LT,m:eY,M:tY,p:ce,q:U,Q:BE,s:FE,S:rY,u:nY,U:aY,V:iY,w:sY,W:oY,x:null,X:null,y:lY,Y:uY,Z:fY,"%":RE},G={a:H,A:se,b:ve,B:ne,c:null,d:PE,e:PE,f:gY,g:CY,G:jY,H:hY,I:pY,j:mY,L:RT,m:xY,M:vY,p:le,q:je,Q:BE,s:FE,S:yY,u:bY,U:wY,V:AY,w:NY,W:SY,x:null,X:null,y:EY,Y:_Y,Z:OY,"%":RE},Y={a:Ne,A:Z,b:Q,B:me,c:re,d:DE,e:DE,f:WW,g:IE,G:kE,H:ME,I:ME,j:qW,L:GW,m:UW,M:HW,p:W,q:zW,Q:$W,s:XW,S:VW,u:LW,U:PW,V:RW,w:MW,W:BW,x:q,X:ie,y:IE,Y:kE,Z:FW,"%":YW};F.x=J(r,F),F.X=J(n,F),F.c=J(t,F),G.x=J(r,G),G.X=J(n,G),G.c=J(t,G);function J(pe,Te){return function(ke){var ue=[],Le=-1,$e=0,Be=pe.length,ae,nt,at;for(ke instanceof Date||(ke=new Date(+ke));++Le<Be;)pe.charCodeAt(Le)===37&&(ue.push(pe.slice($e,Le)),(nt=TE[ae=pe.charAt(++Le)])!=null?ae=pe.charAt(++Le):nt=ae==="e"?" ":"0",(at=Te[ae])&&(ae=at(ke,nt)),ue.push(ae),$e=Le+1);return ue.push(pe.slice($e,Le)),ue.join("")}}function V(pe,Te){return function(ke){var ue=U0(1900,void 0,1),Le=$(ue,pe,ke+="",0),$e,Be;if(Le!=ke.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(Te&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?($e=Py(U0(ue.y,0,1)),Be=$e.getUTCDay(),$e=Be>4||Be===0?pg.ceil($e):pg($e),$e=mx.offset($e,(ue.V-1)*7),ue.y=$e.getUTCFullYear(),ue.m=$e.getUTCMonth(),ue.d=$e.getUTCDate()+(ue.w+6)%7):($e=Ly(U0(ue.y,0,1)),Be=$e.getDay(),$e=Be>4||Be===0?hg.ceil($e):hg($e),$e=R1.offset($e,(ue.V-1)*7),ue.y=$e.getFullYear(),ue.m=$e.getMonth(),ue.d=$e.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Be="Z"in ue?Py(U0(ue.y,0,1)).getUTCDay():Ly(U0(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Be+5)%7:ue.w+ue.U*7-(Be+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,Py(ue)):Ly(ue)}}function $(pe,Te,ke,ue){for(var Le=0,$e=Te.length,Be=ke.length,ae,nt;Le<$e;){if(ue>=Be)return-1;if(ae=Te.charCodeAt(Le++),ae===37){if(ae=Te.charAt(Le++),nt=Y[ae in TE?Te.charAt(Le++):ae],!nt||(ue=nt(pe,ke,ue))<0)return-1}else if(ae!=ke.charCodeAt(ue++))return-1}return ue}function W(pe,Te,ke){var ue=p.exec(Te.slice(ke));return ue?(pe.p=x.get(ue[0].toLowerCase()),ke+ue[0].length):-1}function Ne(pe,Te,ke){var ue=N.exec(Te.slice(ke));return ue?(pe.w=j.get(ue[0].toLowerCase()),ke+ue[0].length):-1}function Z(pe,Te,ke){var ue=y.exec(Te.slice(ke));return ue?(pe.w=S.get(ue[0].toLowerCase()),ke+ue[0].length):-1}function Q(pe,Te,ke){var ue=I.exec(Te.slice(ke));return ue?(pe.m=R.get(ue[0].toLowerCase()),ke+ue[0].length):-1}function me(pe,Te,ke){var ue=_.exec(Te.slice(ke));return ue?(pe.m=T.get(ue[0].toLowerCase()),ke+ue[0].length):-1}function re(pe,Te,ke){return $(pe,t,Te,ke)}function q(pe,Te,ke){return $(pe,r,Te,ke)}function ie(pe,Te,ke){return $(pe,n,Te,ke)}function oe(pe){return c[pe.getDay()]}function de(pe){return i[pe.getDay()]}function ee(pe){return m[pe.getMonth()]}function Ae(pe){return f[pe.getMonth()]}function ce(pe){return a[+(pe.getHours()>=12)]}function U(pe){return 1+~~(pe.getMonth()/3)}function H(pe){return c[pe.getUTCDay()]}function se(pe){return i[pe.getUTCDay()]}function ve(pe){return m[pe.getUTCMonth()]}function ne(pe){return f[pe.getUTCMonth()]}function le(pe){return a[+(pe.getUTCHours()>=12)]}function je(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Te=J(pe+="",F);return Te.toString=function(){return pe},Te},parse:function(pe){var Te=V(pe+="",!1);return Te.toString=function(){return pe},Te},utcFormat:function(pe){var Te=J(pe+="",G);return Te.toString=function(){return pe},Te},utcParse:function(pe){var Te=V(pe+="",!0);return Te.toString=function(){return pe},Te}}}var TE={"-":"",_:" ",0:"0"},hs=/^\s*\d+/,kW=/^%/,IW=/[\\^$*+?|[\]().{}]/g;function Dn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function DW(e){return e.replace(IW,"\\$&")}function q0(e){return new RegExp("^(?:"+e.map(DW).join("|")+")","i")}function H0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function MW(e,t,r){var n=hs.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function LW(e,t,r){var n=hs.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function PW(e,t,r){var n=hs.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function RW(e,t,r){var n=hs.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function BW(e,t,r){var n=hs.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function kE(e,t,r){var n=hs.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function IE(e,t,r){var n=hs.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function FW(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function zW(e,t,r){var n=hs.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function UW(e,t,r){var n=hs.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function DE(e,t,r){var n=hs.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function qW(e,t,r){var n=hs.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ME(e,t,r){var n=hs.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function HW(e,t,r){var n=hs.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function VW(e,t,r){var n=hs.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function GW(e,t,r){var n=hs.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function WW(e,t,r){var n=hs.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function YW(e,t,r){var n=kW.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function $W(e,t,r){var n=hs.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function XW(e,t,r){var n=hs.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function LE(e,t){return Dn(e.getDate(),t,2)}function KW(e,t){return Dn(e.getHours(),t,2)}function QW(e,t){return Dn(e.getHours()%12||12,t,2)}function ZW(e,t){return Dn(1+R1.count(yu(e),e),t,3)}function LT(e,t){return Dn(e.getMilliseconds(),t,3)}function JW(e,t){return LT(e,t)+"000"}function eY(e,t){return Dn(e.getMonth()+1,t,2)}function tY(e,t){return Dn(e.getMinutes(),t,2)}function rY(e,t){return Dn(e.getSeconds(),t,2)}function nY(e){var t=e.getDay();return t===0?7:t}function aY(e,t){return Dn(gx.count(yu(e)-1,e),t,2)}function PT(e){var t=e.getDay();return t>=4||t===0?Ih(e):Ih.ceil(e)}function iY(e,t){return e=PT(e),Dn(Ih.count(yu(e),e)+(yu(e).getDay()===4),t,2)}function sY(e){return e.getDay()}function oY(e,t){return Dn(hg.count(yu(e)-1,e),t,2)}function lY(e,t){return Dn(e.getFullYear()%100,t,2)}function cY(e,t){return e=PT(e),Dn(e.getFullYear()%100,t,2)}function uY(e,t){return Dn(e.getFullYear()%1e4,t,4)}function dY(e,t){var r=e.getDay();return e=r>=4||r===0?Ih(e):Ih.ceil(e),Dn(e.getFullYear()%1e4,t,4)}function fY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Dn(t/60|0,"0",2)+Dn(t%60,"0",2)}function PE(e,t){return Dn(e.getUTCDate(),t,2)}function hY(e,t){return Dn(e.getUTCHours(),t,2)}function pY(e,t){return Dn(e.getUTCHours()%12||12,t,2)}function mY(e,t){return Dn(1+mx.count(bu(e),e),t,3)}function RT(e,t){return Dn(e.getUTCMilliseconds(),t,3)}function gY(e,t){return RT(e,t)+"000"}function xY(e,t){return Dn(e.getUTCMonth()+1,t,2)}function vY(e,t){return Dn(e.getUTCMinutes(),t,2)}function yY(e,t){return Dn(e.getUTCSeconds(),t,2)}function bY(e){var t=e.getUTCDay();return t===0?7:t}function wY(e,t){return Dn(xx.count(bu(e)-1,e),t,2)}function BT(e){var t=e.getUTCDay();return t>=4||t===0?Dh(e):Dh.ceil(e)}function AY(e,t){return e=BT(e),Dn(Dh.count(bu(e),e)+(bu(e).getUTCDay()===4),t,2)}function NY(e){return e.getUTCDay()}function SY(e,t){return Dn(pg.count(bu(e)-1,e),t,2)}function EY(e,t){return Dn(e.getUTCFullYear()%100,t,2)}function CY(e,t){return e=BT(e),Dn(e.getUTCFullYear()%100,t,2)}function _Y(e,t){return Dn(e.getUTCFullYear()%1e4,t,4)}function jY(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Dh(e):Dh.ceil(e),Dn(e.getUTCFullYear()%1e4,t,4)}function OY(){return"+0000"}function RE(){return"%"}function BE(e){return+e}function FE(e){return Math.floor(+e/1e3)}var oh,FT,zT;TY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function TY(e){return oh=TW(e),FT=oh.format,oh.parse,zT=oh.utcFormat,oh.utcParse,oh}function kY(e){return new Date(e)}function IY(e){return e instanceof Date?+e:+new Date(+e)}function Gw(e,t,r,n,a,i,c,f,m,p){var x=kw(),y=x.invert,S=x.domain,N=p(".%L"),j=p(":%S"),_=p("%I:%M"),T=p("%I %p"),I=p("%a %d"),R=p("%b %d"),F=p("%B"),G=p("%Y");function Y(J){return(m(J)<J?N:f(J)<J?j:c(J)<J?_:i(J)<J?T:n(J)<J?a(J)<J?I:R:r(J)<J?F:G)(J)}return x.invert=function(J){return new Date(y(J))},x.domain=function(J){return arguments.length?S(Array.from(J,IY)):S().map(kY)},x.ticks=function(J){var V=S();return e(V[0],V[V.length-1],J??10)},x.tickFormat=function(J,V){return V==null?Y:p(V)},x.nice=function(J){var V=S();return(!J||typeof J.range!="function")&&(J=t(V[0],V[V.length-1],J??10)),J?S(CT(V,J)):x},x.copy=function(){return P1(x,Gw(e,t,r,n,a,i,c,f,m,p))},x}function DY(){return Al.apply(Gw(jW,OW,yu,Hw,gx,R1,Uw,Fw,rf,FT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function MY(){return Al.apply(Gw(CW,_W,bu,Vw,xx,mx,qw,zw,rf,zT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vx(){var e=0,t=1,r,n,a,i,c=ro,f=!1,m;function p(y){return y==null||isNaN(y=+y)?m:c(a===0?.5:(y=(i(y)-r)*a,f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t]=y,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),p):[e,t]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(c=y,p):c};function x(y){return function(S){var N,j;return arguments.length?([N,j]=S,c=y(N,j),p):[c(0),c(1)]}}return p.range=x(qh),p.rangeRound=x(Tw),p.unknown=function(y){return arguments.length?(m=y,p):m},function(y){return i=y,r=y(e),n=y(t),a=r===n?0:1/(n-r),p}}function Dd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function UT(){var e=Id(vx()(ro));return e.copy=function(){return Dd(e,UT())},_u.apply(e,arguments)}function qT(){var e=Mw(vx()).domain([1,10]);return e.copy=function(){return Dd(e,qT()).base(e.base())},_u.apply(e,arguments)}function HT(){var e=Lw(vx());return e.copy=function(){return Dd(e,HT()).constant(e.constant())},_u.apply(e,arguments)}function Ww(){var e=Pw(vx());return e.copy=function(){return Dd(e,Ww()).exponent(e.exponent())},_u.apply(e,arguments)}function LY(){return Ww.apply(null,arguments).exponent(.5)}function VT(){var e=[],t=ro;function r(n){if(n!=null&&!isNaN(n=+n))return t((M1(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(yd),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>bG(e,i/n))},r.copy=function(){return VT(t).domain(e)},_u.apply(r,arguments)}function yx(){var e=0,t=.5,r=1,n=1,a,i,c,f,m,p=ro,x,y=!1,S;function N(_){return isNaN(_=+_)?S:(_=.5+((_=+x(_))-i)*(n*_<n*i?f:m),p(y?Math.max(0,Math.min(1,_)):_))}N.domain=function(_){return arguments.length?([e,t,r]=_,a=x(e=+e),i=x(t=+t),c=x(r=+r),f=a===i?0:.5/(i-a),m=i===c?0:.5/(c-i),n=i<a?-1:1,N):[e,t,r]},N.clamp=function(_){return arguments.length?(y=!!_,N):y},N.interpolator=function(_){return arguments.length?(p=_,N):p};function j(_){return function(T){var I,R,F;return arguments.length?([I,R,F]=T,p=YG(_,[I,R,F]),N):[p(0),p(.5),p(1)]}}return N.range=j(qh),N.rangeRound=j(Tw),N.unknown=function(_){return arguments.length?(S=_,N):S},function(_){return x=_,a=_(e),i=_(t),c=_(r),f=a===i?0:.5/(i-a),m=i===c?0:.5/(c-i),n=i<a?-1:1,N}}function GT(){var e=Id(yx()(ro));return e.copy=function(){return Dd(e,GT())},_u.apply(e,arguments)}function WT(){var e=Mw(yx()).domain([.1,1,10]);return e.copy=function(){return Dd(e,WT()).base(e.base())},_u.apply(e,arguments)}function YT(){var e=Lw(yx());return e.copy=function(){return Dd(e,YT()).constant(e.constant())},_u.apply(e,arguments)}function Yw(){var e=Pw(yx());return e.copy=function(){return Dd(e,Yw()).exponent(e.exponent())},_u.apply(e,arguments)}function PY(){return Yw.apply(null,arguments).exponent(.5)}const K0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_w,scaleDiverging:GT,scaleDivergingLog:WT,scaleDivergingPow:Yw,scaleDivergingSqrt:PY,scaleDivergingSymlog:YT,scaleIdentity:ET,scaleImplicit:d5,scaleLinear:ST,scaleLog:_T,scaleOrdinal:Cw,scalePoint:NG,scalePow:Rw,scaleQuantile:TT,scaleQuantize:kT,scaleRadial:OT,scaleSequential:UT,scaleSequentialLog:qT,scaleSequentialPow:Ww,scaleSequentialQuantile:VT,scaleSequentialSqrt:LY,scaleSequentialSymlog:HT,scaleSqrt:gW,scaleSymlog:jT,scaleThreshold:IT,scaleTime:DY,scaleUtc:MY,tickFormat:NT},Symbol.toStringTag,{value:"Module"}));var ju=e=>e.chartData,bx=ct([ju],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),$T=(e,t,r,n)=>n?bx(e):ju(e),XT=(e,t,r)=>r?bx(e):ju(e);function Sd(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ga(t)&&ga(r))return!0}return!1}function zE(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function KT(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(ga(r))a=r;else if(typeof r=="function")return;if(ga(n))i=n;else if(typeof n=="function")return;var c=[a,i];if(Sd(c))return c}}function RY(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Sd(n))return zE(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,c,f;if(a==="auto")t!=null&&(c=Math.min(...t));else if(ir(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&J6.test(a)){var m=J6.exec(a);if(m==null||m[1]==null||t==null)c=void 0;else{var p=+m[1];c=t[0]-p}}else c=t==null?void 0:t[0];if(i==="auto")t!=null&&(f=Math.max(...t));else if(ir(i))f=i;else if(typeof i=="function")try{t!=null&&(f=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&e8.test(i)){var x=e8.exec(i);if(x==null||x[1]==null||t==null)f=void 0;else{var y=+x[1];f=t[1]+y}}else f=t==null?void 0:t[1];var S=[c,f];if(Sd(S))return t==null?S:zE(S,t,r)}}}var Hh=1e9,BY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Xw,qa=!0,wl="[DecimalError] ",cf=wl+"Invalid argument: ",$w=wl+"Exponent out of range: ",Vh=Math.floor,Qd=Math.pow,FY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$o,cs=1e7,Oa=7,QT=9007199254740991,mg=Vh(QT/Oa),ur={};ur.absoluteValue=ur.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ur.comparedTo=ur.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ur.decimalPlaces=ur.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Oa;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ur.dividedBy=ur.div=function(e){return pu(this,new this.constructor(e))};ur.dividedToIntegerBy=ur.idiv=function(e){var t=this,r=t.constructor;return ma(pu(t,new r(e),0,1),r.precision)};ur.equals=ur.eq=function(e){return!this.cmp(e)};ur.exponent=function(){return Pi(this)};ur.greaterThan=ur.gt=function(e){return this.cmp(e)>0};ur.greaterThanOrEqualTo=ur.gte=function(e){return this.cmp(e)>=0};ur.isInteger=ur.isint=function(){return this.e>this.d.length-2};ur.isNegative=ur.isneg=function(){return this.s<0};ur.isPositive=ur.ispos=function(){return this.s>0};ur.isZero=function(){return this.s===0};ur.lessThan=ur.lt=function(e){return this.cmp(e)<0};ur.lessThanOrEqualTo=ur.lte=function(e){return this.cmp(e)<1};ur.logarithm=ur.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq($o))throw Error(wl+"NaN");if(r.s<1)throw Error(wl+(r.s?"NaN":"-Infinity"));return r.eq($o)?new n(0):(qa=!1,t=pu(g1(r,i),g1(e,i),i),qa=!0,ma(t,a))};ur.minus=ur.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ek(t,e):ZT(t,(e.s=-e.s,e))};ur.modulo=ur.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(wl+"NaN");return r.s?(qa=!1,t=pu(r,e,0,1).times(e),qa=!0,r.minus(t)):ma(new n(r),a)};ur.naturalExponential=ur.exp=function(){return JT(this)};ur.naturalLogarithm=ur.ln=function(){return g1(this)};ur.negated=ur.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ur.plus=ur.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ZT(t,e):ek(t,(e.s=-e.s,e))};ur.precision=ur.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(cf+e);if(t=Pi(a)+1,n=a.d.length-1,r=n*Oa+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ur.squareRoot=ur.sqrt=function(){var e,t,r,n,a,i,c,f=this,m=f.constructor;if(f.s<1){if(!f.s)return new m(0);throw Error(wl+"NaN")}for(e=Pi(f),qa=!1,a=Math.sqrt(+f),a==0||a==1/0?(t=Sc(f.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Vh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new m(t)):n=new m(a.toString()),r=m.precision,a=c=r+3;;)if(i=n,n=i.plus(pu(f,i,c+2)).times(.5),Sc(i.d).slice(0,c)===(t=Sc(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),a==c&&t=="4999"){if(ma(i,r+1,0),i.times(i).eq(f)){n=i;break}}else if(t!="9999")break;c+=4}return qa=!0,ma(n,r)};ur.times=ur.mul=function(e){var t,r,n,a,i,c,f,m,p,x=this,y=x.constructor,S=x.d,N=(e=new y(e)).d;if(!x.s||!e.s)return new y(0);for(e.s*=x.s,r=x.e+e.e,m=S.length,p=N.length,m<p&&(i=S,S=N,N=i,c=m,m=p,p=c),i=[],c=m+p,n=c;n--;)i.push(0);for(n=p;--n>=0;){for(t=0,a=m+n;a>n;)f=i[a]+N[n]*S[a-n-1]+t,i[a--]=f%cs|0,t=f/cs|0;i[a]=(i[a]+t)%cs|0}for(;!i[--c];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,qa?ma(e,y.precision):e};ur.toDecimalPlaces=ur.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ic(e,0,Hh),t===void 0?t=n.rounding:Ic(t,0,8),ma(r,e+Pi(r)+1,t))};ur.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=bf(n,!0):(Ic(e,0,Hh),t===void 0?t=a.rounding:Ic(t,0,8),n=ma(new a(n),e+1,t),r=bf(n,!0,e+1)),r};ur.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?bf(a):(Ic(e,0,Hh),t===void 0?t=i.rounding:Ic(t,0,8),n=ma(new i(a),e+Pi(a)+1,t),r=bf(n.abs(),!1,e+Pi(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ur.toInteger=ur.toint=function(){var e=this,t=e.constructor;return ma(new t(e),Pi(e)+1,t.rounding)};ur.toNumber=function(){return+this};ur.toPower=ur.pow=function(e){var t,r,n,a,i,c,f=this,m=f.constructor,p=12,x=+(e=new m(e));if(!e.s)return new m($o);if(f=new m(f),!f.s){if(e.s<1)throw Error(wl+"Infinity");return f}if(f.eq($o))return f;if(n=m.precision,e.eq($o))return ma(f,n);if(t=e.e,r=e.d.length-1,c=t>=r,i=f.s,c){if((r=x<0?-x:x)<=QT){for(a=new m($o),t=Math.ceil(n/Oa+4),qa=!1;r%2&&(a=a.times(f),qE(a.d,t)),r=Vh(r/2),r!==0;)f=f.times(f),qE(f.d,t);return qa=!0,e.s<0?new m($o).div(a):ma(a,n)}}else if(i<0)throw Error(wl+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,f.s=1,qa=!1,a=e.times(g1(f,n+p)),qa=!0,a=JT(a),a.s=i,a};ur.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Pi(a),n=bf(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ic(e,1,Hh),t===void 0?t=i.rounding:Ic(t,0,8),a=ma(new i(a),e,t),r=Pi(a),n=bf(a,e<=r||r<=i.toExpNeg,e)),n};ur.toSignificantDigits=ur.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ic(e,1,Hh),t===void 0?t=n.rounding:Ic(t,0,8)),ma(new n(r),e,t)};ur.toString=ur.valueOf=ur.val=ur.toJSON=ur[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pi(e),r=e.constructor;return bf(e,t<=r.toExpNeg||t>=r.toExpPos)};function ZT(e,t){var r,n,a,i,c,f,m,p,x=e.constructor,y=x.precision;if(!e.s||!t.s)return t.s||(t=new x(e)),qa?ma(t,y):t;if(m=e.d,p=t.d,c=e.e,a=t.e,m=m.slice(),i=c-a,i){for(i<0?(n=m,i=-i,f=p.length):(n=p,a=c,f=m.length),c=Math.ceil(y/Oa),f=c>f?c+1:f+1,i>f&&(i=f,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(f=m.length,i=p.length,f-i<0&&(i=f,n=p,p=m,m=n),r=0;i;)r=(m[--i]=m[i]+p[i]+r)/cs|0,m[i]%=cs;for(r&&(m.unshift(r),++a),f=m.length;m[--f]==0;)m.pop();return t.d=m,t.e=a,qa?ma(t,y):t}function Ic(e,t,r){if(e!==~~e||e<t||e>r)throw Error(cf+e)}function Sc(e){var t,r,n,a=e.length-1,i="",c=e[0];if(a>0){for(i+=c,t=1;t<a;t++)n=e[t]+"",r=Oa-n.length,r&&(i+=ld(r)),i+=n;c=e[t],n=c+"",r=Oa-n.length,r&&(i+=ld(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return i+c}var pu=function(){function e(n,a){var i,c=0,f=n.length;for(n=n.slice();f--;)i=n[f]*a+c,n[f]=i%cs|0,c=i/cs|0;return c&&n.unshift(c),n}function t(n,a,i,c){var f,m;if(i!=c)m=i>c?1:-1;else for(f=m=0;f<i;f++)if(n[f]!=a[f]){m=n[f]>a[f]?1:-1;break}return m}function r(n,a,i){for(var c=0;i--;)n[i]-=c,c=n[i]<a[i]?1:0,n[i]=c*cs+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,c){var f,m,p,x,y,S,N,j,_,T,I,R,F,G,Y,J,V,$,W=n.constructor,Ne=n.s==a.s?1:-1,Z=n.d,Q=a.d;if(!n.s)return new W(n);if(!a.s)throw Error(wl+"Division by zero");for(m=n.e-a.e,V=Q.length,Y=Z.length,N=new W(Ne),j=N.d=[],p=0;Q[p]==(Z[p]||0);)++p;if(Q[p]>(Z[p]||0)&&--m,i==null?R=i=W.precision:c?R=i+(Pi(n)-Pi(a))+1:R=i,R<0)return new W(0);if(R=R/Oa+2|0,p=0,V==1)for(x=0,Q=Q[0],R++;(p<Y||x)&&R--;p++)F=x*cs+(Z[p]||0),j[p]=F/Q|0,x=F%Q|0;else{for(x=cs/(Q[0]+1)|0,x>1&&(Q=e(Q,x),Z=e(Z,x),V=Q.length,Y=Z.length),G=V,_=Z.slice(0,V),T=_.length;T<V;)_[T++]=0;$=Q.slice(),$.unshift(0),J=Q[0],Q[1]>=cs/2&&++J;do x=0,f=t(Q,_,V,T),f<0?(I=_[0],V!=T&&(I=I*cs+(_[1]||0)),x=I/J|0,x>1?(x>=cs&&(x=cs-1),y=e(Q,x),S=y.length,T=_.length,f=t(y,_,S,T),f==1&&(x--,r(y,V<S?$:Q,S))):(x==0&&(f=x=1),y=Q.slice()),S=y.length,S<T&&y.unshift(0),r(_,y,T),f==-1&&(T=_.length,f=t(Q,_,V,T),f<1&&(x++,r(_,V<T?$:Q,T))),T=_.length):f===0&&(x++,_=[0]),j[p++]=x,f&&_[0]?_[T++]=Z[G]||0:(_=[Z[G]],T=1);while((G++<Y||_[0]!==void 0)&&R--)}return j[0]||j.shift(),N.e=m,ma(N,c?i+Pi(N)+1:i)}}();function JT(e,t){var r,n,a,i,c,f,m=0,p=0,x=e.constructor,y=x.precision;if(Pi(e)>16)throw Error($w+Pi(e));if(!e.s)return new x($o);for(qa=!1,f=y,c=new x(.03125);e.abs().gte(.1);)e=e.times(c),p+=5;for(n=Math.log(Qd(2,p))/Math.LN10*2+5|0,f+=n,r=a=i=new x($o),x.precision=f;;){if(a=ma(a.times(e),f),r=r.times(++m),c=i.plus(pu(a,r,f)),Sc(c.d).slice(0,f)===Sc(i.d).slice(0,f)){for(;p--;)i=ma(i.times(i),f);return x.precision=y,t==null?(qa=!0,ma(i,y)):i}i=c}}function Pi(e){for(var t=e.e*Oa,r=e.d[0];r>=10;r/=10)t++;return t}function Ry(e,t,r){if(t>e.LN10.sd())throw qa=!0,r&&(e.precision=r),Error(wl+"LN10 precision limit exceeded");return ma(new e(e.LN10),t)}function ld(e){for(var t="";e--;)t+="0";return t}function g1(e,t){var r,n,a,i,c,f,m,p,x,y=1,S=10,N=e,j=N.d,_=N.constructor,T=_.precision;if(N.s<1)throw Error(wl+(N.s?"NaN":"-Infinity"));if(N.eq($o))return new _(0);if(t==null?(qa=!1,p=T):p=t,N.eq(10))return t==null&&(qa=!0),Ry(_,p);if(p+=S,_.precision=p,r=Sc(j),n=r.charAt(0),i=Pi(N),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)N=N.times(e),r=Sc(N.d),n=r.charAt(0),y++;i=Pi(N),n>1?(N=new _("0."+r),i++):N=new _(n+"."+r.slice(1))}else return m=Ry(_,p+2,T).times(i+""),N=g1(new _(n+"."+r.slice(1)),p-S).plus(m),_.precision=T,t==null?(qa=!0,ma(N,T)):N;for(f=c=N=pu(N.minus($o),N.plus($o),p),x=ma(N.times(N),p),a=3;;){if(c=ma(c.times(x),p),m=f.plus(pu(c,new _(a),p)),Sc(m.d).slice(0,p)===Sc(f.d).slice(0,p))return f=f.times(2),i!==0&&(f=f.plus(Ry(_,p+2,T).times(i+""))),f=pu(f,new _(y),p),_.precision=T,t==null?(qa=!0,ma(f,T)):f;f=m,a+=2}}function UE(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Vh(r/Oa),e.d=[],n=(r+1)%Oa,r<0&&(n+=Oa),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Oa;n<a;)e.d.push(+t.slice(n,n+=Oa));t=t.slice(n),n=Oa-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),qa&&(e.e>mg||e.e<-mg))throw Error($w+r)}else e.s=0,e.e=0,e.d=[0];return e}function ma(e,t,r){var n,a,i,c,f,m,p,x,y=e.d;for(c=1,i=y[0];i>=10;i/=10)c++;if(n=t-c,n<0)n+=Oa,a=t,p=y[x=0];else{if(x=Math.ceil((n+1)/Oa),i=y.length,x>=i)return e;for(p=i=y[x],c=1;i>=10;i/=10)c++;n%=Oa,a=n-Oa+c}if(r!==void 0&&(i=Qd(10,c-a-1),f=p/i%10|0,m=t<0||y[x+1]!==void 0||p%i,m=r<4?(f||m)&&(r==0||r==(e.s<0?3:2)):f>5||f==5&&(r==4||m||r==6&&(n>0?a>0?p/Qd(10,c-a):0:y[x-1])%10&1||r==(e.s<0?8:7))),t<1||!y[0])return m?(i=Pi(e),y.length=1,t=t-i-1,y[0]=Qd(10,(Oa-t%Oa)%Oa),e.e=Vh(-t/Oa)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(n==0?(y.length=x,i=1,x--):(y.length=x+1,i=Qd(10,Oa-n),y[x]=a>0?(p/Qd(10,c-a)%Qd(10,a)|0)*i:0),m)for(;;)if(x==0){(y[0]+=i)==cs&&(y[0]=1,++e.e);break}else{if(y[x]+=i,y[x]!=cs)break;y[x--]=0,i=1}for(n=y.length;y[--n]===0;)y.pop();if(qa&&(e.e>mg||e.e<-mg))throw Error($w+Pi(e));return e}function ek(e,t){var r,n,a,i,c,f,m,p,x,y,S=e.constructor,N=S.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new S(e),qa?ma(t,N):t;if(m=e.d,y=t.d,n=t.e,p=e.e,m=m.slice(),c=p-n,c){for(x=c<0,x?(r=m,c=-c,f=y.length):(r=y,n=p,f=m.length),a=Math.max(Math.ceil(N/Oa),f)+2,c>a&&(c=a,r.length=1),r.reverse(),a=c;a--;)r.push(0);r.reverse()}else{for(a=m.length,f=y.length,x=a<f,x&&(f=a),a=0;a<f;a++)if(m[a]!=y[a]){x=m[a]<y[a];break}c=0}for(x&&(r=m,m=y,y=r,t.s=-t.s),f=m.length,a=y.length-f;a>0;--a)m[f++]=0;for(a=y.length;a>c;){if(m[--a]<y[a]){for(i=a;i&&m[--i]===0;)m[i]=cs-1;--m[i],m[a]+=cs}m[a]-=y[a]}for(;m[--f]===0;)m.pop();for(;m[0]===0;m.shift())--n;return m[0]?(t.d=m,t.e=n,qa?ma(t,N):t):new S(0)}function bf(e,t,r){var n,a=Pi(e),i=Sc(e.d),c=i.length;return t?(r&&(n=r-c)>0?i=i.charAt(0)+"."+i.slice(1)+ld(n):c>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ld(-a-1)+i,r&&(n=r-c)>0&&(i+=ld(n))):a>=c?(i+=ld(a+1-c),r&&(n=r-a-1)>0&&(i=i+"."+ld(n))):((n=a+1)<c&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-c)>0&&(a+1===c&&(i+="."),i+=ld(n))),e.s<0?"-"+i:i}function qE(e,t){if(e.length>t)return e.length=t,!0}function tk(e){var t,r,n;function a(i){var c=this;if(!(c instanceof a))return new a(i);if(c.constructor=a,i instanceof a){c.s=i.s,c.e=i.e,c.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(cf+i);if(i>0)c.s=1;else if(i<0)i=-i,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(i===~~i&&i<1e7){c.e=0,c.d=[i];return}return UE(c,i.toString())}else if(typeof i!="string")throw Error(cf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),c.s=-1):c.s=1,FY.test(i))UE(c,i);else throw Error(cf+i)}if(a.prototype=ur,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=tk,a.config=a.set=zY,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function zY(e){if(!e||typeof e!="object")throw Error(wl+"Object expected");var t,r,n,a=["precision",1,Hh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Vh(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(cf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(cf+r+": "+n);return this}var Xw=tk(BY);$o=new Xw(1);const Qn=Xw;var UY=e=>e,rk={},nk=e=>e===rk,HE=e=>function t(){return arguments.length===0||arguments.length===1&&nk(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},ak=(e,t)=>e===1?t:HE(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(c=>c!==rk).length;return i>=e?t(...n):ak(e-i,HE(function(){for(var c=arguments.length,f=new Array(c),m=0;m<c;m++)f[m]=arguments[m];var p=n.map(x=>nk(x)?f.shift():x);return t(...p,...f)}))}),qY=e=>ak(e.length,e),m5=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},HY=qY((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),VY=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return UY;var a=r.reverse(),i=a[0],c=a.slice(1);return function(){return c.reduce((f,m)=>m(f),i(...arguments))}};function ik(e){var t;return e===0?t=1:t=Math.floor(new Qn(e).abs().log(10).toNumber())+1,t}function sk(e,t,r){for(var n=new Qn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var ok=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},lk=(e,t,r)=>{if(e.lte(0))return new Qn(0);var n=ik(e.toNumber()),a=new Qn(10).pow(n),i=e.div(a),c=n!==1?.05:.1,f=new Qn(Math.ceil(i.div(c).toNumber())).add(r).mul(c),m=f.mul(a);return t?new Qn(m.toNumber()):new Qn(Math.ceil(m.toNumber()))},GY=(e,t,r)=>{var n=new Qn(1),a=new Qn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Qn(10).pow(ik(e)-1),a=new Qn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Qn(Math.floor(e)))}else e===0?a=new Qn(Math.floor((t-1)/2)):r||(a=new Qn(Math.floor(e)));var c=Math.floor((t-1)/2),f=VY(HY(m=>a.add(new Qn(m-c).mul(n)).toNumber()),m5);return f(0,t)},ck=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Qn(0),tickMin:new Qn(0),tickMax:new Qn(0)};var c=lk(new Qn(r).sub(t).div(n-1),a,i),f;t<=0&&r>=0?f=new Qn(0):(f=new Qn(t).add(r).div(2),f=f.sub(new Qn(f).mod(c)));var m=Math.ceil(f.sub(t).div(c).toNumber()),p=Math.ceil(new Qn(r).sub(f).div(c).toNumber()),x=m+p+1;return x>n?ck(t,r,n,a,i+1):(x<n&&(p=r>0?p+(n-x):p,m=r>0?m:m+(n-x)),{step:c,tickMin:f.sub(new Qn(m).mul(c)),tickMax:f.add(new Qn(p).mul(c))})},WY=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[f,m]=ok([r,n]);if(f===-1/0||m===1/0){var p=m===1/0?[f,...m5(0,a-1).map(()=>1/0)]:[...m5(0,a-1).map(()=>-1/0),m];return r>n?p.reverse():p}if(f===m)return GY(f,a,i);var{step:x,tickMin:y,tickMax:S}=ck(f,m,c,i,0),N=sk(y,S.add(new Qn(.1).mul(x)),x);return r>n?N.reverse():N},YY=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,f]=ok([n,a]);if(c===-1/0||f===1/0)return[n,a];if(c===f)return[c];var m=Math.max(r,2),p=lk(new Qn(f).sub(c).div(m-1),i,0),x=[...sk(new Qn(c),new Qn(f),p),f];return i===!1&&(x=x.map(y=>Math.round(y))),n>a?x.reverse():x},uk=e=>e.rootProps.maxBarSize,$Y=e=>e.rootProps.barGap,dk=e=>e.rootProps.barCategoryGap,XY=e=>e.rootProps.barSize,B1=e=>e.rootProps.stackOffset,fk=e=>e.rootProps.reverseStackOrder,Kw=e=>e.options.chartName,Qw=e=>e.rootProps.syncId,hk=e=>e.rootProps.syncMethod,Zw=e=>e.options.eventEmitter,KY=e=>e.rootProps.baseValue,Li={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},cu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Yo={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},wx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},QY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:cu.angleAxisId,includeHidden:!1,name:void 0,reversed:cu.reversed,scale:cu.scale,tick:cu.tick,tickCount:void 0,ticks:void 0,type:cu.type,unit:void 0},ZY={allowDataOverflow:Yo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Yo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yo.scale,tick:Yo.tick,tickCount:Yo.tickCount,ticks:void 0,type:Yo.type,unit:void 0},JY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:cu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cu.scale,tick:cu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},e$={allowDataOverflow:Yo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Yo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yo.scale,tick:Yo.tick,tickCount:Yo.tickCount,ticks:void 0,type:"category",unit:void 0},Jw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?JY:QY,e3=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?e$:ZY,Ax=e=>e.polarOptions,t3=ct([Eu,Cu,Xi],cT),pk=ct([Ax,t3],(e,t)=>{if(e!=null)return Us(e.innerRadius,t,0)}),mk=ct([Ax,t3],(e,t)=>{if(e!=null)return Us(e.outerRadius,t,t*.8)}),t$=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},gk=ct([Ax],t$);ct([Jw,gk],wx);var xk=ct([t3,pk,mk],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ct([e3,xk],wx);var vk=ct([wn,Ax,pk,mk,Eu,Cu],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:f,startAngle:m,endAngle:p}=t;return{cx:Us(c,a,a/2),cy:Us(f,i,i/2),innerRadius:r,outerRadius:n,startAngle:m,endAngle:p,clockWise:!1}}}),Ga=(e,t)=>t,F1=(e,t,r)=>r;function Nx(e){return e==null?void 0:e.id}function yk(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,c=new Map;return e.forEach(f=>{var m,p=(m=f.data)!==null&&m!==void 0?m:n;if(!(p==null||p.length===0)){var x=Nx(f);p.forEach((y,S)=>{var N=i==null||a?S:String(ia(y,i,null)),j=ia(y,f.dataKey,0),_;c.has(N)?_=c.get(N):_={},Object.assign(_,{[x]:j}),c.set(N,_)})}}),Array.from(c.values())}function Sx(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Ex=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Cx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function r$(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Qi=e=>{var t=wn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Gh=e=>e.tooltip.settings.axisId;function VE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(r),!0).forEach(function(n){n$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n$(e,t,r){return(t=a$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a$(e){var t=i$(e,"string");return typeof t=="symbol"?t:t+""}function i$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g5=[0,"auto"],os={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},bk=(e,t)=>e.cartesianAxis.xAxis[t],Ou=(e,t)=>{var r=bk(e,t);return r??os},ls={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:g5,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:O1},wk=(e,t)=>e.cartesianAxis.yAxis[t],Tu=(e,t)=>{var r=wk(e,t);return r??ls},s$={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},r3=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??s$},Qa=(e,t,r)=>{switch(t){case"xAxis":return Ou(e,r);case"yAxis":return Tu(e,r);case"zAxis":return r3(e,r);case"angleAxis":return Jw(e,r);case"radiusAxis":return e3(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},o$=(e,t,r)=>{switch(t){case"xAxis":return Ou(e,r);case"yAxis":return Tu(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},z1=(e,t,r)=>{switch(t){case"xAxis":return Ou(e,r);case"yAxis":return Tu(e,r);case"angleAxis":return Jw(e,r);case"radiusAxis":return e3(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ak=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function n3(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var _x=e=>e.graphicalItems.cartesianItems,l$=ct([Ga,F1],n3),a3=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),U1=ct([_x,Qa,l$],a3,{memoizeOptions:{resultEqualityCheck:Cx}}),Nk=ct([U1],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Sx)),Sk=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),c$=ct([U1],Sk),i3=e=>e.map(t=>t.data).filter(Boolean).flat(1),u$=ct([U1],i3,{memoizeOptions:{resultEqualityCheck:Cx}}),s3=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},o3=ct([u$,$T],s3),l3=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ia(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:ia(a,n)}))):e.map(n=>({value:n})),jx=ct([o3,Qa,U1],l3);function Ek(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Cm(e){if(Tc(e)||e instanceof Date){var t=Number(e);if(ga(t))return t}}function GE(e){if(Array.isArray(e)){var t=[Cm(e[0]),Cm(e[1])];return Sd(t)?t:void 0}var r=Cm(e);if(r!=null)return[r,r]}function wu(e){return e.map(Cm).filter(Cz)}function d$(e,t,r){return!r||typeof t!="number"||yl(t)?[]:r.length?wu(r.flatMap(n=>{var a=ia(e,n.dataKey),i,c;if(Array.isArray(a)?[i,c]=a:i=c=a,!(!ga(i)||!ga(c)))return[t-i,t+c]})):[]}var Zi=e=>{var t=Qi(e),r=Gh(e);return z1(e,t,r)},q1=ct([Zi],e=>e==null?void 0:e.dataKey),f$=ct([Nk,$T,Zi],yk),Ck=(e,t,r,n)=>{var a={},i=t.reduce((c,f)=>{if(f.stackId==null)return c;var m=c[f.stackId];return m==null&&(m=[]),m.push(f),c[f.stackId]=m,c},a);return Object.fromEntries(Object.entries(i).map(c=>{var[f,m]=c,p=n?[...m].reverse():m,x=p.map(Nx);return[f,{stackedData:Gq(e,x,r),graphicalItems:p}]}))},xg=ct([f$,Nk,B1,fk],Ck),_k=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var c=Xq(e,a,i);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},h$=ct([Qa],e=>e.allowDataOverflow),c3=e=>{var t;if(e==null||!("domain"in e))return g5;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=wu(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:g5},u3=ct([Qa],c3),d3=ct([u3,h$],KT),p$=ct([xg,ju,Ga,d3],_k,{memoizeOptions:{resultEqualityCheck:Ex}}),Ox=e=>e.errorBars,m$=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Ek(r,n)),vg=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),c=Math.min(...i),f=Math.max(...i);return[c,f]}},f3=(e,t,r,n,a)=>{var i,c;if(r.length>0&&e.forEach(f=>{r.forEach(m=>{var p,x,y=(p=n[m.id])===null||p===void 0?void 0:p.filter(I=>Ek(a,I)),S=ia(f,(x=t.dataKey)!==null&&x!==void 0?x:m.dataKey),N=d$(f,S,y);if(N.length>=2){var j=Math.min(...N),_=Math.max(...N);(i==null||j<i)&&(i=j),(c==null||_>c)&&(c=_)}var T=GE(S);T!=null&&(i=i==null?T[0]:Math.min(i,T[0]),c=c==null?T[1]:Math.max(c,T[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(f=>{var m=GE(ia(f,t.dataKey));m!=null&&(i=i==null?m[0]:Math.min(i,m[0]),c=c==null?m[1]:Math.max(c,m[1]))}),ga(i)&&ga(c))return[i,c]},g$=ct([o3,Qa,c$,Ox,Ga],f3,{memoizeOptions:{resultEqualityCheck:Ex}});function x$(e){var{value:t}=e;if(Tc(t)||t instanceof Date)return t}var v$=(e,t,r)=>{var n=e.map(x$).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&zO(n))?hT(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},jk=e=>e.referenceElements.dots,Wh=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),y$=ct([jk,Ga,F1],Wh),Ok=e=>e.referenceElements.areas,b$=ct([Ok,Ga,F1],Wh),Tk=e=>e.referenceElements.lines,w$=ct([Tk,Ga,F1],Wh),kk=(e,t)=>{if(e!=null){var r=wu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},A$=ct(y$,Ga,kk),Ik=(e,t)=>{if(e!=null){var r=wu(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},N$=ct([b$,Ga],Ik);function S$(e){var t;if(e.x!=null)return wu([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:wu(r)}function E$(e){var t;if(e.y!=null)return wu([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:wu(r)}var Dk=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?S$(n):E$(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},C$=ct([w$,Ga],Dk),_$=ct(A$,C$,N$,(e,t,r)=>vg(e,r,t)),h3=(e,t,r,n,a,i,c,f)=>{if(r!=null)return r;var m=c==="vertical"&&f==="xAxis"||c==="horizontal"&&f==="yAxis",p=m?vg(n,i,a):vg(i,a);return RY(t,p,e.allowDataOverflow)},j$=ct([Qa,u3,d3,p$,g$,_$,wn,Ga],h3,{memoizeOptions:{resultEqualityCheck:Ex}}),O$=[0,1],p3=(e,t,r,n,a,i,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:f,type:m}=e,p=Su(t,i);if(p&&f==null){var x;return hT(0,(x=r==null?void 0:r.length)!==null&&x!==void 0?x:0)}return m==="category"?v$(n,e,p):a==="expand"?O$:c}},m3=ct([Qa,wn,o3,jx,B1,Ga,j$],p3),Mk=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:c}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":c==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof i=="string"){var f="scale".concat(S1(i));return f in K0?f:"point"}}},Yh=ct([Qa,wn,Ak,Kw,Ga],Mk);function T$(e){if(e!=null){if(e in K0)return K0[e]();var t="scale".concat(S1(e));if(t in K0)return K0[t]()}}function g3(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=T$(t);if(a!=null){var i=a.domain(r).range(n);return zq(i),i}}}var x3=(e,t,r)=>{var n=c3(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Sd(e))return WY(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Sd(e))return YY(e,t.tickCount,t.allowDecimals)}},v3=ct([m3,z1,Yh],x3),y3=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Sd(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],c=t[1],f=r[r.length-1];return[Math.min(a,i),Math.max(c,f)]}return t},k$=ct([Qa,m3,v3,Ga],y3),I$=ct(jx,Qa,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(wu(e.map(y=>y.value))).sort((y,S)=>y-S),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var c=i-a;if(c===0)return 1/0;for(var f=0;f<n.length-1;f++){var m=n[f],p=n[f+1];if(!(m==null||p==null)){var x=p-m;r=Math.min(r,x)}}return r/c}}),Lk=ct(I$,wn,dk,Xi,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!ga(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var c=Us(r,e*i),f=e*i/2;return f-c-(f-c)/i*c}return 0}),D$=(e,t,r)=>{var n=Ou(e,t);return n==null||typeof n.padding!="string"?0:Lk(e,"xAxis",t,r,n.padding)},M$=(e,t,r)=>{var n=Tu(e,t);return n==null||typeof n.padding!="string"?0:Lk(e,"yAxis",t,r,n.padding)},L$=ct(Ou,D$,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),P$=ct(Tu,M$,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),R$=ct([Xi,L$,lx,ox,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),B$=ct([Xi,wn,P$,lx,ox,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:c}=a;return i?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),H1=(e,t,r,n)=>{var a;switch(t){case"xAxis":return R$(e,r,n);case"yAxis":return B$(e,r,n);case"zAxis":return(a=r3(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return gk(e);case"radiusAxis":return xk(e,r);default:return}},Pk=ct([Qa,H1],wx),Tx=ct([Qa,Yh,k$,Pk],g3);ct([U1,Ox,Ga],m$);function Rk(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var kx=(e,t)=>t,Ix=(e,t,r)=>r,F$=ct(ix,kx,Ix,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Rk)),z$=ct(sx,kx,Ix,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Rk)),Bk=(e,t)=>({width:e.width,height:t.height}),U$=(e,t)=>{var r=typeof t.width=="number"?t.width:O1;return{width:r,height:e.height}},Fk=ct(Xi,Ou,Bk),q$=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},H$=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},V$=ct(Cu,Xi,F$,kx,Ix,(e,t,r,n,a)=>{var i={},c;return r.forEach(f=>{var m=Bk(t,f);c==null&&(c=q$(t,n,e));var p=n==="top"&&!a||n==="bottom"&&a;i[f.id]=c-Number(p)*m.height,c+=(p?-1:1)*m.height}),i}),G$=ct(Eu,Xi,z$,kx,Ix,(e,t,r,n,a)=>{var i={},c;return r.forEach(f=>{var m=U$(t,f);c==null&&(c=H$(t,n,e));var p=n==="left"&&!a||n==="right"&&a;i[f.id]=c-Number(p)*m.width,c+=(p?-1:1)*m.width}),i}),W$=(e,t)=>{var r=Ou(e,t);if(r!=null)return V$(e,r.orientation,r.mirror)},Y$=ct([Xi,Ou,W$,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),$$=(e,t)=>{var r=Tu(e,t);if(r!=null)return G$(e,r.orientation,r.mirror)},X$=ct([Xi,Tu,$$,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),zk=ct(Xi,Tu,(e,t)=>{var r=typeof t.width=="number"?t.width:O1;return{width:r,height:e.height}}),WE=(e,t,r)=>{switch(t){case"xAxis":return Fk(e,r).width;case"yAxis":return zk(e,r).height;default:return}},Uk=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:c}=r,f=Su(e,n),m=t.map(p=>p.value);if(c&&f&&i==="category"&&a&&zO(m))return m}},b3=ct([wn,jx,Qa,Ga],Uk),qk=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,c=Su(e,n);if(c&&(a==="number"||i!=="auto"))return t.map(f=>f.value)}},w3=ct([wn,jx,z1,Ga],qk),YE=ct([wn,o$,Yh,Tx,b3,w3,H1,v3,Ga],(e,t,r,n,a,i,c,f,m)=>{if(t!=null){var p=Su(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:i,duplicateDomain:a,isCategorical:p,niceTicks:f,range:c,realScaleType:r,scale:n}}}),K$=(e,t,r,n,a,i,c,f,m)=>{if(!(t==null||n==null)){var p=Su(e,m),{type:x,ticks:y,tickCount:S}=t,N=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=x==="category"&&n.bandwidth?n.bandwidth()/N:0;j=m==="angleAxis"&&i!=null&&i.length>=2?ds(i[0]-i[1])*2*j:j;var _=y||a;if(_){var T=_.map((I,R)=>{var F=c?c.indexOf(I):I;return{index:R,coordinate:n(F)+j,value:I,offset:j}});return T.filter(I=>ga(I.coordinate))}return p&&f?f.map((I,R)=>({coordinate:n(I)+j,value:I,index:R,offset:j})).filter(I=>ga(I.coordinate)):n.ticks?n.ticks(S).map(I=>({coordinate:n(I)+j,value:I,offset:j})):n.domain().map((I,R)=>({coordinate:n(I)+j,value:c?c[I]:I,index:R,offset:j}))}},Hk=ct([wn,z1,Yh,Tx,v3,H1,b3,w3,Ga],K$),Q$=(e,t,r,n,a,i,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var f=Su(e,c),{tickCount:m}=t,p=0;return p=c==="angleAxis"&&(n==null?void 0:n.length)>=2?ds(n[0]-n[1])*2*p:p,f&&i?i.map((x,y)=>({coordinate:r(x)+p,value:x,index:y,offset:p})):r.ticks?r.ticks(m).map(x=>({coordinate:r(x)+p,value:x,offset:p})):r.domain().map((x,y)=>({coordinate:r(x)+p,value:a?a[x]:x,index:y,offset:p}))}},Ed=ct([wn,z1,Tx,H1,b3,w3,Ga],Q$),Cd=ct(Qa,Tx,(e,t)=>{if(!(e==null||t==null))return gg(gg({},e),{},{scale:t})}),Z$=ct([Qa,Yh,m3,Pk],g3);ct((e,t,r)=>r3(e,r),Z$,(e,t)=>{if(!(e==null||t==null))return gg(gg({},e),{},{scale:t})});var J$=ct([wn,ix,sx],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Vk=e=>e.options.defaultTooltipEventType,Gk=e=>e.options.validateTooltipEventTypes;function Wk(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function A3(e,t){var r=Vk(e),n=Gk(e);return Wk(t,r,n)}function eX(e){return mr(t=>A3(t,e))}var Yk=(e,t)=>{var r,n=Number(t);if(!(yl(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},tX=e=>e.tooltip.settings,ud={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},rX={itemInteraction:{click:ud,hover:ud},axisInteraction:{click:ud,hover:ud},keyboardInteraction:ud,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},$k=Do({name:"tooltip",initialState:rX,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ua()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Yl(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Ua()},removeTooltipEntrySettings:{reducer(e,t){var r=Yl(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ua()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:nX,replaceTooltipEntrySettings:aX,removeTooltipEntrySettings:iX,setTooltipSettingsState:sX,setActiveMouseOverItemIndex:Xk,mouseLeaveItem:oX,mouseLeaveChart:Kk,setActiveClickItemIndex:lX,setMouseOverAxisIndex:Qk,setMouseClickAxisIndex:cX,setSyncInteraction:x5,setKeyboardInteraction:v5}=$k.actions,uX=$k.reducer;function $E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(r),!0).forEach(function(n){dX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dX(e,t,r){return(t=fX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fX(e){var t=hX(e,"string");return typeof t=="symbol"?t:t+""}function hX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pX(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function mX(e){return e.index!=null}var Zk=(e,t,r,n)=>{if(t==null)return ud;var a=pX(e,t,r);if(a==null)return ud;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(mX(a)){if(i)return sm(sm({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return sm(sm({},ud),{},{coordinate:a.coordinate})};function gX(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function xX(e,t){var r=gX(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),c=Math.max(n,a);return r>=i&&r<=c}function vX(e,t,r){if(r==null||t==null)return!0;var n=ia(e,t);return n==null||!Sd(r)?!0:xX(n,r)}var N3=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!ga(i))return a;var c=0,f=1/0;t.length>0&&(f=t.length-1);var m=Math.max(c,Math.min(i,f)),p=t[m];return p==null||vX(p,r,n)?String(m):null},Jk=(e,t,r,n,a,i,c,f)=>{if(!(i==null||f==null)){var m=c[0],p=m==null?void 0:f(m.positions,i);if(p!=null)return p;var x=a==null?void 0:a[Number(i)];if(x)switch(r){case"horizontal":return{x:x.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:x.coordinate}}}},eI=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(c=>{var f;return((f=c.settings)===null||f===void 0?void 0:f.graphicalItemId)===a})},V1=e=>e.options.tooltipPayloadSearcher,$h=e=>e.tooltip;function XE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(r),!0).forEach(function(n){yX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yX(e,t,r){return(t=bX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bX(e){var t=wX(e,"string");return typeof t=="symbol"?t:t+""}function wX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AX(e,t){return e??t}var tI=(e,t,r,n,a,i,c)=>{if(!(t==null||i==null)){var{chartData:f,computedData:m,dataStartIndex:p,dataEndIndex:x}=r,y=[];return e.reduce((S,N)=>{var j,{dataDefinedOnItem:_,settings:T}=N,I=AX(_,f),R=Array.isArray(I)?D7(I,p,x):I,F=(j=T==null?void 0:T.dataKey)!==null&&j!==void 0?j:n,G=T==null?void 0:T.nameKey,Y;if(n&&Array.isArray(R)&&!Array.isArray(R[0])&&c==="axis"?Y=UO(R,n,a):Y=i(R,t,m,G),Array.isArray(Y))Y.forEach(V=>{var $=KE(KE({},T),{},{name:V.name,unit:V.unit,color:void 0,fill:void 0});S.push(t8({tooltipEntrySettings:$,dataKey:V.dataKey,payload:V.payload,value:ia(V.payload,V.dataKey),name:V.name}))});else{var J;S.push(t8({tooltipEntrySettings:T,dataKey:F,payload:Y,value:ia(Y,F),name:(J=ia(Y,G))!==null&&J!==void 0?J:T==null?void 0:T.name}))}return S},y)}},S3=ct([Zi,wn,Ak,Kw,Qi],Mk),NX=ct([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),SX=ct([Qi,Gh],n3),Xh=ct([NX,Zi,SX],a3,{memoizeOptions:{resultEqualityCheck:Cx}}),EX=ct([Xh],e=>e.filter(Sx)),CX=ct([Xh],i3,{memoizeOptions:{resultEqualityCheck:Cx}}),Kh=ct([CX,ju],s3),_X=ct([EX,ju,Zi],yk),E3=ct([Kh,Zi,Xh],l3),rI=ct([Zi],c3),jX=ct([Zi],e=>e.allowDataOverflow),nI=ct([rI,jX],KT),OX=ct([Xh],e=>e.filter(Sx)),TX=ct([_X,OX,B1,fk],Ck),kX=ct([TX,ju,Qi,nI],_k),IX=ct([Xh],Sk),DX=ct([Kh,Zi,IX,Ox,Qi],f3,{memoizeOptions:{resultEqualityCheck:Ex}}),MX=ct([jk,Qi,Gh],Wh),LX=ct([MX,Qi],kk),PX=ct([Ok,Qi,Gh],Wh),RX=ct([PX,Qi],Ik),BX=ct([Tk,Qi,Gh],Wh),FX=ct([BX,Qi],Dk),zX=ct([LX,FX,RX],vg),UX=ct([Zi,rI,nI,kX,DX,zX,wn,Qi],h3),G1=ct([Zi,wn,Kh,E3,B1,Qi,UX],p3),qX=ct([G1,Zi,S3],x3),HX=ct([Zi,G1,qX,Qi],y3),aI=e=>{var t=Qi(e),r=Gh(e),n=!1;return H1(e,t,r,n)},iI=ct([Zi,aI],wx),sI=ct([Zi,S3,HX,iI],g3),VX=ct([wn,E3,Zi,Qi],Uk),GX=ct([wn,E3,Zi,Qi],qk),WX=(e,t,r,n,a,i,c,f)=>{if(t){var{type:m}=t,p=Su(e,f);if(n){var x=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,y=m==="category"&&n.bandwidth?n.bandwidth()/x:0;return y=f==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ds(a[0]-a[1])*2*y:y,p&&c?c.map((S,N)=>({coordinate:n(S)+y,value:S,index:N,offset:y})):n.domain().map((S,N)=>({coordinate:n(S)+y,value:i?i[S]:S,index:N,offset:y}))}}},ku=ct([wn,Zi,S3,sI,aI,VX,GX,Qi],WX),C3=ct([Vk,Gk,tX],(e,t,r)=>Wk(r.shared,e,t)),oI=e=>e.tooltip.settings.trigger,_3=e=>e.tooltip.settings.defaultIndex,W1=ct([$h,C3,oI,_3],Zk),_d=ct([W1,Kh,q1,G1],N3),lI=ct([ku,_d],Yk),j3=ct([W1],e=>{if(e)return e.dataKey}),YX=ct([W1],e=>{if(e)return e.graphicalItemId}),cI=ct([$h,C3,oI,_3],eI),$X=ct([Eu,Cu,wn,Xi,ku,_3,cI,V1],Jk),XX=ct([W1,$X],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),KX=ct([W1],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),QX=ct([cI,_d,ju,q1,lI,V1,C3],tI),ZX=ct([QX],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function QE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(r),!0).forEach(function(n){JX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JX(e,t,r){return(t=eK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eK(e){var t=tK(e,"string");return typeof t=="symbol"?t:t+""}function tK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rK=()=>mr(Zi),nK=()=>{var e=rK(),t=mr(ku),r=mr(sI);return Oh(!e||!r?void 0:ZE(ZE({},e),{},{scale:r}),t)};function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(n){aK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aK(e,t,r){return(t=iK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iK(e){var t=sK(e,"string");return typeof t=="symbol"?t:t+""}function sK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oK=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},lK=(e,t,r,n)=>{var a=t.find(p=>p&&p.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:c}=n;return lh(lh(lh({},n),Mi(n.cx,n.cy,c,i)),{},{angle:i,radius:c})}var f=a.coordinate,{angle:m}=n;return lh(lh(lh({},n),Mi(n.cx,n.cy,f,m)),{},{angle:m,radius:f})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function cK(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var uI=(e,t,r,n,a)=>{var i,c=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var f=0;f<c;f++){var m,p,x,y,S,N=f>0?(m=r[f-1])===null||m===void 0?void 0:m.coordinate:(p=r[c-1])===null||p===void 0?void 0:p.coordinate,j=(x=r[f])===null||x===void 0?void 0:x.coordinate,_=f>=c-1?(y=r[0])===null||y===void 0?void 0:y.coordinate:(S=r[f+1])===null||S===void 0?void 0:S.coordinate,T=void 0;if(!(N==null||j==null||_==null))if(ds(j-N)!==ds(_-j)){var I=[];if(ds(_-j)===ds(a[1]-a[0])){T=_;var R=j+a[1]-a[0];I[0]=Math.min(R,(R+N)/2),I[1]=Math.max(R,(R+N)/2)}else{T=N;var F=_+a[1]-a[0];I[0]=Math.min(j,(F+j)/2),I[1]=Math.max(j,(F+j)/2)}var G=[Math.min(j,(T+j)/2),Math.max(j,(T+j)/2)];if(e>G[0]&&e<=G[1]||e>=I[0]&&e<=I[1]){var Y;return(Y=r[f])===null||Y===void 0?void 0:Y.index}}else{var J=Math.min(N,_),V=Math.max(N,_);if(e>(J+j)/2&&e<=(V+j)/2){var $;return($=r[f])===null||$===void 0?void 0:$.index}}}else if(t)for(var W=0;W<c;W++){var Ne=t[W];if(Ne!=null){var Z=t[W+1],Q=t[W-1];if(W===0&&Z!=null&&e<=(Ne.coordinate+Z.coordinate)/2||W===c-1&&Q!=null&&e>(Ne.coordinate+Q.coordinate)/2||W>0&&W<c-1&&Q!=null&&Z!=null&&e>(Ne.coordinate+Q.coordinate)/2&&e<=(Ne.coordinate+Z.coordinate)/2)return Ne.index}}return-1},dI=()=>mr(Kw),O3=(e,t)=>t,fI=(e,t,r)=>r,T3=(e,t,r,n)=>n,uK=ct(ku,e=>Kg(e,t=>t.coordinate)),k3=ct([$h,O3,fI,T3],Zk),I3=ct([k3,Kh,q1,G1],N3),dK=(e,t,r)=>{if(t!=null){var n=$h(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},hI=ct([$h,O3,fI,T3],eI),yg=ct([Eu,Cu,wn,Xi,ku,T3,hI,V1],Jk),fK=ct([k3,yg],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),pI=ct([ku,I3],Yk),hK=ct([hI,I3,ju,q1,pI,V1,O3],tI),pK=ct([k3,I3],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),mK=(e,t,r,n,a,i,c)=>{if(!(!e||!r||!n||!a)&&cK(e,c)){var f=Kq(e,t),m=uI(f,i,a,r,n),p=oK(t,a,m,e);return{activeIndex:String(m),activeCoordinate:p}}},gK=(e,t,r,n,a,i,c)=>{if(!(!e||!n||!a||!i||!r)){var f=JV(e,r);if(f){var m=Qq(f,t),p=uI(m,c,i,n,a),x=lK(t,i,p,f);return{activeIndex:String(p),activeCoordinate:x}}}},xK=(e,t,r,n,a,i,c,f)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?mK(e,t,n,a,i,c,f):gK(e,t,r,n,a,i,c)},vK=ct(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),yK=ct(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Li)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:r$}});function eC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eC(Object(r),!0).forEach(function(n){bK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bK(e,t,r){return(t=wK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=AK(e,"string");return typeof t=="symbol"?t:t+""}function AK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NK={},SK={zIndexMap:Object.values(Li).reduce((e,t)=>tC(tC({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),NK)},EK=new Set(Object.values(Li));function CK(e){return EK.has(e)}var mI=Do({name:"zIndex",initialState:SK,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Ua()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!CK(r)&&delete e.zIndexMap[r])},prepare:Ua()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Ua()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Ua()}}}),{registerZIndexPortal:_K,unregisterZIndexPortal:jK,registerZIndexPortalElement:OK,unregisterZIndexPortalElement:TK}=mI.actions,kK=mI.reducer;function Mo(e){var{zIndex:t,children:r}=e,n=jH(),a=n&&t!==void 0&&t!==0,i=Hs(),c=Va();M.useLayoutEffect(()=>a?(c(_K({zIndex:t})),()=>{c(jK({zIndex:t}))}):E1,[c,t,a]);var f=mr(m=>vK(m,t,i));return a?f?y1.createPortal(r,f):null:r}function y5(){return y5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y5.apply(null,arguments)}function rC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function om(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(r),!0).forEach(function(n){IK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IK(e,t,r){return(t=DK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DK(e){var t=MK(e,"string");return typeof t=="symbol"?t:t+""}function MK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LK(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return M.isValidElement(t)?M.cloneElement(t,n):M.createElement(r,n)}function PK(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:c,layout:f,cursor:m,tooltipEventType:p,chartName:x}=e,y=r,S=n,N=a;if(!m||!y||x!=="ScatterChart"&&p!=="axis")return null;var j,_,T;if(x==="ScatterChart")j=y,_=hV,T=Li.cursorLine;else if(x==="BarChart")j=pV(f,y,i,c),_=lT,T=Li.cursorRectangle;else if(f==="radial"&&VO(y)){var{cx:I,cy:R,radius:F,startAngle:G,endAngle:Y}=uT(y);j={cx:I,cy:R,startAngle:G,endAngle:Y,innerRadius:F,outerRadius:F},_=fT,T=Li.cursorLine}else j={points:nG(f,y,i)},_=Sh,T=Li.cursorLine;var J=typeof m=="object"&&"className"in m?m.className:void 0,V=om(om(om(om({stroke:"#ccc",pointerEvents:"none"},i),j),mf(m)),{},{payload:S,payloadIndex:N,className:qn("recharts-tooltip-cursor",J)});return M.createElement(Mo,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:T},M.createElement(LK,{cursor:m,cursorComp:_,cursorProps:V}))}function RK(e){var t=nK(),r=V7(),n=Ef(),a=dI();return t==null||r==null||n==null||a==null?null:M.createElement(PK,y5({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var gI=M.createContext(null),BK=()=>M.useContext(gI),By={exports:{}},nC;function FK(){return nC||(nC=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(m,p,x){this.fn=m,this.context=p,this.once=x||!1}function i(m,p,x,y,S){if(typeof x!="function")throw new TypeError("The listener must be a function");var N=new a(x,y||m,S),j=r?r+p:p;return m._events[j]?m._events[j].fn?m._events[j]=[m._events[j],N]:m._events[j].push(N):(m._events[j]=N,m._eventsCount++),m}function c(m,p){--m._eventsCount===0?m._events=new n:delete m._events[p]}function f(){this._events=new n,this._eventsCount=0}f.prototype.eventNames=function(){var p=[],x,y;if(this._eventsCount===0)return p;for(y in x=this._events)t.call(x,y)&&p.push(r?y.slice(1):y);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(x)):p},f.prototype.listeners=function(p){var x=r?r+p:p,y=this._events[x];if(!y)return[];if(y.fn)return[y.fn];for(var S=0,N=y.length,j=new Array(N);S<N;S++)j[S]=y[S].fn;return j},f.prototype.listenerCount=function(p){var x=r?r+p:p,y=this._events[x];return y?y.fn?1:y.length:0},f.prototype.emit=function(p,x,y,S,N,j){var _=r?r+p:p;if(!this._events[_])return!1;var T=this._events[_],I=arguments.length,R,F;if(T.fn){switch(T.once&&this.removeListener(p,T.fn,void 0,!0),I){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,x),!0;case 3:return T.fn.call(T.context,x,y),!0;case 4:return T.fn.call(T.context,x,y,S),!0;case 5:return T.fn.call(T.context,x,y,S,N),!0;case 6:return T.fn.call(T.context,x,y,S,N,j),!0}for(F=1,R=new Array(I-1);F<I;F++)R[F-1]=arguments[F];T.fn.apply(T.context,R)}else{var G=T.length,Y;for(F=0;F<G;F++)switch(T[F].once&&this.removeListener(p,T[F].fn,void 0,!0),I){case 1:T[F].fn.call(T[F].context);break;case 2:T[F].fn.call(T[F].context,x);break;case 3:T[F].fn.call(T[F].context,x,y);break;case 4:T[F].fn.call(T[F].context,x,y,S);break;default:if(!R)for(Y=1,R=new Array(I-1);Y<I;Y++)R[Y-1]=arguments[Y];T[F].fn.apply(T[F].context,R)}}return!0},f.prototype.on=function(p,x,y){return i(this,p,x,y,!1)},f.prototype.once=function(p,x,y){return i(this,p,x,y,!0)},f.prototype.removeListener=function(p,x,y,S){var N=r?r+p:p;if(!this._events[N])return this;if(!x)return c(this,N),this;var j=this._events[N];if(j.fn)j.fn===x&&(!S||j.once)&&(!y||j.context===y)&&c(this,N);else{for(var _=0,T=[],I=j.length;_<I;_++)(j[_].fn!==x||S&&!j[_].once||y&&j[_].context!==y)&&T.push(j[_]);T.length?this._events[N]=T.length===1?T[0]:T:c(this,N)}return this},f.prototype.removeAllListeners=function(p){var x;return p?(x=r?r+p:p,this._events[x]&&c(this,x)):(this._events=new n,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=r,f.EventEmitter=f,e.exports=f}(By)),By.exports}var zK=FK();const UK=Dc(zK);var x1=new UK,b5="recharts.syncEvent.tooltip",aC="recharts.syncEvent.brush";function D3(e,t){if(t){var r=Number.parseInt(t,10);if(!yl(r))return e==null?void 0:e[r]}}var qK={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},xI=Do({name:"options",initialState:qK,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),HK=xI.reducer,{createEventEmitter:VK}=xI.actions;function GK(e){return e.tooltip.syncInteraction}var WK={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},vI=Do({name:"chartData",initialState:WK,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:iC,setDataStartEndIndexes:YK,setComputedData:nse}=vI.actions,$K=vI.reducer,XK=["x","y"];function sC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(r),!0).forEach(function(n){KK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KK(e,t,r){return(t=QK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QK(e){var t=ZK(e,"string");return typeof t=="symbol"?t:t+""}function ZK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JK(e,t){if(e==null)return{};var r,n,a=eQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tQ(){var e=mr(Qw),t=mr(Zw),r=Va(),n=mr(hk),a=mr(ku),i=Ef(),c=cx(),f=mr(m=>m.rootProps.className);M.useEffect(()=>{if(e==null)return E1;var m=(p,x,y)=>{if(t!==y&&e===p){if(n==="index"){var S;if(c&&x!==null&&x!==void 0&&(S=x.payload)!==null&&S!==void 0&&S.coordinate&&x.payload.sourceViewBox){var N=x.payload.coordinate,{x:j,y:_}=N,T=JK(N,XK),{x:I,y:R,width:F,height:G}=x.payload.sourceViewBox,Y=ch(ch({},T),{},{x:c.x+(F?(j-I)/F:0)*c.width,y:c.y+(G?(_-R)/G:0)*c.height});r(ch(ch({},x),{},{payload:ch(ch({},x.payload),{},{coordinate:Y})}))}else r(x);return}if(a!=null){var J;if(typeof n=="function"){var V={activeTooltipIndex:x.payload.index==null?void 0:Number(x.payload.index),isTooltipActive:x.payload.active,activeIndex:x.payload.index==null?void 0:Number(x.payload.index),activeLabel:x.payload.label,activeDataKey:x.payload.dataKey,activeCoordinate:x.payload.coordinate},$=n(a,V);J=a[$]}else n==="value"&&(J=a.find(ie=>String(ie.value)===x.payload.label));var{coordinate:W}=x.payload;if(J==null||x.payload.active===!1||W==null||c==null){r(x5({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:Ne,y:Z}=W,Q=Math.min(Ne,c.x+c.width),me=Math.min(Z,c.y+c.height),re={x:i==="horizontal"?J.coordinate:Q,y:i==="horizontal"?me:J.coordinate},q=x5({active:x.payload.active,coordinate:re,dataKey:x.payload.dataKey,index:String(J.index),label:x.payload.label,sourceViewBox:x.payload.sourceViewBox,graphicalItemId:x.payload.graphicalItemId});r(q)}}};return x1.on(b5,m),()=>{x1.off(b5,m)}},[f,r,t,e,n,a,i,c])}function rQ(){var e=mr(Qw),t=mr(Zw),r=Va();M.useEffect(()=>{if(e==null)return E1;var n=(a,i,c)=>{t!==c&&e===a&&r(YK(i))};return x1.on(aC,n),()=>{x1.off(aC,n)}},[r,t,e])}function nQ(){var e=Va();M.useEffect(()=>{e(VK())},[e]),tQ(),rQ()}function aQ(e,t,r,n,a,i){var c=mr(N=>dK(N,e,t)),f=mr(Zw),m=mr(Qw),p=mr(hk),x=mr(GK),y=x==null?void 0:x.active,S=cx();M.useEffect(()=>{if(!y&&m!=null&&f!=null){var N=x5({active:i,coordinate:r,dataKey:c,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:S,graphicalItemId:void 0});x1.emit(b5,m,N,f)}},[y,r,c,a,n,f,m,p,i,S])}function oC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(r),!0).forEach(function(n){iQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iQ(e,t,r){return(t=sQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sQ(e){var t=oQ(e,"string");return typeof t=="symbol"?t:t+""}function oQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lQ(e){return e.dataKey}function cQ(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(WH,t)}var cC=[],uQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function lm(e){var t,r,n=fs(e,uQ),{active:a,allowEscapeViewBox:i,animationDuration:c,animationEasing:f,content:m,filterNull:p,isAnimationActive:x,offset:y,payloadUniqBy:S,position:N,reverseDirection:j,useTranslate3d:_,wrapperStyle:T,cursor:I,shared:R,trigger:F,defaultIndex:G,portal:Y,axisId:J}=n,V=Va(),$=typeof G=="number"?String(G):G;M.useEffect(()=>{V(sX({shared:R,trigger:F,axisId:J,active:a,defaultIndex:$}))},[V,R,F,J,a,$]);var W=cx(),Ne=nT(),Z=eX(R),{activeIndex:Q,isActive:me}=(t=mr(le=>pK(le,Z,F,$)))!==null&&t!==void 0?t:{},re=mr(le=>hK(le,Z,F,$)),q=mr(le=>pI(le,Z,F,$)),ie=mr(le=>fK(le,Z,F,$)),oe=re,de=BK(),ee=(r=a??me)!==null&&r!==void 0?r:!1,[Ae,ce]=LU([oe,ee]),U=Z==="axis"?q:void 0;aQ(Z,F,ie,U,Q,ee);var H=Y??de;if(H==null||W==null||Z==null)return null;var se=oe??cC;ee||(se=cC),p&&se.length&&(se=oU(se.filter(le=>le.value!=null&&(le.hide!==!0||n.includeHidden)),S,lQ));var ve=se.length>0,ne=M.createElement(JH,{allowEscapeViewBox:i,animationDuration:c,animationEasing:f,isAnimationActive:x,active:ee,coordinate:ie,hasPayload:ve,offset:y,position:N,reverseDirection:j,useTranslate3d:_,viewBox:W,wrapperStyle:T,lastBoundingBox:Ae,innerRef:ce,hasPortalFromProps:!!Y},cQ(m,lC(lC({},n),{},{payload:se,label:U,active:ee,activeIndex:Q,coordinate:ie,accessibilityLayer:Ne})));return M.createElement(M.Fragment,null,y1.createPortal(ne,H),ee&&M.createElement(RK,{cursor:I,tooltipEventType:Z,coordinate:ie,payload:se,index:Q}))}var uf=e=>null;uf.displayName="Cell";function dQ(e,t,r){return(t=fQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fQ(e){var t=hQ(e,"string");return typeof t=="symbol"?t:t+""}function hQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class pQ{constructor(t){dQ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function uC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(r),!0).forEach(function(n){gQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gQ(e,t,r){return(t=xQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xQ(e){var t=vQ(e,"string");return typeof t=="symbol"?t:t+""}function vQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yQ={cacheSize:2e3,enableCache:!0},yI=mQ({},yQ),dC=new pQ(yI.cacheSize),bQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fC="recharts_measurement_span";function wQ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",c=t.letterSpacing||"",f=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(c,"|").concat(f)}var hC=(e,t)=>{try{var r=document.getElementById(fC);r||(r=document.createElement("span"),r.setAttribute("id",fC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,bQ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},J0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||k1.isSsr)return{width:0,height:0};if(!yI.enableCache)return hC(t,r);var n=wQ(t,r),a=dC.get(n);if(a)return a;var i=hC(t,r);return dC.set(n,i),i},bI;function AQ(e,t,r){return(t=NQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NQ(e){var t=SQ(e,"string");return typeof t=="symbol"?t:t+""}function SQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,CQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_Q={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jQ=["cm","mm","pt","pc","in","Q","px"];function OQ(e){return jQ.includes(e)}var mh="NaN";function TQ(e,t){return e*_Q[t]}class Ns{static parse(t){var r,[,n,a]=(r=CQ.exec(t))!==null&&r!==void 0?r:[];return n==null?Ns.NaN:new Ns(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,yl(t)&&(this.unit=""),r!==""&&!EQ.test(r)&&(this.num=NaN,this.unit=""),OQ(r)&&(this.num=TQ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ns(NaN,""):new Ns(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ns(NaN,""):new Ns(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ns(NaN,""):new Ns(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ns(NaN,""):new Ns(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return yl(this.num)}}bI=Ns;AQ(Ns,"NaN",new bI(NaN,""));function wI(e){if(e==null||e.includes(mh))return mh;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=pC.exec(t))!==null&&r!==void 0?r:[],c=Ns.parse(n??""),f=Ns.parse(i??""),m=a==="*"?c.multiply(f):c.divide(f);if(m.isNaN())return mh;t=t.replace(pC,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,[,x,y,S]=(p=mC.exec(t))!==null&&p!==void 0?p:[],N=Ns.parse(x??""),j=Ns.parse(S??""),_=y==="+"?N.add(j):N.subtract(j);if(_.isNaN())return mh;t=t.replace(mC,_.toString())}return t}var gC=/\(([^()]*)\)/;function kQ(e){for(var t=e,r;(r=gC.exec(t))!=null;){var[,n]=r;t=t.replace(gC,wI(n))}return t}function IQ(e){var t=e.replace(/\s+/g,"");return t=kQ(t),t=wI(t),t}function DQ(e){try{return IQ(e)}catch{return mh}}function Fy(e){var t=DQ(e.slice(5,-1));return t===mh?"":t}var MQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],LQ=["dx","dy","angle","className","breakAll"];function w5(){return w5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w5.apply(null,arguments)}function xC(e,t){if(e==null)return{};var r,n,a=PQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AI=/[ \f\n\r\t\v\u2028\u2029]+/,NI=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Ka(t)||(r?a=t.toString().split(""):a=t.toString().split(AI));var i=a.map(f=>({word:f,width:J0(f,n).width})),c=r?0:J0("",n).width;return{wordsWithComputedWidth:i,spaceWidth:c}}catch{return null}};function RQ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var SI=(e,t,r,n)=>e.reduce((a,i)=>{var{word:c,width:f}=i,m=a[a.length-1];if(m&&f!=null&&(t==null||n||m.width+f+r<Number(t)))m.words.push(c),m.width+=f+r;else{var p={words:[c],width:f};a.push(p)}return a},[]),EI=e=>e.reduce((t,r)=>t.width>r.width?t:r),BQ="",vC=(e,t,r,n,a,i,c,f)=>{var m=e.slice(0,t),p=NI({breakAll:r,style:n,children:m+BQ});if(!p)return[!1,[]];var x=SI(p.wordsWithComputedWidth,i,c,f),y=x.length>a||EI(x).width>Number(i);return[y,x]},FQ=(e,t,r,n,a)=>{var{maxLines:i,children:c,style:f,breakAll:m}=e,p=ir(i),x=String(c),y=SI(t,n,r,a);if(!p||a)return y;var S=y.length>i||EI(y).width>Number(n);if(!S)return y;for(var N=0,j=x.length-1,_=0,T;N<=j&&_<=x.length-1;){var I=Math.floor((N+j)/2),R=I-1,[F,G]=vC(x,R,m,f,i,n,r,a),[Y]=vC(x,I,m,f,i,n,r,a);if(!F&&!Y&&(N=I+1),F&&Y&&(j=I-1),!F&&Y){T=G;break}_++}return T||y},yC=e=>{var t=Ka(e)?[]:e.toString().split(AI);return[{words:t,width:void 0}]},zQ=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:c}=e;if((t||r)&&!k1.isSsr){var f,m,p=NI({breakAll:i,children:n,style:a});if(p){var{wordsWithComputedWidth:x,spaceWidth:y}=p;f=x,m=y}else return yC(n);return FQ({breakAll:i,children:n,maxLines:c,style:a},f,m,t,!!r)}return yC(n)},CI="#808080",UQ={angle:0,breakAll:!1,capHeight:"0.71em",fill:CI,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Dx=M.forwardRef((e,t)=>{var r=fs(e,UQ),{x:n,y:a,lineHeight:i,capHeight:c,fill:f,scaleToFit:m,textAnchor:p,verticalAnchor:x}=r,y=xC(r,MQ),S=M.useMemo(()=>zQ({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:m,style:y.style,width:y.width}),[y.breakAll,y.children,y.maxLines,m,y.style,y.width]),{dx:N,dy:j,angle:_,className:T,breakAll:I}=y,R=xC(y,LQ);if(!Tc(n)||!Tc(a)||S.length===0)return null;var F=Number(n)+(ir(N)?N:0),G=Number(a)+(ir(j)?j:0);if(!ga(F)||!ga(G))return null;var Y;switch(x){case"start":Y=Fy("calc(".concat(c,")"));break;case"middle":Y=Fy("calc(".concat((S.length-1)/2," * -").concat(i," + (").concat(c," / 2))"));break;default:Y=Fy("calc(".concat(S.length-1," * -").concat(i,")"));break}var J=[];if(m){var V=S[0].width,{width:$}=y;J.push("scale(".concat(ir($)&&ir(V)?$/V:1,")"))}return _&&J.push("rotate(".concat(_,", ").concat(F,", ").concat(G,")")),J.length&&(R.transform=J.join(" ")),M.createElement("text",w5({},ao(R),{ref:t,x:F,y:G,className:qn("recharts-text",T),textAnchor:p,fill:f.includes("url")?CI:f}),S.map((W,Ne)=>{var Z=W.words.join(I?"":" ");return M.createElement("tspan",{x:F,dy:Ne===0?Y:i,key:"".concat(Z,"-").concat(Ne)},Z)}))});Dx.displayName="Text";var qQ=["labelRef"],HQ=["content"];function bC(e,t){if(e==null)return{};var r,n,a=VQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(r),!0).forEach(function(n){GQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GQ(e,t,r){return(t=WQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WQ(e){var t=YQ(e,"string");return typeof t=="symbol"?t:t+""}function YQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uu.apply(null,arguments)}var _I=M.createContext(null),$Q=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:c,children:f}=e,m=M.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:c}),[t,r,n,a,i,c]);return M.createElement(_I.Provider,{value:m},f)},jI=()=>{var e=M.useContext(_I),t=cx();return e||H7(t)},XQ=M.createContext(null),KQ=()=>{var e=M.useContext(XQ),t=mr(vk);return e||t},QQ=e=>{var{value:t,formatter:r}=e,n=Ka(e.children)?t:e.children;return typeof r=="function"?r(n):n},M3=e=>e!=null&&typeof e=="function",ZQ=(e,t)=>{var r=ds(t-e),n=Math.min(Math.abs(t-e),360);return r*n},JQ=(e,t,r,n,a)=>{var{offset:i,className:c}=e,{cx:f,cy:m,innerRadius:p,outerRadius:x,startAngle:y,endAngle:S,clockWise:N}=a,j=(p+x)/2,_=ZQ(y,S),T=_>=0?1:-1,I,R;switch(t){case"insideStart":I=y+T*i,R=N;break;case"insideEnd":I=S-T*i,R=!N;break;case"end":I=S+T*i,R=N;break;default:throw new Error("Unsupported position ".concat(t))}R=_<=0?R:!R;var F=Mi(f,m,j,I),G=Mi(f,m,j,I+(R?1:-1)*359),Y="M".concat(F.x,",").concat(F.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(R?0:1,`,
    `).concat(G.x,",").concat(G.y),J=Ka(e.id)?a1("recharts-radial-line-"):e.id;return M.createElement("text",uu({},n,{dominantBaseline:"central",className:qn("recharts-radial-bar-label",c)}),M.createElement("defs",null,M.createElement("path",{id:J,d:Y})),M.createElement("textPath",{xlinkHref:"#".concat(J)},r))},eZ=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:c,startAngle:f,endAngle:m}=e,p=(f+m)/2;if(r==="outside"){var{x,y}=Mi(n,a,c+t,p);return{x,y,textAnchor:x>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var S=(i+c)/2,{x:N,y:j}=Mi(n,a,S,p);return{x:N,y:j,textAnchor:"middle",verticalAnchor:"middle"}},A5=e=>"cx"in e&&ir(e.cx),tZ=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!A5(r)&&(i=r);var{x:c,y:f,upperWidth:m,lowerWidth:p,height:x}=t,y=c,S=c+(m-p)/2,N=(y+S)/2,j=(m+p)/2,_=y+m/2,T=x>=0?1:-1,I=T*n,R=T>0?"end":"start",F=T>0?"start":"end",G=m>=0?1:-1,Y=G*n,J=G>0?"end":"start",V=G>0?"start":"end";if(a==="top"){var $={x:y+m/2,y:f-I,textAnchor:"middle",verticalAnchor:R};return hi(hi({},$),i?{height:Math.max(f-i.y,0),width:m}:{})}if(a==="bottom"){var W={x:S+p/2,y:f+x+I,textAnchor:"middle",verticalAnchor:F};return hi(hi({},W),i?{height:Math.max(i.y+i.height-(f+x),0),width:p}:{})}if(a==="left"){var Ne={x:N-Y,y:f+x/2,textAnchor:J,verticalAnchor:"middle"};return hi(hi({},Ne),i?{width:Math.max(Ne.x-i.x,0),height:x}:{})}if(a==="right"){var Z={x:N+j+Y,y:f+x/2,textAnchor:V,verticalAnchor:"middle"};return hi(hi({},Z),i?{width:Math.max(i.x+i.width-Z.x,0),height:x}:{})}var Q=i?{width:j,height:x}:{};return a==="insideLeft"?hi({x:N+Y,y:f+x/2,textAnchor:V,verticalAnchor:"middle"},Q):a==="insideRight"?hi({x:N+j-Y,y:f+x/2,textAnchor:J,verticalAnchor:"middle"},Q):a==="insideTop"?hi({x:y+m/2,y:f+I,textAnchor:"middle",verticalAnchor:F},Q):a==="insideBottom"?hi({x:S+p/2,y:f+x-I,textAnchor:"middle",verticalAnchor:R},Q):a==="insideTopLeft"?hi({x:y+Y,y:f+I,textAnchor:V,verticalAnchor:F},Q):a==="insideTopRight"?hi({x:y+m-Y,y:f+I,textAnchor:J,verticalAnchor:F},Q):a==="insideBottomLeft"?hi({x:S+Y,y:f+x-I,textAnchor:V,verticalAnchor:R},Q):a==="insideBottomRight"?hi({x:S+p-Y,y:f+x-I,textAnchor:J,verticalAnchor:R},Q):a&&typeof a=="object"&&(ir(a.x)||gu(a.x))&&(ir(a.y)||gu(a.y))?hi({x:c+Us(a.x,j),y:f+Us(a.y,x),textAnchor:"end",verticalAnchor:"end"},Q):hi({x:_,y:f+x/2,textAnchor:"middle",verticalAnchor:"middle"},Q)},rZ={angle:0,offset:5,zIndex:Li.label,position:"middle",textBreakAll:!1};function cd(e){var t=fs(e,rZ),{viewBox:r,position:n,value:a,children:i,content:c,className:f="",textBreakAll:m,labelRef:p}=t,x=KQ(),y=jI(),S=n==="center"?y:x??y,N,j,_;if(r==null?N=S:A5(r)?N=r:N=H7(r),!N||Ka(a)&&Ka(i)&&!M.isValidElement(c)&&typeof c!="function")return null;var T=hi(hi({},t),{},{viewBox:N});if(M.isValidElement(c)){var{labelRef:I}=T,R=bC(T,qQ);return M.cloneElement(c,R)}if(typeof c=="function"){var{content:F}=T,G=bC(T,HQ);if(j=M.createElement(c,G),M.isValidElement(j))return j}else j=QQ(t);var Y=ao(t);if(A5(N)){if(n==="insideStart"||n==="insideEnd"||n==="end")return JQ(t,n,j,Y,N);_=eZ(N,t.offset,t.position)}else _=tZ(t,N);return M.createElement(Mo,{zIndex:t.zIndex},M.createElement(Dx,uu({ref:p,className:qn("recharts-label",f)},Y,_,{textAnchor:RQ(Y.textAnchor)?Y.textAnchor:_.textAnchor,breakAll:m}),j))}cd.displayName="Label";var nZ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?M.createElement(cd,uu({key:"label-implicit"},n)):Tc(e)?M.createElement(cd,uu({key:"label-implicit",value:e},n)):M.isValidElement(e)?e.type===cd?M.cloneElement(e,hi({key:"label-implicit"},n)):M.createElement(cd,uu({key:"label-implicit",content:e},n)):M3(e)?M.createElement(cd,uu({key:"label-implicit",content:e},n)):e&&typeof e=="object"?M.createElement(cd,uu({},e,{key:"label-implicit"},n)):null};function aZ(e){var{label:t,labelRef:r}=e,n=jI();return nZ(t,n,r)||null}var zy={},Uy={},AC;function iZ(){return AC||(AC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t}(Uy)),Uy}var qy={},NC;function sZ(){return NC||(NC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t}(qy)),qy}var SC;function oZ(){return SC||(SC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iZ(),r=sZ(),n=dw();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a}(zy)),zy}var Hy,EC;function lZ(){return EC||(EC=1,Hy=oZ().last),Hy}var cZ=lZ();const uZ=Dc(cZ);var dZ=["valueAccessor"],fZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(null,arguments)}function CC(e,t){if(e==null)return{};var r,n,a=hZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pZ=e=>Array.isArray(e.value)?uZ(e.value):e.value,OI=M.createContext(void 0),TI=OI.Provider,kI=M.createContext(void 0),mZ=kI.Provider;function gZ(){return M.useContext(OI)}function xZ(){return M.useContext(kI)}function _m(e){var{valueAccessor:t=pZ}=e,r=CC(e,dZ),{dataKey:n,clockWise:a,id:i,textBreakAll:c,zIndex:f}=r,m=CC(r,fZ),p=gZ(),x=xZ(),y=p||x;return!y||!y.length?null:M.createElement(Mo,{zIndex:f??Li.label},M.createElement(yi,{className:"recharts-label-list"},y.map((S,N)=>{var j,_=Ka(n)?t(S,N):ia(S&&S.payload,n),T=Ka(i)?{}:{id:"".concat(i,"-").concat(N)};return M.createElement(cd,bg({key:"label-".concat(N)},ao(S),m,T,{fill:(j=r.fill)!==null&&j!==void 0?j:S.fill,parentViewBox:S.parentViewBox,value:_,textBreakAll:c,viewBox:S.viewBox,index:N,zIndex:0}))})))}_m.displayName="LabelList";function L3(e){var{label:t}=e;return t?t===!0?M.createElement(_m,{key:"labelList-implicit"}):M.isValidElement(t)||M3(t)?M.createElement(_m,{key:"labelList-implicit",content:t}):typeof t=="object"?M.createElement(_m,bg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function N5(){return N5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N5.apply(null,arguments)}var II=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=qn("recharts-dot",a);return ir(t)&&ir(r)&&ir(n)?M.createElement("circle",N5({},ko(e),uw(e),{className:i,cx:t,cy:r,r:n})):null},DI=e=>e.graphicalItems.polarItems,vZ=ct([Ga,F1],n3),Mx=ct([DI,Qa,vZ],a3),yZ=ct([Mx],i3),Lx=ct([yZ,bx],s3),bZ=ct([Lx,Qa,Mx],l3);ct([Lx,Qa,Mx],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,c=ia(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ia(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var _C=()=>{},wZ=ct([Lx,Qa,Mx,Ox,Ga],f3),AZ=ct([Qa,u3,d3,_C,wZ,_C,wn,Ga],h3),MI=ct([Qa,wn,Lx,bZ,B1,Ga,AZ],p3),NZ=ct([MI,Qa,Yh],x3);ct([Qa,MI,NZ,Ga],y3);var SZ={radiusAxis:{},angleAxis:{}},LI=Do({name:"polarAxis",initialState:SZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:ase,removeRadiusAxis:ise,addAngleAxis:sse,removeAngleAxis:ose}=LI.actions,EZ=LI.reducer;function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){CZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CZ(e,t,r){return(t=_Z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Z(e){var t=jZ(e,"string");return typeof t=="symbol"?t:t+""}function jZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OZ=(e,t)=>t,P3=ct([DI,OZ],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),TZ=[],R3=(e,t,r)=>(r==null?void 0:r.length)===0?TZ:r,PI=ct([bx,P3,R3],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>OC(OC({},t.presentationProps),i.props))),a!=null)return a}}),kZ=ct([PI,P3,R3],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,c=ia(n,t.nameKey,t.name),f;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?f=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?f=n.fill:f=t.fill,{value:Uh(c,t.dataKey),color:f,payload:n,type:t.legendType}})}),IZ=ct([PI,P3,R3,Xi],(e,t,r,n)=>{if(!(t==null||e==null))return MJ({offset:n,pieSettings:t,displayedData:e,cells:r})}),Vy={exports:{}},aa={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TC;function DZ(){if(TC)return aa;TC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),S=Symbol.for("react.view_transition"),N=Symbol.for("react.client.reference");function j(_){if(typeof _=="object"&&_!==null){var T=_.$$typeof;switch(T){case e:switch(_=_.type,_){case r:case a:case n:case m:case p:case S:return _;default:switch(_=_&&_.$$typeof,_){case c:case f:case y:case x:return _;case i:return _;default:return T}}case t:return T}}}return aa.ContextConsumer=i,aa.ContextProvider=c,aa.Element=e,aa.ForwardRef=f,aa.Fragment=r,aa.Lazy=y,aa.Memo=x,aa.Portal=t,aa.Profiler=a,aa.StrictMode=n,aa.Suspense=m,aa.SuspenseList=p,aa.isContextConsumer=function(_){return j(_)===i},aa.isContextProvider=function(_){return j(_)===c},aa.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},aa.isForwardRef=function(_){return j(_)===f},aa.isFragment=function(_){return j(_)===r},aa.isLazy=function(_){return j(_)===y},aa.isMemo=function(_){return j(_)===x},aa.isPortal=function(_){return j(_)===t},aa.isProfiler=function(_){return j(_)===a},aa.isStrictMode=function(_){return j(_)===n},aa.isSuspense=function(_){return j(_)===m},aa.isSuspenseList=function(_){return j(_)===p},aa.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===a||_===n||_===m||_===p||typeof _=="object"&&_!==null&&(_.$$typeof===y||_.$$typeof===x||_.$$typeof===c||_.$$typeof===i||_.$$typeof===f||_.$$typeof===N||_.getModuleId!==void 0)},aa.typeOf=j,aa}var kC;function MZ(){return kC||(kC=1,Vy.exports=DZ()),Vy.exports}var LZ=MZ(),IC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",DC=null,Gy=null,RI=e=>{if(e===DC&&Array.isArray(Gy))return Gy;var t=[];return M.Children.forEach(e,r=>{Ka(r)||(LZ.isFragment(r)?t=t.concat(RI(r.props.children)):t.push(r))}),Gy=t,DC=e,t};function B3(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>IC(a)):n=[IC(t)],RI(e).forEach(a=>{var i=xf(a,"type.displayName")||xf(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var BI=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Wy={},MC;function PZ(){return MC||(MC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t}(Wy)),Wy}var Yy,LC;function RZ(){return LC||(LC=1,Yy=PZ().isPlainObject),Yy}var BZ=RZ();const FZ=Dc(BZ);var PC,RC,BC,FC,zC;function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(n){zZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zZ(e,t,r){return(t=UZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UZ(e){var t=qZ(e,"string");return typeof t=="symbol"?t:t+""}function qZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(null,arguments)}function V0(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var HC=(e,t,r,n,a)=>{var i=r-n,c;return c=oi(PC||(PC=V0(["M ",",",""])),e,t),c+=oi(RC||(RC=V0(["L ",",",""])),e+r,t),c+=oi(BC||(BC=V0(["L ",",",""])),e+r-i/2,t+a),c+=oi(FC||(FC=V0(["L ",",",""])),e+r-i/2-n,t+a),c+=oi(zC||(zC=V0(["L ",","," Z"])),e,t),c},HZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VZ=e=>{var t=fs(e,HZ),{x:r,y:n,upperWidth:a,lowerWidth:i,height:c,className:f}=t,{animationEasing:m,animationDuration:p,animationBegin:x,isUpdateAnimationActive:y}=t,S=M.useRef(null),[N,j]=M.useState(-1),_=M.useRef(a),T=M.useRef(i),I=M.useRef(c),R=M.useRef(r),F=M.useRef(n),G=D1(e,"trapezoid-");if(M.useEffect(()=>{if(S.current&&S.current.getTotalLength)try{var re=S.current.getTotalLength();re&&j(re)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||c!==+c||a===0&&i===0||c===0)return null;var Y=qn("recharts-trapezoid",f);if(!y)return M.createElement("g",null,M.createElement("path",wg({},ao(t),{className:Y,d:HC(r,n,a,i,c)})));var J=_.current,V=T.current,$=I.current,W=R.current,Ne=F.current,Z="0px ".concat(N===-1?1:N,"px"),Q="".concat(N,"px 0px"),me=aT(["strokeDasharray"],p,m);return M.createElement(I1,{animationId:G,key:G,canBegin:N>0,duration:p,easing:m,isActive:y,begin:x},re=>{var q=Ta(J,a,re),ie=Ta(V,i,re),oe=Ta($,c,re),de=Ta(W,r,re),ee=Ta(Ne,n,re);S.current&&(_.current=q,T.current=ie,I.current=oe,R.current=de,F.current=ee);var Ae=re>0?{transition:me,strokeDasharray:Q}:{strokeDasharray:Z};return M.createElement("path",wg({},ao(t),{className:Y,d:HC(de,ee,q,ie,oe),ref:S,style:qC(qC({},Ae),t.style)}))})},GZ=["option","shapeType","activeClassName"];function WZ(e,t){if(e==null)return{};var r,n,a=YZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ag(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(n){$Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Z(e,t,r){return(t=XZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XZ(e){var t=KZ(e,"string");return typeof t=="symbol"?t:t+""}function KZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QZ(e,t){return Ag(Ag({},t),e)}function ZZ(e,t){return e==="symbols"}function GC(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return M.createElement(lT,r);case"trapezoid":return M.createElement(VZ,r);case"sector":return M.createElement(fT,r);case"symbols":if(ZZ(t))return M.createElement(HO,r);break;case"curve":return M.createElement(Sh,r);default:return null}}function JZ(e){return M.isValidElement(e)?e.props:e}function FI(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=WZ(e,GZ),i;if(M.isValidElement(t))i=M.cloneElement(t,Ag(Ag({},a),JZ(t)));else if(typeof t=="function")i=t(a,a.index);else if(FZ(t)&&typeof t!="boolean"){var c=QZ(t,a);i=M.createElement(GC,{shapeType:r,elementProps:c})}else{var f=a;i=M.createElement(GC,{shapeType:r,elementProps:f})}return a.isActive?M.createElement(yi,{className:n},i):i}var F3=(e,t,r)=>{var n=Va();return(a,i)=>c=>{e==null||e(a,i,c),n(Xk({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},z3=e=>{var t=Va();return(r,n)=>a=>{e==null||e(r,n,a),t(oX())}},U3=(e,t,r)=>{var n=Va();return(a,i)=>c=>{e==null||e(a,i,c),n(lX({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function q3(e){var{tooltipEntrySettings:t}=e,r=Va(),n=Hs(),a=M.useRef(null);return M.useLayoutEffect(()=>{n||(a.current===null?r(nX(t)):a.current!==t&&r(aX({prev:a.current,next:t})),a.current=t)},[t,r,n]),M.useLayoutEffect(()=>()=>{a.current&&(r(iX(a.current)),a.current=null)},[r]),null}function zI(e){var{legendPayload:t}=e,r=Va(),n=Hs(),a=M.useRef(null);return M.useLayoutEffect(()=>{n||(a.current===null?r(eT(t)):a.current!==t&&r(tT({prev:a.current,next:t})),a.current=t)},[r,n,t]),M.useLayoutEffect(()=>()=>{a.current&&(r(rT(a.current)),a.current=null)},[r]),null}function eJ(e){var{legendPayload:t}=e,r=Va(),n=mr(wn),a=M.useRef(null);return M.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(eT(t)):a.current!==t&&r(tT({prev:a.current,next:t})),a.current=t)},[r,n,t]),M.useLayoutEffect(()=>()=>{a.current&&(r(rT(a.current)),a.current=null)},[r]),null}var $y,tJ=()=>{var[e]=M.useState(()=>a1("uid-"));return e},rJ=($y=z_.useId)!==null&&$y!==void 0?$y:tJ;function nJ(e,t){var r=rJ();return t||(e?"".concat(e,"-").concat(r):r)}var aJ=M.createContext(void 0),H3=e=>{var{id:t,type:r,children:n}=e,a=nJ("recharts-".concat(r),t);return M.createElement(aJ.Provider,{value:a},n(a))},iJ={cartesianItems:[],polarItems:[]},UI=Do({name:"graphicalItems",initialState:iJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ua()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Yl(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Ua()},removeCartesianGraphicalItem:{reducer(e,t){var r=Yl(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ua()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ua()},removePolarGraphicalItem:{reducer(e,t){var r=Yl(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ua()}}}),{addCartesianGraphicalItem:sJ,replaceCartesianGraphicalItem:oJ,removeCartesianGraphicalItem:lJ,addPolarGraphicalItem:cJ,removePolarGraphicalItem:uJ}=UI.actions,dJ=UI.reducer,fJ=e=>{var t=Va(),r=M.useRef(null);return M.useLayoutEffect(()=>{r.current===null?t(sJ(e)):r.current!==e&&t(oJ({prev:r.current,next:e})),r.current=e},[t,e]),M.useLayoutEffect(()=>()=>{r.current&&(t(lJ(r.current)),r.current=null)},[t]),null},qI=M.memo(fJ);function hJ(e){var t=Va();return M.useLayoutEffect(()=>(t(cJ(e)),()=>{t(uJ(e))}),[t,e]),null}var pJ=["key"],mJ=["onMouseEnter","onClick","onMouseLeave"],gJ=["id"],xJ=["id"];function WC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(r),!0).forEach(function(n){vJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vJ(e,t,r){return(t=yJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yJ(e){var t=bJ(e,"string");return typeof t=="symbol"?t:t+""}function bJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jd.apply(null,arguments)}function Px(e,t){if(e==null)return{};var r,n,a=wJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function AJ(e){var t=M.useMemo(()=>B3(e.children,uf),[e.children]),r=mr(n=>kZ(n,e.id,t));return r==null?null:M.createElement(eJ,{legendPayload:r})}var NJ=M.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:c,name:f,hide:m,tooltipType:p,id:x}=e,y={dataDefinedOnItem:n.map(S=>S.tooltipPayload),positions:n.map(S=>S.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:c,dataKey:t,nameKey:r,name:Uh(f,t),hide:m,type:p,color:c,unit:"",graphicalItemId:x}};return M.createElement(q3,{tooltipEntrySettings:y})}),SJ=(e,t)=>e>t?"start":e<t?"end":"middle",EJ=(e,t,r)=>Us(typeof t=="function"?t(e):t,r,r*.8),CJ=(e,t,r)=>{var{top:n,left:a,width:i,height:c}=t,f=cT(i,c),m=a+Us(e.cx,i,i/2),p=n+Us(e.cy,c,c/2),x=Us(e.innerRadius,f,0),y=EJ(r,e.outerRadius,f),S=e.maxRadius||Math.sqrt(i*i+c*c)/2;return{cx:m,cy:p,innerRadius:x,outerRadius:y,maxRadius:S}},_J=(e,t)=>{var r=ds(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function jJ(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var OJ=(e,t)=>{if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return e(t);var r=qn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=Px(t,pJ);return M.createElement(Sh,jd({},a,{type:"linear",className:r}))},TJ=(e,t,r)=>{if(M.isValidElement(e))return M.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),M.isValidElement(n)))return n;var a=qn("recharts-pie-label-text",jJ(e));return M.createElement(Dx,jd({},t,{alignmentBaseline:"middle",className:a}),n)};function kJ(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:c}=r;if(!n||!a||!t)return null;var f=ko(r),m=mf(a),p=mf(i),x=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,y=t.map((S,N)=>{var j=(S.startAngle+S.endAngle)/2,_=Mi(S.cx,S.cy,S.outerRadius+x,j),T=li(li(li(li({},f),S),{},{stroke:"none"},m),{},{index:N,textAnchor:SJ(_.x,S.cx)},_),I=li(li(li(li({},f),S),{},{fill:"none",stroke:S.fill},p),{},{index:N,points:[Mi(S.cx,S.cy,S.outerRadius,j),_],key:"line"});return M.createElement(Mo,{zIndex:Li.label,key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(N)},M.createElement(yi,null,i&&OJ(i,I),TJ(a,T,ia(S,c))))});return M.createElement(yi,{className:"recharts-pie-labels"},y)}function IJ(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?M.createElement(L3,{label:a}):M.createElement(kJ,{sectors:t,props:r,showLabels:n})}function DJ(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:i,id:c}=e,f=mr(_d),m=mr(j3),p=mr(YX),{onMouseEnter:x,onClick:y,onMouseLeave:S}=a,N=Px(a,mJ),j=F3(x,a.dataKey,c),_=z3(S),T=U3(y,a.dataKey,c);return t==null||t.length===0?null:M.createElement(M.Fragment,null,t.map((I,R)=>{if((I==null?void 0:I.startAngle)===0&&(I==null?void 0:I.endAngle)===0&&t.length!==1)return null;var F=p==null||p===c,G=String(R)===f&&(m==null||a.dataKey===m)&&F,Y=f?n:null,J=r&&G?r:Y,V=li(li({},I),{},{stroke:I.stroke,tabIndex:-1,[B7]:R,[F7]:c});return M.createElement(yi,jd({key:"sector-".concat(I==null?void 0:I.startAngle,"-").concat(I==null?void 0:I.endAngle,"-").concat(I.midAngle,"-").concat(R),tabIndex:-1,className:"recharts-pie-sector"},Xg(N,I,R),{onMouseEnter:j(I,R),onMouseLeave:_(I,R),onClick:T(I,R)}),M.createElement(FI,jd({option:i??J,index:R,shapeType:"sector",isActive:G},V)))}))}function MJ(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:c,startAngle:f,endAngle:m,dataKey:p,nameKey:x,tooltipType:y}=r,S=Math.abs(r.minAngle),N=_J(f,m),j=Math.abs(N),_=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,T=n.filter(J=>ia(J,p,0)!==0).length,I=(j>=360?T:T-1)*_,R=j-T*S-I,F=n.reduce((J,V)=>{var $=ia(V,p,0);return J+(ir($)?$:0)},0),G;if(F>0){var Y;G=n.map((J,V)=>{var $=ia(J,p,0),W=ia(J,x,V),Ne=CJ(r,i,J),Z=(ir($)?$:0)/F,Q,me=li(li({},J),a&&a[V]&&a[V].props);V?Q=Y.endAngle+ds(N)*_*($!==0?1:0):Q=f;var re=Q+ds(N)*(($!==0?S:0)+Z*R),q=(Q+re)/2,ie=(Ne.innerRadius+Ne.outerRadius)/2,oe=[{name:W,value:$,payload:me,dataKey:p,type:y,graphicalItemId:r.id}],de=Mi(Ne.cx,Ne.cy,ie,q);return Y=li(li(li(li({},r.presentationProps),{},{percent:Z,cornerRadius:typeof c=="string"?parseFloat(c):c,name:W,tooltipPayload:oe,midAngle:q,middleRadius:ie,tooltipPosition:de},me),Ne),{},{value:$,dataKey:p,startAngle:Q,endAngle:re,payload:me,paddingAngle:ds(N)*_}),Y})}return G}function LJ(e){var{showLabels:t,sectors:r,children:n}=e,a=M.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return M.createElement(mZ,{value:t?a:void 0},n)}function PJ(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:i,animationBegin:c,animationDuration:f,animationEasing:m,activeShape:p,inactiveShape:x,onAnimationStart:y,onAnimationEnd:S}=t,N=D1(t,"recharts-pie-"),j=r.current,[_,T]=M.useState(!1),I=M.useCallback(()=>{typeof S=="function"&&S(),T(!1)},[S]),R=M.useCallback(()=>{typeof y=="function"&&y(),T(!0)},[y]);return M.createElement(LJ,{showLabels:!_,sectors:a},M.createElement(I1,{animationId:N,begin:c,duration:f,isActive:i,easing:m,onAnimationStart:R,onAnimationEnd:I,key:N},F=>{var G=[],Y=a&&a[0],J=Y==null?void 0:Y.startAngle;return a==null||a.forEach((V,$)=>{var W=j&&j[$],Ne=$>0?xf(V,"paddingAngle",0):0;if(W){var Z=Ta(W.endAngle-W.startAngle,V.endAngle-V.startAngle,F),Q=li(li({},V),{},{startAngle:J+Ne,endAngle:J+Z+Ne});G.push(Q),J=Q.endAngle}else{var{endAngle:me,startAngle:re}=V,q=Ta(0,me-re,F),ie=li(li({},V),{},{startAngle:J+Ne,endAngle:J+q+Ne});G.push(ie),J=ie.endAngle}}),r.current=G,M.createElement(yi,null,M.createElement(DJ,{sectors:G,activeShape:p,inactiveShape:x,allOtherPieProps:t,shape:t.shape,id:n}))}),M.createElement(IJ,{showLabels:!_,sectors:a,props:t}),t.children)}var RJ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Li.area};function BJ(e){var{id:t}=e,r=Px(e,gJ),{hide:n,className:a,rootTabIndex:i}=e,c=M.useMemo(()=>B3(e.children,uf),[e.children]),f=mr(x=>IZ(x,t,c)),m=M.useRef(null),p=qn("recharts-pie",a);return n||f==null?(m.current=null,M.createElement(yi,{tabIndex:i,className:p})):M.createElement(Mo,{zIndex:e.zIndex},M.createElement(NJ,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:f,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),M.createElement(yi,{tabIndex:i,className:p},M.createElement(PJ,{props:li(li({},r),{},{sectors:f}),previousSectorsRef:m,id:t})))}function S5(e){var t=fs(e,RJ),{id:r}=t,n=Px(t,xJ),a=ko(n);return M.createElement(H3,{id:r,type:"pie"},i=>M.createElement(M.Fragment,null,M.createElement(hJ,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),M.createElement(AJ,jd({},n,{id:i})),M.createElement(BJ,jd({},n,{id:i}))))}S5.displayName="Pie";var FJ=["points"];function YC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(r),!0).forEach(function(n){zJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zJ(e,t,r){return(t=UJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UJ(e){var t=qJ(e,"string");return typeof t=="symbol"?t:t+""}function qJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(null,arguments)}function HJ(e,t){if(e==null)return{};var r,n,a=VJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function GJ(e){var{option:t,dotProps:r,className:n}=e;if(M.isValidElement(t))return M.cloneElement(t,r);if(typeof t=="function")return t(r);var a=qn(n,typeof t!="boolean"?t.className:""),i=r??{},{points:c}=i,f=HJ(i,FJ);return M.createElement(II,Ng({},f,{className:a}))}function WJ(e,t){return e==null?!1:t?!0:e.length===1}function YJ(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:c,needClip:f,clipPathId:m,zIndex:p=Li.scatter}=e;if(!WJ(t,r))return null;var x=BI(r),y=DF(r),S=t.map((j,_)=>{var T,I,R=Xy(Xy(Xy({r:3},c),y),{},{index:_,cx:(T=j.x)!==null&&T!==void 0?T:void 0,cy:(I=j.y)!==null&&I!==void 0?I:void 0,dataKey:i,value:j.value,payload:j.payload,points:t});return M.createElement(GJ,{key:"dot-".concat(_),option:r,dotProps:R,className:a})}),N={};return f&&m!=null&&(N.clipPath="url(#clipPath-".concat(x?"":"dots-").concat(m,")")),M.createElement(Mo,{zIndex:p},M.createElement(yi,Ng({className:n},N),S))}function $C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(r),!0).forEach(function(n){$J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $J(e,t,r){return(t=XJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XJ(e){var t=KJ(e,"string");return typeof t=="symbol"?t:t+""}function KJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HI=0,QJ={xAxis:{},yAxis:{},zAxis:{}},VI=Do({name:"cartesianAxis",initialState:QJ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ua()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ua()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ua()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ua()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ua()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ua()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ua()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ua()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ua()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var c=[...i,n].slice(-3);e.yAxis[r]=XC(XC({},e.yAxis[r]),{},{width:n,widthHistory:c})}}}}),{addXAxis:ZJ,replaceXAxis:JJ,removeXAxis:eee,addYAxis:tee,replaceYAxis:ree,removeYAxis:nee,addZAxis:lse,replaceZAxis:cse,removeZAxis:use,updateYAxisWidth:aee}=VI.actions,iee=VI.reducer,see=ct([Xi],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),oee=ct([see,Eu,Cu],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),V3=()=>mr(oee),lee=()=>mr(ZX);function KC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ky(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(r),!0).forEach(function(n){cee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cee(e,t,r){return(t=uee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uee(e){var t=dee(e,"string");return typeof t=="symbol"?t:t+""}function dee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fee=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i,clipPath:c}=e;if(a===!1||t.x==null||t.y==null)return null;var f={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},m=Ky(Ky(Ky({},f),mf(a)),uw(a)),p;return M.isValidElement(a)?p=M.cloneElement(a,m):typeof a=="function"?p=a(m):p=M.createElement(II,m),M.createElement(yi,{className:"recharts-active-dot",clipPath:c},p)};function QC(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:i,zIndex:c=Li.activeDot}=e,f=mr(_d),m=lee();if(t==null||m==null)return null;var p=t.find(x=>m.includes(x.payload));return Ka(p)?null:M.createElement(Mo,{zIndex:c},M.createElement(fee,{point:p,childIndex:Number(f),mainColor:r,dataKey:a,activeDot:n,clipPath:i}))}var ZC=(e,t,r)=>{var n=r??e;if(!Ka(n))return Us(n,t,0)},hee=(e,t,r)=>{var n={},a=e.filter(Sx),i=e.filter(p=>p.stackId==null),c=a.reduce((p,x)=>(p[x.stackId]||(p[x.stackId]=[]),p[x.stackId].push(x),p),n),f=Object.entries(c).map(p=>{var[x,y]=p,S=y.map(j=>j.dataKey),N=ZC(t,r,y[0].barSize);return{stackId:x,dataKeys:S,barSize:N}}),m=i.map(p=>{var x=[p.dataKey].filter(S=>S!=null),y=ZC(t,r,p.barSize);return{stackId:void 0,dataKeys:x,barSize:y}});return[...f,...m]};function JC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(r),!0).forEach(function(n){pee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pee(e,t,r){return(t=mee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mee(e){var t=gee(e,"string");return typeof t=="symbol"?t:t+""}function gee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xee(e,t,r,n,a){var i=n.length;if(!(i<1)){var c=Us(e,r,0,!0),f,m=[];if(ga(n[0].barSize)){var p=!1,x=r/i,y=n.reduce((I,R)=>I+(R.barSize||0),0);y+=(i-1)*c,y>=r&&(y-=(i-1)*c,c=0),y>=r&&x>0&&(p=!0,x*=.9,y=i*x);var S=(r-y)/2>>0,N={offset:S-c,size:0};f=n.reduce((I,R)=>{var F,G={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:N.offset+N.size+c,size:p?x:(F=R.barSize)!==null&&F!==void 0?F:0}},Y=[...I,G];return N=Y[Y.length-1].position,Y},m)}else{var j=Us(t,r,0,!0);r-2*j-(i-1)*c<=0&&(c=0);var _=(r-2*j-(i-1)*c)/i;_>1&&(_>>=0);var T=ga(a)?Math.min(_,a):_;f=n.reduce((I,R,F)=>[...I,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:j+(_+c)*F+(_-T)/2,size:T}}],m)}return f}}var vee=(e,t,r,n,a,i,c)=>{var f=Ka(c)?t:c,m=xee(r,n,a!==i?a:i,e,f);return a!==i&&m!=null&&(m=m.map(p=>cm(cm({},p),{},{position:cm(cm({},p.position),{},{offset:p.position.offset-a/2})}))),m},yee=(e,t)=>{var r=Nx(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(c=>c.key===r)}}}};function bee(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ga(e.zIndex)?e.zIndex:t}var GI=e=>{var{chartData:t}=e,r=Va(),n=Hs();return M.useEffect(()=>n?()=>{}:(r(iC(t)),()=>{r(iC(void 0))}),[t,r,n]),null},e_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},WI=Do({name:"brush",initialState:e_,reducers:{setBrushSettings(e,t){return t.payload==null?e_:t.payload}}}),{setBrushSettings:dse}=WI.actions,wee=WI.reducer;function Aee(e,t,r){return(t=Nee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nee(e){var t=See(e,"string");return typeof t=="symbol"?t:t+""}function See(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class G3{static create(t){return new G3(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}Aee(G3,"EPS",1e-4);function Eee(e){return(e%180+180)%180}var Cee=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Eee(a),c=i*Math.PI/180,f=Math.atan(n/r),m=c>f&&c<Math.PI-f?n/Math.sin(c):r/Math.cos(c);return Math.abs(m)},_ee={dots:[],areas:[],lines:[]},YI=Do({name:"referenceElements",initialState:_ee,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Yl(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Yl(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Yl(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:fse,removeDot:hse,addArea:pse,removeArea:mse,addLine:gse,removeLine:xse}=YI.actions,jee=YI.reducer,Oee=M.createContext(void 0),Tee=e=>{var{children:t}=e,[r]=M.useState("".concat(a1("recharts"),"-clip")),n=V3();if(n==null)return null;var{x:a,y:i,width:c,height:f}=n;return M.createElement(Oee.Provider,{value:r},M.createElement("defs",null,M.createElement("clipPath",{id:r},M.createElement("rect",{x:a,y:i,height:f,width:c}))),t)};function $I(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function kee(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Cee(n,r)}function Iee(e,t,r){var n=r==="width",{x:a,y:i,width:c,height:f}=e;return t===1?{start:n?a:i,end:n?a+c:i+f}:{start:n?a+c:i+f,end:n?a:i}}function v1(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Dee(e,t){return $I(e,t+1)}function Mee(e,t,r,n,a){for(var i=(n||[]).slice(),{start:c,end:f}=t,m=0,p=1,x=c,y=function(){var j=n==null?void 0:n[m];if(j===void 0)return{v:$I(n,p)};var _=m,T,I=()=>(T===void 0&&(T=r(j,_)),T),R=j.coordinate,F=m===0||v1(e,R,I,x,f);F||(m=0,x=c,p+=1),F&&(x=R+e*(I()/2+a),m+=p)},S;p<=i.length;)if(S=y(),S)return S.v;return[]}function Lee(e,t,r,n,a){var i=(n||[]).slice(),c=i.length;if(c===0)return[];for(var{start:f,end:m}=t,p=1;p<=c;p++){for(var x=(c-1)%p,y=f,S=!0,N=function(){var R=n[j],F=j,G,Y=()=>(G===void 0&&(G=r(R,F)),G),J=R.coordinate,V=j===x||v1(e,J,Y,y,m);if(!V)return S=!1,1;V&&(y=J+e*(Y()/2+a))},j=x;j<c&&!N();j+=p);if(S){for(var _=[],T=x;T<c;T+=p)_.push(n[T]);return _}}return[]}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){Pee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pee(e,t,r){return(t=Ree(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ree(e){var t=Bee(e,"string");return typeof t=="symbol"?t:t+""}function Bee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fee(e,t,r,n,a){for(var i=(n||[]).slice(),c=i.length,{start:f}=t,{end:m}=t,p=function(S){var N=i[S],j,_=()=>(j===void 0&&(j=r(N,S)),j);if(S===c-1){var T=e*(N.coordinate+e*_()/2-m);i[S]=N=Rs(Rs({},N),{},{tickCoord:T>0?N.coordinate-T*e:N.coordinate})}else i[S]=N=Rs(Rs({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var I=v1(e,N.tickCoord,_,f,m);I&&(m=N.tickCoord-e*(_()/2+a),i[S]=Rs(Rs({},N),{},{isShow:!0}))}},x=c-1;x>=0;x--)p(x);return i}function zee(e,t,r,n,a,i){var c=(n||[]).slice(),f=c.length,{start:m,end:p}=t;if(i){var x=n[f-1],y=r(x,f-1),S=e*(x.coordinate+e*y/2-p);if(c[f-1]=x=Rs(Rs({},x),{},{tickCoord:S>0?x.coordinate-S*e:x.coordinate}),x.tickCoord!=null){var N=v1(e,x.tickCoord,()=>y,m,p);N&&(p=x.tickCoord-e*(y/2+a),c[f-1]=Rs(Rs({},x),{},{isShow:!0}))}}for(var j=i?f-1:f,_=function(R){var F=c[R],G,Y=()=>(G===void 0&&(G=r(F,R)),G);if(R===0){var J=e*(F.coordinate-e*Y()/2-m);c[R]=F=Rs(Rs({},F),{},{tickCoord:J<0?F.coordinate-J*e:F.coordinate})}else c[R]=F=Rs(Rs({},F),{},{tickCoord:F.coordinate});if(F.tickCoord!=null){var V=v1(e,F.tickCoord,Y,m,p);V&&(m=F.tickCoord+e*(Y()/2+a),c[R]=Rs(Rs({},F),{},{isShow:!0}))}},T=0;T<j;T++)_(T);return c}function W3(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:c,orientation:f,interval:m,tickFormatter:p,unit:x,angle:y}=e;if(!a||!a.length||!n)return[];if(ir(m)||k1.isSsr){var S;return(S=Dee(a,ir(m)?m:0))!==null&&S!==void 0?S:[]}var N=[],j=f==="top"||f==="bottom"?"width":"height",_=x&&j==="width"?J0(x,{fontSize:t,letterSpacing:r}):{width:0,height:0},T=(F,G)=>{var Y=typeof p=="function"?p(F.value,G):F.value;return j==="width"?kee(J0(Y,{fontSize:t,letterSpacing:r}),_,y):J0(Y,{fontSize:t,letterSpacing:r})[j]},I=a.length>=2?ds(a[1].coordinate-a[0].coordinate):1,R=Iee(i,I,j);return m==="equidistantPreserveStart"?Mee(I,R,T,a,c):m==="equidistantPreserveEnd"?Lee(I,R,T,a,c):(m==="preserveStart"||m==="preserveStartEnd"?N=zee(I,R,T,a,c,m==="preserveStartEnd"):N=Fee(I,R,T,a,c),N.filter(F=>F.isShow))}var Uee=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,c=0;if(t){Array.from(t).forEach(x=>{if(x){var y=x.getBoundingClientRect();y.width>c&&(c=y.width)}});var f=r?r.getBoundingClientRect().width:0,m=a+i,p=c+m+f+(r?n:0);return Math.round(p)}return 0},qee=["axisLine","width","height","className","hide","ticks","axisType"];function Hee(e,t){if(e==null)return{};var r,n,a=Vee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wf.apply(null,arguments)}function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){Gee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gee(e,t,r){return(t=Wee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wee(e){var t=Yee(e,"string");return typeof t=="symbol"?t:t+""}function Yee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mu={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Li.axis};function $ee(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:c,axisLine:f,otherSvgProps:m}=e;if(!f)return null;var p=ki(ki(ki({},m),ko(f)),{},{fill:"none"});if(i==="top"||i==="bottom"){var x=+(i==="top"&&!c||i==="bottom"&&c);p=ki(ki({},p),{},{x1:t,y1:r+x*a,x2:t+n,y2:r+x*a})}else{var y=+(i==="left"&&!c||i==="right"&&c);p=ki(ki({},p),{},{x1:t+y*n,y1:r,x2:t+y*n,y2:r+a})}return M.createElement("line",wf({},p,{className:qn("recharts-cartesian-axis-line",xf(f,"className"))}))}function Xee(e,t,r,n,a,i,c,f,m){var p,x,y,S,N,j,_=f?-1:1,T=e.tickSize||c,I=ir(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":p=x=e.coordinate,S=r+ +!f*a,y=S-_*T,j=y-_*m,N=I;break;case"left":y=S=e.coordinate,x=t+ +!f*n,p=x-_*T,N=p-_*m,j=I;break;case"right":y=S=e.coordinate,x=t+ +f*n,p=x+_*T,N=p+_*m,j=I;break;default:p=x=e.coordinate,S=r+ +f*a,y=S+_*T,j=y+_*m,N=I;break}return{line:{x1:p,y1:y,x2:x,y2:S},tick:{x:N,y:j}}}function Kee(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Qee(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Zee(e){var{option:t,tickProps:r,value:n}=e,a,i=qn(r.className,"recharts-cartesian-axis-tick-value");if(M.isValidElement(t))a=M.cloneElement(t,ki(ki({},r),{},{className:i}));else if(typeof t=="function")a=t(ki(ki({},r),{},{className:i}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=qn(c,t==null?void 0:t.className)),a=M.createElement(Dx,wf({},r,{className:c}),n)}return a}var Jee=M.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:c,unit:f,padding:m,tickTextProps:p,orientation:x,mirror:y,x:S,y:N,width:j,height:_,tickSize:T,tickMargin:I,fontSize:R,letterSpacing:F,getTicksConfig:G,events:Y,axisType:J}=e,V=W3(ki(ki({},G),{},{ticks:r}),R,F),$=Kee(x,y),W=Qee(x,y),Ne=ko(G),Z=mf(n),Q={};typeof a=="object"&&(Q=a);var me=ki(ki({},Ne),{},{fill:"none"},Q),re=V.map(oe=>ki({entry:oe},Xee(oe,S,N,j,_,x,T,y,I))),q=re.map(oe=>{var{entry:de,line:ee}=oe;return M.createElement(yi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(de.value,"-").concat(de.coordinate,"-").concat(de.tickCoord)},a&&M.createElement("line",wf({},me,ee,{className:qn("recharts-cartesian-axis-tick-line",xf(a,"className"))})))}),ie=re.map((oe,de)=>{var{entry:ee,tick:Ae}=oe,ce=ki(ki(ki(ki({textAnchor:$,verticalAnchor:W},Ne),{},{stroke:"none",fill:i},Z),Ae),{},{index:de,payload:ee,visibleTicksCount:V.length,tickFormatter:c,padding:m},p);return M.createElement(yi,wf({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},Xg(Y,ee,de)),n&&M.createElement(Zee,{option:n,tickProps:ce,value:"".concat(typeof c=="function"?c(ee.value,de):ee.value).concat(f||"")}))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(J,"-ticks")},ie.length>0&&M.createElement(Mo,{zIndex:Li.label},M.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(J,"-tick-labels"),ref:t},ie)),q.length>0&&M.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(J,"-tick-lines")},q))}),ete=M.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:c,ticks:f,axisType:m}=e,p=Hee(e,qee),[x,y]=M.useState(""),[S,N]=M.useState(""),j=M.useRef(null);M.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var T;return Uee({ticks:j.current,label:(T=e.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=M.useCallback(T=>{if(T){var I=T.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=I;var R=I[0];if(R){var F=window.getComputedStyle(R),G=F.fontSize,Y=F.letterSpacing;(G!==x||Y!==S)&&(y(G),N(Y))}}},[x,S]);return c||n!=null&&n<=0||a!=null&&a<=0?null:M.createElement(Mo,{zIndex:e.zIndex},M.createElement(yi,{className:qn("recharts-cartesian-axis",i)},M.createElement($ee,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ko(e)}),M.createElement(Jee,{ref:_,axisType:m,events:p,fontSize:x,getTicksConfig:e,height:e.height,letterSpacing:S,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:f,unit:e.unit,width:e.width,x:e.x,y:e.y}),M.createElement($Q,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},M.createElement(aZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),Y3=M.forwardRef((e,t)=>{var r=fs(e,mu);return M.createElement(ete,wf({},r,{ref:t}))});Y3.displayName="CartesianAxis";var tte=["x1","y1","x2","y2","key"],rte=["offset"],nte=["xAxisId","yAxisId"],ate=["xAxisId","yAxisId"];function n_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(r),!0).forEach(function(n){ite(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ite(e,t,r){return(t=ste(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ste(e){var t=ote(e,"string");return typeof t=="symbol"?t:t+""}function ote(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(null,arguments)}function Sg(e,t){if(e==null)return{};var r,n,a=lte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cte=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:c,ry:f}=e;return M.createElement("rect",{x:n,y:a,ry:f,width:i,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function XI(e){var{option:t,lineItemProps:r}=e,n;if(M.isValidElement(t))n=M.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:c,x2:f,y2:m,key:p}=r,x=Sg(r,tte),y=(a=ko(x))!==null&&a!==void 0?a:{},{offset:S}=y,N=Sg(y,rte);n=M.createElement("line",nf({},N,{x1:i,y1:c,x2:f,y2:m,fill:"none",key:p}))}return n}function ute(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:c}=e,f=Sg(e,nte),m=a.map((p,x)=>{var y=Bs(Bs({},f),{},{x1:t,y1:p,x2:t+r,y2:p,key:"line-".concat(x),index:x});return M.createElement(XI,{key:"line-".concat(x),option:n,lineItemProps:y})});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function dte(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:c}=e,f=Sg(e,ate),m=a.map((p,x)=>{var y=Bs(Bs({},f),{},{x1:p,y1:t,x2:p,y2:t+r,key:"line-".concat(x),index:x});return M.createElement(XI,{option:n,lineItemProps:y,key:"line-".concat(x)})});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function fte(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:c,horizontalPoints:f,horizontal:m=!0}=e;if(!m||!t||!t.length||f==null)return null;var p=f.map(y=>Math.round(y+a-a)).sort((y,S)=>y-S);a!==p[0]&&p.unshift(0);var x=p.map((y,S)=>{var N=!p[S+1],j=N?a+c-y:p[S+1]-y;if(j<=0)return null;var _=S%t.length;return M.createElement("rect",{key:"react-".concat(S),y,x:n,height:j,width:i,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},x)}function hte(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:c,height:f,verticalPoints:m}=e;if(!t||!r||!r.length)return null;var p=m.map(y=>Math.round(y+a-a)).sort((y,S)=>y-S);a!==p[0]&&p.unshift(0);var x=p.map((y,S)=>{var N=!p[S+1],j=N?a+c-y:p[S+1]-y;if(j<=0)return null;var _=S%r.length;return M.createElement("rect",{key:"react-".concat(S),x:y,y:i,width:j,height:f,stroke:"none",fill:r[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},x)}var pte=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return M7(W3(Bs(Bs(Bs({},mu),r),{},{ticks:L7(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},mte=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return M7(W3(Bs(Bs(Bs({},mu),r),{},{ticks:L7(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},gte={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Li.grid};function E5(e){var t=G7(),r=W7(),n=V7(),a=Bs(Bs({},fs(e,gte)),{},{x:ir(e.x)?e.x:n.left,y:ir(e.y)?e.y:n.top,width:ir(e.width)?e.width:n.width,height:ir(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:c,x:f,y:m,width:p,height:x,syncWithTicks:y,horizontalValues:S,verticalValues:N}=a,j=Hs(),_=mr(W=>YE(W,"xAxis",i,j)),T=mr(W=>YE(W,"yAxis",c,j));if(!kc(p)||!kc(x)||!ir(f)||!ir(m))return null;var I=a.verticalCoordinatesGenerator||pte,R=a.horizontalCoordinatesGenerator||mte,{horizontalPoints:F,verticalPoints:G}=a;if((!F||!F.length)&&typeof R=="function"){var Y=S&&S.length,J=R({yAxis:T?Bs(Bs({},T),{},{ticks:Y?S:T.ticks}):void 0,width:t??p,height:r??x,offset:n},Y?!0:y);Qm(Array.isArray(J),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof J,"]")),Array.isArray(J)&&(F=J)}if((!G||!G.length)&&typeof I=="function"){var V=N&&N.length,$=I({xAxis:_?Bs(Bs({},_),{},{ticks:V?N:_.ticks}):void 0,width:t??p,height:r??x,offset:n},V?!0:y);Qm(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof $,"]")),Array.isArray($)&&(G=$)}return M.createElement(Mo,{zIndex:a.zIndex},M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(cte,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),M.createElement(fte,nf({},a,{horizontalPoints:F})),M.createElement(hte,nf({},a,{verticalPoints:G})),M.createElement(ute,nf({},a,{offset:n,horizontalPoints:F,xAxis:_,yAxis:T})),M.createElement(dte,nf({},a,{offset:n,verticalPoints:G,xAxis:_,yAxis:T}))))}E5.displayName="CartesianGrid";var xte={},KI=Do({name:"errorBars",initialState:xte,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:vse,replaceErrorBar:yse,removeErrorBar:bse}=KI.actions,vte=KI.reducer,yte=["children"];function bte(e,t){if(e==null)return{};var r,n,a=wte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ate={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Nte=M.createContext(Ate);function Ste(e){var{children:t}=e,r=bte(e,yte);return M.createElement(Nte.Provider,{value:r},t)}function $3(e,t){var r,n,a=mr(p=>Ou(p,e)),i=mr(p=>Tu(p,t)),c=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:os.allowDataOverflow,f=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ls.allowDataOverflow,m=c||f;return{needClip:m,needClipX:c,needClipY:f}}function QI(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=V3(),{needClipX:i,needClipY:c,needClip:f}=$3(t,r);if(!f||!a)return null;var{x:m,y:p,width:x,height:y}=a;return M.createElement("clipPath",{id:"clipPath-".concat(n)},M.createElement("rect",{x:i?m:m-x/2,y:c?p:p-y/2,width:i?x:x*2,height:c?y:y*2}))}function Ete(e){var t=mf(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,c=Number(a),f=Number(i);return(Number.isNaN(c)||c<0)&&(c=r),(Number.isNaN(f)||f<0)&&(f=n),{r:c,strokeWidth:f}}return{r,strokeWidth:n}}var Qy={exports:{}},Zy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function Cte(){if(a_)return Zy;a_=1;var e=Nf();function t(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,c=e.useMemo,f=e.useDebugValue;return Zy.useSyncExternalStoreWithSelector=function(m,p,x,y,S){var N=a(null);if(N.current===null){var j={hasValue:!1,value:null};N.current=j}else j=N.current;N=c(function(){function T(Y){if(!I){if(I=!0,R=Y,Y=y(Y),S!==void 0&&j.hasValue){var J=j.value;if(S(J,Y))return F=J}return F=Y}if(J=F,r(R,Y))return J;var V=y(Y);return S!==void 0&&S(J,V)?(R=Y,J):(R=Y,F=V)}var I=!1,R,F,G=x===void 0?null:x;return[function(){return T(p())},G===null?void 0:function(){return T(G())}]},[p,x,y,S]);var _=n(m,N[0],N[1]);return i(function(){j.hasValue=!0,j.value=_},[_]),f(_),_},Zy}var i_;function _te(){return i_||(i_=1,Qy.exports=Cte()),Qy.exports}_te();function jte(e){e()}function Ote(){let e=null,t=null;return{clear(){e=null,t=null},notify(){jte(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var s_={notify(){},get:()=>[]};function Tte(e,t){let r,n=s_,a=0,i=!1;function c(_){x();const T=n.subscribe(_);let I=!1;return()=>{I||(I=!0,T(),y())}}function f(){n.notify()}function m(){j.onStateChange&&j.onStateChange()}function p(){return i}function x(){a++,r||(r=e.subscribe(m),n=Ote())}function y(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=s_)}function S(){i||(i=!0,x())}function N(){i&&(i=!1,y())}const j={addNestedSub:c,notifyNestedSubs:f,handleChangeWrapper:m,isSubscribed:p,trySubscribe:S,tryUnsubscribe:N,getListeners:()=>n};return j}var kte=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ite=kte(),Dte=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Mte=Dte(),Lte=()=>Ite||Mte?M.useLayoutEffect:M.useEffect,Pte=Lte();function o_(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Rte(e,t){if(o_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!o_(e[r[a]],t[r[a]]))return!1;return!0}var Jy=Symbol.for("react-redux-context"),eb=typeof globalThis<"u"?globalThis:{};function Bte(){if(!M.createContext)return{};const e=eb[Jy]??(eb[Jy]=new Map);let t=e.get(M.createContext);return t||(t=M.createContext(null),e.set(M.createContext,t)),t}var Fte=Bte();function zte(e){const{children:t,context:r,serverState:n,store:a}=e,i=M.useMemo(()=>{const m=Tte(a);return{store:a,subscription:m,getServerState:n?()=>n:void 0}},[a,n]),c=M.useMemo(()=>a.getState(),[a]);Pte(()=>{const{subscription:m}=i;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==a.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[i,c]);const f=r||Fte;return M.createElement(f.Provider,{value:i},t)}var Ute=zte,qte=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Hte(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Rx(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(qte.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Rte(e[n],t[n]))return!1}else if(!Hte(e[n],t[n]))return!1;return!0}function Lc(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:HI}function Pc(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:HI}var ZI=(e,t,r)=>Cd(e,"xAxis",Lc(e,t),r),JI=(e,t,r)=>Ed(e,"xAxis",Lc(e,t),r),eD=(e,t,r)=>Cd(e,"yAxis",Pc(e,t),r),tD=(e,t,r)=>Ed(e,"yAxis",Pc(e,t),r),Vte=ct([wn,ZI,eD,JI,tD],(e,t,r,n,a)=>Su(e,"xAxis")?Oh(t,n,!1):Oh(r,a,!1)),Gte=(e,t)=>t,rD=ct([_x,Gte],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),nD=e=>{var t=wn(e),r=Su(t,"xAxis");return r?"yAxis":"xAxis"},Wte=(e,t)=>{var r=nD(e);return r==="yAxis"?Pc(e,t):Lc(e,t)},Yte=(e,t,r)=>xg(e,nD(e),Wte(e,t),r),$te=ct([rD,Yte],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,a=Nx(e);if(!(n==null||a==null)){var i=(r=t[n])===null||r===void 0?void 0:r.stackedData,c=i==null?void 0:i.find(f=>f.key===a);if(c!=null)return c.map(f=>[f[0],f[1]])}}}),Xte=ct([wn,ZI,eD,JI,tD,$te,XT,Vte,rD,KY],(e,t,r,n,a,i,c,f,m,p)=>{var{chartData:x,dataStartIndex:y,dataEndIndex:S}=c;if(!(m==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||f==null)){var{data:N}=m,j;if(N&&N.length>0?j=N:j=x==null?void 0:x.slice(y,S+1),j!=null)return pre({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:y,areaSettings:m,stackedData:i,displayedData:j,chartBaseValue:p,bandSize:f})}}),Kte=["id"],Qte=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},df.apply(null,arguments)}function aD(e,t){if(e==null)return{};var r,n,a=Zte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(n){Jte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jte(e,t,r){return(t=ere(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ere(e){var t=tre(e,"string");return typeof t=="symbol"?t:t+""}function tre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eg(e,t){return e&&e!=="none"?e:t}var rre=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:c}=e;return[{inactive:c,dataKey:t,type:i,color:Eg(n,a),value:Uh(r,t),payload:e}]},nre=M.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:c,hide:f,unit:m,tooltipType:p,id:x}=e,y={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Uh(c,t),hide:f,type:p,color:Eg(n,i),unit:m,graphicalItemId:x}};return M.createElement(q3,{tooltipEntrySettings:y})});function are(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:c}=n,f=ko(n);return M.createElement(YJ,{points:r,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:f,needClip:a,clipPathId:t})}function ire(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var c,f,m={x:(c=i.x)!==null&&c!==void 0?c:0,y:(f=i.y)!==null&&f!==void 0?f:0,width:0,lowerWidth:0,upperWidth:0,height:0};return gh(gh({},m),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:m,fill:void 0})});return M.createElement(TI,{value:t?a:void 0},r)}function c_(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:c,type:f,stroke:m,connectNulls:p,isRange:x}=i,{id:y}=i,S=aD(i,Kte),N=ko(S),j=ao(S);return M.createElement(M.Fragment,null,(t==null?void 0:t.length)>1&&M.createElement(yi,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},M.createElement(Sh,df({},j,{id:y,points:t,connectNulls:p,type:f,baseLine:r,layout:c,stroke:"none",className:"recharts-area-area"})),m!=="none"&&M.createElement(Sh,df({},N,{className:"recharts-area-curve",layout:c,type:f,connectNulls:p,fill:"none",points:t})),m!=="none"&&x&&M.createElement(Sh,df({},N,{className:"recharts-area-curve",layout:c,type:f,connectNulls:p,fill:"none",points:r}))),M.createElement(are,{points:t,props:S,clipPathId:a}))}function sre(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:c}=e,f=(t=i[0])===null||t===void 0?void 0:t.y,m=(r=i[i.length-1])===null||r===void 0?void 0:r.y;if(!ga(f)||!ga(m))return null;var p=n*Math.abs(f-m),x=Math.max(...i.map(y=>y.x||0));return ir(a)?x=Math.max(a,x):a&&Array.isArray(a)&&a.length&&(x=Math.max(...a.map(y=>y.x||0),x)),ir(x)?M.createElement("rect",{x:0,y:f<m?f:f-p,width:x+(c?parseInt("".concat(c),10):1),height:Math.floor(p)}):null}function ore(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:c}=e,f=(t=i[0])===null||t===void 0?void 0:t.x,m=(r=i[i.length-1])===null||r===void 0?void 0:r.x;if(!ga(f)||!ga(m))return null;var p=n*Math.abs(f-m),x=Math.max(...i.map(y=>y.y||0));return ir(a)?x=Math.max(a,x):a&&Array.isArray(a)&&a.length&&(x=Math.max(...a.map(y=>y.y||0),x)),ir(x)?M.createElement("rect",{x:f<m?f:f-p,y:0,width:p,height:Math.floor(x+(c?parseInt("".concat(c),10):1))}):null}function lre(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?M.createElement(sre,{alpha:t,points:n,baseLine:a,strokeWidth:i}):M.createElement(ore,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function cre(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:c,baseLine:f,isAnimationActive:m,animationBegin:p,animationDuration:x,animationEasing:y,onAnimationStart:S,onAnimationEnd:N}=n,j=M.useMemo(()=>({points:c,baseLine:f}),[c,f]),_=D1(j,"recharts-area-"),T=_H(),[I,R]=M.useState(!1),F=!I,G=M.useCallback(()=>{typeof N=="function"&&N(),R(!1)},[N]),Y=M.useCallback(()=>{typeof S=="function"&&S(),R(!0)},[S]);if(T==null)return null;var J=a.current,V=i.current;return M.createElement(ire,{showLabels:F,points:c},n.children,M.createElement(I1,{animationId:_,begin:p,duration:x,isActive:m,easing:y,onAnimationEnd:G,onAnimationStart:Y,key:_},$=>{if(J){var W=J.length/c.length,Ne=$===1?c:c.map((Q,me)=>{var re=Math.floor(me*W);if(J[re]){var q=J[re];return gh(gh({},Q),{},{x:Ta(q.x,Q.x,$),y:Ta(q.y,Q.y,$)})}return Q}),Z;return ir(f)?Z=Ta(V,f,$):Ka(f)||yl(f)?Z=Ta(V,0,$):Z=f.map((Q,me)=>{var re=Math.floor(me*W);if(Array.isArray(V)&&V[re]){var q=V[re];return gh(gh({},Q),{},{x:Ta(q.x,Q.x,$),y:Ta(q.y,Q.y,$)})}return Q}),$>0&&(a.current=Ne,i.current=Z),M.createElement(c_,{points:Ne,baseLine:Z,needClip:t,clipPathId:r,props:n})}return $>0&&(a.current=c,i.current=f),M.createElement(yi,null,m&&M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(r)},M.createElement(lre,{alpha:$,points:c,baseLine:f,layout:T,strokeWidth:n.strokeWidth}))),M.createElement(yi,{clipPath:"url(#animationClipPath-".concat(r,")")},M.createElement(c_,{points:c,baseLine:f,needClip:t,clipPathId:r,props:n})))}),M.createElement(L3,{label:n.label}))}function ure(e){var{needClip:t,clipPathId:r,props:n}=e,a=M.useRef(null),i=M.useRef();return M.createElement(cre,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class dre extends M.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:i,left:c,needClip:f,xAxisId:m,yAxisId:p,width:x,height:y,id:S,baseLine:N,zIndex:j}=this.props;if(t)return null;var _=qn("recharts-area",a),T=S,{r:I,strokeWidth:R}=Ete(r),F=BI(r),G=I*2+R,Y=f?"url(#clipPath-".concat(F?"":"dots-").concat(T,")"):void 0;return M.createElement(Mo,{zIndex:j},M.createElement(yi,{className:_},f&&M.createElement("defs",null,M.createElement(QI,{clipPathId:T,xAxisId:m,yAxisId:p}),!F&&M.createElement("clipPath",{id:"clipPath-dots-".concat(T)},M.createElement("rect",{x:c-G/2,y:i-G/2,width:x+G,height:y+G}))),M.createElement(ure,{needClip:f,clipPathId:T,props:this.props})),M.createElement(QC,{points:n,mainColor:Eg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:Y}),this.props.isRange&&Array.isArray(N)&&M.createElement(QC,{points:N,mainColor:Eg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:Y}))}}var iD={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Li.area};function fre(e){var t,r=fs(e,iD),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:c,connectNulls:f,dot:m,fill:p,fillOpacity:x,hide:y,isAnimationActive:S,legendType:N,stroke:j,xAxisId:_,yAxisId:T}=r,I=aD(r,Qte),R=Ef(),F=dI(),{needClip:G}=$3(_,T),Y=Hs(),{points:J,isRange:V,baseLine:$}=(t=mr(re=>Xte(re,e.id,Y)))!==null&&t!==void 0?t:{},W=V3();if(R!=="horizontal"&&R!=="vertical"||W==null||F!=="AreaChart"&&F!=="ComposedChart")return null;var{height:Ne,width:Z,x:Q,y:me}=W;return!J||!J.length?null:M.createElement(dre,df({},I,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:c,baseLine:$,connectNulls:f,dot:m,fill:p,fillOpacity:x,height:Ne,hide:y,layout:R,isAnimationActive:S==="auto"?!k1.isSsr:S,isRange:V,legendType:N,needClip:G,points:J,stroke:j,width:Z,left:Q,top:me,xAxisId:_,yAxisId:T}))}var hre=(e,t,r,n,a)=>{var i=r??t;if(ir(i))return i;var c=e==="horizontal"?a:n,f=c.scale.domain();if(c.type==="number"){var m=Math.max(f[0],f[1]),p=Math.min(f[0],f[1]);return i==="dataMin"?p:i==="dataMax"||m<0?m:Math.max(Math.min(f[0],f[1]),0)}return i==="dataMin"?f[0]:i==="dataMax"?f[1]:f[0]};function pre(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:c,xAxis:f,yAxis:m,displayedData:p,dataStartIndex:x,xAxisTicks:y,yAxisTicks:S,bandSize:N}=e,j=a&&a.length,_=hre(i,c,r,f,m),T=i==="horizontal",I=!1,R=p.map((G,Y)=>{var J,V,$;if(j)$=a[x+Y];else{var W=ia(G,n);Array.isArray(W)?($=W,I=!0):$=[_,W]}var Ne=(J=(V=$)===null||V===void 0?void 0:V[1])!==null&&J!==void 0?J:null,Z=Ne==null||j&&!t&&ia(G,n)==null;return T?{x:Q6({axis:f,ticks:y,bandSize:N,entry:G,index:Y}),y:Z?null:m.scale(Ne),value:$,payload:G}:{x:Z?null:f.scale(Ne),y:Q6({axis:m,ticks:S,bandSize:N,entry:G,index:Y}),value:$,payload:G}}),F;return j||I?F=R.map(G=>{var Y=Array.isArray(G.value)?G.value[0]:null;return T?{x:G.x,y:Y!=null&&G.y!=null?m.scale(Y):null,payload:G.payload}:{x:Y!=null?f.scale(Y):null,y:G.y,payload:G.payload}}):F=T?m.scale(_):f.scale(_),{points:R,baseLine:F,isRange:I}}function mre(e){var t=fs(e,iD),r=Hs();return M.createElement(H3,{id:t.id,type:"area"},n=>M.createElement(M.Fragment,null,M.createElement(zI,{legendPayload:rre(t)}),M.createElement(nre,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),M.createElement(qI,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:P7(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),M.createElement(fre,df({},t,{id:n}))))}var sD=M.memo(mre,Rx);sD.displayName="Area";var gre="Invariant failed";function xre(e,t){throw new Error(gre)}function C5(){return C5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C5.apply(null,arguments)}function Cg(e){return M.createElement(FI,C5({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var vre=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(ir(t))return t;var i=ir(n)||Ka(n);return i?t(n,a):(i||xre(),r)}},yre=(e,t,r)=>r,bre=(e,t)=>t,Y1=ct([_x,bre],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),wre=ct([Y1],e=>e==null?void 0:e.maxBarSize),Are=(e,t,r,n)=>n,Nre=ct([wn,_x,Lc,Pc,yre],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Sre=(e,t,r)=>{var n=wn(e),a=Lc(e,t),i=Pc(e,t);if(!(a==null||i==null))return n==="horizontal"?xg(e,"yAxis",i,r):xg(e,"xAxis",a,r)},Ere=(e,t)=>{var r=wn(e),n=Lc(e,t),a=Pc(e,t);if(!(n==null||a==null))return r==="horizontal"?WE(e,"xAxis",n):WE(e,"yAxis",a)},Cre=ct([Nre,XY,Ere],hee),_re=(e,t,r)=>{var n,a,i=Y1(e,t);if(i!=null){var c=Lc(e,t),f=Pc(e,t);if(!(c==null||f==null)){var m=wn(e),p=uk(e),{maxBarSize:x}=i,y=Ka(x)?p:x,S,N;return m==="horizontal"?(S=Cd(e,"xAxis",c,r),N=Ed(e,"xAxis",c,r)):(S=Cd(e,"yAxis",f,r),N=Ed(e,"yAxis",f,r)),(n=(a=Oh(S,N,!0))!==null&&a!==void 0?a:y)!==null&&n!==void 0?n:0}}},oD=(e,t,r)=>{var n=wn(e),a=Lc(e,t),i=Pc(e,t);if(!(a==null||i==null)){var c,f;return n==="horizontal"?(c=Cd(e,"xAxis",a,r),f=Ed(e,"xAxis",a,r)):(c=Cd(e,"yAxis",i,r),f=Ed(e,"yAxis",i,r)),Oh(c,f)}},jre=ct([Cre,uk,$Y,dk,_re,oD,wre],vee),Ore=(e,t,r)=>{var n=Lc(e,t);if(n!=null)return Cd(e,"xAxis",n,r)},Tre=(e,t,r)=>{var n=Pc(e,t);if(n!=null)return Cd(e,"yAxis",n,r)},kre=(e,t,r)=>{var n=Lc(e,t);if(n!=null)return Ed(e,"xAxis",n,r)},Ire=(e,t,r)=>{var n=Pc(e,t);if(n!=null)return Ed(e,"yAxis",n,r)},Dre=ct([jre,Y1],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Mre=ct([Sre,Y1],yee),Lre=ct([Xi,ww,Ore,Tre,kre,Ire,Dre,wn,XT,oD,Mre,Y1,Are],(e,t,r,n,a,i,c,f,m,p,x,y,S)=>{var{chartData:N,dataStartIndex:j,dataEndIndex:_}=m;if(!(y==null||c==null||t==null||f!=="horizontal"&&f!=="vertical"||r==null||n==null||a==null||i==null||p==null)){var{data:T}=y,I;if(T!=null&&T.length>0?I=T:I=N==null?void 0:N.slice(j,_+1),I!=null)return une({layout:f,barSettings:y,pos:c,parentViewBox:t,bandSize:p,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:x,displayedData:I,offset:e,cells:S,dataStartIndex:j})}}),Pre=["index"];function _5(){return _5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_5.apply(null,arguments)}function Rre(e,t){if(e==null)return{};var r,n,a=Bre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lD=M.createContext(void 0),Fre=e=>{var t=M.useContext(lD);if(t!=null)return t.stackId;if(e!=null)return P7(e)},zre=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Ure=e=>{var t=M.useContext(lD);if(t!=null){var{stackId:r}=t;return"url(#".concat(zre(r,e),")")}},qre=e=>{var{index:t}=e,r=Rre(e,Pre),n=Ure(t);return M.createElement(yi,_5({className:"recharts-bar-stack-layer",clipPath:n},r))},Hre=["onMouseEnter","onMouseLeave","onClick"],Vre=["value","background","tooltipPosition"],Gre=["id"],Wre=["onMouseEnter","onClick","onMouseLeave"];function Au(){return Au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Au.apply(null,arguments)}function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(n){Yre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yre(e,t,r){return(t=$re(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $re(e){var t=Xre(e,"string");return typeof t=="symbol"?t:t+""}function Xre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _g(e,t){if(e==null)return{};var r,n,a=Kre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Qre=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Uh(r,t),payload:e}]},Zre=M.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:c,unit:f,tooltipType:m,id:p}=e,x={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Uh(i,t),hide:c,type:m,color:a,unit:f,graphicalItemId:p}};return M.createElement(q3,{tooltipEntrySettings:x})});function Jre(e){var t=mr(_d),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:c,onMouseLeave:f,onClick:m}=i,p=_g(i,Hre),x=F3(c,n,i.id),y=z3(f),S=U3(m,n,i.id);if(!a||r==null)return null;var N=mf(a);return M.createElement(Mo,{zIndex:bee(a,Li.barBackground)},r.map((j,_)=>{var{value:T,background:I,tooltipPosition:R}=j,F=_g(j,Vre);if(!I)return null;var G=x(j,_),Y=y(j,_),J=S(j,_),V=to(to(to(to(to({option:a,isActive:String(_)===t},F),{},{fill:"#eee"},I),N),Xg(p,j,_)),{},{onMouseEnter:G,onMouseLeave:Y,onClick:J,dataKey:n,index:_,className:"recharts-bar-background-rectangle"});return M.createElement(Cg,Au({key:"background-bar-".concat(_)},V))}))}function ene(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var c={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return to(to({},c),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:c,fill:i.fill})});return M.createElement(TI,{value:t?a:void 0},r)}function tne(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:c}=e,f=mr(_d),m=mr(j3),p=r&&String(i)===f&&(m==null||c===m),x=p?r:t;return p?M.createElement(Mo,{zIndex:Li.activeBar},M.createElement(Cg,Au({},n,{name:String(n.name)},a,{isActive:p,option:x,index:i,dataKey:c}))):M.createElement(Cg,Au({},n,{name:String(n.name)},a,{isActive:p,option:x,index:i,dataKey:c}))}function rne(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return M.createElement(Cg,Au({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function nne(e){var t,{data:r,props:n}=e,a=(t=ko(n))!==null&&t!==void 0?t:{},{id:i}=a,c=_g(a,Gre),{shape:f,dataKey:m,activeBar:p}=n,{onMouseEnter:x,onClick:y,onMouseLeave:S}=n,N=_g(n,Wre),j=F3(x,m,i),_=z3(S),T=U3(y,m,i);return r?M.createElement(M.Fragment,null,r.map((I,R)=>M.createElement(qre,Au({index:R,key:"rectangle-".concat(I==null?void 0:I.x,"-").concat(I==null?void 0:I.y,"-").concat(I==null?void 0:I.value,"-").concat(R),className:"recharts-bar-rectangle"},Xg(N,I,R),{onMouseEnter:j(I,R),onMouseLeave:_(I,R),onClick:T(I,R)}),p?M.createElement(tne,{shape:f,activeBar:p,baseProps:c,entry:I,index:R,dataKey:m}):M.createElement(rne,{shape:f,baseProps:c,entry:I,index:R,dataKey:m})))):null}function ane(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:c,animationDuration:f,animationEasing:m,onAnimationEnd:p,onAnimationStart:x}=t,y=r.current,S=D1(t,"recharts-bar-"),[N,j]=M.useState(!1),_=!N,T=M.useCallback(()=>{typeof p=="function"&&p(),j(!1)},[p]),I=M.useCallback(()=>{typeof x=="function"&&x(),j(!0)},[x]);return M.createElement(ene,{showLabels:_,rects:n},M.createElement(I1,{animationId:S,begin:c,duration:f,isActive:i,easing:m,onAnimationEnd:T,onAnimationStart:I,key:S},R=>{var F=R===1?n:n==null?void 0:n.map((G,Y)=>{var J=y&&y[Y];if(J)return to(to({},G),{},{x:Ta(J.x,G.x,R),y:Ta(J.y,G.y,R),width:Ta(J.width,G.width,R),height:Ta(J.height,G.height,R)});if(a==="horizontal"){var V=Ta(0,G.height,R),$=Ta(G.stackedBarStart,G.y,R);return to(to({},G),{},{y:$,height:V})}var W=Ta(0,G.width,R),Ne=Ta(G.stackedBarStart,G.x,R);return to(to({},G),{},{width:W,x:Ne})});return R>0&&(r.current=F??null),F==null?null:M.createElement(yi,null,M.createElement(nne,{props:t,data:F}))}),M.createElement(L3,{label:t.label}),t.children)}function ine(e){var t=M.useRef(null);return M.createElement(ane,{previousRectanglesRef:t,props:e})}var cD=0,sne=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:ia(e,t)}};class one extends M.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:c,needClip:f,background:m,id:p}=this.props;if(t||r==null)return null;var x=qn("recharts-bar",a),y=p;return M.createElement(yi,{className:x,id:p},f&&M.createElement("defs",null,M.createElement(QI,{clipPathId:y,xAxisId:i,yAxisId:c})),M.createElement(yi,{className:"recharts-bar-rectangles",clipPath:f?"url(#clipPath-".concat(y,")"):void 0},M.createElement(Jre,{data:r,dataKey:n,background:m,allOtherBarProps:this.props}),M.createElement(ine,this.props)))}}var lne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:cD,xAxisId:0,yAxisId:0,zIndex:Li.bar};function cne(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:c,animationBegin:f,animationDuration:m,animationEasing:p,isAnimationActive:x}=e,{needClip:y}=$3(t,r),S=Ef(),N=Hs(),j=B3(e.children,uf),_=mr(R=>Lre(R,e.id,N,j));if(S!=="vertical"&&S!=="horizontal")return null;var T,I=_==null?void 0:_[0];return I==null||I.height==null||I.width==null?T=0:T=S==="vertical"?I.height/2:I.width/2,M.createElement(Ste,{xAxisId:t,yAxisId:r,data:_,dataPointFormatter:sne,errorBarOffset:T},M.createElement(one,Au({},e,{layout:S,needClip:y,data:_,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:c,animationBegin:f,animationDuration:m,animationEasing:p,isAnimationActive:x})))}function une(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:c,yAxis:f,xAxisTicks:m,yAxisTicks:p,stackedData:x,displayedData:y,offset:S,cells:N,parentViewBox:j,dataStartIndex:_}=e,T=t==="horizontal"?f:c,I=x?T.scale.domain():null,R=Wq({numericAxis:T}),F=T.scale(R);return y.map((G,Y)=>{var J,V,$,W,Ne,Z;if(x){var Q=x[Y+_];if(Q==null)return null;J=Uq(Q,I)}else J=ia(G,r),Array.isArray(J)||(J=[R,J]);var me=vre(n,cD)(J[1],Y);if(t==="horizontal"){var re,[q,ie]=[f.scale(J[0]),f.scale(J[1])];V=Z6({axis:c,ticks:m,bandSize:i,offset:a.offset,entry:G,index:Y}),$=(re=ie??q)!==null&&re!==void 0?re:void 0,W=a.size;var oe=q-ie;if(Ne=yl(oe)?0:oe,Z={x:V,y:S.top,width:W,height:S.height},Math.abs(me)>0&&Math.abs(Ne)<Math.abs(me)){var de=ds(Ne||me)*(Math.abs(me)-Math.abs(Ne));$-=de,Ne+=de}}else{var[ee,Ae]=[c.scale(J[0]),c.scale(J[1])];if(V=ee,$=Z6({axis:f,ticks:p,bandSize:i,offset:a.offset,entry:G,index:Y}),W=Ae-ee,Ne=a.size,Z={x:S.left,y:$,width:S.width,height:Ne},Math.abs(me)>0&&Math.abs(W)<Math.abs(me)){var ce=ds(W||me)*(Math.abs(me)-Math.abs(W));W+=ce}}if(V==null||$==null||W==null||Ne==null)return null;var U=to(to({},G),{},{stackedBarStart:F,x:V,y:$,width:W,height:Ne,value:x?J:J[1],payload:G,background:Z,tooltipPosition:{x:V+W/2,y:$+Ne/2},parentViewBox:j},N&&N[Y]&&N[Y].props);return U}).filter(Boolean)}function dne(e){var t=fs(e,lne),r=Fre(t.stackId),n=Hs();return M.createElement(H3,{id:t.id,type:"bar"},a=>M.createElement(M.Fragment,null,M.createElement(zI,{legendPayload:Qre(t)}),M.createElement(Zre,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),M.createElement(qI,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),M.createElement(Mo,{zIndex:t.zIndex},M.createElement(cne,Au({},t,{id:a})))))}var uD=M.memo(dne,Rx);uD.displayName="Bar";var fne=["domain","range"],hne=["domain","range"];function d_(e,t){if(e==null)return{};var r,n,a=pne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function f_(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function dD(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=d_(e,fne),{domain:i,range:c}=t,f=d_(t,hne);return!f_(r,i)||!f_(n,c)?!1:Rx(a,f)}var mne=["dangerouslySetInnerHTML","ticks","scale"],gne=["id","scale"];function j5(){return j5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j5.apply(null,arguments)}function h_(e,t){if(e==null)return{};var r,n,a=xne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vne(e){var t=Va(),r=M.useRef(null);return M.useLayoutEffect(()=>{r.current===null?t(ZJ(e)):r.current!==e&&t(JJ({prev:r.current,next:e})),r.current=e},[e,t]),M.useLayoutEffect(()=>()=>{r.current&&(t(eee(r.current)),r.current=null)},[t]),null}var yne=e=>{var{xAxisId:t,className:r}=e,n=mr(ww),a=Hs(),i="xAxis",c=mr(I=>Hk(I,i,t,a)),f=mr(I=>Fk(I,t)),m=mr(I=>Y$(I,t)),p=mr(I=>bk(I,t));if(f==null||m==null||p==null)return null;var{dangerouslySetInnerHTML:x,ticks:y,scale:S}=e,N=h_(e,mne),{id:j,scale:_}=p,T=h_(p,gne);return M.createElement(Y3,j5({},N,T,{x:m.x,y:m.y,width:f.width,height:f.height,className:qn("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:c,axisType:i}))},bne={allowDataOverflow:os.allowDataOverflow,allowDecimals:os.allowDecimals,allowDuplicatedCategory:os.allowDuplicatedCategory,angle:os.angle,axisLine:mu.axisLine,height:os.height,hide:!1,includeHidden:os.includeHidden,interval:os.interval,minTickGap:os.minTickGap,mirror:os.mirror,orientation:os.orientation,padding:os.padding,reversed:os.reversed,scale:os.scale,tick:os.tick,tickCount:os.tickCount,tickLine:mu.tickLine,tickSize:mu.tickSize,type:os.type,xAxisId:0},wne=e=>{var t=fs(e,bne);return M.createElement(M.Fragment,null,M.createElement(vne,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),M.createElement(yne,t))},O5=M.memo(wne,dD);O5.displayName="XAxis";var Ane=["dangerouslySetInnerHTML","ticks","scale"],Nne=["id","scale"];function T5(){return T5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T5.apply(null,arguments)}function p_(e,t){if(e==null)return{};var r,n,a=Sne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Sne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ene(e){var t=Va(),r=M.useRef(null);return M.useLayoutEffect(()=>{r.current===null?t(tee(e)):r.current!==e&&t(ree({prev:r.current,next:e})),r.current=e},[e,t]),M.useLayoutEffect(()=>()=>{r.current&&(t(nee(r.current)),r.current=null)},[t]),null}var Cne=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=M.useRef(null),c=M.useRef(null),f=mr(ww),m=Hs(),p=Va(),x="yAxis",y=mr(J=>zk(J,t)),S=mr(J=>X$(J,t)),N=mr(J=>Hk(J,x,t,m)),j=mr(J=>wk(J,t));if(M.useLayoutEffect(()=>{if(!(n!=="auto"||!y||M3(a)||M.isValidElement(a)||j==null)){var J=i.current;if(J){var V=J.getCalculatedWidth();Math.round(y.width)!==Math.round(V)&&p(aee({id:t,width:V}))}}},[N,y,p,a,t,n,j]),y==null||S==null||j==null)return null;var{dangerouslySetInnerHTML:_,ticks:T,scale:I}=e,R=p_(e,Ane),{id:F,scale:G}=j,Y=p_(j,Nne);return M.createElement(Y3,T5({},R,Y,{ref:i,labelRef:c,x:S.x,y:S.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:y.width,height:y.height,className:qn("recharts-".concat(x," ").concat(x),r),viewBox:f,ticks:N,axisType:x}))},_ne={allowDataOverflow:ls.allowDataOverflow,allowDecimals:ls.allowDecimals,allowDuplicatedCategory:ls.allowDuplicatedCategory,angle:ls.angle,axisLine:mu.axisLine,hide:!1,includeHidden:ls.includeHidden,interval:ls.interval,minTickGap:ls.minTickGap,mirror:ls.mirror,orientation:ls.orientation,padding:ls.padding,reversed:ls.reversed,scale:ls.scale,tick:ls.tick,tickCount:ls.tickCount,tickLine:mu.tickLine,tickSize:mu.tickSize,type:ls.type,width:ls.width,yAxisId:0},jne=e=>{var t=fs(e,_ne);return M.createElement(M.Fragment,null,M.createElement(Ene,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),M.createElement(Cne,t))},k5=M.memo(jne,dD);k5.displayName="YAxis";var One=(e,t)=>t,X3=ct([One,wn,vk,Qi,iI,ku,uK,Xi],xK),K3=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},fD=bl("mouseClick"),hD=j1();hD.startListening({actionCreator:fD,effect:(e,t)=>{var r=e.payload,n=X3(t.getState(),K3(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(cX({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var I5=bl("mouseMove"),pD=j1(),um=null;pD.startListening({actionCreator:I5,effect:(e,t)=>{var r=e.payload;um!==null&&cancelAnimationFrame(um);var n=K3(r);um=requestAnimationFrame(()=>{var a=t.getState(),i=A3(a,a.tooltip.settings.shared);if(i==="axis"){var c=X3(a,n);(c==null?void 0:c.activeIndex)!=null?t.dispatch(Qk({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(Kk())}um=null})}});function Tne(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var m_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},mD=Do({name:"rootProps",initialState:m_,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:m_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),kne=mD.reducer,{updateOptions:Ine}=mD.actions,gD=Do({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Dne}=gD.actions,Mne=gD.reducer,xD=bl("keyDown"),vD=bl("focus"),Q3=j1();Q3.startListening({actionCreator:xD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var c=N3(a,Kh(r),q1(r),G1(r)),f=c==null?-1:Number(c);if(!(!Number.isFinite(f)||f<0)){var m=ku(r);if(i==="Enter"){var p=yg(r,"axis","hover",String(a.index));t.dispatch(v5({active:!a.active,activeIndex:a.index,activeCoordinate:p}));return}var x=J$(r),y=x==="left-to-right"?1:-1,S=i==="ArrowRight"?1:-1,N=f+S*y;if(!(m==null||N>=m.length||N<0)){var j=yg(r,"axis","hover",String(N));t.dispatch(v5({active:!0,activeIndex:N.toString(),activeCoordinate:j}))}}}}}});Q3.startListening({actionCreator:vD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",c=yg(r,"axis","hover",String(i));t.dispatch(v5({active:!0,activeIndex:i,activeCoordinate:c}))}}}});var gl=bl("externalEvent"),yD=j1(),tb=new Map;yD.startListening({actionCreator:gl,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=tb.get(a);i!==void 0&&cancelAnimationFrame(i);var c=requestAnimationFrame(()=>{try{var f=t.getState(),m={activeCoordinate:XX(f),activeDataKey:j3(f),activeIndex:_d(f),activeLabel:lI(f),activeTooltipIndex:_d(f),isTooltipActive:KX(f)};r(m,n)}finally{tb.delete(a)}});tb.set(a,c)}}});var Lne=ct([$h],e=>e.tooltipItemPayloads),Pne=ct([Lne,V1,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(f=>f.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var c=t(i,r);return c}}}),bD=bl("touchMove"),wD=j1();wD.startListening({actionCreator:bD,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=A3(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var c=X3(n,K3({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(c==null?void 0:c.activeIndex)!=null&&t.dispatch(Qk({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(a==="item"){var f,m=r.touches[0];if(document.elementFromPoint==null||m==null)return;var p=document.elementFromPoint(m.clientX,m.clientY);if(!p||!p.getAttribute)return;var x=p.getAttribute(B7),y=(f=p.getAttribute(F7))!==null&&f!==void 0?f:void 0,S=Xh(n).find(_=>_.id===y);if(x==null||S==null||y==null)return;var{dataKey:N}=S,j=Pne(n,x,y);t.dispatch(Xk({activeDataKey:N,activeIndex:x,activeCoordinate:j,activeGraphicalItemId:y}))}}}});var Rne=i7({brush:wee,cartesianAxis:iee,chartData:$K,errorBars:vte,graphicalItems:dJ,layout:Lq,legend:UH,options:HK,polarAxis:EZ,polarOptions:Mne,referenceElements:jee,rootProps:kne,tooltip:uX,zIndex:kK}),Bne=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return sq({reducer:Rne,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([hD.middleware,pD.middleware,Q3.middleware,yD.middleware,wD.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(b7({type:"raf"}))},devTools:{serialize:{replacer:Tne},name:"recharts-".concat(r)}})};function AD(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Hs(),i=M.useRef(null);if(a)return r;i.current==null&&(i.current=Bne(t,n));var c=fw;return M.createElement(Ute,{context:c,store:i.current},r)}function Fne(e){var{layout:t,margin:r}=e,n=Va(),a=Hs();return M.useEffect(()=>{a||(n(Iq(t)),n(kq(r)))},[n,a,t,r]),null}var ND=M.memo(Fne,Rx);function SD(e){var t=Va();return M.useEffect(()=>{t(Ine(e))},[t,e]),null}function g_(e){var{zIndex:t,isPanorama:r}=e,n=M.useRef(null),a=Va();return M.useLayoutEffect(()=>(n.current&&a(OK({zIndex:t,element:n.current,isPanorama:r})),()=>{a(TK({zIndex:t,isPanorama:r}))}),[a,t,r]),M.createElement("g",{tabIndex:-1,ref:n})}function x_(e){var{children:t,isPanorama:r}=e,n=mr(yK);if(!n||n.length===0)return t;var a=n.filter(c=>c<0),i=n.filter(c=>c>0);return M.createElement(M.Fragment,null,a.map(c=>M.createElement(g_,{key:c,zIndex:c,isPanorama:r})),t,i.map(c=>M.createElement(g_,{key:c,zIndex:c,isPanorama:r})))}var zne=["children"];function Une(e,t){if(e==null)return{};var r,n,a=qne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jg.apply(null,arguments)}var Hne={width:"100%",height:"100%",display:"block"},Vne=M.forwardRef((e,t)=>{var r=G7(),n=W7(),a=nT();if(!kc(r)||!kc(n))return null;var{children:i,otherAttributes:c,title:f,desc:m}=e,p,x;return c!=null&&(typeof c.tabIndex=="number"?p=c.tabIndex:p=a?0:void 0,typeof c.role=="string"?x=c.role:x=a?"application":void 0),M.createElement(AO,jg({},c,{title:f,desc:m,role:x,tabIndex:p,width:r,height:n,style:Hne,ref:t}),i)}),Gne=e=>{var{children:t}=e,r=mr(lx);if(!r)return null;var{width:n,height:a,y:i,x:c}=r;return M.createElement(AO,{width:n,height:a,x:c,y:i},t)},v_=M.forwardRef((e,t)=>{var{children:r}=e,n=Une(e,zne),a=Hs();return a?M.createElement(Gne,null,M.createElement(x_,{isPanorama:!0},r)):M.createElement(Vne,jg({ref:t},n),M.createElement(x_,{isPanorama:!1},r))});function Wne(){var e=Va(),[t,r]=M.useState(null),n=mr(Zq);return M.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;ga(i)&&i!==n&&e(Mq(i))}},[t,e,n]),r}function y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(r),!0).forEach(function(n){$ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ne(e,t,r){return(t=Xne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xne(e){var t=Kne(e,"string");return typeof t=="symbol"?t:t+""}function Kne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Af.apply(null,arguments)}var Qne=()=>(nQ(),null);function Og(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Zne=M.forwardRef((e,t)=>{var r,n,a=M.useRef(null),[i,c]=M.useState({containerWidth:Og((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Og((n=e.style)===null||n===void 0?void 0:n.height)}),f=M.useCallback((p,x)=>{c(y=>{var S=Math.round(p),N=Math.round(x);return y.containerWidth===S&&y.containerHeight===N?y:{containerWidth:S,containerHeight:N}})},[]),m=M.useCallback(p=>{if(typeof t=="function"&&t(p),p!=null&&typeof ResizeObserver<"u"){var{width:x,height:y}=p.getBoundingClientRect();f(x,y);var S=j=>{var{width:_,height:T}=j[0].contentRect;f(_,T)},N=new ResizeObserver(S);N.observe(p),a.current=N}},[t,f]);return M.useEffect(()=>()=>{var p=a.current;p!=null&&p.disconnect()},[f]),M.createElement(M.Fragment,null,M.createElement(ux,{width:i.containerWidth,height:i.containerHeight}),M.createElement("div",Af({ref:m},e)))}),Jne=M.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=M.useState({containerWidth:Og(r),containerHeight:Og(n)}),c=M.useCallback((m,p)=>{i(x=>{var y=Math.round(m),S=Math.round(p);return x.containerWidth===y&&x.containerHeight===S?x:{containerWidth:y,containerHeight:S}})},[]),f=M.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null){var{width:p,height:x}=m.getBoundingClientRect();c(p,x)}},[t,c]);return M.createElement(M.Fragment,null,M.createElement(ux,{width:a.containerWidth,height:a.containerHeight}),M.createElement("div",Af({ref:f},e)))}),eae=M.forwardRef((e,t)=>{var{width:r,height:n}=e;return M.createElement(M.Fragment,null,M.createElement(ux,{width:r,height:n}),M.createElement("div",Af({ref:t},e)))}),tae=M.forwardRef((e,t)=>{var{width:r,height:n}=e;return gu(r)||gu(n)?M.createElement(Jne,Af({},e,{ref:t})):M.createElement(eae,Af({},e,{ref:t}))});function rae(e){return e===!0?Zne:tae}var nae=M.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:c,onDoubleClick:f,onMouseDown:m,onMouseEnter:p,onMouseLeave:x,onMouseMove:y,onMouseUp:S,onTouchEnd:N,onTouchMove:j,onTouchStart:_,style:T,width:I,responsive:R,dispatchTouchEvents:F=!0}=e,G=M.useRef(null),Y=Va(),[J,V]=M.useState(null),[$,W]=M.useState(null),Ne=Wne(),Z=Aw(),Q=(Z==null?void 0:Z.width)>0?Z.width:I,me=(Z==null?void 0:Z.height)>0?Z.height:a,re=M.useCallback(pe=>{Ne(pe),typeof t=="function"&&t(pe),V(pe),W(pe),pe!=null&&(G.current=pe)},[Ne,t,V,W]),q=M.useCallback(pe=>{Y(fD(pe)),Y(gl({handler:i,reactEvent:pe}))},[Y,i]),ie=M.useCallback(pe=>{Y(I5(pe)),Y(gl({handler:p,reactEvent:pe}))},[Y,p]),oe=M.useCallback(pe=>{Y(Kk()),Y(gl({handler:x,reactEvent:pe}))},[Y,x]),de=M.useCallback(pe=>{Y(I5(pe)),Y(gl({handler:y,reactEvent:pe}))},[Y,y]),ee=M.useCallback(()=>{Y(vD())},[Y]),Ae=M.useCallback(pe=>{Y(xD(pe.key))},[Y]),ce=M.useCallback(pe=>{Y(gl({handler:c,reactEvent:pe}))},[Y,c]),U=M.useCallback(pe=>{Y(gl({handler:f,reactEvent:pe}))},[Y,f]),H=M.useCallback(pe=>{Y(gl({handler:m,reactEvent:pe}))},[Y,m]),se=M.useCallback(pe=>{Y(gl({handler:S,reactEvent:pe}))},[Y,S]),ve=M.useCallback(pe=>{Y(gl({handler:_,reactEvent:pe}))},[Y,_]),ne=M.useCallback(pe=>{F&&Y(bD(pe)),Y(gl({handler:j,reactEvent:pe}))},[Y,F,j]),le=M.useCallback(pe=>{Y(gl({handler:N,reactEvent:pe}))},[Y,N]),je=rae(R);return M.createElement(gI.Provider,{value:J},M.createElement(zF.Provider,{value:$},M.createElement(je,{width:Q??(T==null?void 0:T.width),height:me??(T==null?void 0:T.height),className:qn("recharts-wrapper",n),style:Yne({position:"relative",cursor:"default",width:Q,height:me},T),onClick:q,onContextMenu:ce,onDoubleClick:U,onFocus:ee,onKeyDown:Ae,onMouseDown:H,onMouseEnter:ie,onMouseLeave:oe,onMouseMove:de,onMouseUp:se,onTouchEnd:le,onTouchMove:ne,onTouchStart:ve,ref:re},M.createElement(Qne,null),r)))}),aae=["width","height","responsive","children","className","style","compact","title","desc"];function iae(e,t){if(e==null)return{};var r,n,a=sae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ED=M.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:c,style:f,compact:m,title:p,desc:x}=e,y=iae(e,aae),S=ko(y);return m?M.createElement(M.Fragment,null,M.createElement(ux,{width:r,height:n}),M.createElement(v_,{otherAttributes:S,title:p,desc:x},i)):M.createElement(nae,{className:c,style:f,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},M.createElement(v_,{otherAttributes:S,title:p,desc:x,ref:t},M.createElement(Tee,null,i)))});function D5(){return D5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D5.apply(null,arguments)}var oae={top:5,right:5,bottom:5,left:5},lae={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:oae,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},CD=M.forwardRef(function(t,r){var n,a=fs(t.categoricalChartProps,lae),{chartName:i,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,categoricalChartProps:p}=t,x={chartName:i,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,eventEmitter:void 0};return M.createElement(AD,{preloadedState:{options:x},reduxStoreName:(n=p.id)!==null&&n!==void 0?n:i},M.createElement(GI,{chartData:p.data}),M.createElement(ND,{layout:a.layout,margin:a.margin}),M.createElement(SD,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),M.createElement(ED,D5({},a,{ref:r})))}),cae=["axis","item"],uae=M.forwardRef((e,t)=>M.createElement(CD,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:cae,tooltipPayloadSearcher:D3,categoricalChartProps:e,ref:t}));function dae(e){var t=Va();return M.useEffect(()=>{t(Dne(e))},[t,e]),null}var fae=["layout"];function M5(){return M5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M5.apply(null,arguments)}function hae(e,t){if(e==null)return{};var r,n,a=pae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mae={top:5,right:5,bottom:5,left:5},_D={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:mae,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},gae=M.forwardRef(function(t,r){var n,a=fs(t.categoricalChartProps,_D),{layout:i}=a,c=hae(a,fae),{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:p,tooltipPayloadSearcher:x}=t,y={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:p,tooltipPayloadSearcher:x,eventEmitter:void 0};return M.createElement(AD,{preloadedState:{options:y},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:f},M.createElement(GI,{chartData:a.data}),M.createElement(ND,{layout:i,margin:a.margin}),M.createElement(SD,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),M.createElement(dae,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),M.createElement(ED,M5({},c,{ref:r})))});function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){xae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xae(e,t,r){return(t=vae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vae(e){var t=yae(e,"string");return typeof t=="symbol"?t:t+""}function yae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bae=["item"],wae=w_(w_({},_D),{},{layout:"centric",startAngle:0,endAngle:360}),A_=M.forwardRef((e,t)=>{var r=fs(e,wae);return M.createElement(gae,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:bae,tooltipPayloadSearcher:D3,categoricalChartProps:r,ref:t})}),Aae=["axis"],Nae=M.forwardRef((e,t)=>M.createElement(CD,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Aae,tooltipPayloadSearcher:D3,categoricalChartProps:e,ref:t}));const Sae=()=>{const{isDark:e}=bi(),{user:t}=$i();Ha();const[r,n]=M.useState({monthlyOrders:0,totalRevenue:0,upiCount:0,freeCount:0,guestCount:0,allOrdersCount:0,todayOrders:0}),[a,i]=M.useState([]),[c,f]=M.useState([]),[m,p]=M.useState([]),[x,y]=M.useState(!0),[S,N]=M.useState(1),[j,_]=M.useState(1),T=6,I=q=>{const ie=q.getFullYear(),oe=String(q.getMonth()+1).padStart(2,"0"),de=String(q.getDate()).padStart(2,"0");return`${ie}-${oe}-${de}`},[R,F]=M.useState({start_date:I(new Date),end_date:I(new Date),unit_id:"",payment_mode:""}),G=()=>{F({start_date:I(new Date),end_date:I(new Date),unit_id:"",payment_mode:""})},[Y,J]=M.useState([]),V=M.useCallback(async()=>{var q;try{const ie=await Ut.get("/units");let oe=Array.isArray(ie.data)?ie.data:((q=ie.data)==null?void 0:q.units)||[];(t==null?void 0:t.role)==="unit_admin"&&(t!=null&&t.unit_id)&&(oe=oe.filter(de=>de.id===t.unit_id)),J(oe)}catch(ie){console.error("Fetch units error:",ie)}},[t]),[$,W]=M.useState([]);M.useEffect(()=>{(t==null?void 0:t.role)==="unit_admin"&&(t!=null&&t.unit_id)&&F(q=>({...q,unit_id:t.unit_id}))},[t]);const Ne=M.useCallback(async()=>{var q;try{y(!0);const ie=new URLSearchParams;R.start_date&&(ie.append("start_date",R.start_date),ie.append("startDate",R.start_date)),R.end_date&&(ie.append("end_date",R.end_date),ie.append("endDate",R.end_date)),R.unit_id&&(ie.append("unit_id",R.unit_id),ie.append("unitId",R.unit_id)),R.payment_mode&&(ie.append("payment_mode",R.payment_mode),ie.append("paymentMode",R.payment_mode));const oe=await Ut.get(`/dashboard/summary?${ie.toString()}`),{modes:de={},overall:ee={},products:Ae=[],billsCount:ce=0,today:U={},upiDailySeries:H=[]}=oe.data||{};n(ke=>{var ue,Le,$e;return{...ke,totalBills:ce||0,totalRevenue:Number((ee==null?void 0:ee.total)||0),upiCount:((ue=de==null?void 0:de.UPI)==null?void 0:ue.count)||0,freeCount:((Le=de==null?void 0:de.FREE)==null?void 0:Le.count)||0,guestCount:(($e=de==null?void 0:de.GUEST)==null?void 0:$e.count)||0,allOrdersCount:(ee==null?void 0:ee.count)||ce||0,todayOrders:(U==null?void 0:U.totalOrders)||0}}),f(H);const se=new URLSearchParams;R.start_date&&(se.append("start_date",R.start_date),se.append("startDate",R.start_date)),R.end_date&&(se.append("end_date",R.end_date),se.append("endDate",R.end_date)),R.unit_id&&(se.append("unit_id",R.unit_id),se.append("unitId",R.unit_id)),R.payment_mode&&(se.append("payment_mode",R.payment_mode),se.append("paymentMode",R.payment_mode)),se.append("limit","10000");const ve=await Ut.get(`/logs?${se.toString()}`),ne=((q=ve.data)==null?void 0:q.logs)||ve.data||[],le={};(Array.isArray(ne)?ne:[]).forEach(ke=>{const ue=ke.ref_item_id||ke.item_name_en||ke.item_name||"unknown";le[ue]||(le[ue]={product_id:ke.ref_item_id,name_en:ke.item_name_en||ke.item_name||ke.product_name,name_ta:ke.item_name_ta,totalQty:0,totalAmount:0}),le[ue].totalQty+=Number(ke.quantity||0),le[ue].totalAmount+=Number(ke.amount||0)});const je=Object.values(le).sort((ke,ue)=>ue.totalAmount-ke.totalAmount);i(je);const pe=(Array.isArray(ne)?ne:[]).reduce((ke,ue)=>{if(!ue||!ue.bill_date)return ke;try{const Le=new Date(ue.bill_date).toISOString().split("T")[0];ke[Le]=(ke[Le]||0)+parseFloat(ue.amount||0)}catch{console.warn("Invalid date in log:",ue.bill_date)}return ke},{}),Te=Object.entries(pe).sort(([ke],[ue])=>ke.localeCompare(ue)).map(([ke,ue])=>({name:new Date(ke).toLocaleDateString("en-IN",{day:"2-digit",month:"short"}),value:ue}));W(Te)}catch(ie){if(console.error("Fetch stats error:",ie),ie.response){const oe=ie.response.status,de=ie.response.data;oe===403?de!=null&&de.error:oe===401||oe===404||(de!=null&&de.error?de.error:de!=null&&de.message?de.message:`${oe}${ie.message}`)}else ie.request||ie.message}finally{y(!1)}},[R]),Z=M.useCallback(async(q=1)=>{try{const ie=new URLSearchParams;ie.append("page",q),ie.append("limit",T),R.unit_id&&(ie.append("unit_id",R.unit_id),ie.append("unitId",R.unit_id)),R.payment_mode&&(ie.append("payment_mode",R.payment_mode),ie.append("paymentMode",R.payment_mode));const oe=await Ut.get(`/orders?${ie.toString()}`),de=oe.data.orders||[],ee=oe.data.totalPages||1;p(de),_(ee)}catch(ie){console.warn("/orders GET failed:",ie.message)}},[T,R.unit_id,R.payment_mode]);M.useEffect(()=>{Z(S)},[Z,S]),M.useEffect(()=>{V()},[V]),M.useEffect(()=>{Ne()},[Ne]);const Q=()=>{try{if(!a||a.length===0){alert("No Item data to export for the selected filters.");return}const q=new br("p","mm","a4"),ie=q.internal.pageSize.getWidth(),oe=15;let de=20;if(q.setFontSize(14),q.setTextColor(30,41,59),q.setFont(void 0,"bold"),q.text("DASHBOARD ITEMS SUMMARY",oe,de),de+=10,q.setDrawColor(226,232,240),q.line(oe,de,ie-15,de),de+=10,q.setFontSize(10),q.setTextColor(30,41,59),q.setFont(void 0,"bold"),q.text(`Generated On: ${new Date().toLocaleString()}`,oe,de),de+=6,q.setFont(void 0,"normal"),q.text(`Date Range: ${R.start_date} to ${R.end_date}`,oe,de),R.unit_id&&Array.isArray(Y)){const U=Y.find(H=>String(H.id)===String(R.unit_id));U&&(de+=6,q.text(`Unit: ${U.name}`,oe,de))}de+=10;const ee=U=>(q.setFillColor(250,198,57),q.rect(oe,U,ie-oe*2,10,"F"),q.setFont(void 0,"bold"),q.setTextColor(0,0,0),q.setFontSize(10),q.text("S.No",oe+3,U+7),q.text("Item Name",oe+18,U+7),q.text("Qty",oe+130,U+7,{align:"right"}),q.text("Amount",oe+170,U+7,{align:"right"}),U+10+2);de=ee(de),q.setFont(void 0,"normal"),q.setTextColor(30,41,59),q.setFontSize(9);let Ae=0,ce=0;a.forEach((U,H)=>{const se=U.name_en||U.name||"Unknown",ve=Number(U.totalQty??0),ne=Number(U.totalAmount??0);Ae+=ne,ce+=ve;const je=q.splitTextToSize(se,90),pe=Math.max(8,je.length*5)+4;de+pe>280&&(q.addPage(),de=20,de=ee(de),q.setFont(void 0,"normal"),q.setTextColor(30,41,59),q.setFontSize(9)),q.text(String(H+1),oe+3,de+5),q.text(je,oe+18,de+5),q.text(String(ve),oe+130,de+5,{align:"right"}),q.text(`INR ${ne.toFixed(2)}`,oe+170,de+5,{align:"right"}),q.setDrawColor(241,245,249),q.line(oe,de+pe-2,ie-15,de+pe-2),de+=pe}),de+=5,de>280&&(q.addPage(),de=20),q.setFont(void 0,"bold"),q.setFontSize(11),q.setTextColor(0,0,0),q.text("Grand Total:",oe+100,de),q.text(String(ce),oe+130,de,{align:"right"}),q.setTextColor(22,163,74),q.text(`INR ${Ae.toFixed(2)}`,oe+170,de,{align:"right"}),q.save(`dashboard-summary-${R.start_date}.pdf`)}catch(q){console.error("PDF export error:",q),alert("Failed to export PDF. Please try again.")}},me=()=>{try{if(!c||c.length===0){alert("No UPI data to export.");return}const q=new br("p","mm","a4"),ie=q.internal.pageSize.getWidth(),oe=15;let de=20;q.setFontSize(14),q.setTextColor(30,41,59),q.setFont(void 0,"bold"),q.text("UPI TRANSACTIONS REPORT",oe,de),de+=10,q.setDrawColor(226,232,240),q.line(oe,de,ie-15,de),de+=10,q.setFontSize(10),q.setTextColor(30,41,59),q.setFont(void 0,"bold"),q.text(`Generated On: ${new Date().toLocaleString()}`,oe,de),de+=6,q.setFont(void 0,"normal"),q.text(`Date Range: ${R.start_date} to ${R.end_date}`,oe,de),de+=10;const ee=10;q.setFillColor(250,198,57),q.rect(oe,de,ie-oe*2,ee,"F"),q.setFont(void 0,"bold"),q.setTextColor(0,0,0),q.text("Date",oe+3,de+7),q.text("Count",oe+80,de+7,{align:"center"}),q.text("Amount",oe+160,de+7,{align:"right"}),de+=ee+2,q.setFont(void 0,"normal"),q.setTextColor(30,41,59);let Ae=0,ce=0;c.forEach((U,H)=>{Ae+=U.count,ce+=U.amount,q.text(new Date(U.date).toLocaleDateString(),oe+3,de+5),q.text(String(U.count),oe+80,de+5,{align:"center"}),q.text(`INR ${U.amount.toFixed(2)}`,oe+160,de+5,{align:"right"}),q.setDrawColor(241,245,249),q.line(oe,de+8,ie-15,de+8),de+=10}),de+=5,q.setFont(void 0,"bold"),q.setTextColor(0,0,0),q.text("Total:",oe+50,de),q.text(String(Ae),oe+80,de,{align:"center"}),q.setTextColor(22,163,74),q.text(`INR ${ce.toFixed(2)}`,oe+160,de,{align:"right"}),q.save(`upi-report-${R.start_date}.pdf`)}catch(q){console.error("PDF export error:",q),alert("Failed to export PDF.")}},re=M.useMemo(()=>{if(!a.length)return{max:1,columns:[]};const q=[...a].sort((ee,Ae)=>(Ae.totalAmount||0)-(ee.totalAmount||0)),ie=Math.max(...q.map(ee=>ee.totalAmount||0),1),oe=q.length>9?3:2,de=Array.from({length:oe},()=>[]);return q.forEach((ee,Ae)=>{de[Ae%oe].push(ee)}),{max:ie,columns:de}},[a]);return x?u.jsx(ci,{children:u.jsx(qs,{})}):u.jsx(ci,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6 sm:mb-10 animate-slide-up opacity-0",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-1.5 h-10 bg-[var(--brand-primary)] rounded-full shadow-[0_0_15px_rgba(249,115,22,0.4)]"}),u.jsx("h1",{className:"text-xl sm:text-2xl font-medium tracking-[0.1em] text-[var(--text-primary)]",children:"Dashboard".split("").map((q,ie)=>u.jsx("span",{className:"animate-letter-pop",style:{animationDelay:`${300+ie*50}ms`},children:q===" "?"":q},ie))})]})}),u.jsxs("div",{id:"dashboard-print-area",className:"space-y-6 sm:space-y-8",children:[u.jsxs("div",{className:"bg-[var(--surface-card)] p-6 rounded-2xl border border-[var(--border-default)] shadow-sm mb-8",children:[u.jsxs("div",{className:"flex flex-row justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-sm font-bold text-[var(--text-secondary)] uppercase tracking-widest",children:"Filters"}),u.jsxs("button",{onClick:G,className:"text-xs font-bold text-[var(--text-secondary)] hover:text-[var(--brand-primary)] flex items-center gap-1 transition-colors uppercase",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reset Filters"]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-xs font-bold text-[var(--text-primary)] opacity-60 mb-2 ml-1 uppercase tracking-widest",children:"Start Date"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"date",value:R.start_date,onChange:q=>F({...R,start_date:q.target.value}),className:"w-full bg-[var(--surface-main)] border border-[var(--border-default)] rounded-xl px-4 py-3 text-sm font-bold text-[var(--text-primary)] focus:border-[var(--brand-primary)] outline-none shadow-sm transition-all appearance-none cursor-pointer pr-10"}),u.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-[var(--text-secondary)] opacity-50",children:u.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),u.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),u.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),u.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-xs font-bold text-[var(--text-primary)] opacity-60 mb-2 ml-1 uppercase tracking-widest",children:"End Date"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"date",value:R.end_date,onChange:q=>F({...R,end_date:q.target.value}),className:"w-full bg-[var(--surface-main)] border border-[var(--border-default)] rounded-xl px-4 py-3 text-sm font-bold text-[var(--text-primary)] focus:border-[var(--brand-primary)] outline-none shadow-sm transition-all appearance-none cursor-pointer pr-10"}),u.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-[var(--text-secondary)] opacity-50",children:u.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),u.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),u.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),u.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-xs font-bold text-[var(--text-primary)] opacity-60 mb-2 ml-1 uppercase tracking-widest",children:"Select Unit"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:R.unit_id,onChange:q=>F({...R,unit_id:q.target.value}),disabled:(t==null?void 0:t.role)==="unit_admin",className:"w-full bg-[var(--surface-main)] border border-[var(--border-default)] rounded-xl px-4 py-3 text-sm font-bold text-[var(--text-primary)] focus:border-[var(--brand-primary)] outline-none shadow-sm transition-all appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed pr-10",children:[u.jsx("option",{value:"",children:"All Units"}),Array.isArray(Y)&&Y.map(q=>u.jsx("option",{value:q.id,children:q.name},q.id))]}),u.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-[var(--text-secondary)] opacity-50",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-xs font-bold text-[var(--text-primary)] opacity-60 mb-2 ml-1 uppercase tracking-widest",children:"Mode"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:R.payment_mode,onChange:q=>F({...R,payment_mode:q.target.value}),className:"w-full bg-[var(--surface-main)] border border-[var(--border-default)] rounded-xl px-4 py-3 text-sm font-bold text-[var(--text-primary)] focus:border-[var(--brand-primary)] outline-none shadow-sm transition-all appearance-none cursor-pointer pr-10",children:[u.jsx("option",{value:"",children:"All Modes"}),u.jsx("option",{value:"UPI",children:"UPI"}),u.jsx("option",{value:"FREE",children:"Free"}),u.jsx("option",{value:"GUEST",children:"Guest"})]}),u.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-[var(--text-secondary)] opacity-50",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})})]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-3 sm:gap-6",children:[{label:"Today Orders",value:r.todayOrders},{label:"Total Revenue",value:`${r.totalRevenue.toFixed(2)}`},{label:"Total Bills",value:r.allOrdersCount},{label:"UPI",value:r.upiCount,onClick:()=>setShowUpiModal(!0)},{label:"FREE",value:r.freeCount},{label:"GUEST",value:r.guestCount}].map((q,ie)=>u.jsxs("div",{onClick:()=>{var oe;return(oe=document.getElementById("upi-report-section"))==null?void 0:oe.scrollIntoView({behavior:"smooth"})},style:{animationDelay:`${ie*100}ms`},className:`relative rounded-xl p-4 sm:p-6 min-h-[100px] sm:min-h-[140px] flex flex-col justify-center items-center transition-all duration-300 hover:-translate-y-1 overflow-hidden bg-[var(--surface-card)] border border-[var(--border-default)] border-l-4 border-l-[var(--brand-primary)] shadow-sm hover:shadow-md group animate-slide-up opacity-0 ${q.label==="UPI"?"cursor-pointer hover:ring-2 hover:ring-[var(--brand-primary)]":""}`,children:[u.jsx("div",{className:"relative z-10 text-[10px] sm:text-xs tracking-[0.2em] font-bold mb-1 sm:mb-2 font-sans text-[var(--text-secondary)] text-center uppercase",children:q.label}),u.jsx("div",{className:"relative z-10 text-xl sm:text-3xl font-bold font-sans text-[var(--text-primary)] drop-shadow-sm text-center",children:q.value})]},q.label))}),u.jsxs("div",{className:"flex flex-col gap-6",children:[u.jsxs("div",{className:"bg-[var(--surface-card)] p-6 sm:p-8 rounded-2xl border border-[var(--border-default)] shadow-sm mb-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[u.jsx("div",{className:"w-1 h-6 bg-[#facc15] rounded-full shadow-[0_0_10px_rgba(250,204,21,0.4)]"}),u.jsx("h2",{className:"text-[26px] font-bold tracking-[0.2em] text-[#facc15] ",children:"Items"})]}),u.jsx("p",{className:"text-base font-bold text-white ml-4",children:"Top Items"})]}),u.jsx("button",{onClick:Q,className:"bg-gradient-to-r from-orange-500 to-amber-500 text-black font-bold px-6 py-2.5 rounded-lg shadow-lg hover:shadow-orange-500/20 transition-all flex items-center gap-2 whitespace-nowrap",children:"Download PDF"})]}),u.jsx("div",{className:"overflow-x-auto -mx-2 sm:mx-0",children:u.jsxs("table",{className:"w-full text-left min-w-[800px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-[var(--text-secondary)] text-xs font-bold uppercase tracking-widest border-b border-[var(--border-default)] font-sans",children:[u.jsx("th",{className:"pb-4 px-2 text-left",children:"ITEMS"}),u.jsx("th",{className:"pb-4 px-2 text-center",children:"QUANTITY"}),u.jsx("th",{className:"pb-4 px-2 text-right",children:"AMOUNT"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]",children:Array.isArray(a)&&a.map(q=>u.jsxs("tr",{className:"group hover:bg-[var(--surface-muted)] transition-colors",children:[u.jsxs("td",{className:"py-4 px-2 text-[var(--text-primary)] font-medium text-sm",children:[q.name_en||q.name||"Unknown",q.name_ta&&u.jsx("span",{className:"block text-xs opacity-60 font-sans",children:q.name_ta})]}),u.jsx("td",{className:"py-4 px-2 text-center text-[var(--text-primary)] text-sm",children:q.totalQty}),u.jsxs("td",{className:"py-4 px-2 text-right text-[var(--brand-primary)] font-bold text-sm",children:["",q.totalAmount.toFixed(2)]})]},q.product_id))})]})}),a.length===0&&u.jsx("div",{className:"py-20 text-center text-slate-500 border-2 border-dashed border-slate-800/50 rounded-2xl bg-black/10 mt-4",children:u.jsx("p",{className:"text-lg font-medium opacity-50",children:"No Item sales data found."})})]}),u.jsxs("div",{className:"bg-[var(--surface-card)] p-6 sm:p-8 rounded-2xl border border-[var(--border-default)] shadow-sm mb-6",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-[26px] font-bold tracking-[0.2em] text-[#facc15] uppercase mb-1",children:"Items"}),u.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] mb-0.5",children:"Item amount"}),u.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"All Item shown; split across columns"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-12 gap-y-8",children:re.columns.map((q,ie)=>u.jsx("div",{className:"space-y-6",children:q.map(oe=>{const de=oe.totalAmount/(r.totalRevenue||1)*100;return u.jsxs("div",{className:"group",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[u.jsx("span",{className:"text-[15px] font-medium text-[var(--text-primary)] truncate pr-4",children:oe.name_en}),u.jsxs("span",{className:"text-[15px] font-bold text-[var(--brand-primary)]",children:["",oe.totalAmount.toFixed(2)]})]}),u.jsx("div",{className:"h-1.5 w-full bg-[var(--surface-muted)] rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-orange-500 to-amber-500 rounded-full transition-all duration-1000 shadow-[0_0_8px_rgba(249,115,22,0.3)]",style:{width:`${Math.min(de*4,100)}%`}})})]},oe.product_id)})},ie))}),a.length===0&&u.jsx("div",{className:"py-20 text-center text-slate-500 border-2 border-dashed border-slate-800/50 rounded-2xl bg-black/10",children:u.jsx("p",{className:"text-lg font-medium opacity-50",children:"No Items sales data found."})})]})]})]}),u.jsx("div",{id:"upi-report-section",className:"mt-8 space-y-6",children:u.jsxs("div",{className:"bg-[var(--surface-card)] p-6 sm:p-8 rounded-2xl border border-[var(--border-default)] shadow-sm mb-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[u.jsx("div",{children:u.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[u.jsx("div",{className:"w-1 h-6 bg-[var(--brand-primary)] rounded-full shadow-[0_0_10px_rgba(var(--brand-primary-rgb),0.4)]"}),u.jsx("h2",{className:"text-[26px] font-bold tracking-[0.2em] text-[var(--brand-primary)] ",children:"UPI Report"})]})}),u.jsx("button",{onClick:me,className:"bg-gradient-to-r from-orange-500 to-amber-500 text-black font-bold px-6 py-2.5 rounded-lg shadow-lg hover:shadow-orange-500/20 transition-all flex items-center gap-2 whitespace-nowrap",children:"Download PDF"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left min-w-[800px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-[var(--text-secondary)] text-xs font-bold uppercase tracking-widest border-b border-[var(--border-default)]",children:[u.jsx("th",{className:"pb-4 px-2",children:"DATE"}),u.jsx("th",{className:"pb-4 px-2 text-center",children:"TRANSACTIONS"}),u.jsx("th",{className:"pb-4 px-2 text-right",children:"AMOUNT"})]})}),u.jsxs("tbody",{className:"divide-y divide-[var(--border-default)]",children:[c.map((q,ie)=>u.jsxs("tr",{className:"hover:bg-[var(--surface-muted)] transition-colors",children:[u.jsx("td",{className:"py-4 px-2 text-[var(--text-primary)] font-medium text-sm",children:new Date(q.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}),u.jsx("td",{className:"py-4 px-2 text-center text-[var(--text-primary)] text-sm",children:q.count}),u.jsxs("td",{className:"py-4 px-2 text-right text-[var(--brand-primary)] font-bold text-sm",children:["",Number(q.amount).toFixed(2)]})]},ie)),c.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:"3",className:"py-20 text-center text-slate-500 border-2 border-dashed border-slate-800/50 rounded-2xl bg-black/10",children:u.jsx("p",{className:"text-lg font-medium opacity-50",children:"No UPI transaction data found."})})})]})]})}),u.jsxs("div",{className:"mt-6 p-4 border-t border-[var(--border-default)] bg-[var(--surface-muted)]/30 rounded-2xl flex justify-between items-center text-sm",children:[u.jsx("span",{className:"font-bold text-[var(--text-secondary)] uppercase tracking-[0.1em]",children:"Total UPI Business"}),u.jsxs("div",{className:"flex gap-8",children:[u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsx("span",{className:"text-[10px] text-[var(--text-secondary)] font-bold",children:"COUNT"}),u.jsxs("span",{className:"font-bold text-[var(--text-primary)] text-lg",children:[c.reduce((q,ie)=>q+ie.count,0)," "]})]}),u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsx("span",{className:"text-[10px] text-[var(--text-secondary)] font-bold",children:"REVENUE"}),u.jsxs("span",{className:"font-black text-[var(--brand-primary)] text-xl",children:["",c.reduce((q,ie)=>q+ie.amount,0).toFixed(2)]})]})]})]})]})})]})})},Eae=()=>{const[e,t]=M.useState([]),[r,n]=M.useState([]),{isDark:a}=bi(),{user:i}=$i(),c=(i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="unit_admin",[f,m]=M.useState(!0),[p,x]=M.useState(!1),[y,S]=M.useState(!1),[N,j]=M.useState(null),[_,T]=M.useState(!1),[I,R]=M.useState(""),[F,G]=M.useState(1),[Y,J]=M.useState(1),[V,$]=M.useState(10),[W,Ne]=M.useState(!1),[Z,Q]=M.useState(0),me={name_en:"",name_ta:"",description_en:"",description_ta:"",category:"General",price:"",images:[],is_active:!0},[re,q]=M.useState(me),ie=M.useCallback(async()=>{var ne;try{const le=await Ut.get("/units");n(((ne=le.data)==null?void 0:ne.units)||le.data||[])}catch(le){console.error("Error fetching units:",le)}},[]);M.useEffect(()=>{ie()},[ie]);const oe=M.useCallback(async()=>{var ne,le,je,pe;try{m(!0);const Te=await Ut.get("/items/",{params:{page:F,limit:V,search:I}});let ke=((ne=Te.data)==null?void 0:ne.items)||[],ue=((le=Te.data)==null?void 0:le.totalItems)||((je=Te.data)==null?void 0:je.total)||0;(i==null?void 0:i.role)==="unit_admin"&&(i!=null&&i.unit_id)&&(ke=ke.filter(Le=>Le.unit_id===i.unit_id),ue=ke.length),t(ke),J(((pe=Te.data)==null?void 0:pe.totalPages)||Math.ceil(ue/V)||1),Q(ue)}catch(Te){console.error("Error fetching data:",Te)}finally{m(!1)}},[F,I,V]);M.useEffect(()=>{const ne=setTimeout(()=>oe(),500);return()=>clearTimeout(ne)},[oe]);const de=(ne=null)=>{j(ne),q(ne?{name_en:ne.name_en||ne.name||"",name_ta:ne.name_ta||ne.slug_url||ne.slug||"",description_en:ne.description_en||ne.description||"",description_ta:ne.description_ta||"",category:ne.category||ne.category_id||"General",price:ne.price||ne.base_price||"",images:ne.images&&ne.images.length>0?ne.images.map(le=>({...le,url:le.url||le.image_path||"",is_primary:!!le.is_primary})):ne.image||ne.image_path?[{url:ne.image||ne.image_path,is_primary:!0}]:[],is_active:ne.is_active??!0}:me),x(!0)},ee=()=>{x(!1),j(null)},Ae=ne=>{const le=ne.target.files[0];if(!le)return;const je={url:URL.createObjectURL(le),file:le,is_primary:!0};q(pe=>({...pe,images:[je]})),ne.target.value=""},ce=async ne=>{var le,je;if(ne.preventDefault(),T(!0),!re.name_en||!re.name_ta||!re.price){alert("English Name, Tamil Name, and Price are required"),T(!1);return}try{const pe=new FormData;pe.append("name_en",re.name_en),pe.append("name_ta",re.name_ta),pe.append("description_en",re.description_en||""),pe.append("description_ta",re.description_ta||""),pe.append("category",re.category||"General"),pe.append("price",Number(re.price)||0),pe.append("is_active",re.is_active);const Te=re.images.find(ke=>ke.is_primary)||re.images[0];Te&&(Te.file instanceof File?pe.append("image",Te.file):typeof Te.url=="string"&&pe.append("image",Te.url)),N?await Ut.put(`/items/${N.id}`,pe,{headers:{"Content-Type":"multipart/form-data"}}):await Ut.post("/items/",pe,{headers:{"Content-Type":"multipart/form-data"}}),alert("Product saved successfully!"),ee(),oe()}catch(pe){console.error("Save Error:",pe),alert(((je=(le=pe.response)==null?void 0:le.data)==null?void 0:je.details)||"Failed to save product")}finally{T(!1)}},U=async(ne,le)=>{if(window.confirm(`Are you sure you want to delete "${le}"?`))try{await Ut.delete(`/items/${ne}`),oe()}catch{alert("Delete failed")}},H=ne=>ne.category||ne.category_id||"General",se=ne=>{if(!ne)return"";const le=r.find(je=>je.id===Number(ne));return le?le.unit_name||le.name:""},ve=ne=>{if(!ne)return"";const le=r.find(je=>je.id===Number(ne));return le?le.code:""};return f&&!p?u.jsx(ci,{children:u.jsx(qs,{})}):u.jsx(ci,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-8",children:[u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end justify-between gap-8 mb-10 sm:mb-14",children:[u.jsxs("div",{className:"flex flex-col gap-6 w-full lg:w-auto",children:[u.jsxs("div",{className:"flex items-center gap-4 shrink-0 animate-slide-up opacity-0",children:[u.jsx("div",{className:"w-1.5 h-10 bg-[var(--brand-primary)] rounded-full shadow-[0_0_15px_rgba(249,115,22,0.4)]"}),u.jsx("h1",{className:"text-2xl sm:text-4xl font-black tracking-tight text-[var(--text-primary)]",children:"Items".split("").map((ne,le)=>u.jsx("span",{className:"animate-letter-pop",style:{animationDelay:`${600+(ne===" "?0:le*50)}ms`},children:ne===" "?"":ne},le))})]}),u.jsxs("div",{style:{animationDelay:"100ms"},className:"relative w-full sm:w-[400px] group animate-slide-up opacity-0",children:[u.jsx("input",{type:"text",placeholder:"Search Items...",value:I,onChange:ne=>{R(ne.target.value),G(1)},className:"w-full pl-14 pr-14 py-4 text-center rounded-3xl border-2 border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-primary)] focus:outline-none focus:ring-8 focus:ring-[var(--brand-primary)]/5 focus:border-[var(--brand-primary)] font-bold text-sm sm:text-base transition-all shadow-xl hover:border-[var(--brand-primary)]/30 group-hover:translate-x-1 duration-300 placeholder:text-center"}),u.jsx(wd,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] opacity-40 group-focus-within:opacity-100 group-focus-within:text-[var(--brand-primary)] transition-all",size:26})]})]}),u.jsx("div",{className:"flex gap-3 w-full sm:w-auto",children:c&&u.jsxs("button",{onClick:()=>de(),className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-black px-8 py-3.5 rounded-2xl flex items-center justify-center gap-3 transition-all shadow-lg hover:shadow-[var(--brand-primary)]/10 hover:-translate-y-1 active:scale-95 text-xs sm:text-sm uppercase tracking-widest",children:[u.jsx(Oc,{size:26}),u.jsx("span",{children:"Add Item"})]})})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8",children:e.map((ne,le)=>u.jsxs("div",{style:{animationDelay:`${le*50}ms`},className:"group relative bg-[var(--surface-card)] border border-[var(--border-default)] rounded-[1.5rem] overflow-hidden transition-all duration-300 flex flex-col animate-scale-in opacity-0 md:hover:shadow-[0_20px_40px_-15px_rgba(0,0,0,0.12)] md:hover:border-[var(--brand-primary)]/40 md:hover:-translate-y-1.5 active:scale-95 active:shadow-sm",children:[u.jsxs("div",{className:"aspect-square bg-gray-50/50 p-4 relative overflow-hidden flex items-center justify-center",children:[u.jsx("img",{src:(()=>{var Te,ke,ue,Le;const je=((ke=(Te=ne.images)==null?void 0:Te[0])==null?void 0:ke.url)||((Le=(ue=ne.images)==null?void 0:ue[0])==null?void 0:Le.image_path)||ne.image||ne.image_path;if(!je)return eo;if(je.startsWith("http")||je.startsWith("blob:"))return je;const pe=je.startsWith("/")?je.substring(1):je;return`${Oo}/${pe}`})(),alt:ne.name_en||ne.name,title:(()=>{var pe,Te,ke,ue;const je=((Te=(pe=ne.images)==null?void 0:pe[0])==null?void 0:Te.url)||((ue=(ke=ne.images)==null?void 0:ke[0])==null?void 0:ue.image_path)||ne.image||ne.image_path;return je?`Source: ${je}`:"No image source"})(),className:"w-full h-full object-contain transition-transform duration-500 ease-out",onError:je=>{console.error("Image load failed:",je.target.src),je.target.src=eo}}),u.jsx("div",{className:"absolute top-3 left-3 bg-white/90 backdrop-blur-md px-2.5 py-1 rounded-full text-[8px] font-black uppercase tracking-widest text-[var(--brand-primary)] border border-[var(--brand-primary)]/10 shadow-sm",children:H(ne)}),u.jsx("div",{className:`absolute top-3 right-3 w-4 h-4 border-2 rounded flex items-center justify-center ${ne.is_veg?"border-emerald-500":"border-red-500"}`,children:u.jsx("div",{className:`w-2 h-2 rounded-full ${ne.is_veg?"bg-emerald-500":"bg-red-500"}`})}),!ne.is_active&&u.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px] flex items-center justify-center",children:u.jsx("span",{className:"bg-red-500 text-white px-3 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-tighter shadow-lg rotate-12",children:"INACTIVE"})})]}),u.jsxs("div",{className:"p-5 flex flex-col flex-1",children:[u.jsxs("div",{className:"mb-3",children:[u.jsx("h3",{className:"font-black text-base text-[var(--text-primary)] truncate capitalize leading-tight",children:ne.name_en||ne.name}),u.jsx("p",{className:"text-sm font-bold text-[var(--text-secondary)] truncate",children:ne.name_ta})]}),u.jsxs("div",{className:"mt-auto flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] font-black text-[var(--text-secondary)] opacity-40 uppercase tracking-widest",children:"Price"}),u.jsxs("span",{className:"text-lg font-black text-[var(--text-primary)] tracking-tighter",children:["",parseFloat(ne.price||ne.base_price).toFixed(2)]}),u.jsxs("span",{className:"text-xs font-black text-[var(--brand-primary)] mt-0.5",children:[se(ne.unit_id)," - ",ve(ne.unit_id)]})]}),c&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>de(ne),className:"w-14 h-14 bg-blue-500/10 text-blue-600 border border-blue-500/20 rounded-xl flex items-center justify-center hover:bg-blue-500 hover:text-white hover:shadow-[0_8px_16px_-4px_rgba(59,130,246,0.4)] transition-all active:scale-90",title:"Edit",children:u.jsx(r1,{style:{fontSize:"36px"}})}),u.jsx("button",{onClick:()=>U(ne.id,ne.name),className:"w-14 h-14 bg-red-500/10 text-red-600 border border-red-500/20 rounded-xl flex items-center justify-center hover:bg-red-500 hover:text-white hover:shadow-[0_8px_16px_-4px_rgba(239,68,68,0.4)] transition-all active:scale-90",title:"Delete",children:u.jsx(Mm,{style:{fontSize:"36px"}})})]})]})]})]},ne.id))}),u.jsxs("div",{className:"mt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsxs("div",{className:"text-sm font-medium text-[var(--text-secondary)]",children:["Total"," ",u.jsx("span",{className:"text-[var(--text-primary)] font-bold",children:Z})," ","Items"]}),u.jsxs("div",{className:"flex items-center gap-2 bg-[var(--surface-card)] p-1.5 rounded-2xl shadow-sm border border-[var(--border-default)]",children:[u.jsxs("button",{onClick:()=>G(Math.max(1,F-1)),disabled:F<=1,className:"px-4 h-10 flex items-center justify-center gap-2 rounded-xl hover:bg-[var(--surface-muted)] text-[var(--text-secondary)] disabled:opacity-30 transition-all font-bold text-xs uppercase",children:[u.jsx(Kl,{size:16})," Back"]}),u.jsx("div",{className:"flex items-center gap-1 px-2",children:Array.from({length:Y},(ne,le)=>le+1).map(ne=>{if(Y>6&&ne>1&&ne<Y&&Math.abs(ne-F)>1)return ne===2||ne===Y-1?u.jsx("span",{className:"text-[var(--text-secondary)] opacity-40 px-1",children:"..."},ne):null;const le=F===ne;return u.jsx("button",{onClick:()=>G(ne),className:`w-9 h-9 flex items-center justify-center rounded-xl text-xs font-bold transition-all
                      ${le?"bg-[var(--brand-primary)] text-white shadow-md scale-105":"text-[var(--text-secondary)] hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)]"}`,children:ne},ne)})}),u.jsxs("button",{onClick:()=>G(Math.min(Y,F+1)),disabled:F>=Y,className:"px-4 h-10 flex items-center justify-center gap-2 rounded-xl hover:bg-[var(--surface-muted)] text-[var(--text-secondary)] disabled:opacity-30 transition-all font-bold text-xs uppercase",children:["Next ",u.jsx(Ql,{size:16})]})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:ne=>{ne.stopPropagation(),Ne(!W)},className:"flex items-center gap-2 px-4 py-3 bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl text-xs font-bold text-[var(--text-primary)] hover:bg-[var(--brand-primary)]/5 transition-all w-[130px] justify-center",children:[V," Pages",u.jsx(Wl,{className:"text-[var(--brand-primary)]"})]}),W&&u.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-[130px] bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-2xl shadow-xl overflow-hidden z-20 py-1",children:[10,20,50,100].map(ne=>u.jsxs("button",{onClick:()=>{$(ne),G(1),Ne(!1)},className:`w-full text-center py-2.5 text-xs font-bold transition-colors
                      ${V===ne?"bg-[var(--brand-primary)] text-white":"text-[var(--text-primary)] hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)]"}
                    `,children:[ne," Pages"]},ne))})]})]}),p&&u.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center p-2 z-50 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-[var(--surface-card)] w-full max-w-2xl rounded-xl shadow-2xl overflow-hidden flex flex-col max-h-[95vh] h-full",children:[u.jsxs("div",{className:"px-5 py-4 border-b border-[var(--border-default)] flex justify-between items-center bg-[var(--surface-main)] shrink-0",children:[u.jsx("h2",{className:"text-xl font-bold",children:N?"Edit Item":"Create Item"}),u.jsx("button",{onClick:ee,className:"p-2 hover:bg-black/5 rounded-full transition-colors",children:u.jsx(To,{size:20})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:u.jsxs("form",{id:"productForm",onSubmit:ce,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"md:col-span-1",children:[u.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:"English Name"}),u.jsx("input",{required:!0,type:"text",value:re.name_en,onChange:ne=>{const le=ne.target.value,je=le.charAt(0).toUpperCase()+le.slice(1);q({...re,name_en:je})},className:"w-full px-3 py-2 rounded-lg border bg-[var(--surface-main)] text-sm focus:border-[var(--brand-primary)] outline-none",placeholder:"Enter name"})]}),u.jsxs("div",{className:"md:col-span-1",children:[u.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:"Tamil Name"}),u.jsx("input",{required:!0,type:"text",value:re.name_ta,onChange:ne=>q({...re,name_ta:ne.target.value}),className:"w-full px-3 py-2 rounded-lg border bg-[var(--surface-main)] text-sm focus:border-[var(--brand-primary)] outline-none",placeholder:"Tamil name"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 items-end",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:"Price"}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:""}),u.jsx("input",{required:!0,type:"number",value:re.price,onChange:ne=>q({...re,price:ne.target.value}),className:"w-full !pl-12 pr-3 py-2 rounded-lg border bg-[var(--surface-main)] text-sm focus:border-[var(--brand-primary)] outline-none",min:"0"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-2",children:"Status"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{type:"button",onClick:()=>q({...re,is_active:!re.is_active}),className:`relative inline-flex h-10 w-20 items-center rounded-full transition-all duration-300 focus:outline-none shadow-inner border-2 ${re.is_active?"bg-emerald-500/10 border-emerald-500/30":"bg-red-500/10 border-red-500/30"}`,children:u.jsxs("span",{className:`inline-block h-7 w-7 transform rounded-full transition duration-300 ease-in-out shadow-lg flex items-center justify-center ${re.is_active?"translate-x-11 bg-emerald-500":"translate-x-1 bg-red-500"}`,children:[u.jsx(FR,{className:`text-[10px] text-white transition-opacity duration-300 ${re.is_active?"opacity-100":"opacity-0"}`}),u.jsx(To,{className:`absolute text-[12px] text-white transition-opacity duration-300 ${re.is_active?"opacity-0":"opacity-100"}`})]})}),u.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${re.is_active?"text-emerald-500":"text-red-500"}`,children:re.is_active?"Active":"Inactive"})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-end mb-2",children:[u.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500",children:"Images"}),u.jsx("span",{className:"text-[10px] text-gray-400 font-medium",children:"Maximum 4 images allowed"})]}),re.images.length>0?u.jsxs("div",{className:"relative w-full aspect-square max-w-[180px] rounded-xl border-2 border-gray-200 overflow-hidden group bg-gray-50",children:[u.jsx("img",{src:re.images[0].url.startsWith("blob:")||re.images[0].url.startsWith("http")?re.images[0].url:`${Oo}${re.images[0].url.startsWith("/")?"":"/"}${re.images[0].url}`,alt:"Product",className:"w-full h-full object-cover",onError:ne=>ne.target.src=eo}),u.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:u.jsxs("button",{type:"button",onClick:()=>q({...re,images:[]}),className:"px-3 py-1.5 rounded-lg bg-red-500 text-white hover:bg-red-600 font-bold text-xs flex items-center gap-1.5",children:[u.jsx(Mm,{size:12}),"Remove"]})})]}):u.jsxs("label",{className:"w-full aspect-square max-w-[180px] rounded-xl border-2 border-dashed border-gray-300 flex flex-col items-center justify-center cursor-pointer hover:bg-[var(--surface-muted)] hover:border-[var(--brand-primary)] transition-colors group",children:[u.jsx(Oc,{className:"text-gray-400 group-hover:text-[var(--brand-primary)] mb-1.5",size:24}),u.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase",children:"Add Image"}),u.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Ae})]})]}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:"Category"}),u.jsx("input",{type:"text",value:re.category,onChange:ne=>q({...re,category:ne.target.value}),className:"w-full px-3 py-2 rounded-lg border bg-[var(--surface-main)] text-sm focus:border-[var(--brand-primary)] outline-none",placeholder:"General"})]})})]})}),u.jsxs("div",{className:"px-5 py-4 border-t flex justify-end gap-3 bg-[var(--surface-main)] shrink-0",children:[u.jsx("button",{onClick:ee,className:`px-5 py-2.5 rounded-xl border font-bold text-sm transition-all ${a?"border-[var(--border-default)] text-[var(--text-primary)] hover:bg-[var(--surface-muted)]":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:"Cancel"}),u.jsx("button",{form:"productForm",type:"submit",disabled:_,className:"px-8 py-2.5 rounded-xl bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-bold text-sm shadow-lg transition-all active:scale-[0.98]",children:_?"Saving...":"Save Item"})]})]})})]})})},Cae=()=>{const[e,t]=M.useState([]),[r,n]=M.useState(!0),[a,i]=M.useState(!1),[c,f]=M.useState(null),[m,p]=M.useState({name:"",code:"",printer_ip:"",printer_port:9100,is_active:!0}),[x,y]=M.useState(null),[S,N]=M.useState({top:0,left:0}),[j,_]=M.useState(null),[T,I]=M.useState(!1),{isDark:R}=bi(),{user:F}=$i(),G=(F==null?void 0:F.role)==="admin"||(F==null?void 0:F.role)==="unit_admin",[Y,J]=M.useState({search:"",is_active:"",page:1,limit:50}),[V,$]=M.useState({total:0,page:1,totalPages:1}),W=async()=>{var q;try{const ie=new URLSearchParams;Y.search&&ie.append("search",Y.search),Y.is_active!==""&&ie.append("is_active",Y.is_active),ie.append("limit","10000");const de=((q=(await Ut.get(`/units?${ie.toString()}`)).data)==null?void 0:q.units)||[];if(de.length===0){alert("No data to export");return}const ee=new br("p","mm","a4"),Ae=ee.internal.pageSize.getWidth(),ce=15;let U=20;ee.setFontSize(14),ee.setTextColor(30,41,59),ee.setFont(void 0,"bold"),ee.text("UNITS MANAGEMENT REPORT",ce,U),U+=10,ee.setDrawColor(226,232,240),ee.line(ce,U,Ae-15,U),U+=10,ee.setFontSize(10),ee.setTextColor(30,41,59),ee.setFont(void 0,"bold"),ee.text(`Generated On: ${new Date().toLocaleString()}`,ce,U),ee.text(`Total Records: ${de.length}`,Ae-15,U,{align:"right"}),U+=12,ee.setFillColor(250,198,57),ee.rect(ce,U,Ae-ce*2,10,"F"),ee.setFont(void 0,"bold"),ee.setTextColor(0,0,0),ee.setFontSize(9),ee.text("S.No",ce+2,U+7),ee.text("Unit Name",ce+15,U+7),ee.text("Code",ce+60,U+7),ee.text("Printer IP",ce+90,U+7),ee.text("Port",ce+130,U+7),ee.text("Status",ce+155,U+7),ee.text("Created",ce+180,U+7,{align:"right"}),U+=10,ee.setTextColor(30,41,59),ee.setFont(void 0,"normal"),ee.setFontSize(8),de.forEach((H,se)=>{U>270&&(ee.addPage(),U=20,ee.setFillColor(250,198,57),ee.rect(ce,U,Ae-ce*2,10,"F"),ee.setFont(void 0,"bold"),ee.setTextColor(0,0,0),ee.text("S.No",ce+2,U+7),ee.text("Unit Name",ce+15,U+7),ee.text("Code",ce+60,U+7),ee.text("Printer IP",ce+90,U+7),ee.text("Port",ce+130,U+7),ee.text("Status",ce+155,U+7),ee.text("Created",ce+180,U+7,{align:"right"}),U+=10,ee.setTextColor(30,41,59),ee.setFont(void 0,"normal"));const ve=String(se+1),ne=H.name||"N/A",le=H.code||"N/A",je=H.printer_ip||"N/A",pe=String(H.printer_port||"9100"),Te=H.is_active?"Active":"Inactive",ke=new Date(H.createdAt).toLocaleDateString("en-IN");ee.text(ve,ce+2,U+7),ee.text(ne,ce+15,U+7),ee.text(le,ce+60,U+7),ee.text(je,ce+90,U+7),ee.text(pe,ce+130,U+7),H.is_active?ee.setTextColor(16,185,129):ee.setTextColor(225,29,72),ee.text(Te,ce+155,U+7),ee.setTextColor(30,41,59),ee.text(ke,ce+180,U+7,{align:"right"}),U+=8,ee.setDrawColor(241,245,249),ee.line(ce,U,Ae-15,U)}),ee.save(`units-report-${new Date().toLocaleDateString("en-IN").replace(/\//g,"-")}.pdf`)}catch(ie){console.error("PDF Export Error:",ie),alert("Failed to export units list. Please try again.")}},Ne=M.useCallback(async()=>{var q,ie;try{n(!0);const oe=new URLSearchParams;Y.search&&oe.append("search",Y.search),Y.is_active!==""&&oe.append("is_active",Y.is_active),oe.append("page",Y.page),oe.append("limit",Y.limit);const de=await Ut.get(`/units?${oe.toString()}`);if(de.data&&de.data.units){let ee=de.data.units,Ae=de.data.total||de.data.count||ee.length||0;(F==null?void 0:F.role)==="unit_admin"&&(F!=null&&F.unit_id)&&(ee=ee.filter(ce=>ce.id===F.unit_id),Ae=ee.length),t(ee),$({total:Ae,page:de.data.page,totalPages:de.data.totalPages||Math.ceil(Ae/de.data.limit)})}else{const ee=await Ut.get("/units");let Ae=Array.isArray(ee.data)?ee.data:((q=ee.data)==null?void 0:q.units)||[];(F==null?void 0:F.role)==="unit_admin"&&(F!=null&&F.unit_id)&&(Ae=Ae.filter(ce=>ce.id===F.unit_id)),t(Ae),$({total:Ae.length,page:1,totalPages:1})}}catch(oe){console.error("Fetch units error:",oe);try{const de=await Ut.get("/units"),ee=Array.isArray(de.data)?de.data:((ie=de.data)==null?void 0:ie.units)||[];t(ee)}catch(de){console.error("Final fallback error:",de)}}finally{n(!1)}},[Y]);M.useEffect(()=>{const q=setTimeout(()=>{Ne()},Y.search?500:0);return()=>clearTimeout(q)},[Ne]);const Z=(q=null)=>{q?(f(q),p({name:q.name,code:q.code,printer_ip:q.printer_ip,printer_port:q.printer_port,is_active:q.is_active})):(f(null),p({name:"",code:"",printer_ip:"",printer_port:9100,is_active:!0})),i(!0)},Q=()=>{i(!1),f(null),p({name:"",code:"",printer_ip:"",printer_port:9100,is_active:!0})},me=async q=>{var ie,oe;q.preventDefault();try{const de={name:m.name,code:m.code,printer_ip:m.printer_ip||null,printer_port:parseInt(m.printer_port)||9100,is_active:m.is_active};c?await Ut.put(`/units/${c.id}`,de):await Ut.post("/units",de),Q(),Ne()}catch(de){console.error("Save unit error:",de),alert(((oe=(ie=de.response)==null?void 0:ie.data)==null?void 0:oe.error)||"Failed to save unit. Missing required fields?")}},re=async q=>{var ie,oe;if(confirm("Are you sure you want to delete this unit?"))try{await Ut.delete(`/units/${q}`),Ne()}catch(de){console.error("Delete unit error:",de),alert(((oe=(ie=de.response)==null?void 0:ie.data)==null?void 0:oe.error)||"Failed to delete unit. Please try again.")}};return M.useEffect(()=>{const q=()=>{_(null),I(!1)};return document.addEventListener("click",q),()=>document.removeEventListener("click",q)},[]),r&&e.length===0?u.jsx(ci,{children:u.jsx(qs,{})}):u.jsx(ci,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex flex-col gap-6 mb-4 sm:mb-8 mt-1",children:[u.jsxs("div",{className:"flex items-center gap-3 animate-slide-up opacity-0",children:[u.jsx("div",{className:"w-1.5 h-8 bg-[var(--brand-primary)] rounded-full shadow-[0_0_10px_rgba(249,115,22,0.4)]"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-[0.1em] text-[var(--text-primary)]",style:{fontFamily:'"Outfit", sans-serif'},children:"Units".split("").map((q,ie)=>u.jsx("span",{className:"animate-letter-pop",style:{animationDelay:`${300+(q===" "?0:ie*50)}ms`},children:q===" "?"":q},ie))})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[u.jsxs("div",{style:{animationDelay:"100ms"},className:"relative w-full sm:w-[400px] group animate-slide-up opacity-0",children:[u.jsx("input",{type:"text",placeholder:"Search...",value:Y.search,onChange:q=>J(ie=>({...ie,search:q.target.value,page:1})),className:"w-full px-12 py-2.5 sm:py-3 text-center rounded-xl border border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-primary)] focus:outline-none focus:ring-2 sm:focus:ring-4 focus:ring-[var(--brand-primary)]/20 focus:border-[var(--brand-primary)] font-bold text-xs sm:text-sm transition-all shadow-sm hover:border-[var(--brand-primary)]/50"}),u.jsx(wd,{className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] group-focus-within:text-[var(--brand-primary)] transition-colors",size:18})]}),u.jsxs("div",{style:{animationDelay:"200ms"},className:"flex flex-col sm:flex-row gap-3 animate-slide-up opacity-0",children:[G&&u.jsxs("button",{onClick:()=>Z(),className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-semibold px-5 sm:px-6 py-2.5 sm:py-3 rounded-xl flex items-center justify-center gap-2 sm:gap-3 transition-all shadow-[0_4px_15px_rgba(250,198,57,0.3)] hover:scale-105 active:scale-95 text-sm sm:text-base whitespace-nowrap",children:[u.jsx(Oc,{className:"text-base sm:text-lg"}),u.jsx("span",{children:"Add Unit"})]}),u.jsxs("button",{onClick:W,className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-semibold px-6 py-2.5 sm:py-3 rounded-xl flex items-center justify-center gap-3 transition-all shadow-[0_4px_15px_rgba(250,198,57,0.3)] hover:scale-105 active:scale-95 text-xs sm:text-sm tracking-wider",children:[u.jsx(hd,{className:"text-lg"}),u.jsx("span",{children:"PDF"})]})]})]})]}),u.jsxs("div",{className:"rounded-xl overflow-hidden bg-[var(--surface-card)] border border-[var(--border-default)] shadow-lg mb-8",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[1200px]",children:[u.jsx("thead",{className:"bg-[var(--brand-primary)] text-white",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-2 text-left text-xs font-black uppercase tracking-wider border-r border-black/10",children:"S.No"}),u.jsx("th",{className:"px-6 py-2 text-left text-base sm:text-lg tracking-wider border-r border-black/10",children:"Name"}),u.jsx("th",{className:"px-6 py-2 text-left text-base sm:text-lg tracking-wider border-r border-black/10 relative",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{children:"Status"}),u.jsx("button",{onClick:q=>{q.stopPropagation(),_(j==="status"?null:"status")},className:"hover:scale-110 transition-transform",children:u.jsx(Ac,{size:14,className:Y.is_active!==""?"text-black":"text-black/40"})}),j==="status"&&u.jsx("div",{className:"absolute top-full left-0 mt-1 w-32 bg-[var(--surface-card)] text-[var(--text-primary)] rounded-xl shadow-2xl border border-[var(--border-default)] py-2 z-50 overflow-hidden",onClick:q=>q.stopPropagation(),children:[{label:"All Status",value:""},{label:"Active",value:"true"},{label:"Inactive",value:"false"}].map(q=>u.jsx("button",{onClick:()=>{J({...Y,is_active:q.value,page:1}),_(null)},className:`w-full px-4 py-2 text-left text-xs font-medium hover:bg-[var(--surface-muted)] transition-colors ${Y.is_active===q.value?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":""}`,children:q.label},q.label))})]})}),u.jsx("th",{className:"px-6 py-2 text-left text-base sm:text-lg tracking-wider border-r border-black/10",children:"Printer"}),u.jsx("th",{className:"px-6 py-2 text-left text-sm sm:text-base tracking-wider border-r border-black/10",children:"Created"}),u.jsx("th",{className:"px-6 py-2 text-center text-sm sm:text-base tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]",children:Array.isArray(e)&&e.map((q,ie)=>u.jsxs("tr",{style:{animationDelay:`${ie*30}ms`},className:"hover:bg-[var(--surface-muted)]/30 transition-colors animate-slide-up opacity-0",children:[u.jsx("td",{className:"px-6 py-2.5 text-base font-medium opacity-60",children:(Y.page-1)*Y.limit+ie+1}),u.jsx("td",{className:"px-6 py-2.5 text-base font-medium capitalize",children:q.name}),u.jsx("td",{className:"px-6 py-2.5 text-base",children:u.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold border inline-flex items-center justify-center w-fit ${q.is_active?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-rose-500/10 text-rose-500 border-rose-500/20"}`,children:q.is_active?"Active":"Inactive"})}),u.jsx("td",{className:"px-6 py-2.5 text-base text-slate-400",children:u.jsx("div",{children:q.printer_ip?`${q.printer_ip}:${q.printer_port}`:"Not configured"})}),u.jsx("td",{className:"px-6 py-2.5 text-base text-slate-400",children:new Date(q.createdAt).toLocaleDateString("en-IN")}),u.jsx("td",{className:"px-6 py-2.5 text-base text-center relative",children:u.jsx("button",{onClick:oe=>{oe.stopPropagation();const de=oe.currentTarget.getBoundingClientRect();N({top:de.bottom+10,right:window.innerWidth-de.right}),y(x===q.id?null:q.id)},className:`p-1.5 rounded-lg hover:bg-[var(--surface-muted)] text-[var(--brand-primary)] transition-colors ${x===q.id?"bg-[var(--surface-muted)]":""}`,children:u.jsx(cB,{size:18})})})]},q.id))})]})}),u.jsxs("div",{className:"px-6 py-5 flex flex-col sm:flex-row items-center justify-between border-t border-[var(--border-default)] bg-[var(--surface-card)] gap-4",children:[u.jsxs("div",{className:"text-xs sm:text-sm text-[var(--text-secondary)] font-medium",children:["Showing ",u.jsxs("span",{className:"text-[var(--text-primary)]",children:[(Y.page-1)*Y.limit+1,"",Math.min(Y.page*Y.limit,V.total||0)]})," of ",u.jsx("span",{className:"text-[var(--brand-primary)] font-semibold",children:V.total||0})," records"]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 justify-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>J({...Y,page:Math.max(1,parseInt(V.page)-1)}),disabled:parseInt(V.page)<=1,className:"px-4 h-9 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-main)] border border-[var(--border-default)] text-[var(--text-secondary)] disabled:opacity-30 hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)] transition-all shadow-sm font-semibold text-[10px] uppercase",children:[u.jsx(Kl,{size:16})," Back"]}),u.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:V.totalPages},(q,ie)=>ie+1).map(q=>{const ie=parseInt(V.page)===q;return V.totalPages>5&&q>1&&q<V.totalPages&&Math.abs(q-parseInt(V.page))>1?q===2||q===V.totalPages-1?u.jsx("span",{className:"px-1 text-[var(--text-secondary)] opacity-50",children:"..."},q):null:u.jsx("button",{onClick:()=>J({...Y,page:q}),className:`w-9 h-9 flex items-center justify-center rounded-xl text-xs font-semibold transition-all border
                          ${ie?"bg-[var(--brand-primary)] border-[var(--brand-primary)] text-white shadow-[0_4px_15px_rgba(227,30,36,0.4)] scale-105":"bg-[var(--surface-main)] border-[var(--border-default)] text-[var(--text-secondary)] hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)]"}`,children:q},q)})}),u.jsxs("button",{onClick:()=>J({...Y,page:Math.min(V.totalPages,parseInt(V.page)+1)}),disabled:parseInt(V.page)>=V.totalPages,className:"px-4 h-9 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-main)] border border-[var(--border-default)] text-[var(--text-secondary)] disabled:opacity-30 hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)] transition-all shadow-sm font-semibold text-[10px] uppercase",children:["Next ",u.jsx(Ql,{size:16})]})]}),u.jsxs("div",{className:"relative shrink-0",children:[u.jsxs("button",{onClick:q=>{q.stopPropagation(),I(!T)},className:"bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl py-2.5 text-[12px] font-medium text-[var(--text-primary)] cursor-pointer outline-none transition-all shadow-sm flex items-center justify-center relative w-[130px]",children:[Y.limit," Pages",u.jsx(Wl,{size:14,className:`absolute right-3 transition-transform duration-300 ${T?"rotate-180":""} text-[var(--brand-primary)]`})]}),T&&u.jsx("div",{className:"absolute bottom-full left-0 mb-2 w-[130px] bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-2xl shadow-2xl z-[100] py-1 overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-300",children:[10,20,50,100].map(q=>u.jsxs("button",{onClick:ie=>{ie.stopPropagation(),J({...Y,limit:q,page:1}),I(!1)},className:`w-full py-3.5 text-center text-[12px] font-medium transition-all
                          ${Y.limit===q?"bg-[var(--brand-primary)] text-white":"text-[var(--text-primary)] hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)]"}`,children:[q," Pages"]},q))})]})]})]})]}),a&&u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-start justify-center p-4 z-[100] overflow-y-auto transition-all animate-in fade-in duration-300 pt-10 sm:pt-20",children:u.jsxs("div",{className:"bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] text-[var(--text-primary)] rounded-3xl shadow-[0_0_50px_rgba(0,0,0,0.5)] p-5 sm:p-8 md:p-10 max-w-2xl w-full mb-10 relative animate-in slide-in-from-top-10 duration-500",children:[u.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold tracking-tight text-[var(--brand-primary)] mb-6 sm:mb-8 border-b-2 border-[var(--brand-primary)]/10 pb-4",children:c?"Edit Unit":"Add Unit"}),u.jsxs("form",{onSubmit:me,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block font-medium mb-2",children:"Unit Name"}),u.jsx("input",{type:"text",value:m.name,onChange:q=>{const ie=q.target.value;p({...m,name:ie.charAt(0).toUpperCase()+ie.slice(1)})},className:"w-full px-4 py-2 rounded-lg border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:border-[var(--brand-primary)] focus:ring-1 focus:ring-[var(--brand-primary)]/20 transition-all outline-none",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block font-medium mb-2",children:"Printer IP"}),u.jsx("input",{type:"text",value:m.printer_ip,onChange:q=>p({...m,printer_ip:q.target.value}),className:"w-full px-4 py-2 rounded-lg border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:border-[var(--brand-primary)] focus:ring-1 focus:ring-[var(--brand-primary)]/20 transition-all outline-none",placeholder:""})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block font-medium mb-2",children:"Printer Port"}),u.jsx("input",{type:"number",value:m.printer_port,onChange:q=>p({...m,printer_port:q.target.value}),className:"w-full px-4 py-2 rounded-lg border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:border-[var(--brand-primary)] focus:ring-1 focus:ring-[var(--brand-primary)]/20 transition-all outline-none",placeholder:"9100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block font-medium mb-2",children:"Status"}),u.jsx("div",{onClick:()=>p({...m,is_active:!m.is_active}),className:`w-14 h-8 flex items-center rounded-full p-1 cursor-pointer transition-colors duration-300 ${m.is_active?"bg-[#4ade80]":"bg-gray-300"}`,children:u.jsx("div",{className:`bg-white w-6 h-6 rounded-full shadow-none transform transition-transform duration-300 ${m.is_active?"translate-x-6":"translate-x-0"}`})})]})]}),u.jsxs("div",{className:"flex gap-4 pt-4",children:[u.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 rounded-lg font-bold bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] transition-all shadow-lg",children:c?"Update":"Create Unit"}),u.jsx("button",{type:"button",onClick:Q,className:"flex-1 px-6 py-3 rounded-lg font-bold bg-[var(--surface-muted)] text-[var(--text-secondary)] hover:bg-[var(--surface-muted)]/80 transition-all",children:"Cancel"})]})]})]})}),x&&y1.createPortal(u.jsx("div",{className:"fixed inset-0 z-[9999]",onClick:()=>y(null),children:u.jsxs("div",{className:"absolute bg-[var(--surface-card)] rounded-xl shadow-2xl border border-[var(--border-default)] py-1 w-44 animate-in fade-in zoom-in-95 duration-100 overflow-hidden",style:{top:`${S.top}px`,right:`${S.right}px`},onClick:q=>q.stopPropagation(),children:[G&&u.jsxs("button",{onClick:()=>{y(null),Z(e.find(q=>q.id===x))},className:"w-full text-left px-4 py-2.5 text-sm font-bold text-[var(--text-primary)] hover:bg-[var(--surface-muted)] flex items-center gap-2 transition-colors",children:[u.jsx(r1,{className:"text-blue-500"})," Edit"]}),G&&u.jsx("div",{className:"h-px bg-[var(--border-default)] my-1"}),G&&u.jsxs("button",{onClick:()=>{y(null),re(x)},className:"w-full text-left px-4 py-2.5 text-sm font-bold text-rose-500 hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[u.jsx(Mm,{})," Delete"]})]})}),document.body)]})})},_ae=()=>{const[e,t]=M.useState([]),[r,n]=M.useState([]),[a,i]=M.useState(!0),[c,f]=M.useState(!1),[m,p]=M.useState(null),[x,y]=M.useState(!1),[S,N]=M.useState(null),[j,_]=M.useState({top:0,right:0}),[T,I]=M.useState(null),[R,F]=M.useState(!1),{user:G}=$i(),[Y,J]=M.useState({key:"bill_date",direction:"desc"}),V=H=>{const se=H.getFullYear(),ve=String(H.getMonth()+1).padStart(2,"0"),ne=String(H.getDate()).padStart(2,"0");return`${se}-${ve}-${ne}`},$=new Date;$.setDate($.getDate()+30);const[W,Ne]=M.useState({start_date:V(new Date(new Date().setDate(1))),end_date:V($),search:"",unit_id:"",payment_mode:"",payment_status:"",page:1,limit:50,printer_status:""}),[Z,Q]=M.useState({total:0,page:1,totalPages:1}),{isDark:me}=bi(),re=M.useCallback(async()=>{var H;try{const se=await Ut.get("/units");let ve=Array.isArray(se.data)?se.data:((H=se.data)==null?void 0:H.units)||[];(G==null?void 0:G.role)==="unit_admin"&&(G!=null&&G.unit_id)&&(ve=ve.filter(ne=>ne.id===G.unit_id)),n(ve)}catch(se){console.error("Fetch units error:",se)}},[G]),q=M.useCallback(async()=>{var H,se;try{i(!0);const ve=new URLSearchParams;W.start_date&&(ve.append("start_date",W.start_date),ve.append("startDate",W.start_date)),W.end_date&&(ve.append("end_date",W.end_date),ve.append("endDate",W.end_date)),W.search&&W.search.trim()!==""&&ve.append("search",W.search),W.unit_id&&W.unit_id.trim()!==""&&(ve.append("unit_id",W.unit_id),ve.append("unitId",W.unit_id)),W.payment_mode&&W.payment_mode.trim()!==""&&(ve.append("payment_mode",W.payment_mode),ve.append("paymentMode",W.payment_mode)),W.payment_status&&W.payment_status.trim()!==""&&(ve.append("payment_status",W.payment_status),ve.append("paymentStatus",W.payment_status)),W.printer_status&&W.printer_status.trim()!==""&&ve.append("is_printed",W.printer_status==="Printed"?"true":"false"),ve.append("page",W.page),ve.append("limit",W.limit),console.log("[Logs Frontend] Fetching bills with filters:",{start_date:W.start_date,end_date:W.end_date,unit_id:W.unit_id,payment_mode:W.payment_mode,page:W.page,limit:W.limit}),console.log("[Logs Frontend] API URL:",`/logs?${ve.toString()}`);const ne=await Ut.get(`/logs?${ve.toString()}`);console.log("[Logs Frontend] Response:",{logsCount:((H=ne.data.logs)==null?void 0:H.length)||0,total:ne.data.total,page:ne.data.page,totalPages:ne.data.totalPages});const le=ne.data.logs||ne.data.data||[];let je=Array.isArray(le)?le:[];(G==null?void 0:G.role)==="unit_admin"&&(G!=null&&G.unit_id)&&(je=je.filter(Le=>{var $e;return(($e=Le.unit)==null?void 0:$e.id)===G.unit_id||Le.unit_id===G.unit_id}));const pe=je.slice(0,W.limit);t(pe);const Te=ne.data.page,ke=(G==null?void 0:G.role)==="unit_admin"?je.length:ne.data.total||je.length||0,ue=Math.max(ke,pe.length+(Te-1)*W.limit);Q({total:ue,page:Te,totalPages:(G==null?void 0:G.role)==="unit_admin"?Math.ceil(ue/W.limit):ne.data.totalPages||Math.ceil(ue/W.limit)}),W.page!==Te&&Ne(Le=>({...Le,page:Te}))}catch(ve){console.error("Fetch bills error:",ve),console.error("Error response:",(se=ve.response)==null?void 0:se.data)}finally{i(!1)}},[W]);M.useEffect(()=>{re()},[re]),M.useEffect(()=>{const se=W.search!==""?300:0,ve=setTimeout(()=>{q()},se);return()=>clearTimeout(ve)},[W.start_date,W.end_date,W.search,W.unit_id,W.payment_mode,W.payment_status,W.printer_status,W.page,W.limit,q]),M.useEffect(()=>{const H=()=>{I(null),F(!1)};return document.addEventListener("click",H),()=>document.removeEventListener("click",H)},[]);const ie=async(H,se)=>{var ve,ne;try{await Ut.post(`/orders/${H}/bills/${se}/print`),q()}catch(le){console.error("Retry print error:",le),alert(((ne=(ve=le.response)==null?void 0:ve.data)==null?void 0:ne.error)||"Print failed. Please check printer connection.")}};M.useEffect(()=>{if(x&&m&&!c){const H=setTimeout(()=>{window.print(),y(!1)},500);return()=>clearTimeout(H)}},[x,m,c]);const oe=async()=>{try{const H=new URLSearchParams;W.start_date&&(H.append("start_date",W.start_date),H.append("startDate",W.start_date)),W.end_date&&(H.append("end_date",W.end_date),H.append("endDate",W.end_date)),W.search&&W.search.trim()!==""&&H.append("search",W.search),W.unit_id&&W.unit_id.trim()!==""&&(H.append("unit_id",W.unit_id),H.append("unitId",W.unit_id)),W.payment_mode&&W.payment_mode.trim()!==""&&(H.append("payment_mode",W.payment_mode),H.append("paymentMode",W.payment_mode)),W.payment_status&&W.payment_status.trim()!==""&&(H.append("payment_status",W.payment_status),H.append("paymentStatus",W.payment_status)),W.printer_status&&W.printer_status.trim()!==""&&H.append("is_printed",W.printer_status==="Printed"?"true":"false"),H.append("limit","10000"),H.append("page","1");const se=await Ut.get(`/logs?${H.toString()}`),ve=se.data.logs||se.data.data||[];let ne=Array.isArray(ve)?ve:[];if((G==null?void 0:G.role)==="unit_admin"&&(G!=null&&G.unit_id)&&(ne=ne.filter(ue=>{var Le;return((Le=ue.unit)==null?void 0:Le.id)===G.unit_id||ue.unit_id===G.unit_id})),ne.length===0){alert("No logs available to export.");return}const le=new br("p","mm","a4"),je=le.internal.pageSize.getWidth(),pe=15;let Te=20;le.setFontSize(14),le.setTextColor(30,41,59),le.setFont(void 0,"bold"),le.text("SALES / LOGS REPORT",pe,Te),Te+=10,le.setDrawColor(226,232,240),le.line(pe,Te,je-15,Te),Te+=10,le.setFontSize(10),le.setTextColor(30,41,59),le.setFont(void 0,"bold"),le.text(`Generated On: ${new Date().toLocaleString()}`,pe,Te),le.text(`Records: ${ne.length}`,je-15,Te,{align:"right"}),Te+=6,le.setFont(void 0,"normal"),le.text(`Filters: ${W.start_date} to ${W.end_date}`,pe,Te),Te+=12,le.setFillColor(250,198,57),le.rect(pe,Te,je-pe*2,10,"F"),le.setFont(void 0,"bold"),le.setTextColor(0,0,0),le.text("S.No",pe+2,Te+7),le.text("Date",pe+15,Te+7),le.text("Unit",pe+40,Te+7),le.text("Menus",pe+80,Te+7),le.text("Mode",pe+120,Te+7),le.text("Status",pe+142,Te+7),le.text("Amount",pe+180,Te+7,{align:"right"}),Te+=10,le.setTextColor(30,41,59),le.setFont(void 0,"normal"),le.setFontSize(8);let ke=0;ne.forEach((ue,Le)=>{var Fe,et;Te>270&&(le.addPage(),Te=20,le.setFillColor(250,198,57),le.rect(pe,Te,je-pe*2,10,"F"),le.setFont(void 0,"bold"),le.setTextColor(0,0,0),le.text("S.No",pe+2,Te+7),le.text("Date",pe+15,Te+7),le.text("Unit",pe+40,Te+7),le.text("Menus",pe+80,Te+7),le.text("Mode",pe+120,Te+7),le.text("Status",pe+142,Te+7),le.text("Amount",pe+180,Te+7,{align:"right"}),Te+=10,le.setTextColor(30,41,59),le.setFont(void 0,"normal"));const $e=String(Le+1),Be=ee(ue.bill_date),ae=((Fe=ue.unit)==null?void 0:Fe.name)||"N/A",nt=ue.product_name||ue.product_name_en||((et=ue.product)==null?void 0:et.name_en)||"N/A",at=ue.payment_mode||"N/A",Re=ue.payment_status||"N/A",Qe=`INR ${parseFloat(ue.amount||0).toFixed(2)}`;ke+=parseFloat(ue.amount||0),le.text($e,pe+2,Te+7),le.text(Be,pe+15,Te+7),le.text(ae,pe+40,Te+7),le.text(nt,pe+80,Te+7),le.text(at,pe+120,Te+7),le.text(Re,pe+142,Te+7),le.text(Qe,pe+180,Te+7,{align:"right"}),Te+=8,le.setDrawColor(241,245,249),le.line(pe,Te,je-15,Te)}),Te+=10,le.setFontSize(12),le.setFont(void 0,"bold"),le.text("Grand Total:",je-60,Te),le.setTextColor(16,185,129),le.text(`INR ${ke.toFixed(2)}`,je-15,Te,{align:"right"}),le.save(`logs-report-${W.start_date}-to-${W.end_date}.pdf`)}catch(H){console.error("Overall PDF Download Error:",H),alert("Failed to download overall PDF.")}},de=()=>{Ne({start_date:V(new Date(new Date().setDate(1))),end_date:V($),search:"",unit_id:"",payment_mode:"",payment_status:"",printer_status:"",page:1,limit:50}),I(null)},ee=H=>{if(!H)return"-";const se=new Date(H);if(isNaN(se.getTime()))return H;const ve=String(se.getDate()).padStart(2,"0"),ne=String(se.getMonth()+1).padStart(2,"0"),le=se.getFullYear();return`${ve}-${ne}-${le}`},Ae=M.useMemo(()=>Array.isArray(e)?e.filter(H=>{var le;const se=String(((le=H.unit)==null?void 0:le.id)||H.unit_id||""),ve=String(H.payment_mode||"").toUpperCase(),ne=String(H.payment_status||"").toUpperCase();if(W.unit_id&&se!==String(W.unit_id)||W.payment_mode&&ve!==String(W.payment_mode).toUpperCase()||W.payment_status&&ne!==String(W.payment_status).toUpperCase())return!1;if(W.printer_status){const je=H.is_printed===!0||H.is_printed==="true"||H.is_printed===1,pe=W.printer_status==="Printed";if(je!==pe)return!1}return!0}):[],[e,W.unit_id,W.payment_mode,W.payment_status,W.order_status,W.printer_status]),ce=M.useMemo(()=>[...Ae].sort((H,se)=>{var pe,Te,ke,ue;const ve=Y.key,ne=Y.direction;let le=H[ve],je=se[ve];return ve==="unit"&&(le=((pe=H.unit)==null?void 0:pe.name)||"",je=((Te=se.unit)==null?void 0:Te.name)||""),ve==="product"&&(le=H.product_name||H.product_name_en||((ke=H.product)==null?void 0:ke.name_en)||"",je=se.product_name||se.product_name_en||((ue=se.product)==null?void 0:ue.name_en)||""),le<je?ne==="asc"?-1:1:le>je?ne==="asc"?1:-1:0}),[Ae,Y]),U=H=>{J(se=>({key:H,direction:se.key===H&&se.direction==="asc"?"desc":"asc"}))};return a&&e.length===0?u.jsx(ci,{children:u.jsx(qs,{})}):u.jsx(ci,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4 sm:mb-8 mt-1 animate-slide-up opacity-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-1.5 h-8 bg-[var(--brand-primary)] rounded-full shadow-[0_0_10px_rgba(249,115,22,0.4)]"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-[0.1em] text-[var(--text-primary)]",children:"Logs".split("").map((H,se)=>u.jsx("span",{className:"animate-letter-pop",style:{animationDelay:`${300+(H===" "?0:se*50)}ms`},children:H===" "?"":H},se))})]}),u.jsxs("button",{onClick:oe,className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-bold px-6 py-2.5 sm:py-3 rounded-xl flex items-center justify-center gap-3 transition-all shadow-lg hover:scale-105 active:scale-95 text-xs sm:text-sm tracking-wider",children:[u.jsx(hd,{className:"text-lg"}),u.jsx("span",{children:" PDF"})]})]}),T&&u.jsx("div",{className:"fixed inset-0 z-40 bg-transparent",onClick:()=>I(null)}),u.jsx("div",{style:{animationDelay:"100ms"},className:"mb-8 p-4 sm:p-6 rounded-2xl bg-[var(--surface-card)] shadow-lg transition-all duration-300 animate-slide-up opacity-0",children:u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-6 items-end",children:[u.jsxs("div",{className:"sm:col-span-2 lg:col-span-5",children:[u.jsx("label",{className:"block text-xs font-medium text-[var(--brand-primary)] mb-2 ml-1 tracking-wider",children:"Date range filter"}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 p-2 sm:p-1.5 rounded-xl bg-[var(--surface-main)] focus-within:bg-[var(--surface-card)] focus-within:ring-4 focus-within:ring-[var(--brand-primary)]/10 transition-all shadow-inner border border-[var(--border-default)]/50 overflow-hidden",children:[u.jsx("input",{type:"date",value:W.start_date,onChange:H=>Ne({...W,start_date:H.target.value,page:1}),className:"w-full sm:w-auto flex-1 min-w-0 sm:min-w-[110px] bg-transparent border-none text-[var(--text-primary)] text-xs font-medium focus:ring-0 outline-none cursor-pointer px-1 sm:px-2 accent-[var(--brand-primary)] [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-calendar-picker-indicator]:hover:opacity-70 transition-all opacity-80 hover:opacity-100 h-10 sm:h-auto"}),u.jsx("span",{className:"text-[var(--brand-primary)] text-[10px] font-medium opacity-60 shrink-0 text-center sm:text-left py-1 sm:py-0",children:"To"}),u.jsx("input",{type:"date",value:W.end_date,onChange:H=>Ne({...W,end_date:H.target.value,page:1}),className:"w-full sm:w-auto flex-1 min-w-0 sm:min-w-[110px] bg-transparent border-none text-[var(--text-primary)] text-xs font-medium focus:ring-0 outline-none cursor-pointer px-1 sm:px-2 accent-[var(--brand-primary)] [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-calendar-picker-indicator]:hover:opacity-70 transition-all opacity-80 hover:opacity-100 h-10 sm:h-auto"}),u.jsx(gb,{className:"hidden sm:block w-4 h-4 text-[var(--brand-primary)] mr-2 shrink-0 opacity-80"})]})]}),u.jsx("div",{className:"lg:col-span-2 lg:col-start-11 flex justify-end",children:u.jsxs("div",{className:"w-full sm:w-auto",children:[u.jsx("label",{className:"hidden lg:block text-xs font-medium text-transparent mb-2 ml-1 tracking-wider",children:"."}),u.jsx("button",{onClick:de,className:"w-full px-6 py-3 rounded-xl bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] transition-all font-semibold text-xs shadow-lg h-[48px] flex items-center justify-center tracking-widest active:scale-95 whitespace-nowrap",children:"Reset"})]})})]})}),u.jsxs("div",{className:"rounded-2xl overflow-hidden bg-[var(--surface-card)] shadow-lg",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[1200px]",children:[u.jsx("thead",{className:"bg-[var(--brand-primary)] text-white",children:u.jsxs("tr",{className:"text-white",children:[u.jsx("th",{className:"px-4 py-2 text-left text-base sm:text-lg tracking-wider border-r border-[var(--border-default)] w-20",children:"S.No"}),u.jsx("th",{className:"px-4 py-2 text-center text-base sm:text-lg tracking-wider border-r border-[var(--border-default)]",children:u.jsx("div",{className:"flex items-center justify-center gap-2",children:u.jsx("span",{children:"Bill Date"})})}),u.jsxs("th",{className:"px-4 py-2 text-left text-base sm:text-lg tracking-wider border-r border-[var(--border-default)] relative group",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-pointer hover:opacity-70 transition-colors",onClick:()=>U("unit"),children:[u.jsx("span",{children:"Unit"}),u.jsx("div",{className:"p-1 hover:bg-black/10 rounded-md transition-all active:scale-90",onClick:H=>{H.stopPropagation(),W.unit_id&&Ne(se=>({...se,unit_id:"",page:1})),I(T==="unit"?null:"unit")},children:u.jsx(Ac,{className:`text-white transition-all scale-110 drop-shadow-sm ${W.unit_id?"opacity-100 scale-125":"opacity-80 group-hover:opacity-100"}`,style:{strokeWidth:"3px"}})})]}),T==="unit"&&u.jsxs("div",{className:"absolute top-full left-0 mt-1 w-48 bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl shadow-2xl z-50 py-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[u.jsx("div",{className:"px-3 py-1.5 text-[10px] font-medium text-[var(--brand-primary)] border-b border-[var(--border-default)] mb-1",children:"Select Unit"}),u.jsx("button",{onClick:()=>{Ne({...W,unit_id:"",page:1}),I(null)},className:`w-full px-4 py-2 text-left text-xs font-medium hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${W.unit_id?"":"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]"}`,children:"All Units"}),r.map(H=>u.jsx("button",{onClick:()=>{Ne({...W,unit_id:W.unit_id===H.id?"":H.id,page:1}),I(null)},className:`w-full px-4 py-2 text-left text-xs font-medium hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${W.unit_id===H.id?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":""}`,children:H.name},H.id))]})]}),u.jsx("th",{className:"px-4 py-2 text-left text-base sm:text-lg tracking-wider border-r border-[var(--border-default)]",children:u.jsx("div",{className:"flex items-center justify-between gap-2",children:u.jsx("span",{children:"Menus"})})}),u.jsx("th",{className:"px-4 py-2 text-center text-base sm:text-lg tracking-wider border-r border-[var(--border-default)]",children:u.jsx("div",{className:"flex items-center justify-center gap-2",children:u.jsx("span",{children:"Qty"})})}),u.jsx("th",{className:"px-4 py-2 text-right text-base sm:text-lg tracking-wider border-r border-[var(--border-default)]",children:u.jsx("div",{className:"flex items-center justify-end gap-2",children:u.jsx("span",{children:"Amount"})})}),u.jsxs("th",{className:"px-4 py-2 text-center text-base sm:text-lg tracking-wider border-r border-[var(--border-default)] relative group",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 cursor-pointer hover:opacity-70 transition-colors",onClick:()=>U("payment_mode"),children:[u.jsx("span",{children:"Payment Mode"}),u.jsx("div",{className:"p-1 hover:bg-black/10 rounded-md transition-all active:scale-90",onClick:H=>{H.stopPropagation(),W.payment_mode&&Ne(se=>({...se,payment_mode:"",page:1})),I(T==="mode"?null:"mode")},children:u.jsx(Ac,{className:`text-white transition-all scale-110 drop-shadow-sm ${W.payment_mode?"opacity-100 scale-125":"opacity-80 group-hover:opacity-100"}`,style:{strokeWidth:"3px"}})})]}),T==="mode"&&u.jsxs("div",{className:"absolute top-full left-0 mt-1 w-40 bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl shadow-2xl z-50 py-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[u.jsx("div",{className:"px-3 py-1.5 text-[10px] font-semibold text-[var(--brand-primary)] border-b border-[var(--border-default)] mb-1",children:"Select Mode"}),["All Modes","UPI","GUEST","FREE"].map(H=>u.jsx("button",{onClick:()=>{const se=H==="All Modes"?"":H;Ne({...W,payment_mode:W.payment_mode===se?"":se,page:1}),I(null)},className:`w-full px-4 py-2 text-left text-xs font-bold hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${W.payment_mode===H||H==="All Modes"&&!W.payment_mode?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":""}`,children:H},H))]})]}),u.jsxs("th",{className:"px-4 py-2 text-center text-base sm:text-lg tracking-wider border-r border-[var(--border-default)] relative group",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 cursor-pointer hover:opacity-70 transition-colors",onClick:()=>U("payment_status"),children:[u.jsx("span",{children:"Status"}),u.jsx("div",{className:"p-1 hover:bg-black/10 rounded-md transition-all active:scale-90",onClick:H=>{H.stopPropagation(),W.payment_status&&Ne(se=>({...se,payment_status:"",page:1})),I(T==="status"?null:"status")},children:u.jsx(Ac,{className:`text-white transition-all scale-110 drop-shadow-sm ${W.payment_status?"opacity-100 scale-125":"opacity-80 group-hover:opacity-100"}`,style:{strokeWidth:"3px"}})})]}),T==="status"&&u.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-1 w-40 bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl shadow-2xl z-50 py-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[u.jsx("div",{className:"px-3 py-1.5 text-[10px] font-semibold text-[var(--brand-primary)] border-b border-[var(--border-default)] mb-1",children:"Select Status"}),["All Status","PAID","PENDING","FAILED"].map(H=>u.jsx("button",{onClick:()=>{const se=H==="All Status"?"":H;Ne({...W,payment_status:W.payment_status===se?"":se,page:1}),I(null)},className:`w-full px-4 py-2 text-left text-xs font-bold hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${W.payment_status===H||H==="All Status"&&!W.payment_status?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":""}`,children:H},H))]})]}),u.jsxs("th",{className:"px-4 py-2 text-center text-sm sm:text-base tracking-wider border-r border-[var(--border-default)] relative group",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 cursor-pointer hover:opacity-70 transition-colors",onClick:()=>U("is_printed"),children:[u.jsx("span",{children:"Printer Status"}),u.jsx("div",{className:"p-1 hover:bg-black/10 rounded-md transition-all active:scale-90",onClick:H=>{H.stopPropagation(),W.printer_status&&Ne(se=>({...se,printer_status:"",page:1})),I(T==="printer_status"?null:"printer_status")},children:u.jsx(Ac,{className:`text-white transition-all scale-110 drop-shadow-sm ${W.printer_status?"opacity-100 scale-125":"opacity-80 group-hover:opacity-100"}`,style:{strokeWidth:"3px"}})})]}),T==="printer_status"&&u.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-1 w-40 bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl shadow-2xl z-50 py-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[u.jsx("div",{className:"px-3 py-1.5 text-[10px] font-semibold text-[var(--brand-primary)] border-b border-[var(--border-default)] mb-1",children:"Select Status"}),["All Status","Printed","Not Printed"].map(H=>u.jsx("button",{onClick:()=>{const se=H==="All Status"?"":H;Ne({...W,printer_status:W.printer_status===se?"":se,page:1}),I(null)},className:`w-full px-4 py-2 text-left text-xs font-bold hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${W.printer_status===H||H==="All Status"&&!W.printer_status?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":""}`,children:H},H))]})]}),u.jsx("th",{className:"px-4 py-2 text-center text-base sm:text-lg tracking-wider w-20",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]",children:Array.isArray(ce)&&ce.map((H,se)=>{var ve,ne;return u.jsxs("tr",{style:{animationDelay:`${se*30}ms`},className:"hover:bg-[var(--surface-muted)]/30 transition-colors animate-slide-up opacity-0",children:[u.jsx("td",{className:"px-4 py-2 text-base font-medium opacity-60",children:(W.page-1)*W.limit+se+1}),u.jsx("td",{className:"px-4 py-2 text-base font-medium text-center whitespace-nowrap",children:ee(H.bill_date)}),u.jsx("td",{className:"px-4 py-2 text-base",children:((ve=H.unit)==null?void 0:ve.name)||"N/A"}),u.jsx("td",{className:"px-4 py-2 text-base font-bold text-[var(--text-primary)]",children:H.item_name_en||H.product_name||H.product_name_en||((ne=H.product)==null?void 0:ne.name_en)||"N/A"}),u.jsx("td",{className:"px-4 py-2 text-base text-center font-medium",children:H.quantity||1}),u.jsxs("td",{className:"px-4 py-2 text-base text-right font-bold text-emerald-500",children:["",parseFloat(H.line_total??H.amount??0).toFixed(2)]}),u.jsx("td",{className:"px-4 py-2 text-base text-center",children:u.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-semibold tracking-tight ${H.payment_mode==="CASH"?"bg-emerald-500/10 text-emerald-500 border border-emerald-500/20":H.payment_mode==="UPI"?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)] border border-[var(--brand-primary)]/20":H.payment_mode==="GUEST"?"bg-amber-500/10 text-amber-500 border border-amber-500/20":H.payment_mode==="FREE"?"bg-purple-500/10 text-purple-500 border border-purple-500/20":"bg-[var(--surface-muted)] text-[var(--text-secondary)] border border-[var(--border-default)]"}`,children:H.payment_mode||"N/A"})}),u.jsx("td",{className:"px-4 py-2 text-base text-center",children:u.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-semibold border ${H.payment_status==="PAID"?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":H.payment_status==="PENDING"?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)] border-[var(--brand-primary)]/20":"bg-rose-500/10 text-rose-500 border-rose-500/20"}`,children:H.payment_status||"N/A"})}),u.jsx("td",{className:"px-4 py-2 text-base font-medium text-center",children:u.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-semibold ${H.is_printed?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:H.is_printed?"Printed":"Not Printed"})}),u.jsx("td",{className:"px-4 py-2 text-center flex justify-center items-center w-20",children:u.jsx("div",{className:"flex items-center justify-center gap-2",children:u.jsx("button",{onClick:le=>{le.stopPropagation(),ie(H.order_id||H.id,H.id)},className:"p-2 rounded-xl bg-[var(--brand-primary)]/10 text-[var(--brand-primary)] hover:bg-[var(--brand-primary)] hover:text-white transition-all active:scale-90 hover:shadow-md group shadow-sm border border-[var(--brand-primary)]/20",title:"Direct Print Bill",children:u.jsx(HR,{size:16,className:"transition-transform group-hover:scale-110"})})})})]},`${H.id}-${H.item_id||"noitem"}`)})})]})}),u.jsxs("div",{className:"px-6 py-5 flex flex-col sm:flex-row items-center justify-between border-t border-[var(--border-default)] bg-[var(--surface-card)] gap-4",children:[u.jsxs("div",{className:"text-xs sm:text-sm text-[var(--text-secondary)] font-medium",children:["Showing ",u.jsxs("span",{className:"text-[var(--text-primary)]",children:[(W.page-1)*W.limit+1,"",Math.min(W.page*W.limit,Z.total)]})," of ",u.jsx("span",{className:"text-[var(--brand-primary)] font-semibold",children:Z.total})," records"]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 justify-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>Ne({...W,page:Math.max(1,parseInt(Z.page)-1)}),disabled:parseInt(Z.page)<=1,className:"px-4 h-9 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-main)] border border-[var(--border-default)] text-[var(--text-secondary)] disabled:opacity-30 hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)] transition-all shadow-sm font-semibold text-[10px] uppercase",children:[u.jsx(Kl,{size:16})," Back"]}),u.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Z.totalPages},(H,se)=>se+1).map(H=>{const se=parseInt(Z.page)===H;return Z.totalPages>5&&H>1&&H<Z.totalPages&&Math.abs(H-parseInt(Z.page))>1?H===2||H===Z.totalPages-1?u.jsx("span",{className:"px-1 text-[var(--text-secondary)] opacity-50",children:"..."},H):null:u.jsx("button",{onClick:()=>Ne({...W,page:H}),className:`w-9 h-9 flex items-center justify-center rounded-xl text-xs font-semibold transition-all border
                          ${se?"bg-[var(--brand-primary)] border-[var(--brand-primary)] text-white shadow-lg scale-105":"bg-[var(--surface-main)] border-[var(--border-default)] text-[var(--text-secondary)] hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)]"}`,children:H},H)})}),u.jsxs("button",{onClick:()=>Ne({...W,page:Math.min(Z.totalPages,parseInt(Z.page)+1)}),disabled:parseInt(Z.page)>=Z.totalPages,className:"px-4 h-9 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-main)] border border-[var(--border-default)] text-[var(--text-secondary)] disabled:opacity-30 hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)] transition-all shadow-sm font-semibold text-[10px] uppercase",children:["Next ",u.jsx(Ql,{size:16})]})]}),u.jsxs("div",{className:"relative shrink-0",children:[u.jsxs("button",{onClick:H=>{H.stopPropagation(),F(!R)},className:"bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl py-2.5 text-[12px] font-semibold text-[var(--text-primary)] cursor-pointer outline-none transition-all shadow-sm flex items-center justify-center relative w-[130px]",children:[W.limit," Pages",u.jsx(Wl,{size:14,className:`absolute right-3 transition-transform duration-300 ${R?"rotate-180":""} text-[var(--brand-primary)]`})]}),R&&u.jsx("div",{className:"absolute bottom-full left-0 mb-2 w-[130px] bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-2xl shadow-2xl z-[100] py-1 overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-300",children:[10,20,50,100].map(H=>u.jsxs("button",{onClick:se=>{se.stopPropagation(),Ne({...W,limit:H,page:1}),F(!1)},className:`w-full py-3.5 text-center text-[12px] font-medium transition-all
                          ${W.limit===H?"bg-[var(--brand-primary)] text-white":"text-[var(--text-primary)] hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)]"}`,children:[H," Pages"]},H))})]})]})]})]})]})})},jae=()=>{const[e,t]=M.useState([]),[r,n]=M.useState([]),[a,i]=M.useState(!0),[c,f]=M.useState(null),[m,p]=M.useState(!1),[x,y]=M.useState(null),[S,N]=M.useState({username:"",password:"",role:"user",unit_id:"",is_active:!0}),[j,_]=M.useState(!1),[T,I]=M.useState(!1),[R,F]=M.useState(null),[G,Y]=M.useState({top:0,left:0}),{user:J}=$i(),V=(J==null?void 0:J.role)==="admin"||(J==null?void 0:J.role)==="unit_admin",[$,W]=M.useState({search:"",role:"",unit_id:"",is_active:"",page:1,limit:50}),[Ne,Z]=M.useState({total:0,page:1,totalPages:1}),Q=M.useCallback(async()=>{var ee,Ae;try{i(!0);const ce=new URLSearchParams;$.search&&ce.append("search",$.search),$.role&&ce.append("role",$.role),$.unit_id&&ce.append("unit_id",$.unit_id),$.is_active!==""&&ce.append("is_active",$.is_active),ce.append("page",$.page),ce.append("limit",$.limit);const U=await Ut.get(`/users?${ce.toString()}`);if(U.data&&U.data.users){let H=U.data.users,se=U.data.total||U.data.count||H.length||0;(J==null?void 0:J.role)==="unit_admin"&&(J!=null&&J.unit_id)&&(H=H.filter(ve=>ve.unit_id===J.unit_id),se=H.length),t(H),Z({total:se,page:U.data.page,totalPages:U.data.totalPages||Math.ceil(se/U.data.limit)})}else{const H=await Ut.get("/users");let se=Array.isArray(H.data)?H.data:((ee=H.data)==null?void 0:ee.users)||[];(J==null?void 0:J.role)==="unit_admin"&&(J!=null&&J.unit_id)&&(se=se.filter(ve=>ve.unit_id===J.unit_id)),t(se),Z({total:se.length,page:1,totalPages:1})}}catch(ce){console.error("Fetch users error:",ce);try{const U=await Ut.get("/users"),H=Array.isArray(U.data)?U.data:((Ae=U.data)==null?void 0:Ae.users)||[];t(H),Z({total:H.length,page:1,totalPages:1})}catch(U){console.error("Final fallback error:",U)}}finally{i(!1)}},[$]),me=M.useCallback(async()=>{var ee;try{const Ae=await Ut.get("/units");n(Array.isArray(Ae.data)?Ae.data:((ee=Ae.data)==null?void 0:ee.units)||[])}catch(Ae){console.error("Fetch units error:",Ae)}},[]);M.useEffect(()=>{const ee=setTimeout(()=>{Q()},$.search?500:0);return()=>clearTimeout(ee)},[Q,$]),M.useEffect(()=>{me()},[me]),M.useEffect(()=>{const ee=()=>{f(null),I(!1)};return document.addEventListener("click",ee),()=>document.removeEventListener("click",ee)},[]);const re=(ee=null)=>{var Ae;ee?(y(ee),N({username:ee.username,password:"",role:ee.role,unit_id:ee.unit_id||((Ae=ee.unit)==null?void 0:Ae.id)||"",is_active:ee.is_active??!0})):(y(null),N({username:"",password:"",role:"user",unit_id:"",is_active:!0})),p(!0)},q=()=>{p(!1),y(null),N({username:"",password:"",role:"user",unit_id:"",is_active:!0})},ie=async ee=>{var Ae,ce;ee.preventDefault();try{if(x){const U={username:S.username,role:S.role,is_active:S.is_active};S.password&&(U.password=S.password),["user","chef"].includes(S.role)&&(U.unit_id=S.unit_id),await Ut.put(`/users/${x.id}`,U)}else{if(!S.password){alert("Password is required for new users");return}if(["user","chef"].includes(S.role)&&!S.unit_id){alert("Unit assignment is required for this role");return}await Ut.post("/users",S)}q(),Q()}catch(U){console.error("Save user error:",U),alert(((ce=(Ae=U.response)==null?void 0:Ae.data)==null?void 0:ce.error)||"Failed to save user. Please try again.")}},oe=async ee=>{var Ae,ce;if(confirm("Are you sure you want to delete this user?"))try{await Ut.delete(`/users/${ee}`),Q()}catch(U){console.error("Delete user error:",U),alert(((ce=(Ae=U.response)==null?void 0:Ae.data)==null?void 0:ce.error)||"Failed to delete user. Please try again.")}},de=async()=>{var ee;try{const Ae=new URLSearchParams;$.search&&Ae.append("search",$.search),$.role&&Ae.append("role",$.role),$.unit_id&&Ae.append("unit_id",$.unit_id),$.is_active!==""&&Ae.append("is_active",$.is_active),Ae.append("limit","10000");const U=((ee=(await Ut.get(`/users?${Ae.toString()}`)).data)==null?void 0:ee.users)||[];if(U.length===0){alert("No data to export");return}const H=new br("p","mm","a4"),se=H.internal.pageSize.getWidth(),ve=15;let ne=20;H.setFontSize(14),H.setTextColor(30,41,59),H.setFont(void 0,"bold"),H.text("USER MANAGEMENT REPORT",ve,ne),ne+=10,H.setDrawColor(226,232,240),H.line(ve,ne,se-15,ne),ne+=10,H.setFontSize(10),H.setTextColor(30,41,59),H.setFont(void 0,"bold"),H.text(`Generated On: ${new Date().toLocaleString()}`,ve,ne),H.text(`Total Records: ${U.length}`,se-15,ne,{align:"right"}),ne+=12,H.setFillColor(250,198,57),H.rect(ve,ne,se-ve*2,10,"F"),H.setFont(void 0,"bold"),H.setTextColor(0,0,0),H.setFontSize(9),H.text("S.No",ve+2,ne+7),H.text("Username",ve+15,ne+7),H.text("Role",ve+60,ne+7),H.text("Unit Assignment",ve+90,ne+7),H.text("Status",ve+145,ne+7),H.text("Created",ve+180,ne+7,{align:"right"}),ne+=10,H.setTextColor(30,41,59),H.setFont(void 0,"normal"),H.setFontSize(8),U.forEach((le,je)=>{var ae;ne>270&&(H.addPage(),ne=20,H.setFillColor(250,198,57),H.rect(ve,ne,se-ve*2,10,"F"),H.setFont(void 0,"bold"),H.setTextColor(0,0,0),H.text("S.No",ve+2,ne+7),H.text("Username",ve+15,ne+7),H.text("Role",ve+60,ne+7),H.text("Unit",ve+95,ne+7),H.text("Status",ve+145,ne+7),H.text("Created",ve+180,ne+7,{align:"right"}),ne+=10,H.setTextColor(30,41,59),H.setFont(void 0,"normal"));const pe=String(je+1),Te=le.username||"-",ke=Te.charAt(0).toUpperCase()+Te.slice(1),ue=le.role?le.role.charAt(0).toUpperCase()+le.role.slice(1):"-",Le=((ae=le.unit)==null?void 0:ae.name)||(le.role==="admin"?"All Access":"-"),$e=le.is_active?"Active":"Inactive",Be=new Date(le.createdAt).toLocaleDateString("en-IN");H.text(pe,ve+2,ne+7),H.text(ke,ve+15,ne+7),H.text(ue,ve+60,ne+7),H.text(Le,ve+95,ne+7),le.is_active?H.setTextColor(16,185,129):H.setTextColor(225,29,72),H.text($e,ve+145,ne+7),H.setTextColor(30,41,59),H.text(Be,ve+180,ne+7,{align:"right"}),ne+=8,H.setDrawColor(241,245,249),H.line(ve,ne,se-15,ne)}),H.save(`users-report-${new Date().toLocaleDateString("en-IN").replace(/\//g,"-")}.pdf`)}catch(Ae){console.error("PDF Export failed:",Ae),alert("Failed to export PDF. Please try again.")}};return a&&e.length===0?u.jsx(ci,{children:u.jsx(qs,{})}):u.jsxs(ci,{children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6 mb-6 sm:mb-10 mt-2",children:[u.jsxs("div",{className:"flex flex-col gap-4 w-full md:w-auto",children:[u.jsxs("div",{className:"flex items-center gap-3 animate-slide-up opacity-0",children:[u.jsx("div",{className:"w-1.5 h-10 bg-[var(--brand-primary)] rounded-full shadow-[0_0_15px_rgba(249,115,22,0.4)]"}),u.jsx("h1",{className:"text-xl sm:text-2xl font-medium tracking-[0.1em] text-[var(--text-primary)]",children:"Users".split("").map((ee,Ae)=>u.jsx("span",{className:"animate-letter-pop",style:{animationDelay:`${300+(ee===" "?0:Ae*50)}ms`},children:ee===" "?"":ee},Ae))})]}),u.jsxs("div",{style:{animationDelay:"100ms"},className:"relative w-full sm:w-[400px] group animate-slide-up opacity-0",children:[u.jsx("input",{type:"text",placeholder:"Search by username...",value:$.search,onChange:ee=>W({...$,search:ee.target.value,page:1}),className:"w-full px-10 sm:px-12 py-3 sm:py-3.5 text-center rounded-xl sm:rounded-2xl border border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-primary)] focus:outline-none focus:ring-2 sm:focus:ring-4 focus:ring-[var(--brand-primary)]/20 focus:border-[var(--brand-primary)] font-medium text-xs sm:text-sm transition-all shadow-sm hover:border-[var(--brand-primary)]/50"}),u.jsx(wd,{className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] group-focus-within:text-[var(--brand-primary)] transition-colors",size:18})]})]}),u.jsxs("div",{style:{animationDelay:"200ms"},className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto mt-auto lg:mt-0 animate-slide-up opacity-0",children:[V&&u.jsxs("button",{onClick:()=>re(),className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-semibold px-5 sm:px-6 py-2.5 sm:py-3 rounded-xl flex items-center justify-center gap-2 sm:gap-3 transition-all shadow-[0_4px_15px_rgba(250,198,57,0.3)] hover:scale-105 active:scale-95 text-xs sm:text-sm",children:[u.jsx(Oc,{className:"text-sm sm:text-base"}),u.jsx("span",{children:"Add User"})]}),u.jsxs("button",{onClick:de,className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-semibold px-5 sm:px-6 py-2.5 sm:py-3 rounded-xl flex items-center justify-center gap-2 sm:gap-3 transition-all shadow-[0_4px_15px_rgba(250,198,57,0.3)] hover:scale-105 active:scale-95 text-xs sm:text-sm tracking-wider",children:[u.jsx(hd,{className:"text-lg"}),u.jsx("span",{children:"PDF"})]})]})]}),u.jsxs("div",{id:"users-table-container",className:"rounded-3xl overflow-hidden bg-[var(--surface-card)] shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-[var(--border-default)]",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[1200px] border-separate border-spacing-0",children:[u.jsx("thead",{className:"bg-[var(--brand-primary)] text-white",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-4 text-left text-xs font-black uppercase tracking-[0.12em] border-b border-r border-black/5 first:rounded-tl-3xl w-14",children:"S.No"}),u.jsx("th",{className:"px-6 py-4 text-left text-base sm:text-lg tracking-wider border-b border-r border-black/5",children:"Username"}),u.jsxs("th",{className:"px-6 py-4 text-left text-base sm:text-lg tracking-wider border-b border-r border-black/5 relative group",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-pointer hover:text-black/70 transition-colors",children:[u.jsx("span",{children:"Role"}),u.jsx("div",{className:"p-1 hover:bg-black/10 rounded-md transition-all active:scale-90",onClick:ee=>{ee.stopPropagation(),$.role&&W(Ae=>({...Ae,role:"",page:1})),f(c==="role"?null:"role")},children:u.jsx(Ac,{className:`text-black transition-all scale-110 drop-shadow-sm ${$.role?"opacity-100 scale-125":"opacity-80 group-hover:opacity-100"}`,style:{strokeWidth:"3px"}})})]}),c==="role"&&u.jsxs("div",{className:"absolute top-full left-0 mt-1 w-40 bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl shadow-2xl z-50 py-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[u.jsx("div",{className:"px-3 py-1.5 text-[10px] font-semibold text-[var(--brand-primary)] border-b border-[var(--border-default)] mb-1",children:"Filter Role"}),["All","admin","chef","user"].map(ee=>u.jsx("button",{onClick:()=>{W({...$,role:ee==="All"?"":ee,page:1}),f(null)},className:`w-full px-4 py-2 text-left text-xs font-medium hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${$.role===ee||ee==="All"&&!$.role?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":""}`,children:ee==="All"?"All Roles":ee.charAt(0).toUpperCase()+ee.slice(1)},ee))]})]}),u.jsxs("th",{className:"px-6 py-4 text-left text-base sm:text-lg tracking-wider border-b border-r border-black/5 relative group",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-pointer hover:text-black/70 transition-colors",children:[u.jsx("span",{children:"Unit"}),u.jsx("div",{className:"p-1 hover:bg-black/10 rounded-md transition-all active:scale-90",onClick:ee=>{ee.stopPropagation(),$.unit_id&&W(Ae=>({...Ae,unit_id:"",page:1})),f(c==="unit"?null:"unit")},children:u.jsx(Ac,{className:`text-black transition-all scale-110 drop-shadow-sm ${$.unit_id?"opacity-100 scale-125":"opacity-80 group-hover:opacity-100"}`,style:{strokeWidth:"3px"}})})]}),c==="unit"&&u.jsxs("div",{className:"absolute top-full left-0 mt-1 w-48 bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl shadow-2xl z-50 py-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[u.jsx("div",{className:"px-3 py-1.5 text-[10px] font-semibold text-[var(--brand-primary)] border-b border-[var(--border-default)] mb-1",children:"Filter Unit"}),u.jsx("button",{onClick:()=>{W({...$,unit_id:"",page:1}),f(null)},className:`w-full px-4 py-2 text-left text-xs font-medium hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${$.unit_id?"":"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]"}`,children:"All Units"}),r.map(ee=>u.jsx("button",{onClick:()=>{W({...$,unit_id:ee.id,page:1}),f(null)},className:`w-full px-4 py-2 text-left text-xs font-bold hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${$.unit_id===ee.id?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":""}`,children:ee.name},ee.id))]})]}),u.jsxs("th",{className:"px-6 py-4 text-left text-base sm:text-lg tracking-wider border-b border-r border-black/5 relative group",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-pointer hover:text-black/70 transition-colors",children:[u.jsx("span",{children:"Status"}),u.jsx("div",{className:"p-1 hover:bg-black/10 rounded-md transition-all active:scale-90",onClick:ee=>{ee.stopPropagation(),$.is_active!==""&&W(Ae=>({...Ae,is_active:"",page:1})),f(c==="status"?null:"status")},children:u.jsx(Ac,{className:`text-black transition-all scale-110 drop-shadow-sm ${$.is_active!==""?"opacity-100 scale-125":"opacity-80 group-hover:opacity-100"}`,style:{strokeWidth:"3px"}})})]}),c==="status"&&u.jsxs("div",{className:"absolute top-full left-0 mt-1 w-40 bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl shadow-2xl z-50 py-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[u.jsx("div",{className:"px-3 py-1.5 text-[10px] font-semibold text-[var(--brand-primary)] border-b border-[var(--border-default)] mb-1",children:"Filter Status"}),["All","Active","Inactive"].map(ee=>u.jsx("button",{onClick:()=>{W({...$,is_active:ee==="All"?"":ee==="Active"?"1":"0",page:1}),f(null)},className:`w-full px-4 py-2 text-left text-xs font-medium hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${ee==="All"&&$.is_active===""||ee==="Active"&&$.is_active==="1"||ee==="Inactive"&&$.is_active==="0"?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":""}`,children:ee},ee))]})]}),u.jsx("th",{className:"px-6 py-4 text-left text-sm sm:text-base uppercase tracking-wider border-b border-r border-black/5",children:"Created"}),u.jsx("th",{className:"px-6 py-4 text-center text-sm sm:text-base uppercase tracking-wider border-b border-black/5 last:rounded-tr-3xl",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]",children:Array.isArray(e)&&e.map((ee,Ae)=>u.jsxs("tr",{style:{animationDelay:`${Ae*30}ms`},className:"hover:bg-[var(--surface-muted)]/30 transition-colors animate-slide-up opacity-0",children:[u.jsx("td",{className:"px-6 py-4 text-base font-medium opacity-60",children:($.page-1)*$.limit+Ae+1}),u.jsx("td",{className:"px-6 py-4 text-base font-medium text-[var(--text-primary)] capitalize",children:ee.username}),u.jsx("td",{className:"px-6 py-4 text-base",children:u.jsxs("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold tracking-tight flex items-center gap-1.5 w-fit border ${ee.role==="admin"?"bg-amber-500/10 text-amber-500 border-amber-500/20":ee.role==="unit_admin"?"bg-purple-500/10 text-purple-500 border-purple-500/20":ee.role==="chef"?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":ee.role==="employee"?"bg-teal-500/10 text-teal-500 border-teal-500/20":"bg-blue-500/10 text-blue-500 border-blue-500/20"}`,children:[ee.role==="admin"?u.jsx($R,{size:10}):ee.role==="chef"?u.jsx(XR,{size:10}):u.jsx(KR,{size:10}),u.jsx("span",{children:ee.role})]})}),u.jsx("td",{className:"px-6 py-4 text-base text-[var(--text-secondary)] font-medium",children:ee.unit?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[var(--text-primary)] font-medium",children:ee.unit.name}),u.jsx("span",{className:"text-xs font-black text-[var(--text-secondary)]",children:ee.unit.code})]}):u.jsx("span",{className:"opacity-40 italic",children:ee.role==="admin"?"All Access":"No Unit"})}),u.jsx("td",{className:"px-6 py-4 text-base",children:u.jsx("div",{className:"flex items-center gap-2",children:ee.is_active?u.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-emerald-500/10 text-emerald-500 border border-emerald-500/20",children:"Active"}):u.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-rose-500/10 text-rose-500 border border-rose-500/20",children:"Inactive"})})}),u.jsx("td",{className:"px-6 py-4 text-base text-[var(--text-secondary)] font-medium",children:new Date(ee.createdAt).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"})}),u.jsx("td",{className:"px-6 py-4 text-base text-center relative",children:u.jsx("button",{onClick:ce=>{ce.stopPropagation();const U=ce.currentTarget.getBoundingClientRect();Y({top:U.bottom+10,right:window.innerWidth-U.right}),F(R===ee.id?null:ee.id)},className:`p-2 rounded-lg hover:bg-[var(--surface-muted)] text-[var(--brand-primary)] transition-colors ${R===ee.id?"bg-[var(--surface-muted)]":""}`,children:u.jsx(Uj,{className:"text-lg"})})})]},ee.id))})]})}),u.jsxs("div",{className:"px-6 py-5 flex flex-col sm:flex-row items-center justify-between border-t border-[var(--border-default)] bg-[var(--surface-card)] gap-4",children:[u.jsxs("div",{className:"text-xs sm:text-sm text-[var(--text-secondary)] font-medium",children:["Showing ",u.jsx("span",{className:"text-[var(--text-primary)]",children:(Ne.total||0)===0?"0-0":`${($.page-1)*$.limit+1}${Math.min($.page*$.limit,Ne.total||0)}`})," of ",u.jsx("span",{className:"text-[var(--brand-primary)]",children:Ne.total||0})," users"]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 justify-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>W({...$,page:Math.max(1,Ne.page-1)}),disabled:Ne.page<=1,className:"px-4 h-9 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-main)] border border-[var(--border-default)] text-[var(--text-secondary)] disabled:opacity-30 hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)] transition-all shadow-sm font-semibold text-[10px] uppercase",children:[u.jsx(Kl,{size:16})," BACK"]}),u.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Ne.totalPages},(ee,Ae)=>Ae+1).map(ee=>{const Ae=Ne.page===ee;return Ne.totalPages>5&&ee>1&&ee<Ne.totalPages&&Math.abs(ee-Ne.page)>1?ee===2||ee===Ne.totalPages-1?u.jsx("span",{className:"px-1 text-[var(--text-secondary)] opacity-50",children:"..."},ee):null:u.jsx("button",{onClick:()=>W({...$,page:ee}),className:`w-9 h-9 flex items-center justify-center rounded-xl text-xs font-semibold transition-all border
                          ${Ae?"bg-[var(--brand-primary)] border-[var(--brand-primary)] text-white shadow-[0_4px_15px_var(--brand-primary)]/40 scale-105":"bg-[var(--surface-main)] border-[var(--border-default)] text-[var(--text-secondary)] hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)]"}`,children:ee},ee)})}),u.jsxs("button",{onClick:()=>W({...$,page:Math.min(Ne.totalPages,Ne.page+1)}),disabled:Ne.page>=Ne.totalPages,className:"px-4 h-9 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-main)] border border-[var(--border-default)] text-[var(--text-secondary)] disabled:opacity-30 hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)] transition-all shadow-sm font-semibold text-[10px] uppercase",children:["NEXT ",u.jsx(Ql,{size:16})]})]}),u.jsxs("div",{className:"relative shrink-0",children:[u.jsxs("button",{onClick:ee=>{ee.stopPropagation(),I(!T)},className:"bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl py-2.5 text-[12px] font-medium text-[var(--text-primary)] cursor-pointer outline-none transition-all shadow-sm flex items-center justify-center relative w-[130px]",children:[$.limit," Pages",u.jsx(Wl,{size:14,className:`absolute right-3 transition-transform duration-300 ${T?"rotate-180":""} text-[var(--brand-primary)]`})]}),T&&u.jsx("div",{className:"absolute bottom-full left-0 mb-2 w-[130px] bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-2xl shadow-2xl z-[100] py-1 overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-300",children:[10,20,50,100,500].map(ee=>u.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),W({...$,limit:ee,page:1}),I(!1)},className:`w-full py-3.5 text-center text-[12px] font-medium transition-all
                          ${$.limit===ee?"bg-[var(--brand-primary)] text-white":"text-[var(--text-primary)] hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)]"}`,children:[ee," Pages"]},ee))})]})]})]})]}),m&&u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-start justify-center p-4 z-[100] overflow-y-auto transition-all animate-in fade-in duration-300 pt-10 sm:pt-20",children:u.jsxs("div",{className:"bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] text-[var(--text-primary)] rounded-3xl shadow-[0_0_50px_rgba(0,0,0,0.5)] p-5 sm:p-8 md:p-10 max-w-2xl w-full mb-10 relative animate-in slide-in-from-top-10 duration-500",children:[u.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold tracking-tight text-[var(--brand-primary)] mb-6 sm:mb-8 border-b-2 border-[var(--brand-primary)]/10 pb-4",children:x?"Edit User":"Add User"}),u.jsxs("form",{onSubmit:ie,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block font-medium mb-2 pl-1",children:"Username"}),u.jsx("input",{type:"text",value:S.username,onChange:ee=>{const Ae=ee.target.value;N({...S,username:Ae.charAt(0).toUpperCase()+Ae.slice(1)})},className:"w-full px-4 py-2.5 rounded-xl border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:border-[var(--brand-primary)] focus:ring-1 focus:ring-[var(--brand-primary)]/20 transition-all outline-none font-medium",placeholder:"Enter username",required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block font-medium mb-2 pl-1",children:["Password ",x&&u.jsx("span",{className:"text-[10px] font-normal text-[var(--text-secondary)] uppercase tracking-wider ml-1",children:"(Optional)"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:j?"text":"password",value:S.password,onChange:ee=>N({...S,password:ee.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:border-[var(--brand-primary)] focus:ring-1 focus:ring-[var(--brand-primary)]/20 transition-all outline-none font-medium pr-12",placeholder:"",required:!x}),u.jsx("button",{type:"button",onClick:()=>_(!j),className:"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] hover:text-[var(--brand-primary)] transition-all p-1.5 flex items-center justify-center",children:j?u.jsx(Fh,{size:18}):u.jsx(zh,{size:18})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block font-medium mb-2 pl-1",children:"User Role"}),u.jsxs("div",{className:"relative group",children:[u.jsxs("select",{value:S.role,onChange:ee=>{const Ae=ee.target.value;N({...S,role:Ae,unit_id:Ae==="admin"?"":S.unit_id})},className:"w-full appearance-none px-4 py-2.5 rounded-xl border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:border-[var(--brand-primary)] focus:ring-1 focus:ring-[var(--brand-primary)]/20 transition-all outline-none cursor-pointer font-medium",required:!0,children:[u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"chef",children:"Chef"}),u.jsx("option",{value:"admin",children:"Admin"})]}),u.jsx(Wl,{size:16,className:"absolute inset-y-0 right-4 my-auto pointer-events-none text-[var(--text-secondary)] opacity-50"})]})]}),["user","chef"].includes(S.role)?u.jsxs("div",{children:[u.jsxs("label",{className:"block font-medium mb-2 pl-1",children:["Assigned Unit ",u.jsx("span",{className:"text-rose-500",children:"*"})]}),u.jsxs("div",{className:"relative group",children:[u.jsxs("select",{value:S.unit_id,onChange:ee=>N({...S,unit_id:ee.target.value}),className:"w-full appearance-none px-4 py-2.5 rounded-xl border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:border-[var(--brand-primary)] focus:ring-1 focus:ring-[var(--brand-primary)]/20 transition-all outline-none cursor-pointer font-medium",required:!0,children:[u.jsx("option",{value:"",children:"Select a unit..."}),Array.isArray(r)&&r.map(ee=>u.jsxs("option",{value:ee.id,children:[ee.name,ee.code?` (${ee.code})`:""]},ee.id))]}),u.jsx(Wl,{size:16,className:"absolute inset-y-0 right-4 my-auto pointer-events-none text-[var(--text-secondary)] opacity-50"})]})]}):u.jsxs("div",{children:[u.jsx("label",{className:"block font-medium mb-2 pl-1",children:"Status"}),u.jsx("div",{onClick:()=>N({...S,is_active:!S.is_active}),className:`w-14 h-8 flex items-center rounded-full p-1 cursor-pointer transition-colors duration-300 ${S.is_active?"bg-[#4ade80]":"bg-gray-300"}`,children:u.jsx("div",{className:`bg-white w-6 h-6 rounded-full shadow-none transform transition-transform duration-300 ${S.is_active?"translate-x-6":"translate-x-0"}`})})]}),S.role==="user"&&u.jsxs("div",{children:[u.jsx("label",{className:"block font-medium mb-2 pl-1",children:"Status"}),u.jsx("div",{onClick:()=>N({...S,is_active:!S.is_active}),className:`w-14 h-8 flex items-center rounded-full p-1 cursor-pointer transition-colors duration-300 ${S.is_active?"bg-[#4ade80]":"bg-gray-300"}`,children:u.jsx("div",{className:`bg-white w-6 h-6 rounded-full shadow-none transform transition-transform duration-300 ${S.is_active?"translate-x-6":"translate-x-0"}`})})]})]}),u.jsxs("div",{className:"flex gap-4 pt-6 mt-4 border-t border-[var(--border-default)]/10",children:[u.jsx("button",{type:"submit",className:"flex-1 px-8 py-3.5 rounded-xl font-bold bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] transition-all shadow-lg active:scale-[0.98]",children:x?"Update Profile":"Create User"}),u.jsx("button",{type:"button",onClick:q,className:"flex-1 px-8 py-3.5 rounded-xl font-bold bg-[var(--surface-muted)] text-[var(--text-secondary)] hover:bg-[var(--surface-muted)]/80 transition-all active:scale-[0.98]",children:"Cancel"})]})]})]})})]}),R&&y1.createPortal(u.jsx("div",{className:"fixed inset-0 z-[9999]",onClick:()=>F(null),children:u.jsxs("div",{className:"absolute bg-[var(--surface-card)] rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] border border-[var(--border-default)] p-2 w-52 animate-in fade-in zoom-in-95 duration-200 overflow-hidden flex flex-col gap-1",style:{top:`${G.top}px`,right:`${G.right}px`},onClick:ee=>ee.stopPropagation(),children:[u.jsxs("button",{onClick:()=>{F(null),re(e.find(ee=>ee.id===R))},className:"w-full text-left px-4 py-3 text-xs font-bold tracking-widest text-[var(--text-primary)] hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)] rounded-xl flex items-center gap-3 transition-all active:scale-95",children:[u.jsx(r1,{size:14,className:"text-[var(--brand-primary)]"}),u.jsx("span",{children:"Edit"})]}),V&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-px bg-[var(--border-default)] mx-2 my-1 opacity-50"}),u.jsxs("button",{onClick:()=>{F(null),oe(R)},className:"w-full text-left px-4 py-3 text-xs font-bold tracking-widest text-rose-500 hover:bg-rose-500/10 rounded-xl flex items-center gap-3 transition-all active:scale-95",children:[u.jsx(Mm,{size:14}),u.jsx("span",{children:"Delete"})]})]})]})}),document.body)]})};var cr;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(cr||(cr={}));var N_=new Map([[cr.QR_CODE,"QR_CODE"],[cr.AZTEC,"AZTEC"],[cr.CODABAR,"CODABAR"],[cr.CODE_39,"CODE_39"],[cr.CODE_93,"CODE_93"],[cr.CODE_128,"CODE_128"],[cr.DATA_MATRIX,"DATA_MATRIX"],[cr.MAXICODE,"MAXICODE"],[cr.ITF,"ITF"],[cr.EAN_13,"EAN_13"],[cr.EAN_8,"EAN_8"],[cr.PDF_417,"PDF_417"],[cr.RSS_14,"RSS_14"],[cr.RSS_EXPANDED,"RSS_EXPANDED"],[cr.UPC_A,"UPC_A"],[cr.UPC_E,"UPC_E"],[cr.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),S_;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(S_||(S_={}));function Oae(e){return Object.values(cr).includes(e)}var Od;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Od||(Od={}));var ql=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Od.SCAN_TYPE_CAMERA,Od.SCAN_TYPE_FILE],e}(),jD=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!N_.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,N_.get(t))},e}(),E_=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),L5;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(L5||(L5={}));var OD=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:L5.UNKWOWN_ERROR}},e}(),TD=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function wc(e){return typeof e>"u"||e===null}function Tae(e,t,r){return e>r?r:e<t?t:e}var xh=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Kn=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),C_=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),kD=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],i=new Set(a),c=Object.keys(t),f=0,m=c;f<m.length;f++){var p=m[f];if(i.has(p))return r.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),Q0={exports:{}},kae=Q0.exports,__;function Iae(){return __||(__=1,function(e,t){(function(r,n){n(t)})(kae,function(r){function n(he){return he==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(he,o){he.__proto__=o}||function(he,o){for(var d in o)o.hasOwnProperty(d)&&(he[d]=o[d])};function i(he,o){a(he,o);function d(){this.constructor=he}he.prototype=o===null?Object.create(o):(d.prototype=o.prototype,new d)}function c(he,o){var d=Object.setPrototypeOf;d?d(he,o):he.__proto__=o}function f(he,o){o===void 0&&(o=he.constructor);var d=Error.captureStackTrace;d&&d(he,o)}var m=function(he){i(o,he);function o(d){var h=this.constructor,v=he.call(this,d)||this;return Object.defineProperty(v,"name",{value:h.name,enumerable:!1}),c(v,h.prototype),f(v),v}return o}(Error);class p extends m{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}p.kind="Exception";class x extends p{}x.kind="ArgumentException";class y extends p{}y.kind="IllegalArgumentException";class S{constructor(o){if(this.binarizer=o,o===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,d){return this.binarizer.getBlackRow(o,d)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,d,h,v){const b=this.binarizer.getLuminanceSource().crop(o,d,h,v);return new S(this.binarizer.createBinarizer(b))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class N extends p{static getChecksumInstance(){return new N}}N.kind="ChecksumException";class j{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class _{static arraycopy(o,d,h,v,b){for(;b--;)h[v++]=o[d++]}static currentTimeMillis(){return Date.now()}}class T extends p{}T.kind="IndexOutOfBoundsException";class I extends T{constructor(o=void 0,d=void 0){super(d),this.index=o,this.message=d}}I.kind="ArrayIndexOutOfBoundsException";class R{static fill(o,d){for(let h=0,v=o.length;h<v;h++)o[h]=d}static fillWithin(o,d,h,v){R.rangeCheck(o.length,d,h);for(let b=d;b<h;b++)o[b]=v}static rangeCheck(o,d,h){if(d>h)throw new y("fromIndex("+d+") > toIndex("+h+")");if(d<0)throw new I(d);if(h>o)throw new I(h)}static asList(...o){return o}static create(o,d,h){return Array.from({length:o}).map(b=>Array.from({length:d}).fill(h))}static createInt32Array(o,d,h){return Array.from({length:o}).map(b=>Int32Array.from({length:d}).fill(h))}static equals(o,d){if(!o||!d||!o.length||!d.length||o.length!==d.length)return!1;for(let h=0,v=o.length;h<v;h++)if(o[h]!==d[h])return!1;return!0}static hashCode(o){if(o===null)return 0;let d=1;for(const h of o)d=31*d+h;return d}static fillUint8Array(o,d){for(let h=0;h!==o.length;h++)o[h]=d}static copyOf(o,d){return o.slice(0,d)}static copyOfUint8Array(o,d){if(o.length<=d){const h=new Uint8Array(d);return h.set(o),h}return o.slice(0,d)}static copyOfRange(o,d,h){const v=h-d,b=new Int32Array(v);return _.arraycopy(o,d,b,0,v),b}static binarySearch(o,d,h){h===void 0&&(h=R.numberComparator);let v=0,b=o.length-1;for(;v<=b;){const A=b+v>>1,C=h(d,o[A]);if(C>0)v=A+1;else if(C<0)b=A-1;else return A}return-v-1}static numberComparator(o,d){return o-d}}class F{static numberOfTrailingZeros(o){let d;if(o===0)return 32;let h=31;return d=o<<16,d!==0&&(h-=16,o=d),d=o<<8,d!==0&&(h-=8,o=d),d=o<<4,d!==0&&(h-=4,o=d),d=o<<2,d!==0&&(h-=2,o=d),h-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let d=1;return o>>>16||(d+=16,o<<=16),o>>>24||(d+=8,o<<=8),o>>>28||(d+=4,o<<=4),o>>>30||(d+=2,o<<=2),d-=o>>>31,d}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,d){return Math.trunc(o/d)}static parseInt(o,d=void 0){return parseInt(o,d)}}F.MIN_VALUE_32_BITS=-2147483648,F.MAX_VALUE=Number.MAX_SAFE_INTEGER;class G{constructor(o,d){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,d==null?this.bits=G.makeArray(o):this.bits=d)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const d=G.makeArray(o);_.arraycopy(this.bits,0,d,0,this.bits.length),this.bits=d}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const d=this.size;if(o>=d)return d;const h=this.bits;let v=Math.floor(o/32),b=h[v];b&=~((1<<(o&31))-1);const A=h.length;for(;b===0;){if(++v===A)return d;b=h[v]}const C=v*32+F.numberOfTrailingZeros(b);return C>d?d:C}getNextUnset(o){const d=this.size;if(o>=d)return d;const h=this.bits;let v=Math.floor(o/32),b=~h[v];b&=~((1<<(o&31))-1);const A=h.length;for(;b===0;){if(++v===A)return d;b=~h[v]}const C=v*32+F.numberOfTrailingZeros(b);return C>d?d:C}setBulk(o,d){this.bits[Math.floor(o/32)]=d}setRange(o,d){if(d<o||o<0||d>this.size)throw new y;if(d===o)return;d--;const h=Math.floor(o/32),v=Math.floor(d/32),b=this.bits;for(let A=h;A<=v;A++){const C=A>h?0:o&31,B=(2<<(A<v?31:d&31))-(1<<C);b[A]|=B}}clear(){const o=this.bits.length,d=this.bits;for(let h=0;h<o;h++)d[h]=0}isRange(o,d,h){if(d<o||o<0||d>this.size)throw new y;if(d===o)return!0;d--;const v=Math.floor(o/32),b=Math.floor(d/32),A=this.bits;for(let C=v;C<=b;C++){const D=C>v?0:o&31,K=(2<<(C<b?31:d&31))-(1<<D)&4294967295;if((A[C]&K)!==(h?K:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,d){if(d<0||d>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+d);for(let h=d;h>0;h--)this.appendBit((o>>h-1&1)===1)}appendBitArray(o){const d=o.size;this.ensureCapacity(this.size+d);for(let h=0;h<d;h++)this.appendBit(o.get(h))}xor(o){if(this.size!==o.size)throw new y("Sizes don't match");const d=this.bits;for(let h=0,v=d.length;h<v;h++)d[h]^=o.bits[h]}toBytes(o,d,h,v){for(let b=0;b<v;b++){let A=0;for(let C=0;C<8;C++)this.get(o)&&(A|=1<<7-C),o++;d[h+b]=A}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),d=Math.floor((this.size-1)/32),h=d+1,v=this.bits;for(let b=0;b<h;b++){let A=v[b];A=A>>1&1431655765|(A&1431655765)<<1,A=A>>2&858993459|(A&858993459)<<2,A=A>>4&252645135|(A&252645135)<<4,A=A>>8&16711935|(A&16711935)<<8,A=A>>16&65535|(A&65535)<<16,o[d-b]=A}if(this.size!==h*32){const b=h*32-this.size;let A=o[0]>>>b;for(let C=1;C<h;C++){const D=o[C];A|=D<<32-b,o[C-1]=A,A=D>>>b}o[h-1]=A}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof G))return!1;const d=o;return this.size===d.size&&R.equals(this.bits,d.bits)}hashCode(){return 31*this.size+R.hashCode(this.bits)}toString(){let o="";for(let d=0,h=this.size;d<h;d++)d&7||(o+=" "),o+=this.get(d)?"X":".";return o}clone(){return new G(this.size,this.bits.slice())}}var Y;(function(he){he[he.OTHER=0]="OTHER",he[he.PURE_BARCODE=1]="PURE_BARCODE",he[he.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",he[he.TRY_HARDER=3]="TRY_HARDER",he[he.CHARACTER_SET=4]="CHARACTER_SET",he[he.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",he[he.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",he[he.ASSUME_GS1=7]="ASSUME_GS1",he[he.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",he[he.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",he[he.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Y||(Y={}));var J=Y;class V extends p{static getFormatInstance(){return new V}}V.kind="FormatException";var $;(function(he){he[he.Cp437=0]="Cp437",he[he.ISO8859_1=1]="ISO8859_1",he[he.ISO8859_2=2]="ISO8859_2",he[he.ISO8859_3=3]="ISO8859_3",he[he.ISO8859_4=4]="ISO8859_4",he[he.ISO8859_5=5]="ISO8859_5",he[he.ISO8859_6=6]="ISO8859_6",he[he.ISO8859_7=7]="ISO8859_7",he[he.ISO8859_8=8]="ISO8859_8",he[he.ISO8859_9=9]="ISO8859_9",he[he.ISO8859_10=10]="ISO8859_10",he[he.ISO8859_11=11]="ISO8859_11",he[he.ISO8859_13=12]="ISO8859_13",he[he.ISO8859_14=13]="ISO8859_14",he[he.ISO8859_15=14]="ISO8859_15",he[he.ISO8859_16=15]="ISO8859_16",he[he.SJIS=16]="SJIS",he[he.Cp1250=17]="Cp1250",he[he.Cp1251=18]="Cp1251",he[he.Cp1252=19]="Cp1252",he[he.Cp1256=20]="Cp1256",he[he.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",he[he.UTF8=22]="UTF8",he[he.ASCII=23]="ASCII",he[he.Big5=24]="Big5",he[he.GB18030=25]="GB18030",he[he.EUC_KR=26]="EUC_KR"})($||($={}));class W{constructor(o,d,h,...v){this.valueIdentifier=o,this.name=h,typeof d=="number"?this.values=Int32Array.from([d]):this.values=d,this.otherEncodingNames=v,W.VALUE_IDENTIFIER_TO_ECI.set(o,this),W.NAME_TO_ECI.set(h,this);const b=this.values;for(let A=0,C=b.length;A!==C;A++){const D=b[A];W.VALUES_TO_ECI.set(D,this)}for(const A of v)W.NAME_TO_ECI.set(A,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new V("incorect value");const d=W.VALUES_TO_ECI.get(o);if(d===void 0)throw new V("incorect value");return d}static getCharacterSetECIByName(o){const d=W.NAME_TO_ECI.get(o);if(d===void 0)throw new V("incorect value");return d}equals(o){if(!(o instanceof W))return!1;const d=o;return this.getName()===d.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W($.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W($.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W($.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W($.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W($.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W($.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W($.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W($.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W($.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W($.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W($.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W($.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W($.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W($.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W($.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W($.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W($.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W($.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W($.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W($.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W($.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W($.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W($.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W($.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W($.Big5,28,"Big5"),W.GB18030=new W($.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W($.EUC_KR,30,"EUC_KR","EUC-KR");class Ne extends p{}Ne.kind="UnsupportedOperationException";class Z{static decode(o,d){const h=this.encodingName(d);return this.customDecoder?this.customDecoder(o,h):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(h)?this.decodeFallback(o,h):new TextDecoder(h).decode(o)}static shouldDecodeOnFallback(o){return!Z.isBrowser()&&o==="ISO-8859-1"}static encode(o,d){const h=this.encodingName(d);return this.customEncoder?this.customEncoder(o,h):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof W?o:W.getCharacterSetECIByName(o)}static decodeFallback(o,d){const h=this.encodingCharacterSet(d);if(Z.isDecodeFallbackSupported(h)){let v="";for(let b=0,A=o.length;b<A;b++){let C=o[b].toString(16);C.length<2&&(C="0"+C),v+="%"+C}return decodeURIComponent(v)}if(h.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new Ne(`Encoding ${this.encodingName(d)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(W.UTF8)||o.equals(W.ISO8859_1)||o.equals(W.ASCII)}static encodeFallback(o){const h=btoa(unescape(encodeURIComponent(o))).split(""),v=[];for(let b=0;b<h.length;b++)v.push(h[b].charCodeAt(0));return new Uint8Array(v)}}class Q{static castAsNonUtf8Char(o,d=null){const h=d?d.getName():this.ISO88591;return Z.decode(new Uint8Array([o]),h)}static guessEncoding(o,d){if(d!=null&&d.get(J.CHARACTER_SET)!==void 0)return d.get(J.CHARACTER_SET).toString();const h=o.length;let v=!0,b=!0,A=!0,C=0,D=0,B=0,K=0,fe=0,we=0,De=0,ze=0,He=0,Xe=0,dt=0;const Lt=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let Pt=0;Pt<h&&(v||b||A);Pt++){const Mt=o[Pt]&255;A&&(C>0?Mt&128?C--:A=!1:Mt&128&&(Mt&64?(C++,Mt&32?(C++,Mt&16?(C++,Mt&8?A=!1:K++):B++):D++):A=!1)),v&&(Mt>127&&Mt<160?v=!1:Mt>159&&(Mt<192||Mt===215||Mt===247)&&dt++),b&&(fe>0?Mt<64||Mt===127||Mt>252?b=!1:fe--:Mt===128||Mt===160||Mt>239?b=!1:Mt>160&&Mt<224?(we++,ze=0,De++,De>He&&(He=De)):Mt>127?(fe++,De=0,ze++,ze>Xe&&(Xe=ze)):(De=0,ze=0))}return A&&C>0&&(A=!1),b&&fe>0&&(b=!1),A&&(Lt||D+B+K>0)?Q.UTF8:b&&(Q.ASSUME_SHIFT_JIS||He>=3||Xe>=3)?Q.SHIFT_JIS:v&&b?He===2&&we===2||dt*10>=h?Q.SHIFT_JIS:Q.ISO88591:v?Q.ISO88591:b?Q.SHIFT_JIS:A?Q.UTF8:Q.PLATFORM_DEFAULT_ENCODING}static format(o,...d){let h=-1;function v(A,C,D,B,K,fe){if(A==="%%")return"%";if(d[++h]===void 0)return;A=B?parseInt(B.substr(1)):void 0;let we=K?parseInt(K.substr(1)):void 0,De;switch(fe){case"s":De=d[h];break;case"c":De=d[h][0];break;case"f":De=parseFloat(d[h]).toFixed(A);break;case"p":De=parseFloat(d[h]).toPrecision(A);break;case"e":De=parseFloat(d[h]).toExponential(A);break;case"x":De=parseInt(d[h]).toString(we||16);break;case"d":De=parseFloat(parseInt(d[h],we||10).toPrecision(A)).toFixed(0);break}De=typeof De=="object"?JSON.stringify(De):(+De).toString(we);let ze=parseInt(D),He=D&&D[0]+""=="0"?"0":" ";for(;De.length<ze;)De=C!==void 0?De+He:He+De;return De}let b=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(b,v)}static getBytes(o,d){return Z.encode(o,d)}static getCharCode(o,d=0){return o.charCodeAt(d)}static getCharAt(o){return String.fromCharCode(o)}}Q.SHIFT_JIS=W.SJIS.getName(),Q.GB2312="GB2312",Q.ISO88591=W.ISO8859_1.getName(),Q.EUC_JP="EUC_JP",Q.UTF8=W.UTF8.getName(),Q.PLATFORM_DEFAULT_ENCODING=Q.UTF8,Q.ASSUME_SHIFT_JIS=!1;class me{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=Q.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,d,h){for(let v=d;d<d+h;v++)this.append(o[v]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,d){this.value=this.value.substr(0,o)+d+this.value.substr(o+1)}substring(o,d){return this.value.substring(o,d)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,d){this.value=this.value.substr(0,o)+d+this.value.substr(o+d.length)}}class re{constructor(o,d,h,v){if(this.width=o,this.height=d,this.rowSize=h,this.bits=v,d==null&&(d=o),this.height=d,o<1||d<1)throw new y("Both dimensions must be greater than 0");h==null&&(h=Math.floor((o+31)/32)),this.rowSize=h,v==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const d=o.length,h=o[0].length,v=new re(h,d);for(let b=0;b<d;b++){const A=o[b];for(let C=0;C<h;C++)A[C]&&v.set(C,b)}return v}static parseFromString(o,d,h){if(o===null)throw new y("stringRepresentation cannot be null");const v=new Array(o.length);let b=0,A=0,C=-1,D=0,B=0;for(;B<o.length;)if(o.charAt(B)===`
`||o.charAt(B)==="\r"){if(b>A){if(C===-1)C=b-A;else if(b-A!==C)throw new y("row lengths do not match");A=b,D++}B++}else if(o.substring(B,B+d.length)===d)B+=d.length,v[b]=!0,b++;else if(o.substring(B,B+h.length)===h)B+=h.length,v[b]=!1,b++;else throw new y("illegal character encountered: "+o.substring(B));if(b>A){if(C===-1)C=b-A;else if(b-A!==C)throw new y("row lengths do not match");D++}const K=new re(C,D);for(let fe=0;fe<b;fe++)v[fe]&&K.set(Math.floor(fe%C),Math.floor(fe/C));return K}get(o,d){const h=d*this.rowSize+Math.floor(o/32);return(this.bits[h]>>>(o&31)&1)!==0}set(o,d){const h=d*this.rowSize+Math.floor(o/32);this.bits[h]|=1<<(o&31)&4294967295}unset(o,d){const h=d*this.rowSize+Math.floor(o/32);this.bits[h]&=~(1<<(o&31)&4294967295)}flip(o,d){const h=d*this.rowSize+Math.floor(o/32);this.bits[h]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new y("input matrix dimensions do not match");const d=new G(Math.floor(this.width/32)+1),h=this.rowSize,v=this.bits;for(let b=0,A=this.height;b<A;b++){const C=b*h,D=o.getRow(b,d).getBitArray();for(let B=0;B<h;B++)v[C+B]^=D[B]}}clear(){const o=this.bits,d=o.length;for(let h=0;h<d;h++)o[h]=0}setRegion(o,d,h,v){if(d<0||o<0)throw new y("Left and top must be nonnegative");if(v<1||h<1)throw new y("Height and width must be at least 1");const b=o+h,A=d+v;if(A>this.height||b>this.width)throw new y("The region must fit inside the matrix");const C=this.rowSize,D=this.bits;for(let B=d;B<A;B++){const K=B*C;for(let fe=o;fe<b;fe++)D[K+Math.floor(fe/32)]|=1<<(fe&31)&4294967295}}getRow(o,d){d==null||d.getSize()<this.width?d=new G(this.width):d.clear();const h=this.rowSize,v=this.bits,b=o*h;for(let A=0;A<h;A++)d.setBulk(A*32,v[b+A]);return d}setRow(o,d){_.arraycopy(d.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),d=this.getHeight();let h=new G(o),v=new G(o);for(let b=0,A=Math.floor((d+1)/2);b<A;b++)h=this.getRow(b,h),v=this.getRow(d-1-b,v),h.reverse(),v.reverse(),this.setRow(b,v),this.setRow(d-1-b,h)}getEnclosingRectangle(){const o=this.width,d=this.height,h=this.rowSize,v=this.bits;let b=o,A=d,C=-1,D=-1;for(let B=0;B<d;B++)for(let K=0;K<h;K++){const fe=v[B*h+K];if(fe!==0){if(B<A&&(A=B),B>D&&(D=B),K*32<b){let we=0;for(;!(fe<<31-we&4294967295);)we++;K*32+we<b&&(b=K*32+we)}if(K*32+31>C){let we=31;for(;!(fe>>>we);)we--;K*32+we>C&&(C=K*32+we)}}}return C<b||D<A?null:Int32Array.from([b,A,C-b+1,D-A+1])}getTopLeftOnBit(){const o=this.rowSize,d=this.bits;let h=0;for(;h<d.length&&d[h]===0;)h++;if(h===d.length)return null;const v=h/o;let b=h%o*32;const A=d[h];let C=0;for(;!(A<<31-C&4294967295);)C++;return b+=C,Int32Array.from([b,v])}getBottomRightOnBit(){const o=this.rowSize,d=this.bits;let h=d.length-1;for(;h>=0&&d[h]===0;)h--;if(h<0)return null;const v=Math.floor(h/o);let b=Math.floor(h%o)*32;const A=d[h];let C=31;for(;!(A>>>C);)C--;return b+=C,Int32Array.from([b,v])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof re))return!1;const d=o;return this.width===d.width&&this.height===d.height&&this.rowSize===d.rowSize&&R.equals(this.bits,d.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+R.hashCode(this.bits),o}toString(o="X ",d="  ",h=`
`){return this.buildToString(o,d,h)}buildToString(o,d,h){let v=new me;for(let b=0,A=this.height;b<A;b++){for(let C=0,D=this.width;C<D;C++)v.append(this.get(C,b)?o:d);v.append(h)}return v.toString()}clone(){return new re(this.width,this.height,this.rowSize,this.bits.slice())}}class q extends p{static getNotFoundInstance(){return new q}}q.kind="NotFoundException";class ie extends j{constructor(o){super(o),this.luminances=ie.EMPTY,this.buckets=new Int32Array(ie.LUMINANCE_BUCKETS)}getBlackRow(o,d){const h=this.getLuminanceSource(),v=h.getWidth();d==null||d.getSize()<v?d=new G(v):d.clear(),this.initArrays(v);const b=h.getRow(o,this.luminances),A=this.buckets;for(let D=0;D<v;D++)A[(b[D]&255)>>ie.LUMINANCE_SHIFT]++;const C=ie.estimateBlackPoint(A);if(v<3)for(let D=0;D<v;D++)(b[D]&255)<C&&d.set(D);else{let D=b[0]&255,B=b[1]&255;for(let K=1;K<v-1;K++){const fe=b[K+1]&255;(B*4-D-fe)/2<C&&d.set(K),D=B,B=fe}}return d}getBlackMatrix(){const o=this.getLuminanceSource(),d=o.getWidth(),h=o.getHeight(),v=new re(d,h);this.initArrays(d);const b=this.buckets;for(let D=1;D<5;D++){const B=Math.floor(h*D/5),K=o.getRow(B,this.luminances),fe=Math.floor(d*4/5);for(let we=Math.floor(d/5);we<fe;we++){const De=K[we]&255;b[De>>ie.LUMINANCE_SHIFT]++}}const A=ie.estimateBlackPoint(b),C=o.getMatrix();for(let D=0;D<h;D++){const B=D*d;for(let K=0;K<d;K++)(C[B+K]&255)<A&&v.set(K,D)}return v}createBinarizer(o){return new ie(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const d=this.buckets;for(let h=0;h<ie.LUMINANCE_BUCKETS;h++)d[h]=0}static estimateBlackPoint(o){const d=o.length;let h=0,v=0,b=0;for(let K=0;K<d;K++)o[K]>b&&(v=K,b=o[K]),o[K]>h&&(h=o[K]);let A=0,C=0;for(let K=0;K<d;K++){const fe=K-v,we=o[K]*fe*fe;we>C&&(A=K,C=we)}if(v>A){const K=v;v=A,A=K}if(A-v<=d/16)throw new q;let D=A-1,B=-1;for(let K=A-1;K>v;K--){const fe=K-v,we=fe*fe*(A-K)*(h-o[K]);we>B&&(D=K,B=we)}return D<<ie.LUMINANCE_SHIFT}}ie.LUMINANCE_BITS=5,ie.LUMINANCE_SHIFT=8-ie.LUMINANCE_BITS,ie.LUMINANCE_BUCKETS=1<<ie.LUMINANCE_BITS,ie.EMPTY=Uint8ClampedArray.from([0]);class oe extends ie{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),d=o.getWidth(),h=o.getHeight();if(d>=oe.MINIMUM_DIMENSION&&h>=oe.MINIMUM_DIMENSION){const v=o.getMatrix();let b=d>>oe.BLOCK_SIZE_POWER;d&oe.BLOCK_SIZE_MASK&&b++;let A=h>>oe.BLOCK_SIZE_POWER;h&oe.BLOCK_SIZE_MASK&&A++;const C=oe.calculateBlackPoints(v,b,A,d,h),D=new re(d,h);oe.calculateThresholdForBlock(v,b,A,d,h,C,D),this.matrix=D}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new oe(o)}static calculateThresholdForBlock(o,d,h,v,b,A,C){const D=b-oe.BLOCK_SIZE,B=v-oe.BLOCK_SIZE;for(let K=0;K<h;K++){let fe=K<<oe.BLOCK_SIZE_POWER;fe>D&&(fe=D);const we=oe.cap(K,2,h-3);for(let De=0;De<d;De++){let ze=De<<oe.BLOCK_SIZE_POWER;ze>B&&(ze=B);const He=oe.cap(De,2,d-3);let Xe=0;for(let Lt=-2;Lt<=2;Lt++){const Pt=A[we+Lt];Xe+=Pt[He-2]+Pt[He-1]+Pt[He]+Pt[He+1]+Pt[He+2]}const dt=Xe/25;oe.thresholdBlock(o,ze,fe,dt,v,C)}}}static cap(o,d,h){return o<d?d:o>h?h:o}static thresholdBlock(o,d,h,v,b,A){for(let C=0,D=h*b+d;C<oe.BLOCK_SIZE;C++,D+=b)for(let B=0;B<oe.BLOCK_SIZE;B++)(o[D+B]&255)<=v&&A.set(d+B,h+C)}static calculateBlackPoints(o,d,h,v,b){const A=b-oe.BLOCK_SIZE,C=v-oe.BLOCK_SIZE,D=new Array(h);for(let B=0;B<h;B++){D[B]=new Int32Array(d);let K=B<<oe.BLOCK_SIZE_POWER;K>A&&(K=A);for(let fe=0;fe<d;fe++){let we=fe<<oe.BLOCK_SIZE_POWER;we>C&&(we=C);let De=0,ze=255,He=0;for(let dt=0,Lt=K*v+we;dt<oe.BLOCK_SIZE;dt++,Lt+=v){for(let Pt=0;Pt<oe.BLOCK_SIZE;Pt++){const Mt=o[Lt+Pt]&255;De+=Mt,Mt<ze&&(ze=Mt),Mt>He&&(He=Mt)}if(He-ze>oe.MIN_DYNAMIC_RANGE)for(dt++,Lt+=v;dt<oe.BLOCK_SIZE;dt++,Lt+=v)for(let Pt=0;Pt<oe.BLOCK_SIZE;Pt++)De+=o[Lt+Pt]&255}let Xe=De>>oe.BLOCK_SIZE_POWER*2;if(He-ze<=oe.MIN_DYNAMIC_RANGE&&(Xe=ze/2,B>0&&fe>0)){const dt=(D[B-1][fe]+2*D[B][fe-1]+D[B-1][fe-1])/4;ze<dt&&(Xe=dt)}D[B][fe]=Xe}}return D}}oe.BLOCK_SIZE_POWER=3,oe.BLOCK_SIZE=1<<oe.BLOCK_SIZE_POWER,oe.BLOCK_SIZE_MASK=oe.BLOCK_SIZE-1,oe.MINIMUM_DIMENSION=oe.BLOCK_SIZE*5,oe.MIN_DYNAMIC_RANGE=24;class de{constructor(o,d){this.width=o,this.height=d}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,d,h,v){throw new Ne("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ne("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ne("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let d=new me;for(let h=0;h<this.height;h++){const v=this.getRow(h,o);for(let b=0;b<this.width;b++){const A=v[b]&255;let C;A<64?C="#":A<128?C="+":A<192?C=".":C=" ",d.append(C)}d.append(`
`)}return d.toString()}}class ee extends de{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,d){const h=this.delegate.getRow(o,d),v=this.getWidth();for(let b=0;b<v;b++)h[b]=255-(h[b]&255);return h}getMatrix(){const o=this.delegate.getMatrix(),d=this.getWidth()*this.getHeight(),h=new Uint8ClampedArray(d);for(let v=0;v<d;v++)h[v]=255-(o[v]&255);return h}isCropSupported(){return this.delegate.isCropSupported()}crop(o,d,h,v){return new ee(this.delegate.crop(o,d,h,v))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ee(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ee(this.delegate.rotateCounterClockwise45())}}class Ae extends de{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=Ae.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const d=o.getContext("2d").getImageData(0,0,o.width,o.height);return Ae.toGrayscaleBuffer(d.data,o.width,o.height)}static toGrayscaleBuffer(o,d,h){const v=new Uint8ClampedArray(d*h);for(let b=0,A=0,C=o.length;b<C;b+=4,A++){let D;if(o[b+3]===0)D=255;else{const K=o[b],fe=o[b+1],we=o[b+2];D=306*K+601*fe+117*we+512>>10}v[A]=D}return v}getRow(o,d){if(o<0||o>=this.getHeight())throw new y("Requested row is outside the image: "+o);const h=this.getWidth(),v=o*h;return d===null?d=this.buffer.slice(v,v+h):(d.length<h&&(d=new Uint8ClampedArray(h)),d.set(this.buffer.slice(v,v+h))),d}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,d,h,v){return super.crop(o,d,h,v),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const d=this.getTempCanvasElement(),h=d.getContext("2d"),v=o*Ae.DEGREE_TO_RADIANS,b=this.canvas.width,A=this.canvas.height,C=Math.ceil(Math.abs(Math.cos(v))*b+Math.abs(Math.sin(v))*A),D=Math.ceil(Math.abs(Math.sin(v))*b+Math.abs(Math.cos(v))*A);return d.width=C,d.height=D,h.translate(C/2,D/2),h.rotate(v),h.drawImage(this.canvas,b/-2,A/-2),this.buffer=Ae.makeBufferFromCanvasImageData(d),this}invert(){return new ee(this)}}Ae.DEGREE_TO_RADIANS=Math.PI/180;class ce{constructor(o,d,h){this.deviceId=o,this.label=d,this.kind="videoinput",this.groupId=h||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var U=(globalThis||Rp||self||window||void 0)&&(globalThis||Rp||self||window||void 0).__awaiter||function(he,o,d,h){function v(b){return b instanceof d?b:new d(function(A){A(b)})}return new(d||(d=Promise))(function(b,A){function C(K){try{B(h.next(K))}catch(fe){A(fe)}}function D(K){try{B(h.throw(K))}catch(fe){A(fe)}}function B(K){K.done?b(K.value):v(K.value).then(C,D)}B((h=h.apply(he,o||[])).next())})};class H{constructor(o,d=500,h){this.reader=o,this.timeBetweenScansMillis=d,this._hints=h,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return U(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),d=[];for(const h of o){const v=h.kind==="video"?"videoinput":h.kind;if(v!=="videoinput")continue;const b=h.deviceId||h.id,A=h.label||`Video device ${d.length+1}`,C=h.groupId,D={deviceId:b,label:A,kind:v,groupId:C};d.push(D)}return d})}getVideoInputDevices(){return U(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(d=>new ce(d.deviceId,d.label))})}findDeviceById(o){return U(this,void 0,void 0,function*(){const d=yield this.listVideoInputDevices();return d?d.find(h=>h.deviceId===o):null})}decodeFromInputVideoDevice(o,d){return U(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,d)})}decodeOnceFromVideoDevice(o,d){return U(this,void 0,void 0,function*(){this.reset();let h;o?h={deviceId:{exact:o}}:h={facingMode:"environment"};const v={video:h};return yield this.decodeOnceFromConstraints(v,d)})}decodeOnceFromConstraints(o,d){return U(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(h,d)})}decodeOnceFromStream(o,d){return U(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(o,d);return yield this.decodeOnce(h)})}decodeFromInputVideoDeviceContinuously(o,d,h){return U(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,d,h)})}decodeFromVideoDevice(o,d,h){return U(this,void 0,void 0,function*(){let v;o?v={deviceId:{exact:o}}:v={facingMode:"environment"};const b={video:v};return yield this.decodeFromConstraints(b,d,h)})}decodeFromConstraints(o,d,h){return U(this,void 0,void 0,function*(){const v=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(v,d,h)})}decodeFromStream(o,d,h){return U(this,void 0,void 0,function*(){this.reset();const v=yield this.attachStreamToVideo(o,d);return yield this.decodeContinuously(v,h)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,d){return U(this,void 0,void 0,function*(){const h=this.prepareVideoElement(d);return this.addVideoSource(h,o),this.videoElement=h,this.stream=o,yield this.playVideoOnLoadAsync(h),h})}playVideoOnLoadAsync(o){return new Promise((d,h)=>this.playVideoOnLoad(o,()=>d()))}playVideoOnLoad(o,d){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",d),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return U(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,d){const h=document.getElementById(o);if(!h)throw new x(`element with id '${o}' not found`);if(h.nodeName.toLowerCase()!==d.toLowerCase())throw new x(`element with id '${o}' must be an ${d} element`);return h}decodeFromImage(o,d){if(!o&&!d)throw new x("either imageElement with a src set or an url must be provided");return d&&!o?this.decodeFromImageUrl(d):this.decodeFromImageElement(o)}decodeFromVideo(o,d){if(!o&&!d)throw new x("Either an element with a src set or an URL must be provided");return d&&!o?this.decodeFromVideoUrl(d):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,d,h){if(o===void 0&&d===void 0)throw new x("Either an element with a src set or an URL must be provided");return d&&!o?this.decodeFromVideoUrlContinuously(d,h):this.decodeFromVideoElementContinuously(o,h)}decodeFromImageElement(o){if(!o)throw new x("An image element must be provided.");this.reset();const d=this.prepareImageElement(o);this.imageElement=d;let h;return this.isImageLoaded(d)?h=this.decodeOnce(d,!1,!0):h=this._decodeOnLoadImage(d),h}decodeFromVideoElement(o){const d=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(d)}decodeFromVideoElementContinuously(o,d){const h=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(h,d)}_decodeFromVideoElementSetup(o){if(!o)throw new x("A video element must be provided.");this.reset();const d=this.prepareVideoElement(o);return this.videoElement=d,d}decodeFromImageUrl(o){if(!o)throw new x("An URL must be provided.");this.reset();const d=this.prepareImageElement();this.imageElement=d;const h=this._decodeOnLoadImage(d);return d.src=o,h}decodeFromVideoUrl(o){if(!o)throw new x("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),h=this.decodeFromVideoElement(d);return d.src=o,h}decodeFromVideoUrlContinuously(o,d){if(!o)throw new x("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),v=this.decodeFromVideoElementContinuously(h,d);return h.src=o,v}_decodeOnLoadImage(o){return new Promise((d,h)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(d,h),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return U(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,d){return U(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,d)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let d;return typeof o>"u"&&(d=document.createElement("img"),d.width=200,d.height=200),typeof o=="string"&&(d=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(d=o),d}prepareVideoElement(o){let d;return!o&&typeof document<"u"&&(d=document.createElement("video"),d.width=200,d.height=200),typeof o=="string"&&(d=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(d=o),d.setAttribute("autoplay","true"),d.setAttribute("muted","true"),d.setAttribute("playsinline","true"),d}decodeOnce(o,d=!0,h=!0){this._stopAsyncDecode=!1;const v=(b,A)=>{if(this._stopAsyncDecode){A(new q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const C=this.decode(o);b(C)}catch(C){const D=d&&C instanceof q,K=(C instanceof N||C instanceof V)&&h;if(D||K)return setTimeout(v,this._timeBetweenDecodingAttempts,b,A);A(C)}};return new Promise((b,A)=>v(b,A))}decodeContinuously(o,d){this._stopContinuousDecode=!1;const h=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const v=this.decode(o);d(v,null),setTimeout(h,this.timeBetweenScansMillis)}catch(v){d(null,v);const b=v instanceof N||v instanceof V,A=v instanceof q;(b||A)&&setTimeout(h,this._timeBetweenDecodingAttempts)}};h()}decode(o){const d=this.createBinaryBitmap(o);return this.decodeBitmap(d)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,d,h){d||(d={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),h||(h=this.captureCanvasContext),h.drawImage(o,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}drawImageOnCanvas(o,d,h=this.captureCanvasContext){d||(d={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),h||(h=this.captureCanvasContext),h.drawImage(o,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const d=this.getCaptureCanvas(o),h=new Ae(d),v=new oe(h);return new S(v)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const h=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=h}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const d=this.createCaptureCanvas(o);this.captureCanvas=d}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const d=document.createElement("canvas");let h,v;return typeof o<"u"&&(o instanceof HTMLVideoElement?(h=o.videoWidth,v=o.videoHeight):o instanceof HTMLImageElement&&(h=o.naturalWidth||o.width,v=o.naturalHeight||o.height)),d.style.width=h+"px",d.style.height=v+"px",d.width=h,d.height=v,d}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,d){try{o.srcObject=d}catch{o.src=URL.createObjectURL(d)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class se{constructor(o,d,h=d==null?0:8*d.length,v,b,A=_.currentTimeMillis()){this.text=o,this.rawBytes=d,this.numBits=h,this.resultPoints=v,this.format=b,this.timestamp=A,this.text=o,this.rawBytes=d,h==null?this.numBits=d==null?0:8*d.length:this.numBits=h,this.resultPoints=v,this.format=b,this.resultMetadata=null,A==null?this.timestamp=_.currentTimeMillis():this.timestamp=A}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,d){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,d)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const d=this.resultPoints;if(d===null)this.resultPoints=o;else if(o!==null&&o.length>0){const h=new Array(d.length+o.length);_.arraycopy(d,0,h,0,d.length),_.arraycopy(o,0,h,d.length,o.length),this.resultPoints=h}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ve;(function(he){he[he.AZTEC=0]="AZTEC",he[he.CODABAR=1]="CODABAR",he[he.CODE_39=2]="CODE_39",he[he.CODE_93=3]="CODE_93",he[he.CODE_128=4]="CODE_128",he[he.DATA_MATRIX=5]="DATA_MATRIX",he[he.EAN_8=6]="EAN_8",he[he.EAN_13=7]="EAN_13",he[he.ITF=8]="ITF",he[he.MAXICODE=9]="MAXICODE",he[he.PDF_417=10]="PDF_417",he[he.QR_CODE=11]="QR_CODE",he[he.RSS_14=12]="RSS_14",he[he.RSS_EXPANDED=13]="RSS_EXPANDED",he[he.UPC_A=14]="UPC_A",he[he.UPC_E=15]="UPC_E",he[he.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ve||(ve={}));var ne=ve,le;(function(he){he[he.OTHER=0]="OTHER",he[he.ORIENTATION=1]="ORIENTATION",he[he.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",he[he.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",he[he.ISSUE_NUMBER=4]="ISSUE_NUMBER",he[he.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",he[he.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",he[he.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",he[he.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",he[he.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",he[he.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(le||(le={}));var je=le;class pe{constructor(o,d,h,v,b=-1,A=-1){this.rawBytes=o,this.text=d,this.byteSegments=h,this.ecLevel=v,this.structuredAppendSequenceNumber=b,this.structuredAppendParity=A,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Te{exp(o){return this.expTable[o]}log(o){if(o===0)throw new y;return this.logTable[o]}static addOrSubtract(o,d){return o^d}}class ke{constructor(o,d){if(d.length===0)throw new y;this.field=o;const h=d.length;if(h>1&&d[0]===0){let v=1;for(;v<h&&d[v]===0;)v++;v===h?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(h-v),_.arraycopy(d,v,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const d=this.coefficients;let h;if(o===1){h=0;for(let A=0,C=d.length;A!==C;A++){const D=d[A];h=Te.addOrSubtract(h,D)}return h}h=d[0];const v=d.length,b=this.field;for(let A=1;A<v;A++)h=Te.addOrSubtract(b.multiply(o,h),d[A]);return h}addOrSubtract(o){if(!this.field.equals(o.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let d=this.coefficients,h=o.coefficients;if(d.length>h.length){const A=d;d=h,h=A}let v=new Int32Array(h.length);const b=h.length-d.length;_.arraycopy(h,0,v,0,b);for(let A=b;A<h.length;A++)v[A]=Te.addOrSubtract(d[A-b],h[A]);return new ke(this.field,v)}multiply(o){if(!this.field.equals(o.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const d=this.coefficients,h=d.length,v=o.coefficients,b=v.length,A=new Int32Array(h+b-1),C=this.field;for(let D=0;D<h;D++){const B=d[D];for(let K=0;K<b;K++)A[D+K]=Te.addOrSubtract(A[D+K],C.multiply(B,v[K]))}return new ke(C,A)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const d=this.coefficients.length,h=this.field,v=new Int32Array(d),b=this.coefficients;for(let A=0;A<d;A++)v[A]=h.multiply(b[A],o);return new ke(h,v)}multiplyByMonomial(o,d){if(o<0)throw new y;if(d===0)return this.field.getZero();const h=this.coefficients,v=h.length,b=new Int32Array(v+o),A=this.field;for(let C=0;C<v;C++)b[C]=A.multiply(h[C],d);return new ke(A,b)}divide(o){if(!this.field.equals(o.field))throw new y("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new y("Divide by 0");const d=this.field;let h=d.getZero(),v=this;const b=o.getCoefficient(o.getDegree()),A=d.inverse(b);for(;v.getDegree()>=o.getDegree()&&!v.isZero();){const C=v.getDegree()-o.getDegree(),D=d.multiply(v.getCoefficient(v.getDegree()),A),B=o.multiplyByMonomial(C,D),K=d.buildMonomial(C,D);h=h.addOrSubtract(K),v=v.addOrSubtract(B)}return[h,v]}toString(){let o="";for(let d=this.getDegree();d>=0;d--){let h=this.getCoefficient(d);if(h!==0){if(h<0?(o+=" - ",h=-h):o.length>0&&(o+=" + "),d===0||h!==1){const v=this.field.log(h);v===0?o+="1":v===1?o+="a":(o+="a^",o+=v)}d!==0&&(d===1?o+="x":(o+="x^",o+=d))}}return o}}class ue extends p{}ue.kind="ArithmeticException";class Le extends Te{constructor(o,d,h){super(),this.primitive=o,this.size=d,this.generatorBase=h;const v=new Int32Array(d);let b=1;for(let C=0;C<d;C++)v[C]=b,b*=2,b>=d&&(b^=o,b&=d-1);this.expTable=v;const A=new Int32Array(d);for(let C=0;C<d-1;C++)A[v[C]]=C;this.logTable=A,this.zero=new ke(this,Int32Array.from([0])),this.one=new ke(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,d){if(o<0)throw new y;if(d===0)return this.zero;const h=new Int32Array(o+1);return h[0]=d,new ke(this,h)}inverse(o){if(o===0)throw new ue;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,d){return o===0||d===0?0:this.expTable[(this.logTable[o]+this.logTable[d])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+F.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}Le.AZTEC_DATA_12=new Le(4201,4096,1),Le.AZTEC_DATA_10=new Le(1033,1024,1),Le.AZTEC_DATA_6=new Le(67,64,1),Le.AZTEC_PARAM=new Le(19,16,1),Le.QR_CODE_FIELD_256=new Le(285,256,0),Le.DATA_MATRIX_FIELD_256=new Le(301,256,1),Le.AZTEC_DATA_8=Le.DATA_MATRIX_FIELD_256,Le.MAXICODE_FIELD_64=Le.AZTEC_DATA_6;class $e extends p{}$e.kind="ReedSolomonException";class Be extends p{}Be.kind="IllegalStateException";class ae{constructor(o){this.field=o}decode(o,d){const h=this.field,v=new ke(h,o),b=new Int32Array(d);let A=!0;for(let De=0;De<d;De++){const ze=v.evaluateAt(h.exp(De+h.getGeneratorBase()));b[b.length-1-De]=ze,ze!==0&&(A=!1)}if(A)return;const C=new ke(h,b),D=this.runEuclideanAlgorithm(h.buildMonomial(d,1),C,d),B=D[0],K=D[1],fe=this.findErrorLocations(B),we=this.findErrorMagnitudes(K,fe);for(let De=0;De<fe.length;De++){const ze=o.length-1-h.log(fe[De]);if(ze<0)throw new $e("Bad error location");o[ze]=Le.addOrSubtract(o[ze],we[De])}}runEuclideanAlgorithm(o,d,h){if(o.getDegree()<d.getDegree()){const De=o;o=d,d=De}const v=this.field;let b=o,A=d,C=v.getZero(),D=v.getOne();for(;A.getDegree()>=(h/2|0);){let De=b,ze=C;if(b=A,C=D,b.isZero())throw new $e("r_{i-1} was zero");A=De;let He=v.getZero();const Xe=b.getCoefficient(b.getDegree()),dt=v.inverse(Xe);for(;A.getDegree()>=b.getDegree()&&!A.isZero();){const Lt=A.getDegree()-b.getDegree(),Pt=v.multiply(A.getCoefficient(A.getDegree()),dt);He=He.addOrSubtract(v.buildMonomial(Lt,Pt)),A=A.addOrSubtract(b.multiplyByMonomial(Lt,Pt))}if(D=He.multiply(C).addOrSubtract(ze),A.getDegree()>=b.getDegree())throw new Be("Division algorithm failed to reduce polynomial?")}const B=D.getCoefficient(0);if(B===0)throw new $e("sigmaTilde(0) was zero");const K=v.inverse(B),fe=D.multiplyScalar(K),we=A.multiplyScalar(K);return[fe,we]}findErrorLocations(o){const d=o.getDegree();if(d===1)return Int32Array.from([o.getCoefficient(1)]);const h=new Int32Array(d);let v=0;const b=this.field;for(let A=1;A<b.getSize()&&v<d;A++)o.evaluateAt(A)===0&&(h[v]=b.inverse(A),v++);if(v!==d)throw new $e("Error locator degree does not match number of roots");return h}findErrorMagnitudes(o,d){const h=d.length,v=new Int32Array(h),b=this.field;for(let A=0;A<h;A++){const C=b.inverse(d[A]);let D=1;for(let B=0;B<h;B++)if(A!==B){const K=b.multiply(d[B],C),fe=K&1?K&-2:K|1;D=b.multiply(D,fe)}v[A]=b.multiply(o.evaluateAt(C),b.inverse(D)),b.getGeneratorBase()!==0&&(v[A]=b.multiply(v[A],C))}return v}}var nt;(function(he){he[he.UPPER=0]="UPPER",he[he.LOWER=1]="LOWER",he[he.MIXED=2]="MIXED",he[he.DIGIT=3]="DIGIT",he[he.PUNCT=4]="PUNCT",he[he.BINARY=5]="BINARY"})(nt||(nt={}));class at{decode(o){this.ddata=o;let d=o.getBits(),h=this.extractBits(d),v=this.correctBits(h),b=at.convertBoolArrayToByteArray(v),A=at.getEncodedData(v),C=new pe(b,A,null,null);return C.setNumBits(v.length),C}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let d=o.length,h=nt.UPPER,v=nt.UPPER,b="",A=0;for(;A<d;)if(v===nt.BINARY){if(d-A<5)break;let C=at.readCode(o,A,5);if(A+=5,C===0){if(d-A<11)break;C=at.readCode(o,A,11)+31,A+=11}for(let D=0;D<C;D++){if(d-A<8){A=d;break}const B=at.readCode(o,A,8);b+=Q.castAsNonUtf8Char(B),A+=8}v=h}else{let C=v===nt.DIGIT?4:5;if(d-A<C)break;let D=at.readCode(o,A,C);A+=C;let B=at.getCharacter(v,D);B.startsWith("CTRL_")?(h=v,v=at.getTable(B.charAt(5)),B.charAt(6)==="L"&&(h=v)):(b+=B,v=h)}return b}static getTable(o){switch(o){case"L":return nt.LOWER;case"P":return nt.PUNCT;case"M":return nt.MIXED;case"D":return nt.DIGIT;case"B":return nt.BINARY;case"U":default:return nt.UPPER}}static getCharacter(o,d){switch(o){case nt.UPPER:return at.UPPER_TABLE[d];case nt.LOWER:return at.LOWER_TABLE[d];case nt.MIXED:return at.MIXED_TABLE[d];case nt.PUNCT:return at.PUNCT_TABLE[d];case nt.DIGIT:return at.DIGIT_TABLE[d];default:throw new Be("Bad table")}}correctBits(o){let d,h;this.ddata.getNbLayers()<=2?(h=6,d=Le.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(h=8,d=Le.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(h=10,d=Le.AZTEC_DATA_10):(h=12,d=Le.AZTEC_DATA_12);let v=this.ddata.getNbDatablocks(),b=o.length/h;if(b<v)throw new V;let A=o.length%h,C=new Int32Array(b);for(let we=0;we<b;we++,A+=h)C[we]=at.readCode(o,A,h);try{new ae(d).decode(C,b-v)}catch(we){throw new V(we)}let D=(1<<h)-1,B=0;for(let we=0;we<v;we++){let De=C[we];if(De===0||De===D)throw new V;(De===1||De===D-1)&&B++}let K=new Array(v*h-B),fe=0;for(let we=0;we<v;we++){let De=C[we];if(De===1||De===D-1)K.fill(De>1,fe,fe+h-1),fe+=h-1;else for(let ze=h-1;ze>=0;--ze)K[fe++]=(De&1<<ze)!==0}return K}extractBits(o){let d=this.ddata.isCompact(),h=this.ddata.getNbLayers(),v=(d?11:14)+h*4,b=new Int32Array(v),A=new Array(this.totalBitsInLayer(h,d));if(d)for(let C=0;C<b.length;C++)b[C]=C;else{let C=v+1+2*F.truncDivision(F.truncDivision(v,2)-1,15),D=v/2,B=F.truncDivision(C,2);for(let K=0;K<D;K++){let fe=K+F.truncDivision(K,15);b[D-K-1]=B-fe-1,b[D+K]=B+fe+1}}for(let C=0,D=0;C<h;C++){let B=(h-C)*4+(d?9:12),K=C*2,fe=v-1-K;for(let we=0;we<B;we++){let De=we*2;for(let ze=0;ze<2;ze++)A[D+De+ze]=o.get(b[K+ze],b[K+we]),A[D+2*B+De+ze]=o.get(b[K+we],b[fe-ze]),A[D+4*B+De+ze]=o.get(b[fe-ze],b[fe-we]),A[D+6*B+De+ze]=o.get(b[fe-we],b[K+ze])}D+=B*8}return A}static readCode(o,d,h){let v=0;for(let b=d;b<d+h;b++)v<<=1,o[b]&&(v|=1);return v}static readByte(o,d){let h=o.length-d;return h>=8?at.readCode(o,d,8):at.readCode(o,d,h)<<8-h}static convertBoolArrayToByteArray(o){let d=new Uint8Array((o.length+7)/8);for(let h=0;h<d.length;h++)d[h]=at.readByte(o,8*h);return d}totalBitsInLayer(o,d){return((d?88:112)+16*o)*o}}at.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],at.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],at.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],at.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],at.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Re{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,d,h,v){const b=o-h,A=d-v;return Math.sqrt(b*b+A*A)}static sum(o){let d=0;for(let h=0,v=o.length;h!==v;h++){const b=o[h];d+=b}return d}}class Qe{static floatToIntBits(o){return o}}Qe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Fe{constructor(o,d){this.x=o,this.y=d}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof Fe){const d=o;return this.x===d.x&&this.y===d.y}return!1}hashCode(){return 31*Qe.floatToIntBits(this.x)+Qe.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const d=this.distance(o[0],o[1]),h=this.distance(o[1],o[2]),v=this.distance(o[0],o[2]);let b,A,C;if(h>=d&&h>=v?(A=o[0],b=o[1],C=o[2]):v>=h&&v>=d?(A=o[1],b=o[0],C=o[2]):(A=o[2],b=o[0],C=o[1]),this.crossProductZ(b,A,C)<0){const D=b;b=C,C=D}o[0]=b,o[1]=A,o[2]=C}static distance(o,d){return Re.distance(o.x,o.y,d.x,d.y)}static crossProductZ(o,d,h){const v=d.x,b=d.y;return(h.x-v)*(o.y-b)-(h.y-b)*(o.x-v)}}class et{constructor(o,d){this.bits=o,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class St extends et{constructor(o,d,h,v,b){super(o,d),this.compact=h,this.nbDatablocks=v,this.nbLayers=b}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class qt{constructor(o,d,h,v){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),d==null&&(d=qt.INIT_SIZE),h==null&&(h=o.getWidth()/2|0),v==null&&(v=o.getHeight()/2|0);const b=d/2|0;if(this.leftInit=h-b,this.rightInit=h+b,this.upInit=v-b,this.downInit=v+b,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new q}detect(){let o=this.leftInit,d=this.rightInit,h=this.upInit,v=this.downInit,b=!1,A=!0,C=!1,D=!1,B=!1,K=!1,fe=!1;const we=this.width,De=this.height;for(;A;){A=!1;let ze=!0;for(;(ze||!D)&&d<we;)ze=this.containsBlackPoint(h,v,d,!1),ze?(d++,A=!0,D=!0):D||d++;if(d>=we){b=!0;break}let He=!0;for(;(He||!B)&&v<De;)He=this.containsBlackPoint(o,d,v,!0),He?(v++,A=!0,B=!0):B||v++;if(v>=De){b=!0;break}let Xe=!0;for(;(Xe||!K)&&o>=0;)Xe=this.containsBlackPoint(h,v,o,!1),Xe?(o--,A=!0,K=!0):K||o--;if(o<0){b=!0;break}let dt=!0;for(;(dt||!fe)&&h>=0;)dt=this.containsBlackPoint(o,d,h,!0),dt?(h--,A=!0,fe=!0):fe||h--;if(h<0){b=!0;break}A&&(C=!0)}if(!b&&C){const ze=d-o;let He=null;for(let Pt=1;He===null&&Pt<ze;Pt++)He=this.getBlackPointOnSegment(o,v-Pt,o+Pt,v);if(He==null)throw new q;let Xe=null;for(let Pt=1;Xe===null&&Pt<ze;Pt++)Xe=this.getBlackPointOnSegment(o,h+Pt,o+Pt,h);if(Xe==null)throw new q;let dt=null;for(let Pt=1;dt===null&&Pt<ze;Pt++)dt=this.getBlackPointOnSegment(d,h+Pt,d-Pt,h);if(dt==null)throw new q;let Lt=null;for(let Pt=1;Lt===null&&Pt<ze;Pt++)Lt=this.getBlackPointOnSegment(d,v-Pt,d-Pt,v);if(Lt==null)throw new q;return this.centerEdges(Lt,He,dt,Xe)}else throw new q}getBlackPointOnSegment(o,d,h,v){const b=Re.round(Re.distance(o,d,h,v)),A=(h-o)/b,C=(v-d)/b,D=this.image;for(let B=0;B<b;B++){const K=Re.round(o+B*A),fe=Re.round(d+B*C);if(D.get(K,fe))return new Fe(K,fe)}return null}centerEdges(o,d,h,v){const b=o.getX(),A=o.getY(),C=d.getX(),D=d.getY(),B=h.getX(),K=h.getY(),fe=v.getX(),we=v.getY(),De=qt.CORR;return b<this.width/2?[new Fe(fe-De,we+De),new Fe(C+De,D+De),new Fe(B-De,K-De),new Fe(b+De,A-De)]:[new Fe(fe+De,we+De),new Fe(C+De,D-De),new Fe(B-De,K+De),new Fe(b-De,A-De)]}containsBlackPoint(o,d,h,v){const b=this.image;if(v){for(let A=o;A<=d;A++)if(b.get(A,h))return!0}else for(let A=o;A<=d;A++)if(b.get(h,A))return!0;return!1}}qt.INIT_SIZE=10,qt.CORR=1;class Wt{static checkAndNudgePoints(o,d){const h=o.getWidth(),v=o.getHeight();let b=!0;for(let A=0;A<d.length&&b;A+=2){const C=Math.floor(d[A]),D=Math.floor(d[A+1]);if(C<-1||C>h||D<-1||D>v)throw new q;b=!1,C===-1?(d[A]=0,b=!0):C===h&&(d[A]=h-1,b=!0),D===-1?(d[A+1]=0,b=!0):D===v&&(d[A+1]=v-1,b=!0)}b=!0;for(let A=d.length-2;A>=0&&b;A-=2){const C=Math.floor(d[A]),D=Math.floor(d[A+1]);if(C<-1||C>h||D<-1||D>v)throw new q;b=!1,C===-1?(d[A]=0,b=!0):C===h&&(d[A]=h-1,b=!0),D===-1?(d[A+1]=0,b=!0):D===v&&(d[A+1]=v-1,b=!0)}}}class tr{constructor(o,d,h,v,b,A,C,D,B){this.a11=o,this.a21=d,this.a31=h,this.a12=v,this.a22=b,this.a32=A,this.a13=C,this.a23=D,this.a33=B}static quadrilateralToQuadrilateral(o,d,h,v,b,A,C,D,B,K,fe,we,De,ze,He,Xe){const dt=tr.quadrilateralToSquare(o,d,h,v,b,A,C,D);return tr.squareToQuadrilateral(B,K,fe,we,De,ze,He,Xe).times(dt)}transformPoints(o){const d=o.length,h=this.a11,v=this.a12,b=this.a13,A=this.a21,C=this.a22,D=this.a23,B=this.a31,K=this.a32,fe=this.a33;for(let we=0;we<d;we+=2){const De=o[we],ze=o[we+1],He=b*De+D*ze+fe;o[we]=(h*De+A*ze+B)/He,o[we+1]=(v*De+C*ze+K)/He}}transformPointsWithValues(o,d){const h=this.a11,v=this.a12,b=this.a13,A=this.a21,C=this.a22,D=this.a23,B=this.a31,K=this.a32,fe=this.a33,we=o.length;for(let De=0;De<we;De++){const ze=o[De],He=d[De],Xe=b*ze+D*He+fe;o[De]=(h*ze+A*He+B)/Xe,d[De]=(v*ze+C*He+K)/Xe}}static squareToQuadrilateral(o,d,h,v,b,A,C,D){const B=o-h+b-C,K=d-v+A-D;if(B===0&&K===0)return new tr(h-o,b-h,o,v-d,A-v,d,0,0,1);{const fe=h-b,we=C-b,De=v-A,ze=D-A,He=fe*ze-we*De,Xe=(B*ze-we*K)/He,dt=(fe*K-B*De)/He;return new tr(h-o+Xe*h,C-o+dt*C,o,v-d+Xe*v,D-d+dt*D,d,Xe,dt,1)}}static quadrilateralToSquare(o,d,h,v,b,A,C,D){return tr.squareToQuadrilateral(o,d,h,v,b,A,C,D).buildAdjoint()}buildAdjoint(){return new tr(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new tr(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class Bt extends Wt{sampleGrid(o,d,h,v,b,A,C,D,B,K,fe,we,De,ze,He,Xe,dt,Lt,Pt){const Mt=tr.quadrilateralToQuadrilateral(v,b,A,C,D,B,K,fe,we,De,ze,He,Xe,dt,Lt,Pt);return this.sampleGridWithTransform(o,d,h,Mt)}sampleGridWithTransform(o,d,h,v){if(d<=0||h<=0)throw new q;const b=new re(d,h),A=new Float32Array(2*d);for(let C=0;C<h;C++){const D=A.length,B=C+.5;for(let K=0;K<D;K+=2)A[K]=K/2+.5,A[K+1]=B;v.transformPoints(A),Wt.checkAndNudgePoints(o,A);try{for(let K=0;K<D;K+=2)o.get(Math.floor(A[K]),Math.floor(A[K+1]))&&b.set(K/2,C)}catch{throw new q}}return b}}class lr{static setGridSampler(o){lr.gridSampler=o}static getInstance(){return lr.gridSampler}}lr.gridSampler=new Bt;class Qt{constructor(o,d){this.x=o,this.y=d}toResultPoint(){return new Fe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Er{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let d=this.getMatrixCenter(),h=this.getBullsEyeCorners(d);if(o){let A=h[0];h[0]=h[2],h[2]=A}this.extractParameters(h);let v=this.sampleGrid(this.image,h[this.shift%4],h[(this.shift+1)%4],h[(this.shift+2)%4],h[(this.shift+3)%4]),b=this.getMatrixCornerPoints(h);return new St(v,b,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new q;let d=2*this.nbCenterLayers,h=new Int32Array([this.sampleLine(o[0],o[1],d),this.sampleLine(o[1],o[2],d),this.sampleLine(o[2],o[3],d),this.sampleLine(o[3],o[0],d)]);this.shift=this.getRotation(h,d);let v=0;for(let A=0;A<4;A++){let C=h[(this.shift+A)%4];this.compact?(v<<=7,v+=C>>1&127):(v<<=10,v+=(C>>2&992)+(C>>1&31))}let b=this.getCorrectedParameterData(v,this.compact);this.compact?(this.nbLayers=(b>>6)+1,this.nbDataBlocks=(b&63)+1):(this.nbLayers=(b>>11)+1,this.nbDataBlocks=(b&2047)+1)}getRotation(o,d){let h=0;o.forEach((v,b,A)=>{let C=(v>>d-2<<1)+(v&1);h=(h<<3)+C}),h=((h&1)<<11)+(h>>1);for(let v=0;v<4;v++)if(F.bitCount(h^this.EXPECTED_CORNER_BITS[v])<=2)return v;throw new q}getCorrectedParameterData(o,d){let h,v;d?(h=7,v=2):(h=10,v=4);let b=h-v,A=new Int32Array(h);for(let D=h-1;D>=0;--D)A[D]=o&15,o>>=4;try{new ae(Le.AZTEC_PARAM).decode(A,b)}catch{throw new q}let C=0;for(let D=0;D<v;D++)C=(C<<4)+A[D];return C}getBullsEyeCorners(o){let d=o,h=o,v=o,b=o,A=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let fe=this.getFirstDifferent(d,A,1,-1),we=this.getFirstDifferent(h,A,1,1),De=this.getFirstDifferent(v,A,-1,1),ze=this.getFirstDifferent(b,A,-1,-1);if(this.nbCenterLayers>2){let He=this.distancePoint(ze,fe)*this.nbCenterLayers/(this.distancePoint(b,d)*(this.nbCenterLayers+2));if(He<.75||He>1.25||!this.isWhiteOrBlackRectangle(fe,we,De,ze))break}d=fe,h=we,v=De,b=ze,A=!A}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new q;this.compact=this.nbCenterLayers===5;let C=new Fe(d.getX()+.5,d.getY()-.5),D=new Fe(h.getX()+.5,h.getY()+.5),B=new Fe(v.getX()-.5,v.getY()+.5),K=new Fe(b.getX()-.5,b.getY()-.5);return this.expandSquare([C,D,B,K],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,d,h,v;try{let C=new qt(this.image).detect();o=C[0],d=C[1],h=C[2],v=C[3]}catch{let D=this.image.getWidth()/2,B=this.image.getHeight()/2;o=this.getFirstDifferent(new Qt(D+7,B-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new Qt(D+7,B+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Qt(D-7,B+7),!1,-1,1).toResultPoint(),v=this.getFirstDifferent(new Qt(D-7,B-7),!1,-1,-1).toResultPoint()}let b=Re.round((o.getX()+v.getX()+d.getX()+h.getX())/4),A=Re.round((o.getY()+v.getY()+d.getY()+h.getY())/4);try{let C=new qt(this.image,15,b,A).detect();o=C[0],d=C[1],h=C[2],v=C[3]}catch{o=this.getFirstDifferent(new Qt(b+7,A-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new Qt(b+7,A+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Qt(b-7,A+7),!1,-1,1).toResultPoint(),v=this.getFirstDifferent(new Qt(b-7,A-7),!1,-1,-1).toResultPoint()}return b=Re.round((o.getX()+v.getX()+d.getX()+h.getX())/4),A=Re.round((o.getY()+v.getY()+d.getY()+h.getY())/4),new Qt(b,A)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,d,h,v,b){let A=lr.getInstance(),C=this.getDimension(),D=C/2-this.nbCenterLayers,B=C/2+this.nbCenterLayers;return A.sampleGrid(o,C,C,D,D,B,D,B,B,D,B,d.getX(),d.getY(),h.getX(),h.getY(),v.getX(),v.getY(),b.getX(),b.getY())}sampleLine(o,d,h){let v=0,b=this.distanceResultPoint(o,d),A=b/h,C=o.getX(),D=o.getY(),B=A*(d.getX()-o.getX())/b,K=A*(d.getY()-o.getY())/b;for(let fe=0;fe<h;fe++)this.image.get(Re.round(C+fe*B),Re.round(D+fe*K))&&(v|=1<<h-fe-1);return v}isWhiteOrBlackRectangle(o,d,h,v){let b=3;o=new Qt(o.getX()-b,o.getY()+b),d=new Qt(d.getX()-b,d.getY()-b),h=new Qt(h.getX()+b,h.getY()-b),v=new Qt(v.getX()+b,v.getY()+b);let A=this.getColor(v,o);if(A===0)return!1;let C=this.getColor(o,d);return C!==A||(C=this.getColor(d,h),C!==A)?!1:(C=this.getColor(h,v),C===A)}getColor(o,d){let h=this.distancePoint(o,d),v=(d.getX()-o.getX())/h,b=(d.getY()-o.getY())/h,A=0,C=o.getX(),D=o.getY(),B=this.image.get(o.getX(),o.getY()),K=Math.ceil(h);for(let we=0;we<K;we++)C+=v,D+=b,this.image.get(Re.round(C),Re.round(D))!==B&&A++;let fe=A/h;return fe>.1&&fe<.9?0:fe<=.1===B?1:-1}getFirstDifferent(o,d,h,v){let b=o.getX()+h,A=o.getY()+v;for(;this.isValid(b,A)&&this.image.get(b,A)===d;)b+=h,A+=v;for(b-=h,A-=v;this.isValid(b,A)&&this.image.get(b,A)===d;)b+=h;for(b-=h;this.isValid(b,A)&&this.image.get(b,A)===d;)A+=v;return A-=v,new Qt(b,A)}expandSquare(o,d,h){let v=h/(2*d),b=o[0].getX()-o[2].getX(),A=o[0].getY()-o[2].getY(),C=(o[0].getX()+o[2].getX())/2,D=(o[0].getY()+o[2].getY())/2,B=new Fe(C+v*b,D+v*A),K=new Fe(C-v*b,D-v*A);b=o[1].getX()-o[3].getX(),A=o[1].getY()-o[3].getY(),C=(o[1].getX()+o[3].getX())/2,D=(o[1].getY()+o[3].getY())/2;let fe=new Fe(C+v*b,D+v*A),we=new Fe(C-v*b,D-v*A);return[B,fe,K,we]}isValid(o,d){return o>=0&&o<this.image.getWidth()&&d>0&&d<this.image.getHeight()}isValidPoint(o){let d=Re.round(o.getX()),h=Re.round(o.getY());return this.isValid(d,h)}distancePoint(o,d){return Re.distance(o.getX(),o.getY(),d.getX(),d.getY())}distanceResultPoint(o,d){return Re.distance(o.getX(),o.getY(),d.getX(),d.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(F.truncDivision(this.nbLayers-4,8)+1)+15}}class zt{decode(o,d=null){let h=null,v=new Er(o.getBlackMatrix()),b=null,A=null;try{let K=v.detectMirror(!1);b=K.getPoints(),this.reportFoundResultPoints(d,b),A=new at().decode(K)}catch(K){h=K}if(A==null)try{let K=v.detectMirror(!0);b=K.getPoints(),this.reportFoundResultPoints(d,b),A=new at().decode(K)}catch(K){throw h??K}let C=new se(A.getText(),A.getRawBytes(),A.getNumBits(),b,ne.AZTEC,_.currentTimeMillis()),D=A.getByteSegments();D!=null&&C.putMetadata(je.BYTE_SEGMENTS,D);let B=A.getECLevel();return B!=null&&C.putMetadata(je.ERROR_CORRECTION_LEVEL,B),C}reportFoundResultPoints(o,d){if(o!=null){let h=o.get(J.NEED_RESULT_POINT_CALLBACK);h!=null&&d.forEach((v,b,A)=>{h.foundPossibleResultPoint(v)})}}reset(){}}class Mn extends H{constructor(o=500){super(new zt,o)}}class Ht{decode(o,d){try{return this.doDecode(o,d)}catch{if(d&&d.get(J.TRY_HARDER)===!0&&o.isRotateSupported()){const b=o.rotateCounterClockwise(),A=this.doDecode(b,d),C=A.getResultMetadata();let D=270;C!==null&&C.get(je.ORIENTATION)===!0&&(D=D+C.get(je.ORIENTATION)%360),A.putMetadata(je.ORIENTATION,D);const B=A.getResultPoints();if(B!==null){const K=b.getHeight();for(let fe=0;fe<B.length;fe++)B[fe]=new Fe(K-B[fe].getY()-1,B[fe].getX())}return A}else throw new q}}reset(){}doDecode(o,d){const h=o.getWidth(),v=o.getHeight();let b=new G(h);const A=d&&d.get(J.TRY_HARDER)===!0,C=Math.max(1,v>>(A?8:5));let D;A?D=v:D=15;const B=Math.trunc(v/2);for(let K=0;K<D;K++){const fe=Math.trunc((K+1)/2),we=(K&1)===0,De=B+C*(we?fe:-fe);if(De<0||De>=v)break;try{b=o.getBlackRow(De,b)}catch{continue}for(let ze=0;ze<2;ze++){if(ze===1&&(b.reverse(),d&&d.get(J.NEED_RESULT_POINT_CALLBACK)===!0)){const He=new Map;d.forEach((Xe,dt)=>He.set(dt,Xe)),He.delete(J.NEED_RESULT_POINT_CALLBACK),d=He}try{const He=this.decodeRow(De,b,d);if(ze===1){He.putMetadata(je.ORIENTATION,180);const Xe=He.getResultPoints();Xe!==null&&(Xe[0]=new Fe(h-Xe[0].getX()-1,Xe[0].getY()),Xe[1]=new Fe(h-Xe[1].getX()-1,Xe[1].getY()))}return He}catch{}}}throw new q}static recordPattern(o,d,h){const v=h.length;for(let B=0;B<v;B++)h[B]=0;const b=o.getSize();if(d>=b)throw new q;let A=!o.get(d),C=0,D=d;for(;D<b;){if(o.get(D)!==A)h[C]++;else{if(++C===v)break;h[C]=1,A=!A}D++}if(!(C===v||C===v-1&&D===b))throw new q}static recordPatternInReverse(o,d,h){let v=h.length,b=o.get(d);for(;d>0&&v>=0;)o.get(--d)!==b&&(v--,b=!b);if(v>=0)throw new q;Ht.recordPattern(o,d+1,h)}static patternMatchVariance(o,d,h){const v=o.length;let b=0,A=0;for(let B=0;B<v;B++)b+=o[B],A+=d[B];if(b<A)return Number.POSITIVE_INFINITY;const C=b/A;h*=C;let D=0;for(let B=0;B<v;B++){const K=o[B],fe=d[B]*C,we=K>fe?K-fe:fe-K;if(we>h)return Number.POSITIVE_INFINITY;D+=we}return D/b}}class Ct extends Ht{static findStartPattern(o){const d=o.getSize(),h=o.getNextSet(0);let v=0,b=Int32Array.from([0,0,0,0,0,0]),A=h,C=!1;const D=6;for(let B=h;B<d;B++)if(o.get(B)!==C)b[v]++;else{if(v===D-1){let K=Ct.MAX_AVG_VARIANCE,fe=-1;for(let we=Ct.CODE_START_A;we<=Ct.CODE_START_C;we++){const De=Ht.patternMatchVariance(b,Ct.CODE_PATTERNS[we],Ct.MAX_INDIVIDUAL_VARIANCE);De<K&&(K=De,fe=we)}if(fe>=0&&o.isRange(Math.max(0,A-(B-A)/2),A,!1))return Int32Array.from([A,B,fe]);A+=b[0]+b[1],b=b.slice(2,b.length-1),b[v-1]=0,b[v]=0,v--}else v++;b[v]=1,C=!C}throw new q}static decodeCode(o,d,h){Ht.recordPattern(o,h,d);let v=Ct.MAX_AVG_VARIANCE,b=-1;for(let A=0;A<Ct.CODE_PATTERNS.length;A++){const C=Ct.CODE_PATTERNS[A],D=this.patternMatchVariance(d,C,Ct.MAX_INDIVIDUAL_VARIANCE);D<v&&(v=D,b=A)}if(b>=0)return b;throw new q}decodeRow(o,d,h){const v=h&&h.get(J.ASSUME_GS1)===!0,b=Ct.findStartPattern(d),A=b[2];let C=0;const D=new Uint8Array(20);D[C++]=A;let B;switch(A){case Ct.CODE_START_A:B=Ct.CODE_CODE_A;break;case Ct.CODE_START_B:B=Ct.CODE_CODE_B;break;case Ct.CODE_START_C:B=Ct.CODE_CODE_C;break;default:throw new V}let K=!1,fe=!1,we="",De=b[0],ze=b[1];const He=Int32Array.from([0,0,0,0,0,0]);let Xe=0,dt=0,Lt=A,Pt=0,Mt=!0,Fr=!1,Tr=!1;for(;!K;){const Xs=fe;switch(fe=!1,Xe=dt,dt=Ct.decodeCode(d,He,ze),D[C++]=dt,dt!==Ct.CODE_STOP&&(Mt=!0),dt!==Ct.CODE_STOP&&(Pt++,Lt+=Pt*dt),De=ze,ze+=He.reduce((vs,rs)=>vs+rs,0),dt){case Ct.CODE_START_A:case Ct.CODE_START_B:case Ct.CODE_START_C:throw new V}switch(B){case Ct.CODE_CODE_A:if(dt<64)Tr===Fr?we+=String.fromCharCode(32+dt):we+=String.fromCharCode(32+dt+128),Tr=!1;else if(dt<96)Tr===Fr?we+=String.fromCharCode(dt-64):we+=String.fromCharCode(dt+64),Tr=!1;else switch(dt!==Ct.CODE_STOP&&(Mt=!1),dt){case Ct.CODE_FNC_1:v&&(we.length===0?we+="]C1":we+="");break;case Ct.CODE_FNC_2:case Ct.CODE_FNC_3:break;case Ct.CODE_FNC_4_A:!Fr&&Tr?(Fr=!0,Tr=!1):Fr&&Tr?(Fr=!1,Tr=!1):Tr=!0;break;case Ct.CODE_SHIFT:fe=!0,B=Ct.CODE_CODE_B;break;case Ct.CODE_CODE_B:B=Ct.CODE_CODE_B;break;case Ct.CODE_CODE_C:B=Ct.CODE_CODE_C;break;case Ct.CODE_STOP:K=!0;break}break;case Ct.CODE_CODE_B:if(dt<96)Tr===Fr?we+=String.fromCharCode(32+dt):we+=String.fromCharCode(32+dt+128),Tr=!1;else switch(dt!==Ct.CODE_STOP&&(Mt=!1),dt){case Ct.CODE_FNC_1:v&&(we.length===0?we+="]C1":we+="");break;case Ct.CODE_FNC_2:case Ct.CODE_FNC_3:break;case Ct.CODE_FNC_4_B:!Fr&&Tr?(Fr=!0,Tr=!1):Fr&&Tr?(Fr=!1,Tr=!1):Tr=!0;break;case Ct.CODE_SHIFT:fe=!0,B=Ct.CODE_CODE_A;break;case Ct.CODE_CODE_A:B=Ct.CODE_CODE_A;break;case Ct.CODE_CODE_C:B=Ct.CODE_CODE_C;break;case Ct.CODE_STOP:K=!0;break}break;case Ct.CODE_CODE_C:if(dt<100)dt<10&&(we+="0"),we+=dt;else switch(dt!==Ct.CODE_STOP&&(Mt=!1),dt){case Ct.CODE_FNC_1:v&&(we.length===0?we+="]C1":we+="");break;case Ct.CODE_CODE_A:B=Ct.CODE_CODE_A;break;case Ct.CODE_CODE_B:B=Ct.CODE_CODE_B;break;case Ct.CODE_STOP:K=!0;break}break}Xs&&(B=B===Ct.CODE_CODE_A?Ct.CODE_CODE_B:Ct.CODE_CODE_A)}const Gn=ze-De;if(ze=d.getNextUnset(ze),!d.isRange(ze,Math.min(d.getSize(),ze+(ze-De)/2),!1))throw new q;if(Lt-=Pt*Xe,Lt%103!==Xe)throw new N;const ri=we.length;if(ri===0)throw new q;ri>0&&Mt&&(B===Ct.CODE_CODE_C?we=we.substring(0,ri-2):we=we.substring(0,ri-1));const ba=(b[1]+b[0])/2,on=De+Gn/2,wa=D.length,Ya=new Uint8Array(wa);for(let Xs=0;Xs<wa;Xs++)Ya[Xs]=D[Xs];const xs=[new Fe(ba,o),new Fe(on,o)];return new se(we,Ya,0,xs,ne.CODE_128,new Date().getTime())}}Ct.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ct.MAX_AVG_VARIANCE=.25,Ct.MAX_INDIVIDUAL_VARIANCE=.7,Ct.CODE_SHIFT=98,Ct.CODE_CODE_C=99,Ct.CODE_CODE_B=100,Ct.CODE_CODE_A=101,Ct.CODE_FNC_1=102,Ct.CODE_FNC_2=97,Ct.CODE_FNC_3=96,Ct.CODE_FNC_4_A=101,Ct.CODE_FNC_4_B=100,Ct.CODE_START_A=103,Ct.CODE_START_B=104,Ct.CODE_START_C=105,Ct.CODE_STOP=106;class rr extends Ht{constructor(o=!1,d=!1){super(),this.usingCheckDigit=o,this.extendedMode=d,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,d,h){let v=this.counters;v.fill(0),this.decodeRowResult="";let b=rr.findAsteriskPattern(d,v),A=d.getNextSet(b[1]),C=d.getSize(),D,B;do{rr.recordPattern(d,A,v);let He=rr.toNarrowWidePattern(v);if(He<0)throw new q;D=rr.patternToChar(He),this.decodeRowResult+=D,B=A;for(let Xe of v)A+=Xe;A=d.getNextSet(A)}while(D!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let K=0;for(let He of v)K+=He;let fe=A-B-K;if(A!==C&&fe*2<K)throw new q;if(this.usingCheckDigit){let He=this.decodeRowResult.length-1,Xe=0;for(let dt=0;dt<He;dt++)Xe+=rr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(dt));if(this.decodeRowResult.charAt(He)!==rr.ALPHABET_STRING.charAt(Xe%43))throw new N;this.decodeRowResult=this.decodeRowResult.substring(0,He)}if(this.decodeRowResult.length===0)throw new q;let we;this.extendedMode?we=rr.decodeExtended(this.decodeRowResult):we=this.decodeRowResult;let De=(b[1]+b[0])/2,ze=B+K/2;return new se(we,null,0,[new Fe(De,o),new Fe(ze,o)],ne.CODE_39,new Date().getTime())}static findAsteriskPattern(o,d){let h=o.getSize(),v=o.getNextSet(0),b=0,A=v,C=!1,D=d.length;for(let B=v;B<h;B++)if(o.get(B)!==C)d[b]++;else{if(b===D-1){if(this.toNarrowWidePattern(d)===rr.ASTERISK_ENCODING&&o.isRange(Math.max(0,A-Math.floor((B-A)/2)),A,!1))return[A,B];A+=d[0]+d[1],d.copyWithin(0,2,2+b-1),d[b-1]=0,d[b]=0,b--}else b++;d[b]=1,C=!C}throw new q}static toNarrowWidePattern(o){let d=o.length,h=0,v;do{let b=2147483647;for(let D of o)D<b&&D>h&&(b=D);h=b,v=0;let A=0,C=0;for(let D=0;D<d;D++){let B=o[D];B>h&&(C|=1<<d-1-D,v++,A+=B)}if(v===3){for(let D=0;D<d&&v>0;D++){let B=o[D];if(B>h&&(v--,B*2>=A))return-1}return C}}while(v>3);return-1}static patternToChar(o){for(let d=0;d<rr.CHARACTER_ENCODINGS.length;d++)if(rr.CHARACTER_ENCODINGS[d]===o)return rr.ALPHABET_STRING.charAt(d);if(o===rr.ASTERISK_ENCODING)return"*";throw new q}static decodeExtended(o){let d=o.length,h="";for(let v=0;v<d;v++){let b=o.charAt(v);if(b==="+"||b==="$"||b==="%"||b==="/"){let A=o.charAt(v+1),C="\0";switch(b){case"+":if(A>="A"&&A<="Z")C=String.fromCharCode(A.charCodeAt(0)+32);else throw new V;break;case"$":if(A>="A"&&A<="Z")C=String.fromCharCode(A.charCodeAt(0)-64);else throw new V;break;case"%":if(A>="A"&&A<="E")C=String.fromCharCode(A.charCodeAt(0)-38);else if(A>="F"&&A<="J")C=String.fromCharCode(A.charCodeAt(0)-11);else if(A>="K"&&A<="O")C=String.fromCharCode(A.charCodeAt(0)+16);else if(A>="P"&&A<="T")C=String.fromCharCode(A.charCodeAt(0)+43);else if(A==="U")C="\0";else if(A==="V")C="@";else if(A==="W")C="`";else if(A==="X"||A==="Y"||A==="Z")C="";else throw new V;break;case"/":if(A>="A"&&A<="O")C=String.fromCharCode(A.charCodeAt(0)-32);else if(A==="Z")C=":";else throw new V;break}h+=C,v++}else h+=b}return h}}rr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",rr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],rr.ASTERISK_ENCODING=148;class Jt extends Ht{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,d,h){let v=this.decodeStart(d),b=this.decodeEnd(d),A=new me;Jt.decodeMiddle(d,v[1],b[0],A);let C=A.toString(),D=null;h!=null&&(D=h.get(J.ALLOWED_LENGTHS)),D==null&&(D=Jt.DEFAULT_ALLOWED_LENGTHS);let B=C.length,K=!1,fe=0;for(let ze of D){if(B===ze){K=!0;break}ze>fe&&(fe=ze)}if(!K&&B>fe&&(K=!0),!K)throw new V;const we=[new Fe(v[1],o),new Fe(b[0],o)];return new se(C,null,0,we,ne.ITF,new Date().getTime())}static decodeMiddle(o,d,h,v){let b=new Int32Array(10),A=new Int32Array(5),C=new Int32Array(5);for(b.fill(0),A.fill(0),C.fill(0);d<h;){Ht.recordPattern(o,d,b);for(let B=0;B<5;B++){let K=2*B;A[B]=b[K],C[B]=b[K+1]}let D=Jt.decodeDigit(A);v.append(D.toString()),D=this.decodeDigit(C),v.append(D.toString()),b.forEach(function(B){d+=B})}}decodeStart(o){let d=Jt.skipWhiteSpace(o),h=Jt.findGuardPattern(o,d,Jt.START_PATTERN);return this.narrowLineWidth=(h[1]-h[0])/4,this.validateQuietZone(o,h[0]),h}validateQuietZone(o,d){let h=this.narrowLineWidth*10;h=h<d?h:d;for(let v=d-1;h>0&&v>=0&&!o.get(v);v--)h--;if(h!==0)throw new q}static skipWhiteSpace(o){const d=o.getSize(),h=o.getNextSet(0);if(h===d)throw new q;return h}decodeEnd(o){o.reverse();try{let d=Jt.skipWhiteSpace(o),h;try{h=Jt.findGuardPattern(o,d,Jt.END_PATTERN_REVERSED[0])}catch(b){b instanceof q&&(h=Jt.findGuardPattern(o,d,Jt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,h[0]);let v=h[0];return h[0]=o.getSize()-h[1],h[1]=o.getSize()-v,h}finally{o.reverse()}}static findGuardPattern(o,d,h){let v=h.length,b=new Int32Array(v),A=o.getSize(),C=!1,D=0,B=d;b.fill(0);for(let K=d;K<A;K++)if(o.get(K)!==C)b[D]++;else{if(D===v-1){if(Ht.patternMatchVariance(b,h,Jt.MAX_INDIVIDUAL_VARIANCE)<Jt.MAX_AVG_VARIANCE)return[B,K];B+=b[0]+b[1],_.arraycopy(b,2,b,0,D-1),b[D-1]=0,b[D]=0,D--}else D++;b[D]=1,C=!C}throw new q}static decodeDigit(o){let d=Jt.MAX_AVG_VARIANCE,h=-1,v=Jt.PATTERNS.length;for(let b=0;b<v;b++){let A=Jt.PATTERNS[b],C=Ht.patternMatchVariance(o,A,Jt.MAX_INDIVIDUAL_VARIANCE);C<d?(d=C,h=b):C===d&&(h=-1)}if(h>=0)return h%10;throw new q}}Jt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Jt.MAX_AVG_VARIANCE=.38,Jt.MAX_INDIVIDUAL_VARIANCE=.5,Jt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Jt.START_PATTERN=Int32Array.from([1,1,1,1]),Jt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Kr extends Ht{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let d=!1,h,v=0,b=Int32Array.from([0,0,0]);for(;!d;){b=Int32Array.from([0,0,0]),h=Kr.findGuardPattern(o,v,!1,this.START_END_PATTERN,b);let A=h[0];v=h[1];let C=A-(v-A);C>=0&&(d=o.isRange(C,A,!1))}return h}static checkChecksum(o){return Kr.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let d=o.length;if(d===0)return!1;let h=parseInt(o.charAt(d-1),10);return Kr.getStandardUPCEANChecksum(o.substring(0,d-1))===h}static getStandardUPCEANChecksum(o){let d=o.length,h=0;for(let v=d-1;v>=0;v-=2){let b=o.charAt(v).charCodeAt(0)-48;if(b<0||b>9)throw new V;h+=b}h*=3;for(let v=d-2;v>=0;v-=2){let b=o.charAt(v).charCodeAt(0)-48;if(b<0||b>9)throw new V;h+=b}return(1e3-h)%10}static decodeEnd(o,d){return Kr.findGuardPattern(o,d,!1,Kr.START_END_PATTERN,new Int32Array(Kr.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,d,h,v){return this.findGuardPattern(o,d,h,v,new Int32Array(v.length))}static findGuardPattern(o,d,h,v,b){let A=o.getSize();d=h?o.getNextUnset(d):o.getNextSet(d);let C=0,D=d,B=v.length,K=h;for(let fe=d;fe<A;fe++)if(o.get(fe)!==K)b[C]++;else{if(C===B-1){if(Ht.patternMatchVariance(b,v,Kr.MAX_INDIVIDUAL_VARIANCE)<Kr.MAX_AVG_VARIANCE)return Int32Array.from([D,fe]);D+=b[0]+b[1];let we=b.slice(2,b.length-1);for(let De=0;De<C-1;De++)b[De]=we[De];b[C-1]=0,b[C]=0,C--}else C++;b[C]=1,K=!K}throw new q}static decodeDigit(o,d,h,v){this.recordPattern(o,h,d);let b=this.MAX_AVG_VARIANCE,A=-1,C=v.length;for(let D=0;D<C;D++){let B=v[D],K=Ht.patternMatchVariance(d,B,Kr.MAX_INDIVIDUAL_VARIANCE);K<b&&(b=K,A=D)}if(A>=0)return A;throw new q}}Kr.MAX_AVG_VARIANCE=.48,Kr.MAX_INDIVIDUAL_VARIANCE=.7,Kr.START_END_PATTERN=Int32Array.from([1,1,1]),Kr.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Kr.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Kr.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ur{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,d,h){let v=this.decodeRowStringBuffer,b=this.decodeMiddle(d,h,v),A=v.toString(),C=Ur.parseExtensionString(A),D=[new Fe((h[0]+h[1])/2,o),new Fe(b,o)],B=new se(A,null,0,D,ne.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&B.putAllMetadata(C),B}decodeMiddle(o,d,h){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let b=o.getSize(),A=d[1],C=0;for(let B=0;B<5&&A<b;B++){let K=Kr.decodeDigit(o,v,A,Kr.L_AND_G_PATTERNS);h+=String.fromCharCode(48+K%10);for(let fe of v)A+=fe;K>=10&&(C|=1<<4-B),B!==4&&(A=o.getNextSet(A),A=o.getNextUnset(A))}if(h.length!==5)throw new q;let D=this.determineCheckDigit(C);if(Ur.extensionChecksum(h.toString())!==D)throw new q;return A}static extensionChecksum(o){let d=o.length,h=0;for(let v=d-2;v>=0;v-=2)h+=o.charAt(v).charCodeAt(0)-48;h*=3;for(let v=d-1;v>=0;v-=2)h+=o.charAt(v).charCodeAt(0)-48;return h*=3,h%10}determineCheckDigit(o){for(let d=0;d<10;d++)if(o===this.CHECK_DIGIT_ENCODINGS[d])return d;throw new q}static parseExtensionString(o){if(o.length!==5)return null;let d=Ur.parseExtension5String(o);return d==null?null:new Map([[je.SUGGESTED_PRICE,d]])}static parseExtension5String(o){let d;switch(o.charAt(0)){case"0":d="";break;case"5":d="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}d="";break;default:d="";break}let h=parseInt(o.substring(1)),v=(h/100).toString(),b=h%100,A=b<10?"0"+b:b.toString();return d+v+"."+A}}class Ri{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,d,h){let v=this.decodeRowStringBuffer,b=this.decodeMiddle(d,h,v),A=v.toString(),C=Ri.parseExtensionString(A),D=[new Fe((h[0]+h[1])/2,o),new Fe(b,o)],B=new se(A,null,0,D,ne.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&B.putAllMetadata(C),B}decodeMiddle(o,d,h){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let b=o.getSize(),A=d[1],C=0;for(let D=0;D<2&&A<b;D++){let B=Kr.decodeDigit(o,v,A,Kr.L_AND_G_PATTERNS);h+=String.fromCharCode(48+B%10);for(let K of v)A+=K;B>=10&&(C|=1<<1-D),D!==1&&(A=o.getNextSet(A),A=o.getNextUnset(A))}if(h.length!==2)throw new q;if(parseInt(h.toString())%4!==C)throw new q;return A}static parseExtensionString(o){return o.length!==2?null:new Map([[je.ISSUE_NUMBER,parseInt(o)]])}}class pn{static decodeRow(o,d,h){let v=Kr.findGuardPattern(d,h,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ur().decodeRow(o,d,v)}catch{return new Ri().decodeRow(o,d,v)}}}pn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ar extends Kr{constructor(){super(),this.decodeRowStringBuffer="",Ar.L_AND_G_PATTERNS=Ar.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let d=Ar.L_PATTERNS[o-10],h=new Int32Array(d.length);for(let v=0;v<d.length;v++)h[v]=d[d.length-v-1];Ar.L_AND_G_PATTERNS[o]=h}}decodeRow(o,d,h){let v=Ar.findStartGuardPattern(d),b=h==null?null:h.get(J.NEED_RESULT_POINT_CALLBACK);if(b!=null){const Mt=new Fe((v[0]+v[1])/2,o);b.foundPossibleResultPoint(Mt)}let A=this.decodeMiddle(d,v,this.decodeRowStringBuffer),C=A.rowOffset,D=A.resultString;if(b!=null){const Mt=new Fe(C,o);b.foundPossibleResultPoint(Mt)}let B=this.decodeEnd(d,C);if(b!=null){const Mt=new Fe((B[0]+B[1])/2,o);b.foundPossibleResultPoint(Mt)}let K=B[1],fe=K+(K-B[0]);if(fe>=d.getSize()||!d.isRange(K,fe,!1))throw new q;let we=D.toString();if(we.length<8)throw new V;if(!Ar.checkChecksum(we))throw new N;let De=(v[1]+v[0])/2,ze=(B[1]+B[0])/2,He=this.getBarcodeFormat(),Xe=[new Fe(De,o),new Fe(ze,o)],dt=new se(we,null,0,Xe,He,new Date().getTime()),Lt=0;try{let Mt=pn.decodeRow(o,d,B[1]);dt.putMetadata(je.UPC_EAN_EXTENSION,Mt.getText()),dt.putAllMetadata(Mt.getResultMetadata()),dt.addResultPoints(Mt.getResultPoints()),Lt=Mt.getText().length}catch{}let Pt=h==null?null:h.get(J.ALLOWED_EAN_EXTENSIONS);if(Pt!=null){let Mt=!1;for(let Fr in Pt)if(Lt.toString()===Fr){Mt=!0;break}if(!Mt)throw new q}return dt}decodeEnd(o,d){return Ar.findGuardPattern(o,d,!1,Ar.START_END_PATTERN,new Int32Array(Ar.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return Ar.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let d=o.length;if(d===0)return!1;let h=parseInt(o.charAt(d-1),10);return Ar.getStandardUPCEANChecksum(o.substring(0,d-1))===h}static getStandardUPCEANChecksum(o){let d=o.length,h=0;for(let v=d-1;v>=0;v-=2){let b=o.charAt(v).charCodeAt(0)-48;if(b<0||b>9)throw new V;h+=b}h*=3;for(let v=d-2;v>=0;v-=2){let b=o.charAt(v).charCodeAt(0)-48;if(b<0||b>9)throw new V;h+=b}return(1e3-h)%10}}class sa extends Ar{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,d,h){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let b=o.getSize(),A=d[1],C=0;for(let B=0;B<6&&A<b;B++){let K=Ar.decodeDigit(o,v,A,Ar.L_AND_G_PATTERNS);h+=String.fromCharCode(48+K%10);for(let fe of v)A+=fe;K>=10&&(C|=1<<5-B)}h=sa.determineFirstDigit(h,C),A=Ar.findGuardPattern(o,A,!0,Ar.MIDDLE_PATTERN,new Int32Array(Ar.MIDDLE_PATTERN.length).fill(0))[1];for(let B=0;B<6&&A<b;B++){let K=Ar.decodeDigit(o,v,A,Ar.L_PATTERNS);h+=String.fromCharCode(48+K);for(let fe of v)A+=fe}return{rowOffset:A,resultString:h}}getBarcodeFormat(){return ne.EAN_13}static determineFirstDigit(o,d){for(let h=0;h<10;h++)if(d===this.FIRST_DIGIT_ENCODINGS[h])return o=String.fromCharCode(48+h)+o,o;throw new q}}sa.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class sn extends Ar{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,d,h){const v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let b=o.getSize(),A=d[1];for(let D=0;D<4&&A<b;D++){let B=Ar.decodeDigit(o,v,A,Ar.L_PATTERNS);h+=String.fromCharCode(48+B);for(let K of v)A+=K}A=Ar.findGuardPattern(o,A,!0,Ar.MIDDLE_PATTERN,new Int32Array(Ar.MIDDLE_PATTERN.length).fill(0))[1];for(let D=0;D<4&&A<b;D++){let B=Ar.decodeDigit(o,v,A,Ar.L_PATTERNS);h+=String.fromCharCode(48+B);for(let K of v)A+=K}return{rowOffset:A,resultString:h}}getBarcodeFormat(){return ne.EAN_8}}class xr extends Ar{constructor(){super(...arguments),this.ean13Reader=new sa}getBarcodeFormat(){return ne.UPC_A}decode(o,d){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,d,h){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,d,h))}decodeMiddle(o,d,h){return this.ean13Reader.decodeMiddle(o,d,h)}maybeReturnResult(o){let d=o.getText();if(d.charAt(0)==="0"){let h=new se(d.substring(1),null,null,o.getResultPoints(),ne.UPC_A);return o.getResultMetadata()!=null&&h.putAllMetadata(o.getResultMetadata()),h}else throw new q}reset(){this.ean13Reader.reset()}}class Nr extends Ar{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,d,h){const v=this.decodeMiddleCounters.map(B=>B);v[0]=0,v[1]=0,v[2]=0,v[3]=0;const b=o.getSize();let A=d[1],C=0;for(let B=0;B<6&&A<b;B++){const K=Nr.decodeDigit(o,v,A,Nr.L_AND_G_PATTERNS);h+=String.fromCharCode(48+K%10);for(let fe of v)A+=fe;K>=10&&(C|=1<<5-B)}let D=Nr.determineNumSysAndCheckDigit(h,C);return{rowOffset:A,resultString:D}}decodeEnd(o,d){return Nr.findGuardPatternWithoutCounters(o,d,!0,Nr.MIDDLE_END_PATTERN)}checkChecksum(o){return Ar.checkChecksum(Nr.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,d){for(let h=0;h<=1;h++)for(let v=0;v<10;v++)if(d===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[h][v]){let b=String.fromCharCode(48+h),A=String.fromCharCode(48+v);return b+o+A}throw q.getNotFoundInstance()}getBarcodeFormat(){return ne.UPC_E}static convertUPCEtoUPCA(o){const d=o.slice(1,7).split("").map(b=>b.charCodeAt(0)),h=new me;h.append(o.charAt(0));let v=d[5];switch(v){case 0:case 1:case 2:h.appendChars(d,0,2),h.append(v),h.append("0000"),h.appendChars(d,2,3);break;case 3:h.appendChars(d,0,3),h.append("00000"),h.appendChars(d,3,2);break;case 4:h.appendChars(d,0,4),h.append("00000"),h.append(d[4]);break;default:h.appendChars(d,0,5),h.append("0000"),h.append(v);break}return o.length>=8&&h.append(o.charAt(7)),h.toString()}}Nr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Nr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ji extends Ht{constructor(o){super();let d=o==null?null:o.get(J.POSSIBLE_FORMATS),h=[];n(d)?(h.push(new sa),h.push(new xr),h.push(new sn),h.push(new Nr)):(d.indexOf(ne.EAN_13)>-1&&h.push(new sa),d.indexOf(ne.UPC_A)>-1&&h.push(new xr),d.indexOf(ne.EAN_8)>-1&&h.push(new sn),d.indexOf(ne.UPC_E)>-1&&h.push(new Nr)),this.readers=h}decodeRow(o,d,h){for(let v of this.readers)try{const b=v.decodeRow(o,d,h),A=b.getBarcodeFormat()===ne.EAN_13&&b.getText().charAt(0)==="0",C=h==null?null:h.get(J.POSSIBLE_FORMATS),D=C==null||C.includes(ne.UPC_A);if(A&&D){const B=b.getRawBytes(),K=new se(b.getText().substring(1),B,B?B.length:null,b.getResultPoints(),ne.UPC_A);return K.putAllMetadata(b.getResultMetadata()),K}return b}catch{}throw new q}reset(){for(let o of this.readers)o.reset()}}class Gr extends Ht{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,d){for(let h=0;h<d.length;h++)if(Ht.patternMatchVariance(o,d[h],Gr.MAX_INDIVIDUAL_VARIANCE)<Gr.MAX_AVG_VARIANCE)return h;throw new q}static count(o){return Re.sum(new Int32Array(o))}static increment(o,d){let h=0,v=d[0];for(let b=1;b<o.length;b++)d[b]>v&&(v=d[b],h=b);o[h]++}static decrement(o,d){let h=0,v=d[0];for(let b=1;b<o.length;b++)d[b]<v&&(v=d[b],h=b);o[h]--}static isFinderPattern(o){let d=o[0]+o[1],h=d+o[2]+o[3],v=d/h;if(v>=Gr.MIN_FINDER_PATTERN_RATIO&&v<=Gr.MAX_FINDER_PATTERN_RATIO){let b=Number.MAX_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER;for(let C of o)C>A&&(A=C),C<b&&(b=C);return A<10*b}return!1}}Gr.MAX_AVG_VARIANCE=.2,Gr.MAX_INDIVIDUAL_VARIANCE=.45,Gr.MIN_FINDER_PATTERN_RATIO=9.5/12,Gr.MAX_FINDER_PATTERN_RATIO=12.5/14;class oa{constructor(o,d){this.value=o,this.checksumPortion=d}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof oa))return!1;const d=o;return this.value===d.value&&this.checksumPortion===d.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class la{constructor(o,d,h,v,b){this.value=o,this.startEnd=d,this.value=o,this.startEnd=d,this.resultPoints=new Array,this.resultPoints.push(new Fe(h,b)),this.resultPoints.push(new Fe(v,b))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof la))return!1;const d=o;return this.value===d.value}hashCode(){return this.value}}class or{constructor(){}static getRSSvalue(o,d,h){let v=0;for(let D of o)v+=D;let b=0,A=0,C=o.length;for(let D=0;D<C-1;D++){let B;for(B=1,A|=1<<D;B<o[D];B++,A&=~(1<<D)){let K=or.combins(v-B-1,C-D-2);if(h&&A===0&&v-B-(C-D-1)>=C-D-1&&(K-=or.combins(v-B-(C-D),C-D-2)),C-D-1>1){let fe=0;for(let we=v-B-(C-D-2);we>d;we--)fe+=or.combins(v-B-we-1,C-D-3);K-=fe*(C-1-D)}else v-B>d&&K--;b+=K}v-=B}return b}static combins(o,d){let h,v;o-d>d?(v=d,h=o-d):(v=o-d,h=d);let b=1,A=1;for(let C=o;C>h;C--)b*=C,A<=v&&(b/=A,A++);for(;A<=v;)b/=A,A++;return b}}class Za{static buildBitArray(o){let d=o.length*2-1;o[o.length-1].getRightChar()==null&&(d-=1);let h=12*d,v=new G(h),b=0,C=o[0].getRightChar().getValue();for(let D=11;D>=0;--D)C&1<<D&&v.set(b),b++;for(let D=1;D<o.length;++D){let B=o[D],K=B.getLeftChar().getValue();for(let fe=11;fe>=0;--fe)K&1<<fe&&v.set(b),b++;if(B.getRightChar()!=null){let fe=B.getRightChar().getValue();for(let we=11;we>=0;--we)fe&1<<we&&v.set(b),b++}}return v}}class Jn{constructor(o,d){d?this.decodedInformation=null:(this.finished=o,this.decodedInformation=d)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class xa{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class Wr extends xa{constructor(o,d){super(o),this.value=d}getValue(){return this.value}isFNC1(){return this.value===Wr.FNC1}}Wr.FNC1="$";class _e extends xa{constructor(o,d,h){super(o),h?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=d}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ot extends xa{constructor(o,d,h){if(super(o),d<0||d>10||h<0||h>10)throw new V;this.firstDigit=d,this.secondDigit=h}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ot.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ot.FNC1}isAnyFNC1(){return this.firstDigit===Ot.FNC1||this.secondDigit===Ot.FNC1}}Ot.FNC1=10;class tt{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new q;let d=o.substring(0,2);for(let b of tt.TWO_DIGIT_DATA_LENGTH)if(b[0]===d)return b[1]===tt.VARIABLE_LENGTH?tt.processVariableAI(2,b[2],o):tt.processFixedAI(2,b[1],o);if(o.length<3)throw new q;let h=o.substring(0,3);for(let b of tt.THREE_DIGIT_DATA_LENGTH)if(b[0]===h)return b[1]===tt.VARIABLE_LENGTH?tt.processVariableAI(3,b[2],o):tt.processFixedAI(3,b[1],o);for(let b of tt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(b[0]===h)return b[1]===tt.VARIABLE_LENGTH?tt.processVariableAI(4,b[2],o):tt.processFixedAI(4,b[1],o);if(o.length<4)throw new q;let v=o.substring(0,4);for(let b of tt.FOUR_DIGIT_DATA_LENGTH)if(b[0]===v)return b[1]===tt.VARIABLE_LENGTH?tt.processVariableAI(4,b[2],o):tt.processFixedAI(4,b[1],o);throw new q}static processFixedAI(o,d,h){if(h.length<o)throw new q;let v=h.substring(0,o);if(h.length<o+d)throw new q;let b=h.substring(o,o+d),A=h.substring(o+d),C="("+v+")"+b,D=tt.parseFieldsInGeneralPurpose(A);return D==null?C:C+D}static processVariableAI(o,d,h){let v=h.substring(0,o),b;h.length<o+d?b=h.length:b=o+d;let A=h.substring(o,b),C=h.substring(b),D="("+v+")"+A,B=tt.parseFieldsInGeneralPurpose(C);return B==null?D:D+B}}tt.VARIABLE_LENGTH=[],tt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",tt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",tt.VARIABLE_LENGTH,20],["22",tt.VARIABLE_LENGTH,29],["30",tt.VARIABLE_LENGTH,8],["37",tt.VARIABLE_LENGTH,8],["90",tt.VARIABLE_LENGTH,30],["91",tt.VARIABLE_LENGTH,30],["92",tt.VARIABLE_LENGTH,30],["93",tt.VARIABLE_LENGTH,30],["94",tt.VARIABLE_LENGTH,30],["95",tt.VARIABLE_LENGTH,30],["96",tt.VARIABLE_LENGTH,30],["97",tt.VARIABLE_LENGTH,3],["98",tt.VARIABLE_LENGTH,30],["99",tt.VARIABLE_LENGTH,30]],tt.THREE_DIGIT_DATA_LENGTH=[["240",tt.VARIABLE_LENGTH,30],["241",tt.VARIABLE_LENGTH,30],["242",tt.VARIABLE_LENGTH,6],["250",tt.VARIABLE_LENGTH,30],["251",tt.VARIABLE_LENGTH,30],["253",tt.VARIABLE_LENGTH,17],["254",tt.VARIABLE_LENGTH,20],["400",tt.VARIABLE_LENGTH,30],["401",tt.VARIABLE_LENGTH,30],["402",17],["403",tt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",tt.VARIABLE_LENGTH,20],["421",tt.VARIABLE_LENGTH,15],["422",3],["423",tt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],tt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",tt.VARIABLE_LENGTH,15],["391",tt.VARIABLE_LENGTH,18],["392",tt.VARIABLE_LENGTH,15],["393",tt.VARIABLE_LENGTH,18],["703",tt.VARIABLE_LENGTH,30]],tt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",tt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",tt.VARIABLE_LENGTH,20],["8003",tt.VARIABLE_LENGTH,30],["8004",tt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",tt.VARIABLE_LENGTH,30],["8008",tt.VARIABLE_LENGTH,12],["8018",18],["8020",tt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",tt.VARIABLE_LENGTH,70],["8200",tt.VARIABLE_LENGTH,70]];class bt{constructor(o){this.buffer=new me,this.information=o}decodeAllCodes(o,d){let h=d,v=null;do{let b=this.decodeGeneralPurposeField(h,v),A=tt.parseFieldsInGeneralPurpose(b.getNewString());if(A!=null&&o.append(A),b.isRemaining()?v=""+b.getRemainingValue():v=null,h===b.getNewPosition())break;h=b.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let d=o;d<o+3;++d)if(this.information.get(d))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let b=this.extractNumericValueFromBitArray(o,4);return b===0?new Ot(this.information.getSize(),Ot.FNC1,Ot.FNC1):new Ot(this.information.getSize(),b-1,Ot.FNC1)}let d=this.extractNumericValueFromBitArray(o,7),h=(d-8)/11,v=(d-8)%11;return new Ot(o+7,h,v)}extractNumericValueFromBitArray(o,d){return bt.extractNumericValueFromBitArray(this.information,o,d)}static extractNumericValueFromBitArray(o,d,h){let v=0;for(let b=0;b<h;++b)o.get(d+b)&&(v|=1<<h-b-1);return v}decodeGeneralPurposeField(o,d){this.buffer.setLengthToZero(),d!=null&&this.buffer.append(d),this.current.setPosition(o);let h=this.parseBlocks();return h!=null&&h.isRemaining()?new _e(this.current.getPosition(),this.buffer.toString(),h.getRemainingValue()):new _e(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,d;do{let h=this.current.getPosition();if(this.current.isAlpha()?(d=this.parseAlphaBlock(),o=d.isFinished()):this.current.isIsoIec646()?(d=this.parseIsoIec646Block(),o=d.isFinished()):(d=this.parseNumericBlock(),o=d.isFinished()),!(h!==this.current.getPosition())&&!o)break}while(!o);return d.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let d;return o.isSecondDigitFNC1()?d=new _e(this.current.getPosition(),this.buffer.toString()):d=new _e(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new Jn(!0,d)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let d=new _e(this.current.getPosition(),this.buffer.toString());return new Jn(!0,d)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Jn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let d=new _e(this.current.getPosition(),this.buffer.toString());return new Jn(!0,d)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Jn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let d=new _e(this.current.getPosition(),this.buffer.toString());return new Jn(!0,d)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Jn(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(o,5);if(d>=5&&d<16)return!0;if(o+7>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(o,7);if(h>=64&&h<116)return!0;if(o+8>this.information.getSize())return!1;let v=this.extractNumericValueFromBitArray(o,8);return v>=232&&v<253}decodeIsoIec646(o){let d=this.extractNumericValueFromBitArray(o,5);if(d===15)return new Wr(o+5,Wr.FNC1);if(d>=5&&d<15)return new Wr(o+5,"0"+(d-5));let h=this.extractNumericValueFromBitArray(o,7);if(h>=64&&h<90)return new Wr(o+7,""+(h+1));if(h>=90&&h<116)return new Wr(o+7,""+(h+7));let v=this.extractNumericValueFromBitArray(o,8),b;switch(v){case 232:b="!";break;case 233:b='"';break;case 234:b="%";break;case 235:b="&";break;case 236:b="'";break;case 237:b="(";break;case 238:b=")";break;case 239:b="*";break;case 240:b="+";break;case 241:b=",";break;case 242:b="-";break;case 243:b=".";break;case 244:b="/";break;case 245:b=":";break;case 246:b=";";break;case 247:b="<";break;case 248:b="=";break;case 249:b=">";break;case 250:b="?";break;case 251:b="_";break;case 252:b=" ";break;default:throw new V}return new Wr(o+8,b)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(o,5);if(d>=5&&d<16)return!0;if(o+6>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(o,6);return h>=16&&h<63}decodeAlphanumeric(o){let d=this.extractNumericValueFromBitArray(o,5);if(d===15)return new Wr(o+5,Wr.FNC1);if(d>=5&&d<15)return new Wr(o+5,"0"+(d-5));let h=this.extractNumericValueFromBitArray(o,6);if(h>=32&&h<58)return new Wr(o+6,""+(h+33));let v;switch(h){case 58:v="*";break;case 59:v=",";break;case 60:v="-";break;case 61:v=".";break;case 62:v="/";break;default:throw new Be("Decoding invalid alphanumeric value: "+h)}return new Wr(o+6,v)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let d=0;d<5&&d+o<this.information.getSize();++d)if(d===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+d))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let d=o;d<o+3;++d)if(this.information.get(d))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let d=0;d<4&&d+o<this.information.getSize();++d)if(this.information.get(o+d))return!1;return!0}}class Ft{constructor(o){this.information=o,this.generalDecoder=new bt(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Pe extends Ft{constructor(o){super(o)}encodeCompressedGtin(o,d){o.append("(01)");let h=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,d,h)}encodeCompressedGtinWithoutAI(o,d,h){for(let v=0;v<4;++v){let b=this.getGeneralDecoder().extractNumericValueFromBitArray(d+10*v,10);b/100===0&&o.append("0"),b/10===0&&o.append("0"),o.append(b)}Pe.appendCheckDigit(o,h)}static appendCheckDigit(o,d){let h=0;for(let v=0;v<13;v++){let b=o.charAt(v+d).charCodeAt(0)-48;h+=v&1?b:3*b}h=10-h%10,h===10&&(h=0),o.append(h)}}Pe.GTIN_SIZE=40;class mt extends Pe{constructor(o){super(o)}parseInformation(){let o=new me;o.append("(01)");let d=o.length(),h=this.getGeneralDecoder().extractNumericValueFromBitArray(mt.HEADER_SIZE,4);return o.append(h),this.encodeCompressedGtinWithoutAI(o,mt.HEADER_SIZE+4,d),this.getGeneralDecoder().decodeAllCodes(o,mt.HEADER_SIZE+44)}}mt.HEADER_SIZE=4;class xt extends Ft{constructor(o){super(o)}parseInformation(){let o=new me;return this.getGeneralDecoder().decodeAllCodes(o,xt.HEADER_SIZE)}}xt.HEADER_SIZE=5;class Tt extends Pe{constructor(o){super(o)}encodeCompressedWeight(o,d,h){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(d,h);this.addWeightCode(o,v);let b=this.checkWeight(v),A=1e5;for(let C=0;C<5;++C)b/A===0&&o.append("0"),A/=10;o.append(b)}}class ht extends Tt{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=ht.HEADER_SIZE+Tt.GTIN_SIZE+ht.WEIGHT_SIZE)throw new q;let o=new me;return this.encodeCompressedGtin(o,ht.HEADER_SIZE),this.encodeCompressedWeight(o,ht.HEADER_SIZE+Tt.GTIN_SIZE,ht.WEIGHT_SIZE),o.toString()}}ht.HEADER_SIZE=5,ht.WEIGHT_SIZE=15;class wt extends ht{constructor(o){super(o)}addWeightCode(o,d){o.append("(3103)")}checkWeight(o){return o}}class Yt extends ht{constructor(o){super(o)}addWeightCode(o,d){d<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class Vt extends Pe{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Vt.HEADER_SIZE+Pe.GTIN_SIZE)throw new q;let o=new me;this.encodeCompressedGtin(o,Vt.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(Vt.HEADER_SIZE+Pe.GTIN_SIZE,Vt.LAST_DIGIT_SIZE);o.append("(392"),o.append(d),o.append(")");let h=this.getGeneralDecoder().decodeGeneralPurposeField(Vt.HEADER_SIZE+Pe.GTIN_SIZE+Vt.LAST_DIGIT_SIZE,null);return o.append(h.getNewString()),o.toString()}}Vt.HEADER_SIZE=8,Vt.LAST_DIGIT_SIZE=2;class Xt extends Pe{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Xt.HEADER_SIZE+Pe.GTIN_SIZE)throw new q;let o=new me;this.encodeCompressedGtin(o,Xt.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(Xt.HEADER_SIZE+Pe.GTIN_SIZE,Xt.LAST_DIGIT_SIZE);o.append("(393"),o.append(d),o.append(")");let h=this.getGeneralDecoder().extractNumericValueFromBitArray(Xt.HEADER_SIZE+Pe.GTIN_SIZE+Xt.LAST_DIGIT_SIZE,Xt.FIRST_THREE_DIGITS_SIZE);h/100==0&&o.append("0"),h/10==0&&o.append("0"),o.append(h);let v=this.getGeneralDecoder().decodeGeneralPurposeField(Xt.HEADER_SIZE+Pe.GTIN_SIZE+Xt.LAST_DIGIT_SIZE+Xt.FIRST_THREE_DIGITS_SIZE,null);return o.append(v.getNewString()),o.toString()}}Xt.HEADER_SIZE=8,Xt.LAST_DIGIT_SIZE=2,Xt.FIRST_THREE_DIGITS_SIZE=10;class er extends Tt{constructor(o,d,h){super(o),this.dateCode=h,this.firstAIdigits=d}parseInformation(){if(this.getInformation().getSize()!=er.HEADER_SIZE+er.GTIN_SIZE+er.WEIGHT_SIZE+er.DATE_SIZE)throw new q;let o=new me;return this.encodeCompressedGtin(o,er.HEADER_SIZE),this.encodeCompressedWeight(o,er.HEADER_SIZE+er.GTIN_SIZE,er.WEIGHT_SIZE),this.encodeCompressedDate(o,er.HEADER_SIZE+er.GTIN_SIZE+er.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,d){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(d,er.DATE_SIZE);if(h==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let v=h%32;h/=32;let b=h%12+1;h/=12;let A=h;A/10==0&&o.append("0"),o.append(A),b/10==0&&o.append("0"),o.append(b),v/10==0&&o.append("0"),o.append(v)}addWeightCode(o,d){o.append("("),o.append(this.firstAIdigits),o.append(d/1e5),o.append(")")}checkWeight(o){return o%1e5}}er.HEADER_SIZE=8,er.WEIGHT_SIZE=20,er.DATE_SIZE=16;function Zr(he){try{if(he.get(1))return new mt(he);if(!he.get(2))return new xt(he);switch(bt.extractNumericValueFromBitArray(he,1,4)){case 4:return new wt(he);case 5:return new Yt(he)}switch(bt.extractNumericValueFromBitArray(he,1,5)){case 12:return new Vt(he);case 13:return new Xt(he)}switch(bt.extractNumericValueFromBitArray(he,1,7)){case 56:return new er(he,"310","11");case 57:return new er(he,"320","11");case 58:return new er(he,"310","13");case 59:return new er(he,"320","13");case 60:return new er(he,"310","15");case 61:return new er(he,"320","15");case 62:return new er(he,"310","17");case 63:return new er(he,"320","17")}}catch(o){throw console.log(o),new Be("unknown decoder: "+he)}}class _n{constructor(o,d,h,v){this.leftchar=o,this.rightchar=d,this.finderpattern=h,this.maybeLast=v}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,d){return o instanceof _n?_n.equalsOrNull(o.leftchar,d.leftchar)&&_n.equalsOrNull(o.rightchar,d.rightchar)&&_n.equalsOrNull(o.finderpattern,d.finderpattern):!1}static equalsOrNull(o,d){return o===null?d===null:_n.equals(o,d)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class cn{constructor(o,d,h){this.pairs=o,this.rowNumber=d,this.wasReversed=h}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,d){return o instanceof cn?this.checkEqualitity(o,d)&&o.wasReversed===d.wasReversed:!1}checkEqualitity(o,d){if(!o||!d)return;let h;return o.forEach((v,b)=>{d.forEach(A=>{v.getLeftChar().getValue()===A.getLeftChar().getValue()&&v.getRightChar().getValue()===A.getRightChar().getValue()&&v.getFinderPatter().getValue()===A.getFinderPatter().getValue()&&(h=!0)})}),h}}class Nt extends Gr{constructor(o){super(...arguments),this.pairs=new Array(Nt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,d,h){this.pairs.length=0,this.startFromEven=!1;try{return Nt.constructResult(this.decodeRow2pairs(o,d))}catch(v){this.verbose&&console.log(v)}return this.pairs.length=0,this.startFromEven=!0,Nt.constructResult(this.decodeRow2pairs(o,d))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,d){let h=!1;for(;!h;)try{this.pairs.push(this.retrieveNextPair(d,this.pairs,o))}catch(b){if(b instanceof q){if(!this.pairs.length)throw new q;h=!0}}if(this.checkChecksum())return this.pairs;let v;if(this.rows.length?v=!0:v=!1,this.storeRow(o,!1),v){let b=this.checkRowsBoolean(!1);if(b!=null||(b=this.checkRowsBoolean(!0),b!=null))return b}throw new q}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let d=null;try{d=this.checkRows(new Array,0)}catch(h){this.verbose&&console.log(h)}return o&&(this.rows=this.rows.reverse()),d}checkRows(o,d){for(let h=d;h<this.rows.length;h++){let v=this.rows[h];this.pairs.length=0;for(let A of o)this.pairs.push(A.getPairs());if(this.pairs.push(v.getPairs()),!Nt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let b=new Array(o);b.push(v);try{return this.checkRows(b,h+1)}catch(A){this.verbose&&console.log(A)}}throw new q}static isValidSequence(o){for(let d of Nt.FINDER_PATTERN_SEQUENCES){if(o.length>d.length)continue;let h=!0;for(let v=0;v<o.length;v++)if(o[v].getFinderPattern().getValue()!=d[v]){h=!1;break}if(h)return!0}return!1}storeRow(o,d){let h=0,v=!1,b=!1;for(;h<this.rows.length;){let A=this.rows[h];if(A.getRowNumber()>o){b=A.isEquivalent(this.pairs);break}v=A.isEquivalent(this.pairs),h++}b||v||Nt.isPartialRow(this.pairs,this.rows)||(this.rows.push(h,new cn(this.pairs,o,d)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,d){for(let h of d)if(h.getPairs().length!==o.length){for(let v of h.getPairs())for(let b of o)if(_n.equals(v,b))break}}static isPartialRow(o,d){for(let h of d){let v=!0;for(let b of o){let A=!1;for(let C of h.getPairs())if(b.equals(C)){A=!0;break}if(!A){v=!1;break}}if(v)return!0}return!1}getRows(){return this.rows}static constructResult(o){let d=Za.buildBitArray(o),v=Zr(d).parseInformation(),b=o[0].getFinderPattern().getResultPoints(),A=o[o.length-1].getFinderPattern().getResultPoints(),C=[b[0],b[1],A[0],A[1]];return new se(v,null,null,C,ne.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),d=o.getLeftChar(),h=o.getRightChar();if(h==null)return!1;let v=h.getChecksumPortion(),b=2;for(let C=1;C<this.pairs.size();++C){let D=this.pairs.get(C);v+=D.getLeftChar().getChecksumPortion(),b++;let B=D.getRightChar();B!=null&&(v+=B.getChecksumPortion(),b++)}return v%=211,211*(b-4)+v==d.getValue()}static getNextSecondBar(o,d){let h;return o.get(d)?(h=o.getNextUnset(d),h=o.getNextSet(h)):(h=o.getNextSet(d),h=o.getNextUnset(h)),h}retrieveNextPair(o,d,h){let v=d.length%2==0;this.startFromEven&&(v=!v);let b,A=!0,C=-1;do this.findNextPair(o,d,C),b=this.parseFoundFinderPattern(o,h,v),b==null?C=Nt.getNextSecondBar(o,this.startEnd[0]):A=!1;while(A);let D=this.decodeDataCharacter(o,b,v,!0);if(!this.isEmptyPair(d)&&d[d.length-1].mustBeLast())throw new q;let B;try{B=this.decodeDataCharacter(o,b,v,!1)}catch(K){B=null,this.verbose&&console.log(K)}return new _n(D,B,b,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,d,h){let v=this.getDecodeFinderCounters();v[0]=0,v[1]=0,v[2]=0,v[3]=0;let b=o.getSize(),A;h>=0?A=h:this.isEmptyPair(d)?A=0:A=d[d.length-1].getFinderPattern().getStartEnd()[1];let C=d.length%2!=0;this.startFromEven&&(C=!C);let D=!1;for(;A<b&&(D=!o.get(A),!!D);)A++;let B=0,K=A;for(let fe=A;fe<b;fe++)if(o.get(fe)!=D)v[B]++;else{if(B==3){if(C&&Nt.reverseCounters(v),Nt.isFinderPattern(v)){this.startEnd[0]=K,this.startEnd[1]=fe;return}C&&Nt.reverseCounters(v),K+=v[0]+v[1],v[0]=v[2],v[1]=v[3],v[2]=0,v[3]=0,B--}else B++;v[B]=1,D=!D}throw new q}static reverseCounters(o){let d=o.length;for(let h=0;h<d/2;++h){let v=o[h];o[h]=o[d-h-1],o[d-h-1]=v}}parseFoundFinderPattern(o,d,h){let v,b,A;if(h){let B=this.startEnd[0]-1;for(;B>=0&&!o.get(B);)B--;B++,v=this.startEnd[0]-B,b=B,A=this.startEnd[1]}else b=this.startEnd[0],A=o.getNextUnset(this.startEnd[1]+1),v=A-this.startEnd[1];let C=this.getDecodeFinderCounters();_.arraycopy(C,0,C,1,C.length-1),C[0]=v;let D;try{D=this.parseFinderValue(C,Nt.FINDER_PATTERNS)}catch{return null}return new la(D,[b,A],b,A,d)}decodeDataCharacter(o,d,h,v){let b=this.getDataCharacterCounters();for(let on=0;on<b.length;on++)b[on]=0;if(v)Nt.recordPatternInReverse(o,d.getStartEnd()[0],b);else{Nt.recordPattern(o,d.getStartEnd()[1],b);for(let on=0,wa=b.length-1;on<wa;on++,wa--){let Ya=b[on];b[on]=b[wa],b[wa]=Ya}}let A=17,C=Re.sum(new Int32Array(b))/A,D=(d.getStartEnd()[1]-d.getStartEnd()[0])/15;if(Math.abs(C-D)/D>.3)throw new q;let B=this.getOddCounts(),K=this.getEvenCounts(),fe=this.getOddRoundingErrors(),we=this.getEvenRoundingErrors();for(let on=0;on<b.length;on++){let wa=1*b[on]/C,Ya=wa+.5;if(Ya<1){if(wa<.3)throw new q;Ya=1}else if(Ya>8){if(wa>8.7)throw new q;Ya=8}let xs=on/2;on&1?(K[xs]=Ya,we[xs]=wa-Ya):(B[xs]=Ya,fe[xs]=wa-Ya)}this.adjustOddEvenCounts(A);let De=4*d.getValue()+(h?0:2)+(v?0:1)-1,ze=0,He=0;for(let on=B.length-1;on>=0;on--){if(Nt.isNotA1left(d,h,v)){let wa=Nt.WEIGHTS[De][2*on];He+=B[on]*wa}ze+=B[on]}let Xe=0;for(let on=K.length-1;on>=0;on--)if(Nt.isNotA1left(d,h,v)){let wa=Nt.WEIGHTS[De][2*on+1];Xe+=K[on]*wa}let dt=He+Xe;if(ze&1||ze>13||ze<4)throw new q;let Lt=(13-ze)/2,Pt=Nt.SYMBOL_WIDEST[Lt],Mt=9-Pt,Fr=or.getRSSvalue(B,Pt,!0),Tr=or.getRSSvalue(K,Mt,!1),Gn=Nt.EVEN_TOTAL_SUBSET[Lt],ri=Nt.GSUM[Lt],ba=Fr*Gn+Tr+ri;return new oa(ba,dt)}static isNotA1left(o,d,h){return!(o.getValue()==0&&d&&h)}adjustOddEvenCounts(o){let d=Re.sum(new Int32Array(this.getOddCounts())),h=Re.sum(new Int32Array(this.getEvenCounts())),v=!1,b=!1;d>13?b=!0:d<4&&(v=!0);let A=!1,C=!1;h>13?C=!0:h<4&&(A=!0);let D=d+h-o,B=(d&1)==1,K=(h&1)==0;if(D==1)if(B){if(K)throw new q;b=!0}else{if(!K)throw new q;C=!0}else if(D==-1)if(B){if(K)throw new q;v=!0}else{if(!K)throw new q;A=!0}else if(D==0){if(B){if(!K)throw new q;d<h?(v=!0,C=!0):(b=!0,A=!0)}else if(K)throw new q}else throw new q;if(v){if(b)throw new q;Nt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(b&&Nt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),A){if(C)throw new q;Nt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&Nt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Nt.SYMBOL_WIDEST=[7,5,4,3,1],Nt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Nt.GSUM=[0,348,1388,2948,3988],Nt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Nt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Nt.FINDER_PAT_A=0,Nt.FINDER_PAT_B=1,Nt.FINDER_PAT_C=2,Nt.FINDER_PAT_D=3,Nt.FINDER_PAT_E=4,Nt.FINDER_PAT_F=5,Nt.FINDER_PATTERN_SEQUENCES=[[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_C,Nt.FINDER_PAT_B,Nt.FINDER_PAT_D],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_E,Nt.FINDER_PAT_B,Nt.FINDER_PAT_D,Nt.FINDER_PAT_C],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_E,Nt.FINDER_PAT_B,Nt.FINDER_PAT_D,Nt.FINDER_PAT_D,Nt.FINDER_PAT_F],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_E,Nt.FINDER_PAT_B,Nt.FINDER_PAT_D,Nt.FINDER_PAT_E,Nt.FINDER_PAT_F,Nt.FINDER_PAT_F],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B,Nt.FINDER_PAT_C,Nt.FINDER_PAT_C,Nt.FINDER_PAT_D,Nt.FINDER_PAT_D],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B,Nt.FINDER_PAT_C,Nt.FINDER_PAT_C,Nt.FINDER_PAT_D,Nt.FINDER_PAT_E,Nt.FINDER_PAT_E],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B,Nt.FINDER_PAT_C,Nt.FINDER_PAT_C,Nt.FINDER_PAT_D,Nt.FINDER_PAT_E,Nt.FINDER_PAT_F,Nt.FINDER_PAT_F],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B,Nt.FINDER_PAT_C,Nt.FINDER_PAT_D,Nt.FINDER_PAT_D,Nt.FINDER_PAT_E,Nt.FINDER_PAT_E,Nt.FINDER_PAT_F,Nt.FINDER_PAT_F]],Nt.MAX_PAIRS=11;class ui extends oa{constructor(o,d,h){super(o,d),this.count=0,this.finderPattern=h}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Rr extends Gr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,d,h){const v=this.decodePair(d,!1,o,h);Rr.addOrTally(this.possibleLeftPairs,v),d.reverse();let b=this.decodePair(d,!0,o,h);Rr.addOrTally(this.possibleRightPairs,b),d.reverse();for(let A of this.possibleLeftPairs)if(A.getCount()>1){for(let C of this.possibleRightPairs)if(C.getCount()>1&&Rr.checkChecksum(A,C))return Rr.constructResult(A,C)}throw new q}static addOrTally(o,d){if(d==null)return;let h=!1;for(let v of o)if(v.getValue()===d.getValue()){v.incrementCount(),h=!0;break}h||o.push(d)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,d){let h=4537077*o.getValue()+d.getValue(),v=new String(h).toString(),b=new me;for(let B=13-v.length;B>0;B--)b.append("0");b.append(v);let A=0;for(let B=0;B<13;B++){let K=b.charAt(B).charCodeAt(0)-48;A+=B&1?K:3*K}A=10-A%10,A===10&&(A=0),b.append(A.toString());let C=o.getFinderPattern().getResultPoints(),D=d.getFinderPattern().getResultPoints();return new se(b.toString(),null,0,[C[0],C[1],D[0],D[1]],ne.RSS_14,new Date().getTime())}static checkChecksum(o,d){let h=(o.getChecksumPortion()+16*d.getChecksumPortion())%79,v=9*o.getFinderPattern().getValue()+d.getFinderPattern().getValue();return v>72&&v--,v>8&&v--,h===v}decodePair(o,d,h,v){try{let b=this.findFinderPattern(o,d),A=this.parseFoundFinderPattern(o,h,d,b),C=v==null?null:v.get(J.NEED_RESULT_POINT_CALLBACK);if(C!=null){let K=(b[0]+b[1])/2;d&&(K=o.getSize()-1-K),C.foundPossibleResultPoint(new Fe(K,h))}let D=this.decodeDataCharacter(o,A,!0),B=this.decodeDataCharacter(o,A,!1);return new ui(1597*D.getValue()+B.getValue(),D.getChecksumPortion()+4*B.getChecksumPortion(),A)}catch{return null}}decodeDataCharacter(o,d,h){let v=this.getDataCharacterCounters();for(let Xe=0;Xe<v.length;Xe++)v[Xe]=0;if(h)Ht.recordPatternInReverse(o,d.getStartEnd()[0],v);else{Ht.recordPattern(o,d.getStartEnd()[1]+1,v);for(let Xe=0,dt=v.length-1;Xe<dt;Xe++,dt--){let Lt=v[Xe];v[Xe]=v[dt],v[dt]=Lt}}let b=h?16:15,A=Re.sum(new Int32Array(v))/b,C=this.getOddCounts(),D=this.getEvenCounts(),B=this.getOddRoundingErrors(),K=this.getEvenRoundingErrors();for(let Xe=0;Xe<v.length;Xe++){let dt=v[Xe]/A,Lt=Math.floor(dt+.5);Lt<1?Lt=1:Lt>8&&(Lt=8);let Pt=Math.floor(Xe/2);Xe&1?(D[Pt]=Lt,K[Pt]=dt-Lt):(C[Pt]=Lt,B[Pt]=dt-Lt)}this.adjustOddEvenCounts(h,b);let fe=0,we=0;for(let Xe=C.length-1;Xe>=0;Xe--)we*=9,we+=C[Xe],fe+=C[Xe];let De=0,ze=0;for(let Xe=D.length-1;Xe>=0;Xe--)De*=9,De+=D[Xe],ze+=D[Xe];let He=we+3*De;if(h){if(fe&1||fe>12||fe<4)throw new q;let Xe=(12-fe)/2,dt=Rr.OUTSIDE_ODD_WIDEST[Xe],Lt=9-dt,Pt=or.getRSSvalue(C,dt,!1),Mt=or.getRSSvalue(D,Lt,!0),Fr=Rr.OUTSIDE_EVEN_TOTAL_SUBSET[Xe],Tr=Rr.OUTSIDE_GSUM[Xe];return new oa(Pt*Fr+Mt+Tr,He)}else{if(ze&1||ze>10||ze<4)throw new q;let Xe=(10-ze)/2,dt=Rr.INSIDE_ODD_WIDEST[Xe],Lt=9-dt,Pt=or.getRSSvalue(C,dt,!0),Mt=or.getRSSvalue(D,Lt,!1),Fr=Rr.INSIDE_ODD_TOTAL_SUBSET[Xe],Tr=Rr.INSIDE_GSUM[Xe];return new oa(Mt*Fr+Pt+Tr,He)}}findFinderPattern(o,d){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let v=o.getSize(),b=!1,A=0;for(;A<v&&(b=!o.get(A),d!==b);)A++;let C=0,D=A;for(let B=A;B<v;B++)if(o.get(B)!==b)h[C]++;else{if(C===3){if(Gr.isFinderPattern(h))return[D,B];D+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,C--}else C++;h[C]=1,b=!b}throw new q}parseFoundFinderPattern(o,d,h,v){let b=o.get(v[0]),A=v[0]-1;for(;A>=0&&b!==o.get(A);)A--;A++;const C=v[0]-A,D=this.getDecodeFinderCounters(),B=new Int32Array(D.length);_.arraycopy(D,0,B,1,D.length-1),B[0]=C;const K=this.parseFinderValue(B,Rr.FINDER_PATTERNS);let fe=A,we=v[1];return h&&(fe=o.getSize()-1-fe,we=o.getSize()-1-we),new la(K,[A,v[1]],fe,we,d)}adjustOddEvenCounts(o,d){let h=Re.sum(new Int32Array(this.getOddCounts())),v=Re.sum(new Int32Array(this.getEvenCounts())),b=!1,A=!1,C=!1,D=!1;o?(h>12?A=!0:h<4&&(b=!0),v>12?D=!0:v<4&&(C=!0)):(h>11?A=!0:h<5&&(b=!0),v>10?D=!0:v<4&&(C=!0));let B=h+v-d,K=(h&1)===(o?1:0),fe=(v&1)===1;if(B===1)if(K){if(fe)throw new q;A=!0}else{if(!fe)throw new q;D=!0}else if(B===-1)if(K){if(fe)throw new q;b=!0}else{if(!fe)throw new q;C=!0}else if(B===0){if(K){if(!fe)throw new q;h<v?(b=!0,D=!0):(A=!0,C=!0)}else if(fe)throw new q}else throw new q;if(b){if(A)throw new q;Gr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(A&&Gr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),C){if(D)throw new q;Gr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}D&&Gr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Rr.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Rr.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Rr.OUTSIDE_GSUM=[0,161,961,2015,2715],Rr.INSIDE_GSUM=[0,336,1036,1516],Rr.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Rr.INSIDE_ODD_WIDEST=[2,4,6,8],Rr.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Hn extends Ht{constructor(o,d){super(),this.readers=[],this.verbose=d===!0;const h=o?o.get(J.POSSIBLE_FORMATS):null,v=o&&o.get(J.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;h?((h.includes(ne.EAN_13)||h.includes(ne.UPC_A)||h.includes(ne.EAN_8)||h.includes(ne.UPC_E))&&this.readers.push(new Ji(o)),h.includes(ne.CODE_39)&&this.readers.push(new rr(v)),h.includes(ne.CODE_128)&&this.readers.push(new Ct),h.includes(ne.ITF)&&this.readers.push(new Jt),h.includes(ne.RSS_14)&&this.readers.push(new Rr),h.includes(ne.RSS_EXPANDED)&&this.readers.push(new Nt(this.verbose))):(this.readers.push(new Ji(o)),this.readers.push(new rr),this.readers.push(new Ji(o)),this.readers.push(new Ct),this.readers.push(new Jt),this.readers.push(new Rr),this.readers.push(new Nt(this.verbose)))}decodeRow(o,d,h){for(let v=0;v<this.readers.length;v++)try{return this.readers[v].decodeRow(o,d,h)}catch{}throw new q}reset(){this.readers.forEach(o=>o.reset())}}class Lo extends H{constructor(o=500,d){super(new Hn(d),o,d)}}class qr{constructor(o,d,h){this.ecCodewords=o,this.ecBlocks=[d],h&&this.ecBlocks.push(h)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Lr{constructor(o,d){this.count=o,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Mr{constructor(o,d,h,v,b,A){this.versionNumber=o,this.symbolSizeRows=d,this.symbolSizeColumns=h,this.dataRegionSizeRows=v,this.dataRegionSizeColumns=b,this.ecBlocks=A;let C=0;const D=A.getECCodewords(),B=A.getECBlocks();for(let K of B)C+=K.getCount()*(K.getDataCodewords()+D);this.totalCodewords=C}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,d){if(o&1||d&1)throw new V;for(let h of Mr.VERSIONS)if(h.symbolSizeRows===o&&h.symbolSizeColumns===d)return h;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new Mr(1,10,10,8,8,new qr(5,new Lr(1,3))),new Mr(2,12,12,10,10,new qr(7,new Lr(1,5))),new Mr(3,14,14,12,12,new qr(10,new Lr(1,8))),new Mr(4,16,16,14,14,new qr(12,new Lr(1,12))),new Mr(5,18,18,16,16,new qr(14,new Lr(1,18))),new Mr(6,20,20,18,18,new qr(18,new Lr(1,22))),new Mr(7,22,22,20,20,new qr(20,new Lr(1,30))),new Mr(8,24,24,22,22,new qr(24,new Lr(1,36))),new Mr(9,26,26,24,24,new qr(28,new Lr(1,44))),new Mr(10,32,32,14,14,new qr(36,new Lr(1,62))),new Mr(11,36,36,16,16,new qr(42,new Lr(1,86))),new Mr(12,40,40,18,18,new qr(48,new Lr(1,114))),new Mr(13,44,44,20,20,new qr(56,new Lr(1,144))),new Mr(14,48,48,22,22,new qr(68,new Lr(1,174))),new Mr(15,52,52,24,24,new qr(42,new Lr(2,102))),new Mr(16,64,64,14,14,new qr(56,new Lr(2,140))),new Mr(17,72,72,16,16,new qr(36,new Lr(4,92))),new Mr(18,80,80,18,18,new qr(48,new Lr(4,114))),new Mr(19,88,88,20,20,new qr(56,new Lr(4,144))),new Mr(20,96,96,22,22,new qr(68,new Lr(4,174))),new Mr(21,104,104,24,24,new qr(56,new Lr(6,136))),new Mr(22,120,120,18,18,new qr(68,new Lr(6,175))),new Mr(23,132,132,20,20,new qr(62,new Lr(8,163))),new Mr(24,144,144,22,22,new qr(62,new Lr(8,156),new Lr(2,155))),new Mr(25,8,18,6,16,new qr(7,new Lr(1,5))),new Mr(26,8,32,6,14,new qr(11,new Lr(1,10))),new Mr(27,12,26,10,24,new qr(14,new Lr(1,16))),new Mr(28,12,36,10,16,new qr(18,new Lr(1,22))),new Mr(29,16,36,14,16,new qr(24,new Lr(1,32))),new Mr(30,16,48,14,22,new qr(28,new Lr(1,49)))]}}Mr.VERSIONS=Mr.buildVersions();class Vs{constructor(o){const d=o.getHeight();if(d<8||d>144||d&1)throw new V;this.version=Vs.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new re(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const d=o.getHeight(),h=o.getWidth();return Mr.getVersionForDimensions(d,h)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let d=0,h=4,v=0;const b=this.mappingBitMatrix.getHeight(),A=this.mappingBitMatrix.getWidth();let C=!1,D=!1,B=!1,K=!1;do if(h===b&&v===0&&!C)o[d++]=this.readCorner1(b,A)&255,h-=2,v+=2,C=!0;else if(h===b-2&&v===0&&A&3&&!D)o[d++]=this.readCorner2(b,A)&255,h-=2,v+=2,D=!0;else if(h===b+4&&v===2&&!(A&7)&&!B)o[d++]=this.readCorner3(b,A)&255,h-=2,v+=2,B=!0;else if(h===b-2&&v===0&&(A&7)===4&&!K)o[d++]=this.readCorner4(b,A)&255,h-=2,v+=2,K=!0;else{do h<b&&v>=0&&!this.readMappingMatrix.get(v,h)&&(o[d++]=this.readUtah(h,v,b,A)&255),h-=2,v+=2;while(h>=0&&v<A);h+=1,v+=3;do h>=0&&v<A&&!this.readMappingMatrix.get(v,h)&&(o[d++]=this.readUtah(h,v,b,A)&255),h+=2,v-=2;while(h<b&&v>=0);h+=3,v+=1}while(h<b||v<A);if(d!==this.version.getTotalCodewords())throw new V;return o}readModule(o,d,h,v){return o<0&&(o+=h,d+=4-(h+4&7)),d<0&&(d+=v,o+=4-(v+4&7)),this.readMappingMatrix.set(d,o),this.mappingBitMatrix.get(d,o)}readUtah(o,d,h,v){let b=0;return this.readModule(o-2,d-2,h,v)&&(b|=1),b<<=1,this.readModule(o-2,d-1,h,v)&&(b|=1),b<<=1,this.readModule(o-1,d-2,h,v)&&(b|=1),b<<=1,this.readModule(o-1,d-1,h,v)&&(b|=1),b<<=1,this.readModule(o-1,d,h,v)&&(b|=1),b<<=1,this.readModule(o,d-2,h,v)&&(b|=1),b<<=1,this.readModule(o,d-1,h,v)&&(b|=1),b<<=1,this.readModule(o,d,h,v)&&(b|=1),b}readCorner1(o,d){let h=0;return this.readModule(o-1,0,o,d)&&(h|=1),h<<=1,this.readModule(o-1,1,o,d)&&(h|=1),h<<=1,this.readModule(o-1,2,o,d)&&(h|=1),h<<=1,this.readModule(0,d-2,o,d)&&(h|=1),h<<=1,this.readModule(0,d-1,o,d)&&(h|=1),h<<=1,this.readModule(1,d-1,o,d)&&(h|=1),h<<=1,this.readModule(2,d-1,o,d)&&(h|=1),h<<=1,this.readModule(3,d-1,o,d)&&(h|=1),h}readCorner2(o,d){let h=0;return this.readModule(o-3,0,o,d)&&(h|=1),h<<=1,this.readModule(o-2,0,o,d)&&(h|=1),h<<=1,this.readModule(o-1,0,o,d)&&(h|=1),h<<=1,this.readModule(0,d-4,o,d)&&(h|=1),h<<=1,this.readModule(0,d-3,o,d)&&(h|=1),h<<=1,this.readModule(0,d-2,o,d)&&(h|=1),h<<=1,this.readModule(0,d-1,o,d)&&(h|=1),h<<=1,this.readModule(1,d-1,o,d)&&(h|=1),h}readCorner3(o,d){let h=0;return this.readModule(o-1,0,o,d)&&(h|=1),h<<=1,this.readModule(o-1,d-1,o,d)&&(h|=1),h<<=1,this.readModule(0,d-3,o,d)&&(h|=1),h<<=1,this.readModule(0,d-2,o,d)&&(h|=1),h<<=1,this.readModule(0,d-1,o,d)&&(h|=1),h<<=1,this.readModule(1,d-3,o,d)&&(h|=1),h<<=1,this.readModule(1,d-2,o,d)&&(h|=1),h<<=1,this.readModule(1,d-1,o,d)&&(h|=1),h}readCorner4(o,d){let h=0;return this.readModule(o-3,0,o,d)&&(h|=1),h<<=1,this.readModule(o-2,0,o,d)&&(h|=1),h<<=1,this.readModule(o-1,0,o,d)&&(h|=1),h<<=1,this.readModule(0,d-2,o,d)&&(h|=1),h<<=1,this.readModule(0,d-1,o,d)&&(h|=1),h<<=1,this.readModule(1,d-1,o,d)&&(h|=1),h<<=1,this.readModule(2,d-1,o,d)&&(h|=1),h<<=1,this.readModule(3,d-1,o,d)&&(h|=1),h}extractDataRegion(o){const d=this.version.getSymbolSizeRows(),h=this.version.getSymbolSizeColumns();if(o.getHeight()!==d)throw new y("Dimension of bitMatrix must match the version size");const v=this.version.getDataRegionSizeRows(),b=this.version.getDataRegionSizeColumns(),A=d/v|0,C=h/b|0,D=A*v,B=C*b,K=new re(B,D);for(let fe=0;fe<A;++fe){const we=fe*v;for(let De=0;De<C;++De){const ze=De*b;for(let He=0;He<v;++He){const Xe=fe*(v+2)+1+He,dt=we+He;for(let Lt=0;Lt<b;++Lt){const Pt=De*(b+2)+1+Lt;if(o.get(Pt,Xe)){const Mt=ze+Lt;K.set(Mt,dt)}}}}}return K}}class Ln{constructor(o,d){this.numDataCodewords=o,this.codewords=d}static getDataBlocks(o,d){const h=d.getECBlocks();let v=0;const b=h.getECBlocks();for(let He of b)v+=He.getCount();const A=new Array(v);let C=0;for(let He of b)for(let Xe=0;Xe<He.getCount();Xe++){const dt=He.getDataCodewords(),Lt=h.getECCodewords()+dt;A[C++]=new Ln(dt,new Uint8Array(Lt))}const B=A[0].codewords.length-h.getECCodewords(),K=B-1;let fe=0;for(let He=0;He<K;He++)for(let Xe=0;Xe<C;Xe++)A[Xe].codewords[He]=o[fe++];const we=d.getVersionNumber()===24,De=we?8:C;for(let He=0;He<De;He++)A[He].codewords[B-1]=o[fe++];const ze=A[0].codewords.length;for(let He=B;He<ze;He++)for(let Xe=0;Xe<C;Xe++){const dt=we?(Xe+8)%C:Xe,Lt=we&&dt>7?He-1:He;A[dt].codewords[Lt]=o[fe++]}if(fe!==o.length)throw new y;return A}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Jr{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new y(""+o);let d=0,h=this.bitOffset,v=this.byteOffset;const b=this.bytes;if(h>0){const A=8-h,C=o<A?o:A,D=A-C,B=255>>8-C<<D;d=(b[v]&B)>>D,o-=C,h+=C,h===8&&(h=0,v++)}if(o>0){for(;o>=8;)d=d<<8|b[v]&255,v++,o-=8;if(o>0){const A=8-o,C=255>>A<<A;d=d<<o|(b[v]&C)>>A,h+=o}}return this.bitOffset=h,this.byteOffset=v,d}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Cr;(function(he){he[he.PAD_ENCODE=0]="PAD_ENCODE",he[he.ASCII_ENCODE=1]="ASCII_ENCODE",he[he.C40_ENCODE=2]="C40_ENCODE",he[he.TEXT_ENCODE=3]="TEXT_ENCODE",he[he.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",he[he.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",he[he.BASE256_ENCODE=6]="BASE256_ENCODE"})(Cr||(Cr={}));class Wa{static decode(o){const d=new Jr(o),h=new me,v=new me,b=new Array;let A=Cr.ASCII_ENCODE;do if(A===Cr.ASCII_ENCODE)A=this.decodeAsciiSegment(d,h,v);else{switch(A){case Cr.C40_ENCODE:this.decodeC40Segment(d,h);break;case Cr.TEXT_ENCODE:this.decodeTextSegment(d,h);break;case Cr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(d,h);break;case Cr.EDIFACT_ENCODE:this.decodeEdifactSegment(d,h);break;case Cr.BASE256_ENCODE:this.decodeBase256Segment(d,h,b);break;default:throw new V}A=Cr.ASCII_ENCODE}while(A!==Cr.PAD_ENCODE&&d.available()>0);return v.length()>0&&h.append(v.toString()),new pe(o,h.toString(),b.length===0?null:b,null)}static decodeAsciiSegment(o,d,h){let v=!1;do{let b=o.readBits(8);if(b===0)throw new V;if(b<=128)return v&&(b+=128),d.append(String.fromCharCode(b-1)),Cr.ASCII_ENCODE;if(b===129)return Cr.PAD_ENCODE;if(b<=229){const A=b-130;A<10&&d.append("0"),d.append(""+A)}else switch(b){case 230:return Cr.C40_ENCODE;case 231:return Cr.BASE256_ENCODE;case 232:d.append("");break;case 233:case 234:break;case 235:v=!0;break;case 236:d.append("[)>05"),h.insert(0,"");break;case 237:d.append("[)>06"),h.insert(0,"");break;case 238:return Cr.ANSIX12_ENCODE;case 239:return Cr.TEXT_ENCODE;case 240:return Cr.EDIFACT_ENCODE;case 241:break;default:if(b!==254||o.available()!==0)throw new V;break}}while(o.available()>0);return Cr.ASCII_ENCODE}static decodeC40Segment(o,d){let h=!1;const v=[];let b=0;do{if(o.available()===8)return;const A=o.readBits(8);if(A===254)return;this.parseTwoBytes(A,o.readBits(8),v);for(let C=0;C<3;C++){const D=v[C];switch(b){case 0:if(D<3)b=D+1;else if(D<this.C40_BASIC_SET_CHARS.length){const B=this.C40_BASIC_SET_CHARS[D];h?(d.append(String.fromCharCode(B.charCodeAt(0)+128)),h=!1):d.append(B)}else throw new V;break;case 1:h?(d.append(String.fromCharCode(D+128)),h=!1):d.append(String.fromCharCode(D)),b=0;break;case 2:if(D<this.C40_SHIFT2_SET_CHARS.length){const B=this.C40_SHIFT2_SET_CHARS[D];h?(d.append(String.fromCharCode(B.charCodeAt(0)+128)),h=!1):d.append(B)}else switch(D){case 27:d.append("");break;case 30:h=!0;break;default:throw new V}b=0;break;case 3:h?(d.append(String.fromCharCode(D+224)),h=!1):d.append(String.fromCharCode(D+96)),b=0;break;default:throw new V}}}while(o.available()>0)}static decodeTextSegment(o,d){let h=!1,v=[],b=0;do{if(o.available()===8)return;const A=o.readBits(8);if(A===254)return;this.parseTwoBytes(A,o.readBits(8),v);for(let C=0;C<3;C++){const D=v[C];switch(b){case 0:if(D<3)b=D+1;else if(D<this.TEXT_BASIC_SET_CHARS.length){const B=this.TEXT_BASIC_SET_CHARS[D];h?(d.append(String.fromCharCode(B.charCodeAt(0)+128)),h=!1):d.append(B)}else throw new V;break;case 1:h?(d.append(String.fromCharCode(D+128)),h=!1):d.append(String.fromCharCode(D)),b=0;break;case 2:if(D<this.TEXT_SHIFT2_SET_CHARS.length){const B=this.TEXT_SHIFT2_SET_CHARS[D];h?(d.append(String.fromCharCode(B.charCodeAt(0)+128)),h=!1):d.append(B)}else switch(D){case 27:d.append("");break;case 30:h=!0;break;default:throw new V}b=0;break;case 3:if(D<this.TEXT_SHIFT3_SET_CHARS.length){const B=this.TEXT_SHIFT3_SET_CHARS[D];h?(d.append(String.fromCharCode(B.charCodeAt(0)+128)),h=!1):d.append(B),b=0}else throw new V;break;default:throw new V}}}while(o.available()>0)}static decodeAnsiX12Segment(o,d){const h=[];do{if(o.available()===8)return;const v=o.readBits(8);if(v===254)return;this.parseTwoBytes(v,o.readBits(8),h);for(let b=0;b<3;b++){const A=h[b];switch(A){case 0:d.append("\r");break;case 1:d.append("*");break;case 2:d.append(">");break;case 3:d.append(" ");break;default:if(A<14)d.append(String.fromCharCode(A+44));else if(A<40)d.append(String.fromCharCode(A+51));else throw new V;break}}}while(o.available()>0)}static parseTwoBytes(o,d,h){let v=(o<<8)+d-1,b=Math.floor(v/1600);h[0]=b,v-=b*1600,b=Math.floor(v/40),h[1]=b,h[2]=v-b*40}static decodeEdifactSegment(o,d){do{if(o.available()<=16)return;for(let h=0;h<4;h++){let v=o.readBits(6);if(v===31){const b=8-o.getBitOffset();b!==8&&o.readBits(b);return}v&32||(v|=64),d.append(String.fromCharCode(v))}}while(o.available()>0)}static decodeBase256Segment(o,d,h){let v=1+o.getByteOffset();const b=this.unrandomize255State(o.readBits(8),v++);let A;if(b===0?A=o.available()/8|0:b<250?A=b:A=250*(b-249)+this.unrandomize255State(o.readBits(8),v++),A<0)throw new V;const C=new Uint8Array(A);for(let D=0;D<A;D++){if(o.available()<8)throw new V;C[D]=this.unrandomize255State(o.readBits(8),v++)}h.push(C);try{d.append(Z.decode(C,Q.ISO88591))}catch(D){throw new Be("Platform does not support required encoding: "+D.message)}}static unrandomize255State(o,d){const h=149*d%255+1,v=o-h;return v>=0?v:v+256}}Wa.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Wa.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Wa.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Wa.TEXT_SHIFT2_SET_CHARS=Wa.C40_SHIFT2_SET_CHARS,Wa.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class va{constructor(){this.rsDecoder=new ae(Le.DATA_MATRIX_FIELD_256)}decode(o){const d=new Vs(o),h=d.getVersion(),v=d.readCodewords(),b=Ln.getDataBlocks(v,h);let A=0;for(let B of b)A+=B.getNumDataCodewords();const C=new Uint8Array(A),D=b.length;for(let B=0;B<D;B++){const K=b[B],fe=K.getCodewords(),we=K.getNumDataCodewords();this.correctErrors(fe,we);for(let De=0;De<we;De++)C[De*D+B]=fe[De]}return Wa.decode(C)}correctErrors(o,d){const h=new Int32Array(o);try{this.rsDecoder.decode(h,o.length-d)}catch{throw new N}for(let v=0;v<d;v++)o[v]=h[v]}}class mn{constructor(o){this.image=o,this.rectangleDetector=new qt(this.image)}detect(){const o=this.rectangleDetector.detect();let d=this.detectSolid1(o);if(d=this.detectSolid2(d),d[3]=this.correctTopRight(d),!d[3])throw new q;d=this.shiftToModuleCenter(d);const h=d[0],v=d[1],b=d[2],A=d[3];let C=this.transitionsBetween(h,A)+1,D=this.transitionsBetween(b,A)+1;(C&1)===1&&(C+=1),(D&1)===1&&(D+=1),4*C<7*D&&4*D<7*C&&(C=D=Math.max(C,D));let B=mn.sampleGrid(this.image,h,v,b,A,C,D);return new et(B,[h,v,b,A])}static shiftPoint(o,d,h){let v=(d.getX()-o.getX())/(h+1),b=(d.getY()-o.getY())/(h+1);return new Fe(o.getX()+v,o.getY()+b)}static moveAway(o,d,h){let v=o.getX(),b=o.getY();return v<d?v-=1:v+=1,b<h?b-=1:b+=1,new Fe(v,b)}detectSolid1(o){let d=o[0],h=o[1],v=o[3],b=o[2],A=this.transitionsBetween(d,h),C=this.transitionsBetween(h,v),D=this.transitionsBetween(v,b),B=this.transitionsBetween(b,d),K=A,fe=[b,d,h,v];return K>C&&(K=C,fe[0]=d,fe[1]=h,fe[2]=v,fe[3]=b),K>D&&(K=D,fe[0]=h,fe[1]=v,fe[2]=b,fe[3]=d),K>B&&(fe[0]=v,fe[1]=b,fe[2]=d,fe[3]=h),fe}detectSolid2(o){let d=o[0],h=o[1],v=o[2],b=o[3],A=this.transitionsBetween(d,b),C=mn.shiftPoint(h,v,(A+1)*4),D=mn.shiftPoint(v,h,(A+1)*4),B=this.transitionsBetween(C,d),K=this.transitionsBetween(D,b);return B<K?(o[0]=d,o[1]=h,o[2]=v,o[3]=b):(o[0]=h,o[1]=v,o[2]=b,o[3]=d),o}correctTopRight(o){let d=o[0],h=o[1],v=o[2],b=o[3],A=this.transitionsBetween(d,b),C=this.transitionsBetween(h,b),D=mn.shiftPoint(d,h,(C+1)*4),B=mn.shiftPoint(v,h,(A+1)*4);A=this.transitionsBetween(D,b),C=this.transitionsBetween(B,b);let K=new Fe(b.getX()+(v.getX()-h.getX())/(A+1),b.getY()+(v.getY()-h.getY())/(A+1)),fe=new Fe(b.getX()+(d.getX()-h.getX())/(C+1),b.getY()+(d.getY()-h.getY())/(C+1));if(!this.isValid(K))return this.isValid(fe)?fe:null;if(!this.isValid(fe))return K;let we=this.transitionsBetween(D,K)+this.transitionsBetween(B,K),De=this.transitionsBetween(D,fe)+this.transitionsBetween(B,fe);return we>De?K:fe}shiftToModuleCenter(o){let d=o[0],h=o[1],v=o[2],b=o[3],A=this.transitionsBetween(d,b)+1,C=this.transitionsBetween(v,b)+1,D=mn.shiftPoint(d,h,C*4),B=mn.shiftPoint(v,h,A*4);A=this.transitionsBetween(D,b)+1,C=this.transitionsBetween(B,b)+1,(A&1)===1&&(A+=1),(C&1)===1&&(C+=1);let K=(d.getX()+h.getX()+v.getX()+b.getX())/4,fe=(d.getY()+h.getY()+v.getY()+b.getY())/4;d=mn.moveAway(d,K,fe),h=mn.moveAway(h,K,fe),v=mn.moveAway(v,K,fe),b=mn.moveAway(b,K,fe);let we,De;return D=mn.shiftPoint(d,h,C*4),D=mn.shiftPoint(D,b,A*4),we=mn.shiftPoint(h,d,C*4),we=mn.shiftPoint(we,v,A*4),B=mn.shiftPoint(v,b,C*4),B=mn.shiftPoint(B,h,A*4),De=mn.shiftPoint(b,v,C*4),De=mn.shiftPoint(De,d,A*4),[D,we,B,De]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,d,h,v,b,A,C){return lr.getInstance().sampleGrid(o,A,C,.5,.5,A-.5,.5,A-.5,C-.5,.5,C-.5,d.getX(),d.getY(),b.getX(),b.getY(),v.getX(),v.getY(),h.getX(),h.getY())}transitionsBetween(o,d){let h=Math.trunc(o.getX()),v=Math.trunc(o.getY()),b=Math.trunc(d.getX()),A=Math.trunc(d.getY()),C=Math.abs(A-v)>Math.abs(b-h);if(C){let He=h;h=v,v=He,He=b,b=A,A=He}let D=Math.abs(b-h),B=Math.abs(A-v),K=-D/2,fe=v<A?1:-1,we=h<b?1:-1,De=0,ze=this.image.get(C?v:h,C?h:v);for(let He=h,Xe=v;He!==b;He+=we){let dt=this.image.get(C?Xe:He,C?He:Xe);if(dt!==ze&&(De++,ze=dt),K+=B,K>0){if(Xe===A)break;Xe+=fe,K-=D}}return De}}class Vn{constructor(){this.decoder=new va}decode(o,d=null){let h,v;if(d!=null&&d.has(J.PURE_BARCODE)){const B=Vn.extractPureBits(o.getBlackMatrix());h=this.decoder.decode(B),v=Vn.NO_POINTS}else{const B=new mn(o.getBlackMatrix()).detect();h=this.decoder.decode(B.getBits()),v=B.getPoints()}const b=h.getRawBytes(),A=new se(h.getText(),b,8*b.length,v,ne.DATA_MATRIX,_.currentTimeMillis()),C=h.getByteSegments();C!=null&&A.putMetadata(je.BYTE_SEGMENTS,C);const D=h.getECLevel();return D!=null&&A.putMetadata(je.ERROR_CORRECTION_LEVEL,D),A}reset(){}static extractPureBits(o){const d=o.getTopLeftOnBit(),h=o.getBottomRightOnBit();if(d==null||h==null)throw new q;const v=this.moduleSize(d,o);let b=d[1];const A=h[1];let C=d[0];const B=(h[0]-C+1)/v,K=(A-b+1)/v;if(B<=0||K<=0)throw new q;const fe=v/2;b+=fe,C+=fe;const we=new re(B,K);for(let De=0;De<K;De++){const ze=b+De*v;for(let He=0;He<B;He++)o.get(C+He*v,ze)&&we.set(He,De)}return we}static moduleSize(o,d){const h=d.getWidth();let v=o[0];const b=o[1];for(;v<h&&d.get(v,b);)v++;if(v===h)throw new q;const A=v-o[0];if(A===0)throw new q;return A}}Vn.NO_POINTS=[];class wi extends H{constructor(o=500){super(new Vn,o)}}var Yr;(function(he){he[he.L=0]="L",he[he.M=1]="M",he[he.Q=2]="Q",he[he.H=3]="H"})(Yr||(Yr={}));class _r{constructor(o,d,h){this.value=o,this.stringValue=d,this.bits=h,_r.FOR_BITS.set(h,this),_r.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return _r.L;case"M":return _r.M;case"Q":return _r.Q;case"H":return _r.H;default:throw new x(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof _r))return!1;const d=o;return this.value===d.value}static forBits(o){if(o<0||o>=_r.FOR_BITS.size)throw new y;return _r.FOR_BITS.get(o)}}_r.FOR_BITS=new Map,_r.FOR_VALUE=new Map,_r.L=new _r(Yr.L,"L",1),_r.M=new _r(Yr.M,"M",0),_r.Q=new _r(Yr.Q,"Q",3),_r.H=new _r(Yr.H,"H",2);class An{constructor(o){this.errorCorrectionLevel=_r.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,d){return F.bitCount(o^d)}static decodeFormatInformation(o,d){const h=An.doDecodeFormatInformation(o,d);return h!==null?h:An.doDecodeFormatInformation(o^An.FORMAT_INFO_MASK_QR,d^An.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,d){let h=Number.MAX_SAFE_INTEGER,v=0;for(const b of An.FORMAT_INFO_DECODE_LOOKUP){const A=b[0];if(A===o||A===d)return new An(b[1]);let C=An.numBitsDiffering(o,A);C<h&&(v=b[1],h=C),o!==d&&(C=An.numBitsDiffering(d,A),C<h&&(v=b[1],h=C))}return h<=3?new An(v):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof An))return!1;const d=o;return this.errorCorrectionLevel===d.errorCorrectionLevel&&this.dataMask===d.dataMask}}An.FORMAT_INFO_MASK_QR=21522,An.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class rt{constructor(o,...d){this.ecCodewordsPerBlock=o,this.ecBlocks=d}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const d=this.ecBlocks;for(const h of d)o+=h.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Oe{constructor(o,d){this.count=o,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class sr{constructor(o,d,...h){this.versionNumber=o,this.alignmentPatternCenters=d,this.ecBlocks=h;let v=0;const b=h[0].getECCodewordsPerBlock(),A=h[0].getECBlocks();for(const C of A)v+=C.getCount()*(C.getDataCodewords()+b);this.totalCodewords=v}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new V;try{return this.getVersionForNumber((o-17)/4)}catch{throw new V}}static getVersionForNumber(o){if(o<1||o>40)throw new y;return sr.VERSIONS[o-1]}static decodeVersionInformation(o){let d=Number.MAX_SAFE_INTEGER,h=0;for(let v=0;v<sr.VERSION_DECODE_INFO.length;v++){const b=sr.VERSION_DECODE_INFO[v];if(b===o)return sr.getVersionForNumber(v+7);const A=An.numBitsDiffering(o,b);A<d&&(h=v+7,d=A)}return d<=3?sr.getVersionForNumber(h):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),d=new re(o);d.setRegion(0,0,9,9),d.setRegion(o-8,0,8,9),d.setRegion(0,o-8,9,8);const h=this.alignmentPatternCenters.length;for(let v=0;v<h;v++){const b=this.alignmentPatternCenters[v]-2;for(let A=0;A<h;A++)v===0&&(A===0||A===h-1)||v===h-1&&A===0||d.setRegion(this.alignmentPatternCenters[A]-2,b,5,5)}return d.setRegion(6,9,1,o-17),d.setRegion(9,6,o-17,1),this.versionNumber>6&&(d.setRegion(o-11,0,3,6),d.setRegion(0,o-11,6,3)),d}toString(){return""+this.versionNumber}}sr.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),sr.VERSIONS=[new sr(1,new Int32Array(0),new rt(7,new Oe(1,19)),new rt(10,new Oe(1,16)),new rt(13,new Oe(1,13)),new rt(17,new Oe(1,9))),new sr(2,Int32Array.from([6,18]),new rt(10,new Oe(1,34)),new rt(16,new Oe(1,28)),new rt(22,new Oe(1,22)),new rt(28,new Oe(1,16))),new sr(3,Int32Array.from([6,22]),new rt(15,new Oe(1,55)),new rt(26,new Oe(1,44)),new rt(18,new Oe(2,17)),new rt(22,new Oe(2,13))),new sr(4,Int32Array.from([6,26]),new rt(20,new Oe(1,80)),new rt(18,new Oe(2,32)),new rt(26,new Oe(2,24)),new rt(16,new Oe(4,9))),new sr(5,Int32Array.from([6,30]),new rt(26,new Oe(1,108)),new rt(24,new Oe(2,43)),new rt(18,new Oe(2,15),new Oe(2,16)),new rt(22,new Oe(2,11),new Oe(2,12))),new sr(6,Int32Array.from([6,34]),new rt(18,new Oe(2,68)),new rt(16,new Oe(4,27)),new rt(24,new Oe(4,19)),new rt(28,new Oe(4,15))),new sr(7,Int32Array.from([6,22,38]),new rt(20,new Oe(2,78)),new rt(18,new Oe(4,31)),new rt(18,new Oe(2,14),new Oe(4,15)),new rt(26,new Oe(4,13),new Oe(1,14))),new sr(8,Int32Array.from([6,24,42]),new rt(24,new Oe(2,97)),new rt(22,new Oe(2,38),new Oe(2,39)),new rt(22,new Oe(4,18),new Oe(2,19)),new rt(26,new Oe(4,14),new Oe(2,15))),new sr(9,Int32Array.from([6,26,46]),new rt(30,new Oe(2,116)),new rt(22,new Oe(3,36),new Oe(2,37)),new rt(20,new Oe(4,16),new Oe(4,17)),new rt(24,new Oe(4,12),new Oe(4,13))),new sr(10,Int32Array.from([6,28,50]),new rt(18,new Oe(2,68),new Oe(2,69)),new rt(26,new Oe(4,43),new Oe(1,44)),new rt(24,new Oe(6,19),new Oe(2,20)),new rt(28,new Oe(6,15),new Oe(2,16))),new sr(11,Int32Array.from([6,30,54]),new rt(20,new Oe(4,81)),new rt(30,new Oe(1,50),new Oe(4,51)),new rt(28,new Oe(4,22),new Oe(4,23)),new rt(24,new Oe(3,12),new Oe(8,13))),new sr(12,Int32Array.from([6,32,58]),new rt(24,new Oe(2,92),new Oe(2,93)),new rt(22,new Oe(6,36),new Oe(2,37)),new rt(26,new Oe(4,20),new Oe(6,21)),new rt(28,new Oe(7,14),new Oe(4,15))),new sr(13,Int32Array.from([6,34,62]),new rt(26,new Oe(4,107)),new rt(22,new Oe(8,37),new Oe(1,38)),new rt(24,new Oe(8,20),new Oe(4,21)),new rt(22,new Oe(12,11),new Oe(4,12))),new sr(14,Int32Array.from([6,26,46,66]),new rt(30,new Oe(3,115),new Oe(1,116)),new rt(24,new Oe(4,40),new Oe(5,41)),new rt(20,new Oe(11,16),new Oe(5,17)),new rt(24,new Oe(11,12),new Oe(5,13))),new sr(15,Int32Array.from([6,26,48,70]),new rt(22,new Oe(5,87),new Oe(1,88)),new rt(24,new Oe(5,41),new Oe(5,42)),new rt(30,new Oe(5,24),new Oe(7,25)),new rt(24,new Oe(11,12),new Oe(7,13))),new sr(16,Int32Array.from([6,26,50,74]),new rt(24,new Oe(5,98),new Oe(1,99)),new rt(28,new Oe(7,45),new Oe(3,46)),new rt(24,new Oe(15,19),new Oe(2,20)),new rt(30,new Oe(3,15),new Oe(13,16))),new sr(17,Int32Array.from([6,30,54,78]),new rt(28,new Oe(1,107),new Oe(5,108)),new rt(28,new Oe(10,46),new Oe(1,47)),new rt(28,new Oe(1,22),new Oe(15,23)),new rt(28,new Oe(2,14),new Oe(17,15))),new sr(18,Int32Array.from([6,30,56,82]),new rt(30,new Oe(5,120),new Oe(1,121)),new rt(26,new Oe(9,43),new Oe(4,44)),new rt(28,new Oe(17,22),new Oe(1,23)),new rt(28,new Oe(2,14),new Oe(19,15))),new sr(19,Int32Array.from([6,30,58,86]),new rt(28,new Oe(3,113),new Oe(4,114)),new rt(26,new Oe(3,44),new Oe(11,45)),new rt(26,new Oe(17,21),new Oe(4,22)),new rt(26,new Oe(9,13),new Oe(16,14))),new sr(20,Int32Array.from([6,34,62,90]),new rt(28,new Oe(3,107),new Oe(5,108)),new rt(26,new Oe(3,41),new Oe(13,42)),new rt(30,new Oe(15,24),new Oe(5,25)),new rt(28,new Oe(15,15),new Oe(10,16))),new sr(21,Int32Array.from([6,28,50,72,94]),new rt(28,new Oe(4,116),new Oe(4,117)),new rt(26,new Oe(17,42)),new rt(28,new Oe(17,22),new Oe(6,23)),new rt(30,new Oe(19,16),new Oe(6,17))),new sr(22,Int32Array.from([6,26,50,74,98]),new rt(28,new Oe(2,111),new Oe(7,112)),new rt(28,new Oe(17,46)),new rt(30,new Oe(7,24),new Oe(16,25)),new rt(24,new Oe(34,13))),new sr(23,Int32Array.from([6,30,54,78,102]),new rt(30,new Oe(4,121),new Oe(5,122)),new rt(28,new Oe(4,47),new Oe(14,48)),new rt(30,new Oe(11,24),new Oe(14,25)),new rt(30,new Oe(16,15),new Oe(14,16))),new sr(24,Int32Array.from([6,28,54,80,106]),new rt(30,new Oe(6,117),new Oe(4,118)),new rt(28,new Oe(6,45),new Oe(14,46)),new rt(30,new Oe(11,24),new Oe(16,25)),new rt(30,new Oe(30,16),new Oe(2,17))),new sr(25,Int32Array.from([6,32,58,84,110]),new rt(26,new Oe(8,106),new Oe(4,107)),new rt(28,new Oe(8,47),new Oe(13,48)),new rt(30,new Oe(7,24),new Oe(22,25)),new rt(30,new Oe(22,15),new Oe(13,16))),new sr(26,Int32Array.from([6,30,58,86,114]),new rt(28,new Oe(10,114),new Oe(2,115)),new rt(28,new Oe(19,46),new Oe(4,47)),new rt(28,new Oe(28,22),new Oe(6,23)),new rt(30,new Oe(33,16),new Oe(4,17))),new sr(27,Int32Array.from([6,34,62,90,118]),new rt(30,new Oe(8,122),new Oe(4,123)),new rt(28,new Oe(22,45),new Oe(3,46)),new rt(30,new Oe(8,23),new Oe(26,24)),new rt(30,new Oe(12,15),new Oe(28,16))),new sr(28,Int32Array.from([6,26,50,74,98,122]),new rt(30,new Oe(3,117),new Oe(10,118)),new rt(28,new Oe(3,45),new Oe(23,46)),new rt(30,new Oe(4,24),new Oe(31,25)),new rt(30,new Oe(11,15),new Oe(31,16))),new sr(29,Int32Array.from([6,30,54,78,102,126]),new rt(30,new Oe(7,116),new Oe(7,117)),new rt(28,new Oe(21,45),new Oe(7,46)),new rt(30,new Oe(1,23),new Oe(37,24)),new rt(30,new Oe(19,15),new Oe(26,16))),new sr(30,Int32Array.from([6,26,52,78,104,130]),new rt(30,new Oe(5,115),new Oe(10,116)),new rt(28,new Oe(19,47),new Oe(10,48)),new rt(30,new Oe(15,24),new Oe(25,25)),new rt(30,new Oe(23,15),new Oe(25,16))),new sr(31,Int32Array.from([6,30,56,82,108,134]),new rt(30,new Oe(13,115),new Oe(3,116)),new rt(28,new Oe(2,46),new Oe(29,47)),new rt(30,new Oe(42,24),new Oe(1,25)),new rt(30,new Oe(23,15),new Oe(28,16))),new sr(32,Int32Array.from([6,34,60,86,112,138]),new rt(30,new Oe(17,115)),new rt(28,new Oe(10,46),new Oe(23,47)),new rt(30,new Oe(10,24),new Oe(35,25)),new rt(30,new Oe(19,15),new Oe(35,16))),new sr(33,Int32Array.from([6,30,58,86,114,142]),new rt(30,new Oe(17,115),new Oe(1,116)),new rt(28,new Oe(14,46),new Oe(21,47)),new rt(30,new Oe(29,24),new Oe(19,25)),new rt(30,new Oe(11,15),new Oe(46,16))),new sr(34,Int32Array.from([6,34,62,90,118,146]),new rt(30,new Oe(13,115),new Oe(6,116)),new rt(28,new Oe(14,46),new Oe(23,47)),new rt(30,new Oe(44,24),new Oe(7,25)),new rt(30,new Oe(59,16),new Oe(1,17))),new sr(35,Int32Array.from([6,30,54,78,102,126,150]),new rt(30,new Oe(12,121),new Oe(7,122)),new rt(28,new Oe(12,47),new Oe(26,48)),new rt(30,new Oe(39,24),new Oe(14,25)),new rt(30,new Oe(22,15),new Oe(41,16))),new sr(36,Int32Array.from([6,24,50,76,102,128,154]),new rt(30,new Oe(6,121),new Oe(14,122)),new rt(28,new Oe(6,47),new Oe(34,48)),new rt(30,new Oe(46,24),new Oe(10,25)),new rt(30,new Oe(2,15),new Oe(64,16))),new sr(37,Int32Array.from([6,28,54,80,106,132,158]),new rt(30,new Oe(17,122),new Oe(4,123)),new rt(28,new Oe(29,46),new Oe(14,47)),new rt(30,new Oe(49,24),new Oe(10,25)),new rt(30,new Oe(24,15),new Oe(46,16))),new sr(38,Int32Array.from([6,32,58,84,110,136,162]),new rt(30,new Oe(4,122),new Oe(18,123)),new rt(28,new Oe(13,46),new Oe(32,47)),new rt(30,new Oe(48,24),new Oe(14,25)),new rt(30,new Oe(42,15),new Oe(32,16))),new sr(39,Int32Array.from([6,26,54,82,110,138,166]),new rt(30,new Oe(20,117),new Oe(4,118)),new rt(28,new Oe(40,47),new Oe(7,48)),new rt(30,new Oe(43,24),new Oe(22,25)),new rt(30,new Oe(10,15),new Oe(67,16))),new sr(40,Int32Array.from([6,30,58,86,114,142,170]),new rt(30,new Oe(19,118),new Oe(6,119)),new rt(28,new Oe(18,47),new Oe(31,48)),new rt(30,new Oe(34,24),new Oe(34,25)),new rt(30,new Oe(20,15),new Oe(61,16)))];var Pn;(function(he){he[he.DATA_MASK_000=0]="DATA_MASK_000",he[he.DATA_MASK_001=1]="DATA_MASK_001",he[he.DATA_MASK_010=2]="DATA_MASK_010",he[he.DATA_MASK_011=3]="DATA_MASK_011",he[he.DATA_MASK_100=4]="DATA_MASK_100",he[he.DATA_MASK_101=5]="DATA_MASK_101",he[he.DATA_MASK_110=6]="DATA_MASK_110",he[he.DATA_MASK_111=7]="DATA_MASK_111"})(Pn||(Pn={}));class Ja{constructor(o,d){this.value=o,this.isMasked=d}unmaskBitMatrix(o,d){for(let h=0;h<d;h++)for(let v=0;v<d;v++)this.isMasked(h,v)&&o.flip(v,h)}}Ja.values=new Map([[Pn.DATA_MASK_000,new Ja(Pn.DATA_MASK_000,(he,o)=>(he+o&1)===0)],[Pn.DATA_MASK_001,new Ja(Pn.DATA_MASK_001,(he,o)=>(he&1)===0)],[Pn.DATA_MASK_010,new Ja(Pn.DATA_MASK_010,(he,o)=>o%3===0)],[Pn.DATA_MASK_011,new Ja(Pn.DATA_MASK_011,(he,o)=>(he+o)%3===0)],[Pn.DATA_MASK_100,new Ja(Pn.DATA_MASK_100,(he,o)=>(Math.floor(he/2)+Math.floor(o/3)&1)===0)],[Pn.DATA_MASK_101,new Ja(Pn.DATA_MASK_101,(he,o)=>he*o%6===0)],[Pn.DATA_MASK_110,new Ja(Pn.DATA_MASK_110,(he,o)=>he*o%6<3)],[Pn.DATA_MASK_111,new Ja(Pn.DATA_MASK_111,(he,o)=>(he+o+he*o%3&1)===0)]]);class ps{constructor(o){const d=o.getHeight();if(d<21||(d&3)!==1)throw new V;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let b=0;b<6;b++)o=this.copyBit(b,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let b=5;b>=0;b--)o=this.copyBit(8,b,o);const d=this.bitMatrix.getHeight();let h=0;const v=d-7;for(let b=d-1;b>=v;b--)h=this.copyBit(8,b,h);for(let b=d-8;b<d;b++)h=this.copyBit(b,8,h);if(this.parsedFormatInfo=An.decodeFormatInformation(o,h),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),d=Math.floor((o-17)/4);if(d<=6)return sr.getVersionForNumber(d);let h=0;const v=o-11;for(let A=5;A>=0;A--)for(let C=o-9;C>=v;C--)h=this.copyBit(C,A,h);let b=sr.decodeVersionInformation(h);if(b!==null&&b.getDimensionForVersion()===o)return this.parsedVersion=b,b;h=0;for(let A=5;A>=0;A--)for(let C=o-9;C>=v;C--)h=this.copyBit(A,C,h);if(b=sr.decodeVersionInformation(h),b!==null&&b.getDimensionForVersion()===o)return this.parsedVersion=b,b;throw new V}copyBit(o,d,h){return(this.isMirror?this.bitMatrix.get(d,o):this.bitMatrix.get(o,d))?h<<1|1:h<<1}readCodewords(){const o=this.readFormatInformation(),d=this.readVersion(),h=Ja.values.get(o.getDataMask()),v=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,v);const b=d.buildFunctionPattern();let A=!0;const C=new Uint8Array(d.getTotalCodewords());let D=0,B=0,K=0;for(let fe=v-1;fe>0;fe-=2){fe===6&&fe--;for(let we=0;we<v;we++){const De=A?v-1-we:we;for(let ze=0;ze<2;ze++)b.get(fe-ze,De)||(K++,B<<=1,this.bitMatrix.get(fe-ze,De)&&(B|=1),K===8&&(C[D++]=B,K=0,B=0))}A=!A}if(D!==d.getTotalCodewords())throw new V;return C}remask(){if(this.parsedFormatInfo===null)return;const o=Ja.values[this.parsedFormatInfo.getDataMask()],d=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,d)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let d=0,h=o.getWidth();d<h;d++)for(let v=d+1,b=o.getHeight();v<b;v++)o.get(d,v)!==o.get(v,d)&&(o.flip(v,d),o.flip(d,v))}}class tl{constructor(o,d){this.numDataCodewords=o,this.codewords=d}static getDataBlocks(o,d,h){if(o.length!==d.getTotalCodewords())throw new y;const v=d.getECBlocksForLevel(h);let b=0;const A=v.getECBlocks();for(const ze of A)b+=ze.getCount();const C=new Array(b);let D=0;for(const ze of A)for(let He=0;He<ze.getCount();He++){const Xe=ze.getDataCodewords(),dt=v.getECCodewordsPerBlock()+Xe;C[D++]=new tl(Xe,new Uint8Array(dt))}const B=C[0].codewords.length;let K=C.length-1;for(;K>=0&&C[K].codewords.length!==B;)K--;K++;const fe=B-v.getECCodewordsPerBlock();let we=0;for(let ze=0;ze<fe;ze++)for(let He=0;He<D;He++)C[He].codewords[ze]=o[we++];for(let ze=K;ze<D;ze++)C[ze].codewords[fe]=o[we++];const De=C[0].codewords.length;for(let ze=fe;ze<De;ze++)for(let He=0;He<D;He++){const Xe=He<K?ze:ze+1;C[He].codewords[Xe]=o[we++]}return C}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ei;(function(he){he[he.TERMINATOR=0]="TERMINATOR",he[he.NUMERIC=1]="NUMERIC",he[he.ALPHANUMERIC=2]="ALPHANUMERIC",he[he.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",he[he.BYTE=4]="BYTE",he[he.ECI=5]="ECI",he[he.KANJI=6]="KANJI",he[he.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",he[he.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",he[he.HANZI=9]="HANZI"})(ei||(ei={}));class pr{constructor(o,d,h,v){this.value=o,this.stringValue=d,this.characterCountBitsForVersions=h,this.bits=v,pr.FOR_BITS.set(v,this),pr.FOR_VALUE.set(o,this)}static forBits(o){const d=pr.FOR_BITS.get(o);if(d===void 0)throw new y;return d}getCharacterCountBits(o){const d=o.getVersionNumber();let h;return d<=9?h=0:d<=26?h=1:h=2,this.characterCountBitsForVersions[h]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof pr))return!1;const d=o;return this.value===d.value}toString(){return this.stringValue}}pr.FOR_BITS=new Map,pr.FOR_VALUE=new Map,pr.TERMINATOR=new pr(ei.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),pr.NUMERIC=new pr(ei.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),pr.ALPHANUMERIC=new pr(ei.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),pr.STRUCTURED_APPEND=new pr(ei.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),pr.BYTE=new pr(ei.BYTE,"BYTE",Int32Array.from([8,16,16]),4),pr.ECI=new pr(ei.ECI,"ECI",Int32Array.from([0,0,0]),7),pr.KANJI=new pr(ei.KANJI,"KANJI",Int32Array.from([8,10,12]),8),pr.FNC1_FIRST_POSITION=new pr(ei.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),pr.FNC1_SECOND_POSITION=new pr(ei.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),pr.HANZI=new pr(ei.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class en{static decode(o,d,h,v){const b=new Jr(o);let A=new me;const C=new Array;let D=-1,B=-1;try{let K=null,fe=!1,we;do{if(b.available()<4)we=pr.TERMINATOR;else{const De=b.readBits(4);we=pr.forBits(De)}switch(we){case pr.TERMINATOR:break;case pr.FNC1_FIRST_POSITION:case pr.FNC1_SECOND_POSITION:fe=!0;break;case pr.STRUCTURED_APPEND:if(b.available()<16)throw new V;D=b.readBits(8),B=b.readBits(8);break;case pr.ECI:const De=en.parseECIValue(b);if(K=W.getCharacterSetECIByValue(De),K===null)throw new V;break;case pr.HANZI:const ze=b.readBits(4),He=b.readBits(we.getCharacterCountBits(d));ze===en.GB2312_SUBSET&&en.decodeHanziSegment(b,A,He);break;default:const Xe=b.readBits(we.getCharacterCountBits(d));switch(we){case pr.NUMERIC:en.decodeNumericSegment(b,A,Xe);break;case pr.ALPHANUMERIC:en.decodeAlphanumericSegment(b,A,Xe,fe);break;case pr.BYTE:en.decodeByteSegment(b,A,Xe,K,C,v);break;case pr.KANJI:en.decodeKanjiSegment(b,A,Xe);break;default:throw new V}break}}while(we!==pr.TERMINATOR)}catch{throw new V}return new pe(o,A.toString(),C.length===0?null:C,h===null?null:h.toString(),D,B)}static decodeHanziSegment(o,d,h){if(h*13>o.available())throw new V;const v=new Uint8Array(2*h);let b=0;for(;h>0;){const A=o.readBits(13);let C=A/96<<8&4294967295|A%96;C<959?C+=41377:C+=42657,v[b]=C>>8&255,v[b+1]=C&255,b+=2,h--}try{d.append(Z.decode(v,Q.GB2312))}catch(A){throw new V(A)}}static decodeKanjiSegment(o,d,h){if(h*13>o.available())throw new V;const v=new Uint8Array(2*h);let b=0;for(;h>0;){const A=o.readBits(13);let C=A/192<<8&4294967295|A%192;C<7936?C+=33088:C+=49472,v[b]=C>>8,v[b+1]=C,b+=2,h--}try{d.append(Z.decode(v,Q.SHIFT_JIS))}catch(A){throw new V(A)}}static decodeByteSegment(o,d,h,v,b,A){if(8*h>o.available())throw new V;const C=new Uint8Array(h);for(let B=0;B<h;B++)C[B]=o.readBits(8);let D;v===null?D=Q.guessEncoding(C,A):D=v.getName();try{d.append(Z.decode(C,D))}catch(B){throw new V(B)}b.push(C)}static toAlphaNumericChar(o){if(o>=en.ALPHANUMERIC_CHARS.length)throw new V;return en.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,d,h,v){const b=d.length();for(;h>1;){if(o.available()<11)throw new V;const A=o.readBits(11);d.append(en.toAlphaNumericChar(Math.floor(A/45))),d.append(en.toAlphaNumericChar(A%45)),h-=2}if(h===1){if(o.available()<6)throw new V;d.append(en.toAlphaNumericChar(o.readBits(6)))}if(v)for(let A=b;A<d.length();A++)d.charAt(A)==="%"&&(A<d.length()-1&&d.charAt(A+1)==="%"?d.deleteCharAt(A+1):d.setCharAt(A,""))}static decodeNumericSegment(o,d,h){for(;h>=3;){if(o.available()<10)throw new V;const v=o.readBits(10);if(v>=1e3)throw new V;d.append(en.toAlphaNumericChar(Math.floor(v/100))),d.append(en.toAlphaNumericChar(Math.floor(v/10)%10)),d.append(en.toAlphaNumericChar(v%10)),h-=3}if(h===2){if(o.available()<7)throw new V;const v=o.readBits(7);if(v>=100)throw new V;d.append(en.toAlphaNumericChar(Math.floor(v/10))),d.append(en.toAlphaNumericChar(v%10))}else if(h===1){if(o.available()<4)throw new V;const v=o.readBits(4);if(v>=10)throw new V;d.append(en.toAlphaNumericChar(v))}}static parseECIValue(o){const d=o.readBits(8);if(!(d&128))return d&127;if((d&192)===128){const h=o.readBits(8);return(d&63)<<8&4294967295|h}if((d&224)===192){const h=o.readBits(16);return(d&31)<<16&4294967295|h}throw new V}}en.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",en.GB2312_SUBSET=1;class so{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const d=o[0];o[0]=o[2],o[2]=d}}class Po{constructor(){this.rsDecoder=new ae(Le.QR_CODE_FIELD_256)}decodeBooleanArray(o,d){return this.decodeBitMatrix(re.parseFromBooleanArray(o),d)}decodeBitMatrix(o,d){const h=new ps(o);let v=null;try{return this.decodeBitMatrixParser(h,d)}catch(b){v=b}try{h.remask(),h.setMirror(!0),h.readVersion(),h.readFormatInformation(),h.mirror();const b=this.decodeBitMatrixParser(h,d);return b.setOther(new so(!0)),b}catch(b){throw v!==null?v:b}}decodeBitMatrixParser(o,d){const h=o.readVersion(),v=o.readFormatInformation().getErrorCorrectionLevel(),b=o.readCodewords(),A=tl.getDataBlocks(b,h,v);let C=0;for(const K of A)C+=K.getNumDataCodewords();const D=new Uint8Array(C);let B=0;for(const K of A){const fe=K.getCodewords(),we=K.getNumDataCodewords();this.correctErrors(fe,we);for(let De=0;De<we;De++)D[B++]=fe[De]}return en.decode(D,h,v,d)}correctErrors(o,d){const h=new Int32Array(o);try{this.rsDecoder.decode(h,o.length-d)}catch{throw new N}for(let v=0;v<d;v++)o[v]=h[v]}}class Ss extends Fe{constructor(o,d,h){super(o,d),this.estimatedModuleSize=h}aboutEquals(o,d,h){if(Math.abs(d-this.getY())<=o&&Math.abs(h-this.getX())<=o){const v=Math.abs(o-this.estimatedModuleSize);return v<=1||v<=this.estimatedModuleSize}return!1}combineEstimate(o,d,h){const v=(this.getX()+d)/2,b=(this.getY()+o)/2,A=(this.estimatedModuleSize+h)/2;return new Ss(v,b,A)}}class Nn{constructor(o,d,h,v,b,A,C){this.image=o,this.startX=d,this.startY=h,this.width=v,this.height=b,this.moduleSize=A,this.resultPointCallback=C,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,d=this.height,h=this.width,v=o+h,b=this.startY+d/2,A=new Int32Array(3),C=this.image;for(let D=0;D<d;D++){const B=b+(D&1?-Math.floor((D+1)/2):Math.floor((D+1)/2));A[0]=0,A[1]=0,A[2]=0;let K=o;for(;K<v&&!C.get(K,B);)K++;let fe=0;for(;K<v;){if(C.get(K,B))if(fe===1)A[1]++;else if(fe===2){if(this.foundPatternCross(A)){const we=this.handlePossibleCenter(A,B,K);if(we!==null)return we}A[0]=A[2],A[1]=1,A[2]=0,fe=1}else A[++fe]++;else fe===1&&fe++,A[fe]++;K++}if(this.foundPatternCross(A)){const we=this.handlePossibleCenter(A,B,v);if(we!==null)return we}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new q}static centerFromEnd(o,d){return d-o[2]-o[1]/2}foundPatternCross(o){const d=this.moduleSize,h=d/2;for(let v=0;v<3;v++)if(Math.abs(d-o[v])>=h)return!1;return!0}crossCheckVertical(o,d,h,v){const b=this.image,A=b.getHeight(),C=this.crossCheckStateCount;C[0]=0,C[1]=0,C[2]=0;let D=o;for(;D>=0&&b.get(d,D)&&C[1]<=h;)C[1]++,D--;if(D<0||C[1]>h)return NaN;for(;D>=0&&!b.get(d,D)&&C[0]<=h;)C[0]++,D--;if(C[0]>h)return NaN;for(D=o+1;D<A&&b.get(d,D)&&C[1]<=h;)C[1]++,D++;if(D===A||C[1]>h)return NaN;for(;D<A&&!b.get(d,D)&&C[2]<=h;)C[2]++,D++;if(C[2]>h)return NaN;const B=C[0]+C[1]+C[2];return 5*Math.abs(B-v)>=2*v?NaN:this.foundPatternCross(C)?Nn.centerFromEnd(C,D):NaN}handlePossibleCenter(o,d,h){const v=o[0]+o[1]+o[2],b=Nn.centerFromEnd(o,h),A=this.crossCheckVertical(d,b,2*o[1],v);if(!isNaN(A)){const C=(o[0]+o[1]+o[2])/3;for(const B of this.possibleCenters)if(B.aboutEquals(C,A,b))return B.combineEstimate(A,b,C);const D=new Ss(b,A,C);this.possibleCenters.push(D),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(D)}return null}}class Rn extends Fe{constructor(o,d,h,v){super(o,d),this.estimatedModuleSize=h,this.count=v,v===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,d,h){if(Math.abs(d-this.getY())<=o&&Math.abs(h-this.getX())<=o){const v=Math.abs(o-this.estimatedModuleSize);return v<=1||v<=this.estimatedModuleSize}return!1}combineEstimate(o,d,h){const v=this.count+1,b=(this.count*this.getX()+d)/v,A=(this.count*this.getY()+o)/v,C=(this.count*this.estimatedModuleSize+h)/v;return new Rn(b,A,C,v)}}class tc{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class ar{constructor(o,d){this.image=o,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=d}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const d=o!=null&&o.get(J.TRY_HARDER)!==void 0,h=o!=null&&o.get(J.PURE_BARCODE)!==void 0,v=this.image,b=v.getHeight(),A=v.getWidth();let C=Math.floor(3*b/(4*ar.MAX_MODULES));(C<ar.MIN_SKIP||d)&&(C=ar.MIN_SKIP);let D=!1;const B=new Int32Array(5);for(let fe=C-1;fe<b&&!D;fe+=C){B[0]=0,B[1]=0,B[2]=0,B[3]=0,B[4]=0;let we=0;for(let De=0;De<A;De++)if(v.get(De,fe))(we&1)===1&&we++,B[we]++;else if(we&1)B[we]++;else if(we===4)if(ar.foundPatternCross(B)){if(this.handlePossibleCenter(B,fe,De,h)===!0)if(C=2,this.hasSkipped===!0)D=this.haveMultiplyConfirmedCenters();else{const He=this.findRowSkip();He>B[2]&&(fe+=He-B[2]-C,De=A-1)}else{B[0]=B[2],B[1]=B[3],B[2]=B[4],B[3]=1,B[4]=0,we=3;continue}we=0,B[0]=0,B[1]=0,B[2]=0,B[3]=0,B[4]=0}else B[0]=B[2],B[1]=B[3],B[2]=B[4],B[3]=1,B[4]=0,we=3;else B[++we]++;ar.foundPatternCross(B)&&this.handlePossibleCenter(B,fe,A,h)===!0&&(C=B[0],this.hasSkipped&&(D=this.haveMultiplyConfirmedCenters()))}const K=this.selectBestPatterns();return Fe.orderBestPatterns(K),new tc(K)}static centerFromEnd(o,d){return d-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let d=0;for(let b=0;b<5;b++){const A=o[b];if(A===0)return!1;d+=A}if(d<7)return!1;const h=d/7,v=h/2;return Math.abs(h-o[0])<v&&Math.abs(h-o[1])<v&&Math.abs(3*h-o[2])<3*v&&Math.abs(h-o[3])<v&&Math.abs(h-o[4])<v}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,d,h,v){const b=this.getCrossCheckStateCount();let A=0;const C=this.image;for(;o>=A&&d>=A&&C.get(d-A,o-A);)b[2]++,A++;if(o<A||d<A)return!1;for(;o>=A&&d>=A&&!C.get(d-A,o-A)&&b[1]<=h;)b[1]++,A++;if(o<A||d<A||b[1]>h)return!1;for(;o>=A&&d>=A&&C.get(d-A,o-A)&&b[0]<=h;)b[0]++,A++;if(b[0]>h)return!1;const D=C.getHeight(),B=C.getWidth();for(A=1;o+A<D&&d+A<B&&C.get(d+A,o+A);)b[2]++,A++;if(o+A>=D||d+A>=B)return!1;for(;o+A<D&&d+A<B&&!C.get(d+A,o+A)&&b[3]<h;)b[3]++,A++;if(o+A>=D||d+A>=B||b[3]>=h)return!1;for(;o+A<D&&d+A<B&&C.get(d+A,o+A)&&b[4]<h;)b[4]++,A++;if(b[4]>=h)return!1;const K=b[0]+b[1]+b[2]+b[3]+b[4];return Math.abs(K-v)<2*v&&ar.foundPatternCross(b)}crossCheckVertical(o,d,h,v){const b=this.image,A=b.getHeight(),C=this.getCrossCheckStateCount();let D=o;for(;D>=0&&b.get(d,D);)C[2]++,D--;if(D<0)return NaN;for(;D>=0&&!b.get(d,D)&&C[1]<=h;)C[1]++,D--;if(D<0||C[1]>h)return NaN;for(;D>=0&&b.get(d,D)&&C[0]<=h;)C[0]++,D--;if(C[0]>h)return NaN;for(D=o+1;D<A&&b.get(d,D);)C[2]++,D++;if(D===A)return NaN;for(;D<A&&!b.get(d,D)&&C[3]<h;)C[3]++,D++;if(D===A||C[3]>=h)return NaN;for(;D<A&&b.get(d,D)&&C[4]<h;)C[4]++,D++;if(C[4]>=h)return NaN;const B=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(B-v)>=2*v?NaN:ar.foundPatternCross(C)?ar.centerFromEnd(C,D):NaN}crossCheckHorizontal(o,d,h,v){const b=this.image,A=b.getWidth(),C=this.getCrossCheckStateCount();let D=o;for(;D>=0&&b.get(D,d);)C[2]++,D--;if(D<0)return NaN;for(;D>=0&&!b.get(D,d)&&C[1]<=h;)C[1]++,D--;if(D<0||C[1]>h)return NaN;for(;D>=0&&b.get(D,d)&&C[0]<=h;)C[0]++,D--;if(C[0]>h)return NaN;for(D=o+1;D<A&&b.get(D,d);)C[2]++,D++;if(D===A)return NaN;for(;D<A&&!b.get(D,d)&&C[3]<h;)C[3]++,D++;if(D===A||C[3]>=h)return NaN;for(;D<A&&b.get(D,d)&&C[4]<h;)C[4]++,D++;if(C[4]>=h)return NaN;const B=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(B-v)>=v?NaN:ar.foundPatternCross(C)?ar.centerFromEnd(C,D):NaN}handlePossibleCenter(o,d,h,v){const b=o[0]+o[1]+o[2]+o[3]+o[4];let A=ar.centerFromEnd(o,h),C=this.crossCheckVertical(d,Math.floor(A),o[2],b);if(!isNaN(C)&&(A=this.crossCheckHorizontal(Math.floor(A),Math.floor(C),o[2],b),!isNaN(A)&&(!v||this.crossCheckDiagonal(Math.floor(C),Math.floor(A),o[2],b)))){const D=b/7;let B=!1;const K=this.possibleCenters;for(let fe=0,we=K.length;fe<we;fe++){const De=K[fe];if(De.aboutEquals(D,C,A)){K[fe]=De.combineEstimate(C,A,D),B=!0;break}}if(!B){const fe=new Rn(A,C,D);K.push(fe),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(fe)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let d=null;for(const h of this.possibleCenters)if(h.getCount()>=ar.CENTER_QUORUM)if(d==null)d=h;else return this.hasSkipped=!0,Math.floor((Math.abs(d.getX()-h.getX())-Math.abs(d.getY()-h.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,d=0;const h=this.possibleCenters.length;for(const A of this.possibleCenters)A.getCount()>=ar.CENTER_QUORUM&&(o++,d+=A.getEstimatedModuleSize());if(o<3)return!1;const v=d/h;let b=0;for(const A of this.possibleCenters)b+=Math.abs(A.getEstimatedModuleSize()-v);return b<=.05*d}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new q;const d=this.possibleCenters;let h;if(o>3){let v=0,b=0;for(const D of this.possibleCenters){const B=D.getEstimatedModuleSize();v+=B,b+=B*B}h=v/o;let A=Math.sqrt(b/o-h*h);d.sort((D,B)=>{const K=Math.abs(B.getEstimatedModuleSize()-h),fe=Math.abs(D.getEstimatedModuleSize()-h);return K<fe?-1:K>fe?1:0});const C=Math.max(.2*h,A);for(let D=0;D<d.length&&d.length>3;D++){const B=d[D];Math.abs(B.getEstimatedModuleSize()-h)>C&&(d.splice(D,1),D--)}}if(d.length>3){let v=0;for(const b of d)v+=b.getEstimatedModuleSize();h=v/d.length,d.sort((b,A)=>{if(A.getCount()===b.getCount()){const C=Math.abs(A.getEstimatedModuleSize()-h),D=Math.abs(b.getEstimatedModuleSize()-h);return C<D?1:C>D?-1:0}else return A.getCount()-b.getCount()}),d.splice(3)}return[d[0],d[1],d[2]]}}ar.CENTER_QUORUM=2,ar.MIN_SKIP=3,ar.MAX_MODULES=57;class Es{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(J.NEED_RESULT_POINT_CALLBACK);const h=new ar(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(h)}processFinderPatternInfo(o){const d=o.getTopLeft(),h=o.getTopRight(),v=o.getBottomLeft(),b=this.calculateModuleSize(d,h,v);if(b<1)throw new q("No pattern found in proccess finder.");const A=Es.computeDimension(d,h,v,b),C=sr.getProvisionalVersionForDimension(A),D=C.getDimensionForVersion()-7;let B=null;if(C.getAlignmentPatternCenters().length>0){const De=h.getX()-d.getX()+v.getX(),ze=h.getY()-d.getY()+v.getY(),He=1-3/D,Xe=Math.floor(d.getX()+He*(De-d.getX())),dt=Math.floor(d.getY()+He*(ze-d.getY()));for(let Lt=4;Lt<=16;Lt<<=1)try{B=this.findAlignmentInRegion(b,Xe,dt,Lt);break}catch(Pt){if(!(Pt instanceof q))throw Pt}}const K=Es.createTransform(d,h,v,B,A),fe=Es.sampleGrid(this.image,K,A);let we;return B===null?we=[v,d,h]:we=[v,d,h,B],new et(fe,we)}static createTransform(o,d,h,v,b){const A=b-3.5;let C,D,B,K;return v!==null?(C=v.getX(),D=v.getY(),B=A-3,K=B):(C=d.getX()-o.getX()+h.getX(),D=d.getY()-o.getY()+h.getY(),B=A,K=A),tr.quadrilateralToQuadrilateral(3.5,3.5,A,3.5,B,K,3.5,A,o.getX(),o.getY(),d.getX(),d.getY(),C,D,h.getX(),h.getY())}static sampleGrid(o,d,h){return lr.getInstance().sampleGridWithTransform(o,h,h,d)}static computeDimension(o,d,h,v){const b=Re.round(Fe.distance(o,d)/v),A=Re.round(Fe.distance(o,h)/v);let C=Math.floor((b+A)/2)+7;switch(C&3){case 0:C++;break;case 2:C--;break;case 3:throw new q("Dimensions could be not found.")}return C}calculateModuleSize(o,d,h){return(this.calculateModuleSizeOneWay(o,d)+this.calculateModuleSizeOneWay(o,h))/2}calculateModuleSizeOneWay(o,d){const h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(d.getX()),Math.floor(d.getY())),v=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(d.getX()),Math.floor(d.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(h)?v/7:isNaN(v)?h/7:(h+v)/14}sizeOfBlackWhiteBlackRunBothWays(o,d,h,v){let b=this.sizeOfBlackWhiteBlackRun(o,d,h,v),A=1,C=o-(h-o);C<0?(A=o/(o-C),C=0):C>=this.image.getWidth()&&(A=(this.image.getWidth()-1-o)/(C-o),C=this.image.getWidth()-1);let D=Math.floor(d-(v-d)*A);return A=1,D<0?(A=d/(d-D),D=0):D>=this.image.getHeight()&&(A=(this.image.getHeight()-1-d)/(D-d),D=this.image.getHeight()-1),C=Math.floor(o+(C-o)*A),b+=this.sizeOfBlackWhiteBlackRun(o,d,C,D),b-1}sizeOfBlackWhiteBlackRun(o,d,h,v){const b=Math.abs(v-d)>Math.abs(h-o);if(b){let De=o;o=d,d=De,De=h,h=v,v=De}const A=Math.abs(h-o),C=Math.abs(v-d);let D=-A/2;const B=o<h?1:-1,K=d<v?1:-1;let fe=0;const we=h+B;for(let De=o,ze=d;De!==we;De+=B){const He=b?ze:De,Xe=b?De:ze;if(fe===1===this.image.get(He,Xe)){if(fe===2)return Re.distance(De,ze,o,d);fe++}if(D+=C,D>0){if(ze===v)break;ze+=K,D-=A}}return fe===2?Re.distance(h+B,v,o,d):NaN}findAlignmentInRegion(o,d,h,v){const b=Math.floor(v*o),A=Math.max(0,d-b),C=Math.min(this.image.getWidth()-1,d+b);if(C-A<o*3)throw new q("Alignment top exceeds estimated module size.");const D=Math.max(0,h-b),B=Math.min(this.image.getHeight()-1,h+b);if(B-D<o*3)throw new q("Alignment bottom exceeds estimated module size.");return new Nn(this.image,A,D,C-A,B-D,o,this.resultPointCallback).find()}}class Gs{constructor(){this.decoder=new Po}getDecoder(){return this.decoder}decode(o,d){let h,v;if(d!=null&&d.get(J.PURE_BARCODE)!==void 0){const D=Gs.extractPureBits(o.getBlackMatrix());h=this.decoder.decodeBitMatrix(D,d),v=Gs.NO_POINTS}else{const D=new Es(o.getBlackMatrix()).detect(d);h=this.decoder.decodeBitMatrix(D.getBits(),d),v=D.getPoints()}h.getOther()instanceof so&&h.getOther().applyMirroredCorrection(v);const b=new se(h.getText(),h.getRawBytes(),void 0,v,ne.QR_CODE,void 0),A=h.getByteSegments();A!==null&&b.putMetadata(je.BYTE_SEGMENTS,A);const C=h.getECLevel();return C!==null&&b.putMetadata(je.ERROR_CORRECTION_LEVEL,C),h.hasStructuredAppend()&&(b.putMetadata(je.STRUCTURED_APPEND_SEQUENCE,h.getStructuredAppendSequenceNumber()),b.putMetadata(je.STRUCTURED_APPEND_PARITY,h.getStructuredAppendParity())),b}reset(){}static extractPureBits(o){const d=o.getTopLeftOnBit(),h=o.getBottomRightOnBit();if(d===null||h===null)throw new q;const v=this.moduleSize(d,o);let b=d[1],A=h[1],C=d[0],D=h[0];if(C>=D||b>=A)throw new q;if(A-b!==D-C&&(D=C+(A-b),D>=o.getWidth()))throw new q;const B=Math.round((D-C+1)/v),K=Math.round((A-b+1)/v);if(B<=0||K<=0)throw new q;if(K!==B)throw new q;const fe=Math.floor(v/2);b+=fe,C+=fe;const we=C+Math.floor((B-1)*v)-D;if(we>0){if(we>fe)throw new q;C-=we}const De=b+Math.floor((K-1)*v)-A;if(De>0){if(De>fe)throw new q;b-=De}const ze=new re(B,K);for(let He=0;He<K;He++){const Xe=b+Math.floor(He*v);for(let dt=0;dt<B;dt++)o.get(C+Math.floor(dt*v),Xe)&&ze.set(dt,He)}return ze}static moduleSize(o,d){const h=d.getHeight(),v=d.getWidth();let b=o[0],A=o[1],C=!0,D=0;for(;b<v&&A<h;){if(C!==d.get(b,A)){if(++D===5)break;C=!C}b++,A++}if(b===v||A===h)throw new q;return(b-o[0])/7}}Gs.NO_POINTS=new Array;class fr{PDF417Common(){}static getBitCountSum(o){return Re.sum(o)}static toIntArray(o){if(o==null||!o.length)return fr.EMPTY_INT_ARRAY;const d=new Int32Array(o.length);let h=0;for(const v of o)d[h++]=v;return d}static getCodeword(o){const d=R.binarySearch(fr.SYMBOL_TABLE,o&262143);return d<0?-1:(fr.CODEWORD_TABLE[d]-1)%fr.NUMBER_OF_CODEWORDS}}fr.NUMBER_OF_CODEWORDS=929,fr.MAX_CODEWORDS_IN_BARCODE=fr.NUMBER_OF_CODEWORDS-1,fr.MIN_ROWS_IN_BARCODE=3,fr.MAX_ROWS_IN_BARCODE=90,fr.MODULES_IN_CODEWORD=17,fr.MODULES_IN_STOP_PATTERN=18,fr.BARS_IN_MODULE=8,fr.EMPTY_INT_ARRAY=new Int32Array([]),fr.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),fr.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Rc{constructor(o,d){this.bits=o,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class jr{static detectMultiple(o,d,h){let v=o.getBlackMatrix(),b=jr.detect(h,v);return b.length||(v=v.clone(),v.rotate180(),b=jr.detect(h,v)),new Rc(v,b)}static detect(o,d){const h=new Array;let v=0,b=0,A=!1;for(;v<d.getHeight();){const C=jr.findVertices(d,v,b);if(C[0]==null&&C[3]==null){if(!A)break;A=!1,b=0;for(const D of h)D[1]!=null&&(v=Math.trunc(Math.max(v,D[1].getY()))),D[3]!=null&&(v=Math.max(v,Math.trunc(D[3].getY())));v+=jr.ROW_STEP;continue}if(A=!0,h.push(C),!o)break;C[2]!=null?(b=Math.trunc(C[2].getX()),v=Math.trunc(C[2].getY())):(b=Math.trunc(C[4].getX()),v=Math.trunc(C[4].getY()))}return h}static findVertices(o,d,h){const v=o.getHeight(),b=o.getWidth(),A=new Array(8);return jr.copyToResult(A,jr.findRowsWithPattern(o,v,b,d,h,jr.START_PATTERN),jr.INDEXES_START_PATTERN),A[4]!=null&&(h=Math.trunc(A[4].getX()),d=Math.trunc(A[4].getY())),jr.copyToResult(A,jr.findRowsWithPattern(o,v,b,d,h,jr.STOP_PATTERN),jr.INDEXES_STOP_PATTERN),A}static copyToResult(o,d,h){for(let v=0;v<h.length;v++)o[h[v]]=d[v]}static findRowsWithPattern(o,d,h,v,b,A){const C=new Array(4);let D=!1;const B=new Int32Array(A.length);for(;v<d;v+=jr.ROW_STEP){let fe=jr.findGuardPattern(o,b,v,h,!1,A,B);if(fe!=null){for(;v>0;){const we=jr.findGuardPattern(o,b,--v,h,!1,A,B);if(we!=null)fe=we;else{v++;break}}C[0]=new Fe(fe[0],v),C[1]=new Fe(fe[1],v),D=!0;break}}let K=v+1;if(D){let fe=0,we=Int32Array.from([Math.trunc(C[0].getX()),Math.trunc(C[1].getX())]);for(;K<d;K++){const De=jr.findGuardPattern(o,we[0],K,h,!1,A,B);if(De!=null&&Math.abs(we[0]-De[0])<jr.MAX_PATTERN_DRIFT&&Math.abs(we[1]-De[1])<jr.MAX_PATTERN_DRIFT)we=De,fe=0;else{if(fe>jr.SKIPPED_ROW_COUNT_MAX)break;fe++}}K-=fe+1,C[2]=new Fe(we[0],K),C[3]=new Fe(we[1],K)}return K-v<jr.BARCODE_MIN_HEIGHT&&R.fill(C,null),C}static findGuardPattern(o,d,h,v,b,A,C){R.fillWithin(C,0,C.length,0);let D=d,B=0;for(;o.get(D,h)&&D>0&&B++<jr.MAX_PIXEL_DRIFT;)D--;let K=D,fe=0,we=A.length;for(let De=b;K<v;K++)if(o.get(K,h)!==De)C[fe]++;else{if(fe===we-1){if(jr.patternMatchVariance(C,A,jr.MAX_INDIVIDUAL_VARIANCE)<jr.MAX_AVG_VARIANCE)return new Int32Array([D,K]);D+=C[0]+C[1],_.arraycopy(C,2,C,0,fe-1),C[fe-1]=0,C[fe]=0,fe--}else fe++;C[fe]=1,De=!De}return fe===we-1&&jr.patternMatchVariance(C,A,jr.MAX_INDIVIDUAL_VARIANCE)<jr.MAX_AVG_VARIANCE?new Int32Array([D,K-1]):null}static patternMatchVariance(o,d,h){let v=o.length,b=0,A=0;for(let B=0;B<v;B++)b+=o[B],A+=d[B];if(b<A)return 1/0;let C=b/A;h*=C;let D=0;for(let B=0;B<v;B++){let K=o[B],fe=d[B]*C,we=K>fe?K-fe:fe-K;if(we>h)return 1/0;D+=we}return D/b}}jr.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),jr.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),jr.MAX_AVG_VARIANCE=.42,jr.MAX_INDIVIDUAL_VARIANCE=.8,jr.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),jr.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),jr.MAX_PIXEL_DRIFT=3,jr.MAX_PATTERN_DRIFT=5,jr.SKIPPED_ROW_COUNT_MAX=25,jr.ROW_STEP=5,jr.BARCODE_MIN_HEIGHT=10;class Sn{constructor(o,d){if(d.length===0)throw new y;this.field=o;let h=d.length;if(h>1&&d[0]===0){let v=1;for(;v<h&&d[v]===0;)v++;v===h?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(h-v),_.arraycopy(d,v,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let v=0;for(let b of this.coefficients)v=this.field.add(v,b);return v}let d=this.coefficients[0],h=this.coefficients.length;for(let v=1;v<h;v++)d=this.field.add(this.field.multiply(o,d),this.coefficients[v]);return d}add(o){if(!this.field.equals(o.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let d=this.coefficients,h=o.coefficients;if(d.length>h.length){let A=d;d=h,h=A}let v=new Int32Array(h.length),b=h.length-d.length;_.arraycopy(h,0,v,0,b);for(let A=b;A<h.length;A++)v[A]=this.field.add(d[A-b],h[A]);return new Sn(this.field,v)}subtract(o){if(!this.field.equals(o.field))throw new y("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof Sn?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new Sn(this.field,new Int32Array([0]));let d=this.coefficients,h=d.length,v=o.coefficients,b=v.length,A=new Int32Array(h+b-1);for(let C=0;C<h;C++){let D=d[C];for(let B=0;B<b;B++)A[C+B]=this.field.add(A[C+B],this.field.multiply(D,v[B]))}return new Sn(this.field,A)}negative(){let o=this.coefficients.length,d=new Int32Array(o);for(let h=0;h<o;h++)d[h]=this.field.subtract(0,this.coefficients[h]);return new Sn(this.field,d)}multiplyScalar(o){if(o===0)return new Sn(this.field,new Int32Array([0]));if(o===1)return this;let d=this.coefficients.length,h=new Int32Array(d);for(let v=0;v<d;v++)h[v]=this.field.multiply(this.coefficients[v],o);return new Sn(this.field,h)}multiplyByMonomial(o,d){if(o<0)throw new y;if(d===0)return new Sn(this.field,new Int32Array([0]));let h=this.coefficients.length,v=new Int32Array(h+o);for(let b=0;b<h;b++)v[b]=this.field.multiply(this.coefficients[b],d);return new Sn(this.field,v)}toString(){let o=new me;for(let d=this.getDegree();d>=0;d--){let h=this.getCoefficient(d);h!==0&&(h<0?(o.append(" - "),h=-h):o.length()>0&&o.append(" + "),(d===0||h!==1)&&o.append(h),d!==0&&(d===1?o.append("x"):(o.append("x^"),o.append(d))))}return o.toString()}}class Nl{add(o,d){return(o+d)%this.modulus}subtract(o,d){return(this.modulus+o-d)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new y;return this.logTable[o]}inverse(o){if(o===0)throw new ue;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,d){return o===0||d===0?0:this.expTable[(this.logTable[o]+this.logTable[d])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class Ro extends Nl{constructor(o,d){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let h=1;for(let v=0;v<o;v++)this.expTable[v]=h,h=h*d%o;for(let v=0;v<o-1;v++)this.logTable[this.expTable[v]]=v;this.zero=new Sn(this,new Int32Array([0])),this.one=new Sn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,d){if(o<0)throw new y;if(d===0)return this.zero;let h=new Int32Array(o+1);return h[0]=d,new Sn(this,h)}}Ro.PDF417_GF=new Ro(fr.NUMBER_OF_CODEWORDS,3);class Ws{constructor(){this.field=Ro.PDF417_GF}decode(o,d,h){let v=new Sn(this.field,o),b=new Int32Array(d),A=!1;for(let ze=d;ze>0;ze--){let He=v.evaluateAt(this.field.exp(ze));b[d-ze]=He,He!==0&&(A=!0)}if(!A)return 0;let C=this.field.getOne();if(h!=null)for(const ze of h){let He=this.field.exp(o.length-1-ze),Xe=new Sn(this.field,new Int32Array([this.field.subtract(0,He),1]));C=C.multiply(Xe)}let D=new Sn(this.field,b),B=this.runEuclideanAlgorithm(this.field.buildMonomial(d,1),D,d),K=B[0],fe=B[1],we=this.findErrorLocations(K),De=this.findErrorMagnitudes(fe,K,we);for(let ze=0;ze<we.length;ze++){let He=o.length-1-this.field.log(we[ze]);if(He<0)throw N.getChecksumInstance();o[He]=this.field.subtract(o[He],De[ze])}return we.length}runEuclideanAlgorithm(o,d,h){if(o.getDegree()<d.getDegree()){let we=o;o=d,d=we}let v=o,b=d,A=this.field.getZero(),C=this.field.getOne();for(;b.getDegree()>=Math.round(h/2);){let we=v,De=A;if(v=b,A=C,v.isZero())throw N.getChecksumInstance();b=we;let ze=this.field.getZero(),He=v.getCoefficient(v.getDegree()),Xe=this.field.inverse(He);for(;b.getDegree()>=v.getDegree()&&!b.isZero();){let dt=b.getDegree()-v.getDegree(),Lt=this.field.multiply(b.getCoefficient(b.getDegree()),Xe);ze=ze.add(this.field.buildMonomial(dt,Lt)),b=b.subtract(v.multiplyByMonomial(dt,Lt))}C=ze.multiply(A).subtract(De).negative()}let D=C.getCoefficient(0);if(D===0)throw N.getChecksumInstance();let B=this.field.inverse(D),K=C.multiply(B),fe=b.multiply(B);return[K,fe]}findErrorLocations(o){let d=o.getDegree(),h=new Int32Array(d),v=0;for(let b=1;b<this.field.getSize()&&v<d;b++)o.evaluateAt(b)===0&&(h[v]=this.field.inverse(b),v++);if(v!==d)throw N.getChecksumInstance();return h}findErrorMagnitudes(o,d,h){let v=d.getDegree(),b=new Int32Array(v);for(let B=1;B<=v;B++)b[v-B]=this.field.multiply(B,d.getCoefficient(B));let A=new Sn(this.field,b),C=h.length,D=new Int32Array(C);for(let B=0;B<C;B++){let K=this.field.inverse(h[B]),fe=this.field.subtract(0,o.evaluateAt(K)),we=this.field.inverse(A.evaluateAt(K));D[B]=this.field.multiply(fe,we)}return D}}class Ys{constructor(o,d,h,v,b){o instanceof Ys?this.constructor_2(o):this.constructor_1(o,d,h,v,b)}constructor_1(o,d,h,v,b){const A=d==null||h==null,C=v==null||b==null;if(A&&C)throw new q;A?(d=new Fe(0,v.getY()),h=new Fe(0,b.getY())):C&&(v=new Fe(o.getWidth()-1,d.getY()),b=new Fe(o.getWidth()-1,h.getY())),this.image=o,this.topLeft=d,this.bottomLeft=h,this.topRight=v,this.bottomRight=b,this.minX=Math.trunc(Math.min(d.getX(),h.getX())),this.maxX=Math.trunc(Math.max(v.getX(),b.getX())),this.minY=Math.trunc(Math.min(d.getY(),v.getY())),this.maxY=Math.trunc(Math.max(h.getY(),b.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,d){return o==null?d:d==null?o:new Ys(o.image,o.topLeft,o.bottomLeft,d.topRight,d.bottomRight)}addMissingRows(o,d,h){let v=this.topLeft,b=this.bottomLeft,A=this.topRight,C=this.bottomRight;if(o>0){let D=h?this.topLeft:this.topRight,B=Math.trunc(D.getY()-o);B<0&&(B=0);let K=new Fe(D.getX(),B);h?v=K:A=K}if(d>0){let D=h?this.bottomLeft:this.bottomRight,B=Math.trunc(D.getY()+d);B>=this.image.getHeight()&&(B=this.image.getHeight()-1);let K=new Fe(D.getX(),B);h?b=K:C=K}return new Ys(this.image,v,b,A,C)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class rl{constructor(o,d,h,v){this.columnCount=o,this.errorCorrectionLevel=v,this.rowCountUpperPart=d,this.rowCountLowerPart=h,this.rowCount=d+h}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Cs{constructor(){this.buffer=""}static form(o,d){let h=-1;function v(A,C,D,B,K,fe){if(A==="%%")return"%";if(d[++h]===void 0)return;A=B?parseInt(B.substr(1)):void 0;let we=K?parseInt(K.substr(1)):void 0,De;switch(fe){case"s":De=d[h];break;case"c":De=d[h][0];break;case"f":De=parseFloat(d[h]).toFixed(A);break;case"p":De=parseFloat(d[h]).toPrecision(A);break;case"e":De=parseFloat(d[h]).toExponential(A);break;case"x":De=parseInt(d[h]).toString(we||16);break;case"d":De=parseFloat(parseInt(d[h],we||10).toPrecision(A)).toFixed(0);break}De=typeof De=="object"?JSON.stringify(De):(+De).toString(we);let ze=parseInt(D),He=D&&D[0]+""=="0"?"0":" ";for(;De.length<ze;)De=C!==void 0?De+He:He+De;return De}let b=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(b,v)}format(o,...d){this.buffer+=Cs.form(o,d)}toString(){return this.buffer}}class Bi{constructor(o){this.boundingBox=new Ys(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let d=this.getCodeword(o);if(d!=null)return d;for(let h=1;h<Bi.MAX_NEARBY_DISTANCE;h++){let v=this.imageRowToCodewordIndex(o)-h;if(v>=0&&(d=this.codewords[v],d!=null)||(v=this.imageRowToCodewordIndex(o)+h,v<this.codewords.length&&(d=this.codewords[v],d!=null)))return d}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,d){this.codewords[this.imageRowToCodewordIndex(o)]=d}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new Cs;let d=0;for(const h of this.codewords){if(h==null){o.format("%3d:    |   %n",d++);continue}o.format("%3d: %3d|%3d%n",d++,h.getRowNumber(),h.getValue())}return o.toString()}}Bi.MAX_NEARBY_DISTANCE=5;class oo{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let d=this.values.get(o);d==null&&(d=0),d++,this.values.set(o,d)}getValue(){let o=-1,d=new Array;for(const[h,v]of this.values.entries()){const b={getKey:()=>h,getValue:()=>v};b.getValue()>o?(o=b.getValue(),d=[],d.push(b.getKey())):b.getValue()===o&&d.push(b.getKey())}return fr.toIntArray(d)}getConfidence(o){return this.values.get(o)}}class Bo extends Bi{constructor(o,d){super(o),this._isLeft=d}setRowNumbers(){for(let o of this.getCodewords())o!=null&&o.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let d=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(d,o);let h=this.getBoundingBox(),v=this._isLeft?h.getTopLeft():h.getTopRight(),b=this._isLeft?h.getBottomLeft():h.getBottomRight(),A=this.imageRowToCodewordIndex(Math.trunc(v.getY())),C=this.imageRowToCodewordIndex(Math.trunc(b.getY())),D=-1,B=1,K=0;for(let fe=A;fe<C;fe++){if(d[fe]==null)continue;let we=d[fe],De=we.getRowNumber()-D;if(De===0)K++;else if(De===1)B=Math.max(B,K),K=1,D=we.getRowNumber();else if(De<0||we.getRowNumber()>=o.getRowCount()||De>fe)d[fe]=null;else{let ze;B>2?ze=(B-2)*De:ze=De;let He=ze>=fe;for(let Xe=1;Xe<=ze&&!He;Xe++)He=d[fe-Xe]!=null;He?d[fe]=null:(D=we.getRowNumber(),K=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let d=new Int32Array(o.getRowCount());for(let h of this.getCodewords())if(h!=null){let v=h.getRowNumber();if(v>=d.length)continue;d[v]++}return d}adjustIncompleteIndicatorColumnRowNumbers(o){let d=this.getBoundingBox(),h=this._isLeft?d.getTopLeft():d.getTopRight(),v=this._isLeft?d.getBottomLeft():d.getBottomRight(),b=this.imageRowToCodewordIndex(Math.trunc(h.getY())),A=this.imageRowToCodewordIndex(Math.trunc(v.getY())),C=this.getCodewords(),D=-1;for(let B=b;B<A;B++){if(C[B]==null)continue;let K=C[B];K.setRowNumberAsRowIndicatorColumn();let fe=K.getRowNumber()-D;fe===0||(fe===1?D=K.getRowNumber():K.getRowNumber()>=o.getRowCount()?C[B]=null:D=K.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),d=new oo,h=new oo,v=new oo,b=new oo;for(let C of o){if(C==null)continue;C.setRowNumberAsRowIndicatorColumn();let D=C.getValue()%30,B=C.getRowNumber();switch(this._isLeft||(B+=2),B%3){case 0:h.setValue(D*3+1);break;case 1:b.setValue(D/3),v.setValue(D%3);break;case 2:d.setValue(D+1);break}}if(d.getValue().length===0||h.getValue().length===0||v.getValue().length===0||b.getValue().length===0||d.getValue()[0]<1||h.getValue()[0]+v.getValue()[0]<fr.MIN_ROWS_IN_BARCODE||h.getValue()[0]+v.getValue()[0]>fr.MAX_ROWS_IN_BARCODE)return null;let A=new rl(d.getValue()[0],h.getValue()[0],v.getValue()[0],b.getValue()[0]);return this.removeIncorrectCodewords(o,A),A}removeIncorrectCodewords(o,d){for(let h=0;h<o.length;h++){let v=o[h];if(o[h]==null)continue;let b=v.getValue()%30,A=v.getRowNumber();if(A>d.getRowCount()){o[h]=null;continue}switch(this._isLeft||(A+=2),A%3){case 0:b*3+1!==d.getRowCountUpperPart()&&(o[h]=null);break;case 1:(Math.trunc(b/3)!==d.getErrorCorrectionLevel()||b%3!==d.getRowCountLowerPart())&&(o[h]=null);break;case 2:b+1!==d.getColumnCount()&&(o[h]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ya{constructor(o,d){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=d,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=fr.MAX_CODEWORDS_IN_BARCODE,d;do d=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<d);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o!=null&&o.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let d=1;d<this.barcodeColumnCount+1;d++){let h=this.detectionResultColumns[d].getCodewords();for(let v=0;v<h.length;v++)h[v]!=null&&(h[v].hasValidRowNumber()||this.adjustRowNumbers(d,v,h))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<o.length;h++)if(o[h]!=null&&d[h]!=null&&o[h].getRowNumber()===d[h].getRowNumber())for(let v=1;v<=this.barcodeColumnCount;v++){let b=this.detectionResultColumns[v].getCodewords()[h];b!=null&&(b.setRowNumber(o[h].getRowNumber()),b.hasValidRowNumber()||(this.detectionResultColumns[v].getCodewords()[h]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<d.length;h++){if(d[h]==null)continue;let v=d[h].getRowNumber(),b=0;for(let A=this.barcodeColumnCount+1;A>0&&b<this.ADJUST_ROW_NUMBER_SKIP;A--){let C=this.detectionResultColumns[A].getCodewords()[h];C!=null&&(b=ya.adjustRowNumberIfValid(v,b,C),C.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,d=this.detectionResultColumns[0].getCodewords();for(let h=0;h<d.length;h++){if(d[h]==null)continue;let v=d[h].getRowNumber(),b=0;for(let A=1;A<this.barcodeColumnCount+1&&b<this.ADJUST_ROW_NUMBER_SKIP;A++){let C=this.detectionResultColumns[A].getCodewords()[h];C!=null&&(b=ya.adjustRowNumberIfValid(v,b,C),C.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,d,h){return h==null||h.hasValidRowNumber()||(h.isValidRowNumber(o)?(h.setRowNumber(o),d=0):++d),d}adjustRowNumbers(o,d,h){if(!this.detectionResultColumns[o-1])return;let v=h[d],b=this.detectionResultColumns[o-1].getCodewords(),A=b;this.detectionResultColumns[o+1]!=null&&(A=this.detectionResultColumns[o+1].getCodewords());let C=new Array(14);C[2]=b[d],C[3]=A[d],d>0&&(C[0]=h[d-1],C[4]=b[d-1],C[5]=A[d-1]),d>1&&(C[8]=h[d-2],C[10]=b[d-2],C[11]=A[d-2]),d<h.length-1&&(C[1]=h[d+1],C[6]=b[d+1],C[7]=A[d+1]),d<h.length-2&&(C[9]=h[d+2],C[12]=b[d+2],C[13]=A[d+2]);for(let D of C)if(ya.adjustRowNumber(v,D))return}static adjustRowNumber(o,d){return d==null?!1:d.hasValidRowNumber()&&d.getBucket()===o.getBucket()?(o.setRowNumber(d.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,d){this.detectionResultColumns[o]=d}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let d=new Cs;for(let h=0;h<o.getCodewords().length;h++){d.format("CW %3d:",h);for(let v=0;v<this.barcodeColumnCount+2;v++){if(this.detectionResultColumns[v]==null){d.format("    |   ");continue}let b=this.detectionResultColumns[v].getCodewords()[h];if(b==null){d.format("    |   ");continue}d.format(" %3d|%3d",b.getRowNumber(),b.getValue())}d.format("%n")}return d.toString()}}class Ai{constructor(o,d,h,v){this.rowNumber=Ai.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(d),this.bucket=Math.trunc(h),this.value=Math.trunc(v)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==Ai.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}Ai.BARCODE_ROW_UNKNOWN=-1;class Da{static initialize(){for(let o=0;o<fr.SYMBOL_TABLE.length;o++){let d=fr.SYMBOL_TABLE[o],h=d&1;for(let v=0;v<fr.BARS_IN_MODULE;v++){let b=0;for(;(d&1)===h;)b+=1,d>>=1;h=d&1,Da.RATIOS_TABLE[o]||(Da.RATIOS_TABLE[o]=new Array(fr.BARS_IN_MODULE)),Da.RATIOS_TABLE[o][fr.BARS_IN_MODULE-v-1]=Math.fround(b/fr.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let d=Da.getDecodedCodewordValue(Da.sampleBitCounts(o));return d!==-1?d:Da.getClosestDecodedValue(o)}static sampleBitCounts(o){let d=Re.sum(o),h=new Int32Array(fr.BARS_IN_MODULE),v=0,b=0;for(let A=0;A<fr.MODULES_IN_CODEWORD;A++){let C=d/(2*fr.MODULES_IN_CODEWORD)+A*d/fr.MODULES_IN_CODEWORD;b+o[v]<=C&&(b+=o[v],v++),h[v]++}return h}static getDecodedCodewordValue(o){let d=Da.getBitValue(o);return fr.getCodeword(d)===-1?-1:d}static getBitValue(o){let d=0;for(let h=0;h<o.length;h++)for(let v=0;v<o[h];v++)d=d<<1|(h%2===0?1:0);return Math.trunc(d)}static getClosestDecodedValue(o){let d=Re.sum(o),h=new Array(fr.BARS_IN_MODULE);if(d>1)for(let A=0;A<h.length;A++)h[A]=Math.fround(o[A]/d);let v=Qe.MAX_VALUE,b=-1;this.bSymbolTableReady||Da.initialize();for(let A=0;A<Da.RATIOS_TABLE.length;A++){let C=0,D=Da.RATIOS_TABLE[A];for(let B=0;B<fr.BARS_IN_MODULE;B++){let K=Math.fround(D[B]-h[B]);if(C+=Math.fround(K*K),C>=v)break}C<v&&(v=C,b=fr.SYMBOL_TABLE[A])}return b}}Da.bSymbolTableReady=!1,Da.RATIOS_TABLE=new Array(fr.SYMBOL_TABLE.length).map(he=>new Array(fr.BARS_IN_MODULE));class Fo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class Bc{static parseLong(o,d=void 0){return parseInt(o,d)}}class Sl extends p{}Sl.kind="NullPointerException";class _s{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,d,h){if(o==null)throw new Sl;if(d<0||d>o.length||h<0||d+h>o.length||d+h<0)throw new T;if(h===0)return;for(let v=0;v<h;v++)this.write(o[d+v])}flush(){}close(){}}class ms extends p{}class rc extends _s{constructor(o=32){if(super(),this.count=0,o<0)throw new y("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let h=this.buf.length<<1;if(h-o<0&&(h=o),h<0){if(o<0)throw new ms;h=F.MAX_VALUE}this.buf=R.copyOfUint8Array(this.buf,h)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,d,h){if(d<0||d>o.length||h<0||d+h-o.length>0)throw new T;this.ensureCapacity(this.count+h),_.arraycopy(o,d,this.buf,this.count,h),this.count+=h}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return R.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var tn;(function(he){he[he.ALPHA=0]="ALPHA",he[he.LOWER=1]="LOWER",he[he.MIXED=2]="MIXED",he[he.PUNCT=3]="PUNCT",he[he.ALPHA_SHIFT=4]="ALPHA_SHIFT",he[he.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(tn||(tn={}));function js(){if(typeof window<"u")return window.BigInt||null;if(typeof Rp<"u")return Rp.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let nl;function es(he){if(typeof nl>"u"&&(nl=js()),nl===null)throw new Error("BigInt is not supported!");return nl(he)}function Fc(){let he=[];he[0]=es(1);let o=es(900);he[1]=o;for(let d=2;d<16;d++)he[d]=he[d-1]*o;return he}class ut{static decode(o,d){let h=new me(""),v=W.ISO8859_1;h.enableDecoding(v);let b=1,A=o[b++],C=new Fo;for(;b<o[0];){switch(A){case ut.TEXT_COMPACTION_MODE_LATCH:b=ut.textCompaction(o,b,h);break;case ut.BYTE_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:b=ut.byteCompaction(A,o,v,b,h);break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[b++]);break;case ut.NUMERIC_COMPACTION_MODE_LATCH:b=ut.numericCompaction(o,b,h);break;case ut.ECI_CHARSET:W.getCharacterSetECIByValue(o[b++]);break;case ut.ECI_GENERAL_PURPOSE:b+=2;break;case ut.ECI_USER_DEFINED:b++;break;case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:b=ut.decodeMacroBlock(o,b,C);break;case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:throw new V;default:b--,b=ut.textCompaction(o,b,h);break}if(b<o.length)A=o[b++];else throw V.getFormatInstance()}if(h.length()===0)throw V.getFormatInstance();let D=new pe(null,h.toString(),null,d);return D.setOther(C),D}static decodeMacroBlock(o,d,h){if(d+ut.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw V.getFormatInstance();let v=new Int32Array(ut.NUMBER_OF_SEQUENCE_CODEWORDS);for(let C=0;C<ut.NUMBER_OF_SEQUENCE_CODEWORDS;C++,d++)v[C]=o[d];h.setSegmentIndex(F.parseInt(ut.decodeBase900toBase10(v,ut.NUMBER_OF_SEQUENCE_CODEWORDS)));let b=new me;d=ut.textCompaction(o,d,b),h.setFileId(b.toString());let A=-1;for(o[d]===ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(A=d+1);d<o[0];)switch(o[d]){case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(d++,o[d]){case ut.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let C=new me;d=ut.textCompaction(o,d+1,C),h.setFileName(C.toString());break;case ut.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let D=new me;d=ut.textCompaction(o,d+1,D),h.setSender(D.toString());break;case ut.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let B=new me;d=ut.textCompaction(o,d+1,B),h.setAddressee(B.toString());break;case ut.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let K=new me;d=ut.numericCompaction(o,d+1,K),h.setSegmentCount(F.parseInt(K.toString()));break;case ut.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let fe=new me;d=ut.numericCompaction(o,d+1,fe),h.setTimestamp(Bc.parseLong(fe.toString()));break;case ut.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let we=new me;d=ut.numericCompaction(o,d+1,we),h.setChecksum(F.parseInt(we.toString()));break;case ut.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let De=new me;d=ut.numericCompaction(o,d+1,De),h.setFileSize(Bc.parseLong(De.toString()));break;default:throw V.getFormatInstance()}break;case ut.MACRO_PDF417_TERMINATOR:d++,h.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(A!==-1){let C=d-A;h.isLastSegment()&&C--,h.setOptionalData(R.copyOfRange(o,A,A+C))}return d}static textCompaction(o,d,h){let v=new Int32Array((o[0]-d)*2),b=new Int32Array((o[0]-d)*2),A=0,C=!1;for(;d<o[0]&&!C;){let D=o[d++];if(D<ut.TEXT_COMPACTION_MODE_LATCH)v[A]=D/30,v[A+1]=D%30,A+=2;else switch(D){case ut.TEXT_COMPACTION_MODE_LATCH:v[A++]=ut.TEXT_COMPACTION_MODE_LATCH;break;case ut.BYTE_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:case ut.NUMERIC_COMPACTION_MODE_LATCH:case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:d--,C=!0;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v[A]=ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,D=o[d++],b[A]=D,A++;break}}return ut.decodeTextCompaction(v,b,A,h),d}static decodeTextCompaction(o,d,h,v){let b=tn.ALPHA,A=tn.ALPHA,C=0;for(;C<h;){let D=o[C],B="";switch(b){case tn.ALPHA:if(D<26)B=String.fromCharCode(65+D);else switch(D){case 26:B=" ";break;case ut.LL:b=tn.LOWER;break;case ut.ML:b=tn.MIXED;break;case ut.PS:A=b,b=tn.PUNCT_SHIFT;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(d[C]);break;case ut.TEXT_COMPACTION_MODE_LATCH:b=tn.ALPHA;break}break;case tn.LOWER:if(D<26)B=String.fromCharCode(97+D);else switch(D){case 26:B=" ";break;case ut.AS:A=b,b=tn.ALPHA_SHIFT;break;case ut.ML:b=tn.MIXED;break;case ut.PS:A=b,b=tn.PUNCT_SHIFT;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(d[C]);break;case ut.TEXT_COMPACTION_MODE_LATCH:b=tn.ALPHA;break}break;case tn.MIXED:if(D<ut.PL)B=ut.MIXED_CHARS[D];else switch(D){case ut.PL:b=tn.PUNCT;break;case 26:B=" ";break;case ut.LL:b=tn.LOWER;break;case ut.AL:b=tn.ALPHA;break;case ut.PS:A=b,b=tn.PUNCT_SHIFT;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(d[C]);break;case ut.TEXT_COMPACTION_MODE_LATCH:b=tn.ALPHA;break}break;case tn.PUNCT:if(D<ut.PAL)B=ut.PUNCT_CHARS[D];else switch(D){case ut.PAL:b=tn.ALPHA;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(d[C]);break;case ut.TEXT_COMPACTION_MODE_LATCH:b=tn.ALPHA;break}break;case tn.ALPHA_SHIFT:if(b=A,D<26)B=String.fromCharCode(65+D);else switch(D){case 26:B=" ";break;case ut.TEXT_COMPACTION_MODE_LATCH:b=tn.ALPHA;break}break;case tn.PUNCT_SHIFT:if(b=A,D<ut.PAL)B=ut.PUNCT_CHARS[D];else switch(D){case ut.PAL:b=tn.ALPHA;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(d[C]);break;case ut.TEXT_COMPACTION_MODE_LATCH:b=tn.ALPHA;break}break}B!==""&&v.append(B),C++}}static byteCompaction(o,d,h,v,b){let A=new rc,C=0,D=0,B=!1;switch(o){case ut.BYTE_COMPACTION_MODE_LATCH:let K=new Int32Array(6),fe=d[v++];for(;v<d[0]&&!B;)switch(K[C++]=fe,D=900*D+fe,fe=d[v++],fe){case ut.TEXT_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH:case ut.NUMERIC_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:v--,B=!0;break;default:if(C%5===0&&C>0){for(let we=0;we<6;++we)A.write(Number(es(D)>>es(8*(5-we))));D=0,C=0}break}v===d[0]&&fe<ut.TEXT_COMPACTION_MODE_LATCH&&(K[C++]=fe);for(let we=0;we<C;we++)A.write(K[we]);break;case ut.BYTE_COMPACTION_MODE_LATCH_6:for(;v<d[0]&&!B;){let we=d[v++];if(we<ut.TEXT_COMPACTION_MODE_LATCH)C++,D=900*D+we;else switch(we){case ut.TEXT_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH:case ut.NUMERIC_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:v--,B=!0;break}if(C%5===0&&C>0){for(let De=0;De<6;++De)A.write(Number(es(D)>>es(8*(5-De))));D=0,C=0}}break}return b.append(Z.decode(A.toByteArray(),h)),v}static numericCompaction(o,d,h){let v=0,b=!1,A=new Int32Array(ut.MAX_NUMERIC_CODEWORDS);for(;d<o[0]&&!b;){let C=o[d++];if(d===o[0]&&(b=!0),C<ut.TEXT_COMPACTION_MODE_LATCH)A[v]=C,v++;else switch(C){case ut.TEXT_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:d--,b=!0;break}(v%ut.MAX_NUMERIC_CODEWORDS===0||C===ut.NUMERIC_COMPACTION_MODE_LATCH||b)&&v>0&&(h.append(ut.decodeBase900toBase10(A,v)),v=0)}return d}static decodeBase900toBase10(o,d){let h=es(0);for(let b=0;b<d;b++)h+=ut.EXP900[d-b-1]*es(o[b]);let v=h.toString();if(v.charAt(0)!=="1")throw new V;return v.substring(1)}}ut.TEXT_COMPACTION_MODE_LATCH=900,ut.BYTE_COMPACTION_MODE_LATCH=901,ut.NUMERIC_COMPACTION_MODE_LATCH=902,ut.BYTE_COMPACTION_MODE_LATCH_6=924,ut.ECI_USER_DEFINED=925,ut.ECI_GENERAL_PURPOSE=926,ut.ECI_CHARSET=927,ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ut.MACRO_PDF417_TERMINATOR=922,ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ut.MAX_NUMERIC_CODEWORDS=15,ut.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ut.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ut.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ut.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ut.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ut.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ut.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ut.PL=25,ut.LL=27,ut.AS=27,ut.ML=28,ut.AL=28,ut.PS=29,ut.PAL=29,ut.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ut.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ut.EXP900=js()?Fc():[],ut.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Br{constructor(){}static decode(o,d,h,v,b,A,C){let D=new Ys(o,d,h,v,b),B=null,K=null,fe;for(let ze=!0;;ze=!1){if(d!=null&&(B=Br.getRowIndicatorColumn(o,D,d,!0,A,C)),v!=null&&(K=Br.getRowIndicatorColumn(o,D,v,!1,A,C)),fe=Br.merge(B,K),fe==null)throw q.getNotFoundInstance();let He=fe.getBoundingBox();if(ze&&He!=null&&(He.getMinY()<D.getMinY()||He.getMaxY()>D.getMaxY()))D=He;else break}fe.setBoundingBox(D);let we=fe.getBarcodeColumnCount()+1;fe.setDetectionResultColumn(0,B),fe.setDetectionResultColumn(we,K);let De=B!=null;for(let ze=1;ze<=we;ze++){let He=De?ze:we-ze;if(fe.getDetectionResultColumn(He)!==void 0)continue;let Xe;He===0||He===we?Xe=new Bo(D,He===0):Xe=new Bi(D),fe.setDetectionResultColumn(He,Xe);let dt=-1,Lt=dt;for(let Pt=D.getMinY();Pt<=D.getMaxY();Pt++){if(dt=Br.getStartColumn(fe,He,Pt,De),dt<0||dt>D.getMaxX()){if(Lt===-1)continue;dt=Lt}let Mt=Br.detectCodeword(o,D.getMinX(),D.getMaxX(),De,dt,Pt,A,C);Mt!=null&&(Xe.setCodeword(Pt,Mt),Lt=dt,A=Math.min(A,Mt.getWidth()),C=Math.max(C,Mt.getWidth()))}}return Br.createDecoderResult(fe)}static merge(o,d){if(o==null&&d==null)return null;let h=Br.getBarcodeMetadata(o,d);if(h==null)return null;let v=Ys.merge(Br.adjustBoundingBox(o),Br.adjustBoundingBox(d));return new ya(h,v)}static adjustBoundingBox(o){if(o==null)return null;let d=o.getRowHeights();if(d==null)return null;let h=Br.getMax(d),v=0;for(let C of d)if(v+=h-C,C>0)break;let b=o.getCodewords();for(let C=0;v>0&&b[C]==null;C++)v--;let A=0;for(let C=d.length-1;C>=0&&(A+=h-d[C],!(d[C]>0));C--);for(let C=b.length-1;A>0&&b[C]==null;C--)A--;return o.getBoundingBox().addMissingRows(v,A,o.isLeft())}static getMax(o){let d=-1;for(let h of o)d=Math.max(d,h);return d}static getBarcodeMetadata(o,d){let h;if(o==null||(h=o.getBarcodeMetadata())==null)return d==null?null:d.getBarcodeMetadata();let v;return d==null||(v=d.getBarcodeMetadata())==null?h:h.getColumnCount()!==v.getColumnCount()&&h.getErrorCorrectionLevel()!==v.getErrorCorrectionLevel()&&h.getRowCount()!==v.getRowCount()?null:h}static getRowIndicatorColumn(o,d,h,v,b,A){let C=new Bo(d,v);for(let D=0;D<2;D++){let B=D===0?1:-1,K=Math.trunc(Math.trunc(h.getX()));for(let fe=Math.trunc(Math.trunc(h.getY()));fe<=d.getMaxY()&&fe>=d.getMinY();fe+=B){let we=Br.detectCodeword(o,0,o.getWidth(),v,K,fe,b,A);we!=null&&(C.setCodeword(fe,we),v?K=we.getStartX():K=we.getEndX())}}return C}static adjustCodewordCount(o,d){let h=d[0][1],v=h.getValue(),b=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-Br.getNumberOfECCodeWords(o.getBarcodeECLevel());if(v.length===0){if(b<1||b>fr.MAX_CODEWORDS_IN_BARCODE)throw q.getNotFoundInstance();h.setValue(b)}else v[0]!==b&&h.setValue(b)}static createDecoderResult(o){let d=Br.createBarcodeMatrix(o);Br.adjustCodewordCount(o,d);let h=new Array,v=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),b=[],A=new Array;for(let D=0;D<o.getBarcodeRowCount();D++)for(let B=0;B<o.getBarcodeColumnCount();B++){let K=d[D][B+1].getValue(),fe=D*o.getBarcodeColumnCount()+B;K.length===0?h.push(fe):K.length===1?v[fe]=K[0]:(A.push(fe),b.push(K))}let C=new Array(b.length);for(let D=0;D<C.length;D++)C[D]=b[D];return Br.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),v,fr.toIntArray(h),fr.toIntArray(A),C)}static createDecoderResultFromAmbiguousValues(o,d,h,v,b){let A=new Int32Array(v.length),C=100;for(;C-- >0;){for(let D=0;D<A.length;D++)d[v[D]]=b[D][A[D]];try{return Br.decodeCodewords(d,o,h)}catch(D){if(!(D instanceof N))throw D}if(A.length===0)throw N.getChecksumInstance();for(let D=0;D<A.length;D++)if(A[D]<b[D].length-1){A[D]++;break}else if(A[D]=0,D===A.length-1)throw N.getChecksumInstance()}throw N.getChecksumInstance()}static createBarcodeMatrix(o){let d=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let v=0;v<d.length;v++)for(let b=0;b<d[v].length;b++)d[v][b]=new oo;let h=0;for(let v of o.getDetectionResultColumns()){if(v!=null){for(let b of v.getCodewords())if(b!=null){let A=b.getRowNumber();if(A>=0){if(A>=d.length)continue;d[A][h].setValue(b.getValue())}}}h++}return d}static isValidBarcodeColumn(o,d){return d>=0&&d<=o.getBarcodeColumnCount()+1}static getStartColumn(o,d,h,v){let b=v?1:-1,A=null;if(Br.isValidBarcodeColumn(o,d-b)&&(A=o.getDetectionResultColumn(d-b).getCodeword(h)),A!=null)return v?A.getEndX():A.getStartX();if(A=o.getDetectionResultColumn(d).getCodewordNearby(h),A!=null)return v?A.getStartX():A.getEndX();if(Br.isValidBarcodeColumn(o,d-b)&&(A=o.getDetectionResultColumn(d-b).getCodewordNearby(h)),A!=null)return v?A.getEndX():A.getStartX();let C=0;for(;Br.isValidBarcodeColumn(o,d-b);){d-=b;for(let D of o.getDetectionResultColumn(d).getCodewords())if(D!=null)return(v?D.getEndX():D.getStartX())+b*C*(D.getEndX()-D.getStartX());C++}return v?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,d,h,v,b,A,C,D){b=Br.adjustCodewordStartColumn(o,d,h,v,b,A);let B=Br.getModuleBitCount(o,d,h,v,b,A);if(B==null)return null;let K,fe=Re.sum(B);if(v)K=b+fe;else{for(let ze=0;ze<B.length/2;ze++){let He=B[ze];B[ze]=B[B.length-1-ze],B[B.length-1-ze]=He}K=b,b=K-fe}if(!Br.checkCodewordSkew(fe,C,D))return null;let we=Da.getDecodedValue(B),De=fr.getCodeword(we);return De===-1?null:new Ai(b,K,Br.getCodewordBucketNumber(we),De)}static getModuleBitCount(o,d,h,v,b,A){let C=b,D=new Int32Array(8),B=0,K=v?1:-1,fe=v;for(;(v?C<h:C>=d)&&B<D.length;)o.get(C,A)===fe?(D[B]++,C+=K):(B++,fe=!fe);return B===D.length||C===(v?h:d)&&B===D.length-1?D:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,d,h,v,b,A){let C=b,D=v?-1:1;for(let B=0;B<2;B++){for(;(v?C>=d:C<h)&&v===o.get(C,A);){if(Math.abs(b-C)>Br.CODEWORD_SKEW_SIZE)return b;C+=D}D=-D,v=!v}return C}static checkCodewordSkew(o,d,h){return d-Br.CODEWORD_SKEW_SIZE<=o&&o<=h+Br.CODEWORD_SKEW_SIZE}static decodeCodewords(o,d,h){if(o.length===0)throw V.getFormatInstance();let v=1<<d+1,b=Br.correctErrors(o,h,v);Br.verifyCodewordCount(o,v);let A=ut.decode(o,""+d);return A.setErrorsCorrected(b),A.setErasures(h.length),A}static correctErrors(o,d,h){if(d!=null&&d.length>h/2+Br.MAX_ERRORS||h<0||h>Br.MAX_EC_CODEWORDS)throw N.getChecksumInstance();return Br.errorCorrection.decode(o,h,d)}static verifyCodewordCount(o,d){if(o.length<4)throw V.getFormatInstance();let h=o[0];if(h>o.length)throw V.getFormatInstance();if(h===0)if(d<o.length)o[0]=o.length-d;else throw V.getFormatInstance()}static getBitCountForCodeword(o){let d=new Int32Array(8),h=0,v=d.length-1;for(;!((o&1)!==h&&(h=o&1,v--,v<0));)d[v]++,o>>=1;return d}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return Br.getCodewordBucketNumber(Br.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let d=new Cs;for(let h=0;h<o.length;h++){d.format("Row %2d: ",h);for(let v=0;v<o[h].length;v++){let b=o[h][v];b.getValue().length===0?d.format("        ",null):d.format("%4d(%2d)",b.getValue()[0],b.getConfidence(b.getValue()[0]))}d.format("%n")}return d.toString()}}Br.CODEWORD_SKEW_SIZE=2,Br.MAX_ERRORS=3,Br.MAX_EC_CODEWORDS=512,Br.errorCorrection=new Ws;class Sa{decode(o,d=null){let h=Sa.decode(o,d,!1);if(h==null||h.length===0||h[0]==null)throw q.getNotFoundInstance();return h[0]}decodeMultiple(o,d=null){try{return Sa.decode(o,d,!0)}catch(h){throw h instanceof V||h instanceof N?q.getNotFoundInstance():h}}static decode(o,d,h){const v=new Array,b=jr.detectMultiple(o,d,h);for(const A of b.getPoints()){const C=Br.decode(b.getBits(),A[4],A[5],A[6],A[7],Sa.getMinCodewordWidth(A),Sa.getMaxCodewordWidth(A)),D=new se(C.getText(),C.getRawBytes(),void 0,A,ne.PDF_417);D.putMetadata(je.ERROR_CORRECTION_LEVEL,C.getECLevel());const B=C.getOther();B!=null&&D.putMetadata(je.PDF417_EXTRA_METADATA,B),v.push(D)}return v.map(A=>A)}static getMaxWidth(o,d){return o==null||d==null?0:Math.trunc(Math.abs(o.getX()-d.getX()))}static getMinWidth(o,d){return o==null||d==null?F.MAX_VALUE:Math.trunc(Math.abs(o.getX()-d.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(Sa.getMaxWidth(o[0],o[4]),Sa.getMaxWidth(o[6],o[2])*fr.MODULES_IN_CODEWORD/fr.MODULES_IN_STOP_PATTERN),Math.max(Sa.getMaxWidth(o[1],o[5]),Sa.getMaxWidth(o[7],o[3])*fr.MODULES_IN_CODEWORD/fr.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(Sa.getMinWidth(o[0],o[4]),Sa.getMinWidth(o[6],o[2])*fr.MODULES_IN_CODEWORD/fr.MODULES_IN_STOP_PATTERN),Math.min(Sa.getMinWidth(o[1],o[5]),Sa.getMinWidth(o[7],o[3])*fr.MODULES_IN_CODEWORD/fr.MODULES_IN_STOP_PATTERN)))}reset(){}}class al extends p{}al.kind="ReaderException";class zc{constructor(o,d){this.verbose=o===!0,d&&this.setHints(d)}decode(o,d){return d&&this.setHints(d),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const d=!n(o)&&o.get(J.TRY_HARDER)===!0,h=n(o)?null:o.get(J.POSSIBLE_FORMATS),v=new Array;if(!n(h)){const b=h.some(A=>A===ne.UPC_A||A===ne.UPC_E||A===ne.EAN_13||A===ne.EAN_8||A===ne.CODABAR||A===ne.CODE_39||A===ne.CODE_93||A===ne.CODE_128||A===ne.ITF||A===ne.RSS_14||A===ne.RSS_EXPANDED);b&&!d&&v.push(new Hn(o,this.verbose)),h.includes(ne.QR_CODE)&&v.push(new Gs),h.includes(ne.DATA_MATRIX)&&v.push(new Vn),h.includes(ne.AZTEC)&&v.push(new zt),h.includes(ne.PDF_417)&&v.push(new Sa),b&&d&&v.push(new Hn(o,this.verbose))}v.length===0&&(d||v.push(new Hn(o,this.verbose)),v.push(new Gs),v.push(new Vn),v.push(new zt),v.push(new Sa),d&&v.push(new Hn(o,this.verbose))),this.readers=v}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new al("No readers where selected, nothing can be read.");for(const d of this.readers)try{return d.decode(o,this.hints)}catch(h){if(h instanceof al)continue}throw new q("No MultiFormat Readers were able to detect the code.")}}class El extends H{constructor(o=null,d=500){const h=new zc;h.setHints(o),super(h,d)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class Uc extends H{constructor(o=500){super(new Sa,o)}}class qc extends H{constructor(o=500){super(new Gs,o)}}var nc;(function(he){he[he.ERROR_CORRECTION=0]="ERROR_CORRECTION",he[he.CHARACTER_SET=1]="CHARACTER_SET",he[he.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",he[he.MIN_SIZE=3]="MIN_SIZE",he[he.MAX_SIZE=4]="MAX_SIZE",he[he.MARGIN=5]="MARGIN",he[he.PDF417_COMPACT=6]="PDF417_COMPACT",he[he.PDF417_COMPACTION=7]="PDF417_COMPACTION",he[he.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",he[he.AZTEC_LAYERS=9]="AZTEC_LAYERS",he[he.QR_VERSION=10]="QR_VERSION"})(nc||(nc={}));var Ea=nc;class lo{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new ke(o,Int32Array.from([1])))}buildGenerator(o){const d=this.cachedGenerators;if(o>=d.length){let h=d[d.length-1];const v=this.field;for(let b=d.length;b<=o;b++){const A=h.multiply(new ke(v,Int32Array.from([1,v.exp(b-1+v.getGeneratorBase())])));d.push(A),h=A}}return d[o]}encode(o,d){if(d===0)throw new y("No error correction bytes");const h=o.length-d;if(h<=0)throw new y("No data bytes provided");const v=this.buildGenerator(d),b=new Int32Array(h);_.arraycopy(o,0,b,0,h);let A=new ke(this.field,b);A=A.multiplyByMonomial(d,1);const D=A.divide(v)[1].getCoefficients(),B=d-D.length;for(let K=0;K<B;K++)o[h+K]=0;_.arraycopy(D,0,o,h+B,D.length)}}class jn{constructor(){}static applyMaskPenaltyRule1(o){return jn.applyMaskPenaltyRule1Internal(o,!0)+jn.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let d=0;const h=o.getArray(),v=o.getWidth(),b=o.getHeight();for(let A=0;A<b-1;A++){const C=h[A];for(let D=0;D<v-1;D++){const B=C[D];B===C[D+1]&&B===h[A+1][D]&&B===h[A+1][D+1]&&d++}}return jn.N2*d}static applyMaskPenaltyRule3(o){let d=0;const h=o.getArray(),v=o.getWidth(),b=o.getHeight();for(let A=0;A<b;A++)for(let C=0;C<v;C++){const D=h[A];C+6<v&&D[C]===1&&D[C+1]===0&&D[C+2]===1&&D[C+3]===1&&D[C+4]===1&&D[C+5]===0&&D[C+6]===1&&(jn.isWhiteHorizontal(D,C-4,C)||jn.isWhiteHorizontal(D,C+7,C+11))&&d++,A+6<b&&h[A][C]===1&&h[A+1][C]===0&&h[A+2][C]===1&&h[A+3][C]===1&&h[A+4][C]===1&&h[A+5][C]===0&&h[A+6][C]===1&&(jn.isWhiteVertical(h,C,A-4,A)||jn.isWhiteVertical(h,C,A+7,A+11))&&d++}return d*jn.N3}static isWhiteHorizontal(o,d,h){d=Math.max(d,0),h=Math.min(h,o.length);for(let v=d;v<h;v++)if(o[v]===1)return!1;return!0}static isWhiteVertical(o,d,h,v){h=Math.max(h,0),v=Math.min(v,o.length);for(let b=h;b<v;b++)if(o[b][d]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let d=0;const h=o.getArray(),v=o.getWidth(),b=o.getHeight();for(let D=0;D<b;D++){const B=h[D];for(let K=0;K<v;K++)B[K]===1&&d++}const A=o.getHeight()*o.getWidth();return Math.floor(Math.abs(d*2-A)*10/A)*jn.N4}static getDataMaskBit(o,d,h){let v,b;switch(o){case 0:v=h+d&1;break;case 1:v=h&1;break;case 2:v=d%3;break;case 3:v=(h+d)%3;break;case 4:v=Math.floor(h/2)+Math.floor(d/3)&1;break;case 5:b=h*d,v=(b&1)+b%3;break;case 6:b=h*d,v=(b&1)+b%3&1;break;case 7:b=h*d,v=b%3+(h+d&1)&1;break;default:throw new y("Invalid mask pattern: "+o)}return v===0}static applyMaskPenaltyRule1Internal(o,d){let h=0;const v=d?o.getHeight():o.getWidth(),b=d?o.getWidth():o.getHeight(),A=o.getArray();for(let C=0;C<v;C++){let D=0,B=-1;for(let K=0;K<b;K++){const fe=d?A[C][K]:A[K][C];fe===B?D++:(D>=5&&(h+=jn.N1+(D-5)),D=1,B=fe)}D>=5&&(h+=jn.N1+(D-5))}return h}}jn.N1=3,jn.N2=3,jn.N3=40,jn.N4=10;class il{constructor(o,d){this.width=o,this.height=d;const h=new Array(d);for(let v=0;v!==d;v++)h[v]=new Uint8Array(o);this.bytes=h}getHeight(){return this.height}getWidth(){return this.width}get(o,d){return this.bytes[d][o]}getArray(){return this.bytes}setNumber(o,d,h){this.bytes[d][o]=h}setBoolean(o,d,h){this.bytes[d][o]=h?1:0}clear(o){for(const d of this.bytes)R.fill(d,o)}equals(o){if(!(o instanceof il))return!1;const d=o;if(this.width!==d.width||this.height!==d.height)return!1;for(let h=0,v=this.height;h<v;++h){const b=this.bytes[h],A=d.bytes[h];for(let C=0,D=this.width;C<D;++C)if(b[C]!==A[C])return!1}return!0}toString(){const o=new me;for(let d=0,h=this.height;d<h;++d){const v=this.bytes[d];for(let b=0,A=this.width;b<A;++b)switch(v[b]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class ts{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new me;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<ts.NUM_MASK_PATTERNS}}ts.NUM_MASK_PATTERNS=8;class gn extends p{}gn.kind="WriterException";class P{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,d,h,v,b){P.clearMatrix(b),P.embedBasicPatterns(h,b),P.embedTypeInfo(d,v,b),P.maybeEmbedVersionInfo(h,b),P.embedDataBits(o,v,b)}static embedBasicPatterns(o,d){P.embedPositionDetectionPatternsAndSeparators(d),P.embedDarkDotAtLeftBottomCorner(d),P.maybeEmbedPositionAdjustmentPatterns(o,d),P.embedTimingPatterns(d)}static embedTypeInfo(o,d,h){const v=new G;P.makeTypeInfoBits(o,d,v);for(let b=0,A=v.getSize();b<A;++b){const C=v.get(v.getSize()-1-b),D=P.TYPE_INFO_COORDINATES[b],B=D[0],K=D[1];if(h.setBoolean(B,K,C),b<8){const fe=h.getWidth()-b-1;h.setBoolean(fe,8,C)}else{const we=h.getHeight()-7+(b-8);h.setBoolean(8,we,C)}}}static maybeEmbedVersionInfo(o,d){if(o.getVersionNumber()<7)return;const h=new G;P.makeVersionInfoBits(o,h);let v=6*3-1;for(let b=0;b<6;++b)for(let A=0;A<3;++A){const C=h.get(v);v--,d.setBoolean(b,d.getHeight()-11+A,C),d.setBoolean(d.getHeight()-11+A,b,C)}}static embedDataBits(o,d,h){let v=0,b=-1,A=h.getWidth()-1,C=h.getHeight()-1;for(;A>0;){for(A===6&&(A-=1);C>=0&&C<h.getHeight();){for(let D=0;D<2;++D){const B=A-D;if(!P.isEmpty(h.get(B,C)))continue;let K;v<o.getSize()?(K=o.get(v),++v):K=!1,d!==255&&jn.getDataMaskBit(d,B,C)&&(K=!K),h.setBoolean(B,C,K)}C+=b}b=-b,C+=b,A-=2}if(v!==o.getSize())throw new gn("Not all bits consumed: "+v+"/"+o.getSize())}static findMSBSet(o){return 32-F.numberOfLeadingZeros(o)}static calculateBCHCode(o,d){if(d===0)throw new y("0 polynomial");const h=P.findMSBSet(d);for(o<<=h-1;P.findMSBSet(o)>=h;)o^=d<<P.findMSBSet(o)-h;return o}static makeTypeInfoBits(o,d,h){if(!ts.isValidMaskPattern(d))throw new gn("Invalid mask pattern");const v=o.getBits()<<3|d;h.appendBits(v,5);const b=P.calculateBCHCode(v,P.TYPE_INFO_POLY);h.appendBits(b,10);const A=new G;if(A.appendBits(P.TYPE_INFO_MASK_PATTERN,15),h.xor(A),h.getSize()!==15)throw new gn("should not happen but we got: "+h.getSize())}static makeVersionInfoBits(o,d){d.appendBits(o.getVersionNumber(),6);const h=P.calculateBCHCode(o.getVersionNumber(),P.VERSION_INFO_POLY);if(d.appendBits(h,12),d.getSize()!==18)throw new gn("should not happen but we got: "+d.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let d=8;d<o.getWidth()-8;++d){const h=(d+1)%2;P.isEmpty(o.get(d,6))&&o.setNumber(d,6,h),P.isEmpty(o.get(6,d))&&o.setNumber(6,d,h)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new gn;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,d,h){for(let v=0;v<8;++v){if(!P.isEmpty(h.get(o+v,d)))throw new gn;h.setNumber(o+v,d,0)}}static embedVerticalSeparationPattern(o,d,h){for(let v=0;v<7;++v){if(!P.isEmpty(h.get(o,d+v)))throw new gn;h.setNumber(o,d+v,0)}}static embedPositionAdjustmentPattern(o,d,h){for(let v=0;v<5;++v){const b=P.POSITION_ADJUSTMENT_PATTERN[v];for(let A=0;A<5;++A)h.setNumber(o+A,d+v,b[A])}}static embedPositionDetectionPattern(o,d,h){for(let v=0;v<7;++v){const b=P.POSITION_DETECTION_PATTERN[v];for(let A=0;A<7;++A)h.setNumber(o+A,d+v,b[A])}}static embedPositionDetectionPatternsAndSeparators(o){const d=P.POSITION_DETECTION_PATTERN[0].length;P.embedPositionDetectionPattern(0,0,o),P.embedPositionDetectionPattern(o.getWidth()-d,0,o),P.embedPositionDetectionPattern(0,o.getWidth()-d,o);const h=8;P.embedHorizontalSeparationPattern(0,h-1,o),P.embedHorizontalSeparationPattern(o.getWidth()-h,h-1,o),P.embedHorizontalSeparationPattern(0,o.getWidth()-h,o);const v=7;P.embedVerticalSeparationPattern(v,0,o),P.embedVerticalSeparationPattern(o.getHeight()-v-1,0,o),P.embedVerticalSeparationPattern(v,o.getHeight()-v,o)}static maybeEmbedPositionAdjustmentPatterns(o,d){if(o.getVersionNumber()<2)return;const h=o.getVersionNumber()-1,v=P.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[h];for(let b=0,A=v.length;b!==A;b++){const C=v[b];if(C>=0)for(let D=0;D!==A;D++){const B=v[D];B>=0&&P.isEmpty(d.get(B,C))&&P.embedPositionAdjustmentPattern(B-2,C-2,d)}}}}P.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),P.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),P.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),P.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),P.VERSION_INFO_POLY=7973,P.TYPE_INFO_POLY=1335,P.TYPE_INFO_MASK_PATTERN=21522;class xe{constructor(o,d){this.dataBytes=o,this.errorCorrectionBytes=d}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ie{constructor(){}static calculateMaskPenalty(o){return jn.applyMaskPenaltyRule1(o)+jn.applyMaskPenaltyRule2(o)+jn.applyMaskPenaltyRule3(o)+jn.applyMaskPenaltyRule4(o)}static encode(o,d,h=null){let v=Ie.DEFAULT_BYTE_MODE_ENCODING;const b=h!==null&&h.get(Ea.CHARACTER_SET)!==void 0;b&&(v=h.get(Ea.CHARACTER_SET).toString());const A=this.chooseMode(o,v),C=new G;if(A===pr.BYTE&&(b||Ie.DEFAULT_BYTE_MODE_ENCODING!==v)){const Pt=W.getCharacterSetECIByName(v);Pt!==void 0&&this.appendECI(Pt,C)}this.appendModeInfo(A,C);const D=new G;this.appendBytes(o,A,D,v);let B;if(h!==null&&h.get(Ea.QR_VERSION)!==void 0){const Pt=Number.parseInt(h.get(Ea.QR_VERSION).toString(),10);B=sr.getVersionForNumber(Pt);const Mt=this.calculateBitsNeeded(A,C,D,B);if(!this.willFit(Mt,B,d))throw new gn("Data too big for requested version")}else B=this.recommendVersion(d,A,C,D);const K=new G;K.appendBitArray(C);const fe=A===pr.BYTE?D.getSizeInBytes():o.length;this.appendLengthInfo(fe,B,A,K),K.appendBitArray(D);const we=B.getECBlocksForLevel(d),De=B.getTotalCodewords()-we.getTotalECCodewords();this.terminateBits(De,K);const ze=this.interleaveWithECBytes(K,B.getTotalCodewords(),De,we.getNumBlocks()),He=new ts;He.setECLevel(d),He.setMode(A),He.setVersion(B);const Xe=B.getDimensionForVersion(),dt=new il(Xe,Xe),Lt=this.chooseMaskPattern(ze,d,B,dt);return He.setMaskPattern(Lt),P.buildMatrix(ze,d,B,Lt,dt),He.setMatrix(dt),He}static recommendVersion(o,d,h,v){const b=this.calculateBitsNeeded(d,h,v,sr.getVersionForNumber(1)),A=this.chooseVersion(b,o),C=this.calculateBitsNeeded(d,h,v,A);return this.chooseVersion(C,o)}static calculateBitsNeeded(o,d,h,v){return d.getSize()+o.getCharacterCountBits(v)+h.getSize()}static getAlphanumericCode(o){return o<Ie.ALPHANUMERIC_TABLE.length?Ie.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,d=null){if(W.SJIS.getName()===d&&this.isOnlyDoubleByteKanji(o))return pr.KANJI;let h=!1,v=!1;for(let b=0,A=o.length;b<A;++b){const C=o.charAt(b);if(Ie.isDigit(C))h=!0;else if(this.getAlphanumericCode(C.charCodeAt(0))!==-1)v=!0;else return pr.BYTE}return v?pr.ALPHANUMERIC:h?pr.NUMERIC:pr.BYTE}static isOnlyDoubleByteKanji(o){let d;try{d=Z.encode(o,W.SJIS)}catch{return!1}const h=d.length;if(h%2!==0)return!1;for(let v=0;v<h;v+=2){const b=d[v]&255;if((b<129||b>159)&&(b<224||b>235))return!1}return!0}static chooseMaskPattern(o,d,h,v){let b=Number.MAX_SAFE_INTEGER,A=-1;for(let C=0;C<ts.NUM_MASK_PATTERNS;C++){P.buildMatrix(o,d,h,C,v);let D=this.calculateMaskPenalty(v);D<b&&(b=D,A=C)}return A}static chooseVersion(o,d){for(let h=1;h<=40;h++){const v=sr.getVersionForNumber(h);if(Ie.willFit(o,v,d))return v}throw new gn("Data too big")}static willFit(o,d,h){const v=d.getTotalCodewords(),A=d.getECBlocksForLevel(h).getTotalECCodewords(),C=v-A,D=(o+7)/8;return C>=D}static terminateBits(o,d){const h=o*8;if(d.getSize()>h)throw new gn("data bits cannot fit in the QR Code"+d.getSize()+" > "+h);for(let A=0;A<4&&d.getSize()<h;++A)d.appendBit(!1);const v=d.getSize()&7;if(v>0)for(let A=v;A<8;A++)d.appendBit(!1);const b=o-d.getSizeInBytes();for(let A=0;A<b;++A)d.appendBits(A&1?17:236,8);if(d.getSize()!==h)throw new gn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,d,h,v,b,A){if(v>=h)throw new gn("Block ID too large");const C=o%h,D=h-C,B=Math.floor(o/h),K=B+1,fe=Math.floor(d/h),we=fe+1,De=B-fe,ze=K-we;if(De!==ze)throw new gn("EC bytes mismatch");if(h!==D+C)throw new gn("RS blocks mismatch");if(o!==(fe+De)*D+(we+ze)*C)throw new gn("Total bytes mismatch");v<D?(b[0]=fe,A[0]=De):(b[0]=we,A[0]=ze)}static interleaveWithECBytes(o,d,h,v){if(o.getSizeInBytes()!==h)throw new gn("Number of bits and data bytes does not match");let b=0,A=0,C=0;const D=new Array;for(let K=0;K<v;++K){const fe=new Int32Array(1),we=new Int32Array(1);Ie.getNumDataBytesAndNumECBytesForBlockID(d,h,v,K,fe,we);const De=fe[0],ze=new Uint8Array(De);o.toBytes(8*b,ze,0,De);const He=Ie.generateECBytes(ze,we[0]);D.push(new xe(ze,He)),A=Math.max(A,De),C=Math.max(C,He.length),b+=fe[0]}if(h!==b)throw new gn("Data bytes does not match offset");const B=new G;for(let K=0;K<A;++K)for(const fe of D){const we=fe.getDataBytes();K<we.length&&B.appendBits(we[K],8)}for(let K=0;K<C;++K)for(const fe of D){const we=fe.getErrorCorrectionBytes();K<we.length&&B.appendBits(we[K],8)}if(d!==B.getSizeInBytes())throw new gn("Interleaving error: "+d+" and "+B.getSizeInBytes()+" differ.");return B}static generateECBytes(o,d){const h=o.length,v=new Int32Array(h+d);for(let A=0;A<h;A++)v[A]=o[A]&255;new lo(Le.QR_CODE_FIELD_256).encode(v,d);const b=new Uint8Array(d);for(let A=0;A<d;A++)b[A]=v[h+A];return b}static appendModeInfo(o,d){d.appendBits(o.getBits(),4)}static appendLengthInfo(o,d,h,v){const b=h.getCharacterCountBits(d);if(o>=1<<b)throw new gn(o+" is bigger than "+((1<<b)-1));v.appendBits(o,b)}static appendBytes(o,d,h,v){switch(d){case pr.NUMERIC:Ie.appendNumericBytes(o,h);break;case pr.ALPHANUMERIC:Ie.appendAlphanumericBytes(o,h);break;case pr.BYTE:Ie.append8BitBytes(o,h,v);break;case pr.KANJI:Ie.appendKanjiBytes(o,h);break;default:throw new gn("Invalid mode: "+d)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const d=Ie.getDigit(o);return d>=0&&d<=9}static appendNumericBytes(o,d){const h=o.length;let v=0;for(;v<h;){const b=Ie.getDigit(o.charAt(v));if(v+2<h){const A=Ie.getDigit(o.charAt(v+1)),C=Ie.getDigit(o.charAt(v+2));d.appendBits(b*100+A*10+C,10),v+=3}else if(v+1<h){const A=Ie.getDigit(o.charAt(v+1));d.appendBits(b*10+A,7),v+=2}else d.appendBits(b,4),v++}}static appendAlphanumericBytes(o,d){const h=o.length;let v=0;for(;v<h;){const b=Ie.getAlphanumericCode(o.charCodeAt(v));if(b===-1)throw new gn;if(v+1<h){const A=Ie.getAlphanumericCode(o.charCodeAt(v+1));if(A===-1)throw new gn;d.appendBits(b*45+A,11),v+=2}else d.appendBits(b,6),v++}}static append8BitBytes(o,d,h){let v;try{v=Z.encode(o,h)}catch(b){throw new gn(b)}for(let b=0,A=v.length;b!==A;b++){const C=v[b];d.appendBits(C,8)}}static appendKanjiBytes(o,d){let h;try{h=Z.encode(o,W.SJIS)}catch(b){throw new gn(b)}const v=h.length;for(let b=0;b<v;b+=2){const A=h[b]&255,C=h[b+1]&255,D=A<<8&4294967295|C;let B=-1;if(D>=33088&&D<=40956?B=D-33088:D>=57408&&D<=60351&&(B=D-49472),B===-1)throw new gn("Invalid byte sequence");const K=(B>>8)*192+(B&255);d.appendBits(K,13)}}static appendECI(o,d){d.appendBits(pr.ECI.getBits(),4),d.appendBits(o.getValue(),8)}}Ie.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ie.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class qe{write(o,d,h,v=null){if(o.length===0)throw new y("Found empty contents");if(d<0||h<0)throw new y("Requested dimensions are too small: "+d+"x"+h);let b=_r.L,A=qe.QUIET_ZONE_SIZE;v!==null&&(v.get(Ea.ERROR_CORRECTION)!==void 0&&(b=_r.fromString(v.get(Ea.ERROR_CORRECTION).toString())),v.get(Ea.MARGIN)!==void 0&&(A=Number.parseInt(v.get(Ea.MARGIN).toString(),10)));const C=Ie.encode(o,b,v);return this.renderResult(C,d,h,A)}writeToDom(o,d,h,v,b=null){typeof o=="string"&&(o=document.querySelector(o));const A=this.write(d,h,v,b);o&&o.appendChild(A)}renderResult(o,d,h,v){const b=o.getMatrix();if(b===null)throw new Be;const A=b.getWidth(),C=b.getHeight(),D=A+v*2,B=C+v*2,K=Math.max(d,D),fe=Math.max(h,B),we=Math.min(Math.floor(K/D),Math.floor(fe/B)),De=Math.floor((K-A*we)/2),ze=Math.floor((fe-C*we)/2),He=this.createSVGElement(K,fe);for(let Xe=0,dt=ze;Xe<C;Xe++,dt+=we)for(let Lt=0,Pt=De;Lt<A;Lt++,Pt+=we)if(b.get(Lt,Xe)===1){const Mt=this.createSvgRectElement(Pt,dt,we,we);He.appendChild(Mt)}return He}createSVGElement(o,d){const h=document.createElementNS(qe.SVG_NS,"svg");return h.setAttributeNS(null,"height",o.toString()),h.setAttributeNS(null,"width",d.toString()),h}createSvgRectElement(o,d,h,v){const b=document.createElementNS(qe.SVG_NS,"rect");return b.setAttributeNS(null,"x",o.toString()),b.setAttributeNS(null,"y",d.toString()),b.setAttributeNS(null,"height",h.toString()),b.setAttributeNS(null,"width",v.toString()),b.setAttributeNS(null,"fill","#000000"),b}}qe.QUIET_ZONE_SIZE=4,qe.SVG_NS="http://www.w3.org/2000/svg";class Ze{encode(o,d,h,v,b){if(o.length===0)throw new y("Found empty contents");if(d!==ne.QR_CODE)throw new y("Can only encode QR_CODE, but got "+d);if(h<0||v<0)throw new y(`Requested dimensions are too small: ${h}x${v}`);let A=_r.L,C=Ze.QUIET_ZONE_SIZE;b!==null&&(b.get(Ea.ERROR_CORRECTION)!==void 0&&(A=_r.fromString(b.get(Ea.ERROR_CORRECTION).toString())),b.get(Ea.MARGIN)!==void 0&&(C=Number.parseInt(b.get(Ea.MARGIN).toString(),10)));const D=Ie.encode(o,A,b);return Ze.renderResult(D,h,v,C)}static renderResult(o,d,h,v){const b=o.getMatrix();if(b===null)throw new Be;const A=b.getWidth(),C=b.getHeight(),D=A+v*2,B=C+v*2,K=Math.max(d,D),fe=Math.max(h,B),we=Math.min(Math.floor(K/D),Math.floor(fe/B)),De=Math.floor((K-A*we)/2),ze=Math.floor((fe-C*we)/2),He=new re(K,fe);for(let Xe=0,dt=ze;Xe<C;Xe++,dt+=we)for(let Lt=0,Pt=De;Lt<A;Lt++,Pt+=we)b.get(Lt,Xe)===1&&He.setRegion(Pt,dt,we,we);return He}}Ze.QUIET_ZONE_SIZE=4;class yt{encode(o,d,h,v,b){let A;switch(d){case ne.QR_CODE:A=new Ze;break;default:throw new y("No encoder available for format "+d)}return A.encode(o,d,h,v,b)}}class Dt extends de{constructor(o,d,h,v,b,A,C,D){if(super(A,C),this.yuvData=o,this.dataWidth=d,this.dataHeight=h,this.left=v,this.top=b,v+A>d||b+C>h)throw new y("Crop rectangle does not fit within image data.");D&&this.reverseHorizontal(A,C)}getRow(o,d){if(o<0||o>=this.getHeight())throw new y("Requested row is outside the image: "+o);const h=this.getWidth();(d==null||d.length<h)&&(d=new Uint8ClampedArray(h));const v=(o+this.top)*this.dataWidth+this.left;return _.arraycopy(this.yuvData,v,d,0,h),d}getMatrix(){const o=this.getWidth(),d=this.getHeight();if(o===this.dataWidth&&d===this.dataHeight)return this.yuvData;const h=o*d,v=new Uint8ClampedArray(h);let b=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return _.arraycopy(this.yuvData,b,v,0,h),v;for(let A=0;A<d;A++){const C=A*o;_.arraycopy(this.yuvData,b,v,C,o),b+=this.dataWidth}return v}isCropSupported(){return!0}crop(o,d,h,v){return new Dt(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+d,h,v,!1)}renderThumbnail(){const o=this.getWidth()/Dt.THUMBNAIL_SCALE_FACTOR,d=this.getHeight()/Dt.THUMBNAIL_SCALE_FACTOR,h=new Int32Array(o*d),v=this.yuvData;let b=this.top*this.dataWidth+this.left;for(let A=0;A<d;A++){const C=A*o;for(let D=0;D<o;D++){const B=v[b+D*Dt.THUMBNAIL_SCALE_FACTOR]&255;h[C+D]=4278190080|B*65793}b+=this.dataWidth*Dt.THUMBNAIL_SCALE_FACTOR}return h}getThumbnailWidth(){return this.getWidth()/Dt.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Dt.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,d){const h=this.yuvData;for(let v=0,b=this.top*this.dataWidth+this.left;v<d;v++,b+=this.dataWidth){const A=b+o/2;for(let C=b,D=b+o-1;C<A;C++,D--){const B=h[C];h[C]=h[D],h[D]=B}}}invert(){return new ee(this)}}Dt.THUMBNAIL_SCALE_FACTOR=2;class Kt extends de{constructor(o,d,h,v,b,A,C){if(super(d,h),this.dataWidth=v,this.dataHeight=b,this.left=A,this.top=C,o.BYTES_PER_ELEMENT===4){const D=d*h,B=new Uint8ClampedArray(D);for(let K=0;K<D;K++){const fe=o[K],we=fe>>16&255,De=fe>>7&510,ze=fe&255;B[K]=(we+De+ze)/4&255}this.luminances=B}else this.luminances=o;if(v===void 0&&(this.dataWidth=d),b===void 0&&(this.dataHeight=h),A===void 0&&(this.left=0),C===void 0&&(this.top=0),this.left+d>this.dataWidth||this.top+h>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(o,d){if(o<0||o>=this.getHeight())throw new y("Requested row is outside the image: "+o);const h=this.getWidth();(d==null||d.length<h)&&(d=new Uint8ClampedArray(h));const v=(o+this.top)*this.dataWidth+this.left;return _.arraycopy(this.luminances,v,d,0,h),d}getMatrix(){const o=this.getWidth(),d=this.getHeight();if(o===this.dataWidth&&d===this.dataHeight)return this.luminances;const h=o*d,v=new Uint8ClampedArray(h);let b=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return _.arraycopy(this.luminances,b,v,0,h),v;for(let A=0;A<d;A++){const C=A*o;_.arraycopy(this.luminances,b,v,C,o),b+=this.dataWidth}return v}isCropSupported(){return!0}crop(o,d,h,v){return new Kt(this.luminances,h,v,this.dataWidth,this.dataHeight,this.left+o,this.top+d)}invert(){return new ee(this)}}class vr extends W{static forName(o){return this.getCharacterSetECIByName(o)}}class Or{}Or.ISO_8859_1=W.ISO8859_1;class Sr{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class an{static singletonList(o){return[o]}static min(o,d){return o.sort(d)[0]}}class ea{constructor(o){this.previous=o}getPrevious(){return this.previous}}class On extends ea{constructor(o,d,h){super(o),this.value=d,this.bitCount=h}appendTo(o,d){o.appendBits(this.value,this.bitCount)}add(o,d){return new On(this,o,d)}addBinaryShift(o,d){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new On(this,o,d)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+F.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class ca extends On{constructor(o,d,h){super(o,0,0),this.binaryShiftStart=d,this.binaryShiftByteCount=h}appendTo(o,d){for(let h=0;h<this.binaryShiftByteCount;h++)(h===0||h===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):h===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(d[this.binaryShiftStart+h],8)}addBinaryShift(o,d){return new ca(this,o,d)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function di(he,o,d){return new ca(he,o,d)}function ua(he,o,d){return new On(he,o,d)}const Ni=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ma=0,gs=1,Fi=2,Cl=3,zi=4,co=new On(null,0,0),$s=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Hc(he){for(let o of he)R.fill(o,-1);return he[Ma][zi]=0,he[gs][zi]=0,he[gs][Ma]=28,he[Cl][zi]=0,he[Fi][zi]=0,he[Fi][Ma]=15,he}const uo=Hc(R.createInt32Array(6,6));class Bn{constructor(o,d,h,v){this.token=o,this.mode=d,this.binaryShiftByteCount=h,this.bitCount=v}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,d){let h=this.bitCount,v=this.token;if(o!==this.mode){let A=$s[this.mode][o];v=ua(v,A&65535,A>>16),h+=A>>16}let b=o===Fi?4:5;return v=ua(v,d,b),new Bn(v,o,0,h+b)}shiftAndAppend(o,d){let h=this.token,v=this.mode===Fi?4:5;return h=ua(h,uo[this.mode][o],v),h=ua(h,d,5),new Bn(h,this.mode,0,this.bitCount+v+5)}addBinaryShiftChar(o){let d=this.token,h=this.mode,v=this.bitCount;if(this.mode===zi||this.mode===Fi){let C=$s[h][Ma];d=ua(d,C&65535,C>>16),v+=C>>16,h=Ma}let b=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,A=new Bn(d,h,this.binaryShiftByteCount+1,v+b);return A.binaryShiftByteCount===2078&&(A=A.endBinaryShift(o+1)),A}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let d=this.token;return d=di(d,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new Bn(d,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let d=this.bitCount+($s[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?d+=Bn.calculateBinaryShiftCost(o)-Bn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(d+=10),d<=o.bitCount}toBitArray(o){let d=[];for(let v=this.endBinaryShift(o.length).token;v!==null;v=v.getPrevious())d.unshift(v);let h=new G;for(const v of d)v.appendTo(h,o);return h}toString(){return Q.format("%s bits=%d bytes=%d",Ni[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}Bn.INITIAL_STATE=new Bn(co,Ma,0,0);function _l(he){const o=Q.getCharCode(" "),d=Q.getCharCode("."),h=Q.getCharCode(",");he[Ma][o]=1;const v=Q.getCharCode("Z"),b=Q.getCharCode("A");for(let we=b;we<=v;we++)he[Ma][we]=we-b+2;he[gs][o]=1;const A=Q.getCharCode("z"),C=Q.getCharCode("a");for(let we=C;we<=A;we++)he[gs][we]=we-C+2;he[Fi][o]=1;const D=Q.getCharCode("9"),B=Q.getCharCode("0");for(let we=B;we<=D;we++)he[Fi][we]=we-B+2;he[Fi][h]=12,he[Fi][d]=13;const K=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let we=0;we<K.length;we++)he[Cl][Q.getCharCode(K[we])]=we;const fe=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let we=0;we<fe.length;we++)Q.getCharCode(fe[we])>0&&(he[zi][Q.getCharCode(fe[we])]=we);return he}const fo=_l(R.createInt32Array(5,256));class Os{constructor(o){this.text=o}encode(){const o=Q.getCharCode(" "),d=Q.getCharCode(`
`);let h=an.singletonList(Bn.INITIAL_STATE);for(let b=0;b<this.text.length;b++){let A,C=b+1<this.text.length?this.text[b+1]:0;switch(this.text[b]){case Q.getCharCode("\r"):A=C===d?2:0;break;case Q.getCharCode("."):A=C===o?3:0;break;case Q.getCharCode(","):A=C===o?4:0;break;case Q.getCharCode(":"):A=C===o?5:0;break;default:A=0}A>0?(h=Os.updateStateListForPair(h,b,A),b++):h=this.updateStateListForChar(h,b)}return an.min(h,(b,A)=>b.getBitCount()-A.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,d){const h=[];for(let v of o)this.updateStateForChar(v,d,h);return Os.simplifyStates(h)}updateStateForChar(o,d,h){let v=this.text[d]&255,b=fo[o.getMode()][v]>0,A=null;for(let C=0;C<=zi;C++){let D=fo[C][v];if(D>0){if(A==null&&(A=o.endBinaryShift(d)),!b||C===o.getMode()||C===Fi){const B=A.latchAndAppend(C,D);h.push(B)}if(!b&&uo[o.getMode()][C]>=0){const B=A.shiftAndAppend(C,D);h.push(B)}}}if(o.getBinaryShiftByteCount()>0||fo[o.getMode()][v]===0){let C=o.addBinaryShiftChar(d);h.push(C)}}static updateStateListForPair(o,d,h){const v=[];for(let b of o)this.updateStateForPair(b,d,h,v);return this.simplifyStates(v)}static updateStateForPair(o,d,h,v){let b=o.endBinaryShift(d);if(v.push(b.latchAndAppend(zi,h)),o.getMode()!==zi&&v.push(b.shiftAndAppend(zi,h)),h===3||h===4){let A=b.latchAndAppend(Fi,16-h).latchAndAppend(Fi,1);v.push(A)}if(o.getBinaryShiftByteCount()>0){let A=o.addBinaryShiftChar(d).addBinaryShiftChar(d+1);v.push(A)}}static simplifyStates(o){let d=[];for(const h of o){let v=!0;for(const b of d){if(b.isBetterThanOrEqualTo(h)){v=!1;break}h.isBetterThanOrEqualTo(b)&&(d=d.filter(A=>A!==b))}v&&d.push(h)}return d}}class $r{constructor(){}static encodeBytes(o){return $r.encode(o,$r.DEFAULT_EC_PERCENT,$r.DEFAULT_AZTEC_LAYERS)}static encode(o,d,h){let v=new Os(o).encode(),b=F.truncDivision(v.getSize()*d,100)+11,A=v.getSize()+b,C,D,B,K,fe;if(h!==$r.DEFAULT_AZTEC_LAYERS){if(C=h<0,D=Math.abs(h),D>(C?$r.MAX_NB_BITS_COMPACT:$r.MAX_NB_BITS))throw new y(Q.format("Illegal value %s for layers",h));B=$r.totalBitsInLayer(D,C),K=$r.WORD_SIZE[D];let Mt=B-B%K;if(fe=$r.stuffBits(v,K),fe.getSize()+b>Mt)throw new y("Data to large for user specified layer");if(C&&fe.getSize()>K*64)throw new y("Data to large for user specified layer")}else{K=0,fe=null;for(let Mt=0;;Mt++){if(Mt>$r.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(C=Mt<=3,D=C?Mt+1:Mt,B=$r.totalBitsInLayer(D,C),A>B)continue;(fe==null||K!==$r.WORD_SIZE[D])&&(K=$r.WORD_SIZE[D],fe=$r.stuffBits(v,K));let Fr=B-B%K;if(!(C&&fe.getSize()>K*64)&&fe.getSize()+b<=Fr)break}}let we=$r.generateCheckWords(fe,B,K),De=fe.getSize()/K,ze=$r.generateModeMessage(C,D,De),He=(C?11:14)+D*4,Xe=new Int32Array(He),dt;if(C){dt=He;for(let Mt=0;Mt<Xe.length;Mt++)Xe[Mt]=Mt}else{dt=He+1+2*F.truncDivision(F.truncDivision(He,2)-1,15);let Mt=F.truncDivision(He,2),Fr=F.truncDivision(dt,2);for(let Tr=0;Tr<Mt;Tr++){let Gn=Tr+F.truncDivision(Tr,15);Xe[Mt-Tr-1]=Fr-Gn-1,Xe[Mt+Tr]=Fr+Gn+1}}let Lt=new re(dt);for(let Mt=0,Fr=0;Mt<D;Mt++){let Tr=(D-Mt)*4+(C?9:12);for(let Gn=0;Gn<Tr;Gn++){let ri=Gn*2;for(let ba=0;ba<2;ba++)we.get(Fr+ri+ba)&&Lt.set(Xe[Mt*2+ba],Xe[Mt*2+Gn]),we.get(Fr+Tr*2+ri+ba)&&Lt.set(Xe[Mt*2+Gn],Xe[He-1-Mt*2-ba]),we.get(Fr+Tr*4+ri+ba)&&Lt.set(Xe[He-1-Mt*2-ba],Xe[He-1-Mt*2-Gn]),we.get(Fr+Tr*6+ri+ba)&&Lt.set(Xe[He-1-Mt*2-Gn],Xe[Mt*2+ba])}Fr+=Tr*8}if($r.drawModeMessage(Lt,C,dt,ze),C)$r.drawBullsEye(Lt,F.truncDivision(dt,2),5);else{$r.drawBullsEye(Lt,F.truncDivision(dt,2),7);for(let Mt=0,Fr=0;Mt<F.truncDivision(He,2)-1;Mt+=15,Fr+=16)for(let Tr=F.truncDivision(dt,2)&1;Tr<dt;Tr+=2)Lt.set(F.truncDivision(dt,2)-Fr,Tr),Lt.set(F.truncDivision(dt,2)+Fr,Tr),Lt.set(Tr,F.truncDivision(dt,2)-Fr),Lt.set(Tr,F.truncDivision(dt,2)+Fr)}let Pt=new Sr;return Pt.setCompact(C),Pt.setSize(dt),Pt.setLayers(D),Pt.setCodeWords(De),Pt.setMatrix(Lt),Pt}static drawBullsEye(o,d,h){for(let v=0;v<h;v+=2)for(let b=d-v;b<=d+v;b++)o.set(b,d-v),o.set(b,d+v),o.set(d-v,b),o.set(d+v,b);o.set(d-h,d-h),o.set(d-h+1,d-h),o.set(d-h,d-h+1),o.set(d+h,d-h),o.set(d+h,d-h+1),o.set(d+h,d+h-1)}static generateModeMessage(o,d,h){let v=new G;return o?(v.appendBits(d-1,2),v.appendBits(h-1,6),v=$r.generateCheckWords(v,28,4)):(v.appendBits(d-1,5),v.appendBits(h-1,11),v=$r.generateCheckWords(v,40,4)),v}static drawModeMessage(o,d,h,v){let b=F.truncDivision(h,2);if(d)for(let A=0;A<7;A++){let C=b-3+A;v.get(A)&&o.set(C,b-5),v.get(A+7)&&o.set(b+5,C),v.get(20-A)&&o.set(C,b+5),v.get(27-A)&&o.set(b-5,C)}else for(let A=0;A<10;A++){let C=b-5+A+F.truncDivision(A,5);v.get(A)&&o.set(C,b-7),v.get(A+10)&&o.set(b+7,C),v.get(29-A)&&o.set(C,b+7),v.get(39-A)&&o.set(b-7,C)}}static generateCheckWords(o,d,h){let v=o.getSize()/h,b=new lo($r.getGF(h)),A=F.truncDivision(d,h),C=$r.bitsToWords(o,h,A);b.encode(C,A-v);let D=d%h,B=new G;B.appendBits(0,D);for(const K of Array.from(C))B.appendBits(K,h);return B}static bitsToWords(o,d,h){let v=new Int32Array(h),b,A;for(b=0,A=o.getSize()/d;b<A;b++){let C=0;for(let D=0;D<d;D++)C|=o.get(b*d+D)?1<<d-D-1:0;v[b]=C}return v}static getGF(o){switch(o){case 4:return Le.AZTEC_PARAM;case 6:return Le.AZTEC_DATA_6;case 8:return Le.AZTEC_DATA_8;case 10:return Le.AZTEC_DATA_10;case 12:return Le.AZTEC_DATA_12;default:throw new y("Unsupported word size "+o)}}static stuffBits(o,d){let h=new G,v=o.getSize(),b=(1<<d)-2;for(let A=0;A<v;A+=d){let C=0;for(let D=0;D<d;D++)(A+D>=v||o.get(A+D))&&(C|=1<<d-1-D);(C&b)===b?(h.appendBits(C&b,d),A--):C&b?h.appendBits(C,d):(h.appendBits(C|1,d),A--)}return h}static totalBitsInLayer(o,d){return((d?88:112)+16*o)*o}}$r.DEFAULT_EC_PERCENT=33,$r.DEFAULT_AZTEC_LAYERS=0,$r.MAX_NB_BITS=32,$r.MAX_NB_BITS_COMPACT=4,$r.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ti{encode(o,d,h,v){return this.encodeWithHints(o,d,h,v,null)}encodeWithHints(o,d,h,v,b){let A=Or.ISO_8859_1,C=$r.DEFAULT_EC_PERCENT,D=$r.DEFAULT_AZTEC_LAYERS;return b!=null&&(b.has(Ea.CHARACTER_SET)&&(A=vr.forName(b.get(Ea.CHARACTER_SET).toString())),b.has(Ea.ERROR_CORRECTION)&&(C=F.parseInt(b.get(Ea.ERROR_CORRECTION).toString())),b.has(Ea.AZTEC_LAYERS)&&(D=F.parseInt(b.get(Ea.AZTEC_LAYERS).toString()))),ti.encodeLayers(o,d,h,v,A,C,D)}static encodeLayers(o,d,h,v,b,A,C){if(d!==ne.AZTEC)throw new y("Can only encode AZTEC, but got "+d);let D=$r.encode(Q.getBytes(o,b),A,C);return ti.renderResult(D,h,v)}static renderResult(o,d,h){let v=o.getMatrix();if(v==null)throw new Be;let b=v.getWidth(),A=v.getHeight(),C=Math.max(d,b),D=Math.max(h,A),B=Math.min(C/b,D/A),K=(C-b*B)/2,fe=(D-A*B)/2,we=new re(C,D);for(let De=0,ze=fe;De<A;De++,ze+=B)for(let He=0,Xe=K;He<b;He++,Xe+=B)v.get(He,De)&&we.setRegion(Xe,ze,B,B);return we}}r.AbstractExpandedDecoder=Ft,r.ArgumentException=x,r.ArithmeticException=ue,r.AztecCode=Sr,r.AztecCodeReader=zt,r.AztecCodeWriter=ti,r.AztecDecoder=at,r.AztecDetector=Er,r.AztecDetectorResult=St,r.AztecEncoder=$r,r.AztecHighLevelEncoder=Os,r.AztecPoint=Qt,r.BarcodeFormat=ne,r.Binarizer=j,r.BinaryBitmap=S,r.BitArray=G,r.BitMatrix=re,r.BitSource=Jr,r.BrowserAztecCodeReader=Mn,r.BrowserBarcodeReader=Lo,r.BrowserCodeReader=H,r.BrowserDatamatrixCodeReader=wi,r.BrowserMultiFormatReader=El,r.BrowserPDF417Reader=Uc,r.BrowserQRCodeReader=qc,r.BrowserQRCodeSvgWriter=qe,r.CharacterSetECI=W,r.ChecksumException=N,r.Code128Reader=Ct,r.Code39Reader=rr,r.DataMatrixDecodedBitStreamParser=Wa,r.DataMatrixReader=Vn,r.DecodeHintType=J,r.DecoderResult=pe,r.DefaultGridSampler=Bt,r.DetectorResult=et,r.EAN13Reader=sa,r.EncodeHintType=Ea,r.Exception=p,r.FormatException=V,r.GenericGF=Le,r.GenericGFPoly=ke,r.GlobalHistogramBinarizer=ie,r.GridSampler=Wt,r.GridSamplerInstance=lr,r.HTMLCanvasElementLuminanceSource=Ae,r.HybridBinarizer=oe,r.ITFReader=Jt,r.IllegalArgumentException=y,r.IllegalStateException=Be,r.InvertedLuminanceSource=ee,r.LuminanceSource=de,r.MathUtils=Re,r.MultiFormatOneDReader=Hn,r.MultiFormatReader=zc,r.MultiFormatWriter=yt,r.NotFoundException=q,r.OneDReader=Ht,r.PDF417DecodedBitStreamParser=ut,r.PDF417DecoderErrorCorrection=Ws,r.PDF417Reader=Sa,r.PDF417ResultMetadata=Fo,r.PerspectiveTransform=tr,r.PlanarYUVLuminanceSource=Dt,r.QRCodeByteMatrix=il,r.QRCodeDataMask=Ja,r.QRCodeDecodedBitStreamParser=en,r.QRCodeDecoderErrorCorrectionLevel=_r,r.QRCodeDecoderFormatInformation=An,r.QRCodeEncoder=Ie,r.QRCodeEncoderQRCode=ts,r.QRCodeMaskUtil=jn,r.QRCodeMatrixUtil=P,r.QRCodeMode=pr,r.QRCodeReader=Gs,r.QRCodeVersion=sr,r.QRCodeWriter=Ze,r.RGBLuminanceSource=Kt,r.RSS14Reader=Rr,r.RSSExpandedReader=Nt,r.ReaderException=al,r.ReedSolomonDecoder=ae,r.ReedSolomonEncoder=lo,r.ReedSolomonException=$e,r.Result=se,r.ResultMetadataType=je,r.ResultPoint=Fe,r.StringUtils=Q,r.UnsupportedOperationException=Ne,r.VideoInputDevice=ce,r.WhiteRectangleDetector=qt,r.WriterException=gn,r.ZXingArrays=R,r.ZXingCharset=vr,r.ZXingInteger=F,r.ZXingStandardCharsets=Or,r.ZXingStringBuilder=me,r.ZXingStringEncoding=Z,r.ZXingSystem=_,r.createAbstractExpandedDecoder=Zr,Object.defineProperty(r,"__esModule",{value:!0})})}(Q0,Q0.exports)),Q0.exports}var ja=Iae();const Dae=Dc(ja),Mae=F_({__proto__:null,default:Dae},[ja]);var j_=function(){function e(t,r,n){if(this.formatMap=new Map([[cr.QR_CODE,ja.BarcodeFormat.QR_CODE],[cr.AZTEC,ja.BarcodeFormat.AZTEC],[cr.CODABAR,ja.BarcodeFormat.CODABAR],[cr.CODE_39,ja.BarcodeFormat.CODE_39],[cr.CODE_93,ja.BarcodeFormat.CODE_93],[cr.CODE_128,ja.BarcodeFormat.CODE_128],[cr.DATA_MATRIX,ja.BarcodeFormat.DATA_MATRIX],[cr.MAXICODE,ja.BarcodeFormat.MAXICODE],[cr.ITF,ja.BarcodeFormat.ITF],[cr.EAN_13,ja.BarcodeFormat.EAN_13],[cr.EAN_8,ja.BarcodeFormat.EAN_8],[cr.PDF_417,ja.BarcodeFormat.PDF_417],[cr.RSS_14,ja.BarcodeFormat.RSS_14],[cr.RSS_EXPANDED,ja.BarcodeFormat.RSS_EXPANDED],[cr.UPC_A,ja.BarcodeFormat.UPC_A],[cr.UPC_E,ja.BarcodeFormat.UPC_E],[cr.UPC_EAN_EXTENSION,ja.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Mae)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var a=this.createZXingFormats(t),i=new Map;i.set(ja.DecodeHintType.POSSIBLE_FORMATS,a),i.set(ja.DecodeHintType.TRY_HARDER,!1),this.hints=i}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,a){try{n(r.decode(t))}catch(i){a(i)}})},e.prototype.decode=function(t){var r=new ja.MultiFormatReader(this.verbose,this.hints),n=new ja.HTMLCanvasElementLuminanceSource(t),a=new ja.BinaryBitmap(new ja.HybridBinarizer(n)),i=r.decode(a);return{text:i.text,format:jD.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,a){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,a=t;n<a.length;n++){var i=a[n];this.formatMap.has(i)?r.push(this.formatMap.get(i)):this.logger.logError("".concat(i," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Lae=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function f(x){try{p(n.next(x))}catch(y){c(y)}}function m(x){try{p(n.throw(x))}catch(y){c(y)}}function p(x){x.done?i(x.value):a(x.value).then(f,m)}p((n=n.apply(e,t||[])).next())})},Pae=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(x){return m([p,x])}}function m(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,a&&(i=p[0]&2?a.return:p[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,p[1])).done)return i;switch(a=0,i&&(p=[p[0]&2,i.value]),p[0]){case 0:case 1:i=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){r.label=p[1];break}if(p[0]===6&&r.label<i[1]){r.label=i[1],i=p;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(p);break}i[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(x){p=[6,x],a=0}finally{n=i=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},O_=function(){function e(t,r,n){if(this.formatMap=new Map([[cr.QR_CODE,"qr_code"],[cr.AZTEC,"aztec"],[cr.CODABAR,"codabar"],[cr.CODE_39,"code_39"],[cr.CODE_93,"code_93"],[cr.CODE_128,"code_128"],[cr.DATA_MATRIX,"data_matrix"],[cr.ITF,"itf"],[cr.EAN_13,"ean_13"],[cr.EAN_8,"ean_8"],[cr.PDF_417,"pdf417"],[cr.UPC_A,"upc_a"],[cr.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Lae(this,void 0,void 0,function(){var r,n;return Pae(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=a.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:jD.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,a=0,i=t;a<i.length;a++){var c=i[a],f=c.boundingBox.width*c.boundingBox.height;f>n&&(n=f,r=c)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,a=t;n<a.length;n++){var i=a[n];this.formatMap.has(i)?r.push(this.formatMap.get(i)):this.logger.warn("".concat(i," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,a){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),T_=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function f(x){try{p(n.next(x))}catch(y){c(y)}}function m(x){try{p(n.throw(x))}catch(y){c(y)}}function p(x){x.done?i(x.value):a(x.value).then(f,m)}p((n=n.apply(e,t||[])).next())})},k_=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(x){return m([p,x])}}function m(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,a&&(i=p[0]&2?a.return:p[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,p[1])).done)return i;switch(a=0,i&&(p=[p[0]&2,i.value]),p[0]){case 0:case 1:i=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){r.label=p[1];break}if(p[0]===6&&r.label<i[1]){r.label=i[1],i=p;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(p);break}i[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(x){p=[6,x],a=0}finally{n=i=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Rae=function(){function e(t,r,n,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&O_.isSupported()?(this.primaryDecoder=new O_(t,n,a),this.secondaryDecoder=new j_(t,n,a)):this.primaryDecoder=new j_(t,n,a)}return e.prototype.decodeAsync=function(t){return T_(this,void 0,void 0,function(){var r;return k_(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return T_(this,void 0,void 0,function(){var r,n;return k_(this,function(a){switch(a.label){case 0:r=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,a.sent()];case 3:if(n=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var a=n[r];t+=a}var i=t/this.executionResults.length;console.log("".concat(i," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Z3=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tg=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function f(x){try{p(n.next(x))}catch(y){c(y)}}function m(x){try{p(n.throw(x))}catch(y){c(y)}}function p(x){x.done?i(x.value):a(x.value).then(f,m)}p((n=n.apply(e,t||[])).next())})},kg=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(x){return m([p,x])}}function m(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,a&&(i=p[0]&2?a.return:p[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,p[1])).done)return i;switch(a=0,i&&(p=[p[0]&2,i.value]),p[0]){case 0:case 1:i=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){r.label=p[1];break}if(p[0]===6&&r.label<i[1]){r.label=i[1],i=p;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(p);break}i[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(x){p=[6,x],a=0}finally{n=i=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},ID=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),Bae=function(e){Z3(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var a={advanced:[n]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(ID),Fae=function(e){Z3(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(Bae),zae=function(e){Z3(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(ID),Uae=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Fae(this.track)},e.prototype.torchFeature=function(){return new zae(this.track)},e}(),qae=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,a=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,a),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,a){return Tg(this,void 0,void 0,function(){var i,c;return kg(this,function(f){switch(f.label){case 0:return i=new e(t,r,a),n.aspectRatio?(c={aspectRatio:n.aspectRatio},[4,i.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:f.sent(),f.label=2;case 2:return i.setupSurface(),[2,i]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Tg(this,void 0,void 0,function(){return kg(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var a=t.mediaStream.getVideoTracks(),i=a.length,c=0;t.mediaStream.getVideoTracks().forEach(function(f){t.mediaStream.removeTrack(f),f.stop(),++c,c>=i&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new Uae(this.getFirstTrackOrFail())},e}(),Hae=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return Tg(this,void 0,void 0,function(){return kg(this,function(a){return[2,qae.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return Tg(this,void 0,void 0,function(){var r,n;return kg(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=a.sent(),[2,new e(n)]}})})},e}(),I_=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function f(x){try{p(n.next(x))}catch(y){c(y)}}function m(x){try{p(n.throw(x))}catch(y){c(y)}}function p(x){x.done?i(x.value):a(x.value).then(f,m)}p((n=n.apply(e,t||[])).next())})},D_=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(x){return m([p,x])}}function m(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,a&&(i=p[0]&2?a.return:p[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,p[1])).done)return i;switch(a=0,i&&(p=[p[0]&2,i.value]),p[0]){case 0:case 1:i=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){r.label=p[1];break}if(p[0]===6&&r.label<i[1]){r.label=i[1],i=p;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(p);break}i[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(x){p=[6,x],a=0}finally{n=i=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Vae=function(){function e(){}return e.failIfNotSupported=function(){return I_(this,void 0,void 0,function(){return D_(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return I_(this,void 0,void 0,function(){return D_(this,function(r){return[2,Hae.create(t)]})})},e}(),Gae=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function f(x){try{p(n.next(x))}catch(y){c(y)}}function m(x){try{p(n.throw(x))}catch(y){c(y)}}function p(x){x.done?i(x.value):a(x.value).then(f,m)}p((n=n.apply(e,t||[])).next())})},Wae=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(x){return m([p,x])}}function m(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,a&&(i=p[0]&2?a.return:p[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,p[1])).done)return i;switch(a=0,i&&(p=[p[0]&2,i.value]),p[0]){case 0:case 1:i=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){r.label=p[1];break}if(p[0]===6&&r.label<i[1]){r.label=i[1],i=p;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(p);break}i[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(x){p=[6,x],a=0}finally{n=i=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Yae=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=xh.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=xh.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Gae(this,void 0,void 0,function(){var t,r,n,a,i,c,f;return Wae(this,function(m){switch(m.label){case 0:return t=function(p){for(var x=p.getVideoTracks(),y=0,S=x;y<S.length;y++){var N=S[y];N.enabled=!1,N.stop(),p.removeTrack(N)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=m.sent(),a=[],i=0,c=n;i<c.length;i++)f=c[i],f.kind==="videoinput"&&a.push({id:f.deviceId,label:f.label});return t(r),[2,a]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(i){for(var c=[],f=0,m=i;f<m.length;f++){var p=m[f];p.kind==="video"&&c.push({id:p.id,label:p.label})}t(c)},a=MediaStreamTrack;a.getSources(n)})},e}(),si;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(si||(si={}));var $ae=function(){function e(){this.state=si.NOT_STARTED,this.onGoingTransactionNewState=si.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===si.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=si.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===si.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=si.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==si.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case si.UNKNOWN:throw"Transition from unknown is not allowed";case si.NOT_STARTED:this.failIfNewStateIs(t,[si.PAUSED]);break;case si.SCANNING:break;case si.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,a=r;n<a.length;n++){var i=a[n];if(t===i)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),Xae=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===si.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==si.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===si.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===si.PAUSED},e}(),Kae=function(){function e(){}return e.create=function(){return new Xae(new $ae)},e}(),Qae=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Go=function(e){Qae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(ql),Zae=function(){function e(t,r){this.logger=r,this.fps=Go.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Go.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?kD.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!wc(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),M_=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new TD(this.verbose),this.qrcode=new Rae(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Kae.create()}return e.prototype.start=function(t,r,n,a){var i=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;a?c=a:c=this.verbose?this.logger.log:function(){};var f=Zae.create(r,this.logger);this.clearElement();var m=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=m,x=document.getElementById(this.elementId);x.clientWidth?x.clientWidth:Go.DEFAULT_WIDTH,x.style.position="relative",this.shouldScan=!0,this.element=x;var y=this,S=this.stateManagerProxy.startTransition(si.SCANNING);return new Promise(function(N,j){var _=p?f.videoConstraints:y.createVideoConstraints(t);if(!_){S.cancel(),j("videoConstraints should be defined");return}var T={};(!p||f.aspectRatio)&&(T.aspectRatio=f.aspectRatio);var I={onRenderSurfaceReady:function(R,F){y.setupUi(R,F,f),y.isScanning=!0,y.foreverScan(f,n,c)}};Vae.failIfNotSupported().then(function(R){R.create(_).then(function(F){return F.render(i.element,T,I).then(function(G){y.renderedCamera=G,S.execute(),N(null)}).catch(function(G){S.cancel(),j(G)})}).catch(function(F){S.cancel(),j(xh.errorGettingUserMedia(F))})}).catch(function(R){S.cancel(),j(xh.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(si.PAUSED),this.showPausedState(),(wc(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(si.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(si.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var i=document.getElementById(Go.SHADED_REGION_ELEMENT_ID);i&&t.element.removeChild(i)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),n(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),r.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(wc(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,i){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var f=c.width,m=c.height,p=document.getElementById(n.elementId),x=p.clientWidth?p.clientWidth:Go.DEFAULT_WIDTH,y=Math.max(p.clientHeight?p.clientHeight:m,Go.FILE_SCAN_MIN_HEIGHT),S=n.computeCanvasDrawConfig(f,m,x,y);if(r){var N=n.createCanvasElement(x,y,"qr-canvas-visible");N.style.display="inline-block",p.appendChild(N);var j=N.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=x,j.canvas.height=y,j.drawImage(c,0,0,f,m,S.x,S.y,S.width,S.height)}var _=Go.FILE_SCAN_HIDDEN_CANVAS_PADDING,T=Math.max(c.width,S.width),I=Math.max(c.height,S.height),R=T+2*_,F=I+2*_,G=n.createCanvasElement(R,F);p.appendChild(G);var Y=G.getContext("2d");if(!Y)throw"Unable to get 2d context from canvas";Y.canvas.width=R,Y.canvas.height=F,Y.drawImage(c,0,0,f,m,_,_,T,I);try{n.qrcode.decodeRobustlyAsync(G).then(function(J){a(E_.createFromQrcodeResult(J))}).catch(i)}catch(J){i("QR code parse error, error = ".concat(J))}},c.onerror=i,c.onabort=i,c.onstalled=i,c.onsuspend=i,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Yae.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!kD.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[cr.QR_CODE,cr.AZTEC,cr.CODABAR,cr.CODE_39,cr.CODE_93,cr.CODE_128,cr.DATA_MATRIX,cr.MAXICODE,cr.ITF,cr.EAN_13,cr.EAN_8,cr.PDF_417,cr.RSS_14,cr.RSS_EXPANDED,cr.UPC_A,cr.UPC_E,cr.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],a=0,i=t.formatsToSupport;a<i.length;a++){var c=i[a];Oae(c)?n.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(wc(t))return!0;if(!wc(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(wc(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return wc(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var a=this,i=n.qrbox;this.validateQrboxConfig(i);var c=this.toQrdimensions(t,r,i),f=function(p){if(p<Go.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Go.MIN_QR_BOX_SIZE,"px.")},m=function(p){return p>t&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};f(c.width),f(c.height),c.width=m(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var a=wc(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(a);var i=this.toQrdimensions(t,r,a);i.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=n.isShadedBoxEnabled()&&i.height<=r,f={x:0,y:0,width:t,height:r},m=c?this.getShadedRegionBounds(t,r,i):f,p=this.createCanvasElement(m.width,m.height),x={willReadFrequently:!0},y=p.getContext("2d",x);y.canvas.width=m.width,y.canvas.height=m.height,this.element.append(p),c&&this.possiblyInsertShadingElement(this.element,t,r,i),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=y,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=xh.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return t(a.text,E_.createFromQrcodeResult(a)),n.possiblyUpdateShaders(!0),!0}).catch(function(a){n.possiblyUpdateShaders(!1);var i=xh.codeParseError(a);return r(i,OD.createFrom(i)),!1})},e.prototype.foreverScan=function(t,r,n){var a=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),c=i.videoWidth/i.clientWidth,f=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*c,p=this.qrRegion.height*f,x=this.qrRegion.x*c,y=this.qrRegion.y*f;this.context.drawImage(i,x,y,m,p,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(t,r,n)},a.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(N){!N&&t.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(r,n).finally(function(){S()})):S()}).catch(function(N){a.logger.logError("Error happend while scanning context",N),S()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",a={user:!0,environment:!0},i="exact",c=function(j){if(j in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(j,"'")},f=Object.keys(t);if(f.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(f.length," keys");var m=Object.keys(t)[0];if(m!==r&&m!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(m===r){var p=t.facingMode;if(typeof p=="string"){if(c(p))return{facingMode:p}}else if(typeof p=="object")if(i in p){if(c(p["".concat(i)]))return{facingMode:{exact:p["".concat(i)]}}}else throw"'facingMode' should be string or object with"+" ".concat(i," as key.");else{var x=typeof p;throw"Invalid type of 'facingMode' = ".concat(x)}}else{var y=t.deviceId;if(typeof y=="string")return{deviceId:y};if(typeof y=="object"){if(i in y)return{deviceId:{exact:y["".concat(i)]}};throw"'deviceId' should be string or object with"+" ".concat(i," as key.")}else{var S=typeof y;throw"Invalid type of 'deviceId' = ".concat(S)}}}var N=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(N)},e.prototype.computeCanvasDrawConfig=function(t,r,n,a){if(t<=n&&r<=a){var i=(n-t)/2,c=(a-r)/2;return{x:i,y:c,width:t,height:r}}else{var f=t,m=r;return t>n&&(r=n/t*r,t=n),r>a&&(t=a/r*t,r=a),this.logger.log("Image downsampled from "+"".concat(f,"X").concat(m)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,a)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Go.BORDER_SHADER_MATCH_COLOR:Go.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var a=t,i=r,c=document.createElement("canvas");return c.style.width="".concat(a,"px"),c.style.height="".concat(i,"px"),c.style.display="none",c.id=wc(n)?"qr-canvas":n,c},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,a){if(!(r-a.width<1||n-a.height<1)){var i=document.createElement("div");i.style.position="absolute";var c=(r-a.width)/2,f=(n-a.height)/2;if(i.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderTop="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderBottom="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),i.style.boxSizing="border-box",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.id="".concat(Go.SHADED_REGION_ELEMENT_ID),r-a.width<11||n-a.height<11)this.hasBorderShaders=!1;else{var m=5,p=40;this.insertShaderBorders(i,p,m,-m,null,0,!0),this.insertShaderBorders(i,p,m,-m,null,0,!1),this.insertShaderBorders(i,p,m,null,-m,0,!0),this.insertShaderBorders(i,p,m,null,-m,0,!1),this.insertShaderBorders(i,m,p+m,-m,null,-m,!0),this.insertShaderBorders(i,m,p+m,null,-m,-m,!0),this.insertShaderBorders(i,m,p+m,-m,null,-m,!1),this.insertShaderBorders(i,m,p+m,null,-m,-m,!1),this.hasBorderShaders=!0}t.append(i)}},e.prototype.insertShaderBorders=function(t,r,n,a,i,c,f){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=Go.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(r,"px"),m.style.height="".concat(n,"px"),a!==null&&(m.style.top="".concat(a,"px")),i!==null&&(m.style.bottom="".concat(i,"px")),f?m.style.left="".concat(c,"px"):m.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),t.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),J3="data:image/svg+xml;base64,",Jae=J3+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",eie=J3+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",L_=J3+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",tie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",P_=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),rie=function(){function e(){this.data=P_.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=P_.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),nie=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=C_.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var n=document.createElement("br"),a=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(a);var i=document.createElement("a");i.innerText=C_.reportIssues(),i.href="https://github.com/mebjas/html5-qrcode/issues",i.target="new",i.style.color="white",this.infoDiv.appendChild(i),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),aie=function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=L_,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(n){return r.onHoverIn()},this.infoIcon.onmouseout=function(n){return r.onHoverOut()},this.infoIcon.onclick=function(n){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=tie,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=L_,this.infoIcon.style.opacity="0.6")},e}(),iie=function(){function e(){var t=this;this.infoDiv=new nie,this.infoIcon=new aie(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),sie=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function f(x){try{p(n.next(x))}catch(y){c(y)}}function m(x){try{p(n.throw(x))}catch(y){c(y)}}function p(x){x.done?i(x.value):a(x.value).then(f,m)}p((n=n.apply(e,t||[])).next())})},oie=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(x){return m([p,x])}}function m(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,a&&(i=p[0]&2?a.return:p[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,p[1])).done)return i;switch(a=0,i&&(p=[p[0]&2,i.value]),p[0]){case 0:case 1:i=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){r.label=p[1];break}if(p[0]===6&&r.label<i[1]){r.label=i[1],i=p;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(p);break}i[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(x){p=[6,x],a=0}finally{n=i=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},R_=function(){function e(){}return e.hasPermissions=function(){return sie(this,void 0,void 0,function(){var t,r,n,a;return oie(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=i.sent(),r=0,n=t;r<n.length;r++)if(a=n[r],a.kind==="videoinput"&&a.label)return[2,!0];return[2,!1]}})})},e}(),ad=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var n=r[t];if(e.isCameraScanType(n))return!0}return!1},e.isCameraScanType=function(t){return t===Od.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Od.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return ql.DEFAULT_SUPPORTED_SCAN_TYPE;var r=ql.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var n=0,a=t;n<a.length;n++){var i=a[n];if(!ql.DEFAULT_SUPPORTED_SCAN_TYPE.includes(i))throw"Unsupported scan type ".concat(i)}return t},e}(),Xo=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),hu=function(){function e(){}return e.createElement=function(t,r){var n=document.createElement(t);return n.id=r,n.classList.add(Xo.ALL_ELEMENT_CLASS),t==="button"&&n.setAttribute("type","button"),n},e}(),DD=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function f(x){try{p(n.next(x))}catch(y){c(y)}}function m(x){try{p(n.throw(x))}catch(y){c(y)}}function p(x){x.done?i(x.value):a(x.value).then(f,m)}p((n=n.apply(e,t||[])).next())})},MD=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(x){return m([p,x])}}function m(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,a&&(i=p[0]&2?a.return:p[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,p[1])).done)return i;switch(a=0,i&&(p=[p[0]&2,i.value]),p[0]){case 0:case 1:i=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){r.label=p[1];break}if(p[0]===6&&r.label<i[1]){r.label=i[1],i=p;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(p);break}i[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(x){p=[6,x],a=0}finally{n=i=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},B_=function(){function e(t,r,n){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=n}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return DD(this,void 0,void 0,function(){var t,r;return MD(this,function(n){switch(n.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=n.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?Kn.torchOffButton():Kn.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var n=t?Kn.torchOnFailedMessage():Kn.torchOffFailedMessage();r&&(n+="; Error = "+r),this.onTorchActionFailureCallback(n)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),lie=function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=hu.createElement("button",Xo.TORCH_BUTTON_ID),this.torchController=new B_(t,this,r)}return e.prototype.render=function(t,r){var n=this;this.torchButton.innerText=Kn.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var a=this;this.torchButton.addEventListener("click",function(i){return DD(n,void 0,void 0,function(){return MD(this,function(c){switch(c.label){case 0:return[4,a.torchController.flipState()];case 1:return c.sent(),a.torchController.isTorchEnabled()?(a.torchButton.classList.remove(Xo.TORCH_BUTTON_CLASS_TORCH_OFF),a.torchButton.classList.add(Xo.TORCH_BUTTON_CLASS_TORCH_ON)):(a.torchButton.classList.remove(Xo.TORCH_BUTTON_CLASS_TORCH_ON),a.torchButton.classList.add(Xo.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new B_(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Kn.torchOnButton(),this.torchController.reset()},e.create=function(t,r,n,a){var i=new e(r,a);return i.render(t,n),i},e}(),cie=function(){function e(t,r,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var a=document.createElement("label");a.setAttribute("for",this.getFileScanInputId()),a.style.display="inline-block",this.fileBasedScanRegion.appendChild(a),this.fileSelectionButton=hu.createElement("button",Xo.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(f){a.click()}),a.append(this.fileSelectionButton),this.fileScanInput=hu.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",a.appendChild(this.fileScanInput);var i=this;this.fileScanInput.addEventListener("change",function(f){if(!(f==null||f.target==null)){var m=f.target;if(!(m.files&&m.files.length===0)){var p=m.files,x=p[0],y=x.name;i.setImageNameToButton(y),n(x)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(f){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(f){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(f){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(f){f.stopPropagation(),f.preventDefault(),i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder();var m=f.dataTransfer;if(m){var p=m.files;if(!p||p.length===0)return;for(var x=!1,y=0;y<p.length;++y){var S=p.item(y);if(S){var N=/image.*/;if(S.type.match(N)){x=!0;var j=S.name;i.setImageNameToButton(j),n(S),c.innerText=Kn.dragAndDropMessage();break}}}x||(c.innerText=Kn.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Kn.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var n=t.substring(0,8),a=t.length,i=t.substring(a-8,a);t="".concat(n,"....").concat(i)}var c=Kn.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=c},e.prototype.setInitialValueToButton=function(){var t=Kn.fileSelectionChooseImage()+" - "+Kn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,n){var a=new e(t,r,n);return a},e}(),uie=function(){function e(t){this.selectElement=hu.createElement("select",Xo.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var n=this.cameras.length;if(n===0)throw new Error("No cameras found");if(n===1)r.style.display="none";else{var a=Kn.selectCamera();r.innerText="".concat(a," (").concat(this.cameras.length,")  ")}for(var i=1,c=0,f=this.cameras;c<f.length;c++){var m=f[c],p=m.id,x=m.label==null?p:m.label;(!x||x==="")&&(x=[Kn.anonymousCameraPrefix(),i++].join(" "));var y=document.createElement("option");y.value=p,y.innerText=x,this.options.push(y),this.selectElement.appendChild(y)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,n=this.options;r<n.length;r++){var a=n[r];if(a.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var n=new e(r);return n.render(t),n},e}(),die=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=hu.createElement("input",Xo.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=Kn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var a=this;this.rangeInput.addEventListener("input",function(){return a.onValueChange()}),this.rangeInput.addEventListener("change",function(){return a.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Kn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,n,a){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=a.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var n=new e;return n.render(t,r),n},e}(),Wo;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Wo||(Wo={}));function fie(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function hie(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var pie=function(){function e(t,r,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=n===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new ad(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new TD(this.verbose),this.persistedDataManager=new rie,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(i,c){if(t)t(i,c);else{if(n.lastMatchFound===i)return;n.lastMatchFound=i,n.setHeaderMessage(Kn.lastMatch(i),Wo.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(i,c){r&&r(i,c)};var a=document.getElementById(this.elementId);if(!a)throw"HTML Element with id=".concat(this.elementId," not found");a.innerHTML="",this.createBasicLayout(a),this.html5Qrcode=new M_(this.getScanRegionId(),hie(this.config,this.verbose))},e.prototype.pause=function(t){(wc(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var n=document.getElementById(t.elementId);n&&(n.innerHTML="",t.resetBasicLayout(n))};return this.html5Qrcode?new Promise(function(n,a){if(!t.html5Qrcode){n();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(i){if(!t.html5Qrcode){n();return}t.html5Qrcode.clear(),r(),n()}).catch(function(i){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",i),a(i)}):(t.html5Qrcode.clear(),r(),n())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=ql.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!ql.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=ql.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=ql.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:ql.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ql.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ql.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),n=this.getScanRegionId();r.id=n,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),ad.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var a=document.createElement("div"),i=this.getDashboardId();a.id=i,a.style.width="100%",t.appendChild(a),this.setupInitialDashboard(a)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var n=new iie;n.renderInto(r);var a=document.createElement("div");a.id=this.getHeaderMessageContainerId(),a.style.display="none",a.style.textAlign="center",a.style.fontSize="14px",a.style.padding="2px 10px",a.style.margin="4px",a.style.borderTop="1px solid #f6f6f6",r.appendChild(a)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,n){var a=this;a.showHideScanTypeSwapLink(!1),a.setHeaderMessage(Kn.cameraPermissionRequesting());var i=function(){n||a.createPermissionButton(t,r)};M_.getCameras().then(function(c){a.persistedDataManager.setHasPermission(!0),a.showHideScanTypeSwapLink(!0),a.resetHeaderMessage(),c&&c.length>0?(t.removeChild(r),a.renderCameraSelection(c)):(a.setHeaderMessage(Kn.noCameraFound(),Wo.STATUS_WARNING),i())}).catch(function(c){a.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:i(),a.setHeaderMessage(c,Wo.STATUS_WARNING),a.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var n=this,a=hu.createElement("button",this.getCameraPermissionButtonId());a.innerText=Kn.cameraPermissionTitle(),a.addEventListener("click",function(){a.disabled=!0,n.createCameraListUi(t,r,a)}),r.appendChild(a)},e.prototype.createPermissionsUi=function(t,r){var n=this;if(ad.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){R_.hasPermissions().then(function(a){a?n.createCameraListUi(t,r):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r))}).catch(function(a){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=ad.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(n);var a=document.createElement("div");a.style.textAlign="center",n.appendChild(a),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,a),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=ad.isFileScanType(this.currentScanType),n=this,a=function(i){if(!n.html5Qrcode)throw"html5Qrcode not defined";ad.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(Kn.loadingImage()),n.html5Qrcode.scanFileV2(i,!0).then(function(c){n.resetHeaderMessage(),n.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){n.setHeaderMessage(c,Wo.STATUS_WARNING),n.qrCodeErrorCallback(c,OD.createFrom(c))}))};this.fileSelectionUi=cie.create(t,r,a)},e.prototype.renderCameraSelection=function(t){var r=this,n=this,a=document.getElementById(this.getDashboardSectionCameraScanRegionId());a.style.textAlign="center";var i=die.create(a,!1),c=function(_){var T=_.zoomFeature();if(T.isSupported()){i.setOnCameraZoomValueChangeCallback(function(R){T.apply(R)});var I=1;r.config.defaultZoomValueIfSupported&&(I=r.config.defaultZoomValueIfSupported),I=Tae(I,T.min(),T.max()),i.setValues(T.min(),T.max(),I,T.step()),i.show()}},f=uie.create(a,t),m=document.createElement("span"),p=hu.createElement("button",Xo.CAMERA_START_BUTTON_ID);p.innerText=Kn.scanButtonStartScanningText(),m.appendChild(p);var x=hu.createElement("button",Xo.CAMERA_STOP_BUTTON_ID);x.innerText=Kn.scanButtonStopScanningText(),x.style.display="none",x.disabled=!0,m.appendChild(x);var y,S=function(_){if(!_.torchFeature().isSupported()){y&&y.hide();return}y?y.updateTorchCapability(_.torchFeature()):y=lie.create(m,_.torchFeature(),{display:"none",marginLeft:"5px"},function(T){n.setHeaderMessage(T,Wo.STATUS_WARNING)}),y.show()};a.appendChild(m);var N=function(_){_||(p.style.display="none"),p.innerText=Kn.scanButtonStartScanningText(),p.style.opacity="1",p.disabled=!1,_&&(p.style.display="inline-block")};if(p.addEventListener("click",function(_){p.innerText=Kn.scanButtonScanningStarting(),f.disable(),p.disabled=!0,p.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var T=f.getValue();n.persistedDataManager.setLastUsedCameraId(T),n.html5Qrcode.start(T,fie(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(I){x.disabled=!1,x.style.display="inline-block",N(!1);var R=n.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&S(R),r.config.showZoomSliderIfSupported===!0&&c(R)}).catch(function(I){n.showHideScanTypeSwapLink(!0),f.enable(),N(!0),n.setHeaderMessage(I,Wo.STATUS_WARNING)})}),f.hasSingleItem()&&p.click(),x.addEventListener("click",function(_){if(!n.html5Qrcode)throw"html5Qrcode not defined";x.disabled=!0,n.html5Qrcode.stop().then(function(T){r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),f.enable(),p.disabled=!1,x.style.display="none",p.style.display="inline-block",y&&(y.reset(),y.hide()),i.removeOnCameraZoomValueChangeCallback(),i.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(T){x.disabled=!1,n.setHeaderMessage(T,Wo.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var j=n.persistedDataManager.getLastUsedCameraId();f.hasValue(j)?(f.setValue(j),p.click()):n.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=Kn.textIfCameraScanSelected(),n=Kn.textIfFileScanSelected(),a=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");i.style.textAlign="center";var c=hu.createElement("span",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.style.cursor="pointer",c.innerText=ad.isCameraScanType(this.currentScanType)?r:n,c.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,ad.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),c.innerText=n,t.currentScanType=Od.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),c.innerText=r,t.currentScanType=Od.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),i.appendChild(c),a.appendChild(i)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){R_.hasPermissions().then(function(n){if(n){var a=document.getElementById(r.getCameraPermissionButtonId());if(!a)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";a.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(n){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=Wo.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=t,n.style.display="block",r){case Wo.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case Wo.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case Wo.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Jae,this.cameraScanImage.alt=Kn.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=eie,this.fileScanImage.alt=Kn.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Xo.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Xo.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const mie=e=>{const t=Ia.c(12),{onScan:r,onClose:n,onError:a}=e,i=M.useRef(null);let c,f;t[0]!==a||t[1]!==r?(c=()=>{const j=new pie("reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1},!1);return j.render(_=>{r(_),j.clear().catch(console.error)},_=>{a&&a(_)}),i.current=j,()=>{i.current&&i.current.clear().catch(console.error)}},f=[r,a],t[0]=a,t[1]=r,t[2]=c,t[3]=f):(c=t[2],f=t[3]),M.useEffect(c,f);let m;t[4]===Symbol.for("react.memo_cache_sentinel")?(m=u.jsx("h3",{className:"font-bold text-lg dark:text-white",children:"Scan QR Code"}),t[4]=m):m=t[4];let p;t[5]===Symbol.for("react.memo_cache_sentinel")?(p=u.jsx(To,{size:24,className:"text-gray-500 dark:text-gray-400"}),t[5]=p):p=t[5];let x;t[6]!==n?(x=u.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[m,u.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:p})]}),t[6]=n,t[7]=x):x=t[7];let y,S;t[8]===Symbol.for("react.memo_cache_sentinel")?(y=u.jsx("div",{className:"p-6 bg-black",children:u.jsx("div",{id:"reader",className:"overflow-hidden rounded-xl"})}),S=u.jsx("div",{className:"p-4 text-center text-sm text-gray-500 dark:text-gray-400",children:"Point your camera at a QR code to scan"}),t[8]=y,t[9]=S):(y=t[8],S=t[9]);let N;return t[10]!==x?(N=u.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl overflow-hidden shadow-2xl relative",children:[x,y,S]})}),t[10]=x,t[11]=N):N=t[11],N},gie=()=>{var _e,Ot,tt,bt,Ft;const{user:e}=$i(),{isDark:t}=bi(),[r,n]=M.useState(!1),[a,i]=M.useState(null),[c,f]=M.useState(null),m=async Pe=>{var mt,xt,Tt,ht;n(!1),f(null),i(null);try{let wt=Pe;Pe.includes("/qr-verify/")&&(wt=Pe.split("/qr-verify/").pop());const Yt=await Ut.post("/orders/scan-qr",{token:wt});Yt.data.success?i(Yt.data):f("Verification returned unsuccessful status")}catch(wt){console.error("QR Verification Error:",wt);try{let Vt=Pe;Pe.includes("/qr-verify/")&&(Vt=Pe.split("/qr-verify/").pop());const Xt=await Ut.post("/v2/orders/scan-qr",{token:Vt});if(Xt.data.success){i(Xt.data);return}}catch{}const Yt=((xt=(mt=wt.response)==null?void 0:mt.data)==null?void 0:xt.message)||wt.message||"Verification Failed";f(Yt),(ht=(Tt=wt.response)==null?void 0:Tt.data)!=null&&ht.used_at&&f(`ALREADY VERIFIED at ${new Date(wt.response.data.used_at).toLocaleString()}`)}},p=()=>{i(null),f(null)};Ha();const[x,y]=M.useState([]),[S,N]=M.useState([]),[j,_]=M.useState("UPI"),[T,I]=M.useState(!0),[R,F]=M.useState(!1),[G,Y]=M.useState(!1),[J,V]=M.useState(null),[$,W]=M.useState(""),[Ne,Z]=M.useState(!1),[Q,me]=M.useState(null),[re,q]=M.useState(1),[ie,oe]=M.useState([]),[de,ee]=M.useState("ALL"),[Ae,ce]=M.useState("IDLE"),[U,H]=M.useState(null),[se,ve]=M.useState(null),[ne,le]=M.useState(!1),[je,pe]=M.useState(!1),[Te,ke]=M.useState(!1),[ue,Le]=M.useState([]),[$e,Be]=M.useState(!1),[ae,nt]=M.useState(null),[at,Re]=M.useState([]),[Qe,Fe]=M.useState(3),et=M.useRef(null),[St,qt]=M.useState({street:"",city:"",state:"",pincode:"",country:"India",phone:""}),[Wt,tr]=M.useState(""),[Bt,lr]=M.useState(null),[Qt,Er]=M.useState(!1),zt=Pe=>{const mt=Pe.getFullYear(),xt=String(Pe.getMonth()+1).padStart(2,"0"),Tt=String(Pe.getDate()).padStart(2,"0");return`${mt}-${xt}-${Tt}`},Mn=Pe=>{const mt=new Date;mt.setHours(0,0,0,0);const xt=new Date(Pe);if(xt.setHours(0,0,0,0),xt.getDay()===0||xt<mt)return!0;if(xt.getTime()===mt.getTime()){const Tt=new Date;if(Tt.getHours()>11||Tt.getHours()===11&&Tt.getMinutes()>=30)return!0}return!1},[Ht,Ct]=M.useState(()=>{const Pe=new Date;return Mn(Pe)?[]:[zt(Pe)]}),[rr,Jt]=M.useState(new Date),[Kr,Ur]=M.useState(""),[Ri,pn]=M.useState(!1);M.useEffect(()=>{const Pe=setTimeout(()=>{Wt&&Wt.length>=1?Ar(Wt):Wt||qt({street:"",city:"",state:"",pincode:"",country:"India",phone:""})},1e3);return()=>clearTimeout(Pe)},[Wt]);const Ar=async Pe=>{if(Pe){pn(!0);try{const mt=await Ut.get(`/employees/?search=${Pe}&limit=1000`);let xt=[];mt.data&&Array.isArray(mt.data.employees)?xt=mt.data.employees:mt.data&&Array.isArray(mt.data)?xt=mt.data:mt.data&&mt.data.data&&(xt=mt.data.data);const Tt=xt.find(ht=>ht.emp_code&&ht.emp_code.toLowerCase()===Pe.toLowerCase()||ht.username&&ht.username.toLowerCase()===Pe.toLowerCase())||xt[0];Tt?(lr(Tt),qt({street:[Tt.address,Tt.address_line_2].filter(Boolean).join(", ")||Tt.work_location||Tt.base_location||"",city:Tt.city||Tt.district||"",state:Tt.perm_state||Tt.state||"",pincode:Tt.pincode||"",country:Tt.perm_country||Tt.country||"India",phone:Tt.mobile||Tt.phone||""})):lr(null)}catch(mt){console.error("Error looking up employee:",mt)}finally{pn(!1)}}},sa=async Pe=>{var mt,xt,Tt,ht;if(Pe&&!je){le(!0);try{const wt=await Ut.get(`/orders/${Pe}/qr`);if(console.log("QR Polling Response:",wt.data),(mt=wt.data)!=null&&mt.is_used)pe(!0),ve(null),console.log("QR marked as used by backend");else if((xt=wt.data)!=null&&xt.qrImage||(Tt=wt.data)!=null&&Tt.qr||(ht=wt.data)!=null&&ht.qr_code){let Yt=wt.data.qrImage||wt.data.qr||wt.data.qr_code;Yt&&typeof Yt=="string"&&!Yt.startsWith("data:")&&!Yt.startsWith("http")&&(Yt=`${Oo}${Yt.startsWith("/")?"":"/"}${Yt}`),ve(Yt)}}catch(wt){console.error("Error fetching QR Code:",wt)}finally{le(!1)}}},sn=async()=>{var Pe,mt,xt,Tt,ht,wt,Yt,Vt,Xt,er,Zr,_n,cn,Nt;if(!S.length){alert("Select at least one product");return}if(j==="UPI"&&!G){alert("Payment gateway is loading. Please wait...");return}if(!Ht||Ht.length===0){alert("Please select at least one date from the calendar");return}try{F(!0);const ui=`ADM-${Date.now()}`,Rr=S.flatMap(va=>Array(va.quantity||1).fill(Number(va.id))),Lo=Jn()*Ht.length,qr=`${St.street||""}, ${St.city||""}, ${St.state||""}, ${St.pincode||""}, ${St.country||"India"}${St.phone?` - Phone: ${St.phone}`:""}`.trim().replace(/^, |, $/g,""),Lr=ie.find(va=>va.id===Number(Bt==null?void 0:Bt.division_unit)||va.name===(Bt==null?void 0:Bt.division_unit)||va.code===(Bt==null?void 0:Bt.division_unit)),Mr=Number(Lr==null?void 0:Lr.id)||Number(Bt==null?void 0:Bt.division_unit)||Number((Pe=S[0])==null?void 0:Pe.unit_id)||Number(e==null?void 0:e.unit_id)||1,Vs={code:ui,Order_code:ui,payment_mode:j,item_ids:Rr,total_amount:Number(Lo),delivery_address:St.street?qr:"Office Delivery",emp_code:Wt||(e==null?void 0:e.emp_code)||(e==null?void 0:e.username)||"ADMIN",unit_id:Mr,division_unit:(Bt==null?void 0:Bt.division_unit)||(Lr==null?void 0:Lr.name)||((mt=S[0])==null?void 0:mt.division_unit)||(e==null?void 0:e.division_unit)||"General",phone:St.phone||"0000000000",customer_phone:St.phone||"0000000000",employeeCode:Wt||(e==null?void 0:e.emp_code)||(e==null?void 0:e.username)||"ADMIN01",deliveryAddress:St.street?qr:"Office Delivery",dates:Ht,selectedDates:Ht,order_dates:Ht,orderDate:Ht[0],remarks:Kr||""};console.log("Submitting order with payload:",JSON.stringify(Vs,null,2));const Jr=(await Ut.post("/orders/",Vs)).data;console.log("Order created successfully - Full Response:",Jr);const Cr=(Jr==null?void 0:Jr.order_id)||((xt=Jr==null?void 0:Jr.order)==null?void 0:xt.id)||((Tt=Jr==null?void 0:Jr.data)==null?void 0:Tt.id)||(Jr==null?void 0:Jr.id),Wa=(Jr==null?void 0:Jr.order)||(Jr==null?void 0:Jr.data)||Jr;if(!Cr)throw console.error(" Order ID extraction failed. Response Data:",Jr),new Error("Failed to create order - ID missing in response");if(console.log("Extracted Order ID:",Cr),V(Cr),j==="FREE"||j==="GUEST")try{const va={emp_code:Wt||(e==null?void 0:e.emp_code)||(e==null?void 0:e.username)||"ADMIN"},mn=j==="FREE"?`/orders/${Cr}/pay-free`:`/orders/${Cr}/pay-guest`;console.log(`Updating ${j} payment status:`,va);const Vn=await Ut.post(mn,va);console.log(` ${j} Payment Response:`,Vn.data);try{const wi=await Ut.get(`/orders/${Cr}/qr`);console.log(" QR Code Response:",wi.data);const Yr={...Wa,id:Cr,payment_status:"PAID",dayBills:((ht=Vn.data)==null?void 0:ht.dayBills)||(Wa==null?void 0:Wa.dayBills)||[]},_r=(wt=wi.data)==null?void 0:wt.qrImage,An=(Yr==null?void 0:Yr.dayBills)||((Yt=Vn.data)==null?void 0:Yt.dayBills)||[];console.log(" Using Order Data:",Yr),console.log(" Day Bills:",An),_r&&ve(_r),An.length>0&&Re(An),ce("SUCCESS"),H({order:Yr,dayBills:An,qrImage:_r,paymentMode:j}),nt(Yr),An.length>0&&setTimeout(()=>{xr({...Yr,dayBills:An})},500),console.log(` ${j} order completed successfully!`)}catch(wi){console.error("Error fetching QR code:",wi);const Yr={...Wa,id:Cr,payment_status:"PAID",dayBills:((Vt=Vn.data)==null?void 0:Vt.dayBills)||[]};ce("SUCCESS"),H({order:Yr,dayBills:Yr.dayBills||[],paymentMode:j}),nt(Yr),Yr.dayBills&&Yr.dayBills.length>0&&(Re(Yr.dayBills),setTimeout(()=>{xr({...Yr,dayBills:Yr.dayBills})},1e3)),console.log(` ${j} order completed (QR unavailable)`)}}catch(va){console.error("Payment status update failed:",((Xt=va.response)==null?void 0:Xt.data)||va);const mn=((Zr=(er=va.response)==null?void 0:er.data)==null?void 0:Zr.message)||((cn=(_n=va.response)==null?void 0:_n.data)==null?void 0:cn.error)||"Unknown error";alert(`Order created but failed to mark as paid: ${mn}`)}else if(j==="UPI"){const va=Math.round(Lo*100),mn=await Ut.post(`/orders/${Cr}/create-razorpay-order`,{order_id:Cr,amount:va,order_code:ui});console.log("create-razorpay-order Response Data:",mn.data);const{razorpay_order_id:Vn,amount:wi,key:Yr,key_id:_r,razorpay_key:An}=mn.data,rt=Yr||_r||An;if(!rt)throw new Error("Payment initialization failed: API Key missing");const Oe=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.startsWith("192.168"),sr={key:rt,amount:wi,currency:"INR",name:"CMS",image:"",description:`Admin Order #${Cr} - ${ui}`,order_id:Vn,handler:async Pn=>{var Ja,ps,tl,ei,pr,en,so,Po,Ss,Nn;console.log("Razorpay payment successful. Response:",Pn);try{const Rn=await Ut.post(`/orders/${Cr}/verify-razorpay`,{razorpay_payment_id:Pn.razorpay_payment_id,razorpay_order_id:Pn.razorpay_order_id,razorpay_signature:Pn.razorpay_signature,emp_code:Wt||(e==null?void 0:e.username)||"ADMIN"});console.log(" Admin Payment Verification Response:",Rn.data),console.log(" Order Data:",(Ja=Rn.data)==null?void 0:Ja.order),console.log(" Day Bills:",(ps=Rn.data)==null?void 0:ps.dayBills),console.log(" QR Image Available:",!!((tl=Rn.data)!=null&&tl.qrImage)),(ei=Rn.data)!=null&&ei.qrImage&&ve(Rn.data.qrImage),(pr=Rn.data)!=null&&pr.dayBills&&Re(Rn.data.dayBills),ce("SUCCESS"),H(Rn.data),nt(((en=Rn.data)==null?void 0:en.order)||Wa),(so=Rn.data)!=null&&so.dayBills&&Rn.data.dayBills.length>0&&setTimeout(()=>{xr({...Rn.data.order,dayBills:Rn.data.dayBills})},1e3),alert("Payment verified successfully!"),F(!1)}catch(Rn){console.error(" Payment verification failed:",((Po=Rn.response)==null?void 0:Po.data)||Rn),ce("FAILED"),alert(`Payment verification failed: ${((Nn=(Ss=Rn.response)==null?void 0:Ss.data)==null?void 0:Nn.error)||Rn.message}`),F(!1)}},prefill:{contact:(e==null?void 0:e.phone)||"9999999999",email:(e==null?void 0:e.email)||"admin@cms.com",vpa:"success@razorpay"},display:{blocks:{upi:{name:"UPI",instruments:[{method:"upi",types:["qr"]}]},...Oe?{}:{googlepay:{name:"Google Pay",instruments:[{method:"googlepay"}]}},netbanking:{name:"Net Banking",instruments:[{method:"netbanking"}]}},sequence:Oe?["block.upi","block.netbanking"]:["block.upi","block.googlepay","block.netbanking"],preferences:{show_default_blocks:!0}},modal:{ondismiss:async()=>{await Ji(Cr),F(!1)}},theme:{color:"#fac639"}};if(typeof window.Razorpay>"u")throw new Error("Razorpay script not loaded properly");new window.Razorpay(sr).open()}else alert("Order created successfully!"),N([])}catch(ui){console.error("Order process Error:",ui);const Rr=(Nt=ui.response)==null?void 0:Nt.data,Hn=(Rr==null?void 0:Rr.error)||(Rr==null?void 0:Rr.message)||ui.message||"Invalid order data. Please check selection.";F(!1),alert(`Checkout Error: ${Hn}`)}finally{j!=="UPI"&&Ae!=="SUCCESS"&&F(!1)}},xr=async Pe=>{var xt,Tt;const mt=Pe||ae;if(!(!mt||Te)){ke(!0),Le([]),Be(!1);try{const ht=at.length>0?at:mt.dayBills||[],wt=mt.order_id||mt.id||J;if(ht.length===0){console.warn("No dayBills found in order for auto-printing:",mt),ke(!1);return}console.log(` Attempting to print ${ht.length} bills for order #${wt}`);const Yt=[];for(const Vt of ht){if(!Vt||!Vt.id)continue;let Xt=!1,er="";try{await Ut.post(`/orders/${wt}/bills/${Vt.id}/print`),Xt=!0}catch{console.warn(`Admin print failed for ${Vt.id}, trying V2...`);try{await Ut.post(`/orders/${wt}/bills/${Vt.id}/print`),Xt=!0}catch(_n){er=((Tt=(xt=_n.response)==null?void 0:xt.data)==null?void 0:Tt.error)||_n.message}}Yt.push({billId:Vt.id,success:Xt,error:er})}Le(Yt),Yt.some(Vt=>!Vt.success)&&Be(!0)}catch(ht){console.error("Admin print process failed:",ht)}finally{ke(!1)}}},Nr=async Pe=>{var xt,Tt,ht,wt,Yt;const mt=(ae==null?void 0:ae.id)||(ae==null?void 0:ae.order_id)||J;if(!(!mt||!Pe||Te)){ke(!0);try{console.log(` Manual print trigger for Bill #${Pe} (Order #${mt})`);const Xt=(xt=(await Ut.post(`/orders/${mt}/bills/${Pe}/print`)).data)==null?void 0:xt.jobId;Le(er=>er.map(Zr=>Zr.billId===Pe?{...Zr,success:!0,error:"",jobId:Xt}:Zr)),alert(`Print job #${Xt||""} queued successfully`)}catch(Vt){console.error("Manual print failed:",Vt);const Xt=((ht=(Tt=Vt.response)==null?void 0:Tt.data)==null?void 0:ht.message)||((Yt=(wt=Vt.response)==null?void 0:wt.data)==null?void 0:Yt.error)||Vt.message;alert(`Print failed: ${Xt}`),Le(er=>er.map(Zr=>Zr.billId===Pe?{...Zr,success:!1,error:Xt}:Zr))}finally{ke(!1)}}};M.useEffect(()=>{if(window.Razorpay){Y(!0);return}const Pe=document.createElement("script");Pe.src="https://checkout.razorpay.com/v1/checkout.js",Pe.async=!0,Pe.onload=()=>Y(!0),Pe.onerror=()=>alert("Failed to load payment gateway. Refresh the page."),document.head.appendChild(Pe)},[]),M.useEffect(()=>{console.log(`[AdminCheckout] Payment Status: ${Ae}, Order ID: ${J}`)},[Ae,J]),M.useEffect(()=>{if(Ae==="SUCCESS"&&J&&!je){const Pe=setInterval(()=>{sa(J)},4e3);return()=>clearInterval(Pe)}},[Ae,J,je]),M.useEffect(()=>{if(Ae==="SUCCESS"){Fe(15);const Pe=setInterval(()=>{Fe(xt=>xt<=1?(clearInterval(Pe),0):xt-1)},1e3),mt=setTimeout(()=>{console.log(" Auto-closing success modal after 15 seconds"),Gr()},15e3);return()=>{clearInterval(Pe),clearTimeout(mt)}}},[Ae]);const Ji=async Pe=>{if(Pe)try{await Ut.post(`/orders/${Pe}/cancel`)}catch(mt){console.error("Cancel order failed:",mt)}},Gr=()=>{N([]),ce("IDLE"),H(null),V(null),_("UPI"),F(!1),ve(null),pe(!1),Re([]),Le([]),Be(!1),nt(null),qt({street:"",city:"",state:"",pincode:"",country:"India"}),tr(""),Ct([new Date().toISOString().split("T")[0]]),Ur("")};M.useEffect(()=>{(async()=>{var mt,xt,Tt;try{const ht=await Ut.get("/items/",{params:{limit:1e3}});y(((mt=ht.data)==null?void 0:mt.items)||((xt=ht.data)==null?void 0:xt.products)||[]);const wt=await Ut.get("/units");let Yt=Array.isArray(wt.data)?wt.data:((Tt=wt.data)==null?void 0:Tt.units)||[];(e==null?void 0:e.role)==="unit_admin"&&(e!=null&&e.unit_id)&&(Yt=Yt.filter(Vt=>Vt.id===e.unit_id),ee(e.unit_id)),oe(Yt)}catch(ht){console.error(ht)}})()},[]);const oa=M.useCallback(async()=>{var Pe,mt,xt;try{I(!0);const Tt=await Ut.get("/items/",{params:{limit:1e3,search:$}}),ht=((Pe=Tt.data)==null?void 0:Pe.items)||((mt=Tt.data)==null?void 0:mt.products)||((xt=Tt.data)==null?void 0:xt.data)||(Array.isArray(Tt.data)?Tt.data:[]);y(ht)}catch(Tt){console.error(" Error loading products:",Tt)}finally{I(!1)}},[$]);M.useEffect(()=>{const Pe=setTimeout(()=>{oa()},500);return()=>clearTimeout(Pe)},[oa]);const la=M.useMemo(()=>x.filter(Pe=>{if(Pe.is_active===!1||Pe.is_active===0||Pe.is_active==="0"||de!=="ALL"&&String(Pe.unit_id)!==String(de))return!1;if($){const mt=$.toLowerCase(),xt=(Pe.name||"").toLowerCase().includes(mt),Tt=(Pe.name_en||"").toLowerCase().includes(mt);if(!xt&&!Tt)return!1}return!0}),[x,$,de]),or=Pe=>S.filter(mt=>mt.id===Pe).reduce((mt,xt)=>mt+(xt.quantity||0),0),Za=(Pe,mt,xt)=>{N(Tt=>{const ht=Tt.findIndex(Vt=>Vt.id===Pe.id&&(xt?Vt.variant_id===xt:!0));if(ht===-1)return mt>0?[...Tt,{...Pe,quantity:mt,variant_id:xt,selectedPrice:Pe.price||Pe.base_price}]:Tt;const wt=[...Tt],Yt=wt[ht].quantity+mt;return Yt<=0?wt.splice(ht,1):wt[ht]={...wt[ht],quantity:Yt},wt})},Jn=()=>S.reduce((Pe,mt)=>Pe+Number(mt.selectedPrice||mt.base_price||mt.price||0)*(mt.quantity||0),0),xa=Pe=>{const mt=S.find(xt=>xt.id===Pe.id);me(Pe),q(mt?mt.quantity:1),Z(!0)},Wr=()=>{var mt,xt;if(!Q)return;const Pe=((xt=(mt=Q.variants)==null?void 0:mt[0])==null?void 0:xt.id)||Q.id;N(Tt=>{const ht=Tt.findIndex(Yt=>Yt.id===Q.id&&Yt.variant_id===Pe),wt=[...Tt];return ht!==-1?re<=0?wt.splice(ht,1):wt[ht]={...wt[ht],quantity:re}:re>0&&wt.push({...Q,quantity:re,variant_id:Pe,selectedPrice:Q.price||Q.base_price}),wt}),Z(!1),me(null)};return T&&x.length===0?u.jsx(ci,{children:u.jsx(qs,{})}):u.jsxs(u.Fragment,{children:[Ne&&Q&&u.jsx("div",{className:"fixed inset-0 z-[99999] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:u.jsx("div",{className:"bg-[var(--surface-card)] w-full max-w-md rounded-[2rem] shadow-2xl border border-[var(--border-default)] overflow-hidden animate-in fade-in zoom-in duration-200 max-h-[95vh] flex flex-col",children:u.jsxs("div",{className:"p-4 sm:p-6 overflow-y-auto custom-scrollbar flex-1",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)]",children:"Item selection"}),u.jsx("button",{onClick:()=>Z(!1),className:"p-2 hover:bg-[var(--surface-muted)] rounded-full transition-colors",children:u.jsx(yb,{size:24,className:"text-[var(--text-secondary)]"})})]}),u.jsxs("div",{className:"flex flex-col items-center mb-8",children:[u.jsx("div",{className:"w-32 h-32 rounded-2xl bg-[var(--surface-muted)] overflow-hidden mb-4 border border-[var(--border-default)]",children:u.jsx("img",{src:(()=>{var mt,xt;const Pe=((xt=(mt=Q.images)==null?void 0:mt[0])==null?void 0:xt.url)||Q.image||Q.image_path;return Pe?Pe.startsWith("http")||Pe.startsWith("blob:")?Pe:`${Oo}${Pe.startsWith("/")?"":"/"}${Pe}`:eo})(),className:"w-full h-full object-contain p-2",onError:Pe=>Pe.target.src=eo})}),u.jsx("h4",{className:"text-lg font-bold text-[var(--text-primary)] text-center capitalize mb-1",children:Q.name_en||Q.name}),u.jsxs("p",{className:"text-[var(--brand-primary)] font-black text-xl",children:["",parseFloat(Q.price||Q.base_price||0).toFixed(2)]})]}),u.jsxs("div",{className:"bg-[var(--surface-muted)]/30 rounded-2xl p-6 mb-8 border border-[var(--border-default)]",children:[u.jsx("p",{className:"text-center text-xs font-bold uppercase tracking-widest text-[var(--text-secondary)] mb-4",children:"Select Quantity"}),u.jsxs("div",{className:"flex items-center justify-center gap-8",children:[u.jsx("button",{onClick:()=>q(Math.max(0,re-1)),className:"w-12 h-12 rounded-full bg-[var(--surface-card)] border border-[var(--border-default)] flex items-center justify-center text-[var(--text-primary)] hover:border-[var(--brand-primary)] hover:text-[var(--brand-primary)] transition-all active:scale-90",children:u.jsx(Dm,{size:14})}),u.jsx("span",{className:"text-4xl font-black text-[var(--text-primary)] w-12 text-center",children:re}),u.jsx("button",{onClick:()=>q(re+1),className:"w-12 h-12 rounded-full bg-[var(--brand-primary)] text-white flex items-center justify-center shadow-lg shadow-[var(--brand-primary)]/20 hover:scale-110 transition-all active:scale-90",children:u.jsx(Oc,{size:14})})]})]}),u.jsx("button",{onClick:Wr,className:"w-full py-4 rounded-2xl bg-black dark:bg-white text-white dark:text-black font-black text-sm uppercase tracking-widest shadow-xl hover:scale-[1.02] active:scale-95 transition-all",children:re===0?"Remove Order":"order Now"})]})})}),Ae==="SUCCESS"&&u.jsx("div",{className:"fixed inset-0 z-[99999] bg-[var(--surface-main)] flex items-start sm:items-center justify-center p-0 sm:p-6 overflow-y-auto",children:u.jsx("div",{className:"w-full sm:max-w-4xl bg-[var(--surface-card)] sm:rounded-[2.5rem] shadow-none sm:shadow-[0_32px_64px_-12px_rgba(0,0,0,0.1)] border-0 sm:border border-[var(--border-default)] overflow-hidden animate-in zoom-in duration-500 min-h-screen sm:min-h-0",children:u.jsxs("div",{className:"flex flex-col md:flex-row h-full",children:[u.jsxs("div",{className:"flex-1 p-6 sm:p-12 flex flex-col items-center justify-center text-center border-b md:border-b-0 md:border-r border-[var(--border-default)] bg-gradient-to-b from-emerald-500/5 to-transparent",children:[u.jsx("img",{src:Qj,alt:"Success",className:"h-32 sm:h-56 mx-auto mb-6 sm:mb-8 drop-shadow-2xl"}),u.jsx("h1",{className:"text-2xl sm:text-4xl font-black text-emerald-600 mb-2 sm:mb-4 tracking-tight",children:"Payment Successful!"}),u.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-500/10 text-emerald-600 rounded-full border border-emerald-500/20 text-xs font-bold uppercase tracking-widest mb-8",children:[u.jsx(hf,{})," Transaction Verified"]}),u.jsxs("div",{className:"w-full space-y-3 bg-[var(--surface-muted)]/30 p-6 rounded-2xl border border-[var(--border-default)]",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsx("span",{className:"opacity-60 font-medium",children:"Order Reference:"}),u.jsxs("span",{className:"font-bold text-emerald-600 uppercase",children:["#",J]})]}),at&&at.length>0&&u.jsxs("div",{className:"border-t border-[var(--border-default)] pt-3 space-y-2",children:[u.jsxs("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-40",children:["Bills Generated (",at.length," days)"]}),at.map((Pe,mt)=>u.jsxs("div",{className:"flex justify-between items-center text-xs bg-[var(--surface-card)] p-2 rounded-lg border border-[var(--border-default)] hover:border-[var(--brand-primary)]/30 transition-all group",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-[var(--surface-muted)] flex items-center justify-center text-[var(--text-secondary)]",children:u.jsx(od,{size:12})}),u.jsxs("div",{children:[u.jsxs("span",{className:"font-bold opacity-80 block",children:["Bill #",Pe.id]}),u.jsx("span",{className:"text-[10px] opacity-60",children:Pe.bill_date})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"font-bold",children:["",parseFloat(Pe.amount||0).toFixed(2)]}),u.jsx("button",{onClick:()=>Nr(Pe.id),disabled:Te,className:"p-2 rounded-xl bg-[var(--brand-primary)]/10 text-[var(--brand-primary)] hover:bg-[var(--brand-primary)] hover:text-white transition-all shadow-sm active:scale-90 disabled:opacity-50",title:"Print this bill",children:u.jsx(od,{size:14})})]})]},Pe.id||mt))]}),u.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t border-[var(--border-default)]",children:[u.jsx("span",{className:"opacity-60 font-medium",children:"Total Amount:"}),u.jsxs("span",{className:"text-2xl font-black text-[var(--text-primary)]",children:["",Jn().toFixed(2)]})]})]}),at&&at.length>0&&u.jsxs("div",{className:"w-full mt-6",children:[u.jsxs("div",{className:"p-5 rounded-2xl border border-[var(--border-default)] text-left bg-white dark:bg-black/10",children:[u.jsxs("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-30 mb-4 pl-1 flex items-center gap-2",children:[u.jsx(od,{size:12})," Print Status Report"]}),Te?u.jsxs("div",{className:"flex items-center gap-3 py-2",children:[u.jsx(Zo,{className:"animate-spin text-amber-500"}),u.jsx("span",{className:"text-xs font-bold text-slate-400 animate-pulse uppercase tracking-widest",children:"Printer working..."})]}):ue.length>0?u.jsx("div",{className:"space-y-3",children:ue.map((Pe,mt)=>u.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(od,{className:Pe.success?"text-emerald-500":"text-rose-400"}),u.jsxs("span",{className:"font-medium opacity-80 uppercase tracking-tight",children:["Bill #",Pe.billId||"N/A"]})]}),u.jsx("span",{className:`font-black tracking-tighter ${Pe.success?"text-emerald-500":"text-rose-500"}`,children:Pe.success?" SENT":" FAILED"})]},mt))}):u.jsx("p",{className:"text-[10px] font-bold text-slate-400 italic",children:"Auto-print process pending..."})]}),$e&&u.jsxs("div",{className:"mt-4 p-3 rounded-xl bg-rose-50 border border-rose-100 text-rose-600 flex items-center gap-2 animate-bounce",children:[u.jsx(yb,{}),u.jsx("span",{className:"text-[10px] font-black uppercase",children:"Printing issues detected!"})]})]})]}),u.jsxs("div",{id:"printable-bill",className:"flex-1 p-8 sm:p-12 flex flex-col bg-[var(--surface-card)]",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("h2",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-40 mb-4 flex items-center gap-2",children:[u.jsx(vh,{})," Items Breakdown"]}),u.jsx("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:S.map((Pe,mt)=>u.jsxs("div",{className:"flex justify-between items-center border-b border-[var(--border-default)]/50 pb-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-bold text-sm text-[var(--text-primary)]",children:Pe.name_en||Pe.name}),u.jsxs("p",{className:"text-[10px] text-[var(--text-secondary)] font-bold",children:["Qty: ",Pe.quantity]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-black text-sm",children:["",((Pe.selectedPrice||Pe.price||0)*(Pe.quantity||1)).toFixed(2)]}),u.jsxs("p",{className:"text-[10px] font-bold opacity-30",children:[Pe.quantity," x ",Pe.selectedPrice||Pe.price]})]})]},mt))})]}),u.jsxs("div",{className:"mt-auto flex flex-col items-center p-6 bg-[var(--surface-muted)]/20 rounded-3xl border border-[var(--border-default)] relative group",children:[u.jsx("div",{className:"absolute inset-0 bg-[var(--brand-primary)]/5 opacity-0 group-hover:opacity-100 transition-opacity rounded-3xl"}),ne&&!se?u.jsxs("div",{className:"w-32 h-32 flex flex-col items-center justify-center animate-pulse gap-2",children:[u.jsx(Zo,{className:"animate-spin text-[var(--brand-primary)]"}),u.jsx("p",{className:"text-[8px] font-black opacity-40 uppercase",children:"Checking QR..."})]}):je?u.jsxs("div",{className:"w-32 h-32 flex flex-col items-center justify-center text-rose-500 text-center",children:[u.jsx(hf,{size:32,className:"mb-2"}),u.jsx("p",{className:"text-[10px] font-black uppercase",children:"QR USED"})]}):se?u.jsx("div",{className:"bg-white p-2 rounded-xl border border-slate-100 shadow-lg",children:u.jsx("img",{src:se,alt:"QR",className:"w-32 h-32 object-contain"})}):u.jsx("div",{className:"w-32 h-32 flex items-center justify-center border-2 border-dashed border-slate-200 rounded-xl",children:u.jsx("p",{className:"text-[8px] opacity-40 font-bold uppercase",children:"QR Unavailable"})}),u.jsx("p",{className:"mt-4 text-[10px] font-black text-[var(--brand-primary)] uppercase tracking-widest",children:"Show for verification"})]}),u.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[u.jsxs("button",{onClick:Gr,className:"flex items-center justify-center gap-2 px-6 py-4 bg-black text-white dark:bg-white dark:text-black rounded-2xl font-black text-sm shadow-2xl hover:scale-[1.02] active:scale-95 transition-all sm:col-span-2",children:[u.jsx(uB,{})," NEW ORDER (",Qe,"s)"]}),u.jsxs("button",{onClick:()=>xr(),disabled:Te,className:"flex items-center justify-center gap-2 px-6 py-4 bg-[var(--surface-muted)] text-[var(--text-primary)] rounded-2xl font-black text-xs border border-[var(--border-default)] hover:bg-[var(--surface-card)] transition-all disabled:opacity-50",children:[u.jsx(od,{})," ",Te?"PRINTING...":"THERMAL"]}),u.jsxs("button",{onClick:()=>window.print(),className:"flex items-center justify-center gap-2 px-6 py-4 bg-blue-500/10 text-blue-500 rounded-2xl font-black text-xs border border-blue-500/20 hover:bg-blue-500 hover:text-white transition-all shadow-lg",children:[u.jsx(od,{})," SYSTEM"]})]})]})]})})}),u.jsx(ci,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4 sm:mb-8 animate-slide-up opacity-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-1.5 h-8 bg-[var(--brand-primary)] rounded-full shadow-[0_0_15px_rgba(249,115,22,0.4)]"}),u.jsx("h1",{className:"text-xl sm:text-2xl font-black tracking-tight text-[var(--text-primary)]",children:"Orders".split("").map((Pe,mt)=>u.jsx("span",{className:"animate-letter-pop",style:{animationDelay:`${300+(Pe===" "?0:mt*50)}ms`},children:Pe===" "?"":Pe},mt))})]}),u.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-6 py-3 bg-[var(--surface-card)] hover:bg-[var(--surface-muted)] text-[var(--text-primary)] rounded-2xl font-bold text-sm shadow-sm border border-[var(--border-default)] transition-all hover:scale-105 active:scale-95",children:[u.jsx(vm,{size:18,className:"text-[var(--brand-primary)]"}),u.jsx("span",{children:"SCAN QR"})]})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[u.jsx("div",{className:"flex-1 space-y-8 min-w-0",children:u.jsxs("div",{className:"p-4 sm:p-6 rounded-2xl border bg-[var(--surface-card)] border-[var(--border-default)] shadow-lg overflow-hidden",children:[u.jsx("div",{className:"mb-6 border-b border-[var(--border-default)] pb-6",children:u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("div",{className:"text-[var(--brand-primary)] font-bold text-lg uppercase tracking-wider",children:"ALL ITEMS"})})}),u.jsx("div",{style:{animationDelay:"100ms"},className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6 animate-slide-up opacity-0",children:u.jsxs("div",{className:"relative w-full sm:w-64 group",children:[u.jsx("input",{type:"text",placeholder:"Search items...",value:$,onChange:Pe=>W(Pe.target.value),className:"w-full px-12 py-3 text-sm text-center rounded-xl border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--brand-primary)]/30 focus:border-[var(--brand-primary)] transition-all placeholder:text-[var(--text-secondary)]/50"}),u.jsx(wd,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] group-focus-within:text-[var(--brand-primary)] transition-colors",size:18})]})}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-2 sm:gap-4 max-h-[60vh] sm:max-h-[600px] overflow-y-auto pr-2 custom-scrollbar",children:Array.isArray(la)&&la.map(Pe=>{const mt=or(Pe.id);return u.jsxs("div",{className:`group p-3 rounded-2xl border-2 transition-all relative overflow-hidden flex flex-col ${mt>0?"border-[var(--brand-primary)] bg-[var(--brand-primary)]/5":"border-[var(--border-default)] hover:border-[var(--brand-primary)]/50 bg-[var(--surface-main)]"}`,children:[u.jsxs("div",{onClick:()=>xa(Pe),className:"cursor-pointer",children:[u.jsx("div",{className:"aspect-[4/3] rounded-xl overflow-hidden mb-3 bg-[var(--surface-muted)]",children:u.jsx("img",{src:(()=>{var Tt,ht;const xt=((ht=(Tt=Pe.images)==null?void 0:Tt[0])==null?void 0:ht.url)||Pe.image||Pe.image_path;return xt?xt.startsWith("http")||xt.startsWith("blob:")?xt:`${Oo}${xt.startsWith("/")?"":"/"}${xt}`:eo})(),className:"w-full h-full object-contain transition-transform group-hover:scale-110 p-1",onError:xt=>xt.target.src=eo})}),u.jsxs("div",{className:"text-left mb-3",children:[u.jsx("div",{className:"font-medium text-sm truncate text-[var(--text-primary)] capitalize",children:Pe.name_en||Pe.name}),u.jsxs("div",{className:"text-xs font-semibold text-[var(--brand-primary)] mt-1",children:["",parseFloat(Pe.price||Pe.base_price||0).toFixed(2)]})]})]}),u.jsxs("div",{className:"mt-auto flex items-center justify-between gap-2",children:[u.jsx("button",{onClick:xt=>{var Tt,ht;xt.stopPropagation(),Za(Pe,-1,((ht=(Tt=Pe.variants)==null?void 0:Tt[0])==null?void 0:ht.id)||Pe.id)},className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-[var(--surface-muted)] flex items-center justify-center text-[var(--text-primary)] transition-all active:scale-95 hover:bg-rose-500 hover:text-white",children:u.jsx(Dm,{className:"text-base sm:text-lg"})}),u.jsx("span",{className:`text-xl font-black min-w-[24px] text-center ${mt>0?"text-[var(--brand-primary)]":"text-[var(--text-secondary)] opacity-50"}`,children:mt}),u.jsx("button",{onClick:xt=>{var Tt,ht;xt.stopPropagation(),Za(Pe,1,((ht=(Tt=Pe.variants)==null?void 0:Tt[0])==null?void 0:ht.id)||Pe.id)},className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-[var(--brand-primary)] flex items-center justify-center text-white transition-all active:scale-95 shadow-lg shadow-[var(--brand-primary)]/20",children:u.jsx(Oc,{className:"text-base sm:text-lg"})})]})]},Pe.id)})})]})}),u.jsxs("div",{ref:et,className:"w-full lg:w-[380px] space-y-6 lg:sticky lg:top-8 h-fit",children:[u.jsxs("div",{className:"p-4 sm:p-6 rounded-2xl border bg-[var(--surface-card)] border-[var(--border-default)] shadow-xl relative",children:[u.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[var(--brand-primary)]/5 rounded-full -mr-16 -mt-16 blur-3xl"}),u.jsx("h2",{className:"text-xl font-medium mb-8 text-[var(--text-primary)] flex justify-between items-center px-1",children:"Order Summary"}),u.jsxs("div",{className:"mb-8 space-y-4",children:[u.jsx("div",{className:"flex justify-between items-center px-1",children:u.jsx("label",{className:"text-xs font-bold text-[var(--brand-primary)] uppercase tracking-wider flex items-center gap-2",children:"Employee Code"})}),u.jsxs("div",{className:"relative group",children:[u.jsx("input",{type:"text",value:Wt,onChange:Pe=>tr(Pe.target.value),placeholder:"Enter employee code...",className:"w-full px-12 py-3 rounded-xl border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--brand-primary)]/20 focus:border-[var(--brand-primary)] text-sm font-medium transition-all shadow-inner text-center placeholder:text-[var(--text-secondary)]/50"}),u.jsx(pf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] group-focus-within:text-[var(--brand-primary)] transition-colors",size:18}),Ri&&u.jsx(Zo,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--brand-primary)] animate-spin",size:16})]}),(Bt==null?void 0:Bt.division_unit)&&!Ri&&u.jsxs("div",{className:"mx-1 p-3 rounded-xl bg-[var(--brand-primary)]/5 border border-[var(--brand-primary)]/10 animate-in fade-in slide-in-from-top-1 duration-300",children:[u.jsx("p",{className:"text-[10px] font-bold text-[var(--brand-primary)] uppercase tracking-widest mb-1",children:"Unit"}),u.jsx("p",{className:"text-xs text-[var(--text-primary)] font-black leading-relaxed uppercase",children:Bt.division_unit})]})]}),u.jsxs("div",{className:"mb-6 space-y-3",children:[u.jsx("div",{className:"flex justify-between items-center px-1",children:u.jsx("label",{className:"text-xs font-bold text-[var(--brand-primary)] uppercase tracking-wider flex items-center gap-2",children:"Dates"})}),u.jsxs("div",{className:"bg-[var(--surface-main)] rounded-2xl p-4 border border-[var(--border-default)] shadow-sm transition-colors duration-200",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("button",{onClick:()=>Jt(new Date(rr.setMonth(rr.getMonth()-1))),className:"p-1 text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--surface-muted)] rounded-lg transition-colors",children:u.jsx(Kl,{className:"text-lg"})}),u.jsx("div",{className:"flex flex-col items-center",children:u.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:rr.toLocaleDateString("en-US",{month:"long",year:"numeric"})})}),u.jsx("button",{onClick:()=>Jt(new Date(rr.setMonth(rr.getMonth()+1))),className:"p-1 text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--surface-muted)] rounded-lg transition-colors",children:u.jsx(Ql,{className:"text-lg"})})]}),u.jsx("div",{className:"flex justify-center mb-4",children:u.jsxs("label",{className:"flex items-center gap-2 text-xs text-[var(--text-secondary)] cursor-pointer hover:text-[var(--brand-primary)]",children:[u.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[var(--brand-primary)] focus:ring-[var(--brand-primary)]",checked:(()=>{const Pe=rr.getFullYear(),mt=rr.getMonth(),xt=new Date(Pe,mt+1,0).getDate();let Tt=0,ht=0;for(let wt=1;wt<=xt;wt++){const Yt=new Date(Pe,mt,wt);if(!Mn(Yt)){Tt++;const Vt=zt(Yt);Ht.includes(Vt)&&ht++}}return Tt>0&&Tt===ht})(),onChange:Pe=>{const mt=rr.getFullYear(),xt=rr.getMonth(),Tt=new Date(mt,xt+1,0).getDate();if(Pe.target.checked){const ht=new Set(Ht);for(let wt=1;wt<=Tt;wt++){const Yt=new Date(mt,xt,wt);Mn(Yt)||ht.add(zt(Yt))}Ct(Array.from(ht))}else{const ht=[];for(let wt=1;wt<=Tt;wt++)ht.push(zt(new Date(mt,xt,wt)));Ct(Ht.filter(wt=>!ht.includes(wt)))}}}),u.jsx("span",{children:"Select all"})]})}),u.jsx("div",{className:"grid grid-cols-7 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(Pe=>u.jsx("div",{className:"text-center text-[11px] font-semibold text-[var(--text-secondary)] py-1",children:Pe},Pe))}),u.jsx("div",{className:"grid grid-cols-7 gap-1",children:(()=>{const Pe=rr.getFullYear(),mt=rr.getMonth(),xt=new Date(Pe,mt,1).getDay(),Tt=new Date(Pe,mt+1,0).getDate(),ht=[];for(let wt=0;wt<xt;wt++)ht.push(u.jsx("div",{className:"h-10 sm:h-8"},`empty-${wt}`));for(let wt=1;wt<=Tt;wt++){const Yt=new Date(Pe,mt,wt),Vt=zt(Yt),Xt=Mn(Yt),er=Ht.includes(Vt),Zr=Vt===zt(new Date);ht.push(u.jsx("button",{disabled:Xt,onClick:()=>{Xt||Ct(er?Ht.filter(_n=>_n!==Vt):[...Ht,Vt])},className:`h-10 sm:h-8 rounded-lg text-xs font-bold transition-all flex items-center justify-center ${er?"bg-[var(--brand-primary)] text-white shadow-md":Zr&&!Xt?"text-[var(--brand-primary)] font-bold bg-[var(--brand-primary)]/10":Xt?"text-[var(--text-secondary)] opacity-30 cursor-not-allowed bg-[var(--surface-muted)]/50":"text-[var(--text-primary)] hover:bg-[var(--surface-muted)]"}`,children:wt},wt))}return ht})()}),u.jsxs("div",{className:"mt-4 pt-3 border-t border-[var(--border-default)] flex justify-between items-center bg-[var(--surface-muted)]/10 -mx-4 px-4 py-2 sm:mx-0 sm:rounded-xl",children:[u.jsx("span",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Total days"}),u.jsx("span",{className:"text-lg font-black text-[var(--brand-primary)]",children:Ht.length})]})]})]}),u.jsx("div",{className:"space-y-4 mb-8 max-h-[250px] overflow-y-auto custom-scrollbar pr-2",children:S.length===0?u.jsx("p",{className:"text-center text-[var(--text-secondary)] text-sm py-4",children:"No products selected"}):S.map((Pe,mt)=>u.jsxs("div",{className:"flex justify-between items-start text-sm p-3 rounded-2xl bg-[var(--surface-main)] border border-transparent hover:border-[var(--brand-primary)]/20 transition-all",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-bold truncate text-[var(--text-primary)] capitalize mb-1",children:Pe.name_en||Pe.name}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("span",{className:"text-[9px] font-black bg-[var(--brand-primary)] text-white px-2 py-0.5 rounded-md uppercase tracking-tighter",children:["QTY ",Pe.quantity]})})]}),u.jsxs("div",{className:"text-right ml-4",children:[u.jsxs("p",{className:"font-black text-[var(--text-primary)]",children:["",(Number(Pe.selectedPrice||Pe.base_price||Pe.price||0)*Pe.quantity).toFixed(2)]}),u.jsxs("p",{className:"text-[10px] text-[var(--text-secondary)]",children:["",Number(Pe.selectedPrice||Pe.base_price||Pe.price||0).toFixed(2)," / ea"]})]})]},`${Pe.id}-${mt}`))}),u.jsxs("div",{className:"space-y-2 border-t border-[var(--border-default)] pt-4 mb-6",children:[u.jsxs("div",{className:"flex justify-between items-center text-[var(--text-secondary)]",children:[u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Total Items"}),u.jsx("span",{className:"font-black text-sm",children:S.reduce((Pe,mt)=>Pe+(mt.quantity||0),0)})]}),u.jsxs("div",{className:"flex justify-between items-end",children:[u.jsx("span",{className:"text-xs font-medium text-[var(--text-secondary)] tracking-widest uppercase",children:"Grand Total"}),u.jsxs("span",{className:"text-2xl sm:text-3xl font-semibold text-[var(--brand-primary)]",children:["",Jn().toFixed(2)]})]})]}),u.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-2 block",children:"Payment Mode"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[u.jsx("button",{onClick:()=>_("UPI"),className:`p-2 rounded-xl border-2 font-semibold text-[10px] sm:text-xs transition-all ${j==="UPI"?"bg-[var(--brand-primary)] text-white border-[var(--brand-primary)] shadow-lg shadow-[var(--brand-primary)]/20":"border-[var(--border-default)] text-[var(--text-secondary)] hover:border-[var(--brand-primary)]/50"}`,children:"UPI"}),u.jsx("button",{onClick:()=>_("FREE"),className:`p-2 rounded-xl border-2 font-semibold text-[10px] sm:text-xs transition-all ${j==="FREE"?"bg-[var(--brand-primary)] text-white border-[var(--brand-primary)] shadow-lg shadow-[var(--brand-primary)]/20":"border-[var(--border-default)] text-[var(--text-secondary)] hover:border-[var(--brand-primary)]/50"}`,children:"FREE MEALS"}),u.jsx("button",{onClick:()=>_("GUEST"),className:`p-2 rounded-xl border-2 font-semibold text-[10px] sm:text-xs transition-all ${j==="GUEST"?"bg-[var(--brand-primary)] text-white border-[var(--brand-primary)] shadow-lg shadow-[var(--brand-primary)]/20":"border-[var(--border-default)] text-[var(--text-secondary)] hover:border-[var(--brand-primary)]/50"}`,children:"GUEST"})]}),(j==="FREE"||j==="GUEST")&&u.jsxs("div",{className:"mb-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[u.jsxs("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-2 block",children:["Reference  ",u.jsx("span",{className:"text-rose-500",children:"*"})]}),u.jsx("textarea",{value:Kr,onChange:Pe=>Ur(Pe.target.value),placeholder:`Enter ${j==="FREE"?"Free Meal":"Guest"} details...`,className:"w-full px-4 py-3 rounded-xl border border-[var(--border-default)] bg-[var(--surface-main)] text-[var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--brand-primary)]/20 focus:border-[var(--brand-primary)] min-h-[80px] text-sm font-medium resize-none transition-all placeholder:text-[var(--text-secondary)]/50"})]})]}),u.jsx("div",{className:"mt-6",children:Ae!=="SUCCESS"&&u.jsxs(u.Fragment,{children:[Ae==="FAILED"&&u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 text-center mb-4 text-sm text-red-600 flex items-center justify-center gap-2",children:[u.jsx(YR,{})," Payment Failed or Cancelled. Please try again."]}),u.jsx("button",{onClick:sn,disabled:R||S.length===0||Ht.length===0,className:`w-full py-4 rounded-xl text-lg font-semibold tracking-tight transition-all active:scale-95 shadow-xl ${R||S.length===0||Ht.length===0?"opacity-50 cursor-not-allowed bg-[var(--surface-muted)] text-[var(--text-secondary)]":"bg-gradient-to-br from-[var(--brand-primary)] to-[#ea580c] text-white border border-transparent hover:from-white hover:to-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] hover:translate-y-[-2px] hover:shadow-[var(--brand-primary)]/20"}`,children:R?"Processing...":Ae==="FAILED"?"Retry Payment":"Create & Print Bill"})]})}),u.jsx("p",{className:"text-[10px] text-center mt-4 text-[var(--text-secondary)] font-medium",children:Ae==="SUCCESS"?"Order marked as PAID in admin records.":"Admin order will be automatically logged and printed."})]})]})]})}),r&&u.jsx(mie,{onScan:m,onClose:()=>n(!1),onError:Pe=>console.warn(Pe)}),(a||c)&&u.jsx("div",{className:"fixed inset-0 z-[250] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",onClick:p,children:u.jsxs("div",{className:"bg-[var(--surface-card)] w-full max-w-sm rounded-[2.5rem] p-8 text-center shadow-2xl animate-in zoom-in duration-300 relative border border-[var(--border-default)]",onClick:Pe=>Pe.stopPropagation(),children:[u.jsx("button",{onClick:p,className:"absolute top-4 right-4 p-2 rounded-full bg-[var(--surface-muted)] text-[var(--text-secondary)] hover:bg-[var(--surface-main)]",children:u.jsx(To,{size:20})}),a?u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-emerald-500/10 flex items-center justify-center text-emerald-500 mb-2",children:u.jsx(bd,{size:40})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-black text-emerald-500 mb-1",children:"VERIFIED!"}),u.jsx("p",{className:"text-[var(--text-secondary)] font-medium text-sm",children:"Order has been successfully verified."})]}),u.jsxs("div",{className:"w-full bg-[var(--surface-muted)] rounded-2xl p-4 text-left border border-[var(--border-default)] mt-2",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-[10px] font-black uppercase text-[var(--text-secondary)] tracking-widest",children:"Order ID"}),u.jsxs("span",{className:"font-mono font-bold text-[var(--text-primary)]",children:["#",((_e=a.order)==null?void 0:_e.code)||((Ot=a.order)==null?void 0:Ot.id)]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-[10px] font-black uppercase text-[var(--text-secondary)] tracking-widest",children:"Customer"}),u.jsx("span",{className:"font-bold text-[var(--text-primary)] text-sm",children:((tt=a.order)==null?void 0:tt.customer_name)||((Ft=(bt=a.order)==null?void 0:bt.customer)==null?void 0:Ft.username)||"Guest"})]})]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-red-500/10 flex items-center justify-center text-red-500 mb-2",children:u.jsx(To,{size:40})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-black text-red-500 mb-1",children:"FAILED"}),u.jsx("p",{className:"text-[var(--text-secondary)] font-medium text-sm",children:"Verification failed."})]}),u.jsx("p",{className:"text-xs font-mono bg-red-500/5 text-red-600 p-3 rounded-xl w-full break-all border border-red-500/10",children:c})]}),u.jsx("button",{onClick:p,className:"w-full mt-6 py-4 rounded-xl bg-[var(--brand-primary)] text-[var(--text-inverse)] font-bold uppercase tracking-widest shadow-lg active:scale-95 transition-transform",children:a?"Done":"Try Again"})]})})]})},xie=()=>{const{isDark:e}=bi(),t=new Date,r=le=>{const je=new Date(le);return`${je.getFullYear()}-${String(je.getMonth()+1).padStart(2,"0")}-${String(je.getDate()).padStart(2,"0")}`},n=le=>le?le.startsWith("data:")||le.startsWith("http")?le:`${Oo}${le.startsWith("/")?"":"/"}${le}`:null,[a,i]=M.useState(r(new Date(t.getFullYear(),t.getMonth(),1))),[c,f]=M.useState([]),[m,p]=M.useState(0),[x,y]=M.useState(!1),[S,N]=M.useState(!1),[j,_]=M.useState([]),[T,I]=M.useState([]),[R,F]=M.useState("All"),[G,Y]=M.useState({}),[J,V]=M.useState({});M.useEffect(()=>{p(0),Y({}),V({})},[a]),M.useEffect(()=>{Y({}),V({})},[m]);const[$,W]=M.useState(t.getMonth()),[Ne,Z]=M.useState(t.getFullYear()),Q=["January","February","March","April","May","June","July","August","September","October","November","December"],me=Array.from({length:10},(le,je)=>t.getFullYear()-2+je),re=[{id:"breakfast",label:"Breakfast",time:"08:00 AM",icon:u.jsx(aB,{}),color:"amber"},{id:"snack1",label:"Mid-Day Snack",time:"11:00 AM",icon:u.jsx(qj,{}),color:"emerald"},{id:"lunch",label:"Lunch",time:"01:30 PM",icon:u.jsx($j,{}),color:"orange"},{id:"snack2",label:"Evening Snack",time:"05:00 PM",icon:u.jsx(nB,{}),color:"blue"},{id:"dinner",label:"Dinner",time:"08:30 PM",icon:u.jsx(Gj,{}),color:"indigo"}],[q,ie]=M.useState({}),oe=async()=>{var le,je;try{const pe=await Ut.get("/items/",{params:{limit:1e3}});_(((le=pe.data)==null?void 0:le.items)||[]);const Te=["All",...new Set((((je=pe.data)==null?void 0:je.items)||[]).map(ke=>ke.category||"General"))];I(Te)}catch(pe){console.error("Error fetching items:",pe)}},de=async()=>{y(!0);try{const le=await Ut.get(`/menu/month?year=${Ne}&month=${$+1}`);let je=[];if(Array.isArray(le.data)?je=le.data:je=le.data.plans||le.data.plan||[],je.length>0||le.data&&le.data.success){const pe={};let Te=null;if(je.length>0&&(je[0].breakfast||je[0].Breakfast||je[0].lunch))je.forEach((ue,Le)=>{const $e=ue.day_index!==void 0?parseInt(ue.day_index):Le;ue.date&&$e===0&&(Te=ue.date);const Be=ue.date||$e;pe[Be]={breakfast:ue.breakfast||ue.Breakfast||"",snack1:ue.snack1||ue.Snack1||"",lunch:ue.lunch||ue.Lunch||"",snack2:ue.snack2||ue.Snack2||"",dinner:ue.dinner||ue.Dinner||"",images:{breakfast:ue.breakfast_image||ue.Breakfast_image||ue.Breakfast_Image||null,snack1:ue.snack1_image||ue.Snack1_image||ue.Snack1_Image||null,lunch:ue.lunch_image||ue.Lunch_image||ue.Lunch_Image||null,snack2:ue.snack2_image||ue.Snack2_image||ue.Snack2_Image||null,dinner:ue.dinner_image||ue.Dinner_image||ue.Dinner_Image||null}}});else{const ue=[...je].sort(($e,Be)=>($e.id||0)-(Be.id||0)),Le=[...new Set(ue.map($e=>$e.date))].sort();Le[0]&&(Te=Le[0]),ue.forEach($e=>{var nt,at,Re;const Be=$e.date;pe[Be]||(pe[Be]={breakfast:"",snack1:"",lunch:"",snack2:"",dinner:"",images:{breakfast:null,snack1:null,lunch:null,snack2:null,dinner:null}});let ae=($e.meal_type||"").toLowerCase();if(ae==="snack"&&(pe[Be].snack1?ae="snack2":ae="snack1"),["breakfast","snack1","lunch","snack2","dinner"].includes(ae)){const Qe=$e.item_id||((nt=$e.item)==null?void 0:nt.id)||"",Fe=((at=$e.item)==null?void 0:at.name_en)||$e.item_name||"";pe[Be][ae]=Qe,Qe&&Fe&&_(et=>et.find(St=>St.id===Qe)?et:[...et,{id:Qe,name_en:Fe,category:"General",price:0}]),pe[Be].images[ae]=$e.image_url||$e.image||((Re=$e.item)==null?void 0:Re.image_path)||null}})}if(Te){i(Te);const ue=new Date(Te);W(ue.getMonth()),Z(ue.getFullYear())}ie(pe)}else ie({})}catch(le){console.error("Failed to fetch meal plan:",le)}finally{y(!1)}};M.useEffect(()=>{de(),oe()},[$,Ne]);const ee=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];M.useEffect(()=>{const le=[],je=new Date(a);let pe=0,Te=0;for(;pe<30;){const ke=new Date(je);ke.setDate(je.getDate()+Te);const ue=ke.getDay();if(ue!==0){const Le=`${ke.getFullYear()}-${String(ke.getMonth()+1).padStart(2,"0")}-${String(ke.getDate()).padStart(2,"0")}`;le.push({date:Le,day:ee[ue],dayNum:pe+1,meals:q[Le]||q[pe]}),pe++}if(Te++,Te>100)break}f(le)},[a,q]);const Ae=(le,je,pe)=>{if(!pe)return;const Te=c[le];if(!Te)return;const ke=Te.date,ue=new FileReader;ue.onloadend=()=>{ie(Le=>{const $e=Le[ke]||{images:{}};return{...Le,[ke]:{...$e,images:{...$e.images||{},[je]:ue.result}}}})},ue.readAsDataURL(pe)},ce=(le,je)=>{const pe=c[le];if(!pe)return;const Te=pe.date;ie(ke=>{const ue=ke[Te]||{images:{}};return{...ke,[Te]:{...ue,images:{...ue.images||{},[je]:null}}}})},U=le=>{const je=le.target.files[0];if(!je)return;const pe=new FileReader;pe.onload=Te=>{const ue=Te.target.result.split(`
`).filter($e=>$e.trim()).map($e=>$e.split(","));if(ue.length<2)return;const Le={...q};ue.slice(1).forEach($e=>{var Be,ae,nt,at,Re;if($e.length>=6){const Qe=($e[0]||"").replace(/"/g,"").trim();Qe&&(Le[Qe]={...Le[Qe]||{},breakfast:($e[3]||"").replace(/"/g,"").trim()||((Be=Le[Qe])==null?void 0:Be.breakfast)||"",snack1:($e[4]||"").replace(/"/g,"").trim()||((ae=Le[Qe])==null?void 0:ae.snack1)||"",lunch:($e[5]||"").replace(/"/g,"").trim()||((nt=Le[Qe])==null?void 0:nt.lunch)||"",snack2:($e[6]||"").replace(/"/g,"").trim()||((at=Le[Qe])==null?void 0:at.snack2)||"",dinner:($e[7]||"").replace(/"/g,"").trim()||((Re=Le[Qe])==null?void 0:Re.dinner)||""})}}),ie(Le)},pe.readAsText(je)},H=()=>{const le=["Date","Day","Plan Day","Breakfast","Mid-Day Snack","Lunch","Evening Snack","Dinner"],je=c.map(ue=>{var Le,$e,Be,ae,nt;return[ue.date,ue.day,`Day ${ue.dayNum}`,((Le=ue.meals)==null?void 0:Le.breakfast)||"",(($e=ue.meals)==null?void 0:$e.snack1)||"",((Be=ue.meals)==null?void 0:Be.lunch)||"",((ae=ue.meals)==null?void 0:ae.snack2)||"",((nt=ue.meals)==null?void 0:nt.dinner)||""]}),pe=[le.join(","),...je.map(ue=>ue.map(Le=>`"${Le}"`).join(","))].join(`
`),Te=new Blob([pe],{type:"text/csv;charset=utf-8;"}),ke=document.createElement("a");ke.setAttribute("href",URL.createObjectURL(Te)),ke.setAttribute("download",`meal_plan_${a}.csv`),ke.click()},se=async(le=null)=>{N(!0);try{let je=[];if(le!==null){const Te=c[le];if(!Te)return;re.forEach(ke=>{var Le,$e,Be;const ue=(Le=Te.meals)==null?void 0:Le[ke.id];ue&&je.push({date:Te.date,Date:Te.date,meal_type:ke.id,item_id:ue,image_url:((Be=($e=Te.meals)==null?void 0:$e.images)==null?void 0:Be[ke.id])||null})})}else c.forEach(Te=>{re.forEach(ke=>{var Le,$e,Be;const ue=(Le=Te.meals)==null?void 0:Le[ke.id];ue&&je.push({date:Te.date,Date:Te.date,meal_type:ke.id,item_id:ue,image_url:((Be=($e=Te.meals)==null?void 0:$e.images)==null?void 0:Be[ke.id])||null})})});if(je.length===0){alert("Please select at least one item before saving."),N(!1);return}const pe=je.map(Te=>{let ke=Te.meal_type;return Te.meal_type==="snack1"||Te.meal_type==="snack2"?ke="Snack":ke=Te.meal_type.charAt(0).toUpperCase()+Te.meal_type.slice(1),Ut.post("/menu/plan",{date:Te.date,meal_type:ke,item_id:Te.item_id,is_active:!0})});await Promise.all(pe),alert(le!==null?"Day updated successfully!":"Full rotation saved successfully!"),de()}catch(je){console.error("Save failed:",je),alert("Failed to save meal plan.")}finally{N(!1)}},ve=c[m]||{},ne=ve.meals||{images:{}};return u.jsx(ci,{children:u.jsx("div",{className:"min-h-screen bg-[var(--surface-main)] p-4 sm:p-8 font-['Inter', sans-serif]",children:u.jsxs("div",{className:"max-w-7xl mx-auto space-y-10",children:[u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6 border-b border-[var(--border-default)] pb-8 px-2 sm:px-0",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-1.5 h-10 bg-[var(--brand-primary)] rounded-full shadow-[0_0_15px_rgba(249,115,22,0.3)]"}),u.jsx("h1",{className:"text-3xl sm:text-4xl font-black tracking-tight sm:tracking-[0.05em] text-[var(--text-primary)]",children:"Meal Scheduler".split("").map((le,je)=>u.jsx("span",{className:"animate-letter-pop inline-block",style:{animationDelay:`${300+(le===" "?0:je*50)}ms`},children:le===" "?"":le},je))})]}),u.jsxs("div",{className:"grid grid-cols-2 md:flex md:flex-wrap items-center gap-3",children:[u.jsx("input",{type:"file",id:"bulk-upload",accept:".csv",className:"hidden",onChange:U}),u.jsxs("button",{onClick:se,disabled:S,className:"flex items-center justify-center gap-2 bg-emerald-500 text-white hover:bg-emerald-600 px-3 sm:px-6 py-3 rounded-2xl shadow-xl shadow-emerald-500/20 transition-all font-bold text-[10px] sm:text-xs md:text-sm disabled:opacity-50",children:[S?u.jsx(lS,{className:"animate-spin"}):u.jsx(xb,{}),u.jsx("span",{className:"whitespace-nowrap",children:"Update Plan"})]}),u.jsxs("button",{onClick:H,className:"flex items-center justify-center gap-2 bg-[var(--brand-primary)] text-white hover:bg-[var(--brand-primary)]/90 px-3 sm:px-6 py-3 rounded-2xl shadow-xl shadow-[var(--brand-primary)]/20 transition-all font-bold text-[10px] sm:text-xs md:text-sm",children:[u.jsx(Hj,{}),u.jsx("span",{className:"whitespace-nowrap",children:"Export Excel"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-8 items-start",children:[u.jsx("div",{className:"xl:col-span-4 space-y-8 h-full",children:u.jsxs("div",{className:"bg-[var(--surface-card)] border border-[var(--border-default)] rounded-[2rem] sm:rounded-[2.5rem] p-5 sm:p-8 shadow-2xl shadow-black/5 dark:shadow-none relative overflow-hidden group/cal",children:[u.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-[var(--brand-primary)]/10 blur-[80px] -mr-20 -mt-20 group-hover/cal:bg-[var(--brand-primary)]/20 transition-colors"}),u.jsxs("div",{className:"flex items-center justify-between mb-8 flex-wrap gap-4",children:[u.jsxs("h2",{className:"text-xl font-black text-[var(--text-primary)] flex items-center gap-3",children:[u.jsx("div",{className:"w-1.5 h-6 bg-[var(--brand-primary)] rounded-full"}),"Calendar"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>{W(t.getMonth()),Z(t.getFullYear())},className:"text-[10px] font-black uppercase tracking-widest px-3 py-1 bg-[var(--surface-main)] text-[var(--brand-primary)] rounded-lg hover:bg-[var(--brand-primary)] hover:text-white transition-all",children:"Today"}),u.jsx("button",{onClick:()=>{$===0?(W(11),Z(Ne-1)):W($-1)},className:"p-2 hover:bg-[var(--surface-main)] rounded-xl transition-all text-[var(--text-primary)]",children:u.jsx(Kl,{})}),u.jsx("button",{onClick:()=>{$===11?(W(0),Z(Ne+1)):W($+1)},className:"p-2 hover:bg-[var(--surface-main)] rounded-xl transition-all text-[var(--text-primary)]",children:u.jsx(Ql,{})})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[u.jsx("select",{value:$,onChange:le=>W(parseInt(le.target.value)),className:"bg-transparent text-[10px] sm:text-xs md:text-sm font-black text-[var(--brand-primary)] uppercase tracking-widest border-none focus:ring-0 cursor-pointer hover:opacity-70 transition-opacity p-1",children:Q.map((le,je)=>u.jsx("option",{value:je,className:"bg-[var(--surface-card)] text-[var(--text-primary)]",children:le},le))}),u.jsx("select",{value:Ne,onChange:le=>Z(parseInt(le.target.value)),className:"bg-transparent text-[10px] sm:text-xs md:text-sm font-black text-[var(--brand-primary)] uppercase tracking-widest border-none focus:ring-0 cursor-pointer hover:opacity-70 transition-opacity p-1",children:me.map(le=>u.jsx("option",{value:le,className:"bg-[var(--surface-card)] text-[var(--text-primary)]",children:le},le))})]}),u.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-2",children:["S","M","T","W","T","F","S"].map(le=>u.jsx("div",{className:"text-[10px] font-black text-[var(--text-secondary)] opacity-40",children:le},le))}),u.jsx("div",{className:"grid grid-cols-7 gap-1.5 sm:gap-2",children:(()=>{const le=new Date(Ne,$,1),je=[];for(let pe=0;pe<le.getDay();pe++)je.push(null);for(;le.getMonth()===$;)je.push(new Date(le)),le.setDate(le.getDate()+1);return je.map((pe,Te)=>{if(!pe)return u.jsx("div",{className:"aspect-square"},`empty-${Te}`);const ke=pe.getDay()===0,ue=`${pe.getFullYear()}-${String(pe.getMonth()+1).padStart(2,"0")}-${String(pe.getDate()).padStart(2,"0")}`,Le=c.findIndex(nt=>nt.date===ue),$e=Le!==-1&&m===Le,Be=a===ue,ae=Le!==-1;return u.jsx("button",{onClick:()=>{ke||(Le!==-1?p(Le):i(ue))},className:`aspect-square rounded-xl sm:rounded-2xl text-[10px] sm:text-xs font-black transition-all duration-300 relative group/btn flex items-center justify-center
                                                            ${ke?"text-[var(--text-primary)] opacity-10 cursor-not-allowed":$e?"bg-[var(--brand-primary)] text-white shadow-xl shadow-[var(--brand-primary)]/30 scale-105 sm:scale-110 z-10":ae?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)] font-black hover:bg-[var(--brand-primary)]/20":Be?"bg-[var(--text-primary)] text-[var(--surface-main)] border-2 border-[var(--brand-primary)]":"text-[var(--text-primary)] hover:bg-[var(--surface-main)] opacity-70"}`,children:pe.getDate()},ue)})})()}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 pt-6 border-t border-[var(--border-default)]",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] font-bold text-[var(--text-secondary)] opacity-50 uppercase tracking-widest",children:"Plan Scope"}),u.jsxs("span",{className:"text-lg sm:text-xl font-black text-[var(--text-primary)]",children:[c.length," Days"]})]}),u.jsxs("div",{className:"flex flex-col text-right",children:[u.jsx("span",{className:"text-[9px] font-bold text-[var(--text-secondary)] opacity-50 uppercase tracking-widest",children:"Viewing"}),u.jsx("span",{className:"text-lg sm:text-xl font-black text-[var(--brand-primary)]",children:Q[$].slice(0,3)})]})]})]})]})}),u.jsx("div",{className:"xl:col-span-8 h-full",children:u.jsxs("div",{className:"bg-[var(--surface-card)] border border-[var(--border-default)] rounded-[2rem] sm:rounded-[2.5rem] p-5 sm:p-8 shadow-xl h-full flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-[var(--brand-primary)] text-white rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg shadow-[var(--brand-primary)]/20 shrink-0",children:u.jsx(dB,{className:"text-lg sm:text-xl"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-sm sm:text-base md:text-lg font-black text-[var(--text-primary)] uppercase",children:"Slot Editor"}),u.jsx("p",{className:"text-[8px] sm:text-[9px] md:text-[10px] font-bold text-[var(--text-secondary)] opacity-50 uppercase tracking-widest",children:ve.date?`${ve.day}, ${new Date(ve.date).getDate()} ${Q[new Date(ve.date).getMonth()]}`:"Configuration"})]})]}),u.jsxs("button",{onClick:()=>se(m),disabled:S,className:"flex items-center gap-2 bg-emerald-500/10 text-emerald-500 hover:bg-emerald-500 hover:text-white px-4 py-2 rounded-xl transition-all duration-300 font-bold text-[10px] sm:text-xs border border-emerald-500/20",children:[S?u.jsx(lS,{className:"animate-spin"}):u.jsx(xb,{}),"Update This Day"]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 lg:gap-x-10 gap-y-6 sm:gap-y-8 flex-1",children:re.map(le=>{var je,pe,Te;return u.jsxs("div",{className:"group/item",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2 px-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-${le.color}-500 text-xs sm:text-sm`,children:le.icon}),u.jsx("span",{className:"text-[8px] sm:text-[9px] md:text-[10px] font-black text-[var(--text-secondary)] opacity-60 uppercase tracking-widest",children:le.label}),u.jsx("span",{className:"text-[8px] sm:text-[9px] md:text-[10px] font-bold text-[var(--text-secondary)] opacity-30 ml-2",children:le.time})]}),((je=ne.images)==null?void 0:je[le.id])&&u.jsx("button",{onClick:()=>ce(m,le.id),className:"text-red-500 opacity-0 group-hover/item:opacity-100 transition-opacity",children:u.jsx(pB,{size:12})})]}),u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[u.jsxs("div",{className:"relative shrink-0",children:[u.jsx("div",{className:"w-12 h-12 sm:w-14 md:w-16 sm:h-14 md:h-16 rounded-xl sm:rounded-[1.25rem] bg-[var(--surface-main)] border border-[var(--border-default)] overflow-hidden flex items-center justify-center transition-all group-hover/item:border-[var(--brand-primary)]/50",children:(pe=ne.images)!=null&&pe[le.id]?u.jsx("img",{src:n(ne.images[le.id]),className:"w-full h-full object-cover",alt:"Meal"}):u.jsx(vm,{className:"text-[var(--text-secondary)] opacity-20 text-base sm:text-lg md:text-xl"})}),u.jsxs("label",{className:"absolute -bottom-1 -right-1 w-5 h-5 sm:w-6 md:w-7 sm:h-6 md:h-7 bg-[var(--surface-card)] text-[var(--brand-primary)] rounded-full border border-[var(--border-default)] flex items-center justify-center cursor-pointer hover:bg-[var(--brand-primary)] hover:text-white transition-all shadow-md",children:[u.jsx(vm,{size:10,className:"sm:hidden"}),u.jsx(vm,{size:12,className:"hidden sm:block"}),u.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ke=>Ae(m,le.id,ke.target.files[0])})]})]}),u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("input",{type:"text",value:G[le.id]!==void 0?G[le.id]:((Te=j.find(ke=>ke.id===ne[le.id]))==null?void 0:Te.name_en)||ne[le.id]||"",onChange:ke=>{const ue=ke.target.value;Y(Le=>({...Le,[le.id]:ue})),V(Le=>({...Le,[le.id]:!0}))},onFocus:()=>V(ke=>({...ke,[le.id]:!0})),className:"w-full bg-[var(--surface-main)] border-none rounded-xl sm:rounded-2xl px-3 sm:px-4 md:px-5 py-2.5 sm:py-3 md:py-3.5 text-xs sm:text-sm font-bold text-[var(--text-primary)] focus:ring-2 focus:ring-[var(--brand-primary)]/20 transition-all placeholder-[var(--text-secondary)]/30 shadow-inner",placeholder:`Select ${le.label}...`}),J[le.id]&&u.jsxs("div",{className:"absolute left-0 right-0 top-full mt-2 bg-[var(--surface-card)] border border-[var(--border-default)] rounded-2xl shadow-2xl z-[50] max-h-64 overflow-hidden flex flex-col",children:[u.jsx("div",{className:"flex gap-2 p-3 overflow-x-auto border-b border-[var(--border-default)] bg-[var(--surface-main)]/50 shrink-0 hide-scrollbar",children:T.map(ke=>u.jsx("button",{onClick:ue=>{ue.stopPropagation(),F(ke)},className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest whitespace-nowrap transition-all ${R===ke?"bg-[var(--brand-primary)] text-white":"bg-white/50 text-[var(--text-secondary)] hover:bg-[var(--brand-primary)]/10"}`,children:ke},ke))}),u.jsxs("div",{className:"overflow-y-auto custom-scrollbar flex-1",children:[j.filter(ke=>{var Be,ae;const ue=(G[le.id]||"").toLowerCase(),Le=((Be=ke.name_en)==null?void 0:Be.toLowerCase().includes(ue))||((ae=ke.name)==null?void 0:ae.toLowerCase().includes(ue))||(ke.id+"").includes(ue),$e=R==="All"||ke.category===R;return Le&&$e}).slice(0,20).map(ke=>u.jsxs("button",{onClick:()=>{ie(ue=>{const Le=ve.date,$e=ue[Le]||{images:{}};return{...ue,[Le]:{...$e,[le.id]:ke.id,images:{...$e.images||{},[le.id]:ke.image_path}}}}),Y(ue=>({...ue,[le.id]:ke.name_en||ke.name})),V(ue=>({...ue,[le.id]:!1}))},className:"w-full text-left px-5 py-3 text-xs font-bold text-[var(--text-primary)] hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)] transition-colors border-b border-[var(--border-default)] last:border-none flex items-center justify-between group/opt",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{children:ke.name_en||ke.name}),u.jsx("span",{className:"text-[9px] opacity-40 uppercase tracking-widest font-black group-hover/opt:text-[var(--brand-primary)]",children:ke.category})]}),u.jsxs("span",{className:"text-[10px] opacity-40 font-black",children:["",ke.price]})]},ke.id)),j.length===0&&u.jsx("div",{className:"px-5 py-8 text-center text-[10px] font-bold text-[var(--text-secondary)] opacity-50 uppercase tracking-widest",children:"No items found"})]})]}),J[le.id]&&u.jsx("div",{className:"fixed inset-0 z-[40]",onClick:()=>V(ke=>({...ke,[le.id]:!1}))})]})]})]},le.id)})})]})}),u.jsx("div",{className:"xl:col-span-12 space-y-8 mt-4",children:u.jsxs("div",{className:"bg-[var(--surface-card)] border border-[var(--border-default)] rounded-[2rem] sm:rounded-[3rem] shadow-2xl shadow-black/5 overflow-hidden flex flex-col min-h-[500px] sm:min-h-[600px] lg:min-h-[900px]",children:[u.jsxs("div",{className:"p-5 sm:p-10 border-b border-[var(--border-default)] flex flex-row justify-between items-center bg-[var(--surface-main)]/50 gap-4",children:[u.jsx("h2",{className:"text-lg sm:text-xl font-black text-[var(--text-primary)] uppercase tracking-tight",children:"Meal Plan"}),u.jsx("div",{className:"flex gap-2",children:u.jsxs("div",{className:"flex items-center gap-1.5 bg-emerald-500/10 text-emerald-500 px-3 sm:px-4 py-2 rounded-xl text-[8px] sm:text-[10px] font-black uppercase",children:[u.jsx("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 rounded-full bg-emerald-500 animate-pulse"}),"Active"]})})]}),u.jsx("div",{className:"flex-1 overflow-x-auto bg-[var(--surface-card)] custom-scrollbar",children:u.jsxs("table",{className:"w-full text-left border-collapse min-w-[1200px]",children:[u.jsx("thead",{className:"sticky top-0 bg-[var(--surface-main)] backdrop-blur-xl z-20 border-b-2 border-[var(--brand-primary)]/20 shadow-sm",children:u.jsxs("tr",{className:"bg-[var(--brand-primary)]/5",children:[u.jsx("th",{className:"pl-6 sm:pl-10 pr-4 py-4 sm:py-6 text-[8px] sm:text-[10px] font-black uppercase tracking-widest text-[var(--brand-primary)]",children:"Period"}),re.map(le=>u.jsx("th",{className:"px-4 py-4 sm:py-6 text-[8px] sm:text-[10px] font-black uppercase tracking-widest text-[var(--text-primary)]",children:le.label},le.id)),u.jsx("th",{className:"pr-6 sm:pr-10 pl-4 py-4 sm:py-6 text-[8px] sm:text-[10px] font-black uppercase tracking-widest text-[var(--text-primary)]",children:"Gallery"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]/30",children:c.map((le,je)=>u.jsxs("tr",{className:"group hover:bg-[var(--surface-main)]/50 transition-all duration-300",children:[u.jsx("td",{className:"pl-6 sm:pl-10 pr-4 py-4 sm:py-8",children:u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[u.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-[var(--surface-main)] border border-[var(--border-default)] flex items-center justify-center text-[var(--text-primary)] font-black text-[10px] sm:text-sm group-hover:bg-[var(--brand-primary)] group-hover:text-white transition-all shadow-sm",children:le.dayNum}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-[11px] sm:text-sm font-black text-[var(--text-primary)] whitespace-nowrap",children:[new Date(le.date).getDate()," ",Q[new Date(le.date).getMonth()]]}),u.jsx("div",{className:"text-[8px] sm:text-[10px] font-bold text-[var(--text-secondary)] opacity-50 uppercase tracking-tighter",children:le.day})]})]})}),re.map(pe=>{var Le,$e,Be;const Te=(Le=le.meals)==null?void 0:Le[pe.id],ke=j.find(ae=>String(ae.id)===String(Te)),ue=ke?ke.name_en:Te;return u.jsx("td",{className:"px-4 py-4 sm:py-8",children:u.jsxs("div",{className:"flex items-center gap-3",children:[((Be=($e=le.meals)==null?void 0:$e.images)==null?void 0:Be[pe.id])&&u.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl overflow-hidden shadow-sm shrink-0 border border-[var(--border-default)] group-hover:scale-110 group-hover:rotate-3 transition-all",children:u.jsx("img",{src:n(le.meals.images[pe.id]),className:"w-full h-full object-cover",alt:"Meal"})}),u.jsxs("div",{className:"flex flex-col min-w-0",children:[u.jsx("span",{className:"text-[8px] sm:text-[10px] font-bold text-[var(--text-secondary)] opacity-30 uppercase mb-0.5 tracking-tighter group-hover:text-[var(--brand-primary)]/50 transition-colors",children:pe.label}),u.jsx("span",{className:"text-[10px] sm:text-xs font-black text-[var(--text-primary)] truncate group-hover:text-[var(--brand-primary)] transition-colors",children:ue||"-"})]})]})},pe.id)}),u.jsx("td",{className:"pr-6 sm:pr-10 pl-4 py-4 sm:py-8",children:u.jsxs("div",{className:"flex -space-x-2 isolate group-hover:-space-x-1 transition-all duration-500",children:[re.filter(pe=>{var Te,ke;return(ke=(Te=le.meals)==null?void 0:Te.images)==null?void 0:ke[pe.id]}).map((pe,Te)=>u.jsxs("div",{className:"w-8 h-8 sm:w-12 sm:h-12 rounded-lg border-2 border-[var(--surface-card)] overflow-hidden shadow-2xl relative group/img transform hover:z-40 hover:-translate-y-2 hover:scale-125 transition-all cursor-zoom-in",children:[u.jsx("img",{src:n(le.meals.images[pe.id]),className:"w-full h-full object-cover",alt:"Meal"}),u.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover/img:opacity-100 transition-opacity flex items-center justify-center text-center p-0.5 sm:p-1",children:u.jsx("span",{className:"text-[6px] sm:text-[8px] text-white font-black uppercase tracking-tighter leading-tight",children:pe.label.slice(0,3)})})]},pe.id)),(!le.meals||re.every(pe=>{var Te;return!((Te=le.meals.images)!=null&&Te[pe.id])}))&&u.jsx("span",{className:"text-[8px] sm:text-[10px] font-bold text-[var(--text-secondary)] opacity-20 uppercase italic",children:"No Visuals"})]})})]},je))})]})}),u.jsx("div",{className:"p-6 sm:p-8 bg-[var(--surface-main)] border-t border-[var(--border-default)] text-center",children:u.jsx("p",{className:"text-[8px] sm:text-[10px] font-black text-[var(--text-secondary)] opacity-30 uppercase tracking-[0.3em]",children:"End of Rotation Cycle"})})]})})]})]})})})},vie=()=>{var Le,$e,Be;const e=Ha(),[t,r]=M.useState([]),[n,a]=M.useState(!0),[i,c]=M.useState(!1),[f,m]=M.useState("edit"),[p,x]=M.useState(null),[y,S]=M.useState(""),[N,j]=M.useState(!1),[_,T]=M.useState(null),[I,R]=M.useState({top:0,right:0}),[F,G]=M.useState(null),[Y,J]=M.useState(!1),[V,$]=M.useState(!1),[W,Ne]=M.useState(!1),[Z,Q]=M.useState([]),[me,re]=M.useState([]),{user:q}=$i(),ie=(q==null?void 0:q.role)==="admin"||(q==null?void 0:q.role)==="unit_admin",[oe,de]=M.useState({search:"",status:"",page:1,limit:50}),[ee,Ae]=M.useState({total:0,page:1,totalPages:1}),[ce,U]=M.useState({emp_code:"",first_name:"",phone:"",password:"123",is_active:!0,address:"",address_line_2:"",pincode:"",city:"",perm_state:"",perm_country:""}),[H,se]=M.useState(!1),ve=async ae=>{if(U(nt=>({...nt,pincode:ae})),ae.length===6){se(!0);try{const at=await(await fetch(`https://api.postalpincode.in/pincode/${ae}`)).json();if(at[0].Status==="Success"){const Re=at[0].PostOffice[0];U(Qe=>({...Qe,city:Re.District,perm_state:Re.State,perm_country:"India"}))}}catch(nt){console.error("Error fetching address details:",nt)}finally{se(!1)}}},ne=()=>{const ae=["emp_code","first_name","last_name","email","mobile","designation","title","gender","company","division_unit","business_category","type_of_sector","function","department","sub_department","zone_name","line","cost_center","country","zone","state","district","base_location","work_location","personal_email","emp_type_text","confirmation_status_text","address","address_line_2","pincode","city","perm_state","perm_country","password"],nt=["EMP001,John,Doe,john@example.com,9876543210,Manager,Mr.,Male,ABC Corp,Unit 1,IT,IT,Dev,IT,DevOps,South,Line 1,CC001,India,South,TN,Chennai,Chennai,Chennai,john.personal@gmail.com,Permanent,Confirmed,123 Main St,,600001,Chennai,TN,India,123"],at="data:text/csv;charset=utf-8,"+[ae.join(","),...nt].join(`
`),Re=encodeURI(at),Qe=document.createElement("a");Qe.setAttribute("href",Re),Qe.setAttribute("download","employee_template.csv"),document.body.appendChild(Qe),Qe.click(),document.body.removeChild(Qe)},le=async ae=>{var Re,Qe,Fe,et;const nt=ae.target.files[0];if(!nt)return;const at=new FormData;at.append("file",nt);try{Ne(!0),re([]),await Ut.post("/employees/bulk-upload/",at,{headers:{"Content-Type":"multipart/form-data"}}),alert("Bulk upload successful!"),$(!1),pe()}catch(St){console.error("Bulk upload failed:",St),(Qe=(Re=St.response)==null?void 0:Re.data)!=null&&Qe.errors&&Array.isArray(St.response.data.errors)?re(St.response.data.errors):(et=(Fe=St.response)==null?void 0:Fe.data)!=null&&et.message?alert(St.response.data.message):alert("Bulk upload failed. Please check the file format.")}finally{Ne(!1),ae.target.value=""}},je=async()=>{try{const ae=new URLSearchParams;oe.search&&ae.append("search",oe.search),oe.status!==""&&ae.append("is_active",oe.status==="1"?"true":"false"),ae.append("limit","10000");const nt=await Ut.get(`/employees/?${ae.toString()}`);let at=[];if(nt.data&&Array.isArray(nt.data.employees)?at=nt.data.employees:nt.data&&nt.data.data?at=nt.data.data:Array.isArray(nt.data)&&(at=nt.data),(q==null?void 0:q.role)==="unit_admin"&&(q!=null&&q.unit_id)&&(at=at.filter(St=>St.unit_id===q.unit_id||St.unitId===q.unit_id||St.division_unit===q.unit_id)),at.length===0){alert("No data to export");return}const Re=new br("p","mm","a4"),Qe=Re.internal.pageSize.getWidth(),Fe=15;let et=20;Re.setFontSize(14),Re.setTextColor(30,41,59),Re.setFont(void 0,"bold"),Re.text("EMPLOYEE MANAGEMENT REPORT",Fe,et),et+=10,Re.setDrawColor(226,232,240),Re.line(Fe,et,Qe-15,et),et+=10,Re.setFontSize(10),Re.setTextColor(30,41,59),Re.setFont(void 0,"bold"),Re.text(`Generated On: ${new Date().toLocaleString()}`,Fe,et),Re.text(`Total Records: ${at.length}`,Qe-15,et,{align:"right"}),et+=12,Re.setFillColor(250,198,57),Re.rect(Fe,et,Qe-Fe*2,10,"F"),Re.setFont(void 0,"bold"),Re.setTextColor(0,0,0),Re.setFontSize(9),Re.text("S.No",Fe+2,et+7),Re.text("Code",Fe+12,et+7),Re.text("Name",Fe+30,et+7),Re.text("Designation",Fe+70,et+7),Re.text("Contact",Fe+110,et+7),Re.text("Unit",Fe+140,et+7),Re.text("Status",Fe+170,et+7),et+=10,Re.setTextColor(30,41,59),Re.setFont(void 0,"normal"),Re.setFontSize(8),at.forEach((St,qt)=>{et>270&&(Re.addPage(),et=20,Re.setFillColor(250,198,57),Re.rect(Fe,et,Qe-Fe*2,10,"F"),Re.setFont(void 0,"bold"),Re.setTextColor(0,0,0),Re.text("S.No",Fe+2,et+7),Re.text("Code",Fe+12,et+7),Re.text("Name",Fe+30,et+7),Re.text("Designation",Fe+70,et+7),Re.text("Contact",Fe+110,et+7),Re.text("Unit",Fe+140,et+7),Re.text("Status",Fe+170,et+7),et+=10,Re.setTextColor(30,41,59),Re.setFont(void 0,"normal"));const Wt=String(qt+1),tr=St.emp_code||"-",Bt=`${[St.first_name,St.last_name].filter(Boolean).join(" ")||St.username||"-"}`.substring(0,20),lr=(St.designation||"-").substring(0,20),Qt=St.mobile||St.phone||"-",Er=(St.division_unit||"-").substring(0,15),zt=St.is_active==1||St.is_active===!0?"Active":"Inactive";Re.text(Wt,Fe+2,et+7),Re.text(tr,Fe+12,et+7),Re.text(Bt,Fe+30,et+7),Re.text(lr,Fe+70,et+7),Re.text(Qt,Fe+110,et+7),Re.text(Er,Fe+140,et+7),St.is_active==1||St.is_active===!0?Re.setTextColor(16,185,129):Re.setTextColor(225,29,72),Re.text(zt,Fe+170,et+7),Re.setTextColor(30,41,59),et+=8,Re.setDrawColor(241,245,249),Re.line(Fe,et,Qe-15,et)}),Re.save(`employee-list-${new Date().toLocaleDateString("en-IN").replace(/\//g,"-")}.pdf`)}catch(ae){console.error("PDF Export failed:",ae),alert("Failed to export PDF.")}},pe=M.useCallback(async()=>{var ae,nt,at;try{a(!0);const Re=new URLSearchParams;oe.search&&Re.append("search",oe.search),oe.status!==""&&Re.append("is_active",oe.status==="1"?"true":"false"),Re.append("page",oe.page),Re.append("limit",oe.limit);const Qe=await Ut.get(`/employees/?${Re.toString()}`);if(Qe.data&&Array.isArray(Qe.data.employees)){let Fe=Qe.data.employees;(q==null?void 0:q.role)==="unit_admin"&&(q!=null&&q.unit_id)&&(Fe=Fe.filter(Wt=>Wt.unit_id===q.unit_id||Wt.unitId===q.unit_id||Wt.division_unit===q.unit_id));const et=(q==null?void 0:q.role)==="unit_admin"?Fe.length:Qe.data.total!==void 0?Qe.data.total:((ae=Qe.data.pagination)==null?void 0:ae.total)||0,St=Qe.data.currentPage!==void 0?Qe.data.currentPage:Qe.data.page!==void 0?Qe.data.page:((nt=Qe.data.pagination)==null?void 0:nt.page)||1,qt=(q==null?void 0:q.role)==="unit_admin"?Math.ceil(Fe.length/oe.limit):Qe.data.totalPages!==void 0?Qe.data.totalPages:((at=Qe.data.pagination)==null?void 0:at.totalPages)||1;oe.status!==""&&(Fe=Fe.filter(Wt=>{const tr=Wt.is_active==1||Wt.is_active===!0||Wt.isActive;return oe.status==="1"?tr:!tr})),r(Fe),Ae({total:et,page:St,totalPages:qt})}else if(Qe.data&&Qe.data.pagination){let Fe=Qe.data.employees||[];(q==null?void 0:q.role)==="unit_admin"&&(q!=null&&q.unit_id)&&(Fe=Fe.filter(et=>et.unit_id===q.unit_id||et.unitId===q.unit_id||et.division_unit===q.unit_id)),r(Fe),Ae(Qe.data.pagination)}else{let et=Qe.data.employees||Qe.data||[];(q==null?void 0:q.role)==="unit_admin"&&(q!=null&&q.unit_id)&&(et=et.filter(Bt=>Bt.unit_id===q.unit_id||Bt.unitId===q.unit_id||Bt.division_unit===q.unit_id)),et=et.filter(Bt=>oe.status==="1"?Bt.is_active==1||Bt.is_active===!0:oe.status==="0"?!(Bt.is_active==1||Bt.is_active===!0):!0);const St=et.length,qt=Math.ceil(St/oe.limit),Wt=(oe.page-1)*oe.limit,tr=et.slice(Wt,Wt+oe.limit);r(tr),Ae({total:St,page:oe.page,totalPages:Math.max(1,qt)})}}catch(Re){console.error("Fetch employees error:",Re),r([])}finally{a(!1)}},[oe]);M.useEffect(()=>{(async()=>{var nt;try{const at=await Ut.get("/units"),Re=Array.isArray(at.data)?at.data:((nt=at.data)==null?void 0:nt.units)||[];Q(Re)}catch(at){console.error("Error fetching units:",at)}})()},[]),M.useEffect(()=>{const ae=setTimeout(()=>{pe()},oe.search?500:0);return()=>clearTimeout(ae)},[pe]),M.useEffect(()=>{const ae=()=>{G(null),J(!1)};return document.addEventListener("click",ae),()=>document.removeEventListener("click",ae)},[]);const Te=async ae=>{try{const nt=ae.is_active==1||ae.is_active===!0||ae.isActive;await Ut.put(`/employees/${ae.id}/`,{is_active:nt?0:1}),pe()}catch(nt){console.error("Toggle status error:",nt),alert("Failed to update status")}},ke=async ae=>{var nt,at,Re,Qe;ae.preventDefault();try{if(f==="edit"){if(!(p!=null&&p.id)){alert("No employee selected for password update.");return}await Ut.put(`/employees/${p.id}/`,{password:y}),alert("Password updated successfully")}else f==="global"?(await Ut.patch("/employees/global-password/",{password:y}),alert("Global password updated successfully")):f==="add"&&(await Ut.post("/employees/",ce),alert("Employee added successfully"));c(!1),S(""),U({emp_code:"",first_name:"",phone:"",password:"123",is_active:!0,address:"",address_line_2:"",pincode:"",city:"",perm_state:"",perm_country:""}),pe()}catch(Fe){console.error("Operation error:",Fe),alert(((at=(nt=Fe.response)==null?void 0:nt.data)==null?void 0:at.error)||((Qe=(Re=Fe.response)==null?void 0:Re.data)==null?void 0:Qe.message)||"Operation failed")}},ue=t;return n&&t.length===0?u.jsx(ci,{children:u.jsx(qs,{})}):u.jsxs(ci,{children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex flex-col gap-6 mb-8 mt-2",children:[u.jsxs("div",{className:"flex items-center gap-4 animate-slide-up opacity-0",children:[u.jsx("div",{className:"w-2 h-10 bg-[var(--brand-primary)] rounded-full shadow-[0_0_15px_rgba(249,115,22,0.4)]"}),u.jsx("div",{children:u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold tracking-[0.1em] text-[var(--text-primary)]",children:"Employees".split("").map((ae,nt)=>u.jsx("span",{className:"animate-letter-pop",style:{animationDelay:`${300+(ae===" "?0:nt*50)}ms`},children:ae===" "?"":ae},nt))})})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row justify-between lg:items-center gap-6",children:[u.jsxs("div",{className:"relative w-full lg:flex-1 lg:max-w-md group",children:[u.jsx("input",{type:"text",placeholder:"Search by Name, Employee Code, or Contact...",value:oe.search,onChange:ae=>de({...oe,search:ae.target.value,page:1}),className:"w-full !pl-16 pr-12 py-3.5 text-center sm:text-left rounded-2xl border-2 border-[var(--border-default)] bg-[var(--surface-card)] text-[var(--text-primary)] focus:outline-none focus:ring-4 focus:ring-[#f97316]/10 focus:border-[#f97316] font-bold text-sm transition-all shadow-sm hover:border-[#f97316]/30 placeholder:text-[var(--text-secondary)]/30"}),u.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] group-focus-within:text-[#f97316] transition-colors",children:u.jsx(wd,{size:22})})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:flex lg:flex-row gap-3",children:[ie&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>e("/admin/add-employee"),className:"bg-[var(--brand-primary)] text-white border-2 border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-black px-4 py-3.5 rounded-2xl flex items-center justify-center gap-2 transition-all shadow-lg hover:scale-[1.02] active:scale-95 text-[10px] sm:text-[11px] uppercase tracking-wider h-full",children:[u.jsx(Oc,{className:"text-sm"}),u.jsx("span",{children:"Add"})]}),u.jsxs("button",{onClick:()=>{m("global"),$(!1),c(!0)},className:"bg-[var(--brand-primary)] text-white border-2 border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-black px-4 py-3.5 rounded-2xl flex items-center justify-center gap-2 transition-all shadow-lg hover:scale-[1.02] active:scale-95 text-[10px] sm:text-[11px] uppercase tracking-wider h-full",children:[u.jsx(zR,{className:"text-sm"}),u.jsx("span",{children:"Global"})]}),u.jsxs("button",{onClick:()=>{$(!0),c(!0)},className:"bg-[var(--brand-primary)] text-white border-2 border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-black px-4 py-3.5 rounded-2xl flex items-center justify-center gap-2 transition-all shadow-lg hover:scale-[1.02] active:scale-95 text-[10px] sm:text-[11px] uppercase tracking-wider h-full",children:[u.jsx(Zo,{className:"text-sm"}),u.jsx("span",{children:"Bulk"})]})]}),u.jsxs("button",{onClick:je,className:"bg-[var(--brand-primary)] text-white border-2 border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-black px-4 py-3.5 rounded-2xl flex items-center justify-center gap-2 transition-all shadow-lg hover:scale-[1.02] active:scale-95 text-[10px] sm:text-[11px] uppercase tracking-wider h-full",children:[u.jsx(hd,{className:"text-sm"}),u.jsx("span",{children:"PDF"})]})]})]})]}),u.jsxs("div",{className:"rounded-3xl overflow-hidden bg-[var(--surface-card)] shadow-2xl border border-[var(--border-default)]",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[1200px]",children:[u.jsx("thead",{className:"bg-[var(--brand-primary)] text-[var(--text-inverse)]",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-black uppercase tracking-wider border-r border-black/5 w-14",children:"S.No"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-black uppercase tracking-wider border-r border-black/5",children:"Emp Code"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-black uppercase tracking-wider border-r border-black/5",children:"Employee"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-black uppercase tracking-wider border-r border-black/5",children:"Unit"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-black uppercase tracking-wider border-r border-black/5",children:"Mobile "}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-black uppercase tracking-wider border-r border-black/5",children:"Address"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-black uppercase tracking-wider border-r border-black/5",children:"Pin Code"}),u.jsxs("th",{className:"px-4 py-3 text-left text-xs font-black uppercase tracking-wider border-r border-black/5 relative group",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{children:"Status"}),u.jsx("div",{className:"p-1 hover:bg-black/10 rounded-md transition-all cursor-pointer",onClick:ae=>{ae.stopPropagation(),oe.status&&de(nt=>({...nt,status:"",page:1})),G(F==="status"?null:"status")},children:u.jsx(Ac,{className:`text-black transition-all ${oe.status?"opacity-100 scale-110":"opacity-40 group-hover:opacity-100"}`})})]}),F==="status"&&u.jsxs("div",{className:"absolute top-full left-0 mt-1 w-40 bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-xl shadow-2xl z-50 py-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[u.jsx("div",{className:"px-3 py-1.5 text-[10px] font-semibold text-[var(--brand-primary)] border-b border-[var(--border-default)] mb-1",children:"Filter Status"}),["All","Active","Inactive"].map(ae=>u.jsx("button",{onClick:()=>{de({...oe,status:ae==="All"?"":ae==="Active"?"1":"0",page:1}),G(null)},className:`w-full px-4 py-2 text-left text-xs font-semibold hover:bg-[var(--surface-muted)] text-[var(--text-primary)] ${ae==="All"&&oe.status===""||ae==="Active"&&oe.status==="1"||ae==="Inactive"&&oe.status==="0"?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":""}`,children:ae},ae))]})]}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-black uppercase tracking-wider",children:"Action"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]",children:ue.map((ae,nt)=>u.jsxs("tr",{style:{animationDelay:`${nt*30}ms`},className:"hover:bg-[var(--surface-muted)]/30 transition-colors animate-slide-up opacity-0",children:[u.jsx("td",{className:"px-4 py-2 text-xs font-medium opacity-40",children:(oe.page-1)*oe.limit+nt+1}),u.jsx("td",{className:"px-4 py-2 text-xs font-bold text-[var(--text-primary)]",children:ae.emp_code||ae.employeeId||"-"}),u.jsx("td",{className:"px-4 py-2",children:u.jsx("div",{className:"flex flex-col",children:u.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)] capitalize",children:[ae.first_name,ae.last_name].filter(Boolean).join(" ")||ae.username||"-"})})}),u.jsx("td",{className:"px-4 py-2 text-xs font-medium",children:u.jsx("span",{className:"bg-[var(--surface-muted)] px-2 py-0.5 rounded text-[10px] border border-[var(--border-default)]",children:ae.division_unit||ae.unit||"-"})}),u.jsx("td",{className:"px-4 py-2 text-xs font-medium",children:u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-semibold",children:ae.residence_landline||ae.mobile||"-"}),ae.personal_email&&u.jsx("span",{className:"text-[9px] text-[var(--text-secondary)]",children:ae.personal_email})]})}),u.jsx("td",{className:"px-4 py-2 text-xs font-medium",children:u.jsx("div",{className:"flex flex-col max-w-[180px]",children:u.jsx("span",{className:"font-medium truncate capitalize text-[11px]",title:ae.address||"-",children:ae.address||"-"})})}),u.jsx("td",{className:"px-4 py-2 text-xs font-medium",children:ae.pincode||ae.residence_postal_code||"-"}),u.jsx("td",{className:"px-4 py-2",children:u.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-black uppercase tracking-widest border inline-flex items-center justify-center w-fit ${ae.is_active==1||ae.is_active===!0||ae.isActive?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-rose-50 text-rose-600 border-rose-100"}`,children:ae.is_active==1||ae.is_active===!0||ae.isActive?"Active":"Inactive"})}),u.jsx("td",{className:"px-4 py-2 text-center relative",children:u.jsx("button",{onClick:at=>{at.stopPropagation();const Re=at.currentTarget.getBoundingClientRect();R({top:Re.bottom+10,right:window.innerWidth-Re.right}),T(_===ae.id?null:ae.id)},className:`p-1.5 rounded-xl transition-all ${_===ae.id?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":"hover:bg-[var(--surface-muted)] opacity-60"}`,children:u.jsx(Uj,{size:14})})})]},ae.id))})]})}),u.jsxs("div",{className:"px-6 py-5 flex flex-col sm:flex-row items-center justify-between border-t border-[var(--border-default)] bg-[var(--surface-card)] gap-4",children:[u.jsxs("div",{className:"text-xs sm:text-sm text-[var(--text-secondary)] font-medium",children:["Showing ",u.jsxs("span",{className:"text-[var(--text-primary)]",children:[(oe.page-1)*oe.limit+1,"",Math.min(oe.page*oe.limit,ee.total)]})," of ",u.jsx("span",{className:"text-[var(--brand-primary)] font-semibold",children:ee.total})," records"]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 justify-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>de({...oe,page:Math.max(1,parseInt(ee.page)-1)}),disabled:parseInt(ee.page)<=1,className:"px-4 h-9 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-main)] border border-[var(--border-default)] text-[var(--text-secondary)] disabled:opacity-30 hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)] transition-all shadow-sm font-semibold text-[10px] uppercase",children:[u.jsx(Kl,{size:16})," Back"]}),u.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:ee.totalPages},(ae,nt)=>nt+1).map(ae=>{const nt=parseInt(ee.page)===ae;return ee.totalPages>5&&ae>1&&ae<ee.totalPages&&Math.abs(ae-parseInt(ee.page))>1?ae===2||ae===ee.totalPages-1?u.jsx("span",{className:"px-1 text-[var(--text-secondary)] opacity-50",children:"..."},ae):null:u.jsx("button",{onClick:()=>de({...oe,page:ae}),className:`w-9 h-9 flex items-center justify-center rounded-xl text-xs font-semibold transition-all border
                                                ${nt?"bg-[var(--brand-primary)] border-[var(--brand-primary)] text-[var(--text-inverse)] shadow-[0_4px_15px_rgba(227,30,36,0.4)] scale-105":"bg-[var(--surface-main)] border-[var(--border-default)] text-[var(--text-secondary)] hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)]"}`,children:ae},ae)})}),u.jsxs("button",{onClick:()=>de({...oe,page:Math.min(ee.totalPages,parseInt(ee.page)+1)}),disabled:parseInt(ee.page)>=ee.totalPages,className:"px-4 h-9 flex items-center justify-center gap-2 rounded-xl bg-[var(--surface-main)] border border-[var(--border-default)] text-[var(--text-secondary)] disabled:opacity-30 hover:bg-[var(--brand-primary)]/10 hover:border-[var(--brand-primary)]/40 hover:text-[var(--brand-primary)] transition-all shadow-sm font-semibold text-[10px] uppercase",children:["Next ",u.jsx(Ql,{size:16})]})]}),u.jsxs("div",{className:"relative shrink-0",children:[u.jsxs("button",{onClick:ae=>{ae.stopPropagation(),J(!Y)},className:"bg-[var(--surface-main)] border-2 border-[var(--brand-primary)] rounded-xl py-2.5 text-[12px] font-semibold text-[var(--text-primary)] cursor-pointer outline-none transition-all shadow-sm flex items-center justify-center relative w-[130px]",children:[oe.limit," Pages",u.jsx(Wl,{size:14,className:`absolute right-3 transition-transform duration-300 ${Y?"rotate-180":""} text-[var(--brand-primary)]`})]}),Y&&u.jsx("div",{className:"absolute bottom-full left-0 mb-2 w-[130px] bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-2xl shadow-2xl z-[100] py-1 overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-300",children:[10,20,50,100,500].map(ae=>u.jsxs("button",{onClick:nt=>{nt.stopPropagation(),de({...oe,limit:ae,page:1}),J(!1)},className:`w-full py-3.5 text-center text-[12px] font-medium transition-all
                                                ${oe.limit===ae?"bg-[var(--brand-primary)] text-[var(--text-inverse)]":"text-[var(--text-primary)] hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)]"}`,children:[ae," Pages"]},ae))})]})]})]})]})]}),_&&y1.createPortal(u.jsx("div",{className:"fixed inset-0 z-[9999]",onClick:()=>T(null),children:u.jsx("div",{className:"absolute bg-[var(--surface-card)] border-2 border-[var(--border-default)] rounded-2xl shadow-2xl py-2 w-52 animate-in fade-in zoom-in-95 duration-200 overflow-hidden",style:{top:`${I.top}px`,right:`${I.right}px`},onClick:ae=>ae.stopPropagation(),children:ie&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>{const ae=t.find(nt=>nt.id===_);x(ae),m("edit"),c(!0),T(null)},className:"w-full px-4 py-3 text-left text-xs font-semibold tracking-widest flex items-center gap-3 hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)] transition-all",children:[u.jsx(r1,{size:14})," Edit Password"]}),u.jsx("div",{className:"h-px bg-[var(--border-default)] mx-3 my-1 opacity-50"}),u.jsxs("button",{onClick:()=>{e(`/admin/edit-employee/${_}`),T(null)},className:"w-full px-4 py-3 text-left text-xs font-semibold tracking-widest flex items-center gap-3 hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)] transition-all",children:[u.jsx(r1,{size:14})," Edit Details"]}),u.jsx("div",{className:"h-px bg-[var(--border-default)] mx-3 my-1 opacity-50"}),u.jsx("button",{onClick:()=>{const ae=t.find(nt=>nt.id===_);Te(ae),T(null)},className:"w-full px-4 py-3 text-left text-xs font-semibold uppercase tracking-widest flex items-center gap-3 hover:bg-[var(--surface-muted)] transition-all opacity-70",children:((Le=t.find(ae=>ae.id===_))==null?void 0:Le.is_active)==1||(($e=t.find(ae=>ae.id===_))==null?void 0:$e.is_active)===!0||(Be=t.find(ae=>ae.id===_))!=null&&Be.isActive?"Inactive":"Activate"})]})})}),document.body),i&&u.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[10000] animate-in fade-in duration-300",children:u.jsxs("div",{className:"bg-[var(--surface-card)] border-2 border-[var(--brand-primary)] rounded-3xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col animate-in zoom-in duration-200",children:[u.jsxs("div",{className:"bg-[var(--brand-primary)] p-6 flex justify-between items-center text-[var(--text-inverse)] shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[V?u.jsx(Zo,{}):f==="add"?u.jsx(Oc,{}):u.jsx(qR,{}),u.jsx("h3",{className:"text-lg font-black uppercase tracking-tighter",children:V?"Bulk Upload Employees":f==="edit"?"Update Password":f==="add"?"Add Employee":"Global Password Change"})]}),u.jsx("button",{onClick:()=>{c(!1),$(!1)},className:"hover:rotate-90 transition-all",children:u.jsx(To,{size:24,strokeWidth:3})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:V?u.jsx("div",{className:"p-8 space-y-6",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsxs("div",{className:"p-4 bg-[var(--surface-muted)] rounded-2xl border-2 border-dashed border-[var(--border-default)]",children:[u.jsxs("p",{className:"text-sm text-[var(--text-secondary)] mb-4",children:["Upload a CSV or Excel file with employee details.",u.jsx("br",{}),"Download the template to see the required format."]}),u.jsx("button",{onClick:ne,className:"text-[var(--brand-primary)] font-bold text-xs uppercase tracking-widest hover:underline",children:"Download Template"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-[var(--text-secondary)]",children:"Select CSV File"}),u.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:le,disabled:W,className:`block w-full text-sm text-[var(--text-secondary)]\r
                                                file:mr-4 file:py-2.5 file:px-4\r
                                                file:rounded-xl file:border-0\r
                                                file:text-xs file:font-bold file:uppercase file:tracking-widest\r
                                                file:bg-[var(--brand-primary)] file:text-white\r
                                                hover:file:bg-[var(--brand-primary)]/90\r
                                                cursor-pointer`})]}),W&&u.jsx("div",{className:"text-xs font-bold text-[var(--brand-primary)] animate-pulse",children:"Uploading..."}),u.jsxs("div",{className:"text-left mt-4 p-4 bg-orange-50 rounded-xl border border-orange-100",children:[u.jsx("p",{className:"text-[10px] text-orange-600 font-bold uppercase tracking-wide mb-1",children:"Important Note:"}),u.jsx("p",{className:"text-xs text-orange-800",children:"Excel headers must follow the original template. Frontend labels are for display only."})]}),me.length>0&&u.jsxs("div",{className:"text-left mt-4 max-h-60 overflow-y-auto p-4 bg-red-50 rounded-xl border border-red-100",children:[u.jsx("p",{className:"text-[10px] text-red-600 font-bold uppercase tracking-wide mb-2 sticky top-0 bg-red-50",children:"Upload Errors:"}),u.jsx("div",{className:"space-y-2",children:me.map((ae,nt)=>{const at=ae.field==="mobile"?"Mobile No":ae.field==="pincode"?"Pin Code":ae.field==="emp_code"?"Employee Code":ae.field||"Unknown Field";return u.jsxs("div",{className:"text-xs text-red-700 border-b border-red-100 last:border-0 pb-1",children:[u.jsxs("span",{className:"font-bold",children:["Row ",ae.row||"?",":"]})," ",at," - ",ae.error||ae.message]},nt)})})]})]})}):u.jsxs("form",{id:"employee-modal-form",onSubmit:ke,className:"p-8 space-y-6",children:[f==="add"?u.jsx(u.Fragment,{children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Employee Code"}),u.jsx("input",{type:"text",value:ce.emp_code,onChange:ae=>U({...ce,emp_code:ae.target.value}),placeholder:"e.g. 34",className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none",required:!0})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Employee Name"}),u.jsx("input",{type:"text",value:ce.first_name,onChange:ae=>U({...ce,first_name:ae.target.value}),placeholder:"Full Name",className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none",required:!0})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Mobile No"}),u.jsx("input",{type:"text",value:ce.phone,onChange:ae=>U({...ce,phone:ae.target.value}),placeholder:"Mobile Number",className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Address"}),u.jsx("input",{type:"text",value:ce.address,onChange:ae=>U({...ce,address:ae.target.value}),placeholder:"Address Line 1",className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Address Line 2"}),u.jsx("input",{type:"text",value:ce.address_line_2,onChange:ae=>U({...ce,address_line_2:ae.target.value}),placeholder:"Address Line 2",className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-1 relative",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Pin Code"}),u.jsx("input",{type:"text",value:ce.pincode,onChange:ae=>ve(ae.target.value),placeholder:"Pincode",maxLength:6,className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none"}),H&&u.jsx("div",{className:"absolute right-3 bottom-3",children:u.jsx(Zo,{className:"animate-spin text-[var(--brand-primary)]",size:14})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"City"}),u.jsx("input",{type:"text",value:ce.city,onChange:ae=>U({...ce,city:ae.target.value}),placeholder:"City",className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none"})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Unit / Division"}),u.jsxs("select",{value:ce.division_unit,onChange:ae=>U({...ce,division_unit:ae.target.value}),className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none appearance-none",required:!0,children:[u.jsx("option",{value:"",children:"Select Unit"}),Z.map(ae=>u.jsxs("option",{value:ae.name||ae.code,children:[ae.name," (",ae.code,")"]},ae.id))]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"State"}),u.jsx("input",{type:"text",value:ce.perm_state,onChange:ae=>U({...ce,perm_state:ae.target.value}),placeholder:"State",className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Country"}),u.jsx("input",{type:"text",value:ce.perm_country,onChange:ae=>U({...ce,perm_country:ae.target.value}),placeholder:"Country",className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none"})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Password"}),u.jsx("input",{type:"password",value:ce.password,onChange:ae=>U({...ce,password:ae.target.value}),placeholder:"Default: 123",className:"w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none",required:!0})]}),u.jsxs("div",{className:"pt-2",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60 block mb-2",children:"Account Status"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{type:"button",onClick:()=>U({...ce,is_active:!ce.is_active}),className:`relative inline-flex h-10 w-20 items-center rounded-full transition-all duration-300 focus:outline-none shadow-inner border-2 ${ce.is_active?"bg-emerald-500/10 border-emerald-500/30":"bg-red-500/10 border-red-500/30"}`,children:u.jsxs("span",{className:`inline-block h-7 w-7 transform rounded-full transition duration-300 ease-in-out shadow-lg flex items-center justify-center ${ce.is_active?"translate-x-11 bg-emerald-500":"translate-x-1 bg-red-500"}`,children:[u.jsx(xb,{className:`text-[10px] text-white transition-opacity duration-300 ${ce.is_active?"opacity-100":"opacity-0"}`}),u.jsx(To,{className:`absolute text-[12px] text-white transition-opacity duration-300 ${ce.is_active?"opacity-0":"opacity-100"}`})]})}),u.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${ce.is_active?"text-emerald-500":"text-red-500"}`,children:ce.is_active?"Active":"Inactive"})]})]})]})}):f==="edit"?u.jsxs("div",{className:"bg-[var(--brand-primary)]/5 p-4 rounded-2xl border border-[var(--brand-primary)]/10",children:[u.jsx("p",{className:"text-[10px] uppercase font-black opacity-60",children:"Employee"}),u.jsxs("p",{className:"text-sm font-black text-[var(--brand-primary)]",children:[p!=null&&p.first_name?`${p==null?void 0:p.first_name}`:(p==null?void 0:p.username)||(p==null?void 0:p.name)," (",(p==null?void 0:p.emp_code)||(p==null?void 0:p.employee_code)||(p==null?void 0:p.employeeId)||(p==null?void 0:p.employee_id),")"]})]}):u.jsxs("div",{className:"bg-rose-500/5 p-4 rounded-2xl border border-rose-500/10",children:[u.jsx("p",{className:"text-[10px] text-rose-500 uppercase font-black",children:"Warning"}),u.jsx("p",{className:"text-xs font-bold opacity-80",children:"This will update the password for ALL employees in the system."})]}),f!=="add"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] ml-1 opacity-60",children:"New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:N?"text":"password",value:y,onChange:ae=>S(ae.target.value),placeholder:"Enter new password...",autoFocus:!0,className:"w-full px-5 py-4 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-black text-sm transition-all outline-none pr-12",required:!0}),u.jsx("button",{type:"button",onClick:()=>j(!N),className:"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] hover:text-[var(--brand-primary)] transition-all p-1.5 flex items-center justify-center",children:N?u.jsx(Fh,{size:20}):u.jsx(zh,{size:20})})]})]})]})}),u.jsxs("div",{className:"p-6 border-t border-[var(--border-default)] bg-[var(--surface-muted)]/30 flex gap-3 shrink-0",children:[u.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 py-4 rounded-2xl font-bold uppercase text-xs border-2 border-[var(--border-default)] hover:bg-[var(--surface-muted)] transition-all tracking-widest",children:"Cancel"}),!V&&u.jsx("button",{type:"submit",form:"employee-modal-form",className:"flex-1 py-4 rounded-2xl bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-bold uppercase text-xs shadow-lg shadow-[var(--brand-primary)]/20 hover:scale-[1.02] active:scale-95 transition-all tracking-widest",children:f==="add"?"Create":"Update"})]})]})})]})},yie=()=>{const e=Ha(),{user:t}=$i(),[r,n]=M.useState(!1),[a,i]=M.useState(!1),[c,f]=M.useState([]),[m,p]=M.useState({}),[x,y]=M.useState(!1),S=(R,F)=>{let G="";return R==="personal_email"&&F&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(F)&&(G="Invalid email format"),R==="residence_landline"&&F&&(!/^\d+$/.test(F)||F.length!==10)&&(G="Contact No must be 10 digits"),R==="residence_postal_code"&&F&&(!/^\d+$/.test(F)||F.length!==6)&&(G="Pin Code must be 6 digits"),G},[N,j]=M.useState({emp_code:"",first_name:"",last_name:"",personal_email:"",residence_landline:"",division_unit:"",address:"",residence_postal_code:"",password:"123"});M.useEffect(()=>{(async()=>{var F;try{const G=await Ut.get("/units"),Y=Array.isArray(G.data)?G.data:((F=G.data)==null?void 0:F.units)||[];f(Y)}catch(G){console.error("Error fetching units:",G)}})(),(t==null?void 0:t.role)==="unit_admin"&&(t!=null&&t.unit_id)&&j(F=>({...F,division_unit:String(t.unit_id)}))},[t]);const _=async R=>{j(G=>({...G,residence_postal_code:R}));const F=S("residence_postal_code",R);if(p(G=>({...G,residence_postal_code:F})),!F&&R.length===6){i(!0);try{const Y=await(await fetch(`https://api.postalpincode.in/pincode/${R}`)).json();if(Y[0].Status==="Success"){const J=Y[0].PostOffice[0];j(V=>({...V,address:`${J.Name}, ${J.District}, ${J.State}`}))}}catch(G){console.error("Error fetching address details:",G)}finally{i(!1)}}},T=R=>{const{name:F,value:G}=R.target;j(J=>({...J,[F]:G}));const Y=S(F,G);p(J=>({...J,[F]:Y}))},I=async R=>{var G,Y,J,V,$,W;R.preventDefault();const F={};if(Object.keys(N).forEach(Ne=>{const Z=S(Ne,N[Ne]);Z&&(F[Ne]=Z)}),Object.keys(F).length>0){p(F),alert("Please correct validation errors.");return}n(!0);try{await Ut.post("/employees/",N),alert("Employee added successfully"),e("/admin/employees")}catch(Ne){console.error("Error adding employee:",Ne),(Y=(G=Ne.response)==null?void 0:G.data)!=null&&Y.errors&&p(Ne.response.data.errors),alert(((V=(J=Ne.response)==null?void 0:J.data)==null?void 0:V.error)||((W=($=Ne.response)==null?void 0:$.data)==null?void 0:W.message)||"Failed to add employee")}finally{n(!1)}};return u.jsx(ci,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex items-center justify-between mb-8 animate-slide-up opacity-0",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:()=>e("/admin/employees"),className:"p-2 rounded-xl bg-[var(--surface-card)] border border-[var(--border-default)] text-[var(--text-secondary)] hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] transition-all",children:u.jsx(qg,{size:20})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold tracking-tight text-[var(--text-primary)]",children:"Add New Employee"}),u.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-1",children:"Enter employee details to register a new user"})]})]})}),u.jsxs("form",{onSubmit:I,className:"p-6 rounded-3xl bg-[var(--surface-card)] border border-[var(--border-default)] shadow-xl animate-fade-in relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[var(--brand-primary)]/5 rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 relative z-10",children:[u.jsx("div",{className:"col-span-full border-b border-[var(--border-default)] pb-2 mb-2",children:u.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest text-[var(--text-secondary)] flex items-center gap-2",children:[u.jsx(hf,{className:"text-[var(--brand-primary)]"})," Basic Information"]})}),u.jsx(Wd,{label:"Employee Code",name:"emp_code",value:N.emp_code,onChange:T,required:!0,placeholder:"e.g. 10009",error:m.emp_code}),u.jsx(Wd,{label:"First Name",name:"first_name",value:N.first_name,onChange:T,required:!0,placeholder:"e.g. Ms.",error:m.first_name}),u.jsx(Wd,{label:"Last Name",name:"last_name",value:N.last_name,onChange:T,required:!0,placeholder:"e.g. Saranya Senthil",error:m.last_name}),u.jsx(Wd,{label:"Email",name:"personal_email",type:"email",value:N.personal_email,onChange:T,placeholder:"personal@example.com",error:m.personal_email}),u.jsx(Wd,{label:"Contact No",name:"residence_landline",value:N.residence_landline,onChange:T,placeholder:"10-digit mobile",maxLength:10,error:m.residence_landline}),u.jsx(Wd,{label:"Password",name:"password",type:x?"text":"password",value:N.password,onChange:T,required:!0,placeholder:"Default: 123",error:m.password,showToggle:!0,onToggle:()=>y(!x),isVisible:x}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Unit / Division"}),u.jsxs("select",{name:"division_unit",value:N.division_unit,onChange:T,disabled:(t==null?void 0:t.role)==="unit_admin",className:`w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none appearance-none ${(t==null?void 0:t.role)==="unit_admin"?"opacity-50 cursor-not-allowed":""}`,children:[u.jsx("option",{value:"",children:"Select Unit"}),c.map(R=>u.jsxs("option",{value:R.name||R.code,children:[R.name," (",R.code,")"]},R.id))]})]}),u.jsxs("div",{className:"space-y-1 relative",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Pin Code"}),u.jsx("input",{type:"text",name:"residence_postal_code",value:N.residence_postal_code,onChange:R=>_(R.target.value),placeholder:"6-digit Pin Code",maxLength:6,className:`w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 ${m.residence_postal_code?"border-red-500":"border-[var(--border-default)]"} focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none`}),a&&u.jsx("div",{className:"absolute right-3 bottom-3",children:u.jsx(Zo,{className:"animate-spin text-[var(--brand-primary)]",size:14})}),m.residence_postal_code&&u.jsxs("p",{className:"text-[10px] text-red-500 font-bold mt-1 flex items-center gap-1",children:[u.jsx(Ug,{})," ",m.residence_postal_code]})]}),u.jsx("div",{className:"md:col-span-2",children:u.jsx(Wd,{label:"Full Address",name:"address",value:N.address,onChange:T,placeholder:"Full address details"})})]}),u.jsxs("div",{className:"mt-8 flex justify-end gap-4 border-t border-[var(--border-default)] pt-6",children:[u.jsx("button",{type:"button",onClick:()=>e("/admin/employees"),className:"px-8 py-4 rounded-2xl font-bold uppercase text-xs border-2 border-[var(--border-default)] hover:bg-[var(--surface-muted)] transition-all tracking-widest text-[var(--text-secondary)]",children:"Cancel"}),u.jsxs("button",{type:"submit",disabled:r,className:"px-8 py-4 rounded-2xl bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-bold uppercase text-xs shadow-lg shadow-[var(--brand-primary)]/20 hover:scale-[1.05] active:scale-95 transition-all tracking-widest flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(Yj,{size:16}),r?"Saving...":"Save Employee"]})]})]})]})})},Wd=e=>{const t=Ia.c(28),{label:r,name:n,type:a,value:i,onChange:c,required:f,placeholder:m,maxLength:p,disabled:x,error:y,showToggle:S,onToggle:N,isVisible:j}=e,_=a===void 0?"text":a;let T;t[0]!==f?(T=f&&u.jsx("span",{className:"text-red-500",children:"*"}),t[0]=f,t[1]=T):T=t[1];let I;t[2]!==r||t[3]!==T?(I=u.jsxs("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:[r," ",T]}),t[2]=r,t[3]=T,t[4]=I):I=t[4];const R=`w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 ${y?"border-red-500":"border-[var(--border-default)]"} focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none ${x?"opacity-50 cursor-not-allowed":""} ${S?"pr-12":""}`;let F;t[5]!==x||t[6]!==p||t[7]!==n||t[8]!==c||t[9]!==m||t[10]!==f||t[11]!==R||t[12]!==_||t[13]!==i?(F=u.jsx("input",{type:_,name:n,value:i,onChange:c,required:f,placeholder:m,maxLength:p,disabled:x,className:R}),t[5]=x,t[6]=p,t[7]=n,t[8]=c,t[9]=m,t[10]=f,t[11]=R,t[12]=_,t[13]=i,t[14]=F):F=t[14];let G;t[15]!==j||t[16]!==N||t[17]!==S?(G=S&&u.jsx("button",{type:"button",onClick:N,className:"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] hover:text-[var(--brand-primary)] transition-all p-1.5 flex items-center justify-center",children:j?u.jsx(Fh,{size:18}):u.jsx(zh,{size:18})}),t[15]=j,t[16]=N,t[17]=S,t[18]=G):G=t[18];let Y;t[19]!==F||t[20]!==G?(Y=u.jsxs("div",{className:"relative",children:[F,G]}),t[19]=F,t[20]=G,t[21]=Y):Y=t[21];let J;t[22]!==y?(J=y&&u.jsxs("p",{className:"text-[10px] text-red-500 font-bold mt-1 flex items-center gap-1",children:[u.jsx(Ug,{})," ",y]}),t[22]=y,t[23]=J):J=t[23];let V;return t[24]!==I||t[25]!==Y||t[26]!==J?(V=u.jsxs("div",{className:"space-y-1",children:[I,Y,J]}),t[24]=I,t[25]=Y,t[26]=J,t[27]=V):V=t[27],V},bie=()=>{const e=Ha(),{user:t}=$i(),{id:r}=Y_(),[n,a]=M.useState(!1),[i,c]=M.useState(!0),[f,m]=M.useState(!1),[p,x]=M.useState([]),[y,S]=M.useState({}),[N,j]=M.useState(!1),[_,T]=M.useState({emp_code:"",first_name:"",last_name:"",personal_email:"",residence_landline:"",division_unit:"",address:"",residence_postal_code:"",password:""}),I=(Y,J)=>{let V="";return Y==="personal_email"&&J&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(J)&&(V="Invalid email format"),Y==="residence_landline"&&J&&(!/^\d+$/.test(J)||J.length!==10)&&(V="Contact No must be 10 digits"),Y==="residence_postal_code"&&J&&(!/^\d+$/.test(J)||J.length!==6)&&(V="Pin Code must be 6 digits"),V};M.useEffect(()=>{const Y=async()=>{var V;try{const $=await Ut.get("/units"),W=Array.isArray($.data)?$.data:((V=$.data)==null?void 0:V.units)||[];x(W)}catch($){console.error("Error fetching units:",$)}},J=async()=>{try{const $=(await Ut.get(`/employees/${r}/`)).data;T({emp_code:$.emp_code||"",first_name:$.first_name||"",last_name:$.last_name||"",personal_email:$.personal_email||"",residence_landline:$.residence_landline||$.mobile||$.phone||"",division_unit:$.division_unit||"",address:$.address||"",residence_postal_code:$.residence_postal_code||$.pincode||"",password:""})}catch(V){console.error("Error fetching employee:",V),alert("Failed to load employee details"),e("/admin/employees")}finally{c(!1)}};r&&(Y(),J())},[r,e]);const R=async Y=>{T(V=>({...V,residence_postal_code:Y}));const J=I("residence_postal_code",Y);if(S(V=>({...V,residence_postal_code:J})),!J&&Y.length===6){m(!0);try{const $=await(await fetch(`https://api.postalpincode.in/pincode/${Y}`)).json();if($[0].Status==="Success"){const W=$[0].PostOffice[0];T(Ne=>({...Ne,address:`${W.Name}, ${W.District}, ${W.State}`}))}}catch(V){console.error("Error fetching address details:",V)}finally{m(!1)}}},F=Y=>{const{name:J,value:V}=Y.target;T(W=>({...W,[J]:V}));const $=I(J,V);S(W=>({...W,[J]:$}))},G=async Y=>{var V,$,W,Ne,Z,Q;Y.preventDefault();const J={};if(Object.keys(_).forEach(me=>{if(me==="password"&&!_[me])return;const re=I(me,_[me]);re&&(J[me]=re)}),Object.keys(J).length>0){S(J),alert("Please correct validation errors.");return}a(!0);try{const me={..._};me.password||delete me.password,await Ut.put(`/employees/${r}/`,me),alert("Employee updated successfully"),e("/admin/employees")}catch(me){console.error("Error updating employee:",me),($=(V=me.response)==null?void 0:V.data)!=null&&$.errors&&S(me.response.data.errors),alert(((Ne=(W=me.response)==null?void 0:W.data)==null?void 0:Ne.error)||((Q=(Z=me.response)==null?void 0:Z.data)==null?void 0:Q.message)||"Failed to update employee")}finally{a(!1)}};return i?u.jsx(ci,{children:u.jsx(qs,{})}):u.jsx(ci,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex items-center justify-between mb-8 animate-slide-up opacity-0",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:()=>e("/admin/employees"),className:"p-2 rounded-xl bg-[var(--surface-card)] border border-[var(--border-default)] text-[var(--text-secondary)] hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] transition-all",children:u.jsx(qg,{size:20})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold tracking-tight text-[var(--text-primary)]",children:"Edit Employee"}),u.jsxs("p",{className:"text-sm text-[var(--text-secondary)] mt-1",children:["Update employee details for ",_.first_name]})]})]})}),u.jsxs("form",{onSubmit:G,className:"p-6 rounded-3xl bg-[var(--surface-card)] border border-[var(--border-default)] shadow-xl animate-fade-in relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[var(--brand-primary)]/5 rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 relative z-10",children:[u.jsx("div",{className:"col-span-full border-b border-[var(--border-default)] pb-2 mb-2",children:u.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest text-[var(--text-secondary)] flex items-center gap-2",children:[u.jsx(hf,{className:"text-[var(--brand-primary)]"})," Basic Information"]})}),u.jsx(Yd,{label:"Employee Code",name:"emp_code",value:_.emp_code,onChange:F,required:!0,placeholder:"e.g. 10009",error:y.emp_code,disabled:!0}),u.jsx(Yd,{label:"First Name",name:"first_name",value:_.first_name,onChange:F,required:!0,placeholder:"e.g. Ms.",error:y.first_name}),u.jsx(Yd,{label:"Last Name",name:"last_name",value:_.last_name,onChange:F,required:!0,placeholder:"e.g. Saranya Senthil",error:y.last_name}),u.jsx(Yd,{label:"Email",name:"personal_email",type:"email",value:_.personal_email,onChange:F,placeholder:"personal@example.com",error:y.personal_email}),u.jsx(Yd,{label:"Contact No",name:"residence_landline",value:_.residence_landline,onChange:F,placeholder:"10-digit mobile",maxLength:10,error:y.residence_landline}),u.jsx(Yd,{label:"Password",name:"password",type:N?"text":"password",value:_.password,onChange:F,placeholder:"Leave blank to keep same",error:y.password,showToggle:!0,onToggle:()=>j(!N),isVisible:N}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Unit / Division"}),u.jsxs("select",{name:"division_unit",value:_.division_unit,onChange:F,disabled:(t==null?void 0:t.role)==="unit_admin",className:`w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 border-[var(--border-default)] focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none appearance-none ${(t==null?void 0:t.role)==="unit_admin"?"opacity-50 cursor-not-allowed":""}`,children:[u.jsx("option",{value:"",children:"Select Unit"}),p.map(Y=>u.jsxs("option",{value:Y.name||Y.code,children:[Y.name," (",Y.code,")"]},Y.id))]})]}),u.jsxs("div",{className:"space-y-1 relative",children:[u.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:"Pin Code"}),u.jsx("input",{type:"text",name:"residence_postal_code",value:_.residence_postal_code,onChange:Y=>R(Y.target.value),placeholder:"6-digit Pin Code",maxLength:6,className:`w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 ${y.residence_postal_code?"border-red-500":"border-[var(--border-default)]"} focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none`}),f&&u.jsx("div",{className:"absolute right-3 bottom-3",children:u.jsx(Zo,{className:"animate-spin text-[var(--brand-primary)]",size:14})}),y.residence_postal_code&&u.jsxs("p",{className:"text-[10px] text-red-500 font-bold mt-1 flex items-center gap-1",children:[u.jsx(Ug,{})," ",y.residence_postal_code]})]}),u.jsx("div",{className:"md:col-span-2",children:u.jsx(Yd,{label:"Full Address",name:"address",value:_.address,onChange:F,placeholder:"Full address details"})})]}),u.jsxs("div",{className:"mt-8 flex justify-end gap-4 border-t border-[var(--border-default)] pt-6",children:[u.jsx("button",{type:"button",onClick:()=>e("/admin/employees"),className:"px-8 py-4 rounded-2xl font-bold uppercase text-xs border-2 border-[var(--border-default)] hover:bg-[var(--surface-muted)] transition-all tracking-widest text-[var(--text-secondary)]",children:"Cancel"}),u.jsxs("button",{type:"submit",disabled:n,className:"px-8 py-4 rounded-2xl bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-bold uppercase text-xs shadow-lg shadow-[var(--brand-primary)]/20 hover:scale-[1.05] active:scale-95 transition-all tracking-widest flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(Yj,{size:16}),n?"Updating...":"Update Employee"]})]})]})]})})},Yd=e=>{const t=Ia.c(28),{label:r,name:n,type:a,value:i,onChange:c,required:f,placeholder:m,maxLength:p,disabled:x,error:y,showToggle:S,onToggle:N,isVisible:j}=e,_=a===void 0?"text":a;let T;t[0]!==f?(T=f&&u.jsx("span",{className:"text-red-500",children:"*"}),t[0]=f,t[1]=T):T=t[1];let I;t[2]!==r||t[3]!==T?(I=u.jsxs("label",{className:"text-[10px] font-black uppercase tracking-wider ml-1 opacity-60",children:[r," ",T]}),t[2]=r,t[3]=T,t[4]=I):I=t[4];const R=`w-full px-5 py-3 rounded-2xl bg-[var(--surface-main)] border-2 ${y?"border-red-500":"border-[var(--border-default)]"} focus:border-[var(--brand-primary)] text-[var(--text-primary)] font-bold text-sm transition-all outline-none ${x?"opacity-50 cursor-not-allowed":""} ${S?"pr-12":""}`;let F;t[5]!==x||t[6]!==p||t[7]!==n||t[8]!==c||t[9]!==m||t[10]!==f||t[11]!==R||t[12]!==_||t[13]!==i?(F=u.jsx("input",{type:_,name:n,value:i,onChange:c,required:f,placeholder:m,maxLength:p,disabled:x,className:R}),t[5]=x,t[6]=p,t[7]=n,t[8]=c,t[9]=m,t[10]=f,t[11]=R,t[12]=_,t[13]=i,t[14]=F):F=t[14];let G;t[15]!==j||t[16]!==N||t[17]!==S?(G=S&&u.jsx("button",{type:"button",onClick:N,className:"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] hover:text-[var(--brand-primary)] transition-all p-1.5 flex items-center justify-center",children:j?u.jsx(Fh,{size:18}):u.jsx(zh,{size:18})}),t[15]=j,t[16]=N,t[17]=S,t[18]=G):G=t[18];let Y;t[19]!==F||t[20]!==G?(Y=u.jsxs("div",{className:"relative",children:[F,G]}),t[19]=F,t[20]=G,t[21]=Y):Y=t[21];let J;t[22]!==y?(J=y&&u.jsxs("p",{className:"text-[10px] text-red-500 font-bold mt-1 flex items-center gap-1",children:[u.jsx(Ug,{})," ",y]}),t[22]=y,t[23]=J):J=t[23];let V;return t[24]!==I||t[25]!==Y||t[26]!==J?(V=u.jsxs("div",{className:"space-y-1",children:[I,Y,J]}),t[24]=I,t[25]=Y,t[26]=J,t[27]=V):V=t[27],V},wie=()=>{var et,St,qt,Wt,tr,Bt,lr,Qt,Er,zt,Mn,Ht,Ct,rr,Jt,Kr,Ur,Ri,pn,Ar,sa,sn,xr,Nr,Ji,Gr,oa,la,or,Za,Jn,xa,Wr;const{isDark:e}=bi(),{user:t}=$i();Ha();const r=kd(),a=new URLSearchParams(r.search).get("tab")||"reconciliation",[i,c]=M.useState(a),[f,m]=M.useState(!0),[p,x]=M.useState([]),[y,S]=M.useState({start_date:new Date().toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0],unit_id:"",role:"all",search:""}),[N,j]=M.useState(""),[_,T]=M.useState(null),[I,R]=M.useState([]),[F,G]=M.useState([]),[Y,J]=M.useState({total:0,active:0,roles:[]}),[V,$]=M.useState([]),[W,Ne]=M.useState(null),[Z,Q]=M.useState([]),[me,re]=M.useState([]),[q,ie]=M.useState(1),[oe,de]=M.useState({}),[ee,Ae]=M.useState(null),[ce,U]=M.useState([]),[H,se]=M.useState(1),[ve,ne]=M.useState(6),[le,je]=M.useState(!1),[pe,Te]=M.useState(!1),ke=10,ue=()=>{try{if(!I||I.length===0){alert("No Item data to export for the selected filters.");return}const _e=new br("p","mm","a4"),Ot=_e.internal.pageSize.getWidth(),tt=15;let bt=20;if(_e.setFontSize(14),_e.setTextColor(30,41,59),_e.setFont(void 0,"bold"),_e.text("ITEM SUMMARY",tt,bt),bt+=10,_e.setDrawColor(226,232,240),_e.line(tt,bt,Ot-15,bt),bt+=10,_e.setFontSize(10),_e.setTextColor(30,41,59),_e.setFont(void 0,"bold"),_e.text(`Generated On: ${new Date().toLocaleString()}`,tt,bt),bt+=6,_e.setFont(void 0,"normal"),_e.text(`Date Range: ${y.start_date} to ${y.end_date}`,tt,bt),y.unit_id&&Array.isArray(p)){const xt=p.find(Tt=>String(Tt.id)===String(y.unit_id));xt&&(bt+=6,_e.text(`Unit: ${xt.name}`,tt,bt))}bt+=10;const Ft=xt=>(_e.setFillColor(250,198,57),_e.rect(tt,xt,Ot-tt*2,10,"F"),_e.setFont(void 0,"bold"),_e.setTextColor(0,0,0),_e.setFontSize(10),_e.text("S.No",tt+3,xt+7),_e.text("Item Name",tt+18,xt+7),_e.text("Qty",tt+130,xt+7,{align:"right"}),_e.text("Amount",tt+170,xt+7,{align:"right"}),xt+10+2);bt=Ft(bt),_e.setFont(void 0,"normal"),_e.setTextColor(30,41,59),_e.setFontSize(9);let Pe=0,mt=0;I.forEach((xt,Tt)=>{const ht=xt.name_en||xt.name||"Unknown",wt=Number(xt.totalQty??0),Yt=Number(xt.totalAmount??0);Pe+=Yt,mt+=wt;const Xt=_e.splitTextToSize(ht,90),er=Math.max(8,Xt.length*5)+4;bt+er>280&&(_e.addPage(),bt=20,bt=Ft(bt),_e.setFont(void 0,"normal"),_e.setTextColor(30,41,59),_e.setFontSize(9)),_e.text(String(Tt+1),tt+3,bt+5),_e.text(Xt,tt+18,bt+5),_e.text(String(wt),tt+130,bt+5,{align:"right"}),_e.text(`INR ${Yt.toFixed(2)}`,tt+170,bt+5,{align:"right"}),_e.setDrawColor(241,245,249),_e.line(tt,bt+er-2,Ot-15,bt+er-2),bt+=er}),bt+=5,bt>280&&(_e.addPage(),bt=20),_e.setFont(void 0,"bold"),_e.setFontSize(11),_e.setTextColor(0,0,0),_e.text("Grand Total:",tt+100,bt),_e.text(String(mt),tt+130,bt,{align:"right"}),_e.setTextColor(22,163,74),_e.text(`INR ${Pe.toFixed(2)}`,tt+170,bt,{align:"right"}),_e.save(`reconciliation-products-${y.start_date}.pdf`)}catch(_e){console.error("PDF export error:",_e),alert("Failed to export PDF. Please try again.")}},Le=M.useCallback(async()=>{var _e;try{const Ot=await Ut.get("/units");let tt=Array.isArray(Ot.data)?Ot.data:((_e=Ot.data)==null?void 0:_e.units)||[];(t==null?void 0:t.role)==="unit_admin"&&(t!=null&&t.unit_id)&&(tt=tt.filter(bt=>bt.id===t.unit_id)),x(tt)}catch(Ot){console.error("Fetch units failed",Ot)}},[t]),$e=M.useCallback(async()=>{m(!0);try{const _e=new URLSearchParams({start_date:y.start_date,end_date:y.end_date,unit_id:y.unit_id}),tt=(await Ut.get(`/dashboard/summary?${_e.toString()}`)).data;T(tt);const Ft=(tt.products||[]).filter(ht=>Number(ht.totalQty||0)>0).sort((ht,wt)=>(wt.totalAmount||0)-(ht.totalAmount||0)),Pe={CASH:{},UPI:{},GUEST:{},FREE:{}};(tt.orders||[]).forEach(ht=>{const wt=(ht.payment_mode||ht.paymentMode||"").toUpperCase();if(wt&&Pe[wt]){const Yt=[];ht.items&&Yt.push(...ht.items),ht.dayBills&&ht.dayBills.forEach(Vt=>Yt.push(...Vt.items||[])),Yt.forEach(Vt=>{const Xt=Vt.product_id||Vt.id;Xt&&(Pe[wt][Xt]=(Pe[wt][Xt]||0)+(Vt.quantity||1))})}}),(tt.unitStats||[]).forEach(ht=>{const wt=ht.items||ht.itemsList||[],Yt=ht.modes||{},Vt=Object.keys(Yt).filter(Xt=>{var er;return(((er=Yt[Xt])==null?void 0:er.total)||Yt[Xt]||0)>0});if(Vt.length===1){const Xt=Vt[0].toUpperCase();Pe[Xt]&&wt.forEach(er=>{const Zr=er.product_id||er.id;Zr&&!Pe[Xt][Zr]&&(Pe[Xt][Zr]=(Pe[Xt][Zr]||0)+(er.quantity||1))})}});const mt=Ft.map(ht=>({...ht,cashQty:Pe.CASH[ht.product_id]||0,upiQty:Pe.UPI[ht.product_id]||0,guestQty:Pe.GUEST[ht.product_id]||0,freeQty:Pe.FREE[ht.product_id]||0}));R(mt),Q(tt.employees||[]),U(tt.orders||[]);let xt=tt.unitStats||[];if(!xt.length)try{const ht=await Ut.get(`/dashboard/unit-stats?${_e.toString()}`);Ne(ht.data.overall||null),xt=ht.data.unitStats||ht.data.unit_stats||[]}catch(ht){console.warn("Unit Stats fetch specific failed",ht)}const Tt=xt.map(ht=>{var Vt,Xt,er,Zr;const wt=ht.modes||ht.payment_modes||{},Yt=_n=>{const cn=wt[_n];return parseFloat(typeof cn=="object"&&cn!==null?cn.total||0:cn||0)};return{unit_id:ht.unit_id,name:ht.name||ht.unit_name,revenue:parseFloat(ht.revenue||0),orders:parseInt(ht.count||ht.order_count||0),items:parseInt(ht.itemCount||ht.item_count||0),itemsList:ht.items||[],cashTotal:Yt("CASH"),cashCount:parseInt(((Vt=wt.CASH)==null?void 0:Vt.count)||0),upiTotal:Yt("UPI"),upiCount:parseInt(((Xt=wt.UPI)==null?void 0:Xt.count)||0),guestTotal:Yt("GUEST"),guestCount:parseInt(((er=wt.GUEST)==null?void 0:er.count)||0),freeTotal:Yt("FREE"),freeCount:parseInt(((Zr=wt.FREE)==null?void 0:Zr.count)||0)}}).sort((ht,wt)=>wt.revenue-ht.revenue);$(Tt)}catch(_e){console.error("Fetch data failed",_e)}finally{m(!1)}},[y]);M.useEffect(()=>{(t==null?void 0:t.role)==="unit_admin"&&(t!=null&&t.unit_id)&&S(_e=>({..._e,unit_id:t.unit_id}))},[t]),M.useEffect(()=>{Le()},[Le]),M.useEffect(()=>{$e()},[$e]),M.useEffect(()=>{ie(1)},[y.search,N]);const Be=M.useMemo(()=>{let _e=I||[];if(N){const Ot=N.toLowerCase();_e=_e.filter(tt=>(tt.name||"").toLowerCase().includes(Ot)||(tt.product_id||"").toString().toLowerCase().includes(Ot))}return _e},[I,N]),ae=M.useMemo(()=>{let _e=Z||[];if(N){const Ot=N.toLowerCase();_e=_e.filter(tt=>(tt.name||"").toLowerCase().includes(Ot)||(tt.empCode||"").toLowerCase().includes(Ot))}return _e},[Z,N]),nt=M.useMemo(()=>{let _e=V||[];if(N){const Ot=N.toLowerCase();_e=_e.filter(tt=>(tt.name||"").toLowerCase().includes(Ot))}return _e},[V,N]),at=(_e,Ot,tt)=>{const bt=new br("l","mm","a4"),Ft=bt.internal.pageSize.getWidth();bt.setFont("helvetica","bold"),bt.setFontSize(22),bt.setTextColor(30,41,59),bt.text(_e.toUpperCase()+" REPORT",14,22),bt.setDrawColor(226,232,240),bt.setLineWidth(.5),bt.line(14,28,Ft-14,28);const mt=new Date().toLocaleString("en-IN",{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0});bt.setFontSize(10),bt.setFont("helvetica","bold"),bt.setTextColor(71,85,105),bt.text(`Generated On: ${mt}`,14,38),bt.text(`Total Records: ${Ot.length}`,Ft-50,38);let xt=48;const Tt=12,ht=()=>{bt.setFillColor(250,198,57),bt.rect(14,xt,Ft-28,Tt,"F"),bt.setTextColor(0,0,0),bt.setFontSize(11),bt.setFont("helvetica","bold"),bt.text("S.No",17,xt+7.5),tt.forEach(wt=>{bt.text(wt.header,wt.x,xt+7.5)})};ht(),xt+=Tt,bt.setFont("helvetica","normal"),bt.setFontSize(10),bt.setTextColor(51,65,85),Ot.forEach((wt,Yt)=>{xt>180&&(bt.addPage(),xt=20,ht(),xt+=Tt,bt.setFont("helvetica","normal"),bt.setFontSize(10),bt.setTextColor(51,65,85)),bt.text((Yt+1).toString(),17,xt+7),tt.forEach(Vt=>{let Xt=wt[Vt.key];if(Vt.key.toLowerCase().includes("amount")||Vt.key.toLowerCase().includes("revenue")||Vt.key.toLowerCase().includes("_amt")){const er=parseFloat(Xt);Xt=isNaN(er)?Xt:""+er.toLocaleString("en-IN")}bt.text(String(Xt||"-"),Vt.x,xt+7)}),bt.setDrawColor(241,245,249),bt.setLineWidth(.1),bt.line(14,xt+10,Ft-14,xt+10),xt+=10}),bt.save(`${_e.toLowerCase().replace(/\s+/g,"_")}_report.pdf`)},Re=[{id:"overall",label:"Overall",icon:Wj},{id:"items",label:"Items",icon:sS},{id:"orders",label:"Orders",icon:vh},{id:"users",label:"Users",icon:Xj},{id:"employees",label:"Employees",icon:$0},{id:"reconciliation",label:"Reconciliation",icon:qj}],Qe=({title:_e,children:Ot,extra:tt,noPadding:bt})=>u.jsxs("div",{className:"bg-[var(--surface-card)] border border-[var(--border-default)] rounded-[2.5rem] shadow-2xl shadow-black/5 dark:shadow-none overflow-hidden relative transition-all duration-500 group/card",children:[u.jsxs("div",{className:`p-6 sm:p-10 ${bt?"pb-0":""}`,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-6 mb-10 relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-2.5 h-10 bg-[var(--brand-primary)] rounded-full"}),u.jsx("h3",{className:"text-2xl sm:text-3xl font-black tracking-tight text-[var(--text-primary)] uppercase",children:_e})]}),tt&&u.jsx("div",{className:"w-full sm:w-auto",children:tt})]}),u.jsx("div",{className:"relative z-10",children:Ot})]}),u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[var(--brand-primary)]/5 rounded-full blur-[80px] -mr-32 -mt-32 pointer-events-none group-hover/card:bg-[var(--brand-primary)]/10 transition-colors"})]}),Fe=({label:_e,value:Ot,trend:tt,icon:bt,gradient:Ft})=>u.jsxs("div",{className:`p-8 rounded-[2.5rem] border border-white/5 relative overflow-hidden group shadow-2xl transition-all duration-500 md:hover:-translate-y-2 md:hover:shadow-3xl active:scale-95 ${Ft}`,children:[u.jsx("div",{className:"absolute inset-0 bg-black/10 opacity-0 group-hover:opacity-20 transition-opacity duration-500"}),u.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-black uppercase tracking-[0.3em] text-white/80 mb-3",children:_e}),u.jsx("h4",{className:"text-3xl sm:text-4xl font-black text-white tracking-tighter",children:Ot}),tt!==void 0&&u.jsxs("div",{className:"flex items-center gap-1.5 mt-5 text-[10px] font-black px-3 py-1.5 rounded-xl bg-white/20 text-white backdrop-blur-md w-fit",children:[tt>0?u.jsx(iS,{}):u.jsx(ZR,{}),u.jsxs("span",{children:[Math.abs(tt),"%"]})]})]}),u.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/20 text-white backdrop-blur-xl flex items-center justify-center shadow-inner group-hover:scale-110 transition-transform duration-500",children:u.jsx(bt,{size:24})})]}),u.jsx("div",{className:"absolute -right-10 -bottom-10 w-40 h-40 bg-white/5 rounded-full blur-3xl group-hover:bg-white/10 transition-colors"})]});return f&&!_?u.jsx(ci,{children:u.jsx("div",{className:"h-[60vh] flex items-center justify-center",children:u.jsx(qs,{})})}):u.jsx(ci,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[u.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4 sm:mb-8 mt-1 animate-slide-up opacity-0",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-1.5 h-8 bg-[var(--brand-primary)] rounded-full shadow-[0_0_10px_rgba(249,115,22,0.4)]"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-[0.1em] text-[var(--text-primary)]",children:"Overall Report".split("").map((_e,Ot)=>u.jsx("span",{className:"animate-letter-pop",style:{animationDelay:`${300+(_e===" "?0:Ot*50)}ms`},children:_e===" "?"":_e},Ot))})]})}),u.jsx("div",{style:{animationDelay:"100ms"},className:"mb-8 p-4 sm:p-8 rounded-3xl bg-[var(--surface-card)] shadow-[0_8px_30px_rgb(0,0,0,0.08)] border border-[var(--border-default)] animate-slide-up opacity-0",children:u.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-stretch lg:items-end",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-sm font-bold text-white mb-2 ml-1 tracking-wider",children:"Start Date"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"date",value:y.start_date,onChange:_e=>S({...y,start_date:_e.target.value}),className:"w-full px-4 py-3 rounded-2xl bg-[var(--surface-main)] text-[var(--text-primary)] focus:bg-[var(--surface-card)] focus:ring-4 focus:ring-[var(--brand-primary)]/10 border border-[var(--border-default)]/50 appearance-none transition-all font-bold text-xs cursor-pointer shadow-inner pr-10"}),u.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-[var(--text-secondary)] opacity-50",children:u.jsx(gb,{})})]})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-sm font-bold text-white mb-2 ml-1 tracking-wider",children:"End Date"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"date",value:y.end_date,onChange:_e=>S({...y,end_date:_e.target.value}),className:"w-full px-4 py-3 rounded-2xl bg-[var(--surface-main)] text-[var(--text-primary)] focus:bg-[var(--surface-card)] focus:ring-4 focus:ring-[var(--brand-primary)]/10 border border-[var(--border-default)]/50 appearance-none transition-all font-bold text-xs cursor-pointer shadow-inner pr-10"}),u.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-[var(--text-secondary)] opacity-50",children:u.jsx(gb,{})})]})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[var(--brand-primary)] mb-3 ml-1 uppercase tracking-[0.2em] opacity-70",children:"Select Unit"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:y.unit_id,onChange:_e=>S({...y,unit_id:_e.target.value}),disabled:(t==null?void 0:t.role)==="unit_admin",className:"w-full pl-4 pr-10 py-3 rounded-2xl bg-[var(--surface-main)] text-[var(--text-primary)] focus:bg-[var(--surface-card)] focus:ring-4 focus:ring-[var(--brand-primary)]/10 border border-[var(--border-default)]/50 appearance-none transition-all font-bold text-xs cursor-pointer shadow-inner disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("option",{value:"",children:"All Units"}),p.map(_e=>u.jsx("option",{value:_e.id,children:_e.name},_e.id))]}),u.jsx(Wl,{className:"absolute right-3.5 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--brand-primary)] pointer-events-none opacity-60"})]})]}),i!=="overall"&&i!=="users"&&i!=="reconciliation"&&u.jsxs("div",{className:"flex-1",children:[u.jsxs("label",{className:"block text-[10px] font-bold text-[var(--brand-primary)] mb-3 ml-1 uppercase tracking-[0.2em] opacity-70",children:["Search ",i.charAt(0).toUpperCase()+i.slice(1)]}),u.jsx("div",{className:"flex items-center p-2 rounded-2xl bg-[var(--surface-main)] focus-within:bg-[var(--surface-card)] focus-within:ring-4 focus-within:ring-[var(--brand-primary)]/10 transition-all shadow-inner border border-[var(--border-default)]/50 overflow-hidden w-full",children:u.jsx("input",{type:"text",placeholder:`Search by ${i==="products"||i==="employees"?"name or ID":"name"}...`,value:i==="orders"?y.search:N,onChange:_e=>{i==="orders"?S({...y,search:_e.target.value}):j(_e.target.value)},className:"w-full bg-transparent border-none text-[var(--text-primary)] text-xs font-bold focus:ring-0 outline-none placeholder:font-normal placeholder:opacity-50"})})]})]})}),Re.length>1&&u.jsx("div",{style:{animationDelay:"200ms"},className:"bg-[var(--surface-card)] border border-[var(--border-default)] p-1 sm:p-1.5 rounded-3xl flex gap-0.5 sm:gap-1 mb-8 sm:mb-12 overflow-x-auto no-scrollbar shadow-inner animate-slide-up opacity-0",children:Re.map(_e=>u.jsxs("button",{onClick:()=>{c(_e.id),j(""),_e.id!=="orders"&&y.search&&S(Ot=>({...Ot,search:""}))},className:`flex items-center justify-center gap-1 sm:gap-2 px-2 sm:px-6 lg:px-8 py-2 sm:py-3 lg:py-3.5 rounded-xl sm:rounded-2xl font-bold text-[10px] sm:text-xs lg:text-xs uppercase tracking-widest transition-all whitespace-nowrap flex-shrink-0 sm:flex-1 ${i===_e.id?"bg-gradient-to-r from-[var(--brand-primary)] to-amber-500 text-white shadow-lg shadow-[var(--brand-primary)]/20 scale-100 sm:scale-[1.02]":"text-[var(--text-secondary)] hover:bg-[var(--surface-muted)] hover:text-[var(--text-primary)]"}`,children:[u.jsx(_e.icon,{size:16,className:`${i===_e.id?"animate-pulse":""} hidden sm:block`}),u.jsx("span",{className:"block",children:_e.label})]},_e.id))}),u.jsxs("div",{className:"space-y-10 animate-in fade-in zoom-in-95 duration-500",children:[i==="overall"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[u.jsx(Fe,{label:"Total Revenue",value:`${((St=(et=_==null?void 0:_.overall)==null?void 0:et.total)==null?void 0:St.toLocaleString())||0}`,trend:12,icon:eB,gradient:"bg-gradient-to-br from-blue-600 to-indigo-700"}),u.jsx(Fe,{label:"Total Bills",value:(_==null?void 0:_.billsCount)||0,trend:8,icon:vh,gradient:"bg-gradient-to-br from-amber-500 to-orange-600"}),u.jsx(Fe,{label:"Item Sales",value:I.reduce((_e,Ot)=>_e+(Ot.totalQty||0),0),trend:5,icon:sS,gradient:"bg-gradient-to-br from-purple-600 to-fuchsia-700"}),u.jsx(Fe,{label:"Active Staff",value:Z.length,trend:4,icon:$0,gradient:"bg-gradient-to-br from-emerald-500 to-teal-600"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsx(Qe,{title:"Revenue Distribution",children:u.jsx("div",{className:"h-[300px] md:h-[400px]",children:u.jsx(Jp,{width:"100%",height:"100%",children:u.jsxs(Nae,{data:F,margin:{top:20,right:30,left:0,bottom:0},children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"colorRev",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"var(--brand-primary)",stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:"var(--brand-primary)",stopOpacity:0})]})}),u.jsx(E5,{strokeDasharray:"3 3",vertical:!1,stroke:e?"#334155":"#e2e8f0"}),u.jsx(O5,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"},dy:10}),u.jsx(k5,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11},tickFormatter:_e=>`${_e}`}),u.jsx(lm,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)",backgroundColor:e?"#1e293b":"#fff"},itemStyle:{fontWeight:"bold",color:"var(--brand-primary)"}}),u.jsx(sD,{type:"monotone",dataKey:"revenue",stroke:"var(--brand-primary)",strokeWidth:4,fill:"url(#colorRev)"})]})})})})}),u.jsxs(Qe,{title:"Payment Split",children:[u.jsx("div",{className:"h-[300px]",children:u.jsx(Jp,{width:"100%",height:"100%",children:u.jsxs(A_,{children:[u.jsx(S5,{data:[{name:"UPI",value:((Wt=(qt=_==null?void 0:_.modes)==null?void 0:qt.UPI)==null?void 0:Wt.total)||0,color:"#3b82f6"},{name:"GUEST",value:((Bt=(tr=_==null?void 0:_.modes)==null?void 0:tr.GUEST)==null?void 0:Bt.total)||0,color:"#f59e0b"},{name:"FREE",value:((Qt=(lr=_==null?void 0:_.modes)==null?void 0:lr.FREE)==null?void 0:Qt.total)||0,color:"#8b5cf6"}].filter(_e=>_e.value>0),cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:8,dataKey:"value",stroke:"none",children:[{name:"UPI",value:((zt=(Er=_==null?void 0:_.modes)==null?void 0:Er.UPI)==null?void 0:zt.total)||0,color:"#3b82f6"},{name:"GUEST",value:((Ht=(Mn=_==null?void 0:_.modes)==null?void 0:Mn.GUEST)==null?void 0:Ht.total)||0,color:"#f59e0b"},{name:"FREE",value:((rr=(Ct=_==null?void 0:_.modes)==null?void 0:Ct.FREE)==null?void 0:rr.total)||0,color:"#8b5cf6"}].filter(_e=>_e.value>0).map((_e,Ot)=>u.jsx(uf,{fill:_e.color},`cell-${Ot}`))}),u.jsx(lm,{formatter:_e=>`${_e.toLocaleString()}`,contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}})]})})}),u.jsxs("div",{className:"mt-4 space-y-4 border-t border-[var(--border-default)] pt-4",children:[u.jsxs("div",{style:{animationDelay:"200ms"},className:"flex justify-between items-center bg-blue-500/5 p-3 rounded-xl border border-blue-500/10 animate-slide-up opacity-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.5)]"}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-60",children:"UPI Payment"})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-black text-sm text-blue-500",children:["",((Ur=(Kr=(Jt=_==null?void 0:_.modes)==null?void 0:Jt.UPI)==null?void 0:Kr.total)==null?void 0:Ur.toLocaleString())||0]}),u.jsxs("p",{className:"text-[10px] font-bold opacity-40",children:[((pn=(Ri=_==null?void 0:_.modes)==null?void 0:Ri.UPI)==null?void 0:pn.count)||0," Bills"]})]})]}),u.jsxs("div",{style:{animationDelay:"300ms"},className:"flex justify-between items-center bg-amber-500/5 p-3 rounded-xl border border-amber-500/10 animate-slide-up opacity-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500 shadow-[0_0_10px_rgba(245,158,11,0.5)]"}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-60",children:"Guest Payment"})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-black text-sm text-amber-500",children:["",((sn=(sa=(Ar=_==null?void 0:_.modes)==null?void 0:Ar.GUEST)==null?void 0:sa.total)==null?void 0:sn.toLocaleString())||0]}),u.jsxs("p",{className:"text-[10px] font-bold opacity-40",children:[((Nr=(xr=_==null?void 0:_.modes)==null?void 0:xr.GUEST)==null?void 0:Nr.count)||0," Bills"]})]})]}),u.jsxs("div",{style:{animationDelay:"400ms"},className:"flex justify-between items-center bg-purple-500/5 p-3 rounded-xl border border-purple-500/10 animate-slide-up opacity-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500 shadow-[0_0_10px_rgba(139,92,246,0.5)]"}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-60",children:"Free Meal"})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-black text-sm text-purple-500",children:["",((oa=(Gr=(Ji=_==null?void 0:_.modes)==null?void 0:Ji.FREE)==null?void 0:Gr.total)==null?void 0:oa.toLocaleString())||0]}),u.jsxs("p",{className:"text-[10px] font-bold opacity-40",children:[((or=(la=_==null?void 0:_.modes)==null?void 0:la.FREE)==null?void 0:or.count)||0," Bills"]})]})]})]})]})]})]}),i==="items"&&u.jsx(Qe,{title:"Items",extra:u.jsxs("button",{onClick:()=>at("Item Performance",Be,[{header:"Item",key:"name_en",x:35},{header:"Unit",key:"unit_name",x:100},{header:"UPI (Qty/Amt)",key:"upiSummary",x:130},{header:"Guest (Qty/Amt)",key:"guestSummary",x:180},{header:"Free (Qty/Amt)",key:"freeSummary",x:230},{header:"Revenue",key:"totalAmount",x:280}]),className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-semibold px-6 py-2.5 sm:py-3 rounded-xl flex items-center justify-center gap-3 transition-all shadow-[0_4px_15px_rgba(0,0,0,0.2)] hover:scale-105 active:scale-95 text-xs sm:text-sm tracking-wider",children:[u.jsx(hd,{className:"text-lg"}),u.jsx("span",{children:"PDF"})]}),children:u.jsx("div",{className:"overflow-x-auto border border-[var(--border-default)] rounded-3xl overflow-hidden mb-2",children:u.jsxs("table",{className:"w-full border-separate border-spacing-0 min-w-[1000px]",children:[u.jsx("thead",{className:"bg-[var(--brand-primary)] text-[var(--text-inverse)] text-xs sm:text-sm uppercase tracking-wider font-bold",children:u.jsxs("tr",{className:"text-[var(--text-inverse)]",children:[u.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center border-r border-black/10 w-10 sm:w-14",children:"#"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-left border-r border-black/10",children:"Item"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center border-r border-black/10",children:"UPI"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center border-r border-black/10",children:"GUEST"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center border-r border-black/10",children:"FREE"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center border-r border-black/10",children:"UNIT"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-right border-r border-black/10",children:"Revenue"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-right",children:"Performance"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]",children:Be.map((_e,Ot)=>{const tt=ee===_e.product_id,bt=Object.values(oe[_e.product_id]||{}).sort((Ft,Pe)=>Pe.totalAmt-Ft.totalAmt);return u.jsxs(M.Fragment,{children:[u.jsxs("tr",{onClick:()=>Ae(tt?null:_e.product_id),style:{animationDelay:`${Ot*30}ms`},className:`group cursor-pointer transition-all animate-slide-up opacity-0 ${tt?"bg-[var(--surface-muted)]":"hover:bg-[var(--surface-muted)]/30"}`,children:[u.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center",children:tt?u.jsx(Wl,{className:"text-black"}):u.jsx(Ql,{className:"opacity-40"})}),u.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-xs sm:text-base tracking-tight text-[var(--text-primary)]",children:_e.name||_e.name_en}),_e.name_ta&&u.jsx("p",{className:"text-xs font-medium text-[var(--text-secondary)] opacity-70",children:_e.name_ta})]})}),u.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-xs sm:text-base font-bold text-blue-500",children:["",(_e.upiAmt||0).toLocaleString()]}),u.jsx("span",{className:"text-[10px] sm:text-xs font-medium opacity-60",children:_e.upiQty})]})}),u.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-xs sm:text-base font-bold text-amber-500",children:["",(_e.guestAmt||0).toLocaleString()]}),u.jsx("span",{className:"text-[10px] sm:text-xs font-medium opacity-60",children:_e.guestQty})]})}),u.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-xs sm:text-base font-bold text-purple-500",children:["",(_e.freeAmt||0).toLocaleString()]}),u.jsx("span",{className:"text-[10px] sm:text-xs font-medium opacity-60",children:_e.freeQty})]})}),u.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 text-center",children:u.jsx("span",{className:"inline-block px-2 sm:px-3 py-1 bg-[var(--surface-muted)] rounded-lg text-[10px] sm:text-sm font-bold text-[var(--text-primary)]",children:_e.unit_name})}),u.jsxs("td",{className:"px-3 sm:px-6 py-3 sm:py-4 text-right font-bold text-xs sm:text-base text-emerald-500",children:["",(_e.totalAmount||0).toLocaleString()]}),u.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-2 sm:gap-3",children:[u.jsxs("span",{className:"text-[10px] font-bold opacity-40",children:[Math.round(_e.totalAmount/(Math.max(...I.map(Ft=>Ft.totalAmount))||1)*100),"%"]}),u.jsx("div",{className:"w-16 sm:w-24 bg-[var(--surface-muted)] h-2 rounded-full overflow-hidden shadow-inner",children:u.jsx("div",{className:"bg-gradient-to-r from-[var(--brand-primary)] to-amber-500 h-full rounded-full",style:{width:`${Math.min(_e.totalAmount/(Math.max(...I.map(Ft=>Ft.totalAmount))||1)*100,100)}%`}})})]})})]}),tt&&u.jsx("tr",{className:"bg-[var(--surface-muted)]/20 animate-in fade-in slide-in-from-top-2 duration-300",children:u.jsx("td",{colSpan:"8",className:"p-0",children:u.jsxs("div",{className:"px-6 sm:px-10 lg:px-20 py-8 border-l-4 border-[var(--brand-primary)] bg-[var(--surface-card)] shadow-inner",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8 pb-4 border-b border-[var(--border-default)]",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-black uppercase tracking-[0.2em] text-[var(--brand-primary)] mb-1",children:"Staff Performance Breakdown"}),u.jsx("p",{className:"text-xs text-[var(--text-secondary)] opacity-60",children:"Sales distribution across all active payment modes for this item"})]}),u.jsxs("div",{className:"bg-[var(--brand-primary)]/5 px-4 py-2 rounded-2xl border border-[var(--brand-primary)]/10",children:[u.jsx("span",{className:"text-[10px] font-bold uppercase opacity-40 mr-2",children:"Total Sales:"}),u.jsxs("span",{className:"text-sm font-black text-[var(--brand-primary)]",children:["",_e.totalAmount.toLocaleString()]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:bt.length>0?bt.map(Ft=>u.jsxs("div",{className:"bg-[var(--surface-muted)]/30 rounded-3xl p-5 border border-[var(--border-default)]/50 hover:border-[var(--brand-primary)]/30 transition-all group/staff",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gradient-to-br from-[var(--brand-primary)] to-amber-500 flex items-center justify-center text-white font-black text-xs shadow-lg group-hover/staff:scale-110 transition-transform",children:Ft.name.charAt(0)}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--brand-primary)]",children:Ft.empCode}),u.jsx("p",{className:"font-bold text-sm text-[var(--text-primary)]",children:Ft.name})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[10px] font-bold opacity-40 uppercase mb-1",children:"Items Sold"}),u.jsx("p",{className:"text-sm font-black text-[var(--brand-primary)]",children:Ft.totalQty})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-blue-500/5 p-3 rounded-2xl border border-blue-500/10",children:[u.jsx("p",{className:"text-[9px] font-black text-blue-600 uppercase mb-1",children:"UPI"}),u.jsxs("p",{className:"text-xs font-black text-blue-500",children:["",Ft.upiAmt.toLocaleString()]}),u.jsxs("p",{className:"text-[9px] font-bold opacity-40 mt-1",children:[Ft.upiQty," Qty"]})]}),u.jsxs("div",{className:"bg-amber-500/5 p-3 rounded-2xl border border-amber-500/10",children:[u.jsx("p",{className:"text-[9px] font-black text-amber-600 uppercase mb-1",children:"GUEST"}),u.jsxs("p",{className:"text-xs font-black text-amber-500",children:["",Ft.guestAmt.toLocaleString()]}),u.jsxs("p",{className:"text-[9px] font-bold opacity-40 mt-1",children:[Ft.guestQty," Qty"]})]}),u.jsxs("div",{className:"bg-purple-500/5 p-3 rounded-2xl border border-purple-500/10",children:[u.jsx("p",{className:"text-[9px] font-black text-purple-600 uppercase mb-1",children:"FREE"}),u.jsxs("p",{className:"text-xs font-black text-purple-500",children:["",Ft.freeAmt.toLocaleString()]}),u.jsxs("p",{className:"text-[9px] font-bold opacity-40 mt-1",children:[Ft.freeQty," Qty"]})]})]})]},Ft.id)):u.jsxs("div",{className:"col-span-full py-10 flex flex-col items-center justify-center opacity-40",children:[u.jsx($0,{size:40,className:"mb-4"}),u.jsx("p",{className:"text-sm font-bold uppercase tracking-widest",children:"No detailed breakdowns available"})]})})]})})})]},_e.product_id)})})]})})}),i==="orders"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10 mb-10",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsx(Qe,{title:"Order Trends",children:u.jsx("div",{className:"h-[300px] md:h-[450px]",children:u.jsx(Jp,{width:"100%",height:"100%",children:u.jsxs(uae,{data:F,margin:{top:20,right:30,left:0,bottom:20},children:[u.jsx(E5,{strokeDasharray:"3 3",vertical:!1,stroke:e?"#334155":"#e2e8f0"}),u.jsx(O5,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:"bold"},dy:10}),u.jsx(k5,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10}}),u.jsx(lm,{cursor:{fill:"var(--brand-primary)",opacity:.1},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)",backgroundColor:e?"#1e293b":"#fff"}}),u.jsx(uD,{dataKey:"revenue",fill:"var(--brand-primary)",radius:[6,6,6,6],barSize:30})]})})})})}),u.jsx("div",{className:"space-y-8",children:u.jsxs("div",{className:"p-8 rounded-3xl bg-gradient-to-br from-indigo-900 via-blue-900 to-blue-800 text-white shadow-2xl relative overflow-hidden group",children:[u.jsx(vh,{className:"absolute -right-8 -bottom-8 text-white/5 size-40 group-hover:scale-110 transition-transform duration-700"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("p",{className:"text-xs font-black uppercase tracking-widest opacity-60 mb-8 border-b border-white/10 pb-4",children:"Order Analytics"}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-bold uppercase tracking-[0.2em] mb-1 opacity-50",children:"Avg Order Value"}),u.jsxs("p",{className:"text-4xl font-black",children:["",((((Za=_==null?void 0:_.overall)==null?void 0:Za.total)||0)/((_==null?void 0:_.billsCount)||1)).toFixed(0)]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-bold uppercase tracking-[0.2em] mb-1 opacity-50",children:"Peak Performance"}),u.jsx("p",{className:"text-2xl font-black",children:F.length>0?[...F].sort((_e,Ot)=>Ot.revenue-_e.revenue)[0].date:"N/A"})]}),u.jsx("div",{className:"pt-4 border-t border-white/10",children:u.jsxs("div",{className:"flex items-center gap-3 text-emerald-400 font-bold text-sm",children:[u.jsx(iS,{size:20}),u.jsx("span",{children:"Growing 14% vs Prev Period"})]})})]})]})]})})]}),u.jsxs(Qe,{title:"All Orders",children:[u.jsx("div",{className:"overflow-x-auto border border-[var(--border-default)] rounded-3xl overflow-hidden mb-10",children:u.jsxs("table",{className:"w-full border-separate border-spacing-0 min-w-[1200px]",children:[u.jsx("thead",{className:"bg-[var(--brand-primary)] text-[var(--text-inverse)] sticky top-0 z-10 w-full table-header-group",children:u.jsxs("tr",{className:"text-[var(--text-inverse)]",children:[u.jsx("th",{className:"px-6 py-4 text-left text-base font-bold tracking-wider border-r border-black/10",children:"Order Code"}),u.jsxs("th",{className:"px-6 py-4 text-center text-base font-bold tracking-wider border-r border-black/10 relative group",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 cursor-pointer",onClick:()=>Te(!pe),children:[u.jsx("span",{children:"Customer"}),u.jsx(Ac,{className:`w-4 h-4 ${y.role!=="all"?"text-black fill-black":"text-black/50"}`,strokeWidth:3})]}),pe&&u.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 w-40 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-[var(--border-default)] overflow-hidden z-20 animate-in slide-in-from-top-2 fade-in duration-200",children:u.jsx("div",{className:"py-1",children:["all","user","employee","admin"].map(_e=>u.jsxs("button",{onClick:Ot=>{Ot.stopPropagation(),S({...y,role:_e}),Te(!1)},className:`w-full px-4 py-2 text-left text-xs font-bold uppercase tracking-wider hover:bg-[var(--brand-primary)]/10 hover:text-[var(--brand-primary)] transition-colors flex items-center justify-between
                                       ${y.role===_e?"text-[var(--brand-primary)] bg-[var(--brand-primary)]/5":"text-[var(--text-primary)]"}
                                     `,children:[_e==="all"?"All Roles":_e,y.role===_e&&u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[var(--brand-primary)]"})]},_e))})}),pe&&u.jsx("div",{className:"fixed inset-0 z-10 cursor-default",onClick:()=>Te(!1)})]}),u.jsx("th",{className:"px-6 py-4 text-center text-base font-bold tracking-wider border-r border-black/10",children:"Date"}),u.jsx("th",{className:"px-6 py-4 text-center text-base font-bold tracking-wider border-r border-black/10",children:"Unit"}),u.jsx("th",{className:"px-6 py-4 text-center text-base font-bold tracking-wider border-r border-black/10",children:"UPI"}),u.jsx("th",{className:"px-6 py-4 text-center text-base font-bold tracking-wider border-r border-black/10",children:"Guest"}),u.jsx("th",{className:"px-6 py-4 text-center text-base font-bold tracking-wider border-r border-black/10",children:"Free"}),u.jsx("th",{className:"px-6 py-4 text-center text-base font-bold tracking-wider border-r border-black/10",children:"Status"}),u.jsx("th",{className:"px-6 py-4 text-right text-base font-bold tracking-wider",children:"Total Amount"})]})}),u.jsxs("tbody",{className:"divide-y divide-[var(--border-default)]",children:[ce.slice((H-1)*ve,H*ve).map((_e,Ot)=>{var Ft,Pe,mt;(_e.dayBills||[]).reduce((xt,Tt)=>xt+(Tt.items||[]).length,0);let tt=(Ft=_e.user)==null?void 0:Ft.username;if(!tt){const xt=me.find(Tt=>Tt.id===_e.employee_id||Tt.emp_code===_e.emp_code);tt=(xt==null?void 0:xt.username)||_e.emp_code||"Walk-in"}const bt=parseFloat(_e.total_amount||0);return u.jsxs("tr",{style:{animationDelay:`${Ot*30}ms`},className:"hover:bg-[var(--surface-muted)]/30 transition-all animate-slide-up opacity-0",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"flex flex-col",children:u.jsx("span",{className:"font-bold text-base text-[var(--text-primary)]",children:_e.code||`#${_e.id}`})})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("span",{className:"text-sm font-medium text-[var(--text-secondary)]",children:tt})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("span",{className:"text-sm font-medium text-[var(--text-secondary)]",children:new Date(_e.createdAt).toLocaleDateString("en-IN")})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("span",{className:"inline-block px-2 py-0.5 bg-[var(--brand-primary)]/10 text-[var(--brand-primary)] rounded text-[10px] font-bold uppercase",children:((Pe=_e.unit)==null?void 0:Pe.name)||((mt=_e.unit)==null?void 0:mt.code)||"-"})}),u.jsx("td",{className:"px-6 py-4 text-center",children:_e.payment_mode==="UPI"?u.jsxs("span",{className:"font-bold text-base text-blue-500",children:["",bt.toLocaleString("en-IN",{maximumFractionDigits:2})]}):u.jsx("span",{className:"text-sm font-medium opacity-30",children:"-"})}),u.jsx("td",{className:"px-6 py-4 text-center",children:_e.payment_mode==="GUEST"?u.jsxs("span",{className:"font-bold text-base text-amber-500",children:["",bt.toLocaleString("en-IN",{maximumFractionDigits:2})]}):u.jsx("span",{className:"text-sm font-medium opacity-30",children:"-"})}),u.jsx("td",{className:"px-6 py-4 text-center",children:_e.payment_mode==="FREE"?u.jsxs("span",{className:"font-bold text-base text-purple-500",children:["",bt.toLocaleString("en-IN",{maximumFractionDigits:2})]}):u.jsx("span",{className:"text-sm font-medium opacity-30",children:"-"})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("span",{className:`inline-block px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wider ${_e.payment_status==="PAID"?"bg-emerald-500/20 text-emerald-500":"bg-yellow-500/20 text-yellow-500"}`,children:_e.payment_status||"PENDING"})}),u.jsx("td",{className:"px-6 py-4 text-right",children:u.jsxs("p",{className:"font-bold text-base text-[var(--text-primary)]",children:["",bt.toLocaleString("en-IN",{maximumFractionDigits:2})]})})]},_e.id||Ot)}),ce.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:"6",className:"px-6 py-10 text-center opacity-40 font-bold text-sm italic",children:"No orders found for this period."})})]})]})}),ce.length>0&&u.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-between gap-4 border-t border-[var(--border-default)] pt-6",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--brand-primary)]",children:"Orders Report"}),u.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-40",children:["Showing ",(H-1)*ve+1," to"," ",Math.min(H*ve,ce.length)," ","of ",ce.length," orders"]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>je(!le),className:"flex items-center gap-2 px-4 py-2 bg-[var(--surface-muted)] hover:bg-[var(--brand-primary)]/10 border border-[var(--brand-primary)] text-[var(--brand-primary)] rounded-xl text-xs font-bold transition-all shadow-sm",children:[u.jsxs("span",{children:[ve," Pages"]}),u.jsx(Wl,{className:`transition-transform duration-300 ${le?"rotate-180":""}`})]}),le&&u.jsx("div",{className:"absolute bottom-full mb-2 left-0 w-full min-w-[120px] bg-white dark:bg-slate-800 border border-[var(--border-default)] rounded-xl shadow-xl overflow-hidden z-50 animate-in slide-in-from-bottom-2 fade-in duration-200",children:[10,20,50,100].map(_e=>u.jsxs("button",{onClick:()=>{ne(_e),se(1),je(!1)},className:`w-full px-4 py-3 text-left text-xs font-bold hover:bg-[var(--brand-primary)] hover:text-[var(--text-inverse)] transition-colors flex items-center justify-between ${ve===_e?"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)]":"text-[var(--text-primary)]"}`,children:[_e," Pages",ve===_e&&u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[var(--brand-primary)]"})]},_e))})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>se(_e=>Math.max(1,_e-1)),disabled:H===1,className:"px-5 py-2.5 rounded-xl bg-[var(--surface-muted)] hover:bg-[var(--brand-primary)] hover:text-white disabled:opacity-20 disabled:cursor-not-allowed transition-all text-[10px] font-black uppercase tracking-widest shadow-sm",children:"Prev"}),[...Array(Math.ceil(ce.length/ve))].slice(Math.max(0,H-3),Math.min(Math.ceil(ce.length/ve),H+2)).map((_e,Ot,tt)=>{const bt=Math.max(0,H-3)+Ot+1;return u.jsx("button",{onClick:()=>se(bt),className:`w-10 h-10 rounded-xl text-[10px] font-black transition-all ${H===bt?"bg-[var(--brand-primary)] text-white shadow-lg shadow-[var(--brand-primary)]/20 scale-110":"bg-[var(--surface-muted)] hover:bg-[var(--brand-primary)]/10 opacity-60 hover:opacity-100"}`,children:bt},bt)}),u.jsx("button",{onClick:()=>se(_e=>Math.min(Math.ceil(ce.length/ve),_e+1)),disabled:H===Math.ceil(ce.length/ve),className:"px-5 py-2.5 rounded-xl bg-[var(--surface-muted)] hover:bg-[var(--brand-primary)] hover:text-white disabled:opacity-20 disabled:cursor-not-allowed transition-all text-[10px] font-black uppercase tracking-widest shadow-sm",children:"Next"})]})]})]})]})]}),i==="users"&&u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[u.jsx(Qe,{title:"User Demographics",children:u.jsx("div",{className:"h-[350px]",children:u.jsx(Jp,{width:"100%",height:"100%",children:u.jsxs(A_,{children:[u.jsxs(S5,{data:(Y==null?void 0:Y.roles)||[],cx:"50%",cy:"50%",innerRadius:80,outerRadius:110,paddingAngle:10,dataKey:"value",label:({name:_e,percent:Ot})=>`${_e} ${(Ot*100).toFixed(0)}%`,stroke:"none",children:[u.jsx(uf,{fill:"#3b82f6"}),u.jsx(uf,{fill:"#f97316"})]}),u.jsx(lm,{})]})})})}),u.jsx("div",{className:"space-y-10",children:u.jsxs("div",{className:"p-10 rounded-[2.5rem] bg-gradient-to-br from-[#FFF9C4] to-[#FDB813] text-black shadow-2xl relative overflow-hidden group border-4 border-white/20",children:[u.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 group-hover:rotate-12 transition-transform duration-500",children:u.jsx($0,{size:120})}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("p",{className:"text-xs font-black uppercase tracking-[0.3em] mb-4 opacity-60",children:"System Users"}),u.jsx("h4",{className:"text-7xl font-black mb-10 tracking-tighter",children:(Y==null?void 0:Y.total)||0}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[u.jsxs("div",{className:"px-6 py-2.5 bg-black/10 rounded-2xl text-xs font-black uppercase tracking-widest backdrop-blur-md",children:[(Y==null?void 0:Y.active)||0," Active"]}),u.jsxs("div",{className:"px-6 py-2.5 bg-black/5 rounded-2xl text-xs font-black uppercase tracking-widest backdrop-blur-md opacity-60",children:[((Y==null?void 0:Y.total)||0)-((Y==null?void 0:Y.active)||0)," ","Inactive"]})]})]})]})})]}),i==="employees"&&u.jsxs(Qe,{title:"Employee",extra:u.jsx("div",{className:"flex gap-4",children:u.jsxs("button",{onClick:()=>at("Employee Performance",ae,[{header:"Emp ID",key:"employeeId",x:35},{header:"Name",key:"name",x:75},{header:"Orders",key:"ordersCount",x:130},{header:"UPI",key:"upiAmount",x:165},{header:"Guest",key:"guestAmount",x:210},{header:"Free",key:"freeAmount",x:255},{header:"Total Revenue",key:"revenue",x:285}]),className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-semibold px-6 py-2.5 sm:py-3 rounded-xl flex items-center justify-center gap-3 transition-all shadow-[0_4px_15px_rgba(0,0,0,0.2)] hover:scale-105 active:scale-95 text-xs sm:text-sm tracking-wider",children:[u.jsx(hd,{className:"text-lg"}),u.jsx("span",{children:"PDF"})]})}),children:[u.jsx("div",{className:"overflow-x-auto border border-[var(--border-default)] rounded-3xl overflow-hidden mb-6",children:u.jsxs("table",{className:"w-full border-separate border-spacing-0 min-w-[1200px]",children:[u.jsx("thead",{className:"bg-[var(--brand-primary)] text-[var(--text-inverse)] sticky top-0 z-10",children:u.jsxs("tr",{className:"text-[var(--text-inverse)]",children:[u.jsx("th",{className:"px-6 py-4 text-left text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"Employee"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"Unit"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"UPI Collection"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"GUEST Collection"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"FREE Collection"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"Orders"}),u.jsx("th",{className:"px-6 py-4 text-right text-base sm:text-lg font-bold tracking-wider",children:"Total Revenue"})]})}),u.jsxs("tbody",{className:"divide-y divide-[var(--border-default)]",children:[ae.slice((q-1)*ke,q*ke).map((_e,Ot)=>{var tt;return u.jsxs("tr",{style:{animationDelay:`${Ot*30}ms`},className:"hover:bg-[var(--surface-muted)]/30 transition-all animate-slide-up opacity-0",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-xs font-semibold text-[var(--text-secondary)] uppercase tracking-wider",children:_e.employeeId}),u.jsx("span",{className:"font-bold text-base tracking-tight text-[var(--text-primary)]",children:_e.name})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("span",{className:"inline-block px-2 py-0.5 bg-[var(--brand-primary)]/10 text-[var(--brand-primary)] rounded text-[10px] font-bold uppercase",children:_e.unit_name||((tt=_e.unit)==null?void 0:tt.name)||"-"})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-base font-bold text-blue-500",children:["",_e.upiAmount.toLocaleString()]}),u.jsxs("span",{className:"text-xs font-medium opacity-60",children:[_e.upiCount," Bills"]})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-base font-bold text-amber-500",children:["",_e.guestAmount.toLocaleString()]}),u.jsxs("span",{className:"text-xs font-medium opacity-60",children:[_e.guestCount," Bills"]})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-base font-bold text-purple-500",children:["",_e.freeAmount.toLocaleString()]}),u.jsxs("span",{className:"text-xs font-medium opacity-60",children:[_e.freeCount," Bills"]})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("span",{className:"inline-block px-3 py-1 bg-[var(--surface-muted)] rounded-lg text-sm font-bold text-[var(--text-primary)]",children:_e.ordersCount})}),u.jsxs("td",{className:"px-6 py-4 text-right",children:[u.jsxs("p",{className:"font-bold text-base text-emerald-500",children:["",_e.revenue.toLocaleString()]}),u.jsx("div",{className:"flex items-center justify-end gap-2 mt-1",children:u.jsx("div",{className:"w-16 bg-[var(--surface-muted)] h-1 rounded-full overflow-hidden",children:u.jsx("div",{className:"bg-gradient-to-r from-[var(--brand-primary)] to-amber-500 h-full",style:{width:`${Math.min(_e.revenue/(Math.max(...Z.map(bt=>bt.revenue))||1)*100,100)}%`}})})})]})]},_e.id)}),Z.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:"5",className:"px-6 py-10 text-center opacity-40 font-bold text-sm italic",children:"No employee data found for this period."})})]})]})}),Z.length>ke&&u.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-between gap-4 border-t border-[var(--border-default)] pt-6",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--brand-primary)]",children:"Staff Performance Report"}),u.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-40",children:["Showing ",(q-1)*ke+1," to"," ",Math.min(q*ke,ae.length)," ","of ",ae.length," employees"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>ie(_e=>Math.max(1,_e-1)),disabled:q===1,className:"px-5 py-2.5 rounded-xl bg-[var(--surface-muted)] hover:bg-[var(--brand-primary)] hover:text-white disabled:opacity-20 disabled:cursor-not-allowed transition-all text-[10px] font-black uppercase tracking-widest shadow-sm",children:"Prev"}),[...Array(Math.ceil(ae.length/ke))].map((_e,Ot)=>u.jsx("button",{onClick:()=>ie(Ot+1),className:`w-10 h-10 rounded-xl text-[10px] font-black transition-all ${q===Ot+1?"bg-[var(--brand-primary)] text-white shadow-lg shadow-[var(--brand-primary)]/20 scale-110":"bg-[var(--surface-muted)] hover:bg-[var(--brand-primary)]/10 opacity-60 hover:opacity-100"}`,children:Ot+1},Ot+1)),u.jsx("button",{onClick:()=>ie(_e=>Math.min(Math.ceil(ae.length/ke),_e+1)),disabled:q===Math.ceil(ae.length/ke),className:"px-5 py-2.5 rounded-xl bg-[var(--surface-muted)] hover:bg-[var(--brand-primary)] hover:text-white disabled:opacity-20 disabled:cursor-not-allowed transition-all text-[10px] font-black uppercase tracking-widest shadow-sm",children:"Next"})]})]})]}),i==="reconciliation"&&u.jsxs("div",{className:"space-y-10",children:[u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[{id:"UPI",label:"UPI",color:"bg-blue-600",icon:fB},{id:"GUEST",label:"Guest",color:"bg-amber-600",icon:pf},{id:"FREE",label:"Free",color:"bg-purple-600",icon:iB}].map((_e,Ot)=>{var bt;const tt=((bt=_==null?void 0:_.modes)==null?void 0:bt[_e.id])||{total:0,count:0,totalQty:0};return u.jsxs("div",{style:{animationDelay:`${Ot*100}ms`},className:"bg-[var(--surface-card)] border border-[var(--border-default)] p-8 rounded-[2.5rem] flex flex-col items-center justify-center group animate-slide-up opacity-0 shadow-2xl relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[var(--brand-primary)]/5 rounded-full blur-3xl -mr-16 -mt-16"}),u.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center text-white shadow-lg mb-6 ${_e.color}`,children:u.jsx(_e.icon,{size:28})}),u.jsxs("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-40 mb-2",children:[_e.label," Collection"]}),u.jsxs("h4",{className:"text-4xl font-black text-[var(--text-primary)] mb-3 tracking-tighter",children:["",tt.total.toLocaleString()]}),u.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[u.jsxs("div",{className:"px-6 py-2 rounded-xl bg-[var(--surface-main)] text-[10px] font-black  tracking-widest text-[var(--brand-primary)] border border-[var(--border-default)]/50 text-center",children:[tt.count||0," Bills Issued"]}),u.jsxs("div",{className:"px-6 py-2 rounded-xl bg-[var(--brand-primary)]/10 text-[10px] font-black tracking-widest text-[var(--brand-primary)] border border-[var(--brand-primary)]/20 text-center font-bold",children:[tt.totalQty||0," Items Sold"]})]})]},_e.id)})}),u.jsx(Qe,{title:"Overall Payment Summary",extra:u.jsxs("button",{onClick:()=>{var Yt;const _e=new br("l","mm","a4"),Ot=_e.internal.pageSize.getWidth();_e.internal.pageSize.getHeight();const tt=14,bt=Ot-tt*2;_e.setFont("helvetica","bold"),_e.setFontSize(22),_e.setTextColor(30,41,59),_e.text("PAYMENT SUMMARY REPORT",tt,22),_e.setDrawColor(226,232,240),_e.line(tt,28,Ot-tt,28),_e.setFontSize(10),_e.setTextColor(71,85,105),_e.text(`Generated On: ${new Date().toLocaleString()}`,tt,38),_e.text(`Period: ${y.start_date} to ${y.end_date}`,tt,43),_e.setFontSize(14),_e.setTextColor(0,0,0),_e.text("OVERALL SUMMARY",tt,55);let Ft=62;const Pe=30,mt=35,xt=60,Tt=bt-Pe-mt-xt,ht=p.length>0?Tt/p.length:Tt;_e.setFillColor(241,245,249),_e.rect(tt,Ft,bt,10,"F"),_e.setFontSize(8),_e.setFont("helvetica","bold"),_e.setTextColor(30,41,59);let wt=tt+2;_e.text("Mode",wt,Ft+7),wt+=Pe,p.forEach(Vt=>{_e.text(Vt.name.substring(0,15),wt+ht/2,Ft+7,{align:"center"}),wt+=ht}),_e.text("Items Sold",wt+xt/2,Ft+7,{align:"center"}),_e.text("Total Amount",Ot-tt-2,Ft+7,{align:"right"}),Ft+=10,["UPI","GUEST","FREE"].forEach(Vt=>{var cn,Nt,ui,Rr;const Xt=((Nt=(cn=_==null?void 0:_.modes)==null?void 0:cn[Vt])==null?void 0:Nt.total)||0;(Rr=(ui=_==null?void 0:_.modes)==null?void 0:ui[Vt])!=null&&Rr.totalQty;const er=I.filter(Hn=>(Hn[`${Vt.toLowerCase()}Qty`]||0)>0).map(Hn=>`${Hn.name_en||Hn.name} (${Hn[`${Vt.toLowerCase()}Qty`]})`).join(", ");_e.setFont("helvetica","normal"),_e.setTextColor(0,0,0),_e.setFontSize(8),wt=tt+2,_e.text(Vt,wt,Ft+7),wt+=Pe,p.forEach(Hn=>{const Lo=V.find(Mr=>Mr.unit_id===Hn.id),qr=Lo&&Lo[`${Vt.toLowerCase()}Total`]||0,Lr=qr>0?qr.toLocaleString():"-";_e.text(Lr,wt+ht/2,Ft+7,{align:"center"}),wt+=ht});const Zr=_e.splitTextToSize(er||"-",xt-4);_e.text(Zr,wt+2,Ft+7),_e.text("INR "+Xt.toLocaleString(),Ot-tt-2,Ft+7,{align:"right"});const _n=Math.max(10,Zr.length*4+2);_e.setDrawColor(241,245,249),_e.line(tt,Ft+_n,Ot-tt,Ft+_n),Ft+=_n+2}),_e.setFont("helvetica","bold"),_e.setFillColor(248,250,252),_e.rect(tt,Ft,bt,12,"F"),wt=tt+2,_e.text("GRAND TOTAL",wt,Ft+8),wt+=Pe,p.forEach(Vt=>{const Xt=V.find(Zr=>Zr.unit_id===Vt.id),er=(Xt==null?void 0:Xt.revenue)||0;_e.text(er>0?er.toLocaleString():"-",wt+ht/2,Ft+8,{align:"center"}),wt+=ht}),wt+=xt,_e.setTextColor(22,163,74),_e.text("INR "+(((Yt=_==null?void 0:_.overall)==null?void 0:Yt.total)||0).toLocaleString(),Ot-tt-2,Ft+8,{align:"right"}),_e.save(`reconciliation_report_${y.start_date}.pdf`)},className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-black px-8 py-3 rounded-2xl flex items-center justify-center gap-3 transition-all shadow-[0_4px_25px_rgba(0,0,0,0.2)] hover:scale-105 active:scale-95 text-[10px] uppercase tracking-[0.2em]",children:[u.jsx(hd,{className:"text-base"}),u.jsx("span",{children:"Export PDF"})]}),children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"bg-[var(--surface-main)]",children:u.jsxs("tr",{className:"border-b border-[var(--border-default)]",children:[u.jsx("th",{className:"py-4 px-4 sm:px-8 text-[10px] sm:text-xs font-black uppercase tracking-widest text-[var(--text-primary)] opacity-80",children:"Payment Mode"}),p.map(_e=>u.jsx("th",{className:"py-4 px-4 text-center text-[10px] sm:text-xs font-black uppercase tracking-widest text-[var(--text-primary)] opacity-80 whitespace-nowrap",children:_e.name},_e.id)),u.jsx("th",{className:"py-4 px-4 text-center text-[10px] sm:text-xs font-black uppercase tracking-widest text-[var(--text-primary)] opacity-80",children:"Items Sold"}),u.jsx("th",{className:"py-4 px-4 sm:px-8 text-right text-[10px] sm:text-xs font-black uppercase tracking-widest text-[var(--text-primary)] opacity-80",children:"Total Amount"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]",children:["UPI","GUEST","FREE"].map(_e=>{var Pe,mt,xt,Tt;const Ot={UPI:"text-blue-500",FREE:"text-purple-500",GUEST:"text-amber-500"},tt=((mt=(Pe=_==null?void 0:_.modes)==null?void 0:Pe[_e])==null?void 0:mt.total)||0,bt=((Tt=(xt=_==null?void 0:_.modes)==null?void 0:xt[_e])==null?void 0:Tt.totalQty)||0,Ft=I.filter(ht=>(ht[`${_e.toLowerCase()}Qty`]||0)>0);return u.jsxs("tr",{className:"group hover:bg-[var(--surface-main)] transition-colors",children:[u.jsx("td",{className:"py-4 px-4 sm:px-8 font-black uppercase tracking-tight text-sm sm:text-base",children:u.jsx("span",{className:Ot[_e],children:_e})}),p.map(ht=>{const wt=V.find(Vt=>Vt.unit_id===ht.id),Yt=wt&&wt[`${_e.toLowerCase()}Total`]||0;return u.jsx("td",{className:"py-4 px-4 text-center font-bold text-sm sm:text-base text-[var(--text-primary)]",children:Yt>0?`${Yt.toLocaleString()}`:"-"},ht.id)}),u.jsx("td",{className:"py-6 px-4 max-w-[300px]",children:u.jsx("div",{className:"flex flex-wrap gap-1.5 justify-center",children:Ft.length>0?Ft.map(ht=>u.jsxs("div",{className:"flex items-center gap-1.5 bg-white/5 py-1 px-2.5 rounded-lg border border-white/10 group-hover:border-[var(--brand-primary)]/20 transition-all",children:[u.jsx("span",{className:"text-[10px] font-bold text-[var(--text-primary)] whitespace-nowrap",children:ht.name_en||ht.name}),u.jsx("span",{className:`text-[9px] font-black px-1.5 py-0.5 rounded ${Ot[_e]} bg-black/20`,children:ht[`${_e.toLowerCase()}Qty`]})]},ht.product_id)):u.jsx("span",{className:"text-[10px] italic opacity-30",children:"No items"})})}),u.jsx("td",{className:"py-4 px-4 sm:px-8 text-right font-black text-lg sm:text-xl",children:u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsxs("span",{children:["",tt.toLocaleString()]}),u.jsxs("span",{className:"text-[10px] opacity-40 uppercase tracking-widest",children:[bt," items"]})]})})]},_e)})}),u.jsx("tfoot",{className:"bg-[var(--surface-muted)]/50 border-t-2 border-[var(--border-default)]",children:u.jsxs("tr",{children:[u.jsx("td",{className:"py-5 px-4 sm:px-8 font-black uppercase tracking-widest text-sm sm:text-base text-[var(--text-primary)]",children:"GRAND TOTAL"}),p.map(_e=>{var tt,bt;const Ot=V.find(Ft=>Ft.unit_id===_e.id);return u.jsx("td",{className:"py-5 px-4 text-center align-top",children:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("span",{className:"font-black text-lg sm:text-xl text-[var(--text-primary)]",children:["",((Ot==null?void 0:Ot.revenue)||0).toLocaleString()]}),u.jsxs("div",{className:"flex flex-col gap-0.5 items-center",children:[(tt=Ot==null?void 0:Ot.itemsList)==null?void 0:tt.slice(0,3).map((Ft,Pe)=>u.jsxs("span",{className:"text-[9px] font-bold opacity-30 whitespace-nowrap uppercase tracking-tighter",children:[Ft.name," (",Ft.quantity,")"]},Pe)),((bt=Ot==null?void 0:Ot.itemsList)==null?void 0:bt.length)>3&&u.jsxs("span",{className:"text-[8px] font-black opacity-20 uppercase",children:["+",Ot.itemsList.length-3," more"]})]})]})},_e.id)}),u.jsx("td",{className:"py-5 px-4 text-center align-top",children:u.jsx("div",{className:"flex flex-wrap gap-1 justify-center max-w-[200px] mx-auto opacity-40",children:I.map(_e=>u.jsxs("span",{className:"text-[8px] font-bold border border-white/10 px-1.5 rounded bg-black/5 whitespace-nowrap",children:[_e.name_en||_e.name," ",_e.totalQty]},_e.product_id))})}),u.jsx("td",{className:"py-5 px-4 sm:px-8 text-right align-top",children:u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsxs("span",{className:"font-black text-2xl sm:text-3xl text-[var(--brand-primary)]",children:["",(((Jn=_==null?void 0:_.overall)==null?void 0:Jn.total)||0).toLocaleString()]}),u.jsxs("span",{className:"text-[10px] font-bold opacity-60 uppercase tracking-widest mt-2",children:[((xa=_==null?void 0:_.overall)==null?void 0:xa.totalQty)||0," ITEMS TOTAL"]})]})})]})})]})})}),u.jsxs("div",{className:"bg-[var(--surface-card)] p-6 sm:p-8 rounded-2xl border border-[var(--border-default)] shadow-sm mb-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[u.jsx("div",{className:"w-1 h-6 bg-[#facc15] rounded-full shadow-[0_0_10px_rgba(250,204,21,0.4)]"}),u.jsx("h2",{className:"text-[26px] font-bold tracking-[0.2em] text-[#facc15] uppercase",children:"ITEMS"})]}),u.jsx("p",{className:"text-base font-bold text-white ml-4",children:"Top Items"})]}),u.jsx("button",{onClick:ue,className:"bg-gradient-to-r from-orange-500 to-amber-500 text-black font-bold px-6 py-2.5 rounded-lg shadow-lg hover:shadow-orange-500/20 transition-all flex items-center gap-2 whitespace-nowrap",children:"Download PDF"})]}),u.jsx("div",{className:"overflow-x-auto -mx-2 sm:mx-0 rounded-t-xl overflow-hidden shadow-sm",children:u.jsxs("table",{className:"w-full text-left min-w-[800px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-[#facc15] text-black text-sm font-bold tracking-wide",children:[u.jsx("th",{className:"py-4 px-6 text-left w-20",children:"S.No"}),u.jsx("th",{className:"py-4 px-6 text-left",children:"Item Name"}),u.jsx("th",{className:"py-4 px-6 text-center",children:"Qty"}),u.jsx("th",{className:"py-4 px-6 text-right",children:"Amount"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)] bg-[var(--surface-card)]",children:Array.isArray(I)&&I.map((_e,Ot)=>u.jsxs("tr",{className:"group hover:bg-[var(--surface-muted)] transition-colors text-sm",children:[u.jsx("td",{className:"py-4 px-6 text-[var(--text-primary)] opacity-70",children:Ot+1}),u.jsx("td",{className:"py-4 px-6 text-[var(--text-primary)] font-medium",children:_e.name_en||_e.name||"Unknown"}),u.jsx("td",{className:"py-4 px-6 text-center text-[var(--text-primary)]",children:_e.totalQty}),u.jsxs("td",{className:"py-4 px-6 text-right text-[var(--text-primary)]",children:["INR ",(_e.totalAmount||0).toFixed(2)]})]},_e.product_id))}),u.jsx("tfoot",{className:"bg-[var(--surface-main)]",children:u.jsxs("tr",{children:[u.jsx("td",{className:"py-5 px-6"}),u.jsx("td",{className:"py-5 px-6 text-right font-black text-lg text-[var(--text-primary)] uppercase tracking-tight",children:"Grand Total:"}),u.jsx("td",{className:"py-5 px-6 text-center font-black text-lg text-[var(--text-primary)]",children:I.reduce((_e,Ot)=>_e+(Ot.totalQty||0),0)}),u.jsxs("td",{className:"py-5 px-6 text-right font-black text-lg text-emerald-500",children:["INR ",I.reduce((_e,Ot)=>_e+(Ot.totalAmount||0),0).toFixed(2)]})]})})]})}),I.length===0&&u.jsx("div",{className:"py-20 text-center text-slate-500 border-2 border-dashed border-slate-800/50 rounded-2xl bg-black/10 mt-4",children:u.jsx("p",{className:"text-lg font-medium opacity-50",children:"No item sales data found."})})]})]}),i==="units"&&u.jsxs(u.Fragment,{children:[W&&u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[u.jsxs("div",{className:"bg-[var(--surface-card)] border border-[var(--border-default)] p-6 rounded-3xl shadow-sm transition-all duration-300 md:hover:-translate-y-1.5 md:hover:shadow-xl group relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[var(--brand-primary)]/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),u.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-50 mb-1 relative z-10",children:"Unit Revenue"}),u.jsxs("h4",{className:"text-2xl font-bold text-[var(--brand-primary)] relative z-10",children:["",((Wr=W.total_revenue)==null?void 0:Wr.toLocaleString())||0]})]}),u.jsxs("div",{className:"bg-[var(--surface-card)] border border-[var(--border-default)] p-6 rounded-3xl shadow-sm transition-all duration-300 md:hover:-translate-y-1.5 md:hover:shadow-xl group relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),u.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-50 mb-1 relative z-10",children:"Unit Orders"}),u.jsx("h4",{className:"text-2xl font-bold relative z-10",children:W.total_orders||0})]}),u.jsxs("div",{className:"bg-[var(--surface-card)] border border-[var(--border-default)] p-6 rounded-3xl shadow-sm transition-all duration-300 md:hover:-translate-y-1.5 md:hover:shadow-xl group relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),u.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-50 mb-1 relative z-10",children:"Unit Items"}),u.jsx("h4",{className:"text-2xl font-bold relative z-10",children:W.total_items||0})]}),u.jsxs("div",{className:"bg-[var(--surface-card)] border border-[var(--border-default)] p-6 rounded-3xl shadow-sm transition-all duration-300 md:hover:-translate-y-1.5 md:hover:shadow-xl group relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),u.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-50 mb-1 relative z-10",children:"Units Active"}),u.jsx("h4",{className:"text-2xl font-bold relative z-10",children:W.units_reporting||0})]})]}),u.jsx(Qe,{title:"Unit-wise",extra:u.jsxs("button",{onClick:()=>at("Unit Performance",nt,[{header:"Unit Name",key:"name",x:35},{header:"Orders",key:"orders",x:130},{header:"Revenue",key:"revenue",x:220}]),className:"w-full sm:w-auto bg-[var(--brand-primary)] text-white border border-transparent hover:bg-white hover:text-[var(--brand-primary)] hover:border-[var(--brand-primary)] font-semibold px-6 py-2.5 sm:py-3 rounded-xl flex items-center justify-center gap-3 transition-all shadow-[0_4px_15px_rgba(0,0,0,0.2)] hover:scale-105 active:scale-95 text-xs sm:text-sm tracking-wider",children:[u.jsx(hd,{className:"text-lg"}),u.jsx("span",{children:"PDF"})]}),children:u.jsx("div",{className:"overflow-x-auto border border-[var(--border-default)] rounded-3xl overflow-hidden mb-6",children:u.jsxs("table",{className:"w-full border-separate border-spacing-0 min-w-[1200px]",children:[u.jsx("thead",{className:"bg-[var(--brand-primary)] text-[var(--text-inverse)] sticky top-0 z-10",children:u.jsxs("tr",{className:"text-[var(--text-inverse)]",children:[u.jsx("th",{className:"px-6 py-4 text-left text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"Unit Name"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"UPI (Amt/Bills)"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"GUEST (Amt/Bills)"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"FREE (Amt/Bills)"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"Bills Done"}),u.jsx("th",{className:"px-6 py-4 text-center text-base sm:text-lg font-bold tracking-wider border-r border-black/10",children:"Items Sold"}),u.jsx("th",{className:"px-6 py-4 text-right text-base sm:text-lg font-bold tracking-wider",children:"Revenue"})]})}),u.jsx("tbody",{className:"divide-y divide-[var(--border-default)]",children:nt.map((_e,Ot)=>{var tt,bt,Ft,Pe;return u.jsxs("tr",{style:{animationDelay:`${Ot*30}ms`},className:"hover:bg-[var(--surface-muted)]/30 transition-all animate-slide-up opacity-0",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-base tracking-tight text-[var(--text-primary)] uppercase",children:_e.name}),u.jsx("p",{className:"text-xs font-medium text-[var(--text-secondary)] mt-1",children:"Terminal Active"})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-base font-bold text-emerald-500",children:["",(tt=_e.cashTotal)==null?void 0:tt.toLocaleString()]}),u.jsxs("span",{className:"text-xs font-medium opacity-60",children:[_e.cashCount," Bills"]})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-base font-bold text-blue-500",children:["",(bt=_e.upiTotal)==null?void 0:bt.toLocaleString()]}),u.jsxs("span",{className:"text-xs font-medium opacity-60",children:[_e.upiCount," Bills"]})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-base font-bold text-amber-500",children:["",(Ft=_e.guestTotal)==null?void 0:Ft.toLocaleString()]}),u.jsxs("span",{className:"text-xs font-medium opacity-60",children:[_e.guestCount," Bills"]})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("span",{className:"text-base font-bold text-purple-500",children:["",(Pe=_e.freeTotal)==null?void 0:Pe.toLocaleString()]}),u.jsxs("span",{className:"text-xs font-medium opacity-60",children:[_e.freeCount," Bills"]})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-base font-bold",children:_e.orders}),u.jsx("span",{className:"text-[10px] font-bold uppercase opacity-40",children:"Orders"})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-base font-bold text-blue-500",children:_e.items}),u.jsx("span",{className:"text-[10px] font-bold uppercase opacity-40",children:"Items"})]})}),u.jsxs("td",{className:"px-6 py-4 text-right",children:[u.jsxs("p",{className:"font-bold text-base text-emerald-500",children:["",_e.revenue.toLocaleString()]}),u.jsxs("p",{className:"text-xs font-medium opacity-60",children:["Avg: ",(_e.revenue/(_e.orders||1)).toFixed(0)]})]})]},_e.unit_id)})})]})})})]})]})]})})},id=e=>{const t=Ia.c(9),{title:r,children:n,isDark:a}=e,i=`text-lg sm:text-xl font-semibold ${a?"text-amber-300":"text-amber-600"}`;let c;t[0]!==i||t[1]!==r?(c=u.jsx("h2",{className:i,children:r}),t[0]=i,t[1]=r,t[2]=c):c=t[2];const f=`text-sm sm:text-base leading-relaxed ${a?"text-slate-200":"text-slate-700"}`;let m;t[3]!==n||t[4]!==f?(m=u.jsx("div",{className:f,children:n}),t[3]=n,t[4]=f,t[5]=m):m=t[5];let p;return t[6]!==c||t[7]!==m?(p=u.jsxs("section",{className:"space-y-3",children:[c,m]}),t[6]=c,t[7]=m,t[8]=p):p=t[8],p},Aie=()=>{const e=Ia.c(29),{isDark:t}=bi(),r=Ha(),n=`min-h-screen ${t?"bg-slate-950":"bg-slate-100"} pb-16`;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx("div",{className:"absolute inset-0 max-w-3xl bg-gradient-to-br from-amber-400/10 via-indigo-500/10 to-sky-500/10 blur-3xl pointer-events-none"}),e[0]=a):a=e[0];const i=`relative rounded-3xl border ${t?"border-slate-800 bg-slate-900/80":"border-gray-200 bg-white"} shadow-2xl shadow-amber-500/10 p-6 sm:p-10 space-y-8`;let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-amber-400",children:"Policy"}),u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold",children:"Terms & Conditions"})]}),e[1]=c):c=e[1];let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=u.jsx("div",{className:"text-xs sm:text-sm px-3 py-2 rounded-full border border-amber-300/40 text-amber-200 bg-amber-500/10",children:"Last updated on Dec 8, 2025"}),e[2]=f):f=e[2];let m;e[3]!==r?(m=()=>r("/login"),e[3]=r,e[4]=m):m=e[4];const p=`w-12 h-12 rounded-full flex items-center justify-center transition-all ${t?"bg-slate-800 hover:bg-slate-700 text-slate-300 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-900"}`;let x;e[5]===Symbol.for("react.memo_cache_sentinel")?(x=u.jsx(To,{size:28}),e[5]=x):x=e[5];let y;e[6]!==m||e[7]!==p?(y=u.jsxs("div",{className:"flex flex-wrap items-center gap-3 justify-between",children:[c,u.jsxs("div",{className:"flex items-center gap-3",children:[f,u.jsx("button",{onClick:m,className:p,"aria-label":"Close",children:x})]})]}),e[6]=m,e[7]=p,e[8]=y):y=e[8];const S=`text-sm sm:text-base max-w-3xl p-4 rounded-xl border-l-4 ${t?"bg-amber-500/10 border-amber-400 text-slate-200":"bg-amber-50 border-amber-500 text-slate-700"}`;let N;e[9]===Symbol.for("react.memo_cache_sentinel")?(N=u.jsx("p",{className:"leading-relaxed",children:"These terms govern your use of our canteen ordering app for tea, coffee, and light snacks. By browsing or placing an order, you agree to the terms below."}),e[9]=N):N=e[9];let j;e[10]!==S?(j=u.jsx("div",{className:S,children:N}),e[10]=S,e[11]=j):j=e[11];let _;e[12]!==j||e[13]!==y?(_=u.jsxs("header",{className:"space-y-2",children:[y,j]}),e[12]=j,e[13]=y,e[14]=_):_=e[14];let T;e[15]===Symbol.for("react.memo_cache_sentinel")?(T=u.jsx(id,{title:"Who we are",children:"The service is operated by PRITHVI INNER WEARS PRIVATE LIMITED from 5/178 D Mangalam Road, Sultanpettai Mangalam, Vamjipalayam, Tirupur, Coimbatore, Tamil Nadu 641603. References to we, us, or our refer to this operator. References to you or your refer to anyone using the app or placing an order."}),e[15]=T):T=e[15];let I;e[16]===Symbol.for("react.memo_cache_sentinel")?(I=u.jsx(id,{title:"Using the app",children:u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Content, menus, prices, and timings may change without notice."}),u.jsx("li",{children:"Allergens: beverages may contain milk, sugar, and flavorings; ask if unsure before ordering."}),u.jsx("li",{children:"You are responsible for ensuring the order meets your needs and dietary preferences."}),u.jsx("li",{children:"Unauthorized use, tampering, or misuse of the app is prohibited."})]})}),e[16]=I):I=e[16];let R;e[17]===Symbol.for("react.memo_cache_sentinel")?(R=u.jsx(id,{title:"Orders & payment",children:u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Orders are prepared shortly after confirmation; preparation starts once payment succeeds."}),u.jsx("li",{children:"Payment must be completed in the app using the available methods."}),u.jsx("li",{children:"Once preparation has started, orders generally cannot be modified."})]})}),e[17]=R):R=e[17];let F;e[18]===Symbol.for("react.memo_cache_sentinel")?(F=u.jsxs("div",{className:"grid gap-6",children:[T,I,R,u.jsx(id,{title:"Pickup & delivery",children:u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Pickup is at the designated canteen counter during operating hours."}),u.jsx("li",{children:"If on-premise delivery is offered, it is limited to the specified campus/office area and subject to staff availability."}),u.jsx("li",{children:"We are not liable for delays caused by events outside our control."})]})}),u.jsx(id,{title:"Cancellations & refunds",children:"Because beverages are prepared fresh, cancellation is only possible until preparation begins. Approved refunds will be issued to the original payment method per our Cancellation & Refund Policy."}),u.jsx(id,{title:"Intellectual property",children:"All branding, design, and content in the app are owned or licensed by us. Do not reproduce or reuse without written consent."}),u.jsx(id,{title:"Liability",children:"To the fullest extent permitted by law, we disclaim warranties regarding accuracy, availability, or fitness for a particular purpose. Our liability is limited to the amount you paid for the affected order."}),u.jsx(id,{title:"Disputes & contact",children:"These terms are governed by the laws of India. For questions or concerns, contact us at 8056672405 or customercare@prithvimail.com."})]}),e[18]=F):F=e[18];let G;e[19]===Symbol.for("react.memo_cache_sentinel")?(G=u.jsx(Ii,{to:"/policies/privacy",className:"px-4 py-3 rounded-xl bg-amber-400 text-slate-950 font-semibold shadow-lg shadow-amber-500/30 hover:translate-y-[-1px] transition-transform",children:"View Privacy Policy"}),e[19]=G):G=e[19];const Y=`px-4 py-3 rounded-xl border ${t?"border-slate-700 text-slate-200 hover:border-amber-300":"border-gray-300 text-gray-800 hover:border-gray-500"} transition-all`;let J;e[20]!==Y?(J=u.jsxs("div",{className:"flex flex-wrap gap-3",children:[G,u.jsx(Ii,{to:"/policies/refund",className:Y,children:"Refund Policy"})]}),e[20]=Y,e[21]=J):J=e[21];let V;e[22]!==_||e[23]!==J||e[24]!==i?(V=u.jsxs("div",{className:"relative max-w-5xl mx-auto px-4 sm:px-6 pt-10 sm:pt-14",children:[a,u.jsxs("div",{className:i,children:[_,F,J]})]}),e[22]=_,e[23]=J,e[24]=i,e[25]=V):V=e[25];let $;return e[26]!==n||e[27]!==V?($=u.jsx(no,{children:u.jsx("div",{className:n,children:V})}),e[26]=n,e[27]=V,e[28]=$):$=e[28],$},sd=e=>{const t=Ia.c(9),{title:r,children:n,isDark:a}=e,i=`text-lg sm:text-xl font-semibold ${a?"text-emerald-300":"text-emerald-600"}`;let c;t[0]!==i||t[1]!==r?(c=u.jsx("h2",{className:i,children:r}),t[0]=i,t[1]=r,t[2]=c):c=t[2];const f=`text-sm sm:text-base leading-relaxed ${a?"text-slate-200":"text-slate-700"}`;let m;t[3]!==n||t[4]!==f?(m=u.jsx("div",{className:f,children:n}),t[3]=n,t[4]=f,t[5]=m):m=t[5];let p;return t[6]!==c||t[7]!==m?(p=u.jsxs("section",{className:"space-y-3",children:[c,m]}),t[6]=c,t[7]=m,t[8]=p):p=t[8],p},Nie=()=>{const e=Ia.c(31),{isDark:t}=bi(),r=Ha(),n=`min-h-screen ${t?"bg-slate-950":"bg-slate-100"} pb-16`;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx("div",{className:"absolute inset-0 max-w-3xl bg-gradient-to-br from-emerald-400/10 via-cyan-500/10 to-blue-500/10 blur-3xl pointer-events-none"}),e[0]=a):a=e[0];const i=`relative rounded-3xl border ${t?"border-slate-800 bg-slate-900/80":"border-gray-200 bg-white"} shadow-2xl shadow-emerald-500/10 p-6 sm:p-10 space-y-8`;let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-emerald-400",children:"Policy"}),u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold",children:"Privacy Policy"})]}),e[1]=c):c=e[1];let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=u.jsx("div",{className:"text-xs sm:text-sm px-3 py-2 rounded-full border border-emerald-300/40 text-emerald-200 bg-emerald-500/10",children:"Last updated on Dec 8, 2025"}),e[2]=f):f=e[2];let m;e[3]!==r?(m=()=>r("/login"),e[3]=r,e[4]=m):m=e[4];const p=`w-12 h-12 rounded-full flex items-center justify-center transition-all ${t?"bg-slate-800 hover:bg-slate-700 text-slate-300 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-900"}`;let x;e[5]===Symbol.for("react.memo_cache_sentinel")?(x=u.jsx(To,{size:28}),e[5]=x):x=e[5];let y;e[6]!==m||e[7]!==p?(y=u.jsxs("div",{className:"flex flex-wrap items-center gap-3 justify-between",children:[c,u.jsxs("div",{className:"flex items-center gap-3",children:[f,u.jsx("button",{onClick:m,className:p,"aria-label":"Close",children:x})]})]}),e[6]=m,e[7]=p,e[8]=y):y=e[8];const S=`text-sm sm:text-base max-w-3xl ${t?"text-slate-200":"text-slate-700"}`;let N;e[9]!==S?(N=u.jsx("p",{className:S,children:"This policy explains how we collect, use, and safeguard information when you use our canteen ordering app for tea, coffee, and related items."}),e[9]=S,e[10]=N):N=e[10];let j;e[11]!==N||e[12]!==y?(j=u.jsxs("header",{className:"space-y-2",children:[y,N]}),e[11]=N,e[12]=y,e[13]=j):j=e[13];let _;e[14]===Symbol.for("react.memo_cache_sentinel")?(_=u.jsx(sd,{title:"Information we collect",children:u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Account details: name, phone, email, and organization (if applicable)."}),u.jsx("li",{children:"Order details: items, preferences (e.g., sugar/milk choices), and transaction IDs."}),u.jsx("li",{children:"Usage data: device info, browser type, IP, and interaction logs for troubleshooting and improvements."}),u.jsx("li",{children:"Support interactions: messages and feedback shared with us."})]})}),e[14]=_):_=e[14];let T,I,R,F,G;e[15]===Symbol.for("react.memo_cache_sentinel")?(T=u.jsx(sd,{title:"How we use data",children:u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Process and fulfill orders, including payment confirmation and pickup/delivery updates."}),u.jsx("li",{children:"Improve menu, service speed, and app reliability."}),u.jsx("li",{children:"Send service-related notifications; occasional offers are sent only with your consent."}),u.jsx("li",{children:"Detect and prevent fraud or misuse."})]})}),I=u.jsx(sd,{title:"Sharing",children:"We do not sell your data. We share only with essential service providers (e.g., payment processors, analytics tools) under confidentiality obligations, or when required by law."}),R=u.jsx(sd,{title:"Cookies & tracking",children:"We use cookies or similar technologies to keep you signed in, remember preferences, and measure usage. You can adjust browser settings to limit cookies, but some features may not work as expected."}),F=u.jsx(sd,{title:"Data retention",children:"We retain order and account records for operational, accounting, and legal requirements. When data is no longer needed, we delete or anonymize it where feasible."}),G=u.jsx(sd,{title:"Security",children:"We use reasonable technical and organizational measures to protect information. No system is fully secure, so please use strong passwords and keep your device protected."}),e[15]=T,e[16]=I,e[17]=R,e[18]=F,e[19]=G):(T=e[15],I=e[16],R=e[17],F=e[18],G=e[19]);let Y;e[20]===Symbol.for("react.memo_cache_sentinel")?(Y=u.jsxs("div",{className:"grid gap-6",children:[_,T,I,R,F,G,u.jsx(sd,{title:"Your choices",children:u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Update or correct your profile information within the app or by contacting support."}),u.jsx("li",{children:"Opt out of promotional messages via provided unsubscribe options."}),u.jsx("li",{children:"Request deletion of your account; some records may be retained as required by law."})]})}),u.jsx(sd,{title:"Contact",children:"For privacy questions or requests, reach us at customercare@prithvimail.com or 8056672405, or write to 5/178 D Mangalam Road, Sultanpettai Mangalam, Vamjipalayam, Tirupur, Coimbatore, Tamil Nadu 641603."})]}),e[20]=Y):Y=e[20];let J;e[21]===Symbol.for("react.memo_cache_sentinel")?(J=u.jsx(Ii,{to:"/policies/terms",className:"px-4 py-3 rounded-xl bg-emerald-400 text-slate-950 font-semibold shadow-lg shadow-emerald-500/30 hover:translate-y-[-1px] transition-transform",children:"Back to Terms"}),e[21]=J):J=e[21];const V=`px-4 py-3 rounded-xl border ${t?"border-slate-700 text-slate-200 hover:border-emerald-300":"border-gray-300 text-gray-800 hover:border-gray-500"} transition-all`;let $;e[22]!==V?($=u.jsxs("div",{className:"flex flex-wrap gap-3",children:[J,u.jsx(Ii,{to:"/policies/refund",className:V,children:"Refund Policy"})]}),e[22]=V,e[23]=$):$=e[23];let W;e[24]!==j||e[25]!==i||e[26]!==$?(W=u.jsxs("div",{className:"relative max-w-5xl mx-auto px-4 sm:px-6 pt-10 sm:pt-14",children:[a,u.jsxs("div",{className:i,children:[j,Y,$]})]}),e[24]=j,e[25]=i,e[26]=$,e[27]=W):W=e[27];let Ne;return e[28]!==n||e[29]!==W?(Ne=u.jsx(no,{children:u.jsx("div",{className:n,children:W})}),e[28]=n,e[29]=W,e[30]=Ne):Ne=e[30],Ne},G0=e=>{const t=Ia.c(9),{title:r,children:n,isDark:a}=e,i=`text-lg sm:text-xl font-semibold ${a?"text-orange-300":"text-orange-600"}`;let c;t[0]!==i||t[1]!==r?(c=u.jsx("h2",{className:i,children:r}),t[0]=i,t[1]=r,t[2]=c):c=t[2];const f=`text-sm sm:text-base leading-relaxed ${a?"text-slate-200":"text-slate-700"}`;let m;t[3]!==n||t[4]!==f?(m=u.jsx("div",{className:f,children:n}),t[3]=n,t[4]=f,t[5]=m):m=t[5];let p;return t[6]!==c||t[7]!==m?(p=u.jsxs("section",{className:"space-y-3",children:[c,m]}),t[6]=c,t[7]=m,t[8]=p):p=t[8],p},Sie=()=>{const e=Ia.c(25),{isDark:t}=bi(),r=Ha(),n=`min-h-screen ${t?"bg-slate-950":"bg-slate-100"} pb-16`;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx("div",{className:"absolute inset-0 max-w-3xl bg-gradient-to-br from-orange-400/15 via-amber-400/10 to-pink-400/10 blur-3xl pointer-events-none"}),e[0]=a):a=e[0];const i=`relative rounded-3xl border ${t?"border-slate-800 bg-slate-900/80":"border-gray-200 bg-white"} shadow-2xl shadow-orange-500/10 p-6 sm:p-10 space-y-8`;let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-orange-400",children:"Policy"}),u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold",children:"Cancellation & Refund Policy"})]}),e[1]=c):c=e[1];let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=u.jsx("div",{className:"text-xs sm:text-sm px-3 py-2 rounded-full border border-orange-300/40 text-orange-200 bg-orange-500/10",children:"Last updated on Dec 8, 2025"}),e[2]=f):f=e[2];let m;e[3]!==r?(m=()=>r("/login"),e[3]=r,e[4]=m):m=e[4];const p=`w-12 h-12 rounded-full flex items-center justify-center transition-all ${t?"bg-slate-800 hover:bg-slate-700 text-slate-300 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-900"}`;let x;e[5]===Symbol.for("react.memo_cache_sentinel")?(x=u.jsx(To,{size:28}),e[5]=x):x=e[5];let y;e[6]!==m||e[7]!==p?(y=u.jsxs("div",{className:"flex flex-wrap items-center gap-3 justify-between",children:[c,u.jsxs("div",{className:"flex items-center gap-3",children:[f,u.jsx("button",{onClick:m,className:p,"aria-label":"Close",children:x})]})]}),e[6]=m,e[7]=p,e[8]=y):y=e[8];const S=`text-sm sm:text-base max-w-3xl ${t?"text-slate-200":"text-slate-700"}`;let N;e[9]!==S?(N=u.jsx("p",{className:S,children:"Our beverages are made fresh. This policy explains when cancellations or refunds are possible."}),e[9]=S,e[10]=N):N=e[10];let j;e[11]!==N||e[12]!==y?(j=u.jsxs("header",{className:"space-y-2",children:[y,N]}),e[11]=N,e[12]=y,e[13]=j):j=e[13];let _;e[14]===Symbol.for("react.memo_cache_sentinel")?(_=u.jsxs("div",{className:"grid gap-6",children:[u.jsx(G0,{title:"Before preparation starts",children:"You may cancel an order before preparation begins. If cancellation is accepted, we will reverse the charge to your original payment method."}),u.jsx(G0,{title:"After preparation starts",children:"Once brewing or preparation starts, cancellation is generally not possible due to the perishable nature of tea and coffee."}),u.jsx(G0,{title:"Quality issues",children:"If you receive an incorrect item or find a quality issue, please report it to the counter team or contact us at 8056672405 or customercare@prithvimail.com within the same day. If verified, we can replace the item or issue a refund at our discretion."}),u.jsx(G0,{title:"Refund timelines",children:"Approved refunds are initiated within 1-2 business days. The time for the amount to reflect depends on your bank or payment provider."}),u.jsx(G0,{title:"Contact",children:"For any refund or cancellation queries, reach us at 8056672405 or customercare@prithvimail.com, or visit us at 5/178 D Mangalam Road, Sultanpettai Mangalam, Vamjipalayam, Tirupur, Coimbatore, Tamil Nadu 641603."})]}),e[14]=_):_=e[14];let T;e[15]===Symbol.for("react.memo_cache_sentinel")?(T=u.jsx(Ii,{to:"/policies/shipping",className:"px-4 py-3 rounded-xl bg-orange-400 text-slate-950 font-semibold shadow-lg shadow-orange-500/30 hover:translate-y-[-1px] transition-transform",children:"Delivery & Pickup"}),e[15]=T):T=e[15];const I=`px-4 py-3 rounded-xl border ${t?"border-slate-700 text-slate-200 hover:border-orange-300":"border-gray-300 text-gray-800 hover:border-gray-500"} transition-all`;let R;e[16]!==I?(R=u.jsxs("div",{className:"flex flex-wrap gap-3",children:[T,u.jsx(Ii,{to:"/policies/terms",className:I,children:"Terms & Conditions"})]}),e[16]=I,e[17]=R):R=e[17];let F;e[18]!==j||e[19]!==R||e[20]!==i?(F=u.jsxs("div",{className:"relative max-w-5xl mx-auto px-4 sm:px-6 pt-10 sm:pt-14",children:[a,u.jsxs("div",{className:i,children:[j,_,R]})]}),e[18]=j,e[19]=R,e[20]=i,e[21]=F):F=e[21];let G;return e[22]!==n||e[23]!==F?(G=u.jsx(no,{children:u.jsx("div",{className:n,children:F})}),e[22]=n,e[23]=F,e[24]=G):G=e[24],G},W0=e=>{const t=Ia.c(9),{title:r,children:n,isDark:a}=e,i=`text-lg sm:text-xl font-semibold ${a?"text-sky-300":"text-sky-600"}`;let c;t[0]!==i||t[1]!==r?(c=u.jsx("h2",{className:i,children:r}),t[0]=i,t[1]=r,t[2]=c):c=t[2];const f=`text-sm sm:text-base leading-relaxed ${a?"text-slate-200":"text-slate-700"}`;let m;t[3]!==n||t[4]!==f?(m=u.jsx("div",{className:f,children:n}),t[3]=n,t[4]=f,t[5]=m):m=t[5];let p;return t[6]!==c||t[7]!==m?(p=u.jsxs("section",{className:"space-y-3",children:[c,m]}),t[6]=c,t[7]=m,t[8]=p):p=t[8],p},Eie=()=>{const e=Ia.c(28),{isDark:t}=bi(),r=Ha(),n=`min-h-screen ${t?"bg-slate-950":"bg-slate-100"} pb-16`;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx("div",{className:"absolute inset-0 max-w-3xl bg-gradient-to-br from-sky-400/15 via-blue-400/10 to-indigo-400/10 blur-3xl pointer-events-none"}),e[0]=a):a=e[0];const i=`relative rounded-3xl border ${t?"border-slate-800 bg-slate-900/80":"border-gray-200 bg-white"} shadow-2xl shadow-sky-500/10 p-6 sm:p-10 space-y-8`;let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-sky-300",children:"Policy"}),u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold",children:"Delivery & Pickup Policy"})]}),e[1]=c):c=e[1];let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=u.jsx("div",{className:"text-xs sm:text-sm px-3 py-2 rounded-full border border-sky-300/40 text-sky-200 bg-sky-500/10",children:"Last updated on Dec 8, 2025"}),e[2]=f):f=e[2];let m;e[3]!==r?(m=()=>r("/login"),e[3]=r,e[4]=m):m=e[4];const p=`w-12 h-12 rounded-full flex items-center justify-center transition-all ${t?"bg-slate-800 hover:bg-slate-700 text-slate-300 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-900"}`;let x;e[5]===Symbol.for("react.memo_cache_sentinel")?(x=u.jsx(To,{size:28}),e[5]=x):x=e[5];let y;e[6]!==m||e[7]!==p?(y=u.jsxs("div",{className:"flex flex-wrap items-center gap-3 justify-between",children:[c,u.jsxs("div",{className:"flex items-center gap-3",children:[f,u.jsx("button",{onClick:m,className:p,"aria-label":"Close",children:x})]})]}),e[6]=m,e[7]=p,e[8]=y):y=e[8];const S=`text-sm sm:text-base max-w-3xl ${t?"text-slate-200":"text-slate-700"}`;let N;e[9]!==S?(N=u.jsx("p",{className:S,children:"We primarily serve fresh tea and coffee within the campus/office premises. This policy explains how pickup and any on-premise delivery works."}),e[9]=S,e[10]=N):N=e[10];let j;e[11]!==N||e[12]!==y?(j=u.jsxs("header",{className:"space-y-2",children:[y,N]}),e[11]=N,e[12]=y,e[13]=j):j=e[13];let _;e[14]===Symbol.for("react.memo_cache_sentinel")?(_=u.jsx(W0,{title:"Service area",children:"Orders are prepared at our canteen and are available for pickup at the designated counter. If delivery is offered, it is limited to the approved campus/office area only."}),e[14]=_):_=e[14];let T;e[15]===Symbol.for("react.memo_cache_sentinel")?(T=u.jsx(W0,{title:"Timelines",children:u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Most beverage orders are ready within a few minutes during operating hours."}),u.jsx("li",{children:"Estimated ready times shown in the app are indicative and can vary with demand."}),u.jsx("li",{children:"Delays due to factors beyond our control (e.g., equipment issues) will be communicated where possible."})]})}),e[15]=T):T=e[15];let I;e[16]===Symbol.for("react.memo_cache_sentinel")?(I=u.jsx(W0,{title:"Pickup",children:u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Present your order ID or show the app screen at the counter to collect."}),u.jsx("li",{children:"Please collect promptly to enjoy the beverage at its best temperature and quality."})]})}),e[16]=I):I=e[16];let R;e[17]===Symbol.for("react.memo_cache_sentinel")?(R=u.jsxs("div",{className:"grid gap-6",children:[_,T,I,u.jsx(W0,{title:"Delivery (if enabled)",children:u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Delivery is subject to staff availability and may pause during peak times."}),u.jsx("li",{children:"Ensure accurate location instructions; we are not responsible for delays caused by incorrect details."}),u.jsx("li",{children:"Risk passes to you upon handover at the provided location."})]})}),u.jsx(W0,{title:"Contact",children:"For delivery or pickup questions, contact 8056672405 or customercare@prithvimail.com, or visit us at 5/178 D Mangalam Road, Sultanpettai Mangalam, Vamjipalayam, Tirupur, Coimbatore, Tamil Nadu 641603."})]}),e[17]=R):R=e[17];let F;e[18]===Symbol.for("react.memo_cache_sentinel")?(F=u.jsx(Ii,{to:"/policies/terms",className:"px-4 py-3 rounded-xl bg-sky-400 text-slate-950 font-semibold shadow-lg shadow-sky-500/30 hover:translate-y-[-1px] transition-transform",children:"Back to Terms"}),e[18]=F):F=e[18];const G=`px-4 py-3 rounded-xl border ${t?"border-slate-700 text-slate-200 hover:border-sky-300":"border-gray-300 text-gray-800 hover:border-gray-500"} transition-all`;let Y;e[19]!==G?(Y=u.jsxs("div",{className:"flex flex-wrap gap-3",children:[F,u.jsx(Ii,{to:"/policies/refund",className:G,children:"Refund Policy"})]}),e[19]=G,e[20]=Y):Y=e[20];let J;e[21]!==j||e[22]!==Y||e[23]!==i?(J=u.jsxs("div",{className:"relative max-w-5xl mx-auto px-4 sm:px-6 pt-10 sm:pt-14",children:[a,u.jsxs("div",{className:i,children:[j,R,Y]})]}),e[21]=j,e[22]=Y,e[23]=i,e[24]=J):J=e[24];let V;return e[25]!==n||e[26]!==J?(V=u.jsx(no,{children:u.jsx("div",{className:n,children:J})}),e[25]=n,e[26]=J,e[27]=V):V=e[27],V},Cie=()=>{var N;const e=Ha(),{isDark:t}=bi(),[r,n]=M.useState({items:[],stats:{total_orders:0,total_items:0}}),[a,i]=M.useState(!0),[c,f]=M.useState(new Date),[m,p]=M.useState(null),x=M.useRef(new Date),y=async()=>{try{await Ut.post("/auth/logout")}catch(j){console.error("Logout error:",j)}finally{localStorage.removeItem("kitchenToken"),localStorage.removeItem("kitchenUser"),e("/kitchen/login")}},S=M.useCallback(async(j=!1)=>{var _;try{j&&i(!0);const T=localStorage.getItem("kitchenUser"),I=T?JSON.parse(T):null;if(!I){e("/kitchen/login");return}p(I);const R=new URLSearchParams;R.append("limit","500");const F=await Ut.get(`/kitchen/today?${R.toString()}`);F.data&&(n({items:F.data.items||[],stats:{total_orders:F.data.total_orders||0,total_items:F.data.total_items||0,last_updated:F.data.last_updated}}),x.current=new Date)}catch(T){console.error("Failed to fetch kitchen data:",T),((_=T.response)==null?void 0:_.status)===401&&e("/kitchen/login")}finally{j&&i(!1)}},[e]);return M.useEffect(()=>{if(!localStorage.getItem("kitchenToken")){e("/kitchen/login");return}S(!0);const _=setInterval(()=>S(!1),1e4),T=setInterval(()=>f(new Date),1e3);return()=>{clearInterval(_),clearInterval(T)}},[S,e]),a?u.jsx("div",{className:"min-h-screen bg-[var(--surface-main)] flex items-center justify-center",children:u.jsx(qs,{})}):u.jsxs("div",{className:"min-h-screen bg-[var(--surface-main)] text-[var(--text-primary)] p-4 sm:p-6 lg:p-8",children:[u.jsxs("div",{className:"max-w-[1600px] mx-auto",children:[u.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6 mb-10 bg-[var(--surface-card)] p-6 rounded-[2.5rem] border border-[var(--border-default)] shadow-xl relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[var(--brand-primary)]/5 rounded-full blur-3xl -mr-32 -mt-32"}),u.jsxs("div",{className:"flex items-center gap-5 relative z-10",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[var(--brand-primary)] to-[var(--brand-secondary)] rounded-2xl flex items-center justify-center text-white shadow-xl",children:u.jsx(bd,{size:32})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-black uppercase tracking-tighter leading-none mb-1",children:"Kitchen Monitor"}),u.jsxs("p",{className:"text-xs font-black text-[var(--text-secondary)] uppercase tracking-[0.3em] opacity-60",children:[((N=m==null?void 0:m.unit)==null?void 0:N.name)||"Unit Access","  ",c.toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[u.jsxs("div",{className:"hidden md:flex items-center gap-8 px-8 border-r border-[var(--border-default)]",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[10px] font-black uppercase text-[var(--text-secondary)] opacity-40 mb-1",children:"Total Orders"}),u.jsx("p",{className:"text-3xl font-black text-[var(--text-primary)]",children:r.stats.total_orders})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[10px] font-black uppercase text-[var(--text-secondary)] opacity-40 mb-1",children:"Total Items"}),u.jsx("p",{className:"text-3xl font-black text-[var(--brand-primary)]",children:r.stats.total_items})]})]}),u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsx("div",{className:"text-3xl font-black text-[var(--brand-primary)] tabular-nums leading-none tracking-tighter",children:c.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),u.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-[var(--text-secondary)] opacity-40",children:"Live Sync Active"})]})]})]})]}),u.jsx("div",{className:"space-y-4",children:r.items.length===0?u.jsxs("div",{className:"bg-[var(--surface-card)] rounded-[2.5rem] border-2 border-dashed border-[var(--border-default)] p-24 text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-[var(--surface-muted)] rounded-3xl flex items-center justify-center mx-auto mb-8",children:u.jsx(Zo,{size:40,className:"text-[var(--text-secondary)] opacity-20 animate-spin-slow"})}),u.jsx("h3",{className:"text-2xl font-black text-[var(--text-primary)] uppercase tracking-tight mb-2",children:"No Active Items"}),u.jsx("p",{className:"text-[var(--text-secondary)] font-medium max-w-sm mx-auto uppercase text-xs tracking-widest opacity-60",children:"All items have been processed for today or no orders have been placed yet."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.items.map(j=>u.jsxs("div",{className:"group relative bg-[var(--surface-card)] rounded-[2rem] border border-[var(--border-default)] p-6 shadow-sm hover:shadow-xl transition-all duration-300 hover:scale-[1.02] flex flex-col justify-between overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-[var(--brand-primary)]/5 rounded-full blur-2xl -mr-8 -mt-8 transition-opacity group-hover:opacity-100"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"flex justify-between items-start mb-4",children:u.jsx("span",{className:"inline-block px-3 py-1 rounded-lg bg-[var(--surface-muted)] border border-[var(--border-default)] text-[10px] font-black uppercase tracking-widest text-[var(--text-secondary)]",children:j.category||"Food"})}),u.jsx("h3",{className:"text-2xl font-black text-[var(--text-primary)] mb-1 leading-tight line-clamp-2",children:j.name})]}),u.jsxs("div",{className:"mt-6 flex items-end justify-between relative z-10 border-t border-[var(--border-default)] pt-4",children:[u.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--text-secondary)] opacity-50",children:"Prepare"}),u.jsx("div",{className:"text-4xl font-black text-[var(--brand-primary)] tabular-nums leading-none",children:j.quantity})]})]},j.id))})}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-[var(--surface-card)]/95 backdrop-blur-xl border-t border-[var(--border-default)] px-6 py-4 z-50 transition-all duration-300",children:u.jsxs("div",{className:"max-w-[1600px] mx-auto flex flex-col md:flex-row items-center justify-between gap-4",children:[u.jsx("div",{className:"flex items-center w-full md:w-auto justify-center md:justify-start order-2 md:order-1",children:u.jsxs("button",{onClick:y,className:"group flex items-center gap-2 text-rose-500 hover:text-rose-600 transition-colors",children:[u.jsx("div",{className:"p-2 rounded-xl bg-rose-500/10 group-hover:bg-rose-500/20 transition-colors",children:u.jsx(Z5,{size:20})}),u.jsx("span",{className:"font-bold text-xs uppercase tracking-widest hidden sm:block",children:"Logout"})]})}),u.jsxs("div",{className:"flex items-center gap-3 order-3 md:order-2 opacity-80 hover:opacity-100 transition-opacity",children:[u.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-[var(--text-secondary)]",children:"Powered by"}),u.jsx("img",{src:t?Q5:zg,alt:"XTOWN",className:"h-5 object-contain"})]}),u.jsxs("div",{className:"flex items-center gap-6 w-full md:w-auto justify-center md:justify-end order-1 md:order-3",children:[u.jsxs("div",{className:"hidden sm:flex items-center gap-4 text-[10px] font-bold uppercase tracking-widest text-[var(--text-secondary)]",children:[u.jsx(Ii,{to:"/policies/terms",className:"hover:text-[var(--brand-primary)] transition-colors",children:"Terms"}),u.jsx(Ii,{to:"/policies/privacy",className:"hover:text-[var(--brand-primary)] transition-colors",children:"Privacy"}),u.jsx(Ii,{to:"/policies/refund",className:"hover:text-[var(--brand-primary)] transition-colors",children:"Refund"}),u.jsx(Ii,{to:"/policies/shipping",className:"hover:text-[var(--brand-primary)] transition-colors",children:"Shipping"})]}),u.jsx("div",{className:"h-8 w-px bg-[var(--border-default)] hidden sm:block"}),u.jsx(J5,{variant:"inline"})]})]})})]}),u.jsx("div",{className:"h-24"})]})},_ie="/assets/cb3f7d4d-4200-415d-b74f-4c917bca1a00-5dgGtofq.jpg",jie=()=>{const e=Ha(),[t,r]=M.useState({username:"",password:""}),[n,a]=M.useState(!1),[i,c]=M.useState(!1),[f,m]=M.useState(""),p=y=>{r({...t,[y.target.name]:y.target.value}),m("")},x=async y=>{var S,N;y.preventDefault(),c(!0),m("");try{const j=await Ut.post("/auth/login",t);(j.data.success||j.data.token)&&(localStorage.setItem("kitchenToken",j.data.token),localStorage.setItem("kitchenUser",JSON.stringify(j.data.user)),e("/kitchen"))}catch(j){m(((N=(S=j.response)==null?void 0:S.data)==null?void 0:N.message)||"Authentication Failed")}finally{c(!1)}};return u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-start relative overflow-hidden font-sans selection:bg-orange-500/30",style:{backgroundImage:`url(${_ie})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[u.jsx("div",{className:"absolute inset-0 bg-transparent pointer-events-none"}),u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_70%_50%,transparent_0%,rgba(0,0,0,0.2)_100%)] pointer-events-none"}),u.jsx("div",{className:"absolute top-[40%] right-[3%] sm:right-[5%] w-full max-w-[380px] px-4 z-20 animate-in fade-in zoom-in slide-in-from-right-10 duration-1000",children:u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-orange-600/20 to-amber-600/20 rounded-[2.5rem] blur-2xl group-hover:blur-3xl transition-all duration-1000 opacity-50"}),u.jsxs("div",{className:"relative bg-[#080808]/90 backdrop-blur-3xl rounded-[2.5rem] shadow-[0_50px_100px_-20px_rgba(0,0,0,0.6)] border border-white/[0.08] p-6 sm:p-8 overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white/10 to-transparent"}),u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"p-1 rounded-2xl border border-white/20 shadow-[0_0_20px_rgba(255,255,255,0.05)] overflow-hidden",children:u.jsx("img",{src:Lm,alt:"Prithvi Logo",className:"w-24 h-auto object-contain"})})}),u.jsx("h1",{className:"text-lg sm:text-xl font-black text-white uppercase tracking-[0.15em] mb-1 flex justify-center flex-wrap gap-x-2",children:"Welcome To Kitchen".split(" ").map((y,S,N)=>{const j=N.slice(0,S).join(" ").length+(S>0?1:0);return u.jsx("span",{className:"inline-block whitespace-nowrap",children:y.split("").map((_,T)=>u.jsx("span",{className:"inline-block animate-letter-pop opacity-0",style:{animationDelay:`${(j+T)*40}ms`,animationFillMode:"forwards"},children:_},T))},S)})}),u.jsx("style",{dangerouslySetInnerHTML:{__html:`
                                @keyframes letter-pop {
                                    0% {
                                        opacity: 0;
                                        transform: translateY(10px) scale(0.5);
                                        filter: blur(10px);
                                    }
                                    100% {
                                        opacity: 1;
                                        transform: translateY(0) scale(1);
                                        filter: blur(0);
                                    }
                                }
                                .animate-letter-pop {
                                    animation: letter-pop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
                                }
                            `}}),u.jsx("p",{className:"text-[11px] font-black text-zinc-500 uppercase tracking-[0.4em] animate-pulse",children:"Login"})]}),f&&u.jsx("div",{className:"mb-8 p-4 bg-red-500/10 border-l-4 border-red-500 rounded-lg text-red-500 text-[11px] font-black uppercase tracking-wider animate-in fade-in slide-in-from-top-4",children:f}),u.jsxs("form",{onSubmit:x,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"relative group/input",children:[u.jsx(pf,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-white/80 group-focus-within/input:text-white transition-all duration-300",size:18}),u.jsx("input",{type:"text",name:"username",value:t.username,onChange:p,placeholder:"USER NAME",required:!0,className:"w-full px-14 py-3.5 rounded-2xl border border-white/[0.03] bg-[#0a0a0a] text-white focus:outline-none focus:ring-2 focus:ring-white/10 focus:border-white/20 transition-all duration-300 font-bold text-xs tracking-[0.1em] placeholder:text-zinc-500 placeholder:font-black text-center"})]}),u.jsxs("div",{className:"relative group/input",children:[u.jsx(lB,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-white/80 group-focus-within/input:text-white transition-all duration-300",size:18}),u.jsx("input",{type:n?"text":"password",name:"password",value:t.password,onChange:p,placeholder:"PASSWORD",required:!0,className:"w-full px-14 py-3.5 rounded-2xl border border-white/[0.03] bg-[#0a0a0a] text-white focus:outline-none focus:ring-2 focus:ring-white/10 focus:border-white/20 transition-all duration-300 font-bold text-xs tracking-[0.1em] placeholder:text-zinc-500 placeholder:font-black text-center"}),u.jsx("button",{type:"button",onClick:()=>a(!n),className:"absolute right-5 top-1/2 -translate-y-1/2 text-white/60 hover:text-white transition-colors duration-300",children:n?u.jsx(Fh,{size:18}):u.jsx(zh,{size:18})})]})]}),u.jsx("button",{type:"submit",disabled:i,className:`group/btn relative w-full py-3.5 rounded-2xl flex items-center justify-center gap-3 transition-all duration-500 active:scale-[0.98] ${i?"bg-zinc-900 text-zinc-700 cursor-not-allowed border border-white/5":"bg-white text-black hover:bg-orange-500 hover:text-white overflow-hidden"}`,children:i?u.jsx("div",{className:"w-5 h-5 border-2 border-zinc-800 border-t-zinc-400 rounded-full animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"absolute inset-0 w-1/2 h-full bg-gradient-to-r from-transparent via-white/20 to-transparent -skew-x-12 -translate-x-full group-hover/btn:translate-x-[250%] transition-transform duration-1000 ease-in-out pointer-events-none"}),u.jsx("span",{className:"font-black uppercase tracking-[0.3em] text-[12px]",children:"LOGIN"}),u.jsx(Ql,{size:18,className:"translate-x-0 group-hover/btn:translate-x-1 transition-transform"})]})})]}),u.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 pt-4 border-t border-white/[0.03]",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),u.jsx("p",{className:"text-[9px] text-zinc-600 font-bold uppercase tracking-[0.4em]",children:"Terminal Active  v2.0"})]})]})]})}),u.jsx("div",{className:"absolute bottom-10 left-10 pointer-events-none opacity-20",children:u.jsx("p",{className:"text-[10px] text-white font-black uppercase tracking-[0.8em] vertical-text",children:"Kitchen Control Unit"})})]})},Oie=()=>{const e=Ia.c(10),[t,r]=M.useState(null),[n,a]=M.useState(!1);let i,c;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{if(window.matchMedia("(display-mode: standalone)").matches||localStorage.getItem("installPromptDismissed"))return;const _=T=>{T.preventDefault(),r(T),a(!0)};return window.addEventListener("beforeinstallprompt",_),()=>{window.removeEventListener("beforeinstallprompt",_)}},c=[],e[0]=i,e[1]=c):(i=e[0],c=e[1]),M.useEffect(i,c);let f;e[2]!==t?(f=async()=>{if(!t)return;t.prompt();const{outcome:_}=await t.userChoice;console.log(_==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),r(null),a(!1)},e[2]=t,e[3]=f):f=e[3];const m=f;let p;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{a(!1),localStorage.setItem("installPromptDismissed","true")},e[4]=p):p=e[4];const x=p;if(!n)return null;let y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y=u.jsx("div",{className:"w-12 h-12 rounded-xl bg-[var(--brand-primary)]/10 flex items-center justify-center shrink-0 text-[var(--brand-primary)]",children:u.jsx(Hj,{size:24})}),e[5]=y):y=e[5];let S;e[6]===Symbol.for("react.memo_cache_sentinel")?(S=u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-bold text-[var(--text-primary)] text-sm",children:"Install App"}),u.jsx("p",{className:"text-xs text-[var(--text-secondary)] leading-tight mt-0.5",children:"Install CMS for a better experience."})]}),e[6]=S):S=e[6];let N;e[7]===Symbol.for("react.memo_cache_sentinel")?(N=u.jsx("button",{onClick:x,className:"p-2 text-[var(--text-secondary)] hover:bg-[var(--surface-muted)] rounded-lg transition-colors",children:u.jsx(To,{size:18})}),e[7]=N):N=e[7];let j;return e[8]!==m?(j=u.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-8 md:bottom-8 z-[9999] animate-in slide-in-from-bottom-5 fade-in duration-300",children:u.jsxs("div",{className:"bg-[var(--surface-card)] dark:bg-zinc-900 border-2 border-[var(--brand-primary)] rounded-2xl shadow-2xl p-4 flex items-center gap-4 max-w-sm w-full mx-auto backdrop-blur-md",children:[y,S,u.jsxs("div",{className:"flex items-center gap-2",children:[N,u.jsx("button",{onClick:m,className:"bg-[var(--brand-primary)] hover:bg-[#e6b533] text-black text-xs font-bold px-4 py-2 rounded-xl shadow-lg shadow-orange-500/20 transition-all active:scale-95",children:"Install"})]})]})}),e[8]=m,e[9]=j):j=e[9],j},Tie=()=>{var q;const e=Ia.c(30),{user:t}=$i();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=u.jsx(Wn,{path:"/login",element:u.jsx(SB,{})}),e[0]=r):r=e[0];let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=u.jsx(Wn,{path:"/kiosk/products",element:u.jsx(Ti,{children:u.jsx(Fp,{children:u.jsx(EB,{})})})}),e[1]=n):n=e[1];let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx(Wn,{path:"/kiosk/calendar",element:u.jsx(Ti,{children:u.jsx(Fp,{children:u.jsx(CB,{})})})}),e[2]=a):a=e[2];let i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=u.jsx(Wn,{path:"/kiosk/payment",element:u.jsx(Ti,{children:u.jsx(Fp,{children:u.jsx(_B,{})})})}),e[3]=i):i=e[3];let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsx(Wn,{path:"/kiosk/success",element:u.jsx(Ti,{children:u.jsx(Fp,{children:u.jsx(jB,{})})})}),e[4]=c):c=e[4];let f;e[5]===Symbol.for("react.memo_cache_sentinel")?(f=u.jsx(Wn,{path:"/admin/dashboard",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(Sae,{})})}),e[5]=f):f=e[5];let m;e[6]===Symbol.for("react.memo_cache_sentinel")?(m=u.jsx(Wn,{path:"/policies/terms",element:u.jsx(Aie,{})}),e[6]=m):m=e[6];let p;e[7]===Symbol.for("react.memo_cache_sentinel")?(p=u.jsx(Wn,{path:"/policies/privacy",element:u.jsx(Nie,{})}),e[7]=p):p=e[7];let x;e[8]===Symbol.for("react.memo_cache_sentinel")?(x=u.jsx(Wn,{path:"/policies/refund",element:u.jsx(Sie,{})}),e[8]=x):x=e[8];let y;e[9]===Symbol.for("react.memo_cache_sentinel")?(y=u.jsx(Wn,{path:"/policies/shipping",element:u.jsx(Eie,{})}),e[9]=y):y=e[9];let S;e[10]===Symbol.for("react.memo_cache_sentinel")?(S=u.jsx(Wn,{path:"/kitchen/login",element:u.jsx(jie,{})}),e[10]=S):S=e[10];let N;e[11]===Symbol.for("react.memo_cache_sentinel")?(N=u.jsx(Wn,{path:"/kitchen",element:u.jsx(Cie,{})}),e[11]=N):N=e[11];let j;e[12]===Symbol.for("react.memo_cache_sentinel")?(j=u.jsx(Wn,{path:"/admin/products",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(Eae,{})})}),e[12]=j):j=e[12];let _;e[13]===Symbol.for("react.memo_cache_sentinel")?(_=u.jsx(Wn,{path:"/admin/units",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(Cae,{})})}),e[13]=_):_=e[13];let T;e[14]===Symbol.for("react.memo_cache_sentinel")?(T=u.jsx(Wn,{path:"/admin/logs",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(_ae,{})})}),e[14]=T):T=e[14];let I;e[15]===Symbol.for("react.memo_cache_sentinel")?(I=u.jsx(Wn,{path:"/admin/meal-scheduler",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(xie,{})})}),e[15]=I):I=e[15];let R;e[16]===Symbol.for("react.memo_cache_sentinel")?(R=u.jsx(Wn,{path:"/admin/users",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(jae,{})})}),e[16]=R):R=e[16];let F;e[17]===Symbol.for("react.memo_cache_sentinel")?(F=u.jsx(Wn,{path:"/admin/AdminCheckout",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(gie,{})})}),e[17]=F):F=e[17];let G;e[18]===Symbol.for("react.memo_cache_sentinel")?(G=u.jsx(Wn,{path:"/admin/reports",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(wie,{})})}),e[18]=G):G=e[18];let Y;e[19]===Symbol.for("react.memo_cache_sentinel")?(Y=u.jsx(Wn,{path:"/admin/employees",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(vie,{})})}),e[19]=Y):Y=e[19];let J;e[20]===Symbol.for("react.memo_cache_sentinel")?(J=u.jsx(Wn,{path:"/admin/add-employee",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(yie,{})})}),e[20]=J):J=e[20];let V;e[21]===Symbol.for("react.memo_cache_sentinel")?(V=u.jsx(Wn,{path:"/admin/edit-employee/:id",element:u.jsx(Ti,{requireAdmin:!0,children:u.jsx(bie,{})})}),e[21]=V):V=e[21];let $;e[22]===Symbol.for("react.memo_cache_sentinel")?($=u.jsx(Wn,{path:"/kiosk/my-orders",element:u.jsx(Ti,{children:u.jsx(uS,{layout:no})})}),e[22]=$):$=e[22];let W;e[23]===Symbol.for("react.memo_cache_sentinel")?(W=u.jsx(Wn,{path:"/kiosk/my-orders/:orderId",element:u.jsx(Ti,{children:u.jsx(dS,{layout:no})})}),e[23]=W):W=e[23];let Ne;e[24]===Symbol.for("react.memo_cache_sentinel")?(Ne=u.jsx(Wn,{path:"/kiosk/meal-plan",element:u.jsx(Ti,{children:u.jsx(TB,{})})}),e[24]=Ne):Ne=e[24];let Z;e[25]===Symbol.for("react.memo_cache_sentinel")?(Z=u.jsx(Wn,{path:"/admin/my-orders",element:u.jsx(Ti,{children:u.jsx(uS,{layout:ci})})}),e[25]=Z):Z=e[25];let Q;e[26]===Symbol.for("react.memo_cache_sentinel")?(Q=u.jsx(Wn,{path:"/admin/my-orders/:orderId",element:u.jsx(Ti,{children:u.jsx(dS,{layout:ci})})}),e[26]=Q):Q=e[26];let me;e[27]===Symbol.for("react.memo_cache_sentinel")?(me=u.jsx(Wn,{path:"/admin/login",element:u.jsx(fd,{to:"/login",replace:!0})}),e[27]=me):me=e[27];let re;return e[28]!==t?(re=u.jsxs(WL,{children:[r,n,a,i,c,f,m,p,x,y,S,N,j,_,T,I,R,F,G,Y,J,V,$,W,Ne,Z,Q,me,u.jsx(Wn,{path:"/",element:t?["admin","unit_admin"].includes((q=t.role)==null?void 0:q.toLowerCase())?u.jsx(fd,{to:"/admin/dashboard",replace:!0}):u.jsx(fd,{to:"/kiosk/products",replace:!0}):u.jsx(fd,{to:"/login",replace:!0})})]}),e[28]=t,e[29]=re):re=e[29],re};function kie(){const e=Ia.c(4);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0],M.useEffect(Iie,t);let r,n;e[1]===Symbol.for("react.memo_cache_sentinel")?(r=u.jsx(QR,{}),n=u.jsx(Oie,{}),e[1]=r,e[2]=n):(r=e[1],n=e[2]);let a;return e[3]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsxs(I9,{children:[r,n,u.jsx(JL,{children:u.jsx(Tie,{})})]}),e[3]=a):a=e[3],a}function Iie(){const e=Die;return document.addEventListener("contextmenu",e),()=>{document.removeEventListener("contextmenu",e)}}function Die(e){return e.preventDefault(),!1}ZM.createRoot(document.getElementById("root")).render(u.jsx(M.StrictMode,{children:u.jsx(xB,{children:u.jsx(kie,{})})}));export{Zn as _,Rp as c,Dc as g};
